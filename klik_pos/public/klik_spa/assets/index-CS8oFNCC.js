var Dk=Object.defineProperty,Ik=Object.defineProperties;var Lk=Object.getOwnPropertyDescriptors;var hf=Object.getOwnPropertySymbols;var Uv=Object.prototype.hasOwnProperty,Fv=Object.prototype.propertyIsEnumerable;var Nc=(e,r)=>(r=Symbol[e])?r:Symbol.for("Symbol."+e),mg=e=>{throw TypeError(e)},zv=Math.pow,hg=(e,r,t)=>r in e?Dk(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Y=(e,r)=>{for(var t in r||(r={}))Uv.call(r,t)&&hg(e,t,r[t]);if(hf)for(var t of hf(r))Fv.call(r,t)&&hg(e,t,r[t]);return e},je=(e,r)=>Ik(e,Lk(r));var hr=(e,r)=>{var t={};for(var s in e)Uv.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&hf)for(var s of hf(e))r.indexOf(s)<0&&Fv.call(e,s)&&(t[s]=e[s]);return t};var Uk=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var gg=(e,r,t)=>hg(e,typeof r!="symbol"?r+"":r,t),pg=(e,r,t)=>r.has(e)||mg("Cannot "+t);var nt=(e,r,t)=>(pg(e,r,"read from private field"),t?t.call(e):r.get(e)),Ur=(e,r,t)=>r.has(e)?mg("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),gr=(e,r,t,s)=>(pg(e,r,"write to private field"),s?s.call(e,t):r.set(e,t),t),cn=(e,r,t)=>(pg(e,r,"access private method"),t);var mf=(e,r,t,s)=>({set _(o){gr(e,r,o,t)},get _(){return nt(e,r,s)}});var Ne=(e,r,t)=>new Promise((s,o)=>{var l=f=>{try{u(t.next(f))}catch(m){o(m)}},c=f=>{try{u(t.throw(f))}catch(m){o(m)}},u=f=>f.done?s(f.value):Promise.resolve(f.value).then(l,c);u((t=t.apply(e,r)).next())}),ml=function(e,r){this[0]=e,this[1]=r},yg=(e,r,t)=>{var s=(c,u,f,m)=>{try{var p=t[c](u),_=(u=p.value)instanceof ml,j=p.done;Promise.resolve(_?u[0]:u).then(C=>_?s(c==="return"?c:"next",u[1]?{done:C.done,value:C.value}:C,f,m):f({value:C,done:j})).catch(C=>s("throw",C,f,m))}catch(C){m(C)}},o=c=>l[c]=u=>new Promise((f,m)=>s(c,u,f,m)),l={};return t=t.apply(e,r),l[Nc("asyncIterator")]=()=>l,o("next"),o("throw"),o("return"),l},xg=e=>{var r=e[Nc("asyncIterator")],t=!1,s,o={};return r==null?(r=e[Nc("iterator")](),s=l=>o[l]=c=>r[l](c)):(r=r.call(e),s=l=>o[l]=c=>{if(t){if(t=!1,l==="throw")throw c;return c}return t=!0,{done:!1,value:new ml(new Promise(u=>{var f=r[l](c);f instanceof Object||mg("Object expected"),u(f)}),1)}}),o[Nc("iterator")]=()=>o,s("next"),"throw"in r?s("throw"):o.throw=l=>{throw l},"return"in r&&s("return"),o},Bv=(e,r,t)=>(r=e[Nc("asyncIterator")])?r.call(e):(e=e[Nc("iterator")](),r={},t=(s,o)=>(o=e[s])&&(r[s]=l=>new Promise((c,u,f)=>(l=o.call(e,l),f=l.done,Promise.resolve(l.value).then(m=>c({value:m,done:f}),u)))),t("next"),t("return"),r);var JD=Uk(qa=>{function Fk(e,r){for(var t=0;t<r.length;t++){const s=r[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Dl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bg={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function zk(){if(qv)return ou;qv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var u in o)u!=="key"&&(l[u]=o[u])}else l=o;return o=l.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:l}}return ou.Fragment=r,ou.jsx=t,ou.jsxs=t,ou}var Hv;function Bk(){return Hv||(Hv=1,bg.exports=zk()),bg.exports}var a=Bk(),vg={exports:{}},xr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function qk(){if(Gv)return xr;Gv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function j(W){return W===null||typeof W!="object"?null:(W=_&&W[_]||W["@@iterator"],typeof W=="function"?W:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,$={};function O(W,z,ae){this.props=W,this.context=z,this.refs=$,this.updater=ae||C}O.prototype.isReactComponent={},O.prototype.setState=function(W,z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,z,"setState")},O.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=O.prototype;function q(W,z,ae){this.props=W,this.context=z,this.refs=$,this.updater=ae||C}var H=q.prototype=new P;H.constructor=q,T(H,O.prototype),H.isPureReactComponent=!0;var M=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function oe(W,z,ae,ge,ue,U){return ae=U.ref,{$$typeof:e,type:W,key:z,ref:ae!==void 0?ae:null,props:U}}function fe(W,z){return oe(W.type,z,void 0,void 0,void 0,W.props)}function X(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function le(W){var z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ae){return z[ae]})}var he=/\/+/g;function ee(W,z){return typeof W=="object"&&W!==null&&W.key!=null?le(""+W.key):z.toString(36)}function ce(){}function te(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(ce,ce):(W.status="pending",W.then(function(z){W.status==="pending"&&(W.status="fulfilled",W.value=z)},function(z){W.status==="pending"&&(W.status="rejected",W.reason=z)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function pe(W,z,ae,ge,ue){var U=typeof W;(U==="undefined"||U==="boolean")&&(W=null);var Q=!1;if(W===null)Q=!0;else switch(U){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(W.$$typeof){case e:case r:Q=!0;break;case p:return Q=W._init,pe(Q(W._payload),z,ae,ge,ue)}}if(Q)return ue=ue(W),Q=ge===""?"."+ee(W,0):ge,M(ue)?(ae="",Q!=null&&(ae=Q.replace(he,"$&/")+"/"),pe(ue,z,ae,"",function(ct){return ct})):ue!=null&&(X(ue)&&(ue=fe(ue,ae+(ue.key==null||W&&W.key===ue.key?"":(""+ue.key).replace(he,"$&/")+"/")+Q)),z.push(ue)),1;Q=0;var Ae=ge===""?".":ge+":";if(M(W))for(var Ke=0;Ke<W.length;Ke++)ge=W[Ke],U=Ae+ee(ge,Ke),Q+=pe(ge,z,ae,U,ue);else if(Ke=j(W),typeof Ke=="function")for(W=Ke.call(W),Ke=0;!(ge=W.next()).done;)ge=ge.value,U=Ae+ee(ge,Ke++),Q+=pe(ge,z,ae,U,ue);else if(U==="object"){if(typeof W.then=="function")return pe(te(W),z,ae,ge,ue);throw z=String(W),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Q}function se(W,z,ae){if(W==null)return W;var ge=[],ue=0;return pe(W,ge,"","",function(U){return z.call(ae,U,ue++)}),ge}function re(W){if(W._status===-1){var z=W._result;z=z(),z.then(function(ae){(W._status===0||W._status===-1)&&(W._status=1,W._result=ae)},function(ae){(W._status===0||W._status===-1)&&(W._status=2,W._result=ae)}),W._status===-1&&(W._status=0,W._result=z)}if(W._status===1)return W._result.default;throw W._result}var de=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function He(){}return xr.Children={map:se,forEach:function(W,z,ae){se(W,function(){z.apply(this,arguments)},ae)},count:function(W){var z=0;return se(W,function(){z++}),z},toArray:function(W){return se(W,function(z){return z})||[]},only:function(W){if(!X(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},xr.Component=O,xr.Fragment=t,xr.Profiler=o,xr.PureComponent=q,xr.StrictMode=s,xr.Suspense=f,xr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,xr.__COMPILER_RUNTIME={__proto__:null,c:function(W){return K.H.useMemoCache(W)}},xr.cache=function(W){return function(){return W.apply(null,arguments)}},xr.cloneElement=function(W,z,ae){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ge=T({},W.props),ue=W.key,U=void 0;if(z!=null)for(Q in z.ref!==void 0&&(U=void 0),z.key!==void 0&&(ue=""+z.key),z)!F.call(z,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&z.ref===void 0||(ge[Q]=z[Q]);var Q=arguments.length-2;if(Q===1)ge.children=ae;else if(1<Q){for(var Ae=Array(Q),Ke=0;Ke<Q;Ke++)Ae[Ke]=arguments[Ke+2];ge.children=Ae}return oe(W.type,ue,void 0,void 0,U,ge)},xr.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:l,_context:W},W},xr.createElement=function(W,z,ae){var ge,ue={},U=null;if(z!=null)for(ge in z.key!==void 0&&(U=""+z.key),z)F.call(z,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(ue[ge]=z[ge]);var Q=arguments.length-2;if(Q===1)ue.children=ae;else if(1<Q){for(var Ae=Array(Q),Ke=0;Ke<Q;Ke++)Ae[Ke]=arguments[Ke+2];ue.children=Ae}if(W&&W.defaultProps)for(ge in Q=W.defaultProps,Q)ue[ge]===void 0&&(ue[ge]=Q[ge]);return oe(W,U,void 0,void 0,null,ue)},xr.createRef=function(){return{current:null}},xr.forwardRef=function(W){return{$$typeof:u,render:W}},xr.isValidElement=X,xr.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:re}},xr.memo=function(W,z){return{$$typeof:m,type:W,compare:z===void 0?null:z}},xr.startTransition=function(W){var z=K.T,ae={};K.T=ae;try{var ge=W(),ue=K.S;ue!==null&&ue(ae,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(He,de)}catch(U){de(U)}finally{K.T=z}},xr.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},xr.use=function(W){return K.H.use(W)},xr.useActionState=function(W,z,ae){return K.H.useActionState(W,z,ae)},xr.useCallback=function(W,z){return K.H.useCallback(W,z)},xr.useContext=function(W){return K.H.useContext(W)},xr.useDebugValue=function(){},xr.useDeferredValue=function(W,z){return K.H.useDeferredValue(W,z)},xr.useEffect=function(W,z,ae){var ge=K.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(W,z)},xr.useId=function(){return K.H.useId()},xr.useImperativeHandle=function(W,z,ae){return K.H.useImperativeHandle(W,z,ae)},xr.useInsertionEffect=function(W,z){return K.H.useInsertionEffect(W,z)},xr.useLayoutEffect=function(W,z){return K.H.useLayoutEffect(W,z)},xr.useMemo=function(W,z){return K.H.useMemo(W,z)},xr.useOptimistic=function(W,z){return K.H.useOptimistic(W,z)},xr.useReducer=function(W,z,ae){return K.H.useReducer(W,z,ae)},xr.useRef=function(W){return K.H.useRef(W)},xr.useState=function(W){return K.H.useState(W)},xr.useSyncExternalStore=function(W,z,ae){return K.H.useSyncExternalStore(W,z,ae)},xr.useTransition=function(){return K.H.useTransition()},xr.version="19.1.0",xr}var Vv;function by(){return Vv||(Vv=1,vg.exports=qk()),vg.exports}var k=by();const Nt=Dl(k),Qw=Fk({__proto__:null,default:Nt},[k]);var wg={exports:{}},iu={},jg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function Hk(){return Kv||(Kv=1,function(e){function r(se,re){var de=se.length;se.push(re);e:for(;0<de;){var He=de-1>>>1,W=se[He];if(0<o(W,re))se[He]=re,se[de]=W,de=He;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var re=se[0],de=se.pop();if(de!==re){se[0]=de;e:for(var He=0,W=se.length,z=W>>>1;He<z;){var ae=2*(He+1)-1,ge=se[ae],ue=ae+1,U=se[ue];if(0>o(ge,de))ue<W&&0>o(U,ge)?(se[He]=U,se[ue]=de,He=ue):(se[He]=ge,se[ae]=de,He=ae);else if(ue<W&&0>o(U,de))se[He]=U,se[ue]=de,He=ue;else break e}}return re}function o(se,re){var de=se.sortIndex-re.sortIndex;return de!==0?de:se.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],p=1,_=null,j=3,C=!1,T=!1,$=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate!="undefined"?setImmediate:null;function M(se){for(var re=t(m);re!==null;){if(re.callback===null)s(m);else if(re.startTime<=se)s(m),re.sortIndex=re.expirationTime,r(f,re);else break;re=t(m)}}function K(se){if($=!1,M(se),!T)if(t(f)!==null)T=!0,F||(F=!0,ee());else{var re=t(m);re!==null&&pe(K,re.startTime-se)}}var F=!1,oe=-1,fe=5,X=-1;function le(){return O?!0:!(e.unstable_now()-X<fe)}function he(){if(O=!1,F){var se=e.unstable_now();X=se;var re=!0;try{e:{T=!1,$&&($=!1,q(oe),oe=-1),C=!0;var de=j;try{t:{for(M(se),_=t(f);_!==null&&!(_.expirationTime>se&&le());){var He=_.callback;if(typeof He=="function"){_.callback=null,j=_.priorityLevel;var W=He(_.expirationTime<=se);if(se=e.unstable_now(),typeof W=="function"){_.callback=W,M(se),re=!0;break t}_===t(f)&&s(f),M(se)}else s(f);_=t(f)}if(_!==null)re=!0;else{var z=t(m);z!==null&&pe(K,z.startTime-se),re=!1}}break e}finally{_=null,j=de,C=!1}re=void 0}}finally{re?ee():F=!1}}}var ee;if(typeof H=="function")ee=function(){H(he)};else if(typeof MessageChannel!="undefined"){var ce=new MessageChannel,te=ce.port2;ce.port1.onmessage=he,ee=function(){te.postMessage(null)}}else ee=function(){P(he,0)};function pe(se,re){oe=P(function(){se(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_next=function(se){switch(j){case 1:case 2:case 3:var re=3;break;default:re=j}var de=j;j=re;try{return se()}finally{j=de}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(se,re){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var de=j;j=se;try{return re()}finally{j=de}},e.unstable_scheduleCallback=function(se,re,de){var He=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?He+de:He):de=He,se){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=de+W,se={id:p++,callback:re,priorityLevel:se,startTime:de,expirationTime:W,sortIndex:-1},de>He?(se.sortIndex=de,r(m,se),t(f)===null&&se===t(m)&&($?(q(oe),oe=-1):$=!0,pe(K,de-He))):(se.sortIndex=W,r(f,se),T||C||(T=!0,F||(F=!0,ee()))),se},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(se){var re=j;return function(){var de=j;j=re;try{return se.apply(this,arguments)}finally{j=de}}}}(Ng)),Ng}var Wv;function Gk(){return Wv||(Wv=1,jg.exports=Hk()),jg.exports}var kg={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Vk(){if(Yv)return dn;Yv=1;var e=by();function r(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(r(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,m,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:f,containerInfo:m,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return l(f,m,null,p)},dn.flushSync=function(f){var m=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=m,s.p=p,s.d.f()}},dn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},dn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},dn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,_=u(p,m.crossOrigin),j=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:j,fetchPriority:C}):p==="script"&&s.d.X(f,{crossOrigin:_,integrity:j,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},dn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,_=u(p,m.crossOrigin);s.d.L(f,p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dn.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=u(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},dn.requestFormReset=function(f){s.d.r(f)},dn.unstable_batchedUpdates=function(f,m){return f(m)},dn.useFormState=function(f,m,p){return c.H.useFormState(f,m,p)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var Qv;function Xw(){if(Qv)return kg.exports;Qv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),kg.exports=Vk(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function Kk(){if(Xv)return iu;Xv=1;var e=Gk(),r=by(),t=Xw();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,d=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(d=i.return),n=i.return;while(n)}return i.tag===3?d:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function u(n){if(l(n)!==n)throw Error(s(188))}function f(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var d=n,h=i;;){var x=d.return;if(x===null)break;var N=x.alternate;if(N===null){if(h=x.return,h!==null){d=h;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===d)return u(x),n;if(N===h)return u(x),i;N=N.sibling}throw Error(s(188))}if(d.return!==h.return)d=x,h=N;else{for(var L=!1,V=x.child;V;){if(V===d){L=!0,d=x,h=N;break}if(V===h){L=!0,h=x,d=N;break}V=V.sibling}if(!L){for(V=N.child;V;){if(V===d){L=!0,d=N,h=x;break}if(V===h){L=!0,h=N,d=x;break}V=V.sibling}if(!L)throw Error(s(189))}}if(d.alternate!==h)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ee(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var ce=Symbol.for("react.client.reference");function te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ce?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case O:return"Profiler";case $:return"StrictMode";case K:return"Suspense";case F:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case H:return(n.displayName||"Context")+".Provider";case q:return(n._context.displayName||"Context")+".Consumer";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case oe:return i=n.displayName||null,i!==null?i:te(n.type)||"Memo";case fe:i=n._payload,n=n._init;try{return te(n(i))}catch(d){}}return null}var pe=Array.isArray,se=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},He=[],W=-1;function z(n){return{current:n}}function ae(n){0>W||(n.current=He[W],He[W]=null,W--)}function ge(n,i){W++,He[W]=n.current,n.current=i}var ue=z(null),U=z(null),Q=z(null),Ae=z(null);function Ke(n,i){switch(ge(Q,i),ge(U,n),ge(ue,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?hv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=hv(i),n=mv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(ue),ge(ue,n)}function ct(){ae(ue),ae(U),ae(Q)}function dt(n){n.memoizedState!==null&&ge(Ae,n);var i=ue.current,d=mv(i,n.type);i!==d&&(ge(U,n),ge(ue,d))}function kt(n){U.current===n&&(ae(ue),ae(U)),Ae.current===n&&(ae(Ae),tu._currentValue=de)}var ht=Object.prototype.hasOwnProperty,zt=e.unstable_scheduleCallback,be=e.unstable_cancelCallback,Ze=e.unstable_shouldYield,At=e.unstable_requestPaint,ye=e.unstable_now,We=e.unstable_getCurrentPriorityLevel,ft=e.unstable_ImmediatePriority,ur=e.unstable_UserBlockingPriority,Zt=e.unstable_NormalPriority,ne=e.unstable_LowPriority,ze=e.unstable_IdlePriority,rt=e.log,ut=e.unstable_setDisableYieldValue,tt=null,jt=null;function yt(n){if(typeof rt=="function"&&ut(n),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(tt,n)}catch(i){}}var ve=Math.clz32?Math.clz32:mt,Je=Math.log,gt=Math.LN2;function mt(n){return n>>>=0,n===0?32:31-(Je(n)/gt|0)|0}var xt=256,Ye=4194304;function Gt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qt(n,i,d){var h=n.pendingLanes;if(h===0)return 0;var x=0,N=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var V=h&134217727;return V!==0?(h=V&~N,h!==0?x=Gt(h):(L&=V,L!==0?x=Gt(L):d||(d=V&~n,d!==0&&(x=Gt(d))))):(V=h&~N,V!==0?x=Gt(V):L!==0?x=Gt(L):d||(d=h&~n,d!==0&&(x=Gt(d)))),x===0?0:i!==0&&i!==x&&(i&N)===0&&(N=x&-x,d=i&-i,N>=d||N===32&&(d&4194048)!==0)?i:x}function cr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function pr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(){var n=xt;return xt<<=1,(xt&4194048)===0&&(xt=256),n}function va(){var n=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),n}function wa(n){for(var i=[],d=0;31>d;d++)i.push(n);return i}function Ga(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function _r(n,i,d,h,x,N){var L=n.pendingLanes;n.pendingLanes=d,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=d,n.entangledLanes&=d,n.errorRecoveryDisabledLanes&=d,n.shellSuspendCounter=0;var V=n.entanglements,xe=n.expirationTimes,De=n.hiddenUpdates;for(d=L&~d;0<d;){var et=31-ve(d),it=1<<et;V[et]=0,xe[et]=-1;var Ue=De[et];if(Ue!==null)for(De[et]=null,et=0;et<Ue.length;et++){var Be=Ue[et];Be!==null&&(Be.lane&=-536870913)}d&=~it}h!==0&&na(n,h,0),N!==0&&x===0&&n.tag!==0&&(n.suspendedLanes|=N&~(L&~i))}function na(n,i,d){n.pendingLanes|=i,n.suspendedLanes&=~i;var h=31-ve(i);n.entangledLanes|=i,n.entanglements[h]=n.entanglements[h]|1073741824|d&4194090}function qe(n,i){var d=n.entangledLanes|=i;for(n=n.entanglements;d;){var h=31-ve(d),x=1<<h;x&i|n[h]&i&&(n[h]|=i),d&=~x}}function st(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function me(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:Rv(n.type))}function Ee(n,i){var d=re.p;try{return re.p=n,i()}finally{re.p=d}}var Me=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Me,lt="__reactProps$"+Me,Pt="__reactContainer$"+Me,Vt="__reactEvents$"+Me,Ge="__reactListeners$"+Me,Ft="__reactHandles$"+Me,Yt="__reactResources$"+Me,Qt="__reactMarker$"+Me;function Ht(n){delete n[Ve],delete n[lt],delete n[Vt],delete n[Ge],delete n[Ft]}function mr(n){var i=n[Ve];if(i)return i;for(var d=n.parentNode;d;){if(i=d[Pt]||d[Ve]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(n=xv(n);n!==null;){if(d=n[Ve])return d;n=xv(n)}return i}n=d,d=n.parentNode}return null}function br(n){if(n=n[Ve]||n[Pt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function zr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Ar(n){var i=n[Yt];return i||(i=n[Yt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function er(n){n[Qt]=!0}var Kt=new Set,Er={};function Br(n,i){ra(n,i),ra(n+"Capture",i)}function ra(n,i){for(Er[n]=i,n=0;n<i.length;n++)Kt.add(i[n])}var Xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},Ja={};function Ln(n){return ht.call(Ja,n)?!0:ht.call(Zr,n)?!1:Xr.test(n)?Ja[n]=!0:(Zr[n]=!0,!1)}function sa(n,i,d){if(Ln(i))if(d===null)n.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+d)}}function Va(n,i,d){if(d===null)n.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+d)}}function wt(n,i,d,h){if(h===null)n.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(d);return}n.setAttributeNS(i,d,""+h)}}var ua,ka;function fa(n){if(ua===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);ua=i&&i[1]||"",ka=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+n+ka}var en=!1;function Mr(n,i){if(!n||en)return"";en=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Be){var Ue=Be}Reflect.construct(n,[],it)}else{try{it.call()}catch(Be){Ue=Be}n.call(it.prototype)}}else{try{throw Error()}catch(Be){Ue=Be}(it=n())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Be){if(Be&&Ue&&typeof Be.stack=="string")return[Be.stack,Ue.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=h.DetermineComponentFrameRoot(),L=N[0],V=N[1];if(L&&V){var xe=L.split(`
`),De=V.split(`
`);for(x=h=0;h<xe.length&&!xe[h].includes("DetermineComponentFrameRoot");)h++;for(;x<De.length&&!De[x].includes("DetermineComponentFrameRoot");)x++;if(h===xe.length||x===De.length)for(h=xe.length-1,x=De.length-1;1<=h&&0<=x&&xe[h]!==De[x];)x--;for(;1<=h&&0<=x;h--,x--)if(xe[h]!==De[x]){if(h!==1||x!==1)do if(h--,x--,0>x||xe[h]!==De[x]){var et=`
`+xe[h].replace(" at new "," at ");return n.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",n.displayName)),et}while(1<=h&&0<=x);break}}}finally{en=!1,Error.prepareStackTrace=d}return(d=n?n.displayName||n.name:"")?fa(d):""}function fn(n){switch(n.tag){case 26:case 27:case 5:return fa(n.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 15:return Mr(n.type,!1);case 11:return Mr(n.type.render,!1);case 1:return Mr(n.type,!0);case 31:return fa("Activity");default:return""}}function es(n){try{var i="";do i+=fn(n),n=n.return;while(n);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Te(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ot(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rt(n){var i=ot(n)?"checked":"value",d=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,N=d.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return x.call(this)},set:function(L){h=""+L,N.call(this,L)}}),Object.defineProperty(n,i,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ut(n){n._valueTracker||(n._valueTracker=Rt(n))}function $t(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var d=i.getValue(),h="";return n&&(h=ot(n)?n.checked?"true":"false":n.value),n=h,n!==d?(i.setValue(n),!0):!1}function rr(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(i){return n.body}}var Jt=/[\n"\\]/g;function yr(n){return n.replace(Jt,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fr(n,i,d,h,x,N,L,V){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Te(i)):n.value!==""+Te(i)&&(n.value=""+Te(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?ha(n,L,Te(i)):d!=null?ha(n,L,Te(d)):h!=null&&n.removeAttribute("value"),x==null&&N!=null&&(n.defaultChecked=!!N),x!=null&&(n.checked=x&&typeof x!="function"&&typeof x!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.name=""+Te(V):n.removeAttribute("name")}function Jr(n,i,d,h,x,N,L,V){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.type=N),i!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||i!=null))return;d=d!=null?""+Te(d):"",i=i!=null?""+Te(i):d,V||i===n.value||(n.value=i),n.defaultValue=i}h=h!=null?h:x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=V?n.checked:!!h,n.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function ha(n,i,d){i==="number"&&rr(n.ownerDocument)===n||n.defaultValue===""+d||(n.defaultValue=""+d)}function ma(n,i,d,h){if(n=n.options,i){i={};for(var x=0;x<d.length;x++)i["$"+d[x]]=!0;for(d=0;d<n.length;d++)x=i.hasOwnProperty("$"+n[d].value),n[d].selected!==x&&(n[d].selected=x),x&&h&&(n[d].defaultSelected=!0)}else{for(d=""+Te(d),i=null,x=0;x<n.length;x++){if(n[x].value===d){n[x].selected=!0,h&&(n[x].defaultSelected=!0);return}i!==null||n[x].disabled||(i=n[x])}i!==null&&(i.selected=!0)}}function kn(n,i,d){if(i!=null&&(i=""+Te(i),i!==n.value&&(n.value=i),d==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=d!=null?""+Te(d):""}function ho(n,i,d,h){if(i==null){if(h!=null){if(d!=null)throw Error(s(92));if(pe(h)){if(1<h.length)throw Error(s(93));h=h[0]}d=h}d==null&&(d=""),i=d}d=Te(i),n.defaultValue=d,h=n.textContent,h===d&&h!==""&&h!==null&&(n.value=h)}function ts(n,i){if(i){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=i;return}}n.textContent=i}var Fl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(n,i,d){var h=i.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":h?n.setProperty(i,d):typeof d!="number"||d===0||Fl.has(i)?i==="float"?n.cssFloat=d:n[i]=(""+d).trim():n[i]=d+"px"}function Wi(n,i,d){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var x in i)h=i[x],i.hasOwnProperty(x)&&d[x]!==h&&zl(n,x,h)}else for(var N in i)i.hasOwnProperty(N)&&zl(n,N,i[N])}function mo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qo(n){return dd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Yi=null;function go(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ps=null,Hs=null;function Qi(n){var i=br(n);if(i&&(n=i.stateNode)){var d=n[lt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Fr(n,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),i=d.name,d.type==="radio"&&i!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+yr(""+i)+'"][type="radio"]'),i=0;i<d.length;i++){var h=d[i];if(h!==n&&h.form===n.form){var x=h[lt]||null;if(!x)throw Error(s(90));Fr(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<d.length;i++)h=d[i],h.form===n.form&&$t(h)}break e;case"textarea":kn(n,d.value,d.defaultValue);break e;case"select":i=d.value,i!=null&&ma(n,!!d.multiple,i,!1)}}}var _n=!1;function Xi(n,i,d){if(_n)return n(i,d);_n=!0;try{var h=n(i);return h}finally{if(_n=!1,(ps!==null||Hs!==null)&&(G0(),ps&&(i=ps,n=Hs,Hs=ps=null,Qi(i),n)))for(i=0;i<n.length;i++)Qi(n[i])}}function rs(n,i){var d=n.stateNode;if(d===null)return null;var h=d[lt]||null;if(h===null)return null;d=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(s(231,i,typeof d));return d}var tn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Xo=!1;if(tn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch(n){Xo=!1}var hn=null,rn=null,xs=null;function po(){if(xs)return xs;var n,i=rn,d=i.length,h,x="value"in hn?hn.value:hn.textContent,N=x.length;for(n=0;n<d&&i[n]===x[n];n++);var L=d-n;for(h=1;h<=L&&i[d-h]===x[N-h];h++);return xs=x.slice(n,1<h?1-h:void 0)}function Un(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function yo(){return!0}function Zi(){return!1}function Ma(n){function i(d,h,x,N,L){this._reactName=d,this._targetInst=x,this.type=h,this.nativeEvent=N,this.target=L,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(d=n[V],this[V]=d?d(N):N[V]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?yo:Zi,this.isPropagationStopped=Zi,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),i}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Ma(mn),Gs=p({},mn,{view:0,detail:0}),Ir=Ma(Gs),R,B,Z,J=p({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:an,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Z&&(Z&&n.type==="mousemove"?(R=n.screenX-Z.screenX,B=n.screenY-Z.screenY):B=R=0,Z=n),R)},movementY:function(n){return"movementY"in n?n.movementY:B}}),Se=Ma(J),Re=p({},J,{dataTransfer:0}),$e=Ma(Re),bt=p({},Gs,{relatedTarget:0}),Et=Ma(bt),vt=p({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tt=Ma(vt),Bt=p({},mn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qr=Ma(Bt),or=p({},mn,{data:0}),Xt=Ma(or),Mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},la={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aa(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=la[n])?!!i[n]:!1}function an(){return aa}var bs=p({},Gs,{key:function(n){if(n.key){var i=Mt[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Un(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_a[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:an,charCode:function(n){return n.type==="keypress"?Un(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Un(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fn=Ma(bs),vs=p({},J,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=Ma(vs),xo=p({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:an}),Bl=Ma(xo),ql=p({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bh=Ma(ql),Hl=p({},J,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qh=Ma(Hl),Hh=p({},mn,{newState:0,oldState:0}),r0=Ma(Hh),Gl=[9,13,27,32],ud=tn&&"CompositionEvent"in window,Ji=null;tn&&"documentMode"in document&&(Ji=document.documentMode);var a0=tn&&"TextEvent"in window&&!Ji,n0=tn&&(!ud||Ji&&8<Ji&&11>=Ji),s0=" ",o0=!1;function fd(n,i){switch(n){case"keyup":return Gl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vs=!1;function l0(n,i){switch(n){case"compositionend":return i0(i);case"keypress":return i.which!==32?null:(o0=!0,s0);case"textInput":return n=i.data,n===s0&&o0?null:n;default:return null}}function c0(n,i){if(Vs)return n==="compositionend"||!ud&&fd(n,i)?(n=po(),xs=rn=hn=null,Vs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return n0&&i.locale!=="ko"?null:i.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vl(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!d0[n.type]:i==="textarea"}function u0(n,i,d,h){ps?Hs?Hs.push(h):Hs=[h]:ps=h,i=X0(i,"onChange"),0<i.length&&(d=new Da("onChange","change",null,d,h),n.push({event:d,listeners:i}))}var el=null,Jo=null;function Gh(n){lv(n,0)}function tl(n){var i=zr(n);if($t(i))return n}function hd(n,i){if(n==="change")return i}var ws=!1;if(tn){var md;if(tn){var Kl="oninput"in document;if(!Kl){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),Kl=typeof f0.oninput=="function"}md=Kl}else md=!1;ws=md&&(!document.documentMode||9<document.documentMode)}function h0(){el&&(el.detachEvent("onpropertychange",gd),Jo=el=null)}function gd(n){if(n.propertyName==="value"&&tl(Jo)){var i=[];u0(i,Jo,n,go(n)),Xi(Gh,i)}}function Vh(n,i,d){n==="focusin"?(h0(),el=i,Jo=d,el.attachEvent("onpropertychange",gd)):n==="focusout"&&h0()}function m0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tl(Jo)}function Kh(n,i){if(n==="click")return tl(i)}function g0(n,i){if(n==="input"||n==="change")return tl(i)}function rl(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var nn=typeof Object.is=="function"?Object.is:rl;function al(n,i){if(nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var d=Object.keys(n),h=Object.keys(i);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var x=d[h];if(!ht.call(i,x)||!nn(n[x],i[x]))return!1}return!0}function pd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yd(n,i){var d=pd(n);n=0;for(var h;d;){if(d.nodeType===3){if(h=n+d.textContent.length,n<=i&&h>=i)return{node:d,offset:i-n};n=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=pd(d)}}function Wl(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Wl(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function xd(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=rr(n.document);i instanceof n.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch(h){d=!1}if(d)n=i.contentWindow;else break;i=rr(n.document)}return i}function bd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var p0=tn&&"documentMode"in document&&11>=document.documentMode,bo=null,vd=null,ei=null,ti=!1;function nl(n,i,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ti||bo==null||bo!==rr(h)||(h=bo,"selectionStart"in h&&bd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ei&&al(ei,h)||(ei=h,h=X0(vd,"onSelect"),0<h.length&&(i=new Da("onSelect","select",null,i,d),n.push({event:i,listeners:h}),i.target=bo)))}function as(n,i){var d={};return d[n.toLowerCase()]=i.toLowerCase(),d["Webkit"+n]="webkit"+i,d["Moz"+n]="moz"+i,d}var ri={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Yl={},ai={};tn&&(ai=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function js(n){if(Yl[n])return Yl[n];if(!ri[n])return n;var i=ri[n],d;for(d in i)if(i.hasOwnProperty(d)&&d in ai)return Yl[n]=i[d];return n}var Ks=js("animationend"),y0=js("animationiteration"),x0=js("animationstart"),Wh=js("transitionrun"),Yh=js("transitionstart"),Qh=js("transitioncancel"),b0=js("transitionend"),Ql=new Map,Xl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xl.push("scrollEnd");function zn(n,i){Ql.set(n,i),Br(i,[n])}var wd=new WeakMap;function Sa(n,i){if(typeof n=="object"&&n!==null){var d=wd.get(n);return d!==void 0?d:(i={value:n,source:i,stack:es(i)},wd.set(n,i),i)}return{value:n,source:i,stack:es(i)}}var Sn=[],vo=0,Zl=0;function Jl(){for(var n=vo,i=Zl=vo=0;i<n;){var d=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var x=Sn[i];Sn[i++]=null;var N=Sn[i];if(Sn[i++]=null,h!==null&&x!==null){var L=h.pending;L===null?x.next=x:(x.next=L.next,L.next=x),h.pending=x}N!==0&&Nd(d,x,N)}}function sl(n,i,d,h){Sn[vo++]=n,Sn[vo++]=i,Sn[vo++]=d,Sn[vo++]=h,Zl|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function jd(n,i,d,h){return sl(n,i,d,h),ol(n)}function ni(n,i){return sl(n,null,null,i),ol(n)}function Nd(n,i,d){n.lanes|=d;var h=n.alternate;h!==null&&(h.lanes|=d);for(var x=!1,N=n.return;N!==null;)N.childLanes|=d,h=N.alternate,h!==null&&(h.childLanes|=d),N.tag===22&&(n=N.stateNode,n===null||n._visibility&1||(x=!0)),n=N,N=N.return;return n.tag===3?(N=n.stateNode,x&&i!==null&&(x=31-ve(d),n=N.hiddenUpdates,h=n[x],h===null?n[x]=[i]:h.push(i),i.lane=d|536870912),N):null}function ol(n){if(50<Kd)throw Kd=0,Im=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var si={};function v0(n,i,d,h){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(n,i,d,h){return new v0(n,i,d,h)}function wo(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Cn(n,i){var d=n.alternate;return d===null?(d=Ia(n.tag,i,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=i,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&65011712,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,i=n.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d.refCleanup=n.refCleanup,d}function kd(n,i){n.flags&=65011714;var d=n.alternate;return d===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=d.childLanes,n.lanes=d.lanes,n.child=d.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=d.memoizedProps,n.memoizedState=d.memoizedState,n.updateQueue=d.updateQueue,n.type=d.type,i=d.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ec(n,i,d,h,x,N){var L=0;if(h=n,typeof n=="function")wo(n)&&(L=1);else if(typeof n=="string")L=Nk(n,d,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case X:return n=Ia(31,d,i,x),n.elementType=X,n.lanes=N,n;case T:return Ws(d.children,x,N,i);case $:L=8,x|=24;break;case O:return n=Ia(12,d,i,x|2),n.elementType=O,n.lanes=N,n;case K:return n=Ia(13,d,i,x),n.elementType=K,n.lanes=N,n;case F:return n=Ia(19,d,i,x),n.elementType=F,n.lanes=N,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:case H:L=10;break e;case q:L=9;break e;case M:L=11;break e;case oe:L=14;break e;case fe:L=16,h=null;break e}L=29,d=Error(s(130,n===null?"null":typeof n,"")),h=null}return i=Ia(L,d,i,x),i.elementType=n,i.type=h,i.lanes=N,i}function Ws(n,i,d,h){return n=Ia(7,n,h,i),n.lanes=d,n}function tc(n,i,d){return n=Ia(6,n,null,i),n.lanes=d,n}function _d(n,i,d){return i=Ia(4,n.children!==null?n.children:[],n.key,i),i.lanes=d,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ns=[],jo=0,rc=null,ac=0,$n=[],En=0,No=null,ks=1,ns="";function ko(n,i){Ns[jo++]=ac,Ns[jo++]=rc,rc=n,ac=i}function w0(n,i,d){$n[En++]=ks,$n[En++]=ns,$n[En++]=No,No=n;var h=ks;n=ns;var x=32-ve(h)-1;h&=~(1<<x),d+=1;var N=32-ve(i)+x;if(30<N){var L=x-x%5;N=(h&(1<<L)-1).toString(32),h>>=L,x-=L,ks=1<<32-ve(i)+x|d<<x|h,ns=N+n}else ks=1<<N|d<<x|h,ns=n}function nc(n){n.return!==null&&(ko(n,1),w0(n,1,0))}function Sd(n){for(;n===rc;)rc=Ns[--jo],Ns[jo]=null,ac=Ns[--jo],Ns[jo]=null;for(;n===No;)No=$n[--En],$n[En]=null,ns=$n[--En],$n[En]=null,ks=$n[--En],$n[En]=null}var Ca=null,Sr=null,Dr=!1,gn=null,$a=!1,il=Error(s(519));function La(n){var i=Error(s(418,""));throw ga(Sa(i,n)),il}function ll(n){var i=n.stateNode,d=n.type,h=n.memoizedProps;switch(i[Ve]=n,i[lt]=h,d){case"dialog":$r("cancel",i),$r("close",i);break;case"iframe":case"object":case"embed":$r("load",i);break;case"video":case"audio":for(d=0;d<Yd.length;d++)$r(Yd[d],i);break;case"source":$r("error",i);break;case"img":case"image":case"link":$r("error",i),$r("load",i);break;case"details":$r("toggle",i);break;case"input":$r("invalid",i),Jr(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ut(i);break;case"select":$r("invalid",i);break;case"textarea":$r("invalid",i),ho(i,h.value,h.defaultValue,h.children),Ut(i)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||i.textContent===""+d||h.suppressHydrationWarning===!0||fv(i.textContent,d)?(h.popover!=null&&($r("beforetoggle",i),$r("toggle",i)),h.onScroll!=null&&$r("scroll",i),h.onScrollEnd!=null&&$r("scrollend",i),h.onClick!=null&&(i.onclick=Z0),i=!0):i=!1,i||La(n)}function _o(n){for(Ca=n.return;Ca;)switch(Ca.tag){case 5:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:Ca=Ca.return}}function oa(n){if(n!==Ca)return!1;if(!Dr)return _o(n),Dr=!0,!1;var i=n.tag,d;if((d=i!==3&&i!==27)&&((d=i===5)&&(d=n.type,d=!(d!=="form"&&d!=="button")||Jm(n.type,n.memoizedProps)),d=!d),d&&Sr&&La(n),_o(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(d=n.data,d==="/$"){if(i===0){Sr=$s(n.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++;n=n.nextSibling}Sr=null}}else i===27?(i=Sr,bi(n.type)?(n=ag,ag=null,Sr=n):Sr=i):Sr=Ca?$s(n.stateNode.nextSibling):null;return!0}function Tn(){Sr=Ca=null,Dr=!1}function Bn(){var n=gn;return n!==null&&(Pn===null?Pn=n:Pn.push.apply(Pn,n),gn=null),n}function ga(n){gn===null?gn=[n]:gn.push(n)}var So=z(null),Ys=null,_s=null;function pn(n,i,d){ge(So,i._currentValue),i._currentValue=d}function Ka(n){n._currentValue=So.current,ae(So)}function Cd(n,i,d){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===d)break;n=n.return}}function $d(n,i,d,h){var x=n.child;for(x!==null&&(x.return=n);x!==null;){var N=x.dependencies;if(N!==null){var L=x.child;N=N.firstContext;e:for(;N!==null;){var V=N;N=x;for(var xe=0;xe<i.length;xe++)if(V.context===i[xe]){N.lanes|=d,V=N.alternate,V!==null&&(V.lanes|=d),Cd(N.return,d,n),h||(L=null);break e}N=V.next}}else if(x.tag===18){if(L=x.return,L===null)throw Error(s(341));L.lanes|=d,N=L.alternate,N!==null&&(N.lanes|=d),Cd(L,d,n),L=null}else L=x.child;if(L!==null)L.return=x;else for(L=x;L!==null;){if(L===n){L=null;break}if(x=L.sibling,x!==null){x.return=L.return,L=x;break}L=L.return}x=L}}function cl(n,i,d,h){n=null;for(var x=i,N=!1;x!==null;){if(!N){if((x.flags&524288)!==0)N=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var L=x.alternate;if(L===null)throw Error(s(387));if(L=L.memoizedProps,L!==null){var V=x.type;nn(x.pendingProps.value,L.value)||(n!==null?n.push(V):n=[V])}}else if(x===Ae.current){if(L=x.alternate,L===null)throw Error(s(387));L.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(n!==null?n.push(tu):n=[tu])}x=x.return}n!==null&&$d(i,n,d,h),i.flags|=262144}function sc(n){for(n=n.firstContext;n!==null;){if(!nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Co(n){Ys=n,_s=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ua(n){return j0(Ys,n)}function oc(n,i){return Ys===null&&Co(n),j0(n,i)}function j0(n,i){var d=i._currentValue;if(i={context:i,memoizedValue:d,next:null},_s===null){if(n===null)throw Error(s(308));_s=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else _s=_s.next=i;return d}var N0=typeof AbortController!="undefined"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(d,h){n.push(h)}};this.abort=function(){i.aborted=!0,n.forEach(function(d){return d()})}},Xh=e.unstable_scheduleCallback,k0=e.unstable_NormalPriority,pa={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new N0,data:new Map,refCount:0}}function oi(n){n.refCount--,n.refCount===0&&Xh(k0,function(){n.controller.abort()})}var Qs=null,On=0,ii=0,li=null;function Zh(n,i){if(Qs===null){var d=Qs=[];On=0,ii=Hm(),li={status:"pending",value:void 0,then:function(h){d.push(h)}}}return On++,i.then(Td,Td),i}function Td(){if(--On===0&&Qs!==null){li!==null&&(li.status="fulfilled");var n=Qs;Qs=null,ii=0,li=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _0(n,i){var d=[],h={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return n.then(function(){h.status="fulfilled",h.value=i;for(var x=0;x<d.length;x++)(0,d[x])(i)},function(x){for(h.status="rejected",h.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),h}var S0=se.S;se.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Zh(n,i),S0!==null&&S0(n,i)};var Xs=z(null);function ss(){var n=Xs.current;return n!==null?n:ea.pooledCache}function Zs(n,i){i===null?ge(Xs,Xs.current):ge(Xs,i.pool)}function Od(){var n=ss();return n===null?null:{parent:pa._currentValue,pool:n}}var y=Error(s(460)),v=Error(s(474)),g=Error(s(542)),b={then:function(){}};function w(n){return n=n.status,n==="fulfilled"||n==="rejected"}function S(){}function E(n,i,d){switch(d=n[d],d===void 0?n.push(i):d!==i&&(i.then(S,S),i=d),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,D(n),n;default:if(typeof i.status=="string")i.then(S,S);else{if(n=ea,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(h){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=h}},function(h){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,D(n),n}throw A=i,y}}var A=null;function I(){if(A===null)throw Error(s(459));var n=A;return A=null,n}function D(n){if(n===y||n===g)throw Error(s(483))}var G=!1;function ie(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function we(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _e(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fe(n,i,d){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Gr&2)!==0){var x=h.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),h.pending=i,i=ol(n),Nd(n,null,d),i}return sl(n,h,i,d),ol(n)}function ke(n,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194048)!==0)){var h=i.lanes;h&=n.pendingLanes,d|=h,i.lanes=d,qe(n,d)}}function Le(n,i){var d=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var x=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?x=N=L:N=N.next=L,d=d.next}while(d!==null);N===null?x=N=i:N=N.next=i}else x=N=i;d={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:h.shared,callbacks:h.callbacks},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=i:n.next=i,d.lastBaseUpdate=i}var Qe=!1;function Xe(){if(Qe){var n=li;if(n!==null)throw n}}function Ot(n,i,d,h){Qe=!1;var x=n.updateQueue;G=!1;var N=x.firstBaseUpdate,L=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var xe=V,De=xe.next;xe.next=null,L===null?N=De:L.next=De,L=xe;var et=n.alternate;et!==null&&(et=et.updateQueue,V=et.lastBaseUpdate,V!==L&&(V===null?et.firstBaseUpdate=De:V.next=De,et.lastBaseUpdate=xe))}if(N!==null){var it=x.baseState;L=0,et=De=xe=null,V=N;do{var Ue=V.lane&-536870913,Be=Ue!==V.lane;if(Be?(Pr&Ue)===Ue:(h&Ue)===Ue){Ue!==0&&Ue===ii&&(Qe=!0),et!==null&&(et=et.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var ir=n,nr=V;Ue=i;var Yr=d;switch(nr.tag){case 1:if(ir=nr.payload,typeof ir=="function"){it=ir.call(Yr,it,Ue);break e}it=ir;break e;case 3:ir.flags=ir.flags&-65537|128;case 0:if(ir=nr.payload,Ue=typeof ir=="function"?ir.call(Yr,it,Ue):ir,Ue==null)break e;it=p({},it,Ue);break e;case 2:G=!0}}Ue=V.callback,Ue!==null&&(n.flags|=64,Be&&(n.flags|=8192),Be=x.callbacks,Be===null?x.callbacks=[Ue]:Be.push(Ue))}else Be={lane:Ue,tag:V.tag,payload:V.payload,callback:V.callback,next:null},et===null?(De=et=Be,xe=it):et=et.next=Be,L|=Ue;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;Be=V,V=Be.next,Be.next=null,x.lastBaseUpdate=Be,x.shared.pending=null}}while(!0);et===null&&(xe=it),x.baseState=xe,x.firstBaseUpdate=De,x.lastBaseUpdate=et,N===null&&(x.shared.lanes=0),gi|=L,n.lanes=L,n.memoizedState=it}}function St(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function ar(n,i){var d=n.callbacks;if(d!==null)for(n.callbacks=null,n=0;n<d.length;n++)St(d[n],i)}var dr=z(null),lr=z(0);function vr(n,i){n=Po,ge(lr,n),ge(dr,i),Po=n|i.baseLanes}function sn(){ge(lr,Po),ge(dr,dr.current)}function yn(){Po=lr.current,ae(dr),ae(lr)}var Kr=0,fr=null,jr=null,Hr=null,qn=!1,on=!1,Rr=!1,ln=0,Ss=0,xn=null,os=0;function tr(){throw Error(s(321))}function ja(n,i){if(i===null)return!1;for(var d=0;d<i.length&&d<n.length;d++)if(!nn(n[d],i[d]))return!1;return!0}function Ad(n,i,d,h,x,N){return Kr=N,fr=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,se.H=n===null||n.memoizedState===null?Vx:Kx,Rr=!1,N=d(h,x),Rr=!1,on&&(N=Pd(i,d,h,x)),Rd(n),N}function Rd(n){se.H=A0;var i=jr!==null&&jr.next!==null;if(Kr=0,Hr=jr=fr=null,qn=!1,Ss=0,xn=null,i)throw Error(s(300));n===null||Fa||(n=n.dependencies,n!==null&&sc(n)&&(Fa=!0))}function Pd(n,i,d,h){fr=n;var x=0;do{if(on&&(xn=null),Ss=0,on=!1,25<=x)throw Error(s(301));if(x+=1,Hr=jr=null,n.updateQueue!=null){var N=n.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}se.H=P4,N=i(d,h)}while(on);return N}function $4(){var n=se.H,i=n.useState()[0];return i=typeof i.then=="function"?Md(i):i,n=n.useState()[0],(jr!==null?jr.memoizedState:null)!==n&&(fr.flags|=1024),i}function Jh(){var n=ln!==0;return ln=0,n}function em(n,i,d){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d}function tm(n){if(qn){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qn=!1}Kr=0,Hr=jr=fr=null,on=!1,Ss=ln=0,xn=null}function An(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?fr.memoizedState=Hr=n:Hr=Hr.next=n,Hr}function Ea(){if(jr===null){var n=fr.alternate;n=n!==null?n.memoizedState:null}else n=jr.next;var i=Hr===null?fr.memoizedState:Hr.next;if(i!==null)Hr=i,jr=n;else{if(n===null)throw fr.alternate===null?Error(s(467)):Error(s(310));jr=n,n={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Hr===null?fr.memoizedState=Hr=n:Hr=Hr.next=n}return Hr}function rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Md(n){var i=Ss;return Ss+=1,xn===null&&(xn=[]),n=E(xn,n,i),i=fr,(Hr===null?i.memoizedState:Hr.next)===null&&(i=i.alternate,se.H=i===null||i.memoizedState===null?Vx:Kx),n}function C0(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Md(n);if(n.$$typeof===H)return Ua(n)}throw Error(s(438,String(n)))}function am(n){var i=null,d=fr.updateQueue;if(d!==null&&(i=d.memoCache),i==null){var h=fr.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),d===null&&(d=rm(),fr.updateQueue=d),d.memoCache=i,d=i.data[i.index],d===void 0)for(d=i.data[i.index]=Array(n),h=0;h<n;h++)d[h]=le;return i.index++,d}function $o(n,i){return typeof i=="function"?i(n):i}function $0(n){var i=Ea();return nm(i,jr,n)}function nm(n,i,d){var h=n.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=d;var x=n.baseQueue,N=h.pending;if(N!==null){if(x!==null){var L=x.next;x.next=N.next,N.next=L}i.baseQueue=x=N,h.pending=null}if(N=n.baseState,x===null)n.memoizedState=N;else{i=x.next;var V=L=null,xe=null,De=i,et=!1;do{var it=De.lane&-536870913;if(it!==De.lane?(Pr&it)===it:(Kr&it)===it){var Ue=De.revertLane;if(Ue===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),it===ii&&(et=!0);else if((Kr&Ue)===Ue){De=De.next,Ue===ii&&(et=!0);continue}else it={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},xe===null?(V=xe=it,L=N):xe=xe.next=it,fr.lanes|=Ue,gi|=Ue;it=De.action,Rr&&d(N,it),N=De.hasEagerState?De.eagerState:d(N,it)}else Ue={lane:it,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},xe===null?(V=xe=Ue,L=N):xe=xe.next=Ue,fr.lanes|=it,gi|=it;De=De.next}while(De!==null&&De!==i);if(xe===null?L=N:xe.next=V,!nn(N,n.memoizedState)&&(Fa=!0,et&&(d=li,d!==null)))throw d;n.memoizedState=N,n.baseState=L,n.baseQueue=xe,h.lastRenderedState=N}return x===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function sm(n){var i=Ea(),d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var h=d.dispatch,x=d.pending,N=i.memoizedState;if(x!==null){d.pending=null;var L=x=x.next;do N=n(N,L.action),L=L.next;while(L!==x);nn(N,i.memoizedState)||(Fa=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),d.lastRenderedState=N}return[N,h]}function fx(n,i,d){var h=fr,x=Ea(),N=Dr;if(N){if(d===void 0)throw Error(s(407));d=d()}else d=i();var L=!nn((jr||x).memoizedState,d);L&&(x.memoizedState=d,Fa=!0),x=x.queue;var V=gx.bind(null,h,x,n);if(Dd(2048,8,V,[n]),x.getSnapshot!==i||L||Hr!==null&&Hr.memoizedState.tag&1){if(h.flags|=2048,ic(9,E0(),mx.bind(null,h,x,d,i),null),ea===null)throw Error(s(349));N||(Kr&124)!==0||hx(h,i,d)}return d}function hx(n,i,d){n.flags|=16384,n={getSnapshot:i,value:d},i=fr.updateQueue,i===null?(i=rm(),fr.updateQueue=i,i.stores=[n]):(d=i.stores,d===null?i.stores=[n]:d.push(n))}function mx(n,i,d,h){i.value=d,i.getSnapshot=h,px(i)&&yx(n)}function gx(n,i,d){return d(function(){px(i)&&yx(n)})}function px(n){var i=n.getSnapshot;n=n.value;try{var d=i();return!nn(n,d)}catch(h){return!0}}function yx(n){var i=ni(n,2);i!==null&&Wn(i,n,2)}function om(n){var i=An();if(typeof n=="function"){var d=n;if(n=d(),Rr){yt(!0);try{d()}finally{yt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:n},i}function xx(n,i,d,h){return n.baseState=d,nm(n,jr,typeof h=="function"?h:$o)}function E4(n,i,d,h,x){if(O0(n))throw Error(s(485));if(n=i.action,n!==null){var N={payload:x,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){N.listeners.push(L)}};se.T!==null?d(!0):N.isTransition=!1,h(N),d=i.pending,d===null?(N.next=i.pending=N,bx(i,N)):(N.next=d.next,i.pending=d.next=N)}}function bx(n,i){var d=i.action,h=i.payload,x=n.state;if(i.isTransition){var N=se.T,L={};se.T=L;try{var V=d(x,h),xe=se.S;xe!==null&&xe(L,V),vx(n,i,V)}catch(De){im(n,i,De)}finally{se.T=N}}else try{N=d(x,h),vx(n,i,N)}catch(De){im(n,i,De)}}function vx(n,i,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){wx(n,i,h)},function(h){return im(n,i,h)}):wx(n,i,d)}function wx(n,i,d){i.status="fulfilled",i.value=d,jx(i),n.state=d,i=n.pending,i!==null&&(d=i.next,d===i?n.pending=null:(d=d.next,i.next=d,bx(n,d)))}function im(n,i,d){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=d,jx(i),i=i.next;while(i!==h)}n.action=null}function jx(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Nx(n,i){return i}function kx(n,i){if(Dr){var d=ea.formState;if(d!==null){e:{var h=fr;if(Dr){if(Sr){t:{for(var x=Sr,N=$a;x.nodeType!==8;){if(!N){x=null;break t}if(x=$s(x.nextSibling),x===null){x=null;break t}}N=x.data,x=N==="F!"||N==="F"?x:null}if(x){Sr=$s(x.nextSibling),h=x.data==="F!";break e}}La(h)}h=!1}h&&(i=d[0])}}return d=An(),d.memoizedState=d.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nx,lastRenderedState:i},d.queue=h,d=qx.bind(null,fr,h),h.dispatch=d,h=om(!1),N=fm.bind(null,fr,!1,h.queue),h=An(),x={state:i,dispatch:null,action:n,pending:null},h.queue=x,d=E4.bind(null,fr,x,N,d),x.dispatch=d,h.memoizedState=n,[i,d,!1]}function _x(n){var i=Ea();return Sx(i,jr,n)}function Sx(n,i,d){if(i=nm(n,i,Nx)[0],n=$0($o)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Md(i)}catch(L){throw L===y?g:L}else h=i;i=Ea();var x=i.queue,N=x.dispatch;return d!==i.memoizedState&&(fr.flags|=2048,ic(9,E0(),T4.bind(null,x,d),null)),[h,N,n]}function T4(n,i){n.action=i}function Cx(n){var i=Ea(),d=jr;if(d!==null)return Sx(i,d,n);Ea(),i=i.memoizedState,d=Ea();var h=d.queue.dispatch;return d.memoizedState=n,[i,h,!1]}function ic(n,i,d,h){return n={tag:n,create:d,deps:h,inst:i,next:null},i=fr.updateQueue,i===null&&(i=rm(),fr.updateQueue=i),d=i.lastEffect,d===null?i.lastEffect=n.next=n:(h=d.next,d.next=n,n.next=h,i.lastEffect=n),n}function E0(){return{destroy:void 0,resource:void 0}}function $x(){return Ea().memoizedState}function T0(n,i,d,h){var x=An();h=h===void 0?null:h,fr.flags|=n,x.memoizedState=ic(1|i,E0(),d,h)}function Dd(n,i,d,h){var x=Ea();h=h===void 0?null:h;var N=x.memoizedState.inst;jr!==null&&h!==null&&ja(h,jr.memoizedState.deps)?x.memoizedState=ic(i,N,d,h):(fr.flags|=n,x.memoizedState=ic(1|i,N,d,h))}function Ex(n,i){T0(8390656,8,n,i)}function Tx(n,i){Dd(2048,8,n,i)}function Ox(n,i){return Dd(4,2,n,i)}function Ax(n,i){return Dd(4,4,n,i)}function Rx(n,i){if(typeof i=="function"){n=n();var d=i(n);return function(){typeof d=="function"?d():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Px(n,i,d){d=d!=null?d.concat([n]):null,Dd(4,4,Rx.bind(null,i,n),d)}function lm(){}function Mx(n,i){var d=Ea();i=i===void 0?null:i;var h=d.memoizedState;return i!==null&&ja(i,h[1])?h[0]:(d.memoizedState=[n,i],n)}function Dx(n,i){var d=Ea();i=i===void 0?null:i;var h=d.memoizedState;if(i!==null&&ja(i,h[1]))return h[0];if(h=n(),Rr){yt(!0);try{n()}finally{yt(!1)}}return d.memoizedState=[h,i],h}function cm(n,i,d){return d===void 0||(Kr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=d,n=Ub(),fr.lanes|=n,gi|=n,d)}function Ix(n,i,d,h){return nn(d,i)?d:dr.current!==null?(n=cm(n,d,h),nn(n,i)||(Fa=!0),n):(Kr&42)===0?(Fa=!0,n.memoizedState=d):(n=Ub(),fr.lanes|=n,gi|=n,i)}function Lx(n,i,d,h,x){var N=re.p;re.p=N!==0&&8>N?N:8;var L=se.T,V={};se.T=V,fm(n,!1,i,d);try{var xe=x(),De=se.S;if(De!==null&&De(V,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var et=_0(xe,h);Id(n,i,et,Kn(n))}else Id(n,i,h,Kn(n))}catch(it){Id(n,i,{then:function(){},status:"rejected",reason:it},Kn())}finally{re.p=N,se.T=L}}function O4(){}function dm(n,i,d,h){if(n.tag!==5)throw Error(s(476));var x=Ux(n).queue;Lx(n,x,i,de,d===null?O4:function(){return Fx(n),d(h)})}function Ux(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:de},next:null};var d={};return i.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:d},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Fx(n){var i=Ux(n).next.queue;Id(n,i,{},Kn())}function um(){return Ua(tu)}function zx(){return Ea().memoizedState}function Bx(){return Ea().memoizedState}function A4(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var d=Kn();n=_e(d);var h=Fe(i,n,d);h!==null&&(Wn(h,i,d),ke(h,i,d)),i={cache:Ed()},n.payload=i;return}i=i.return}}function R4(n,i,d){var h=Kn();d={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},O0(n)?Hx(i,d):(d=jd(n,i,d,h),d!==null&&(Wn(d,n,h),Gx(d,i,h)))}function qx(n,i,d){var h=Kn();Id(n,i,d,h)}function Id(n,i,d,h){var x={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(O0(n))Hx(i,x);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var L=i.lastRenderedState,V=N(L,d);if(x.hasEagerState=!0,x.eagerState=V,nn(V,L))return sl(n,i,x,0),ea===null&&Jl(),!1}catch(xe){}finally{}if(d=jd(n,i,x,h),d!==null)return Wn(d,n,h),Gx(d,i,h),!0}return!1}function fm(n,i,d,h){if(h={lane:2,revertLane:Hm(),action:h,hasEagerState:!1,eagerState:null,next:null},O0(n)){if(i)throw Error(s(479))}else i=jd(n,d,h,2),i!==null&&Wn(i,n,2)}function O0(n){var i=n.alternate;return n===fr||i!==null&&i===fr}function Hx(n,i){on=qn=!0;var d=n.pending;d===null?i.next=i:(i.next=d.next,d.next=i),n.pending=i}function Gx(n,i,d){if((d&4194048)!==0){var h=i.lanes;h&=n.pendingLanes,d|=h,i.lanes=d,qe(n,d)}}var A0={readContext:Ua,use:C0,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useLayoutEffect:tr,useInsertionEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useSyncExternalStore:tr,useId:tr,useHostTransitionStatus:tr,useFormState:tr,useActionState:tr,useOptimistic:tr,useMemoCache:tr,useCacheRefresh:tr},Vx={readContext:Ua,use:C0,useCallback:function(n,i){return An().memoizedState=[n,i===void 0?null:i],n},useContext:Ua,useEffect:Ex,useImperativeHandle:function(n,i,d){d=d!=null?d.concat([n]):null,T0(4194308,4,Rx.bind(null,i,n),d)},useLayoutEffect:function(n,i){return T0(4194308,4,n,i)},useInsertionEffect:function(n,i){T0(4,2,n,i)},useMemo:function(n,i){var d=An();i=i===void 0?null:i;var h=n();if(Rr){yt(!0);try{n()}finally{yt(!1)}}return d.memoizedState=[h,i],h},useReducer:function(n,i,d){var h=An();if(d!==void 0){var x=d(i);if(Rr){yt(!0);try{d(i)}finally{yt(!1)}}}else x=i;return h.memoizedState=h.baseState=x,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:x},h.queue=n,n=n.dispatch=R4.bind(null,fr,n),[h.memoizedState,n]},useRef:function(n){var i=An();return n={current:n},i.memoizedState=n},useState:function(n){n=om(n);var i=n.queue,d=qx.bind(null,fr,i);return i.dispatch=d,[n.memoizedState,d]},useDebugValue:lm,useDeferredValue:function(n,i){var d=An();return cm(d,n,i)},useTransition:function(){var n=om(!1);return n=Lx.bind(null,fr,n.queue,!0,!1),An().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,d){var h=fr,x=An();if(Dr){if(d===void 0)throw Error(s(407));d=d()}else{if(d=i(),ea===null)throw Error(s(349));(Pr&124)!==0||hx(h,i,d)}x.memoizedState=d;var N={value:d,getSnapshot:i};return x.queue=N,Ex(gx.bind(null,h,N,n),[n]),h.flags|=2048,ic(9,E0(),mx.bind(null,h,N,d,i),null),d},useId:function(){var n=An(),i=ea.identifierPrefix;if(Dr){var d=ns,h=ks;d=(h&~(1<<32-ve(h)-1)).toString(32)+d,i=""+i+"R"+d,d=ln++,0<d&&(i+="H"+d.toString(32)),i+=""}else d=os++,i=""+i+"r"+d.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:um,useFormState:kx,useActionState:kx,useOptimistic:function(n){var i=An();i.memoizedState=i.baseState=n;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=d,i=fm.bind(null,fr,!0,d),d.dispatch=i,[n,i]},useMemoCache:am,useCacheRefresh:function(){return An().memoizedState=A4.bind(null,fr)}},Kx={readContext:Ua,use:C0,useCallback:Mx,useContext:Ua,useEffect:Tx,useImperativeHandle:Px,useInsertionEffect:Ox,useLayoutEffect:Ax,useMemo:Dx,useReducer:$0,useRef:$x,useState:function(){return $0($o)},useDebugValue:lm,useDeferredValue:function(n,i){var d=Ea();return Ix(d,jr.memoizedState,n,i)},useTransition:function(){var n=$0($o)[0],i=Ea().memoizedState;return[typeof n=="boolean"?n:Md(n),i]},useSyncExternalStore:fx,useId:zx,useHostTransitionStatus:um,useFormState:_x,useActionState:_x,useOptimistic:function(n,i){var d=Ea();return xx(d,jr,n,i)},useMemoCache:am,useCacheRefresh:Bx},P4={readContext:Ua,use:C0,useCallback:Mx,useContext:Ua,useEffect:Tx,useImperativeHandle:Px,useInsertionEffect:Ox,useLayoutEffect:Ax,useMemo:Dx,useReducer:sm,useRef:$x,useState:function(){return sm($o)},useDebugValue:lm,useDeferredValue:function(n,i){var d=Ea();return jr===null?cm(d,n,i):Ix(d,jr.memoizedState,n,i)},useTransition:function(){var n=sm($o)[0],i=Ea().memoizedState;return[typeof n=="boolean"?n:Md(n),i]},useSyncExternalStore:fx,useId:zx,useHostTransitionStatus:um,useFormState:Cx,useActionState:Cx,useOptimistic:function(n,i){var d=Ea();return jr!==null?xx(d,jr,n,i):(d.baseState=n,[n,d.queue.dispatch])},useMemoCache:am,useCacheRefresh:Bx},lc=null,Ld=0;function R0(n){var i=Ld;return Ld+=1,lc===null&&(lc=[]),E(lc,n,i)}function Ud(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function P0(n,i){throw i.$$typeof===_?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Wx(n){var i=n._init;return i(n._payload)}function Yx(n){function i(Oe,Ce){if(n){var Pe=Oe.deletions;Pe===null?(Oe.deletions=[Ce],Oe.flags|=16):Pe.push(Ce)}}function d(Oe,Ce){if(!n)return null;for(;Ce!==null;)i(Oe,Ce),Ce=Ce.sibling;return null}function h(Oe){for(var Ce=new Map;Oe!==null;)Oe.key!==null?Ce.set(Oe.key,Oe):Ce.set(Oe.index,Oe),Oe=Oe.sibling;return Ce}function x(Oe,Ce){return Oe=Cn(Oe,Ce),Oe.index=0,Oe.sibling=null,Oe}function N(Oe,Ce,Pe){return Oe.index=Pe,n?(Pe=Oe.alternate,Pe!==null?(Pe=Pe.index,Pe<Ce?(Oe.flags|=67108866,Ce):Pe):(Oe.flags|=67108866,Ce)):(Oe.flags|=1048576,Ce)}function L(Oe){return n&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function V(Oe,Ce,Pe,at){return Ce===null||Ce.tag!==6?(Ce=tc(Pe,Oe.mode,at),Ce.return=Oe,Ce):(Ce=x(Ce,Pe),Ce.return=Oe,Ce)}function xe(Oe,Ce,Pe,at){var Dt=Pe.type;return Dt===T?et(Oe,Ce,Pe.props.children,at,Pe.key):Ce!==null&&(Ce.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===fe&&Wx(Dt)===Ce.type)?(Ce=x(Ce,Pe.props),Ud(Ce,Pe),Ce.return=Oe,Ce):(Ce=ec(Pe.type,Pe.key,Pe.props,null,Oe.mode,at),Ud(Ce,Pe),Ce.return=Oe,Ce)}function De(Oe,Ce,Pe,at){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Pe.containerInfo||Ce.stateNode.implementation!==Pe.implementation?(Ce=_d(Pe,Oe.mode,at),Ce.return=Oe,Ce):(Ce=x(Ce,Pe.children||[]),Ce.return=Oe,Ce)}function et(Oe,Ce,Pe,at,Dt){return Ce===null||Ce.tag!==7?(Ce=Ws(Pe,Oe.mode,at,Dt),Ce.return=Oe,Ce):(Ce=x(Ce,Pe),Ce.return=Oe,Ce)}function it(Oe,Ce,Pe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=tc(""+Ce,Oe.mode,Pe),Ce.return=Oe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case j:return Pe=ec(Ce.type,Ce.key,Ce.props,null,Oe.mode,Pe),Ud(Pe,Ce),Pe.return=Oe,Pe;case C:return Ce=_d(Ce,Oe.mode,Pe),Ce.return=Oe,Ce;case fe:var at=Ce._init;return Ce=at(Ce._payload),it(Oe,Ce,Pe)}if(pe(Ce)||ee(Ce))return Ce=Ws(Ce,Oe.mode,Pe,null),Ce.return=Oe,Ce;if(typeof Ce.then=="function")return it(Oe,R0(Ce),Pe);if(Ce.$$typeof===H)return it(Oe,oc(Oe,Ce),Pe);P0(Oe,Ce)}return null}function Ue(Oe,Ce,Pe,at){var Dt=Ce!==null?Ce.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Dt!==null?null:V(Oe,Ce,""+Pe,at);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case j:return Pe.key===Dt?xe(Oe,Ce,Pe,at):null;case C:return Pe.key===Dt?De(Oe,Ce,Pe,at):null;case fe:return Dt=Pe._init,Pe=Dt(Pe._payload),Ue(Oe,Ce,Pe,at)}if(pe(Pe)||ee(Pe))return Dt!==null?null:et(Oe,Ce,Pe,at,null);if(typeof Pe.then=="function")return Ue(Oe,Ce,R0(Pe),at);if(Pe.$$typeof===H)return Ue(Oe,Ce,oc(Oe,Pe),at);P0(Oe,Pe)}return null}function Be(Oe,Ce,Pe,at,Dt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Oe=Oe.get(Pe)||null,V(Ce,Oe,""+at,Dt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case j:return Oe=Oe.get(at.key===null?Pe:at.key)||null,xe(Ce,Oe,at,Dt);case C:return Oe=Oe.get(at.key===null?Pe:at.key)||null,De(Ce,Oe,at,Dt);case fe:var Nr=at._init;return at=Nr(at._payload),Be(Oe,Ce,Pe,at,Dt)}if(pe(at)||ee(at))return Oe=Oe.get(Pe)||null,et(Ce,Oe,at,Dt,null);if(typeof at.then=="function")return Be(Oe,Ce,Pe,R0(at),Dt);if(at.$$typeof===H)return Be(Oe,Ce,Pe,oc(Ce,at),Dt);P0(Ce,at)}return null}function ir(Oe,Ce,Pe,at){for(var Dt=null,Nr=null,Wt=Ce,sr=Ce=0,Ba=null;Wt!==null&&sr<Pe.length;sr++){Wt.index>sr?(Ba=Wt,Wt=null):Ba=Wt.sibling;var Lr=Ue(Oe,Wt,Pe[sr],at);if(Lr===null){Wt===null&&(Wt=Ba);break}n&&Wt&&Lr.alternate===null&&i(Oe,Wt),Ce=N(Lr,Ce,sr),Nr===null?Dt=Lr:Nr.sibling=Lr,Nr=Lr,Wt=Ba}if(sr===Pe.length)return d(Oe,Wt),Dr&&ko(Oe,sr),Dt;if(Wt===null){for(;sr<Pe.length;sr++)Wt=it(Oe,Pe[sr],at),Wt!==null&&(Ce=N(Wt,Ce,sr),Nr===null?Dt=Wt:Nr.sibling=Wt,Nr=Wt);return Dr&&ko(Oe,sr),Dt}for(Wt=h(Wt);sr<Pe.length;sr++)Ba=Be(Wt,Oe,sr,Pe[sr],at),Ba!==null&&(n&&Ba.alternate!==null&&Wt.delete(Ba.key===null?sr:Ba.key),Ce=N(Ba,Ce,sr),Nr===null?Dt=Ba:Nr.sibling=Ba,Nr=Ba);return n&&Wt.forEach(function(ki){return i(Oe,ki)}),Dr&&ko(Oe,sr),Dt}function nr(Oe,Ce,Pe,at){if(Pe==null)throw Error(s(151));for(var Dt=null,Nr=null,Wt=Ce,sr=Ce=0,Ba=null,Lr=Pe.next();Wt!==null&&!Lr.done;sr++,Lr=Pe.next()){Wt.index>sr?(Ba=Wt,Wt=null):Ba=Wt.sibling;var ki=Ue(Oe,Wt,Lr.value,at);if(ki===null){Wt===null&&(Wt=Ba);break}n&&Wt&&ki.alternate===null&&i(Oe,Wt),Ce=N(ki,Ce,sr),Nr===null?Dt=ki:Nr.sibling=ki,Nr=ki,Wt=Ba}if(Lr.done)return d(Oe,Wt),Dr&&ko(Oe,sr),Dt;if(Wt===null){for(;!Lr.done;sr++,Lr=Pe.next())Lr=it(Oe,Lr.value,at),Lr!==null&&(Ce=N(Lr,Ce,sr),Nr===null?Dt=Lr:Nr.sibling=Lr,Nr=Lr);return Dr&&ko(Oe,sr),Dt}for(Wt=h(Wt);!Lr.done;sr++,Lr=Pe.next())Lr=Be(Wt,Oe,sr,Lr.value,at),Lr!==null&&(n&&Lr.alternate!==null&&Wt.delete(Lr.key===null?sr:Lr.key),Ce=N(Lr,Ce,sr),Nr===null?Dt=Lr:Nr.sibling=Lr,Nr=Lr);return n&&Wt.forEach(function(Mk){return i(Oe,Mk)}),Dr&&ko(Oe,sr),Dt}function Yr(Oe,Ce,Pe,at){if(typeof Pe=="object"&&Pe!==null&&Pe.type===T&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case j:e:{for(var Dt=Pe.key;Ce!==null;){if(Ce.key===Dt){if(Dt=Pe.type,Dt===T){if(Ce.tag===7){d(Oe,Ce.sibling),at=x(Ce,Pe.props.children),at.return=Oe,Oe=at;break e}}else if(Ce.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===fe&&Wx(Dt)===Ce.type){d(Oe,Ce.sibling),at=x(Ce,Pe.props),Ud(at,Pe),at.return=Oe,Oe=at;break e}d(Oe,Ce);break}else i(Oe,Ce);Ce=Ce.sibling}Pe.type===T?(at=Ws(Pe.props.children,Oe.mode,at,Pe.key),at.return=Oe,Oe=at):(at=ec(Pe.type,Pe.key,Pe.props,null,Oe.mode,at),Ud(at,Pe),at.return=Oe,Oe=at)}return L(Oe);case C:e:{for(Dt=Pe.key;Ce!==null;){if(Ce.key===Dt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Pe.containerInfo&&Ce.stateNode.implementation===Pe.implementation){d(Oe,Ce.sibling),at=x(Ce,Pe.children||[]),at.return=Oe,Oe=at;break e}else{d(Oe,Ce);break}else i(Oe,Ce);Ce=Ce.sibling}at=_d(Pe,Oe.mode,at),at.return=Oe,Oe=at}return L(Oe);case fe:return Dt=Pe._init,Pe=Dt(Pe._payload),Yr(Oe,Ce,Pe,at)}if(pe(Pe))return ir(Oe,Ce,Pe,at);if(ee(Pe)){if(Dt=ee(Pe),typeof Dt!="function")throw Error(s(150));return Pe=Dt.call(Pe),nr(Oe,Ce,Pe,at)}if(typeof Pe.then=="function")return Yr(Oe,Ce,R0(Pe),at);if(Pe.$$typeof===H)return Yr(Oe,Ce,oc(Oe,Pe),at);P0(Oe,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,Ce!==null&&Ce.tag===6?(d(Oe,Ce.sibling),at=x(Ce,Pe),at.return=Oe,Oe=at):(d(Oe,Ce),at=tc(Pe,Oe.mode,at),at.return=Oe,Oe=at),L(Oe)):d(Oe,Ce)}return function(Oe,Ce,Pe,at){try{Ld=0;var Dt=Yr(Oe,Ce,Pe,at);return lc=null,Dt}catch(Wt){if(Wt===y||Wt===g)throw Wt;var Nr=Ia(29,Wt,null,Oe.mode);return Nr.lanes=at,Nr.return=Oe,Nr}finally{}}}var cc=Yx(!0),Qx=Yx(!1),is=z(null),Js=null;function ci(n){var i=n.alternate;ge(Oa,Oa.current&1),ge(is,n),Js===null&&(i===null||dr.current!==null||i.memoizedState!==null)&&(Js=n)}function Xx(n){if(n.tag===22){if(ge(Oa,Oa.current),ge(is,n),Js===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Js=n)}}else di()}function di(){ge(Oa,Oa.current),ge(is,is.current)}function Eo(n){ae(is),Js===n&&(Js=null),ae(Oa)}var Oa=z(0);function M0(n){for(var i=n;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||rg(d)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hm(n,i,d,h){i=n.memoizedState,d=d(h,i),d=d==null?i:p({},i,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var mm={enqueueSetState:function(n,i,d){n=n._reactInternals;var h=Kn(),x=_e(h);x.payload=i,d!=null&&(x.callback=d),i=Fe(n,x,h),i!==null&&(Wn(i,n,h),ke(i,n,h))},enqueueReplaceState:function(n,i,d){n=n._reactInternals;var h=Kn(),x=_e(h);x.tag=1,x.payload=i,d!=null&&(x.callback=d),i=Fe(n,x,h),i!==null&&(Wn(i,n,h),ke(i,n,h))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var d=Kn(),h=_e(d);h.tag=2,i!=null&&(h.callback=i),i=Fe(n,h,d),i!==null&&(Wn(i,n,d),ke(i,n,d))}};function Zx(n,i,d,h,x,N,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,N,L):i.prototype&&i.prototype.isPureReactComponent?!al(d,h)||!al(x,N):!0}function Jx(n,i,d,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,h),i.state!==n&&mm.enqueueReplaceState(i,i.state,null)}function dl(n,i){var d=i;if("ref"in i){d={};for(var h in i)h!=="ref"&&(d[h]=i[h])}if(n=n.defaultProps){d===i&&(d=p({},d));for(var x in n)d[x]===void 0&&(d[x]=n[x])}return d}var D0=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function eb(n){D0(n)}function tb(n){console.error(n)}function rb(n){D0(n)}function I0(n,i){try{var d=n.onUncaughtError;d(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function ab(n,i,d){try{var h=n.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function gm(n,i,d){return d=_e(d),d.tag=3,d.payload={element:null},d.callback=function(){I0(n,i)},d}function nb(n){return n=_e(n),n.tag=3,n}function sb(n,i,d,h){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var N=h.value;n.payload=function(){return x(N)},n.callback=function(){ab(i,d,h)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){ab(i,d,h),typeof x!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function M4(n,i,d,h,x){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=d.alternate,i!==null&&cl(i,d,x,!0),d=is.current,d!==null){switch(d.tag){case 13:return Js===null?Um():d.alternate===null&&ya===0&&(ya=3),d.flags&=-257,d.flags|=65536,d.lanes=x,h===b?d.flags|=16384:(i=d.updateQueue,i===null?d.updateQueue=new Set([h]):i.add(h),zm(n,h,x)),!1;case 22:return d.flags|=65536,h===b?d.flags|=16384:(i=d.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=i):(d=i.retryQueue,d===null?i.retryQueue=new Set([h]):d.add(h)),zm(n,h,x)),!1}throw Error(s(435,d.tag))}return zm(n,h,x),Um(),!1}if(Dr)return i=is.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,h!==il&&(n=Error(s(422),{cause:h}),ga(Sa(n,d)))):(h!==il&&(i=Error(s(423),{cause:h}),ga(Sa(i,d))),n=n.current.alternate,n.flags|=65536,x&=-x,n.lanes|=x,h=Sa(h,d),x=gm(n.stateNode,h,x),Le(n,x),ya!==4&&(ya=2)),!1;var N=Error(s(520),{cause:h});if(N=Sa(N,d),Vd===null?Vd=[N]:Vd.push(N),ya!==4&&(ya=2),i===null)return!0;h=Sa(h,d),d=i;do{switch(d.tag){case 3:return d.flags|=65536,n=x&-x,d.lanes|=n,n=gm(d.stateNode,h,n),Le(d,n),!1;case 1:if(i=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(pi===null||!pi.has(N))))return d.flags|=65536,x&=-x,d.lanes|=x,x=nb(x),sb(x,n,d,h),Le(d,x),!1}d=d.return}while(d!==null);return!1}var ob=Error(s(461)),Fa=!1;function Wa(n,i,d,h){i.child=n===null?Qx(i,null,d,h):cc(i,n.child,d,h)}function ib(n,i,d,h,x){d=d.render;var N=i.ref;if("ref"in h){var L={};for(var V in h)V!=="ref"&&(L[V]=h[V])}else L=h;return Co(i),h=Ad(n,i,d,L,N,x),V=Jh(),n!==null&&!Fa?(em(n,i,x),To(n,i,x)):(Dr&&V&&nc(i),i.flags|=1,Wa(n,i,h,x),i.child)}function lb(n,i,d,h,x){if(n===null){var N=d.type;return typeof N=="function"&&!wo(N)&&N.defaultProps===void 0&&d.compare===null?(i.tag=15,i.type=N,cb(n,i,N,h,x)):(n=ec(d.type,null,h,i,i.mode,x),n.ref=i.ref,n.return=i,i.child=n)}if(N=n.child,!Nm(n,x)){var L=N.memoizedProps;if(d=d.compare,d=d!==null?d:al,d(L,h)&&n.ref===i.ref)return To(n,i,x)}return i.flags|=1,n=Cn(N,h),n.ref=i.ref,n.return=i,i.child=n}function cb(n,i,d,h,x){if(n!==null){var N=n.memoizedProps;if(al(N,h)&&n.ref===i.ref)if(Fa=!1,i.pendingProps=h=N,Nm(n,x))(n.flags&131072)!==0&&(Fa=!0);else return i.lanes=n.lanes,To(n,i,x)}return pm(n,i,d,h,x)}function db(n,i,d){var h=i.pendingProps,x=h.children,N=n!==null?n.memoizedState:null;if(h.mode==="hidden"){if((i.flags&128)!==0){if(h=N!==null?N.baseLanes|d:d,n!==null){for(x=i.child=n.child,N=0;x!==null;)N=N|x.lanes|x.childLanes,x=x.sibling;i.childLanes=N&~h}else i.childLanes=0,i.child=null;return ub(n,i,h,d)}if((d&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Zs(i,N!==null?N.cachePool:null),N!==null?vr(i,N):sn(),Xx(i);else return i.lanes=i.childLanes=536870912,ub(n,i,N!==null?N.baseLanes|d:d,d)}else N!==null?(Zs(i,N.cachePool),vr(i,N),di(),i.memoizedState=null):(n!==null&&Zs(i,null),sn(),di());return Wa(n,i,x,d),i.child}function ub(n,i,d,h){var x=ss();return x=x===null?null:{parent:pa._currentValue,pool:x},i.memoizedState={baseLanes:d,cachePool:x},n!==null&&Zs(i,null),sn(),Xx(i),n!==null&&cl(n,i,h,!0),null}function L0(n,i){var d=i.ref;if(d===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(n===null||n.ref!==d)&&(i.flags|=4194816)}}function pm(n,i,d,h,x){return Co(i),d=Ad(n,i,d,h,void 0,x),h=Jh(),n!==null&&!Fa?(em(n,i,x),To(n,i,x)):(Dr&&h&&nc(i),i.flags|=1,Wa(n,i,d,x),i.child)}function fb(n,i,d,h,x,N){return Co(i),i.updateQueue=null,d=Pd(i,h,d,x),Rd(n),h=Jh(),n!==null&&!Fa?(em(n,i,N),To(n,i,N)):(Dr&&h&&nc(i),i.flags|=1,Wa(n,i,d,N),i.child)}function hb(n,i,d,h,x){if(Co(i),i.stateNode===null){var N=si,L=d.contextType;typeof L=="object"&&L!==null&&(N=Ua(L)),N=new d(h,N),i.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=mm,i.stateNode=N,N._reactInternals=i,N=i.stateNode,N.props=h,N.state=i.memoizedState,N.refs={},ie(i),L=d.contextType,N.context=typeof L=="object"&&L!==null?Ua(L):si,N.state=i.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(hm(i,d,L,h),N.state=i.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(L=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),L!==N.state&&mm.enqueueReplaceState(N,N.state,null),Ot(i,h,N,x),Xe(),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(n===null){N=i.stateNode;var V=i.memoizedProps,xe=dl(d,V);N.props=xe;var De=N.context,et=d.contextType;L=si,typeof et=="object"&&et!==null&&(L=Ua(et));var it=d.getDerivedStateFromProps;et=typeof it=="function"||typeof N.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,et||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V||De!==L)&&Jx(i,N,h,L),G=!1;var Ue=i.memoizedState;N.state=Ue,Ot(i,h,N,x),Xe(),De=i.memoizedState,V||Ue!==De||G?(typeof it=="function"&&(hm(i,d,it,h),De=i.memoizedState),(xe=G||Zx(i,d,xe,h,Ue,De,L))?(et||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=De),N.props=h,N.state=De,N.context=L,h=xe):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{N=i.stateNode,we(n,i),L=i.memoizedProps,et=dl(d,L),N.props=et,it=i.pendingProps,Ue=N.context,De=d.contextType,xe=si,typeof De=="object"&&De!==null&&(xe=Ua(De)),V=d.getDerivedStateFromProps,(De=typeof V=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(L!==it||Ue!==xe)&&Jx(i,N,h,xe),G=!1,Ue=i.memoizedState,N.state=Ue,Ot(i,h,N,x),Xe();var Be=i.memoizedState;L!==it||Ue!==Be||G||n!==null&&n.dependencies!==null&&sc(n.dependencies)?(typeof V=="function"&&(hm(i,d,V,h),Be=i.memoizedState),(et=G||Zx(i,d,et,h,Ue,Be,xe)||n!==null&&n.dependencies!==null&&sc(n.dependencies))?(De||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(h,Be,xe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(h,Be,xe)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||L===n.memoizedProps&&Ue===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Ue===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Be),N.props=h,N.state=Be,N.context=xe,h=et):(typeof N.componentDidUpdate!="function"||L===n.memoizedProps&&Ue===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Ue===n.memoizedState||(i.flags|=1024),h=!1)}return N=h,L0(n,i),h=(i.flags&128)!==0,N||h?(N=i.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:N.render(),i.flags|=1,n!==null&&h?(i.child=cc(i,n.child,null,x),i.child=cc(i,null,d,x)):Wa(n,i,d,x),i.memoizedState=N.state,n=i.child):n=To(n,i,x),n}function mb(n,i,d,h){return Tn(),i.flags|=256,Wa(n,i,d,h),i.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(n){return{baseLanes:n,cachePool:Od()}}function bm(n,i,d){return n=n!==null?n.childLanes&~d:0,i&&(n|=ls),n}function gb(n,i,d){var h=i.pendingProps,x=!1,N=(i.flags&128)!==0,L;if((L=N)||(L=n!==null&&n.memoizedState===null?!1:(Oa.current&2)!==0),L&&(x=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(Dr){if(x?ci(i):di(),Dr){var V=Sr,xe;if(xe=V){e:{for(xe=V,V=$a;xe.nodeType!==8;){if(!V){V=null;break e}if(xe=$s(xe.nextSibling),xe===null){V=null;break e}}V=xe}V!==null?(i.memoizedState={dehydrated:V,treeContext:No!==null?{id:ks,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},xe=Ia(18,null,null,0),xe.stateNode=V,xe.return=i,i.child=xe,Ca=i,Sr=null,xe=!0):xe=!1}xe||La(i)}if(V=i.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return rg(V)?i.lanes=32:i.lanes=536870912,null;Eo(i)}return V=h.children,h=h.fallback,x?(di(),x=i.mode,V=U0({mode:"hidden",children:V},x),h=Ws(h,x,d,null),V.return=i,h.return=i,V.sibling=h,i.child=V,x=i.child,x.memoizedState=xm(d),x.childLanes=bm(n,L,d),i.memoizedState=ym,h):(ci(i),vm(i,V))}if(xe=n.memoizedState,xe!==null&&(V=xe.dehydrated,V!==null)){if(N)i.flags&256?(ci(i),i.flags&=-257,i=wm(n,i,d)):i.memoizedState!==null?(di(),i.child=n.child,i.flags|=128,i=null):(di(),x=h.fallback,V=i.mode,h=U0({mode:"visible",children:h.children},V),x=Ws(x,V,d,null),x.flags|=2,h.return=i,x.return=i,h.sibling=x,i.child=h,cc(i,n.child,null,d),h=i.child,h.memoizedState=xm(d),h.childLanes=bm(n,L,d),i.memoizedState=ym,i=x);else if(ci(i),rg(V)){if(L=V.nextSibling&&V.nextSibling.dataset,L)var De=L.dgst;L=De,h=Error(s(419)),h.stack="",h.digest=L,ga({value:h,source:null,stack:null}),i=wm(n,i,d)}else if(Fa||cl(n,i,d,!1),L=(d&n.childLanes)!==0,Fa||L){if(L=ea,L!==null&&(h=d&-d,h=(h&42)!==0?1:st(h),h=(h&(L.suspendedLanes|d))!==0?0:h,h!==0&&h!==xe.retryLane))throw xe.retryLane=h,ni(n,h),Wn(L,n,h),ob;V.data==="$?"||Um(),i=wm(n,i,d)}else V.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=xe.treeContext,Sr=$s(V.nextSibling),Ca=i,Dr=!0,gn=null,$a=!1,n!==null&&($n[En++]=ks,$n[En++]=ns,$n[En++]=No,ks=n.id,ns=n.overflow,No=i),i=vm(i,h.children),i.flags|=4096);return i}return x?(di(),x=h.fallback,V=i.mode,xe=n.child,De=xe.sibling,h=Cn(xe,{mode:"hidden",children:h.children}),h.subtreeFlags=xe.subtreeFlags&65011712,De!==null?x=Cn(De,x):(x=Ws(x,V,d,null),x.flags|=2),x.return=i,h.return=i,h.sibling=x,i.child=h,h=x,x=i.child,V=n.child.memoizedState,V===null?V=xm(d):(xe=V.cachePool,xe!==null?(De=pa._currentValue,xe=xe.parent!==De?{parent:De,pool:De}:xe):xe=Od(),V={baseLanes:V.baseLanes|d,cachePool:xe}),x.memoizedState=V,x.childLanes=bm(n,L,d),i.memoizedState=ym,h):(ci(i),d=n.child,n=d.sibling,d=Cn(d,{mode:"visible",children:h.children}),d.return=i,d.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=d,i.memoizedState=null,d)}function vm(n,i){return i=U0({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function U0(n,i){return n=Ia(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function wm(n,i,d){return cc(i,n.child,null,d),n=vm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function pb(n,i,d){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),Cd(n.return,i,d)}function jm(n,i,d,h,x){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:x}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=h,N.tail=d,N.tailMode=x)}function yb(n,i,d){var h=i.pendingProps,x=h.revealOrder,N=h.tail;if(Wa(n,i,h.children,d),h=Oa.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pb(n,d,i);else if(n.tag===19)pb(n,d,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}switch(ge(Oa,h),x){case"forwards":for(d=i.child,x=null;d!==null;)n=d.alternate,n!==null&&M0(n)===null&&(x=d),d=d.sibling;d=x,d===null?(x=i.child,i.child=null):(x=d.sibling,d.sibling=null),jm(i,!1,x,d,N);break;case"backwards":for(d=null,x=i.child,i.child=null;x!==null;){if(n=x.alternate,n!==null&&M0(n)===null){i.child=x;break}n=x.sibling,x.sibling=d,d=x,x=n}jm(i,!0,d,null,N);break;case"together":jm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function To(n,i,d){if(n!==null&&(i.dependencies=n.dependencies),gi|=i.lanes,(d&i.childLanes)===0)if(n!==null){if(cl(n,i,d,!1),(d&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,d=Cn(n,n.pendingProps),i.child=d,d.return=i;n.sibling!==null;)n=n.sibling,d=d.sibling=Cn(n,n.pendingProps),d.return=i;d.sibling=null}return i.child}function Nm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&sc(n)))}function D4(n,i,d){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),pn(i,pa,n.memoizedState.cache),Tn();break;case 27:case 5:dt(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:pn(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(ci(i),i.flags|=128,null):(d&i.child.childLanes)!==0?gb(n,i,d):(ci(i),n=To(n,i,d),n!==null?n.sibling:null);ci(i);break;case 19:var x=(n.flags&128)!==0;if(h=(d&i.childLanes)!==0,h||(cl(n,i,d,!1),h=(d&i.childLanes)!==0),x){if(h)return yb(n,i,d);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ge(Oa,Oa.current),h)break;return null;case 22:case 23:return i.lanes=0,db(n,i,d);case 24:pn(i,pa,n.memoizedState.cache)}return To(n,i,d)}function xb(n,i,d){if(n!==null)if(n.memoizedProps!==i.pendingProps)Fa=!0;else{if(!Nm(n,d)&&(i.flags&128)===0)return Fa=!1,D4(n,i,d);Fa=(n.flags&131072)!==0}else Fa=!1,Dr&&(i.flags&1048576)!==0&&w0(i,ac,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var h=i.elementType,x=h._init;if(h=x(h._payload),i.type=h,typeof h=="function")wo(h)?(n=dl(h,n),i.tag=1,i=hb(null,i,h,n,d)):(i.tag=0,i=pm(null,i,h,n,d));else{if(h!=null){if(x=h.$$typeof,x===M){i.tag=11,i=ib(null,i,h,n,d);break e}else if(x===oe){i.tag=14,i=lb(null,i,h,n,d);break e}}throw i=te(h)||h,Error(s(306,i,""))}}return i;case 0:return pm(n,i,i.type,i.pendingProps,d);case 1:return h=i.type,x=dl(h,i.pendingProps),hb(n,i,h,x,d);case 3:e:{if(Ke(i,i.stateNode.containerInfo),n===null)throw Error(s(387));h=i.pendingProps;var N=i.memoizedState;x=N.element,we(n,i),Ot(i,h,null,d);var L=i.memoizedState;if(h=L.cache,pn(i,pa,h),h!==N.cache&&$d(i,[pa],d,!0),Xe(),h=L.element,N.isDehydrated)if(N={element:h,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){i=mb(n,i,h,d);break e}else if(h!==x){x=Sa(Error(s(424)),i),ga(x),i=mb(n,i,h,d);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Sr=$s(n.firstChild),Ca=i,Dr=!0,gn=null,$a=!0,d=Qx(i,null,h,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Tn(),h===x){i=To(n,i,d);break e}Wa(n,i,h,d)}i=i.child}return i;case 26:return L0(n,i),n===null?(d=jv(i.type,null,i.pendingProps,null))?i.memoizedState=d:Dr||(d=i.type,n=i.pendingProps,h=J0(Q.current).createElement(d),h[Ve]=i,h[lt]=n,Qa(h,d,n),er(h),i.stateNode=h):i.memoizedState=jv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return dt(i),n===null&&Dr&&(h=i.stateNode=bv(i.type,i.pendingProps,Q.current),Ca=i,$a=!0,x=Sr,bi(i.type)?(ag=x,Sr=$s(h.firstChild)):Sr=x),Wa(n,i,i.pendingProps.children,d),L0(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Dr&&((x=h=Sr)&&(h=dk(h,i.type,i.pendingProps,$a),h!==null?(i.stateNode=h,Ca=i,Sr=$s(h.firstChild),$a=!1,x=!0):x=!1),x||La(i)),dt(i),x=i.type,N=i.pendingProps,L=n!==null?n.memoizedProps:null,h=N.children,Jm(x,N)?h=null:L!==null&&Jm(x,L)&&(i.flags|=32),i.memoizedState!==null&&(x=Ad(n,i,$4,null,null,d),tu._currentValue=x),L0(n,i),Wa(n,i,h,d),i.child;case 6:return n===null&&Dr&&((n=d=Sr)&&(d=uk(d,i.pendingProps,$a),d!==null?(i.stateNode=d,Ca=i,Sr=null,n=!0):n=!1),n||La(i)),null;case 13:return gb(n,i,d);case 4:return Ke(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=cc(i,null,h,d):Wa(n,i,h,d),i.child;case 11:return ib(n,i,i.type,i.pendingProps,d);case 7:return Wa(n,i,i.pendingProps,d),i.child;case 8:return Wa(n,i,i.pendingProps.children,d),i.child;case 12:return Wa(n,i,i.pendingProps.children,d),i.child;case 10:return h=i.pendingProps,pn(i,i.type,h.value),Wa(n,i,h.children,d),i.child;case 9:return x=i.type._context,h=i.pendingProps.children,Co(i),x=Ua(x),h=h(x),i.flags|=1,Wa(n,i,h,d),i.child;case 14:return lb(n,i,i.type,i.pendingProps,d);case 15:return cb(n,i,i.type,i.pendingProps,d);case 19:return yb(n,i,d);case 31:return h=i.pendingProps,d=i.mode,h={mode:h.mode,children:h.children},n===null?(d=U0(h,d),d.ref=i.ref,i.child=d,d.return=i,i=d):(d=Cn(n.child,h),d.ref=i.ref,i.child=d,d.return=i,i=d),i;case 22:return db(n,i,d);case 24:return Co(i),h=Ua(pa),n===null?(x=ss(),x===null&&(x=ea,N=Ed(),x.pooledCache=N,N.refCount++,N!==null&&(x.pooledCacheLanes|=d),x=N),i.memoizedState={parent:h,cache:x},ie(i),pn(i,pa,x)):((n.lanes&d)!==0&&(we(n,i),Ot(i,null,null,d),Xe()),x=n.memoizedState,N=i.memoizedState,x.parent!==h?(x={parent:h,cache:h},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),pn(i,pa,h)):(h=N.cache,pn(i,pa,h),h!==x.cache&&$d(i,[pa],d,!0))),Wa(n,i,i.pendingProps.children,d),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Oo(n){n.flags|=4}function bb(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Cv(i)){if(i=is.current,i!==null&&((Pr&4194048)===Pr?Js!==null:(Pr&62914560)!==Pr&&(Pr&536870912)===0||i!==Js))throw A=b,v;n.flags|=8192}}function F0(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?va():536870912,n.lanes|=i,hc|=i)}function Fd(n,i){if(!Dr)switch(n.tailMode){case"hidden":i=n.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function ca(n){var i=n.alternate!==null&&n.alternate.child===n.child,d=0,h=0;if(i)for(var x=n.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=h,n.childLanes=d,i}function I4(n,i,d){var h=i.pendingProps;switch(Sd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ca(i),null;case 1:return ca(i),null;case 3:return d=i.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Ka(pa),ct(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(oa(i)?Oo(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bn())),ca(i),null;case 26:return d=i.memoizedState,n===null?(Oo(i),d!==null?(ca(i),bb(i,d)):(ca(i),i.flags&=-16777217)):d?d!==n.memoizedState?(Oo(i),ca(i),bb(i,d)):(ca(i),i.flags&=-16777217):(n.memoizedProps!==h&&Oo(i),ca(i),i.flags&=-16777217),null;case 27:kt(i),d=Q.current;var x=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==h&&Oo(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return ca(i),null}n=ue.current,oa(i)?ll(i):(n=bv(x,h,d),i.stateNode=n,Oo(i))}return ca(i),null;case 5:if(kt(i),d=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==h&&Oo(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return ca(i),null}if(n=ue.current,oa(i))ll(i);else{switch(x=J0(Q.current),n){case 1:n=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:n=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":n=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":n=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?n.multiple=!0:h.size&&(n.size=h.size);break;default:n=typeof h.is=="string"?x.createElement(d,{is:h.is}):x.createElement(d)}}n[Ve]=i,n[lt]=h;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)n.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=n;e:switch(Qa(n,d,h),d){case"button":case"input":case"select":case"textarea":n=!!h.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Oo(i)}}return ca(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==h&&Oo(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(s(166));if(n=Q.current,oa(i)){if(n=i.stateNode,d=i.memoizedProps,h=null,x=Ca,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}n[Ve]=i,n=!!(n.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||fv(n.nodeValue,d)),n||La(i)}else n=J0(n).createTextNode(h),n[Ve]=i,i.stateNode=n}return ca(i),null;case 13:if(h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(x=oa(i),h!==null&&h.dehydrated!==null){if(n===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Ve]=i}else Tn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ca(i),x=!1}else x=Bn(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(Eo(i),i):(Eo(i),null)}if(Eo(i),(i.flags&128)!==0)return i.lanes=d,i;if(d=h!==null,n=n!==null&&n.memoizedState!==null,d){h=i.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool);var N=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(N=h.memoizedState.cachePool.pool),N!==x&&(h.flags|=2048)}return d!==n&&d&&(i.child.flags|=8192),F0(i,i.updateQueue),ca(i),null;case 4:return ct(),n===null&&Wm(i.stateNode.containerInfo),ca(i),null;case 10:return Ka(i.type),ca(i),null;case 19:if(ae(Oa),x=i.memoizedState,x===null)return ca(i),null;if(h=(i.flags&128)!==0,N=x.rendering,N===null)if(h)Fd(x,!1);else{if(ya!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(N=M0(n),N!==null){for(i.flags|=128,Fd(x,!1),n=N.updateQueue,i.updateQueue=n,F0(i,n),i.subtreeFlags=0,n=d,d=i.child;d!==null;)kd(d,n),d=d.sibling;return ge(Oa,Oa.current&1|2),i.child}n=n.sibling}x.tail!==null&&ye()>q0&&(i.flags|=128,h=!0,Fd(x,!1),i.lanes=4194304)}else{if(!h)if(n=M0(N),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,F0(i,n),Fd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!Dr)return ca(i),null}else 2*ye()-x.renderingStartTime>q0&&d!==536870912&&(i.flags|=128,h=!0,Fd(x,!1),i.lanes=4194304);x.isBackwards?(N.sibling=i.child,i.child=N):(n=x.last,n!==null?n.sibling=N:i.child=N,x.last=N)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=ye(),i.sibling=null,n=Oa.current,ge(Oa,h?n&1|2:n&1),i):(ca(i),null);case 22:case 23:return Eo(i),yn(),h=i.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(d&536870912)!==0&&(i.flags&128)===0&&(ca(i),i.subtreeFlags&6&&(i.flags|=8192)):ca(i),d=i.updateQueue,d!==null&&F0(i,d.retryQueue),d=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==d&&(i.flags|=2048),n!==null&&ae(Xs),null;case 24:return d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Ka(pa),ca(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function L4(n,i){switch(Sd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ka(pa),ct(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return kt(i),null;case 13:if(Eo(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Tn()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ae(Oa),null;case 4:return ct(),null;case 10:return Ka(i.type),null;case 22:case 23:return Eo(i),yn(),n!==null&&ae(Xs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ka(pa),null;case 25:return null;default:return null}}function vb(n,i){switch(Sd(i),i.tag){case 3:Ka(pa),ct();break;case 26:case 27:case 5:kt(i);break;case 4:ct();break;case 13:Eo(i);break;case 19:ae(Oa);break;case 10:Ka(i.type);break;case 22:case 23:Eo(i),yn(),n!==null&&ae(Xs);break;case 24:Ka(pa)}}function zd(n,i){try{var d=i.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var x=h.next;d=x;do{if((d.tag&n)===n){h=void 0;var N=d.create,L=d.inst;h=N(),L.destroy=h}d=d.next}while(d!==x)}}catch(V){Qr(i,i.return,V)}}function ui(n,i,d){try{var h=i.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var N=x.next;h=N;do{if((h.tag&n)===n){var L=h.inst,V=L.destroy;if(V!==void 0){L.destroy=void 0,x=i;var xe=d,De=V;try{De()}catch(et){Qr(x,xe,et)}}}h=h.next}while(h!==N)}}catch(et){Qr(i,i.return,et)}}function wb(n){var i=n.updateQueue;if(i!==null){var d=n.stateNode;try{ar(i,d)}catch(h){Qr(n,n.return,h)}}}function jb(n,i,d){d.props=dl(n.type,n.memoizedProps),d.state=n.memoizedState;try{d.componentWillUnmount()}catch(h){Qr(n,i,h)}}function Bd(n,i){try{var d=n.ref;if(d!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof d=="function"?n.refCleanup=d(h):d.current=h}}catch(x){Qr(n,i,x)}}function eo(n,i){var d=n.ref,h=n.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(x){Qr(n,i,x)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Qr(n,i,x)}else d.current=null}function Nb(n){var i=n.type,d=n.memoizedProps,h=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(x){Qr(n,n.return,x)}}function km(n,i,d){try{var h=n.stateNode;sk(h,n.type,d,i),h[lt]=i}catch(x){Qr(n,n.return,x)}}function kb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&bi(n.type)||n.tag===4}function _m(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&bi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sm(n,i,d){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(n,i):(i=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,i.appendChild(n),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=Z0));else if(h!==4&&(h===27&&bi(n.type)&&(d=n.stateNode,i=null),n=n.child,n!==null))for(Sm(n,i,d),n=n.sibling;n!==null;)Sm(n,i,d),n=n.sibling}function z0(n,i,d){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?d.insertBefore(n,i):d.appendChild(n);else if(h!==4&&(h===27&&bi(n.type)&&(d=n.stateNode),n=n.child,n!==null))for(z0(n,i,d),n=n.sibling;n!==null;)z0(n,i,d),n=n.sibling}function _b(n){var i=n.stateNode,d=n.memoizedProps;try{for(var h=n.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Qa(i,h,d),i[Ve]=n,i[lt]=d}catch(N){Qr(n,n.return,N)}}var Ao=!1,Na=!1,Cm=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,za=null;function U4(n,i){if(n=n.containerInfo,Xm=sf,n=xd(n),bd(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var x=h.anchorOffset,N=h.focusNode;h=h.focusOffset;try{d.nodeType,N.nodeType}catch(nr){d=null;break e}var L=0,V=-1,xe=-1,De=0,et=0,it=n,Ue=null;t:for(;;){for(var Be;it!==d||x!==0&&it.nodeType!==3||(V=L+x),it!==N||h!==0&&it.nodeType!==3||(xe=L+h),it.nodeType===3&&(L+=it.nodeValue.length),(Be=it.firstChild)!==null;)Ue=it,it=Be;for(;;){if(it===n)break t;if(Ue===d&&++De===x&&(V=L),Ue===N&&++et===h&&(xe=L),(Be=it.nextSibling)!==null)break;it=Ue,Ue=it.parentNode}it=Be}d=V===-1||xe===-1?null:{start:V,end:xe}}else d=null}d=d||{start:0,end:0}}else d=null;for(Zm={focusedElem:n,selectionRange:d},sf=!1,za=i;za!==null;)if(i=za,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,za=n;else for(;za!==null;){switch(i=za,N=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&N!==null){n=void 0,d=i,x=N.memoizedProps,N=N.memoizedState,h=d.stateNode;try{var ir=dl(d.type,x,d.elementType===d.type);n=h.getSnapshotBeforeUpdate(ir,N),h.__reactInternalSnapshotBeforeUpdate=n}catch(nr){Qr(d,d.return,nr)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,d=n.nodeType,d===9)tg(n);else if(d===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":tg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,za=n;break}za=i.return}}function Cb(n,i,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:fi(n,d),h&4&&zd(5,d);break;case 1:if(fi(n,d),h&4)if(n=d.stateNode,i===null)try{n.componentDidMount()}catch(L){Qr(d,d.return,L)}else{var x=dl(d.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(x,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Qr(d,d.return,L)}}h&64&&wb(d),h&512&&Bd(d,d.return);break;case 3:if(fi(n,d),h&64&&(n=d.updateQueue,n!==null)){if(i=null,d.child!==null)switch(d.child.tag){case 27:case 5:i=d.child.stateNode;break;case 1:i=d.child.stateNode}try{ar(n,i)}catch(L){Qr(d,d.return,L)}}break;case 27:i===null&&h&4&&_b(d);case 26:case 5:fi(n,d),i===null&&h&4&&Nb(d),h&512&&Bd(d,d.return);break;case 12:fi(n,d);break;case 13:fi(n,d),h&4&&Tb(n,d),h&64&&(n=d.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(d=W4.bind(null,d),fk(n,d))));break;case 22:if(h=d.memoizedState!==null||Ao,!h){i=i!==null&&i.memoizedState!==null||Na,x=Ao;var N=Na;Ao=h,(Na=i)&&!N?hi(n,d,(d.subtreeFlags&8772)!==0):fi(n,d),Ao=x,Na=N}break;case 30:break;default:fi(n,d)}}function $b(n){var i=n.alternate;i!==null&&(n.alternate=null,$b(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ht(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ia=null,Rn=!1;function Ro(n,i,d){for(d=d.child;d!==null;)Eb(n,i,d),d=d.sibling}function Eb(n,i,d){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(tt,d)}catch(N){}switch(d.tag){case 26:Na||eo(d,i),Ro(n,i,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Na||eo(d,i);var h=ia,x=Rn;bi(d.type)&&(ia=d.stateNode,Rn=!1),Ro(n,i,d),Xd(d.stateNode),ia=h,Rn=x;break;case 5:Na||eo(d,i);case 6:if(h=ia,x=Rn,ia=null,Ro(n,i,d),ia=h,Rn=x,ia!==null)if(Rn)try{(ia.nodeType===9?ia.body:ia.nodeName==="HTML"?ia.ownerDocument.body:ia).removeChild(d.stateNode)}catch(N){Qr(d,i,N)}else try{ia.removeChild(d.stateNode)}catch(N){Qr(d,i,N)}break;case 18:ia!==null&&(Rn?(n=ia,yv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,d.stateNode),su(n)):yv(ia,d.stateNode));break;case 4:h=ia,x=Rn,ia=d.stateNode.containerInfo,Rn=!0,Ro(n,i,d),ia=h,Rn=x;break;case 0:case 11:case 14:case 15:Na||ui(2,d,i),Na||ui(4,d,i),Ro(n,i,d);break;case 1:Na||(eo(d,i),h=d.stateNode,typeof h.componentWillUnmount=="function"&&jb(d,i,h)),Ro(n,i,d);break;case 21:Ro(n,i,d);break;case 22:Na=(h=Na)||d.memoizedState!==null,Ro(n,i,d),Na=h;break;default:Ro(n,i,d)}}function Tb(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{su(n)}catch(d){Qr(i,i.return,d)}}function F4(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Sb),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Sb),i;default:throw Error(s(435,n.tag))}}function $m(n,i){var d=F4(n);i.forEach(function(h){var x=Y4.bind(null,n,h);d.has(h)||(d.add(h),h.then(x,x))})}function Hn(n,i){var d=i.deletions;if(d!==null)for(var h=0;h<d.length;h++){var x=d[h],N=n,L=i,V=L;e:for(;V!==null;){switch(V.tag){case 27:if(bi(V.type)){ia=V.stateNode,Rn=!1;break e}break;case 5:ia=V.stateNode,Rn=!1;break e;case 3:case 4:ia=V.stateNode.containerInfo,Rn=!0;break e}V=V.return}if(ia===null)throw Error(s(160));Eb(N,L,x),ia=null,Rn=!1,N=x.alternate,N!==null&&(N.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ob(i,n),i=i.sibling}var Cs=null;function Ob(n,i){var d=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(i,n),Gn(n),h&4&&(ui(3,n,n.return),zd(3,n),ui(5,n,n.return));break;case 1:Hn(i,n),Gn(n),h&512&&(Na||d===null||eo(d,d.return)),h&64&&Ao&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(d=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var x=Cs;if(Hn(i,n),Gn(n),h&512&&(Na||d===null||eo(d,d.return)),h&4){var N=d!==null?d.memoizedState:null;if(h=n.memoizedState,d===null)if(h===null)if(n.stateNode===null){e:{h=n.type,d=n.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":N=x.getElementsByTagName("title")[0],(!N||N[Qt]||N[Ve]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=x.createElement(h),x.head.insertBefore(N,x.querySelector("head > title"))),Qa(N,h,d),N[Ve]=n,er(N),h=N;break e;case"link":var L=_v("link","href",x).get(h+(d.href||""));if(L){for(var V=0;V<L.length;V++)if(N=L[V],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(V,1);break t}}N=x.createElement(h),Qa(N,h,d),x.head.appendChild(N);break;case"meta":if(L=_v("meta","content",x).get(h+(d.content||""))){for(V=0;V<L.length;V++)if(N=L[V],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(V,1);break t}}N=x.createElement(h),Qa(N,h,d),x.head.appendChild(N);break;default:throw Error(s(468,h))}N[Ve]=n,er(N),h=N}n.stateNode=h}else Sv(x,n.type,n.stateNode);else n.stateNode=kv(x,h,n.memoizedProps);else N!==h?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,h===null?Sv(x,n.type,n.stateNode):kv(x,h,n.memoizedProps)):h===null&&n.stateNode!==null&&km(n,n.memoizedProps,d.memoizedProps)}break;case 27:Hn(i,n),Gn(n),h&512&&(Na||d===null||eo(d,d.return)),d!==null&&h&4&&km(n,n.memoizedProps,d.memoizedProps);break;case 5:if(Hn(i,n),Gn(n),h&512&&(Na||d===null||eo(d,d.return)),n.flags&32){x=n.stateNode;try{ts(x,"")}catch(Be){Qr(n,n.return,Be)}}h&4&&n.stateNode!=null&&(x=n.memoizedProps,km(n,x,d!==null?d.memoizedProps:x)),h&1024&&(Cm=!0);break;case 6:if(Hn(i,n),Gn(n),h&4){if(n.stateNode===null)throw Error(s(162));h=n.memoizedProps,d=n.stateNode;try{d.nodeValue=h}catch(Be){Qr(n,n.return,Be)}}break;case 3:if(rf=null,x=Cs,Cs=ef(i.containerInfo),Hn(i,n),Cs=x,Gn(n),h&4&&d!==null&&d.memoizedState.isDehydrated)try{su(i.containerInfo)}catch(Be){Qr(n,n.return,Be)}Cm&&(Cm=!1,Ab(n));break;case 4:h=Cs,Cs=ef(n.stateNode.containerInfo),Hn(i,n),Gn(n),Cs=h;break;case 12:Hn(i,n),Gn(n);break;case 13:Hn(i,n),Gn(n),n.child.flags&8192&&n.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pm=ye()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,$m(n,h)));break;case 22:x=n.memoizedState!==null;var xe=d!==null&&d.memoizedState!==null,De=Ao,et=Na;if(Ao=De||x,Na=et||xe,Hn(i,n),Na=et,Ao=De,Gn(n),h&8192)e:for(i=n.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(d===null||xe||Ao||Na||ul(n)),d=null,i=n;;){if(i.tag===5||i.tag===26){if(d===null){xe=d=i;try{if(N=xe.stateNode,x)L=N.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{V=xe.stateNode;var it=xe.memoizedProps.style,Ue=it!=null&&it.hasOwnProperty("display")?it.display:null;V.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(Be){Qr(xe,xe.return,Be)}}}else if(i.tag===6){if(d===null){xe=i;try{xe.stateNode.nodeValue=x?"":xe.memoizedProps}catch(Be){Qr(xe,xe.return,Be)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=n.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,$m(n,d))));break;case 19:Hn(i,n),Gn(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,$m(n,h)));break;case 30:break;case 21:break;default:Hn(i,n),Gn(n)}}function Gn(n){var i=n.flags;if(i&2){try{for(var d,h=n.return;h!==null;){if(kb(h)){d=h;break}h=h.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var x=d.stateNode,N=_m(n);z0(n,N,x);break;case 5:var L=d.stateNode;d.flags&32&&(ts(L,""),d.flags&=-33);var V=_m(n);z0(n,V,L);break;case 3:case 4:var xe=d.stateNode.containerInfo,De=_m(n);Sm(n,De,xe);break;default:throw Error(s(161))}}catch(et){Qr(n,n.return,et)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Ab(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Ab(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function fi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cb(n,i.alternate,i),i=i.sibling}function ul(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ui(4,i,i.return),ul(i);break;case 1:eo(i,i.return);var d=i.stateNode;typeof d.componentWillUnmount=="function"&&jb(i,i.return,d),ul(i);break;case 27:Xd(i.stateNode);case 26:case 5:eo(i,i.return),ul(i);break;case 22:i.memoizedState===null&&ul(i);break;case 30:ul(i);break;default:ul(i)}n=n.sibling}}function hi(n,i,d){for(d=d&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,x=n,N=i,L=N.flags;switch(N.tag){case 0:case 11:case 15:hi(x,N,d),zd(4,N);break;case 1:if(hi(x,N,d),h=N,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(De){Qr(h,h.return,De)}if(h=N,x=h.updateQueue,x!==null){var V=h.stateNode;try{var xe=x.shared.hiddenCallbacks;if(xe!==null)for(x.shared.hiddenCallbacks=null,x=0;x<xe.length;x++)St(xe[x],V)}catch(De){Qr(h,h.return,De)}}d&&L&64&&wb(N),Bd(N,N.return);break;case 27:_b(N);case 26:case 5:hi(x,N,d),d&&h===null&&L&4&&Nb(N),Bd(N,N.return);break;case 12:hi(x,N,d);break;case 13:hi(x,N,d),d&&L&4&&Tb(x,N);break;case 22:N.memoizedState===null&&hi(x,N,d),Bd(N,N.return);break;case 30:break;default:hi(x,N,d)}i=i.sibling}}function Em(n,i){var d=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==d&&(n!=null&&n.refCount++,d!=null&&oi(d))}function Tm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&oi(n))}function to(n,i,d,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rb(n,i,d,h),i=i.sibling}function Rb(n,i,d,h){var x=i.flags;switch(i.tag){case 0:case 11:case 15:to(n,i,d,h),x&2048&&zd(9,i);break;case 1:to(n,i,d,h);break;case 3:to(n,i,d,h),x&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&oi(n)));break;case 12:if(x&2048){to(n,i,d,h),n=i.stateNode;try{var N=i.memoizedProps,L=N.id,V=N.onPostCommit;typeof V=="function"&&V(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(xe){Qr(i,i.return,xe)}}else to(n,i,d,h);break;case 13:to(n,i,d,h);break;case 23:break;case 22:N=i.stateNode,L=i.alternate,i.memoizedState!==null?N._visibility&2?to(n,i,d,h):qd(n,i):N._visibility&2?to(n,i,d,h):(N._visibility|=2,dc(n,i,d,h,(i.subtreeFlags&10256)!==0)),x&2048&&Em(L,i);break;case 24:to(n,i,d,h),x&2048&&Tm(i.alternate,i);break;default:to(n,i,d,h)}}function dc(n,i,d,h,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var N=n,L=i,V=d,xe=h,De=L.flags;switch(L.tag){case 0:case 11:case 15:dc(N,L,V,xe,x),zd(8,L);break;case 23:break;case 22:var et=L.stateNode;L.memoizedState!==null?et._visibility&2?dc(N,L,V,xe,x):qd(N,L):(et._visibility|=2,dc(N,L,V,xe,x)),x&&De&2048&&Em(L.alternate,L);break;case 24:dc(N,L,V,xe,x),x&&De&2048&&Tm(L.alternate,L);break;default:dc(N,L,V,xe,x)}i=i.sibling}}function qd(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var d=n,h=i,x=h.flags;switch(h.tag){case 22:qd(d,h),x&2048&&Em(h.alternate,h);break;case 24:qd(d,h),x&2048&&Tm(h.alternate,h);break;default:qd(d,h)}i=i.sibling}}var Hd=8192;function uc(n){if(n.subtreeFlags&Hd)for(n=n.child;n!==null;)Pb(n),n=n.sibling}function Pb(n){switch(n.tag){case 26:uc(n),n.flags&Hd&&n.memoizedState!==null&&_k(Cs,n.memoizedState,n.memoizedProps);break;case 5:uc(n);break;case 3:case 4:var i=Cs;Cs=ef(n.stateNode.containerInfo),uc(n),Cs=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Hd,Hd=16777216,uc(n),Hd=i):uc(n));break;default:uc(n)}}function Mb(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Gd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var h=i[d];za=h,Ib(h,n)}Mb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Db(n),n=n.sibling}function Db(n){switch(n.tag){case 0:case 11:case 15:Gd(n),n.flags&2048&&ui(9,n,n.return);break;case 3:Gd(n);break;case 12:Gd(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,B0(n)):Gd(n);break;default:Gd(n)}}function B0(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var h=i[d];za=h,Ib(h,n)}Mb(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ui(8,i,i.return),B0(i);break;case 22:d=i.stateNode,d._visibility&2&&(d._visibility&=-3,B0(i));break;default:B0(i)}n=n.sibling}}function Ib(n,i){for(;za!==null;){var d=za;switch(d.tag){case 0:case 11:case 15:ui(8,d,i);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:oi(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,za=h;else e:for(d=n;za!==null;){h=za;var x=h.sibling,N=h.return;if($b(h),h===d){za=null;break e}if(x!==null){x.return=N,za=x;break e}za=N}}}var z4={getCacheForType:function(n){var i=Ua(pa),d=i.data.get(n);return d===void 0&&(d=n(),i.data.set(n,d)),d}},B4=typeof WeakMap=="function"?WeakMap:Map,Gr=0,ea=null,Cr=null,Pr=0,Vr=0,Vn=null,mi=!1,fc=!1,Om=!1,Po=0,ya=0,gi=0,fl=0,Am=0,ls=0,hc=0,Vd=null,Pn=null,Rm=!1,Pm=0,q0=1/0,H0=null,pi=null,Ya=0,yi=null,mc=null,gc=0,Mm=0,Dm=null,Lb=null,Kd=0,Im=null;function Kn(){if((Gr&2)!==0&&Pr!==0)return Pr&-Pr;if(se.T!==null){var n=ii;return n!==0?n:Hm()}return me()}function Ub(){ls===0&&(ls=(Pr&536870912)===0||Dr?ta():536870912);var n=is.current;return n!==null&&(n.flags|=32),ls}function Wn(n,i,d){(n===ea&&(Vr===2||Vr===9)||n.cancelPendingCommit!==null)&&(pc(n,0),xi(n,Pr,ls,!1)),Ga(n,d),((Gr&2)===0||n!==ea)&&(n===ea&&((Gr&2)===0&&(fl|=d),ya===4&&xi(n,Pr,ls,!1)),ro(n))}function Fb(n,i,d){if((Gr&6)!==0)throw Error(s(327));var h=!d&&(i&124)===0&&(i&n.expiredLanes)===0||cr(n,i),x=h?G4(n,i):Fm(n,i,!0),N=h;do{if(x===0){fc&&!h&&xi(n,i,0,!1);break}else{if(d=n.current.alternate,N&&!q4(d)){x=Fm(n,i,!1),N=!1;continue}if(x===2){if(N=i,n.errorRecoveryDisabledLanes&N)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var V=n;x=Vd;var xe=V.current.memoizedState.isDehydrated;if(xe&&(pc(V,L).flags|=256),L=Fm(V,L,!1),L!==2){if(Om&&!xe){V.errorRecoveryDisabledLanes|=N,fl|=N,x=4;break e}N=Pn,Pn=x,N!==null&&(Pn===null?Pn=N:Pn.push.apply(Pn,N))}x=L}if(N=!1,x!==2)continue}}if(x===1){pc(n,0),xi(n,i,0,!0);break}e:{switch(h=n,N=x,N){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xi(h,i,ls,!mi);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=Pm+300-ye(),10<x)){if(xi(h,i,ls,!mi),qt(h,0,!0)!==0)break e;h.timeoutHandle=gv(zb.bind(null,h,d,Pn,H0,Rm,i,ls,fl,hc,mi,N,2,-0,0),x);break e}zb(h,d,Pn,H0,Rm,i,ls,fl,hc,mi,N,0,-0,0)}}break}while(!0);ro(n)}function zb(n,i,d,h,x,N,L,V,xe,De,et,it,Ue,Be){if(n.timeoutHandle=-1,it=i.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:kk},Pb(i),it=Sk(),it!==null)){n.cancelPendingCommit=it(Wb.bind(null,n,i,N,d,h,x,L,V,xe,et,1,Ue,Be)),xi(n,N,L,!De);return}Wb(n,i,N,d,h,x,L,V,xe)}function q4(n){for(var i=n;;){var d=i.tag;if((d===0||d===11||d===15)&&i.flags&16384&&(d=i.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var x=d[h],N=x.getSnapshot;x=x.value;try{if(!nn(N(),x))return!1}catch(L){return!1}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xi(n,i,d,h){i&=~Am,i&=~fl,n.suspendedLanes|=i,n.pingedLanes&=~i,h&&(n.warmLanes|=i),h=n.expirationTimes;for(var x=i;0<x;){var N=31-ve(x),L=1<<N;h[N]=-1,x&=~L}d!==0&&na(n,d,i)}function G0(){return(Gr&6)===0?(Wd(0),!1):!0}function Lm(){if(Cr!==null){if(Vr===0)var n=Cr.return;else n=Cr,_s=Ys=null,tm(n),lc=null,Ld=0,n=Cr;for(;n!==null;)vb(n.alternate,n),n=n.return;Cr=null}}function pc(n,i){var d=n.timeoutHandle;d!==-1&&(n.timeoutHandle=-1,ik(d)),d=n.cancelPendingCommit,d!==null&&(n.cancelPendingCommit=null,d()),Lm(),ea=n,Cr=d=Cn(n.current,null),Pr=i,Vr=0,Vn=null,mi=!1,fc=cr(n,i),Om=!1,hc=ls=Am=fl=gi=ya=0,Pn=Vd=null,Rm=!1,(i&8)!==0&&(i|=i&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=i;0<h;){var x=31-ve(h),N=1<<x;i|=n[x],h&=~N}return Po=i,Jl(),d}function Bb(n,i){fr=null,se.H=A0,i===y||i===g?(i=I(),Vr=3):i===v?(i=I(),Vr=4):Vr=i===ob?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Cr===null&&(ya=1,I0(n,Sa(i,n.current)))}function qb(){var n=se.H;return se.H=A0,n===null?A0:n}function Hb(){var n=se.A;return se.A=z4,n}function Um(){ya=4,mi||(Pr&4194048)!==Pr&&is.current!==null||(fc=!0),(gi&134217727)===0&&(fl&134217727)===0||ea===null||xi(ea,Pr,ls,!1)}function Fm(n,i,d){var h=Gr;Gr|=2;var x=qb(),N=Hb();(ea!==n||Pr!==i)&&(H0=null,pc(n,i)),i=!1;var L=ya;e:do try{if(Vr!==0&&Cr!==null){var V=Cr,xe=Vn;switch(Vr){case 8:Lm(),L=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(i=!0);var De=Vr;if(Vr=0,Vn=null,yc(n,V,xe,De),d&&fc){L=0;break e}break;default:De=Vr,Vr=0,Vn=null,yc(n,V,xe,De)}}H4(),L=ya;break}catch(et){Bb(n,et)}while(!0);return i&&n.shellSuspendCounter++,_s=Ys=null,Gr=h,se.H=x,se.A=N,Cr===null&&(ea=null,Pr=0,Jl()),L}function H4(){for(;Cr!==null;)Gb(Cr)}function G4(n,i){var d=Gr;Gr|=2;var h=qb(),x=Hb();ea!==n||Pr!==i?(H0=null,q0=ye()+500,pc(n,i)):fc=cr(n,i);e:do try{if(Vr!==0&&Cr!==null){i=Cr;var N=Vn;t:switch(Vr){case 1:Vr=0,Vn=null,yc(n,i,N,1);break;case 2:case 9:if(w(N)){Vr=0,Vn=null,Vb(i);break}i=function(){Vr!==2&&Vr!==9||ea!==n||(Vr=7),ro(n)},N.then(i,i);break e;case 3:Vr=7;break e;case 4:Vr=5;break e;case 7:w(N)?(Vr=0,Vn=null,Vb(i)):(Vr=0,Vn=null,yc(n,i,N,7));break;case 5:var L=null;switch(Cr.tag){case 26:L=Cr.memoizedState;case 5:case 27:var V=Cr;if(!L||Cv(L)){Vr=0,Vn=null;var xe=V.sibling;if(xe!==null)Cr=xe;else{var De=V.return;De!==null?(Cr=De,V0(De)):Cr=null}break t}}Vr=0,Vn=null,yc(n,i,N,5);break;case 6:Vr=0,Vn=null,yc(n,i,N,6);break;case 8:Lm(),ya=6;break e;default:throw Error(s(462))}}V4();break}catch(et){Bb(n,et)}while(!0);return _s=Ys=null,se.H=h,se.A=x,Gr=d,Cr!==null?0:(ea=null,Pr=0,Jl(),ya)}function V4(){for(;Cr!==null&&!Ze();)Gb(Cr)}function Gb(n){var i=xb(n.alternate,n,Po);n.memoizedProps=n.pendingProps,i===null?V0(n):Cr=i}function Vb(n){var i=n,d=i.alternate;switch(i.tag){case 15:case 0:i=fb(d,i,i.pendingProps,i.type,void 0,Pr);break;case 11:i=fb(d,i,i.pendingProps,i.type.render,i.ref,Pr);break;case 5:tm(i);default:vb(d,i),i=Cr=kd(i,Po),i=xb(d,i,Po)}n.memoizedProps=n.pendingProps,i===null?V0(n):Cr=i}function yc(n,i,d,h){_s=Ys=null,tm(i),lc=null,Ld=0;var x=i.return;try{if(M4(n,x,i,d,Pr)){ya=1,I0(n,Sa(d,n.current)),Cr=null;return}}catch(N){if(x!==null)throw Cr=x,N;ya=1,I0(n,Sa(d,n.current)),Cr=null;return}i.flags&32768?(Dr||h===1?n=!0:fc||(Pr&536870912)!==0?n=!1:(mi=n=!0,(h===2||h===9||h===3||h===6)&&(h=is.current,h!==null&&h.tag===13&&(h.flags|=16384))),Kb(i,n)):V0(i)}function V0(n){var i=n;do{if((i.flags&32768)!==0){Kb(i,mi);return}n=i.return;var d=I4(i.alternate,i,Po);if(d!==null){Cr=d;return}if(i=i.sibling,i!==null){Cr=i;return}Cr=i=n}while(i!==null);ya===0&&(ya=5)}function Kb(n,i){do{var d=L4(n.alternate,n);if(d!==null){d.flags&=32767,Cr=d;return}if(d=n.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!i&&(n=n.sibling,n!==null)){Cr=n;return}Cr=n=d}while(n!==null);ya=6,Cr=null}function Wb(n,i,d,h,x,N,L,V,xe){n.cancelPendingCommit=null;do K0();while(Ya!==0);if((Gr&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(N=i.lanes|i.childLanes,N|=Zl,_r(n,d,N,L,V,xe),n===ea&&(Cr=ea=null,Pr=0),mc=i,yi=n,gc=d,Mm=N,Dm=x,Lb=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Q4(Zt,function(){return Jb(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=se.T,se.T=null,x=re.p,re.p=2,L=Gr,Gr|=4;try{U4(n,i,d)}finally{Gr=L,re.p=x,se.T=h}}Ya=1,Yb(),Qb(),Xb()}}function Yb(){if(Ya===1){Ya=0;var n=yi,i=mc,d=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||d){d=se.T,se.T=null;var h=re.p;re.p=2;var x=Gr;Gr|=4;try{Ob(i,n);var N=Zm,L=xd(n.containerInfo),V=N.focusedElem,xe=N.selectionRange;if(L!==V&&V&&V.ownerDocument&&Wl(V.ownerDocument.documentElement,V)){if(xe!==null&&bd(V)){var De=xe.start,et=xe.end;if(et===void 0&&(et=De),"selectionStart"in V)V.selectionStart=De,V.selectionEnd=Math.min(et,V.value.length);else{var it=V.ownerDocument||document,Ue=it&&it.defaultView||window;if(Ue.getSelection){var Be=Ue.getSelection(),ir=V.textContent.length,nr=Math.min(xe.start,ir),Yr=xe.end===void 0?nr:Math.min(xe.end,ir);!Be.extend&&nr>Yr&&(L=Yr,Yr=nr,nr=L);var Oe=yd(V,nr),Ce=yd(V,Yr);if(Oe&&Ce&&(Be.rangeCount!==1||Be.anchorNode!==Oe.node||Be.anchorOffset!==Oe.offset||Be.focusNode!==Ce.node||Be.focusOffset!==Ce.offset)){var Pe=it.createRange();Pe.setStart(Oe.node,Oe.offset),Be.removeAllRanges(),nr>Yr?(Be.addRange(Pe),Be.extend(Ce.node,Ce.offset)):(Pe.setEnd(Ce.node,Ce.offset),Be.addRange(Pe))}}}}for(it=[],Be=V;Be=Be.parentNode;)Be.nodeType===1&&it.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<it.length;V++){var at=it[V];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}sf=!!Xm,Zm=Xm=null}finally{Gr=x,re.p=h,se.T=d}}n.current=i,Ya=2}}function Qb(){if(Ya===2){Ya=0;var n=yi,i=mc,d=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||d){d=se.T,se.T=null;var h=re.p;re.p=2;var x=Gr;Gr|=4;try{Cb(n,i.alternate,i)}finally{Gr=x,re.p=h,se.T=d}}Ya=3}}function Xb(){if(Ya===4||Ya===3){Ya=0,At();var n=yi,i=mc,d=gc,h=Lb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ya=5:(Ya=0,mc=yi=null,Zb(n,n.pendingLanes));var x=n.pendingLanes;if(x===0&&(pi=null),Tr(d),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(tt,i,void 0,(i.current.flags&128)===128)}catch(xe){}if(h!==null){i=se.T,x=re.p,re.p=2,se.T=null;try{for(var N=n.onRecoverableError,L=0;L<h.length;L++){var V=h[L];N(V.value,{componentStack:V.stack})}}finally{se.T=i,re.p=x}}(gc&3)!==0&&K0(),ro(n),x=n.pendingLanes,(d&4194090)!==0&&(x&42)!==0?n===Im?Kd++:(Kd=0,Im=n):Kd=0,Wd(0)}}function Zb(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,oi(i)))}function K0(n){return Yb(),Qb(),Xb(),Jb()}function Jb(){if(Ya!==5)return!1;var n=yi,i=Mm;Mm=0;var d=Tr(gc),h=se.T,x=re.p;try{re.p=32>d?32:d,se.T=null,d=Dm,Dm=null;var N=yi,L=gc;if(Ya=0,mc=yi=null,gc=0,(Gr&6)!==0)throw Error(s(331));var V=Gr;if(Gr|=4,Db(N.current),Rb(N,N.current,L,d),Gr=V,Wd(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(tt,N)}catch(xe){}return!0}finally{re.p=x,se.T=h,Zb(n,i)}}function ev(n,i,d){i=Sa(d,i),i=gm(n.stateNode,i,2),n=Fe(n,i,2),n!==null&&(Ga(n,2),ro(n))}function Qr(n,i,d){if(n.tag===3)ev(n,n,d);else for(;i!==null;){if(i.tag===3){ev(i,n,d);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(pi===null||!pi.has(h))){n=Sa(d,n),d=nb(2),h=Fe(i,d,2),h!==null&&(sb(d,h,i,n),Ga(h,2),ro(h));break}}i=i.return}}function zm(n,i,d){var h=n.pingCache;if(h===null){h=n.pingCache=new B4;var x=new Set;h.set(i,x)}else x=h.get(i),x===void 0&&(x=new Set,h.set(i,x));x.has(d)||(Om=!0,x.add(d),n=K4.bind(null,n,i,d),i.then(n,n))}function K4(n,i,d){var h=n.pingCache;h!==null&&h.delete(i),n.pingedLanes|=n.suspendedLanes&d,n.warmLanes&=~d,ea===n&&(Pr&d)===d&&(ya===4||ya===3&&(Pr&62914560)===Pr&&300>ye()-Pm?(Gr&2)===0&&pc(n,0):Am|=d,hc===Pr&&(hc=0)),ro(n)}function tv(n,i){i===0&&(i=va()),n=ni(n,i),n!==null&&(Ga(n,i),ro(n))}function W4(n){var i=n.memoizedState,d=0;i!==null&&(d=i.retryLane),tv(n,d)}function Y4(n,i){var d=0;switch(n.tag){case 13:var h=n.stateNode,x=n.memoizedState;x!==null&&(d=x.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(i),tv(n,d)}function Q4(n,i){return zt(n,i)}var W0=null,xc=null,Bm=!1,Y0=!1,qm=!1,hl=0;function ro(n){n!==xc&&n.next===null&&(xc===null?W0=xc=n:xc=xc.next=n),Y0=!0,Bm||(Bm=!0,Z4())}function Wd(n,i){if(!qm&&Y0){qm=!0;do for(var d=!1,h=W0;h!==null;){if(n!==0){var x=h.pendingLanes;if(x===0)var N=0;else{var L=h.suspendedLanes,V=h.pingedLanes;N=(1<<31-ve(42|n)+1)-1,N&=x&~(L&~V),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,sv(h,N))}else N=Pr,N=qt(h,h===ea?N:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(N&3)===0||cr(h,N)||(d=!0,sv(h,N));h=h.next}while(d);qm=!1}}function X4(){rv()}function rv(){Y0=Bm=!1;var n=0;hl!==0&&(ok()&&(n=hl),hl=0);for(var i=ye(),d=null,h=W0;h!==null;){var x=h.next,N=av(h,i);N===0?(h.next=null,d===null?W0=x:d.next=x,x===null&&(xc=d)):(d=h,(n!==0||(N&3)!==0)&&(Y0=!0)),h=x}Wd(n)}function av(n,i){for(var d=n.suspendedLanes,h=n.pingedLanes,x=n.expirationTimes,N=n.pendingLanes&-62914561;0<N;){var L=31-ve(N),V=1<<L,xe=x[L];xe===-1?((V&d)===0||(V&h)!==0)&&(x[L]=pr(V,i)):xe<=i&&(n.expiredLanes|=V),N&=~V}if(i=ea,d=Pr,d=qt(n,n===i?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,d===0||n===i&&(Vr===2||Vr===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&be(h),n.callbackNode=null,n.callbackPriority=0;if((d&3)===0||cr(n,d)){if(i=d&-d,i===n.callbackPriority)return i;switch(h!==null&&be(h),Tr(d)){case 2:case 8:d=ur;break;case 32:d=Zt;break;case 268435456:d=ze;break;default:d=Zt}return h=nv.bind(null,n),d=zt(d,h),n.callbackPriority=i,n.callbackNode=d,i}return h!==null&&h!==null&&be(h),n.callbackPriority=2,n.callbackNode=null,2}function nv(n,i){if(Ya!==0&&Ya!==5)return n.callbackNode=null,n.callbackPriority=0,null;var d=n.callbackNode;if(K0()&&n.callbackNode!==d)return null;var h=Pr;return h=qt(n,n===ea?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(Fb(n,h,i),av(n,ye()),n.callbackNode!=null&&n.callbackNode===d?nv.bind(null,n):null)}function sv(n,i){if(K0())return null;Fb(n,i,!0)}function Z4(){lk(function(){(Gr&6)!==0?zt(ft,X4):rv()})}function Hm(){return hl===0&&(hl=ta()),hl}function ov(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qo(""+n)}function iv(n,i){var d=i.ownerDocument.createElement("input");return d.name=i.name,d.value=i.value,n.id&&d.setAttribute("form",n.id),i.parentNode.insertBefore(d,i),n=new FormData(n),d.parentNode.removeChild(d),n}function J4(n,i,d,h,x){if(i==="submit"&&d&&d.stateNode===x){var N=ov((x[lt]||null).action),L=h.submitter;L&&(i=(i=L[lt]||null)?ov(i.formAction):L.getAttribute("formAction"),i!==null&&(N=i,L=null));var V=new Da("action","action",null,h,x);n.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(hl!==0){var xe=L?iv(x,L):new FormData(x);dm(d,{pending:!0,data:xe,method:x.method,action:N},null,xe)}}else typeof N=="function"&&(V.preventDefault(),xe=L?iv(x,L):new FormData(x),dm(d,{pending:!0,data:xe,method:x.method,action:N},N,xe))},currentTarget:x}]})}}for(var Gm=0;Gm<Xl.length;Gm++){var Vm=Xl[Gm],ek=Vm.toLowerCase(),tk=Vm[0].toUpperCase()+Vm.slice(1);zn(ek,"on"+tk)}zn(Ks,"onAnimationEnd"),zn(y0,"onAnimationIteration"),zn(x0,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Wh,"onTransitionRun"),zn(Yh,"onTransitionStart"),zn(Qh,"onTransitionCancel"),zn(b0,"onTransitionEnd"),ra("onMouseEnter",["mouseout","mouseover"]),ra("onMouseLeave",["mouseout","mouseover"]),ra("onPointerEnter",["pointerout","pointerover"]),ra("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function lv(n,i){i=(i&4)!==0;for(var d=0;d<n.length;d++){var h=n[d],x=h.event;h=h.listeners;e:{var N=void 0;if(i)for(var L=h.length-1;0<=L;L--){var V=h[L],xe=V.instance,De=V.currentTarget;if(V=V.listener,xe!==N&&x.isPropagationStopped())break e;N=V,x.currentTarget=De;try{N(x)}catch(et){D0(et)}x.currentTarget=null,N=xe}else for(L=0;L<h.length;L++){if(V=h[L],xe=V.instance,De=V.currentTarget,V=V.listener,xe!==N&&x.isPropagationStopped())break e;N=V,x.currentTarget=De;try{N(x)}catch(et){D0(et)}x.currentTarget=null,N=xe}}}}function $r(n,i){var d=i[Vt];d===void 0&&(d=i[Vt]=new Set);var h=n+"__bubble";d.has(h)||(cv(i,n,2,!1),d.add(h))}function Km(n,i,d){var h=0;i&&(h|=4),cv(d,n,h,i)}var Q0="_reactListening"+Math.random().toString(36).slice(2);function Wm(n){if(!n[Q0]){n[Q0]=!0,Kt.forEach(function(d){d!=="selectionchange"&&(rk.has(d)||Km(d,!1,n),Km(d,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Q0]||(i[Q0]=!0,Km("selectionchange",!1,i))}}function cv(n,i,d,h){switch(Rv(i)){case 2:var x=Ek;break;case 8:x=Tk;break;default:x=lg}d=x.bind(null,i,d,n),x=void 0,!Xo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),h?x!==void 0?n.addEventListener(i,d,{capture:!0,passive:x}):n.addEventListener(i,d,!0):x!==void 0?n.addEventListener(i,d,{passive:x}):n.addEventListener(i,d,!1)}function Ym(n,i,d,h,x){var N=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var V=h.stateNode.containerInfo;if(V===x)break;if(L===4)for(L=h.return;L!==null;){var xe=L.tag;if((xe===3||xe===4)&&L.stateNode.containerInfo===x)return;L=L.return}for(;V!==null;){if(L=mr(V),L===null)return;if(xe=L.tag,xe===5||xe===6||xe===26||xe===27){h=N=L;continue e}V=V.parentNode}}h=h.return}Xi(function(){var De=N,et=go(d),it=[];e:{var Ue=Ql.get(n);if(Ue!==void 0){var Be=Da,ir=n;switch(n){case"keypress":if(Un(d)===0)break e;case"keydown":case"keyup":Be=Fn;break;case"focusin":ir="focus",Be=Et;break;case"focusout":ir="blur",Be=Et;break;case"beforeblur":case"afterblur":Be=Et;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Se;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=$e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Bl;break;case Ks:case y0:case x0:Be=Tt;break;case b0:Be=Bh;break;case"scroll":case"scrollend":Be=Ir;break;case"wheel":Be=qh;break;case"copy":case"cut":case"paste":Be=qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Zo;break;case"toggle":case"beforetoggle":Be=r0}var nr=(i&4)!==0,Yr=!nr&&(n==="scroll"||n==="scrollend"),Oe=nr?Ue!==null?Ue+"Capture":null:Ue;nr=[];for(var Ce=De,Pe;Ce!==null;){var at=Ce;if(Pe=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Pe===null||Oe===null||(at=rs(Ce,Oe),at!=null&&nr.push(Qd(Ce,at,Pe))),Yr)break;Ce=Ce.return}0<nr.length&&(Ue=new Be(Ue,ir,null,d,et),it.push({event:Ue,listeners:nr}))}}if((i&7)===0){e:{if(Ue=n==="mouseover"||n==="pointerover",Be=n==="mouseout"||n==="pointerout",Ue&&d!==Yi&&(ir=d.relatedTarget||d.fromElement)&&(mr(ir)||ir[Pt]))break e;if((Be||Ue)&&(Ue=et.window===et?et:(Ue=et.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,Be?(ir=d.relatedTarget||d.toElement,Be=De,ir=ir?mr(ir):null,ir!==null&&(Yr=l(ir),nr=ir.tag,ir!==Yr||nr!==5&&nr!==27&&nr!==6)&&(ir=null)):(Be=null,ir=De),Be!==ir)){if(nr=Se,at="onMouseLeave",Oe="onMouseEnter",Ce="mouse",(n==="pointerout"||n==="pointerover")&&(nr=Zo,at="onPointerLeave",Oe="onPointerEnter",Ce="pointer"),Yr=Be==null?Ue:zr(Be),Pe=ir==null?Ue:zr(ir),Ue=new nr(at,Ce+"leave",Be,d,et),Ue.target=Yr,Ue.relatedTarget=Pe,at=null,mr(et)===De&&(nr=new nr(Oe,Ce+"enter",ir,d,et),nr.target=Pe,nr.relatedTarget=Yr,at=nr),Yr=at,Be&&ir)t:{for(nr=Be,Oe=ir,Ce=0,Pe=nr;Pe;Pe=bc(Pe))Ce++;for(Pe=0,at=Oe;at;at=bc(at))Pe++;for(;0<Ce-Pe;)nr=bc(nr),Ce--;for(;0<Pe-Ce;)Oe=bc(Oe),Pe--;for(;Ce--;){if(nr===Oe||Oe!==null&&nr===Oe.alternate)break t;nr=bc(nr),Oe=bc(Oe)}nr=null}else nr=null;Be!==null&&dv(it,Ue,Be,nr,!1),ir!==null&&Yr!==null&&dv(it,Yr,ir,nr,!0)}}e:{if(Ue=De?zr(De):window,Be=Ue.nodeName&&Ue.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Ue.type==="file")var Dt=hd;else if(Vl(Ue))if(ws)Dt=g0;else{Dt=m0;var Nr=Vh}else Be=Ue.nodeName,!Be||Be.toLowerCase()!=="input"||Ue.type!=="checkbox"&&Ue.type!=="radio"?De&&mo(De.elementType)&&(Dt=hd):Dt=Kh;if(Dt&&(Dt=Dt(n,De))){u0(it,Dt,d,et);break e}Nr&&Nr(n,Ue,De),n==="focusout"&&De&&Ue.type==="number"&&De.memoizedProps.value!=null&&ha(Ue,"number",Ue.value)}switch(Nr=De?zr(De):window,n){case"focusin":(Vl(Nr)||Nr.contentEditable==="true")&&(bo=Nr,vd=De,ei=null);break;case"focusout":ei=vd=bo=null;break;case"mousedown":ti=!0;break;case"contextmenu":case"mouseup":case"dragend":ti=!1,nl(it,d,et);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":nl(it,d,et)}var Wt;if(ud)e:{switch(n){case"compositionstart":var sr="onCompositionStart";break e;case"compositionend":sr="onCompositionEnd";break e;case"compositionupdate":sr="onCompositionUpdate";break e}sr=void 0}else Vs?fd(n,d)&&(sr="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(sr="onCompositionStart");sr&&(n0&&d.locale!=="ko"&&(Vs||sr!=="onCompositionStart"?sr==="onCompositionEnd"&&Vs&&(Wt=po()):(hn=et,rn="value"in hn?hn.value:hn.textContent,Vs=!0)),Nr=X0(De,sr),0<Nr.length&&(sr=new Xt(sr,n,null,d,et),it.push({event:sr,listeners:Nr}),Wt?sr.data=Wt:(Wt=i0(d),Wt!==null&&(sr.data=Wt)))),(Wt=a0?l0(n,d):c0(n,d))&&(sr=X0(De,"onBeforeInput"),0<sr.length&&(Nr=new Xt("onBeforeInput","beforeinput",null,d,et),it.push({event:Nr,listeners:sr}),Nr.data=Wt)),J4(it,n,De,d,et)}lv(it,i)})}function Qd(n,i,d){return{instance:n,listener:i,currentTarget:d}}function X0(n,i){for(var d=i+"Capture",h=[];n!==null;){var x=n,N=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||N===null||(x=rs(n,d),x!=null&&h.unshift(Qd(n,x,N)),x=rs(n,i),x!=null&&h.push(Qd(n,x,N))),n.tag===3)return h;n=n.return}return[]}function bc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function dv(n,i,d,h,x){for(var N=i._reactName,L=[];d!==null&&d!==h;){var V=d,xe=V.alternate,De=V.stateNode;if(V=V.tag,xe!==null&&xe===h)break;V!==5&&V!==26&&V!==27||De===null||(xe=De,x?(De=rs(d,N),De!=null&&L.unshift(Qd(d,De,xe))):x||(De=rs(d,N),De!=null&&L.push(Qd(d,De,xe)))),d=d.return}L.length!==0&&n.push({event:i,listeners:L})}var ak=/\r\n?/g,nk=/\u0000|\uFFFD/g;function uv(n){return(typeof n=="string"?n:""+n).replace(ak,`
`).replace(nk,"")}function fv(n,i){return i=uv(i),uv(n)===i}function Z0(){}function Wr(n,i,d,h,x,N){switch(d){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||ts(n,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&ts(n,""+h);break;case"className":Va(n,"class",h);break;case"tabIndex":Va(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Va(n,d,h);break;case"style":Wi(n,h,N);break;case"data":if(i!=="object"){Va(n,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||d!=="href")){n.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(d);break}h=Qo(""+h),n.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(i!=="input"&&Wr(n,i,"name",x.name,x,null),Wr(n,i,"formEncType",x.formEncType,x,null),Wr(n,i,"formMethod",x.formMethod,x,null),Wr(n,i,"formTarget",x.formTarget,x,null)):(Wr(n,i,"encType",x.encType,x,null),Wr(n,i,"method",x.method,x,null),Wr(n,i,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(d);break}h=Qo(""+h),n.setAttribute(d,h);break;case"onClick":h!=null&&(n.onclick=Z0);break;case"onScroll":h!=null&&$r("scroll",n);break;case"onScrollEnd":h!=null&&$r("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(s(60));n.innerHTML=d}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}d=Qo(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(d,""+h):n.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(d,""):n.removeAttribute(d);break;case"capture":case"download":h===!0?n.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(d,h):n.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(d,h):n.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(d):n.setAttribute(d,h);break;case"popover":$r("beforetoggle",n),$r("toggle",n),sa(n,"popover",h);break;case"xlinkActuate":wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":wt(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":wt(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":wt(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":wt(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":sa(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Yo.get(d)||d,sa(n,d,h))}}function Qm(n,i,d,h,x,N){switch(d){case"style":Wi(n,h,N);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(s(60));n.innerHTML=d}}break;case"children":typeof h=="string"?ts(n,h):(typeof h=="number"||typeof h=="bigint")&&ts(n,""+h);break;case"onScroll":h!=null&&$r("scroll",n);break;case"onScrollEnd":h!=null&&$r("scrollend",n);break;case"onClick":h!=null&&(n.onclick=Z0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),i=d.slice(2,x?d.length-7:void 0),N=n[lt]||null,N=N!=null?N[d]:null,typeof N=="function"&&n.removeEventListener(i,N,x),typeof h=="function")){typeof N!="function"&&N!==null&&(d in n?n[d]=null:n.hasAttribute(d)&&n.removeAttribute(d)),n.addEventListener(i,h,x);break e}d in n?n[d]=h:h===!0?n.setAttribute(d,""):sa(n,d,h)}}}function Qa(n,i,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$r("error",n),$r("load",n);var h=!1,x=!1,N;for(N in d)if(d.hasOwnProperty(N)){var L=d[N];if(L!=null)switch(N){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wr(n,i,N,L,d,null)}}x&&Wr(n,i,"srcSet",d.srcSet,d,null),h&&Wr(n,i,"src",d.src,d,null);return;case"input":$r("invalid",n);var V=N=L=x=null,xe=null,De=null;for(h in d)if(d.hasOwnProperty(h)){var et=d[h];if(et!=null)switch(h){case"name":x=et;break;case"type":L=et;break;case"checked":xe=et;break;case"defaultChecked":De=et;break;case"value":N=et;break;case"defaultValue":V=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,i));break;default:Wr(n,i,h,et,d,null)}}Jr(n,N,V,xe,De,L,x,!1),Ut(n);return;case"select":$r("invalid",n),h=L=N=null;for(x in d)if(d.hasOwnProperty(x)&&(V=d[x],V!=null))switch(x){case"value":N=V;break;case"defaultValue":L=V;break;case"multiple":h=V;default:Wr(n,i,x,V,d,null)}i=N,d=L,n.multiple=!!h,i!=null?ma(n,!!h,i,!1):d!=null&&ma(n,!!h,d,!0);return;case"textarea":$r("invalid",n),N=x=h=null;for(L in d)if(d.hasOwnProperty(L)&&(V=d[L],V!=null))switch(L){case"value":h=V;break;case"defaultValue":x=V;break;case"children":N=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(91));break;default:Wr(n,i,L,V,d,null)}ho(n,h,x,N),Ut(n);return;case"option":for(xe in d)if(d.hasOwnProperty(xe)&&(h=d[xe],h!=null))switch(xe){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Wr(n,i,xe,h,d,null)}return;case"dialog":$r("beforetoggle",n),$r("toggle",n),$r("cancel",n),$r("close",n);break;case"iframe":case"object":$r("load",n);break;case"video":case"audio":for(h=0;h<Yd.length;h++)$r(Yd[h],n);break;case"image":$r("error",n),$r("load",n);break;case"details":$r("toggle",n);break;case"embed":case"source":case"link":$r("error",n),$r("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in d)if(d.hasOwnProperty(De)&&(h=d[De],h!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wr(n,i,De,h,d,null)}return;default:if(mo(i)){for(et in d)d.hasOwnProperty(et)&&(h=d[et],h!==void 0&&Qm(n,i,et,h,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(h=d[V],h!=null&&Wr(n,i,V,h,d,null))}function sk(n,i,d,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,N=null,L=null,V=null,xe=null,De=null,et=null;for(Be in d){var it=d[Be];if(d.hasOwnProperty(Be)&&it!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":xe=it;default:h.hasOwnProperty(Be)||Wr(n,i,Be,null,h,it)}}for(var Ue in h){var Be=h[Ue];if(it=d[Ue],h.hasOwnProperty(Ue)&&(Be!=null||it!=null))switch(Ue){case"type":N=Be;break;case"name":x=Be;break;case"checked":De=Be;break;case"defaultChecked":et=Be;break;case"value":L=Be;break;case"defaultValue":V=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(s(137,i));break;default:Be!==it&&Wr(n,i,Ue,Be,h,it)}}Fr(n,L,V,xe,De,et,N,x);return;case"select":Be=L=V=Ue=null;for(N in d)if(xe=d[N],d.hasOwnProperty(N)&&xe!=null)switch(N){case"value":break;case"multiple":Be=xe;default:h.hasOwnProperty(N)||Wr(n,i,N,null,h,xe)}for(x in h)if(N=h[x],xe=d[x],h.hasOwnProperty(x)&&(N!=null||xe!=null))switch(x){case"value":Ue=N;break;case"defaultValue":V=N;break;case"multiple":L=N;default:N!==xe&&Wr(n,i,x,N,h,xe)}i=V,d=L,h=Be,Ue!=null?ma(n,!!d,Ue,!1):!!h!=!!d&&(i!=null?ma(n,!!d,i,!0):ma(n,!!d,d?[]:"",!1));return;case"textarea":Be=Ue=null;for(V in d)if(x=d[V],d.hasOwnProperty(V)&&x!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Wr(n,i,V,null,h,x)}for(L in h)if(x=h[L],N=d[L],h.hasOwnProperty(L)&&(x!=null||N!=null))switch(L){case"value":Ue=x;break;case"defaultValue":Be=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==N&&Wr(n,i,L,x,h,N)}kn(n,Ue,Be);return;case"option":for(var ir in d)if(Ue=d[ir],d.hasOwnProperty(ir)&&Ue!=null&&!h.hasOwnProperty(ir))switch(ir){case"selected":n.selected=!1;break;default:Wr(n,i,ir,null,h,Ue)}for(xe in h)if(Ue=h[xe],Be=d[xe],h.hasOwnProperty(xe)&&Ue!==Be&&(Ue!=null||Be!=null))switch(xe){case"selected":n.selected=Ue&&typeof Ue!="function"&&typeof Ue!="symbol";break;default:Wr(n,i,xe,Ue,h,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nr in d)Ue=d[nr],d.hasOwnProperty(nr)&&Ue!=null&&!h.hasOwnProperty(nr)&&Wr(n,i,nr,null,h,Ue);for(De in h)if(Ue=h[De],Be=d[De],h.hasOwnProperty(De)&&Ue!==Be&&(Ue!=null||Be!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(s(137,i));break;default:Wr(n,i,De,Ue,h,Be)}return;default:if(mo(i)){for(var Yr in d)Ue=d[Yr],d.hasOwnProperty(Yr)&&Ue!==void 0&&!h.hasOwnProperty(Yr)&&Qm(n,i,Yr,void 0,h,Ue);for(et in h)Ue=h[et],Be=d[et],!h.hasOwnProperty(et)||Ue===Be||Ue===void 0&&Be===void 0||Qm(n,i,et,Ue,h,Be);return}}for(var Oe in d)Ue=d[Oe],d.hasOwnProperty(Oe)&&Ue!=null&&!h.hasOwnProperty(Oe)&&Wr(n,i,Oe,null,h,Ue);for(it in h)Ue=h[it],Be=d[it],!h.hasOwnProperty(it)||Ue===Be||Ue==null&&Be==null||Wr(n,i,it,Ue,h,Be)}var Xm=null,Zm=null;function J0(n){return n.nodeType===9?n:n.ownerDocument}function hv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Jm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var eg=null;function ok(){var n=window.event;return n&&n.type==="popstate"?n===eg?!1:(eg=n,!0):(eg=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,lk=typeof queueMicrotask=="function"?queueMicrotask:typeof pv!="undefined"?function(n){return pv.resolve(null).then(n).catch(ck)}:gv;function ck(n){setTimeout(function(){throw n})}function bi(n){return n==="head"}function yv(n,i){var d=i,h=0,x=0;do{var N=d.nextSibling;if(n.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"){if(0<h&&8>h){d=h;var L=n.ownerDocument;if(d&1&&Xd(L.documentElement),d&2&&Xd(L.body),d&4)for(d=L.head,Xd(d),L=d.firstChild;L;){var V=L.nextSibling,xe=L.nodeName;L[Qt]||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&L.rel.toLowerCase()==="stylesheet"||d.removeChild(L),L=V}}if(x===0){n.removeChild(N),su(i);return}x--}else d==="$"||d==="$?"||d==="$!"?x++:h=d.charCodeAt(0)-48;else h=0;d=N}while(d);su(i)}function tg(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var d=i;switch(i=i.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":tg(d),Ht(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}n.removeChild(d)}}function dk(n,i,d,h){for(;n.nodeType===1;){var x=d;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Qt])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(N=n.getAttribute("rel"),N==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(N!==x.rel||n.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||n.getAttribute("title")!==(x.title==null?null:x.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(N=n.getAttribute("src"),(N!==(x.src==null?null:x.src)||n.getAttribute("type")!==(x.type==null?null:x.type)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&N&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var N=x.name==null?null:""+x.name;if(x.type==="hidden"&&n.getAttribute("name")===N)return n}else return n;if(n=$s(n.nextSibling),n===null)break}return null}function uk(n,i,d){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!d||(n=$s(n.nextSibling),n===null))return null;return n}function rg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function fk(n,i){var d=n.ownerDocument;if(n.data!=="$?"||d.readyState==="complete")i();else{var h=function(){i(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function $s(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var ag=null;function xv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return n;i--}else d==="/$"&&i++}n=n.previousSibling}return null}function bv(n,i,d){switch(i=J0(d),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Xd(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ht(n)}var cs=new Map,vv=new Set;function ef(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mo=re.d;re.d={f:hk,r:mk,D:gk,C:pk,L:yk,m:xk,X:vk,S:bk,M:wk};function hk(){var n=Mo.f(),i=G0();return n||i}function mk(n){var i=br(n);i!==null&&i.tag===5&&i.type==="form"?Fx(i):Mo.r(n)}var vc=typeof document=="undefined"?null:document;function wv(n,i,d){var h=vc;if(h&&typeof i=="string"&&i){var x=yr(i);x='link[rel="'+n+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),vv.has(x)||(vv.add(x),n={rel:n,crossOrigin:d,href:i},h.querySelector(x)===null&&(i=h.createElement("link"),Qa(i,"link",n),er(i),h.head.appendChild(i)))}}function gk(n){Mo.D(n),wv("dns-prefetch",n,null)}function pk(n,i){Mo.C(n,i),wv("preconnect",n,i)}function yk(n,i,d){Mo.L(n,i,d);var h=vc;if(h&&n&&i){var x='link[rel="preload"][as="'+yr(i)+'"]';i==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+yr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+yr(d.imageSizes)+'"]')):x+='[href="'+yr(n)+'"]';var N=x;switch(i){case"style":N=wc(n);break;case"script":N=jc(n)}cs.has(N)||(n=p({rel:"preload",href:i==="image"&&d&&d.imageSrcSet?void 0:n,as:i},d),cs.set(N,n),h.querySelector(x)!==null||i==="style"&&h.querySelector(Zd(N))||i==="script"&&h.querySelector(Jd(N))||(i=h.createElement("link"),Qa(i,"link",n),er(i),h.head.appendChild(i)))}}function xk(n,i){Mo.m(n,i);var d=vc;if(d&&n){var h=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+yr(h)+'"][href="'+yr(n)+'"]',N=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=jc(n)}if(!cs.has(N)&&(n=p({rel:"modulepreload",href:n},i),cs.set(N,n),d.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Jd(N)))return}h=d.createElement("link"),Qa(h,"link",n),er(h),d.head.appendChild(h)}}}function bk(n,i,d){Mo.S(n,i,d);var h=vc;if(h&&n){var x=Ar(h).hoistableStyles,N=wc(n);i=i||"default";var L=x.get(N);if(!L){var V={loading:0,preload:null};if(L=h.querySelector(Zd(N)))V.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":i},d),(d=cs.get(N))&&ng(n,d);var xe=L=h.createElement("link");er(xe),Qa(xe,"link",n),xe._p=new Promise(function(De,et){xe.onload=De,xe.onerror=et}),xe.addEventListener("load",function(){V.loading|=1}),xe.addEventListener("error",function(){V.loading|=2}),V.loading|=4,tf(L,i,h)}L={type:"stylesheet",instance:L,count:1,state:V},x.set(N,L)}}}function vk(n,i){Mo.X(n,i);var d=vc;if(d&&n){var h=Ar(d).hoistableScripts,x=jc(n),N=h.get(x);N||(N=d.querySelector(Jd(x)),N||(n=p({src:n,async:!0},i),(i=cs.get(x))&&sg(n,i),N=d.createElement("script"),er(N),Qa(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},h.set(x,N))}}function wk(n,i){Mo.M(n,i);var d=vc;if(d&&n){var h=Ar(d).hoistableScripts,x=jc(n),N=h.get(x);N||(N=d.querySelector(Jd(x)),N||(n=p({src:n,async:!0,type:"module"},i),(i=cs.get(x))&&sg(n,i),N=d.createElement("script"),er(N),Qa(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},h.set(x,N))}}function jv(n,i,d,h){var x=(x=Q.current)?ef(x):null;if(!x)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(i=wc(d.href),d=Ar(x).hoistableStyles,h=d.get(i),h||(h={type:"style",instance:null,count:0,state:null},d.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){n=wc(d.href);var N=Ar(x).hoistableStyles,L=N.get(n);if(L||(x=x.ownerDocument||x,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(n,L),(N=x.querySelector(Zd(n)))&&!N._p&&(L.instance=N,L.state.loading=5),cs.has(n)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},cs.set(n,d),N||jk(x,n,d,L.state))),i&&h===null)throw Error(s(528,""));return L}if(i&&h!==null)throw Error(s(529,""));return null;case"script":return i=d.async,d=d.src,typeof d=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jc(d),d=Ar(x).hoistableScripts,h=d.get(i),h||(h={type:"script",instance:null,count:0,state:null},d.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function wc(n){return'href="'+yr(n)+'"'}function Zd(n){return'link[rel="stylesheet"]['+n+"]"}function Nv(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function jk(n,i,d,h){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=n.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Qa(i,"link",d),er(i),n.head.appendChild(i))}function jc(n){return'[src="'+yr(n)+'"]'}function Jd(n){return"script[async]"+n}function kv(n,i,d){if(i.count++,i.instance===null)switch(i.type){case"style":var h=n.querySelector('style[data-href~="'+yr(d.href)+'"]');if(h)return i.instance=h,er(h),h;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),er(h),Qa(h,"style",x),tf(h,d.precedence,n),i.instance=h;case"stylesheet":x=wc(d.href);var N=n.querySelector(Zd(x));if(N)return i.state.loading|=4,i.instance=N,er(N),N;h=Nv(d),(x=cs.get(x))&&ng(h,x),N=(n.ownerDocument||n).createElement("link"),er(N);var L=N;return L._p=new Promise(function(V,xe){L.onload=V,L.onerror=xe}),Qa(N,"link",h),i.state.loading|=4,tf(N,d.precedence,n),i.instance=N;case"script":return N=jc(d.src),(x=n.querySelector(Jd(N)))?(i.instance=x,er(x),x):(h=d,(x=cs.get(N))&&(h=p({},d),sg(h,x)),n=n.ownerDocument||n,x=n.createElement("script"),er(x),Qa(x,"link",h),n.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,tf(h,d.precedence,n));return i.instance}function tf(n,i,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,N=x,L=0;L<h.length;L++){var V=h[L];if(V.dataset.precedence===i)N=V;else if(N!==x)break}N?N.parentNode.insertBefore(n,N.nextSibling):(i=d.nodeType===9?d.head:d,i.insertBefore(n,i.firstChild))}function ng(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function sg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var rf=null;function _v(n,i,d){if(rf===null){var h=new Map,x=rf=new Map;x.set(d,h)}else x=rf,h=x.get(d),h||(h=new Map,x.set(d,h));if(h.has(n))return h;for(h.set(n,null),d=d.getElementsByTagName(n),x=0;x<d.length;x++){var N=d[x];if(!(N[Qt]||N[Ve]||n==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var L=N.getAttribute(i)||"";L=n+L;var V=h.get(L);V?V.push(N):h.set(L,[N])}}return h}function Sv(n,i,d){n=n.ownerDocument||n,n.head.insertBefore(d,i==="title"?n.querySelector("head > title"):null)}function Nk(n,i,d){if(d===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Cv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var eu=null;function kk(){}function _k(n,i,d){if(eu===null)throw Error(s(475));var h=eu;if(i.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=wc(d.href),N=n.querySelector(Zd(x));if(N){n=N._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(h.count++,h=af.bind(h),n.then(h,h)),i.state.loading|=4,i.instance=N,er(N);return}N=n.ownerDocument||n,d=Nv(d),(x=cs.get(x))&&ng(d,x),N=N.createElement("link"),er(N);var L=N;L._p=new Promise(function(V,xe){L.onload=V,L.onerror=xe}),Qa(N,"link",d),i.instance=N}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=af.bind(h),n.addEventListener("load",i),n.addEventListener("error",i))}}function Sk(){if(eu===null)throw Error(s(475));var n=eu;return n.stylesheets&&n.count===0&&og(n,n.stylesheets),0<n.count?function(i){var d=setTimeout(function(){if(n.stylesheets&&og(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(d)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)og(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var nf=null;function og(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,nf=new Map,i.forEach(Ck,n),nf=null,af.call(n))}function Ck(n,i){if(!(i.state.loading&4)){var d=nf.get(n);if(d)var h=d.get(null);else{d=new Map,nf.set(n,d);for(var x=n.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<x.length;N++){var L=x[N];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),h=L)}h&&d.set(null,h)}x=i.instance,L=x.getAttribute("data-precedence"),N=d.get(L)||h,N===h&&d.set(null,x),d.set(L,x),this.count++,h=af.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),N?N.parentNode.insertBefore(x,N.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(x,n.firstChild)),i.state.loading|=4}}var tu={$$typeof:H,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function $k(n,i,d,h,x,N,L,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=N,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function $v(n,i,d,h,x,N,L,V,xe,De,et,it){return n=new $k(n,i,d,L,V,xe,De,it),i=1,N===!0&&(i|=24),N=Ia(3,null,null,i),n.current=N,N.stateNode=n,i=Ed(),i.refCount++,n.pooledCache=i,i.refCount++,N.memoizedState={element:h,isDehydrated:d,cache:i},ie(N),n}function Ev(n){return n?(n=si,n):si}function Tv(n,i,d,h,x,N){x=Ev(x),h.context===null?h.context=x:h.pendingContext=x,h=_e(i),h.payload={element:d},N=N===void 0?null:N,N!==null&&(h.callback=N),d=Fe(n,h,i),d!==null&&(Wn(d,n,i),ke(d,n,i))}function Ov(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<i?d:i}}function ig(n,i){Ov(n,i),(n=n.alternate)&&Ov(n,i)}function Av(n){if(n.tag===13){var i=ni(n,67108864);i!==null&&Wn(i,n,67108864),ig(n,67108864)}}var sf=!0;function Ek(n,i,d,h){var x=se.T;se.T=null;var N=re.p;try{re.p=2,lg(n,i,d,h)}finally{re.p=N,se.T=x}}function Tk(n,i,d,h){var x=se.T;se.T=null;var N=re.p;try{re.p=8,lg(n,i,d,h)}finally{re.p=N,se.T=x}}function lg(n,i,d,h){if(sf){var x=cg(h);if(x===null)Ym(n,i,h,of,d),Pv(n,h);else if(Ak(x,n,i,d,h))h.stopPropagation();else if(Pv(n,h),i&4&&-1<Ok.indexOf(n)){for(;x!==null;){var N=br(x);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var L=Gt(N.pendingLanes);if(L!==0){var V=N;for(V.pendingLanes|=2,V.entangledLanes|=2;L;){var xe=1<<31-ve(L);V.entanglements[1]|=xe,L&=~xe}ro(N),(Gr&6)===0&&(q0=ye()+500,Wd(0))}}break;case 13:V=ni(N,2),V!==null&&Wn(V,N,2),G0(),ig(N,2)}if(N=cg(h),N===null&&Ym(n,i,h,of,d),N===x)break;x=N}x!==null&&h.stopPropagation()}else Ym(n,i,h,null,d)}}function cg(n){return n=go(n),dg(n)}var of=null;function dg(n){if(of=null,n=mr(n),n!==null){var i=l(n);if(i===null)n=null;else{var d=i.tag;if(d===13){if(n=c(i),n!==null)return n;n=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return of=n,null}function Rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case ft:return 2;case ur:return 8;case Zt:case ne:return 32;case ze:return 268435456;default:return 32}default:return 32}}var ug=!1,vi=null,wi=null,ji=null,ru=new Map,au=new Map,Ni=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pv(n,i){switch(n){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":ru.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(i.pointerId)}}function nu(n,i,d,h,x,N){return n===null||n.nativeEvent!==N?(n={blockedOn:i,domEventName:d,eventSystemFlags:h,nativeEvent:N,targetContainers:[x]},i!==null&&(i=br(i),i!==null&&Av(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),n)}function Ak(n,i,d,h,x){switch(i){case"focusin":return vi=nu(vi,n,i,d,h,x),!0;case"dragenter":return wi=nu(wi,n,i,d,h,x),!0;case"mouseover":return ji=nu(ji,n,i,d,h,x),!0;case"pointerover":var N=x.pointerId;return ru.set(N,nu(ru.get(N)||null,n,i,d,h,x)),!0;case"gotpointercapture":return N=x.pointerId,au.set(N,nu(au.get(N)||null,n,i,d,h,x)),!0}return!1}function Mv(n){var i=mr(n.target);if(i!==null){var d=l(i);if(d!==null){if(i=d.tag,i===13){if(i=c(d),i!==null){n.blockedOn=i,Ee(n.priority,function(){if(d.tag===13){var h=Kn();h=st(h);var x=ni(d,h);x!==null&&Wn(x,d,h),ig(d,h)}});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var d=cg(n.nativeEvent);if(d===null){d=n.nativeEvent;var h=new d.constructor(d.type,d);Yi=h,d.target.dispatchEvent(h),Yi=null}else return i=br(d),i!==null&&Av(i),n.blockedOn=d,!1;i.shift()}return!0}function Dv(n,i,d){lf(n)&&d.delete(i)}function Rk(){ug=!1,vi!==null&&lf(vi)&&(vi=null),wi!==null&&lf(wi)&&(wi=null),ji!==null&&lf(ji)&&(ji=null),ru.forEach(Dv),au.forEach(Dv)}function cf(n,i){n.blockedOn===i&&(n.blockedOn=null,ug||(ug=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rk)))}var df=null;function Iv(n){df!==n&&(df=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){df===n&&(df=null);for(var i=0;i<n.length;i+=3){var d=n[i],h=n[i+1],x=n[i+2];if(typeof h!="function"){if(dg(h||d)===null)continue;break}var N=br(d);N!==null&&(n.splice(i,3),i-=3,dm(N,{pending:!0,data:x,method:d.method,action:h},h,x))}}))}function su(n){function i(xe){return cf(xe,n)}vi!==null&&cf(vi,n),wi!==null&&cf(wi,n),ji!==null&&cf(ji,n),ru.forEach(i),au.forEach(i);for(var d=0;d<Ni.length;d++){var h=Ni[d];h.blockedOn===n&&(h.blockedOn=null)}for(;0<Ni.length&&(d=Ni[0],d.blockedOn===null);)Mv(d),d.blockedOn===null&&Ni.shift();if(d=(n.ownerDocument||n).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var x=d[h],N=d[h+1],L=x[lt]||null;if(typeof N=="function")L||Iv(d);else if(L){var V=null;if(N&&N.hasAttribute("formAction")){if(x=N,L=N[lt]||null)V=L.formAction;else if(dg(x)!==null)continue}else V=L.action;typeof V=="function"?d[h+1]=V:(d.splice(h,3),h-=3),Iv(d)}}}function fg(n){this._internalRoot=n}uf.prototype.render=fg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var d=i.current,h=Kn();Tv(d,h,n,i,null,null)},uf.prototype.unmount=fg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Tv(n.current,2,null,n,null,null),G0(),i[Pt]=null}};function uf(n){this._internalRoot=n}uf.prototype.unstable_scheduleHydration=function(n){if(n){var i=me();n={blockedOn:null,target:n,priority:i};for(var d=0;d<Ni.length&&i!==0&&i<Ni[d].priority;d++);Ni.splice(d,0,n),d===0&&Mv(n)}};var Lv=r.version;if(Lv!=="19.1.0")throw Error(s(527,Lv,"19.1.0"));re.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var Pk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{tt=ff.inject(Pk),jt=ff}catch(n){}}return iu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var d=!1,h="",x=eb,N=tb,L=rb,V=null;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks)),i=$v(n,1,!1,null,null,d,h,x,N,L,V,null),n[Pt]=i.current,Wm(n),new fg(i)},iu.hydrateRoot=function(n,i,d){if(!o(n))throw Error(s(299));var h=!1,x="",N=eb,L=tb,V=rb,xe=null,De=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(xe=d.unstable_transitionCallbacks),d.formState!==void 0&&(De=d.formState)),i=$v(n,1,!0,i,d!=null?d:null,h,x,N,L,V,xe,De),i.context=Ev(null),d=i.current,h=Kn(),h=st(h),x=_e(h),x.callback=null,Fe(d,x,h),d=h,i.current.lanes=d,Ga(i,d),ro(i),n[Pt]=i.current,Wm(n),new uf(i)},iu.version="19.1.0",iu}var Zv;function Wk(){if(Zv)return wg.exports;Zv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),wg.exports=Kk(),wg.exports}var Yk=Wk();const Qk=Dl(Yk);var lu={},Jv;function Xk(){if(Jv)return lu;Jv=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=c,lu.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function c(j,C){const T=new l,$=j.length;if($<2)return T;const O=(C==null?void 0:C.decode)||p;let P=0;do{const q=j.indexOf("=",P);if(q===-1)break;const H=j.indexOf(";",P),M=H===-1?$:H;if(q>M){P=j.lastIndexOf(";",q-1)+1;continue}const K=u(j,P,q),F=f(j,q,K),oe=j.slice(K,F);if(T[oe]===void 0){let fe=u(j,q+1,M),X=f(j,M,fe);const le=O(j.slice(fe,X));T[oe]=le}P=M+1}while(P<$);return T}function u(j,C,T){do{const $=j.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<T);return T}function f(j,C,T){for(;C>T;){const $=j.charCodeAt(--C);if($!==32&&$!==9)return C+1}return T}function m(j,C,T){const $=(T==null?void 0:T.encode)||encodeURIComponent;if(!e.test(j))throw new TypeError(`argument name is invalid: ${j}`);const O=$(C);if(!r.test(O))throw new TypeError(`argument val is invalid: ${C}`);let P=j+"="+O;if(!T)return P;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);P+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);P+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);P+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);P+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(P+="; HttpOnly"),T.secure&&(P+="; Secure"),T.partitioned&&(P+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return P}function p(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch(C){return j}}function _(j){return o.call(j)==="[object Date]"}return lu}Xk();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zw=e=>{throw TypeError(e)},Zk=(e,r,t)=>r.has(e)||Zw("Cannot "+t),_g=(e,r,t)=>(Zk(e,r,"read from private field"),t?t.call(e):r.get(e)),Jk=(e,r,t)=>r.has(e)?Zw("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),e1="popstate";function e_(e={}){function r(s,o){let{pathname:l,search:c,hash:u}=s.location;return vu("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ui(o)}return r_(r,t,null,e)}function kr(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function ba(e,r){if(!e){typeof console!="undefined"&&console.warn(r);try{throw new Error(r)}catch(t){}}}function t_(){return Math.random().toString(36).substring(2,10)}function t1(e,r){return{usr:e.state,key:e.key,idx:r}}function vu(e,r,t=null,s){return je(Y({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Hi(r):r),{state:t,key:r&&r.key||s||t_()})}function Ui({pathname:e="/",search:r="",hash:t=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Hi(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substring(t),e=e.substring(0,t));let s=e.indexOf("?");s>=0&&(r.search=e.substring(s),e=e.substring(0,s)),e&&(r.pathname=e)}return r}function r_(e,r,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,u="POP",f=null,m=p();m==null&&(m=0,c.replaceState(je(Y({},c.state),{idx:m}),""));function p(){return(c.state||{idx:null}).idx}function _(){u="POP";let O=p(),P=O==null?null:O-m;m=O,f&&f({action:u,location:$.location,delta:P})}function j(O,P){u="PUSH";let q=vu($.location,O,P);m=p()+1;let H=t1(q,m),M=$.createHref(q);try{c.pushState(H,"",M)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(M)}l&&f&&f({action:u,location:$.location,delta:1})}function C(O,P){u="REPLACE";let q=vu($.location,O,P);m=p();let H=t1(q,m),M=$.createHref(q);c.replaceState(H,"",M),l&&f&&f({action:u,location:$.location,delta:0})}function T(O){return Jw(O)}let $={get action(){return u},get location(){return e(o,c)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(e1,_),f=O,()=>{o.removeEventListener(e1,_),f=null}},createHref(O){return r(o,O)},createURL:T,encodeLocation(O){let P=T(O);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:j,replace:C,go(O){return c.go(O)}};return $}function Jw(e,r=!1){let t="http://localhost";typeof window!="undefined"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kr(t,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ui(e);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var gu,r1=class{constructor(e){if(Jk(this,gu,new Map),e)for(let[r,t]of e)this.set(r,t)}get(e){if(_g(this,gu).has(e))return _g(this,gu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,r){_g(this,gu).set(e,r)}};gu=new WeakMap;var a_=new Set(["lazy","caseSensitive","path","id","index","children"]);function n_(e){return a_.has(e)}var s_=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function o_(e){return s_.has(e)}function i_(e){return e.index===!0}function Vf(e,r,t=[],s={}){return e.map((o,l)=>{let c=[...t,String(l)],u=typeof o.id=="string"?o.id:c.join("-");if(kr(o.index!==!0||!o.children,"Cannot specify children on an index route"),kr(!s[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),i_(o)){let f=je(Y(Y({},o),r(o)),{id:u});return s[u]=f,f}else{let f=je(Y(Y({},o),r(o)),{id:u,children:void 0});return s[u]=f,o.children&&(f.children=Vf(o.children,r,c,s)),f}})}function Ei(e,r,t="/"){return Pf(e,r,t,!1)}function Pf(e,r,t,s){let o=typeof r=="string"?Hi(r):r,l=ms(o.pathname||"/",t);if(l==null)return null;let c=e3(e);c_(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=v_(l);u=x_(c[f],m,s)}return u}function l_(e,r){let{route:t,pathname:s,params:o}=e;return{id:t.id,pathname:s,params:o,data:r[t.id],handle:t.handle}}function e3(e,r=[],t=[],s=""){let o=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(kr(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let m=lo([s,f.relativePath]),p=t.concat(f);l.children&&l.children.length>0&&(kr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),e3(l.children,r,p,m)),!(l.path==null&&!l.index)&&r.push({path:m,score:p_(m,l.index),routesMeta:p})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let f of t3(l.path))o(l,c,f)}),r}function t3(e){let r=e.split("/");if(r.length===0)return[];let[t,...s]=r,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=t3(s.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function c_(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:y_(r.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var d_=/^:[\w-]+$/,u_=3,f_=2,h_=1,m_=10,g_=-2,a1=e=>e==="*";function p_(e,r){let t=e.split("/"),s=t.length;return t.some(a1)&&(s+=g_),r&&(s+=f_),t.filter(o=>!a1(o)).reduce((o,l)=>o+(d_.test(l)?u_:l===""?h_:m_),s)}function y_(e,r){return e.length===r.length&&e.slice(0,-1).every((s,o)=>s===r[o])?e[e.length-1]-r[r.length-1]:0}function x_(e,r,t=!1){let{routesMeta:s}=e,o={},l="/",c=[];for(let u=0;u<s.length;++u){let f=s[u],m=u===s.length-1,p=l==="/"?r:r.slice(l.length)||"/",_=Kf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),j=f.route;if(!_&&m&&t&&!s[s.length-1].route.index&&(_=Kf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:lo([l,_.pathname]),pathnameBase:N_(lo([l,_.pathnameBase])),route:j}),_.pathnameBase!=="/"&&(l=lo([l,_.pathnameBase]))}return c}function Kf(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,s]=b_(e.path,e.caseSensitive,e.end),o=r.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:s.reduce((m,{paramName:p,isOptional:_},j)=>{if(p==="*"){let T=u[j]||"";c=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=u[j];return _&&!C?m[p]=void 0:m[p]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function b_(e,r=!1,t=!0){ba(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]}function v_(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ba(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function ms(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,s=e.charAt(t);return s&&s!=="/"?null:e.slice(t)||"/"}function w_(e,r="/"){let{pathname:t,search:s="",hash:o=""}=typeof e=="string"?Hi(e):e;return{pathname:t?t.startsWith("/")?t:j_(t,r):r,search:k_(s),hash:__(o)}}function j_(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sg(e,r,t,s){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r3(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function lh(e){let r=r3(e);return r.map((t,s)=>s===r.length-1?t.pathname:t.pathnameBase)}function ch(e,r,t,s=!1){let o;typeof e=="string"?o=Hi(e):(o=Y({},e),kr(!o.pathname||!o.pathname.includes("?"),Sg("?","pathname","search",o)),kr(!o.pathname||!o.pathname.includes("#"),Sg("#","pathname","hash",o)),kr(!o.search||!o.search.includes("#"),Sg("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=t;else{let _=r.length-1;if(!s&&c.startsWith("..")){let j=c.split("/");for(;j[0]==="..";)j.shift(),_-=1;o.pathname=j.join("/")}u=_>=0?r[_]:"/"}let f=w_(o,u),m=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}var lo=e=>e.join("/").replace(/\/\/+/g,"/"),N_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,__=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Wf=class{constructor(e,r,t,s=!1){this.status=e,this.statusText=r||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function wu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var a3=["POST","PUT","PATCH","DELETE"],S_=new Set(a3),C_=["GET",...a3],$_=new Set(C_),E_=new Set([301,302,303,307,308]),T_=new Set([307,308]),Cg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},O_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),n3="remix-router-transitions",s3=Symbol("ResetLoaderData");function R_(e){const r=e.window?e.window:typeof window!="undefined"?window:void 0,t=typeof r!="undefined"&&typeof r.document!="undefined"&&typeof r.document.createElement!="undefined";kr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],o=e.mapRouteProperties||A_,l={},c=Vf(e.routes,o,void 0,l),u,f=e.basename||"/",m=e.dataStrategy||L_,p=Y({unstable_middleware:!1},e.future),_=null,j=new Set,C=null,T=null,$=null,O=e.hydrationData!=null,P=Ei(c,e.history.location,f),q=!1,H=null,M;if(P==null&&!e.patchRoutesOnNavigation){let me=us(404,{pathname:e.history.location.pathname}),{matches:Ee,route:Me}=g1(c);M=!0,P=Ee,H={[Me.id]:me}}else if(P&&!e.hydrationData&&na(P,c,e.history.location.pathname).active&&(P=null),P)if(P.some(me=>me.route.lazy))M=!1;else if(!P.some(me=>me.route.loader))M=!0;else{let me=e.hydrationData?e.hydrationData.loaderData:null,Ee=e.hydrationData?e.hydrationData.errors:null;if(Ee){let Me=P.findIndex(Ve=>Ee[Ve.route.id]!==void 0);M=P.slice(0,Me+1).every(Ve=>!gp(Ve.route,me,Ee))}else M=P.every(Me=>!gp(Me.route,me,Ee))}else{M=!1,P=[];let me=na(null,c,e.history.location.pathname);me.active&&me.matches&&(q=!0,P=me.matches)}let K,F={historyAction:e.history.action,location:e.history.location,matches:P,initialized:M,navigation:Cg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||H,fetchers:new Map,blockers:new Map},oe="POP",fe=!1,X,le=!1,he=new Map,ee=null,ce=!1,te=!1,pe=new Set,se=new Map,re=0,de=-1,He=new Map,W=new Set,z=new Map,ae=new Map,ge=new Set,ue=new Map,U,Q=null;function Ae(){if(_=e.history.listen(({action:me,location:Ee,delta:Me})=>{if(U){U(),U=void 0;return}ba(ue.size===0||Me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ve=pr({currentLocation:F.location,nextLocation:Ee,historyAction:me});if(Ve&&Me!=null){let lt=new Promise(Pt=>{U=Pt});e.history.go(Me*-1),cr(Ve,{state:"blocked",location:Ee,proceed(){cr(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),lt.then(()=>e.history.go(Me))},reset(){let Pt=new Map(F.blockers);Pt.set(Ve,cu),dt({blockers:Pt})}});return}return be(me,Ee)}),t){Y_(r,he);let me=()=>Q_(r,he);r.addEventListener("pagehide",me),ee=()=>r.removeEventListener("pagehide",me)}return F.initialized||be("POP",F.location,{initialHydration:!0}),K}function Ke(){_&&_(),ee&&ee(),j.clear(),X&&X.abort(),F.fetchers.forEach((me,Ee)=>ve(Ee)),F.blockers.forEach((me,Ee)=>qt(Ee))}function ct(me){return j.add(me),()=>j.delete(me)}function dt(me,Ee={}){F=Y(Y({},F),me);let Me=[],Ve=[];F.fetchers.forEach((lt,Pt)=>{lt.state==="idle"&&(ge.has(Pt)?Me.push(Pt):Ve.push(Pt))}),ge.forEach(lt=>{!F.fetchers.has(lt)&&!se.has(lt)&&Me.push(lt)}),[...j].forEach(lt=>lt(F,{deletedFetchers:Me,viewTransitionOpts:Ee.viewTransitionOpts,flushSync:Ee.flushSync===!0})),Me.forEach(lt=>ve(lt)),Ve.forEach(lt=>F.fetchers.delete(lt))}function kt(me,Ee,{flushSync:Me}={}){var Yt,Qt;let Ve=F.actionData!=null&&F.navigation.formMethod!=null&&Qn(F.navigation.formMethod)&&F.navigation.state==="loading"&&((Yt=me.state)==null?void 0:Yt._isRedirect)!==!0,lt;Ee.actionData?Object.keys(Ee.actionData).length>0?lt=Ee.actionData:lt=null:Ve?lt=F.actionData:lt=null;let Pt=Ee.loaderData?h1(F.loaderData,Ee.loaderData,Ee.matches||[],Ee.errors):F.loaderData,Vt=F.blockers;Vt.size>0&&(Vt=new Map(Vt),Vt.forEach((Ht,mr)=>Vt.set(mr,cu)));let Ge=fe===!0||F.navigation.formMethod!=null&&Qn(F.navigation.formMethod)&&((Qt=me.state)==null?void 0:Qt._isRedirect)!==!0;u&&(c=u,u=void 0),ce||oe==="POP"||(oe==="PUSH"?e.history.push(me,me.state):oe==="REPLACE"&&e.history.replace(me,me.state));let Ft;if(oe==="POP"){let Ht=he.get(F.location.pathname);Ht&&Ht.has(me.pathname)?Ft={currentLocation:F.location,nextLocation:me}:he.has(me.pathname)&&(Ft={currentLocation:me,nextLocation:F.location})}else if(le){let Ht=he.get(F.location.pathname);Ht?Ht.add(me.pathname):(Ht=new Set([me.pathname]),he.set(F.location.pathname,Ht)),Ft={currentLocation:F.location,nextLocation:me}}dt(je(Y({},Ee),{actionData:lt,loaderData:Pt,historyAction:oe,location:me,initialized:!0,navigation:Cg,revalidation:"idle",restoreScrollPosition:_r(me,Ee.matches||F.matches),preventScrollReset:Ge,blockers:Vt}),{viewTransitionOpts:Ft,flushSync:Me===!0}),oe="POP",fe=!1,le=!1,ce=!1,te=!1,Q==null||Q.resolve(),Q=null}function ht(me,Ee){return Ne(this,null,function*(){if(typeof me=="number"){e.history.go(me);return}let Me=mp(F.location,F.matches,f,me,Ee==null?void 0:Ee.fromRouteId,Ee==null?void 0:Ee.relative),{path:Ve,submission:lt,error:Pt}=n1(!1,Me,Ee),Vt=F.location,Ge=vu(F.location,Ve,Ee&&Ee.state);Ge=Y(Y({},Ge),e.history.encodeLocation(Ge));let Ft=Ee&&Ee.replace!=null?Ee.replace:void 0,Yt="PUSH";Ft===!0?Yt="REPLACE":Ft===!1||lt!=null&&Qn(lt.formMethod)&&lt.formAction===F.location.pathname+F.location.search&&(Yt="REPLACE");let Qt=Ee&&"preventScrollReset"in Ee?Ee.preventScrollReset===!0:void 0,Ht=(Ee&&Ee.flushSync)===!0,mr=pr({currentLocation:Vt,nextLocation:Ge,historyAction:Yt});if(mr){cr(mr,{state:"blocked",location:Ge,proceed(){cr(mr,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),ht(me,Ee)},reset(){let br=new Map(F.blockers);br.set(mr,cu),dt({blockers:br})}});return}yield be(Yt,Ge,{submission:lt,pendingError:Pt,preventScrollReset:Qt,replace:Ee&&Ee.replace,enableViewTransition:Ee&&Ee.viewTransition,flushSync:Ht})})}function zt(){Q||(Q=X_()),ut(),dt({revalidation:"loading"});let me=Q.promise;return F.navigation.state==="submitting"?me:F.navigation.state==="idle"?(be(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),me):(be(oe||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:le===!0}),me)}function be(me,Ee,Me){return Ne(this,null,function*(){X&&X.abort(),X=null,oe=me,ce=(Me&&Me.startUninterruptedRevalidation)===!0,Ga(F.location,F.matches),fe=(Me&&Me.preventScrollReset)===!0,le=(Me&&Me.enableViewTransition)===!0;let Ve=u||c,lt=Me&&Me.overrideNavigation,Pt=Me!=null&&Me.initialHydration&&F.matches&&F.matches.length>0&&!q?F.matches:Ei(Ve,Ee,f),Vt=(Me&&Me.flushSync)===!0;if(Pt&&F.initialized&&!te&&H_(F.location,Ee)&&!(Me&&Me.submission&&Qn(Me.submission.formMethod))){kt(Ee,{matches:Pt},{flushSync:Vt});return}let Ge=na(Pt,Ve,Ee.pathname);if(Ge.active&&Ge.matches&&(Pt=Ge.matches),!Pt){let{error:Ar,notFoundMatches:er,route:Kt}=ta(Ee.pathname);kt(Ee,{matches:er,loaderData:{},errors:{[Kt.id]:Ar}},{flushSync:Vt});return}X=new AbortController;let Ft=Ac(e.history,Ee,X.signal,Me&&Me.submission),Yt=new r1(e.unstable_getContext?yield e.unstable_getContext():void 0),Qt;if(Me&&Me.pendingError)Qt=[yl(Pt).route.id,{type:"error",error:Me.pendingError}];else if(Me&&Me.submission&&Qn(Me.submission.formMethod)){let Ar=yield Ze(Ft,Ee,Me.submission,Pt,Yt,Ge.active,Me&&Me.initialHydration===!0,{replace:Me.replace,flushSync:Vt});if(Ar.shortCircuited)return;if(Ar.pendingActionResult){let[er,Kt]=Ar.pendingActionResult;if(Yn(Kt)&&wu(Kt.error)&&Kt.error.status===404){X=null,kt(Ee,{matches:Ar.matches,loaderData:{},errors:{[er]:Kt.error}});return}}Pt=Ar.matches||Pt,Qt=Ar.pendingActionResult,lt=$g(Ee,Me.submission),Vt=!1,Ge.active=!1,Ft=Ac(e.history,Ft.url,Ft.signal)}let{shortCircuited:Ht,matches:mr,loaderData:br,errors:zr}=yield At(Ft,Ee,Pt,Yt,Ge.active,lt,Me&&Me.submission,Me&&Me.fetcherSubmission,Me&&Me.replace,Me&&Me.initialHydration===!0,Vt,Qt);Ht||(X=null,kt(Ee,je(Y({matches:mr||Pt},m1(Qt)),{loaderData:br,errors:zr})))})}function Ze(Ft,Yt,Qt,Ht,mr,br,zr){return Ne(this,arguments,function*(me,Ee,Me,Ve,lt,Pt,Vt,Ge={}){ut();let Ar=K_(Ee,Me);if(dt({navigation:Ar},{flushSync:Ge.flushSync===!0}),Pt){let Er=yield qe(Ve,Ee.pathname,me.signal);if(Er.type==="aborted")return{shortCircuited:!0};if(Er.type==="error"){let Br=yl(Er.partialMatches).route.id;return{matches:Er.partialMatches,pendingActionResult:[Br,{type:"error",error:Er.error}]}}else if(Er.matches)Ve=Er.matches;else{let{notFoundMatches:Br,error:ra,route:Xr}=ta(Ee.pathname);return{matches:Br,pendingActionResult:[Xr.id,{type:"error",error:ra}]}}}let er,Kt=pu(Ve,Ee);if(!Kt.route.action&&!Kt.route.lazy)er={type:"error",error:us(405,{method:me.method,pathname:Ee.pathname,routeId:Kt.route.id})};else{let Er=Ic(o,l,me,Ve,Kt,Vt?[]:s,lt),Br=yield ze(me,Er,lt,null);if(er=Br[Kt.route.id],!er){for(let ra of Ve)if(Br[ra.route.id]){er=Br[ra.route.id];break}}if(me.signal.aborted)return{shortCircuited:!0}}if(xl(er)){let Er;return Ge&&Ge.replace!=null?Er=Ge.replace:Er=d1(er.response.headers.get("Location"),new URL(me.url),f)===F.location.pathname+F.location.search,yield ne(me,er,!0,{submission:Me,replace:Er}),{shortCircuited:!0}}if(Yn(er)){let Er=yl(Ve,Kt.route.id);return(Ge&&Ge.replace)!==!0&&(oe="PUSH"),{matches:Ve,pendingActionResult:[Er.route.id,er,Kt.route.id]}}return{matches:Ve,pendingActionResult:[Kt.route.id,er]}})}function At(me,Ee,Me,Ve,lt,Pt,Vt,Ge,Ft,Yt,Qt,Ht){return Ne(this,null,function*(){let mr=Pt||$g(Ee,Vt),br=Vt||Ge||y1(mr),zr=!ce&&!Yt;if(lt){if(zr){let ua=ye(Ht);dt(Y({navigation:mr},ua!==void 0?{actionData:ua}:{}),{flushSync:Qt})}let wt=yield qe(Me,Ee.pathname,me.signal);if(wt.type==="aborted")return{shortCircuited:!0};if(wt.type==="error"){let ua=yl(wt.partialMatches).route.id;return{matches:wt.partialMatches,loaderData:{},errors:{[ua]:wt.error}}}else if(wt.matches)Me=wt.matches;else{let{error:ua,notFoundMatches:ka,route:fa}=ta(Ee.pathname);return{matches:ka,loaderData:{},errors:{[fa.id]:ua}}}}let Ar=u||c,{dsMatches:er,revalidatingFetchers:Kt}=s1(me,Ve,o,l,e.history,F,Me,br,Ee,Yt?[]:s,Yt===!0,te,pe,ge,z,W,Ar,f,e.patchRoutesOnNavigation!=null,Ht);if(de=++re,!e.dataStrategy&&!er.some(wt=>wt.shouldLoad)&&Kt.length===0){let wt=xt();return kt(Ee,Y(Y({matches:Me,loaderData:{},errors:Ht&&Yn(Ht[1])?{[Ht[0]]:Ht[1].error}:null},m1(Ht)),wt?{fetchers:new Map(F.fetchers)}:{}),{flushSync:Qt}),{shortCircuited:!0}}if(zr){let wt={};if(!lt){wt.navigation=mr;let ua=ye(Ht);ua!==void 0&&(wt.actionData=ua)}Kt.length>0&&(wt.fetchers=We(Kt)),dt(wt,{flushSync:Qt})}Kt.forEach(wt=>{gt(wt.key),wt.controller&&se.set(wt.key,wt.controller)});let Er=()=>Kt.forEach(wt=>gt(wt.key));X&&X.signal.addEventListener("abort",Er);let{loaderResults:Br,fetcherResults:ra}=yield rt(er,Kt,me,Ve);if(me.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",Er),Kt.forEach(wt=>se.delete(wt.key));let Xr=gf(Br);if(Xr)return yield ne(me,Xr.result,!0,{replace:Ft}),{shortCircuited:!0};if(Xr=gf(ra),Xr)return W.add(Xr.key),yield ne(me,Xr.result,!0,{replace:Ft}),{shortCircuited:!0};let{loaderData:Zr,errors:Ja}=f1(F,Me,Br,Ht,Kt,ra);Yt&&F.errors&&(Ja=Y(Y({},F.errors),Ja));let Ln=xt(),sa=Ye(de),Va=Ln||sa||Kt.length>0;return Y({matches:Me,loaderData:Zr,errors:Ja},Va?{fetchers:new Map(F.fetchers)}:{})})}function ye(me){if(me&&!Yn(me[1]))return{[me[0]]:me[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function We(me){return me.forEach(Ee=>{let Me=F.fetchers.get(Ee.key),Ve=du(void 0,Me?Me.data:void 0);F.fetchers.set(Ee.key,Ve)}),new Map(F.fetchers)}function ft(me,Ee,Me,Ve){return Ne(this,null,function*(){gt(me);let lt=(Ve&&Ve.flushSync)===!0,Pt=u||c,Vt=mp(F.location,F.matches,f,Me,Ee,Ve==null?void 0:Ve.relative),Ge=Ei(Pt,Vt,f),Ft=na(Ge,Pt,Vt);if(Ft.active&&Ft.matches&&(Ge=Ft.matches),!Ge){jt(me,Ee,us(404,{pathname:Vt}),{flushSync:lt});return}let{path:Yt,submission:Qt,error:Ht}=n1(!0,Vt,Ve);if(Ht){jt(me,Ee,Ht,{flushSync:lt});return}let mr=pu(Ge,Yt),br=new r1(e.unstable_getContext?yield e.unstable_getContext():void 0),zr=(Ve&&Ve.preventScrollReset)===!0;if(Qt&&Qn(Qt.formMethod)){yield ur(me,Ee,Yt,mr,Ge,br,Ft.active,lt,zr,Qt);return}z.set(me,{routeId:Ee,path:Yt}),yield Zt(me,Ee,Yt,mr,Ge,br,Ft.active,lt,zr,Qt)})}function ur(me,Ee,Me,Ve,lt,Pt,Vt,Ge,Ft,Yt){return Ne(this,null,function*(){ut(),z.delete(me);function Qt(Mr){if(!Mr.route.action&&!Mr.route.lazy){let fn=us(405,{method:Yt.formMethod,pathname:Me,routeId:Ee});return jt(me,Ee,fn,{flushSync:Ge}),!0}return!1}if(!Vt&&Qt(Ve))return;let Ht=F.fetchers.get(me);tt(me,W_(Yt,Ht),{flushSync:Ge});let mr=new AbortController,br=Ac(e.history,Me,mr.signal,Yt);if(Vt){let Mr=yield qe(lt,Me,br.signal,me);if(Mr.type==="aborted")return;if(Mr.type==="error"){jt(me,Ee,Mr.error,{flushSync:Ge});return}else if(Mr.matches){if(lt=Mr.matches,Ve=pu(lt,Me),Qt(Ve))return}else{jt(me,Ee,us(404,{pathname:Me}),{flushSync:Ge});return}}se.set(me,mr);let zr=re,Ar=Ic(o,l,br,lt,Ve,s,Pt),Kt=(yield ze(br,Ar,Pt,me))[Ve.route.id];if(br.signal.aborted){se.get(me)===mr&&se.delete(me);return}if(ge.has(me)){if(xl(Kt)||Yn(Kt)){tt(me,Si(void 0));return}}else{if(xl(Kt))if(se.delete(me),de>zr){tt(me,Si(void 0));return}else return W.add(me),tt(me,du(Yt)),ne(br,Kt,!1,{fetcherSubmission:Yt,preventScrollReset:Ft});if(Yn(Kt)){jt(me,Ee,Kt.error);return}}let Er=F.navigation.location||F.location,Br=Ac(e.history,Er,mr.signal),ra=u||c,Xr=F.navigation.state!=="idle"?Ei(ra,F.navigation.location,f):F.matches;kr(Xr,"Didn't find any matches after fetcher action");let Zr=++re;He.set(me,Zr);let Ja=du(Yt,Kt.data);F.fetchers.set(me,Ja);let{dsMatches:Ln,revalidatingFetchers:sa}=s1(Br,Pt,o,l,e.history,F,Xr,Yt,Er,s,!1,te,pe,ge,z,W,ra,f,e.patchRoutesOnNavigation!=null,[Ve.route.id,Kt]);sa.filter(Mr=>Mr.key!==me).forEach(Mr=>{let fn=Mr.key,es=F.fetchers.get(fn),Te=du(void 0,es?es.data:void 0);F.fetchers.set(fn,Te),gt(fn),Mr.controller&&se.set(fn,Mr.controller)}),dt({fetchers:new Map(F.fetchers)});let Va=()=>sa.forEach(Mr=>gt(Mr.key));mr.signal.addEventListener("abort",Va);let{loaderResults:wt,fetcherResults:ua}=yield rt(Ln,sa,Br,Pt);if(mr.signal.aborted)return;if(mr.signal.removeEventListener("abort",Va),He.delete(me),se.delete(me),sa.forEach(Mr=>se.delete(Mr.key)),F.fetchers.has(me)){let Mr=Si(Kt.data);F.fetchers.set(me,Mr)}let ka=gf(wt);if(ka)return ne(Br,ka.result,!1,{preventScrollReset:Ft});if(ka=gf(ua),ka)return W.add(ka.key),ne(Br,ka.result,!1,{preventScrollReset:Ft});let{loaderData:fa,errors:en}=f1(F,Xr,wt,void 0,sa,ua);Ye(Zr),F.navigation.state==="loading"&&Zr>de?(kr(oe,"Expected pending action"),X&&X.abort(),kt(F.navigation.location,{matches:Xr,loaderData:fa,errors:en,fetchers:new Map(F.fetchers)})):(dt({errors:en,loaderData:h1(F.loaderData,fa,Xr,en),fetchers:new Map(F.fetchers)}),te=!1)})}function Zt(me,Ee,Me,Ve,lt,Pt,Vt,Ge,Ft,Yt){return Ne(this,null,function*(){let Qt=F.fetchers.get(me);tt(me,du(Yt,Qt?Qt.data:void 0),{flushSync:Ge});let Ht=new AbortController,mr=Ac(e.history,Me,Ht.signal);if(Vt){let Kt=yield qe(lt,Me,mr.signal,me);if(Kt.type==="aborted")return;if(Kt.type==="error"){jt(me,Ee,Kt.error,{flushSync:Ge});return}else if(Kt.matches)lt=Kt.matches,Ve=pu(lt,Me);else{jt(me,Ee,us(404,{pathname:Me}),{flushSync:Ge});return}}se.set(me,Ht);let br=re,zr=Ic(o,l,mr,lt,Ve,s,Pt),er=(yield ze(mr,zr,Pt,me))[Ve.route.id];if(se.get(me)===Ht&&se.delete(me),!mr.signal.aborted){if(ge.has(me)){tt(me,Si(void 0));return}if(xl(er))if(de>br){tt(me,Si(void 0));return}else{W.add(me),yield ne(mr,er,!1,{preventScrollReset:Ft});return}if(Yn(er)){jt(me,Ee,er.error);return}tt(me,Si(er.data))}})}function ne(Ge,Ft,Yt){return Ne(this,arguments,function*(me,Ee,Me,{submission:Ve,fetcherSubmission:lt,preventScrollReset:Pt,replace:Vt}={}){Ee.response.headers.has("X-Remix-Revalidate")&&(te=!0);let Qt=Ee.response.headers.get("Location");kr(Qt,"Expected a Location header on the redirect Response"),Qt=d1(Qt,new URL(me.url),f);let Ht=vu(F.location,Qt,{_isRedirect:!0});if(t){let Kt=!1;if(Ee.response.headers.has("X-Remix-Reload-Document"))Kt=!0;else if(vy.test(Qt)){const Er=Jw(Qt,!0);Kt=Er.origin!==r.location.origin||ms(Er.pathname,f)==null}if(Kt){Vt?r.location.replace(Qt):r.location.assign(Qt);return}}X=null;let mr=Vt===!0||Ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:br,formAction:zr,formEncType:Ar}=F.navigation;!Ve&&!lt&&br&&zr&&Ar&&(Ve=y1(F.navigation));let er=Ve||lt;if(T_.has(Ee.response.status)&&er&&Qn(er.formMethod))yield be(mr,Ht,{submission:je(Y({},er),{formAction:Qt}),preventScrollReset:Pt||fe,enableViewTransition:Me?le:void 0});else{let Kt=$g(Ht,Ve);yield be(mr,Ht,{overrideNavigation:Kt,fetcherSubmission:lt,preventScrollReset:Pt||fe,enableViewTransition:Me?le:void 0})}})}function ze(me,Ee,Me,Ve){return Ne(this,null,function*(){let lt,Pt={};try{lt=yield U_(m,me,Ee,Ve,Me,!1)}catch(Vt){return Ee.filter(Ge=>Ge.shouldLoad).forEach(Ge=>{Pt[Ge.route.id]={type:"error",error:Vt}}),Pt}if(me.signal.aborted)return Pt;for(let[Vt,Ge]of Object.entries(lt))if(G_(Ge)){let Ft=Ge.result;Pt[Vt]={type:"redirect",response:B_(Ft,me,Vt,Ee,f)}}else Pt[Vt]=yield z_(Ge);return Pt})}function rt(me,Ee,Me,Ve){return Ne(this,null,function*(){let lt=ze(Me,me,Ve,null),Pt=Promise.all(Ee.map(Ft=>Ne(null,null,function*(){if(Ft.matches&&Ft.match&&Ft.request&&Ft.controller){let Qt=(yield ze(Ft.request,Ft.matches,Ve,Ft.key))[Ft.match.route.id];return{[Ft.key]:Qt}}else return Promise.resolve({[Ft.key]:{type:"error",error:us(404,{pathname:Ft.path})}})}))),Vt=yield lt,Ge=(yield Pt).reduce((Ft,Yt)=>Object.assign(Ft,Yt),{});return{loaderResults:Vt,fetcherResults:Ge}})}function ut(){te=!0,z.forEach((me,Ee)=>{se.has(Ee)&&pe.add(Ee),gt(Ee)})}function tt(me,Ee,Me={}){F.fetchers.set(me,Ee),dt({fetchers:new Map(F.fetchers)},{flushSync:(Me&&Me.flushSync)===!0})}function jt(me,Ee,Me,Ve={}){let lt=yl(F.matches,Ee);ve(me),dt({errors:{[lt.route.id]:Me},fetchers:new Map(F.fetchers)},{flushSync:(Ve&&Ve.flushSync)===!0})}function yt(me){return ae.set(me,(ae.get(me)||0)+1),ge.has(me)&&ge.delete(me),F.fetchers.get(me)||O_}function ve(me){let Ee=F.fetchers.get(me);se.has(me)&&!(Ee&&Ee.state==="loading"&&He.has(me))&&gt(me),z.delete(me),He.delete(me),W.delete(me),ge.delete(me),pe.delete(me),F.fetchers.delete(me)}function Je(me){let Ee=(ae.get(me)||0)-1;Ee<=0?(ae.delete(me),ge.add(me)):ae.set(me,Ee),dt({fetchers:new Map(F.fetchers)})}function gt(me){let Ee=se.get(me);Ee&&(Ee.abort(),se.delete(me))}function mt(me){for(let Ee of me){let Me=yt(Ee),Ve=Si(Me.data);F.fetchers.set(Ee,Ve)}}function xt(){let me=[],Ee=!1;for(let Me of W){let Ve=F.fetchers.get(Me);kr(Ve,`Expected fetcher: ${Me}`),Ve.state==="loading"&&(W.delete(Me),me.push(Me),Ee=!0)}return mt(me),Ee}function Ye(me){let Ee=[];for(let[Me,Ve]of He)if(Ve<me){let lt=F.fetchers.get(Me);kr(lt,`Expected fetcher: ${Me}`),lt.state==="loading"&&(gt(Me),He.delete(Me),Ee.push(Me))}return mt(Ee),Ee.length>0}function Gt(me,Ee){let Me=F.blockers.get(me)||cu;return ue.get(me)!==Ee&&ue.set(me,Ee),Me}function qt(me){F.blockers.delete(me),ue.delete(me)}function cr(me,Ee){let Me=F.blockers.get(me)||cu;kr(Me.state==="unblocked"&&Ee.state==="blocked"||Me.state==="blocked"&&Ee.state==="blocked"||Me.state==="blocked"&&Ee.state==="proceeding"||Me.state==="blocked"&&Ee.state==="unblocked"||Me.state==="proceeding"&&Ee.state==="unblocked",`Invalid blocker state transition: ${Me.state} -> ${Ee.state}`);let Ve=new Map(F.blockers);Ve.set(me,Ee),dt({blockers:Ve})}function pr({currentLocation:me,nextLocation:Ee,historyAction:Me}){if(ue.size===0)return;ue.size>1&&ba(!1,"A router only supports one blocker at a time");let Ve=Array.from(ue.entries()),[lt,Pt]=Ve[Ve.length-1],Vt=F.blockers.get(lt);if(!(Vt&&Vt.state==="proceeding")&&Pt({currentLocation:me,nextLocation:Ee,historyAction:Me}))return lt}function ta(me){let Ee=us(404,{pathname:me}),Me=u||c,{matches:Ve,route:lt}=g1(Me);return{notFoundMatches:Ve,route:lt,error:Ee}}function va(me,Ee,Me){if(C=me,$=Ee,T=Me||null,!O&&F.navigation===Cg){O=!0;let Ve=_r(F.location,F.matches);Ve!=null&&dt({restoreScrollPosition:Ve})}return()=>{C=null,$=null,T=null}}function wa(me,Ee){return T&&T(me,Ee.map(Ve=>l_(Ve,F.loaderData)))||me.key}function Ga(me,Ee){if(C&&$){let Me=wa(me,Ee);C[Me]=$()}}function _r(me,Ee){if(C){let Me=wa(me,Ee),Ve=C[Me];if(typeof Ve=="number")return Ve}return null}function na(me,Ee,Me){if(e.patchRoutesOnNavigation)if(me){if(Object.keys(me[0].params).length>0)return{active:!0,matches:Pf(Ee,Me,f,!0)}}else return{active:!0,matches:Pf(Ee,Me,f,!0)||[]};return{active:!1,matches:null}}function qe(me,Ee,Me,Ve){return Ne(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:me};let lt=me;for(;;){let Pt=u==null,Vt=u||c,Ge=l;try{yield e.patchRoutesOnNavigation({signal:Me,path:Ee,matches:lt,fetcherKey:Ve,patch:(Qt,Ht)=>{Me.aborted||o1(Qt,Ht,Vt,Ge,o)}})}catch(Qt){return{type:"error",error:Qt,partialMatches:lt}}finally{Pt&&!Me.aborted&&(c=[...c])}if(Me.aborted)return{type:"aborted"};let Ft=Ei(Vt,Ee,f);if(Ft)return{type:"success",matches:Ft};let Yt=Pf(Vt,Ee,f,!0);if(!Yt||lt.length===Yt.length&&lt.every((Qt,Ht)=>Qt.route.id===Yt[Ht].route.id))return{type:"success",matches:null};lt=Yt}})}function st(me){l={},u=Vf(me,o,void 0,l)}function Tr(me,Ee){let Me=u==null;o1(me,Ee,u||c,l,o),Me&&(c=[...c],dt({}))}return K={get basename(){return f},get future(){return p},get state(){return F},get routes(){return c},get window(){return r},initialize:Ae,subscribe:ct,enableScrollRestoration:va,navigate:ht,fetch:ft,revalidate:zt,createHref:me=>e.history.createHref(me),encodeLocation:me=>e.history.encodeLocation(me),getFetcher:yt,deleteFetcher:Je,dispose:Ke,getBlocker:Gt,deleteBlocker:qt,patchRoutes:Tr,_internalFetchControllers:se,_internalSetRoutes:st},K}function P_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function mp(e,r,t,s,o,l){let c,u;if(o){c=[];for(let m of r)if(c.push(m),m.route.id===o){u=m;break}}else c=r,u=r[r.length-1];let f=ch(s||".",lh(c),ms(e.pathname,t)||e.pathname,l==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&u){let m=wy(f.search);if(u.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&m){let p=new URLSearchParams(f.search),_=p.getAll("index");p.delete("index"),_.filter(C=>C).forEach(C=>p.append("index",C));let j=p.toString();f.search=j?`?${j}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:lo([t,f.pathname])),Ui(f)}function n1(e,r,t){if(!t||!P_(t))return{path:r};if(t.formMethod&&!V_(t.formMethod))return{path:r,error:us(405,{method:t.formMethod})};let s=()=>({path:r,error:us(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=u3(r);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Qn(l))return s();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((j,[C,T])=>`${j}${C}=${T}
`,""):String(t.body);return{path:r,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!Qn(l))return s();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:r,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch(_){return s()}}}kr(typeof FormData=="function","FormData is not available in this environment");let u,f;if(t.formData)u=yp(t.formData),f=t.formData;else if(t.body instanceof FormData)u=yp(t.body),f=t.body;else if(t.body instanceof URLSearchParams)u=t.body,f=u1(u);else if(t.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(t.body),f=u1(u)}catch(_){return s()}let m={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Qn(m.formMethod))return{path:r,submission:m};let p=Hi(r);return e&&p.search&&wy(p.search)&&u.append("index",""),p.search=`?${u}`,{path:Ui(p),submission:m}}function s1(e,r,t,s,o,l,c,u,f,m,p,_,j,C,T,$,O,P,q,H){var ce;let M=H?Yn(H[1])?H[1].error:H[1].data:void 0,K=o.createURL(l.location),F=o.createURL(f),oe;if(p&&l.errors){let te=Object.keys(l.errors)[0];oe=c.findIndex(pe=>pe.route.id===te)}else if(H&&Yn(H[1])){let te=H[0];oe=c.findIndex(pe=>pe.route.id===te)-1}let fe=H?H[1].statusCode:void 0,X=fe&&fe>=400,le=je(Y({currentUrl:K,currentParams:((ce=l.matches[0])==null?void 0:ce.params)||{},nextUrl:F,nextParams:c[0].params},u),{actionResult:M,actionStatus:fe}),he=c.map((te,pe)=>{let{route:se}=te,re=null;if(oe!=null&&pe>oe?re=!1:se.lazy?re=!0:se.loader==null?re=!1:p?re=gp(se,l.loaderData,l.errors):M_(l.loaderData,l.matches[pe],te)&&(re=!0),re!==null)return pp(t,s,e,te,m,r,re);let de=X?!1:_||K.pathname+K.search===F.pathname+F.search||K.search!==F.search||D_(l.matches[pe],te),He=je(Y({},le),{defaultShouldRevalidate:de}),W=Yf(te,He);return pp(t,s,e,te,m,r,W,He)}),ee=[];return T.forEach((te,pe)=>{if(p||!c.some(ge=>ge.route.id===te.routeId)||C.has(pe))return;let se=l.fetchers.get(pe),re=se&&se.state!=="idle"&&se.data===void 0,de=Ei(O,te.path,P);if(!de){if(q&&re)return;ee.push({key:pe,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if($.has(pe))return;let He=pu(de,te.path),W=new AbortController,z=Ac(o,te.path,W.signal),ae=null;if(j.has(pe))j.delete(pe),ae=Ic(t,s,z,de,He,m,r);else if(re)_&&(ae=Ic(t,s,z,de,He,m,r));else{let ge=je(Y({},le),{defaultShouldRevalidate:X?!1:_});Yf(He,ge)&&(ae=Ic(t,s,z,de,He,m,r,ge))}ae&&ee.push({key:pe,routeId:te.routeId,path:te.path,matches:ae,match:He,request:z,controller:W})}),{dsMatches:he,revalidatingFetchers:ee}}function gp(e,r,t){if(e.lazy)return!0;if(!e.loader)return!1;let s=r!=null&&e.id in r,o=t!=null&&t[e.id]!==void 0;return!s&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!o}function M_(e,r,t){let s=!r||t.route.id!==r.route.id,o=!e.hasOwnProperty(t.route.id);return s||o}function D_(e,r){let t=e.route.path;return e.pathname!==r.pathname||t!=null&&t.endsWith("*")&&e.params["*"]!==r.params["*"]}function Yf(e,r){if(e.route.shouldRevalidate){let t=e.route.shouldRevalidate(r);if(typeof t=="boolean")return t}return r.defaultShouldRevalidate}function o1(e,r,t,s,o){let l;if(e){let f=s[e];kr(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),l=f.children}else l=t;let c=r.filter(f=>!l.some(m=>o3(f,m))),u=Vf(c,o,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...u)}function o3(e,r){return"id"in e&&"id"in r&&e.id===r.id?!0:e.index===r.index&&e.path===r.path&&e.caseSensitive===r.caseSensitive?(!e.children||e.children.length===0)&&(!r.children||r.children.length===0)?!0:e.children.every((t,s)=>{var o;return(o=r.children)==null?void 0:o.some(l=>o3(t,l))}):!1}var i1=new WeakMap,i3=({key:e,route:r,manifest:t,mapRouteProperties:s})=>{let o=t[r.id];if(kr(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[e];if(!l)return;let c=i1.get(o);c||(c={},i1.set(o,c));let u=c[e];if(u)return u;let f=Ne(null,null,function*(){let m=n_(e),_=o[e]!==void 0&&e!=="hasErrorBoundary";if(m)ba(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(_)ba(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let j=yield l();j!=null&&(Object.assign(o,{[e]:j}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(j=>j===void 0)&&(o.lazy=void 0))});return c[e]=f,f},l1=new WeakMap;function I_(e,r,t,s,o){let l=t[e.id];if(kr(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=l1.get(l);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let _=Ne(null,null,function*(){kr(typeof e.lazy=="function","No lazy route function found");let j=yield e.lazy(),C={};for(let T in j){let $=j[T];if($===void 0)continue;let O=o_(T),q=l[T]!==void 0&&T!=="hasErrorBoundary";O?ba(!O,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):q?ba(!q,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=$}Object.assign(l,C),Object.assign(l,je(Y({},s(l)),{lazy:void 0}))});return l1.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(e.lazy),u=[],f;for(let p of c){if(o&&o.includes(p))continue;let _=i3({key:p,route:e,manifest:t,mapRouteProperties:s});_&&(u.push(_),p===r&&(f=_))}let m=u.length>0?Promise.all(u).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}function c1(e){return Ne(this,null,function*(){let r=e.matches.filter(o=>o.shouldLoad),t={};return(yield Promise.all(r.map(o=>o.resolve()))).forEach((o,l)=>{t[r[l].route.id]=o}),t})}function L_(e){return Ne(this,null,function*(){return e.matches.some(r=>r.route.unstable_middleware)?l3(e,!1,()=>c1(e),(r,t)=>({[t]:{type:"error",result:r}})):c1(e)})}function l3(e,r,t,s){return Ne(this,null,function*(){let{matches:o,request:l,params:c,context:u}=e,f={handlerResult:void 0};try{let m=o.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(j=>[_.route.id,j]):[]),p=yield c3({request:l,params:c,context:u},m,r,f,t);return r?p:f.handlerResult}catch(m){if(!f.middlewareError)throw m;let p=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}})}function c3(e,r,t,s,o,l=0){return Ne(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let u=r[l];if(!u)return s.handlerResult=yield o(),s.handlerResult;let[f,m]=u,p=!1,_,j=()=>Ne(null,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");p=!0,yield c3(e,r,t,s,o,l+1)});try{let C=yield m({request:e.request,params:e.params,context:e.context},j);return p?C===void 0?_:C:j()}catch(C){throw s.middlewareError?s.middlewareError.error!==C&&(s.middlewareError={routeId:f,error:C}):s.middlewareError={routeId:f,error:C},C}})}function d3(e,r,t,s,o){let l=i3({key:"unstable_middleware",route:s.route,manifest:r,mapRouteProperties:e}),c=I_(s.route,Qn(t.method)?"action":"loader",r,e,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function pp(e,r,t,s,o,l,c,u=null){let f=!1,m=d3(e,r,t,s,o);return je(Y({},s),{_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return f=!0,u?typeof p=="boolean"?Yf(s,je(Y({},u),{defaultShouldRevalidate:p})):Yf(s,u):c},resolve(p){return f||c||p&&t.method==="GET"&&(s.route.lazy||s.route.loader)?F_({request:t,match:s,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:p,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}})}function Ic(e,r,t,s,o,l,c,u=null){return s.map(f=>f.route.id!==o.route.id?je(Y({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:d3(e,r,t,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}):pp(e,r,t,f,l,c,!0,u))}function U_(e,r,t,s,o,l){return Ne(this,null,function*(){t.some(m=>{var p;return(p=m._lazyPromises)==null?void 0:p.middleware})&&(yield Promise.all(t.map(m=>{var p;return(p=m._lazyPromises)==null?void 0:p.middleware})));let c={request:r,params:t[0].params,context:o,matches:t},u=m=>{let p=c;return l3(p,!1,()=>m(je(Y({},p),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(_,j)=>({[j]:{type:"error",result:_}}))},f=yield e(je(Y({},c),{fetcherKey:s,unstable_runClientMiddleware:u}));try{yield Promise.all(t.flatMap(m=>{var p,_;return[(p=m._lazyPromises)==null?void 0:p.handler,(_=m._lazyPromises)==null?void 0:_.route]}))}catch(m){}return f})}function F_(c){return Ne(this,arguments,function*({request:e,match:r,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:o,scopedContext:l}){let u,f,m=Qn(e.method),p=m?"action":"loader",_=j=>{let C,T=new Promise((P,q)=>C=q);f=()=>C(),e.signal.addEventListener("abort",f);let $=P=>typeof j!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${r.route.id}]`)):j({request:e,params:r.params,context:l},...P!==void 0?[P]:[]),O=Ne(null,null,function*(){try{return{type:"data",result:yield o?o(q=>$(q)):$()}}catch(P){return{type:"error",result:P}}});return Promise.race([O,T])};try{let j=m?r.route.action:r.route.loader;if(t||s)if(j){let C,[T]=yield Promise.all([_(j).catch($=>{C=$}),t,s]);if(C!==void 0)throw C;u=T}else{yield t;let C=m?r.route.action:r.route.loader;if(C)[u]=yield Promise.all([_(C),s]);else if(p==="action"){let T=new URL(e.url),$=T.pathname+T.search;throw us(405,{method:e.method,pathname:$,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(j)u=yield _(j);else{let C=new URL(e.url),T=C.pathname+C.search;throw us(404,{pathname:T})}}catch(j){return{type:"error",result:j}}finally{f&&e.signal.removeEventListener("abort",f)}return u})}function z_(e){return Ne(this,null,function*(){var s,o,l,c,u,f;let{result:r,type:t}=e;if(f3(r)){let m;try{let p=r.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?r.body==null?m=null:m=yield r.json():m=yield r.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new Wf(r.status,r.statusText,m),statusCode:r.status,headers:r.headers}:{type:"data",data:m,statusCode:r.status,headers:r.headers}}return t==="error"?p1(r)?r.data instanceof Error?{type:"error",error:r.data,statusCode:(s=r.init)==null?void 0:s.status,headers:(o=r.init)!=null&&o.headers?new Headers(r.init.headers):void 0}:{type:"error",error:new Wf(((l=r.init)==null?void 0:l.status)||500,void 0,r.data),statusCode:wu(r)?r.status:void 0,headers:(c=r.init)!=null&&c.headers?new Headers(r.init.headers):void 0}:{type:"error",error:r,statusCode:wu(r)?r.status:void 0}:p1(r)?{type:"data",data:r.data,statusCode:(u=r.init)==null?void 0:u.status,headers:(f=r.init)!=null&&f.headers?new Headers(r.init.headers):void 0}:{type:"data",data:r}})}function B_(e,r,t,s,o){let l=e.headers.get("Location");if(kr(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!vy.test(l)){let c=s.slice(0,s.findIndex(u=>u.route.id===t)+1);l=mp(new URL(r.url),c,o,l),e.headers.set("Location",l)}return e}function d1(e,r,t){if(vy.test(e)){let s=e,o=s.startsWith("//")?new URL(r.protocol+s):new URL(s),l=ms(o.pathname,t)!=null;if(o.origin===r.origin&&l)return o.pathname+o.search+o.hash}return e}function Ac(e,r,t,s){let o=e.createURL(u3(r)).toString(),l={signal:t};if(s&&Qn(s.formMethod)){let{formMethod:c,formEncType:u}=s;l.method=c.toUpperCase(),u==="application/json"?(l.headers=new Headers({"Content-Type":u}),l.body=JSON.stringify(s.json)):u==="text/plain"?l.body=s.text:u==="application/x-www-form-urlencoded"&&s.formData?l.body=yp(s.formData):l.body=s.formData}return new Request(o,l)}function yp(e){let r=new URLSearchParams;for(let[t,s]of e.entries())r.append(t,typeof s=="string"?s:s.name);return r}function u1(e){let r=new FormData;for(let[t,s]of e.entries())r.append(t,s);return r}function q_(e,r,t,s=!1,o=!1){let l={},c=null,u,f=!1,m={},p=t&&Yn(t[1])?t[1].error:void 0;return e.forEach(_=>{if(!(_.route.id in r))return;let j=_.route.id,C=r[j];if(kr(!xl(C),"Cannot handle redirect results in processLoaderData"),Yn(C)){let T=C.error;if(p!==void 0&&(T=p,p=void 0),c=c||{},o)c[j]=T;else{let $=yl(e,j);c[$.route.id]==null&&(c[$.route.id]=T)}s||(l[j]=s3),f||(f=!0,u=wu(C.error)?C.error.status:500),C.headers&&(m[j]=C.headers)}else l[j]=C.data,C.statusCode&&C.statusCode!==200&&!f&&(u=C.statusCode),C.headers&&(m[j]=C.headers)}),p!==void 0&&t&&(c={[t[0]]:p},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:u||200,loaderHeaders:m}}function f1(e,r,t,s,o,l){let{loaderData:c,errors:u}=q_(r,t,s);return o.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:p,controller:_}=f,j=l[m];if(kr(j,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(Yn(j)){let C=yl(e.matches,p==null?void 0:p.route.id);u&&u[C.route.id]||(u=je(Y({},u),{[C.route.id]:j.error})),e.fetchers.delete(m)}else if(xl(j))kr(!1,"Unhandled fetcher revalidation redirect");else{let C=Si(j.data);e.fetchers.set(m,C)}}),{loaderData:c,errors:u}}function h1(e,r,t,s){let o=Object.entries(r).filter(([,l])=>l!==s3).reduce((l,[c,u])=>(l[c]=u,l),{});for(let l of t){let c=l.route.id;if(!r.hasOwnProperty(c)&&e.hasOwnProperty(c)&&l.route.loader&&(o[c]=e[c]),s&&s.hasOwnProperty(c))break}return o}function m1(e){return e?Yn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function yl(e,r){return(r?e.slice(0,e.findIndex(s=>s.route.id===r)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function g1(e){let r=e.length===1?e[0]:e.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function us(e,{pathname:r,routeId:t,method:s,type:o,message:l}={}){let c="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(c="Bad Request",s&&r&&t?u=`You made a ${s} request to "${r}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(u="Unable to encode submission body")):e===403?(c="Forbidden",u=`Route "${t}" does not match URL "${r}"`):e===404?(c="Not Found",u=`No route matches URL "${r}"`):e===405&&(c="Method Not Allowed",s&&r&&t?u=`You made a ${s.toUpperCase()} request to "${r}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(u=`Invalid request method "${s.toUpperCase()}"`)),new Wf(e||500,c,new Error(u),!0)}function gf(e){let r=Object.entries(e);for(let t=r.length-1;t>=0;t--){let[s,o]=r[t];if(xl(o))return{key:s,result:o}}}function u3(e){let r=typeof e=="string"?Hi(e):e;return Ui(je(Y({},r),{hash:""}))}function H_(e,r){return e.pathname!==r.pathname||e.search!==r.search?!1:e.hash===""?r.hash!=="":e.hash===r.hash?!0:r.hash!==""}function G_(e){return f3(e.result)&&E_.has(e.result.status)}function Yn(e){return e.type==="error"}function xl(e){return(e&&e.type)==="redirect"}function p1(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function f3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function V_(e){return $_.has(e.toUpperCase())}function Qn(e){return S_.has(e.toUpperCase())}function wy(e){return new URLSearchParams(e).getAll("index").some(r=>r==="")}function pu(e,r){let t=typeof r=="string"?Hi(r).search:r.search;if(e[e.length-1].route.index&&wy(t||""))return e[e.length-1];let s=r3(e);return s[s.length-1]}function y1(e){let{formMethod:r,formAction:t,formEncType:s,text:o,formData:l,json:c}=e;if(!(!r||!t||!s)){if(o!=null)return{formMethod:r,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:r,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:r,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function $g(e,r){return r?{state:"loading",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function K_(e,r){return{state:"submitting",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function du(e,r){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function W_(e,r){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r?r.data:void 0}}function Si(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Y_(e,r){try{let t=e.sessionStorage.getItem(n3);if(t){let s=JSON.parse(t);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&r.set(o,new Set(l||[]))}}catch(t){}}function Q_(e,r){if(r.size>0){let t={};for(let[s,o]of r)t[s]=[...o];try{e.sessionStorage.setItem(n3,JSON.stringify(t))}catch(s){ba(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function X_(){let e,r,t=new Promise((s,o)=>{e=l=>Ne(null,null,function*(){s(l);try{yield t}catch(c){}}),r=l=>Ne(null,null,function*(){o(l);try{yield t}catch(c){}})});return{promise:t,resolve:e,reject:r}}var Il=k.createContext(null);Il.displayName="DataRouter";var Yu=k.createContext(null);Yu.displayName="DataRouterState";var jy=k.createContext({isTransitioning:!1});jy.displayName="ViewTransition";var h3=k.createContext(new Map);h3.displayName="Fetchers";var Z_=k.createContext(null);Z_.displayName="Await";var Bs=k.createContext(null);Bs.displayName="Navigation";var dh=k.createContext(null);dh.displayName="Location";var gs=k.createContext({outlet:null,matches:[],isDataRoute:!1});gs.displayName="Route";var Ny=k.createContext(null);Ny.displayName="RouteError";function J_(e,{relative:r}={}){kr(nd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=k.useContext(Bs),{hash:o,pathname:l,search:c}=Qu(e,{relative:r}),u=l;return t!=="/"&&(u=l==="/"?t:lo([t,l])),s.createHref({pathname:u,search:c,hash:o})}function nd(){return k.useContext(dh)!=null}function In(){return kr(nd(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(dh).location}var m3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g3(e){k.useContext(Bs).static||k.useLayoutEffect(e)}function da(){let{isDataRoute:e}=k.useContext(gs);return e?m6():e6()}function e6(){kr(nd(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Il),{basename:r,navigator:t}=k.useContext(Bs),{matches:s}=k.useContext(gs),{pathname:o}=In(),l=JSON.stringify(lh(s)),c=k.useRef(!1);return g3(()=>{c.current=!0}),k.useCallback((f,m={})=>{if(ba(c.current,m3),!c.current)return;if(typeof f=="number"){t.go(f);return}let p=ch(f,JSON.parse(l),o,m.relative==="path");e==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:lo([r,p.pathname])),(m.replace?t.replace:t.push)(p,m.state,m)},[r,t,l,o,e])}var t6=k.createContext(null);function r6(e){let r=k.useContext(gs).outlet;return r&&k.createElement(t6.Provider,{value:e},r)}function uh(){let{matches:e}=k.useContext(gs),r=e[e.length-1];return r?r.params:{}}function Qu(e,{relative:r}={}){let{matches:t}=k.useContext(gs),{pathname:s}=In(),o=JSON.stringify(lh(t));return k.useMemo(()=>ch(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function a6(e,r,t,s){kr(nd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Bs),{matches:l}=k.useContext(gs),c=l[l.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let P=p&&p.path||"";p3(f,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let _=In(),j;j=_;let C=j.pathname||"/",T=C;if(m!=="/"){let P=m.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let $=Ei(e,{pathname:T});return ba(p||$!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ba($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),l6($&&$.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:lo([m,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:lo([m,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,t,s)}function n6(){let e=h6(),r=wu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},r),t?k.createElement("pre",{style:o},t):null,c)}var s6=k.createElement(n6,null),o6=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(gs.Provider,{value:this.props.routeContext},k.createElement(Ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i6({routeContext:e,match:r,children:t}){let s=k.useContext(Il);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(gs.Provider,{value:e},t)}function l6(e,r=[],t=null,s=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let o=e,l=t==null?void 0:t.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);kr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:_}=t,j=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||j){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,p)=>{let _,j=!1,C=null,T=null;t&&(_=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||s6,c&&(u<0&&p===0?(p3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,T=null):u===p&&(j=!0,T=m.route.hydrateFallbackElement||null)));let $=r.concat(o.slice(0,p+1)),O=()=>{let P;return _?P=C:j?P=T:m.route.Component?P=k.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=f,k.createElement(i6,{match:m,routeContext:{outlet:f,matches:$,isDataRoute:t!=null},children:P})};return t&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?k.createElement(o6,{location:t.location,revalidation:t.revalidation,component:C,error:_,children:O(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):O()},null)}function ky(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c6(e){let r=k.useContext(Il);return kr(r,ky(e)),r}function d6(e){let r=k.useContext(Yu);return kr(r,ky(e)),r}function u6(e){let r=k.useContext(gs);return kr(r,ky(e)),r}function _y(e){let r=u6(e),t=r.matches[r.matches.length-1];return kr(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function f6(){return _y("useRouteId")}function h6(){var s;let e=k.useContext(Ny),r=d6("useRouteError"),t=_y("useRouteError");return e!==void 0?e:(s=r.errors)==null?void 0:s[t]}function m6(){let{router:e}=c6("useNavigate"),r=_y("useNavigate"),t=k.useRef(!1);return g3(()=>{t.current=!0}),k.useCallback((c,...u)=>Ne(null,[c,...u],function*(o,l={}){ba(t.current,m3),t.current&&(typeof o=="number"?e.navigate(o):yield e.navigate(o,Y({fromRouteId:r},l)))}),[e,r])}var x1={};function p3(e,r,t){!r&&!x1[e]&&(x1[e]=!0,ba(!1,t))}var b1={};function v1(e,r){!e&&!b1[r]&&(b1[r]=!0,console.warn(r))}function g6(e){let r={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&ba(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(r,{element:k.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&ba(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(r,{hydrateFallbackElement:k.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&ba(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(r,{errorElement:k.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),r}var p6=["HydrateFallback","hydrateFallbackElement"],y6=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",e(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",r(t))}})}};function x6({router:e,flushSync:r}){let[t,s]=k.useState(e.state),[o,l]=k.useState(),[c,u]=k.useState({isTransitioning:!1}),[f,m]=k.useState(),[p,_]=k.useState(),[j,C]=k.useState(),T=k.useRef(new Map),$=k.useCallback((H,{deletedFetchers:M,flushSync:K,viewTransitionOpts:F})=>{H.fetchers.forEach((fe,X)=>{fe.data!==void 0&&T.current.set(X,fe.data)}),M.forEach(fe=>T.current.delete(fe)),v1(K===!1||r!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let oe=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(v1(F==null||oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!oe){r&&K?r(()=>s(H)):k.startTransition(()=>s(H));return}if(r&&K){r(()=>{p&&(f&&f.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let fe=e.window.document.startViewTransition(()=>{r(()=>s(H))});fe.finished.finally(()=>{r(()=>{m(void 0),_(void 0),l(void 0),u({isTransitioning:!1})})}),r(()=>_(fe));return}p?(f&&f.resolve(),p.skipTransition(),C({state:H,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(l(H),u({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[e.window,r,p,f]);k.useLayoutEffect(()=>e.subscribe($),[e,$]),k.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new y6)},[c]),k.useEffect(()=>{if(f&&o&&e.window){let H=o,M=f.promise,K=e.window.document.startViewTransition(()=>Ne(null,null,function*(){k.startTransition(()=>s(H)),yield M}));K.finished.finally(()=>{m(void 0),_(void 0),l(void 0),u({isTransitioning:!1})}),_(K)}},[o,f,e.window]),k.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,p,t.location,o]),k.useEffect(()=>{!c.isTransitioning&&j&&(l(j.state),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),C(void 0))},[c.isTransitioning,j]);let O=k.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:H=>e.navigate(H),push:(H,M,K)=>e.navigate(H,{state:M,preventScrollReset:K==null?void 0:K.preventScrollReset}),replace:(H,M,K)=>e.navigate(H,{replace:!0,state:M,preventScrollReset:K==null?void 0:K.preventScrollReset})}),[e]),P=e.basename||"/",q=k.useMemo(()=>({router:e,navigator:O,static:!1,basename:P}),[e,O,P]);return k.createElement(k.Fragment,null,k.createElement(Il.Provider,{value:q},k.createElement(Yu.Provider,{value:t},k.createElement(h3.Provider,{value:T.current},k.createElement(jy.Provider,{value:c},k.createElement(N6,{basename:P,location:t.location,navigationType:t.historyAction,navigator:O},k.createElement(b6,{routes:e.routes,future:e.future,state:t})))))),null)}var b6=k.memo(v6);function v6({routes:e,future:r,state:t}){return a6(e,void 0,t,r)}function w6({to:e,replace:r,state:t,relative:s}){kr(nd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Bs);ba(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(gs),{pathname:c}=In(),u=da(),f=ch(e,lh(l),c,s==="path"),m=JSON.stringify(f);return k.useEffect(()=>{u(JSON.parse(m),{replace:r,state:t,relative:s})},[u,m,s,r,t]),null}function j6(e){return r6(e.context)}function N6({basename:e="/",children:r=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){kr(!nd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Hi(t));let{pathname:f="/",search:m="",hash:p="",state:_=null,key:j="default"}=t,C=k.useMemo(()=>{let T=ms(f,c);return T==null?null:{location:{pathname:T,search:m,hash:p,state:_,key:j},navigationType:s}},[c,f,m,p,_,j,s]);return ba(C!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:k.createElement(Bs.Provider,{value:u},k.createElement(dh.Provider,{children:r,value:C}))}var Mf="get",Df="application/x-www-form-urlencoded";function fh(e){return e!=null&&typeof e.tagName=="string"}function k6(e){return fh(e)&&e.tagName.toLowerCase()==="button"}function _6(e){return fh(e)&&e.tagName.toLowerCase()==="form"}function S6(e){return fh(e)&&e.tagName.toLowerCase()==="input"}function C6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $6(e,r){return e.button===0&&(!r||r==="_self")&&!C6(e)}function xp(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let s=e[t];return r.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function E6(e,r){let t=xp(e);return r&&r.forEach((s,o)=>{t.has(o)||r.getAll(o).forEach(l=>{t.append(o,l)})}),t}var pf=null;function T6(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch(e){pf=!0}return pf}var O6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(e){return e!=null&&!O6.has(e)?(ba(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):e}function A6(e,r){let t,s,o,l,c;if(_6(e)){let u=e.getAttribute("action");s=u?ms(u,r):null,t=e.getAttribute("method")||Mf,o=Eg(e.getAttribute("enctype"))||Df,l=new FormData(e)}else if(k6(e)||S6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(s=f?ms(f,r):null,t=e.getAttribute("formmethod")||u.getAttribute("method")||Mf,o=Eg(e.getAttribute("formenctype"))||Eg(u.getAttribute("enctype"))||Df,l=new FormData(u,e),!T6()){let{name:m,type:p,value:_}=e;if(p==="image"){let j=m?`${m}.`:"";l.append(`${j}x`,"0"),l.append(`${j}y`,"0")}else m&&l.append(m,_)}}else{if(fh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mf,s=null,o=Df,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Sy(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function R6(e,r){return Ne(this,null,function*(){if(e.id in r)return r[e.id];try{let t=yield import(e.module);return r[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function P6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function M6(e,r,t){return Ne(this,null,function*(){let s=yield Promise.all(e.map(o=>Ne(null,null,function*(){let l=r.routes[o.route.id];if(l){let c=yield R6(l,t);return c.links?c.links():[]}return[]})));return U6(s.flat(1).filter(P6).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?je(Y({},o),{rel:"prefetch",as:"style"}):je(Y({},o),{rel:"prefetch"})))})}function w1(e,r,t,s,o,l){let c=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,u=(f,m)=>{var p;return t[m].pathname!==f.pathname||((p=t[m].route.path)==null?void 0:p.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return l==="assets"?r.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?r.filter((f,m)=>{var _;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let j=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function D6(e,r,{includeHydrateFallback:t}={}){return I6(e.map(s=>{let o=r.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function I6(e){return[...new Set(e)]}function L6(e){let r={},t=Object.keys(e).sort();for(let s of t)r[s]=e[s];return r}function U6(e,r){let t=new Set;return new Set(r),e.reduce((s,o)=>{let l=JSON.stringify(L6(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F6=new Set([100,101,204,205]);function z6(e,r){let t=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":r&&ms(t.pathname,r)==="/"?t.pathname=`${r.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function y3(){let e=k.useContext(Il);return Sy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function B6(){let e=k.useContext(Yu);return Sy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cy=k.createContext(void 0);Cy.displayName="FrameworkContext";function x3(){let e=k.useContext(Cy);return Sy(e,"You must render this element inside a <HydratedRouter> element"),e}function q6(e,r){let t=k.useContext(Cy),[s,o]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:p,onTouchStart:_}=r,j=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let $=P=>{P.forEach(q=>{c(q.isIntersecting)})},O=new IntersectionObserver($,{threshold:.5});return j.current&&O.observe(j.current),()=>{O.disconnect()}}},[e]),k.useEffect(()=>{if(s){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[s]);let C=()=>{o(!0)},T=()=>{o(!1),c(!1)};return t?e!=="intent"?[l,j,{}]:[l,j,{onFocus:uu(u,C),onBlur:uu(f,T),onMouseEnter:uu(m,C),onMouseLeave:uu(p,T),onTouchStart:uu(_,C)}]:[!1,j,{}]}function uu(e,r){return t=>{e&&e(t),t.defaultPrevented||r(t)}}function H6(t){var s=t,{page:e}=s,r=hr(s,["page"]);let{router:o}=y3(),l=k.useMemo(()=>Ei(o.routes,e,o.basename),[o.routes,e,o.basename]);return l?k.createElement(V6,Y({page:e,matches:l},r)):null}function G6(e){let{manifest:r,routeModules:t}=x3(),[s,o]=k.useState([]);return k.useEffect(()=>{let l=!1;return M6(e,r,t).then(c=>{l||o(c)}),()=>{l=!0}},[e,r,t]),s}function V6(s){var o=s,{page:e,matches:r}=o,t=hr(o,["page","matches"]);let l=In(),{manifest:c,routeModules:u}=x3(),{basename:f}=y3(),{loaderData:m,matches:p}=B6(),_=k.useMemo(()=>w1(e,r,p,c,l,"data"),[e,r,p,c,l]),j=k.useMemo(()=>w1(e,r,p,c,l,"assets"),[e,r,p,c,l]),C=k.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let O=new Set,P=!1;if(r.forEach(H=>{var K;let M=c.routes[H.route.id];!M||!M.hasLoader||(!_.some(F=>F.route.id===H.route.id)&&H.route.id in m&&((K=u[H.route.id])!=null&&K.shouldRevalidate)||M.hasClientLoader?P=!0:O.add(H.route.id))}),O.size===0)return[];let q=z6(e,f);return P&&O.size>0&&q.searchParams.set("_routes",r.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[q.pathname+q.search]},[f,m,l,c,_,r,e,u]),T=k.useMemo(()=>D6(j,c),[j,c]),$=G6(j);return k.createElement(k.Fragment,null,C.map(O=>k.createElement("link",Y({key:O,rel:"prefetch",as:"fetch",href:O},t))),T.map(O=>k.createElement("link",Y({key:O,rel:"modulepreload",href:O},t))),$.map(({key:O,link:P})=>k.createElement("link",Y({key:O},P))))}function K6(...e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}var b3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{b3&&(window.__reactRouterVersion="7.6.2")}catch(e){}function W6(e,r){return R_({basename:r==null?void 0:r.basename,unstable_getContext:r==null?void 0:r.unstable_getContext,future:r==null?void 0:r.future,history:e_({window:r==null?void 0:r.window}),hydrationData:(r==null?void 0:r.hydrationData)||Y6(),routes:e,mapRouteProperties:g6,hydrationRouteProperties:p6,dataStrategy:r==null?void 0:r.dataStrategy,patchRoutesOnNavigation:r==null?void 0:r.patchRoutesOnNavigation,window:r==null?void 0:r.window}).initialize()}function Y6(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=je(Y({},e),{errors:Q6(e.errors)})),e}function Q6(e){if(!e)return null;let r=Object.entries(e),t={};for(let[s,o]of r)if(o&&o.__type==="RouteErrorResponse")t[s]=new Wf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[s]=c}catch(c){}}if(t[s]==null){let l=new Error(o.message);l.stack="",t[s]=l}}else t[s]=o;return t}var v3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xu=k.forwardRef(function(T,C){var $=T,{onClick:r,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:p,viewTransition:_}=$,j=hr($,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:O}=k.useContext(Bs),P=typeof m=="string"&&v3.test(m),q,H=!1;if(typeof m=="string"&&P&&(q=m,b3))try{let he=new URL(window.location.href),ee=m.startsWith("//")?new URL(he.protocol+m):new URL(m),ce=ms(ee.pathname,O);ee.origin===he.origin&&ce!=null?m=ce+ee.search+ee.hash:H=!0}catch(he){ba(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=J_(m,{relative:o}),[K,F,oe]=q6(s,j),fe=eS(m,{replace:c,state:u,target:f,preventScrollReset:p,relative:o,viewTransition:_});function X(he){r&&r(he),he.defaultPrevented||fe(he)}let le=k.createElement("a",je(Y(Y({},j),oe),{href:q||M,onClick:H||l?r:X,ref:K6(C,F),target:f,"data-discover":!P&&t==="render"?"true":void 0}));return K&&!P?k.createElement(k.Fragment,null,le,k.createElement(H6,{page:M})):le});Xu.displayName="Link";var X6=k.forwardRef(function(_,p){var j=_,{"aria-current":r="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=j,m=hr(j,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let C=Qu(c,{relative:m.relative}),T=In(),$=k.useContext(Yu),{navigator:O,basename:P}=k.useContext(Bs),q=$!=null&&oS(C)&&u===!0,H=O.encodeLocation?O.encodeLocation(C).pathname:C.pathname,M=T.pathname,K=$&&$.navigation&&$.navigation.location?$.navigation.location.pathname:null;t||(M=M.toLowerCase(),K=K?K.toLowerCase():null,H=H.toLowerCase()),K&&P&&(K=ms(K,P)||K);const F=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let oe=M===H||!o&&M.startsWith(H)&&M.charAt(F)==="/",fe=K!=null&&(K===H||!o&&K.startsWith(H)&&K.charAt(H.length)==="/"),X={isActive:oe,isPending:fe,isTransitioning:q},le=oe?r:void 0,he;typeof s=="function"?he=s(X):he=[s,oe?"active":null,fe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let ee=typeof l=="function"?l(X):l;return k.createElement(Xu,je(Y({},m),{"aria-current":le,className:he,ref:p,style:ee,to:c,viewTransition:u}),typeof f=="function"?f(X):f)});X6.displayName="NavLink";var Z6=k.forwardRef((T,C)=>{var $=T,{discover:e="render",fetcherKey:r,navigate:t,reloadDocument:s,replace:o,state:l,method:c=Mf,action:u,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:_}=$,j=hr($,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let O=nS(),P=sS(u,{relative:m}),q=c.toLowerCase()==="get"?"get":"post",H=typeof u=="string"&&v3.test(u),M=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let F=K.nativeEvent.submitter,oe=(F==null?void 0:F.getAttribute("formmethod"))||c;O(F||K.currentTarget,{fetcherKey:r,method:oe,navigate:t,replace:o,state:l,relative:m,preventScrollReset:p,viewTransition:_})};return k.createElement("form",je(Y({ref:C,method:q,action:P,onSubmit:s?f:M},j),{"data-discover":!H&&e==="render"?"true":void 0}))});Z6.displayName="Form";function J6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w3(e){let r=k.useContext(Il);return kr(r,J6(e)),r}function eS(e,{target:r,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let u=da(),f=In(),m=Qu(e,{relative:l});return k.useCallback(p=>{if($6(p,r)){p.preventDefault();let _=t!==void 0?t:Ui(f)===Ui(m);u(e,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[f,u,m,t,s,r,e,o,l,c])}function tS(e){ba(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=k.useRef(xp(e)),t=k.useRef(!1),s=In(),o=k.useMemo(()=>E6(s.search,t.current?null:r.current),[s.search]),l=da(),c=k.useCallback((u,f)=>{const m=xp(typeof u=="function"?u(o):u);t.current=!0,l("?"+m,f)},[l,o]);return[o,c]}var rS=0,aS=()=>`__${String(++rS)}__`;function nS(){let{router:e}=w3("useSubmit"),{basename:r}=k.useContext(Bs),t=f6();return k.useCallback((l,...c)=>Ne(null,[l,...c],function*(s,o={}){let{action:u,method:f,encType:m,formData:p,body:_}=A6(s,r);if(o.navigate===!1){let j=o.fetcherKey||aS();yield e.fetch(j,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else yield e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,r,t])}function sS(e,{relative:r}={}){let{basename:t}=k.useContext(Bs),s=k.useContext(gs);kr(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l=Y({},Qu(e||".",{relative:r})),c=In();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(_=>_).forEach(_=>u.append("index",_));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:lo([t,l.pathname])),Ui(l)}function oS(e,r={}){let t=k.useContext(jy);kr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=w3("useViewTransitionState"),o=Qu(e,{relative:r.relative});if(!t.isTransitioning)return!1;let l=ms(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=ms(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Kf(o.pathname,c)!=null||Kf(o.pathname,l)!=null}[...F6];var $y=Xw();const iS=Dl($y);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lS(e){return k.createElement(x6,Y({flushSync:$y.flushSync},e))}const kc={};class cS{constructor(){gg(this,"config");gg(this,"sessionId",null);const r=window.location.pathname.startsWith("/klik_pos"),t="";this.config={baseUrl:t,apiKey:(kc==null?void 0:kc.VITE_API_KEY)||"",apiSecret:(kc==null?void 0:kc.VITE_API_SECRET)||""}}getHeaders(r=!0){const t={"Content-Type":"application/json",Accept:"application/json"};if(r&&this.config.apiKey&&this.config.apiSecret){const s=btoa(`${this.config.apiKey}:${this.config.apiSecret}`);t.Authorization=`Basic ${s}`}return this.sessionId&&(t.Cookie=`sid=${this.sessionId}`),t}login(r,t){return Ne(this,null,function*(){var s,o;try{console.log("Attempting login to:",this.config.baseUrl);let l=yield fetch(`${this.config.baseUrl}/api/method/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:r,pwd:t}),credentials:"include"});if(console.log("Login response status:",l.status),console.log("Login response headers:",Object.fromEntries(l.headers.entries())),l.status===404&&(console.log("Trying alternative login endpoint..."),l=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:r,pwd:t}),credentials:"include"}),console.log("Alternative login response status:",l.status)),!l.ok){console.error("Login failed with status:",l.status);const u=yield l.text();console.error("Error response body:",u);let f=`HTTP ${l.status}: ${l.statusText}`;try{const m=JSON.parse(u);m.message?f=m.message:m.exc&&(f=m.exc)}catch(m){u&&u.trim()&&(f=u)}return{success:!1,message:f}}const c=yield l.json();if(console.log("Login response data:",c),c.message==="Logged In"||(s=c.message)!=null&&s.name||(o=c.message)!=null&&o.email){const u=l.headers.get("set-cookie");if(u){const m=u.match(/sid=([^;]+)/);m&&m[1]&&(this.sessionId=m[1],localStorage.setItem("erpnext_sid",this.sessionId),console.log("Session ID stored:",this.sessionId))}try{console.log("Fetching user profile data...");const m=yield this.getCurrentUserProfile();if(console.log("User profile fetched:",m),m)return{success:!0,message:"Login successful",user:{name:m.name||r,email:m.email||m.name||r,full_name:m.full_name||m.first_name+" "+(m.last_name||"")||r,role:m.role_profile_name||m.role||"User",first_name:m.first_name,last_name:m.last_name,user_image:m.user_image},sid:this.sessionId||void 0}}catch(m){console.warn("Failed to fetch user profile, using basic data:",m)}let f;return typeof c.message=="string"&&c.message==="Logged In"?f={name:r,email:r,full_name:r,role:"User"}:c.message&&typeof c.message=="object"?f={name:c.message.name||r,email:c.message.email||c.message.name||r,full_name:c.message.full_name||c.message.name||r,role:c.message.role||"User"}:f={name:r,email:r,full_name:r,role:"User"},{success:!0,message:"Login successful",user:f,sid:this.sessionId||void 0}}else return{success:!1,message:c.message||c.exc||"Login failed"}}catch(l){if(console.error("Login error details:",l),l instanceof TypeError&&l.message.includes("fetch"))return{success:!1,message:"Network error. Please check if the ERPNext server is accessible."};if(l instanceof Error){if(l.message.includes("timeout"))return{success:!1,message:"Connection timeout. Please try again."};if(l.message.includes("Failed to fetch"))return{success:!1,message:"Unable to connect to the server. Please check your internet connection."}}return{success:!1,message:"An unexpected error occurred. Please try again."}}})}logout(){return Ne(this,null,function*(){try{yield fetch(`${this.config.baseUrl}/api/method/logout`,{method:"POST",headers:this.getHeaders(),credentials:"include"})}catch(r){console.error("Logout error:",r)}finally{this.sessionId=null,localStorage.removeItem("erpnext_sid")}})}getCurrentUser(){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).message}catch(r){return console.error("Get current user error:",r),null}})}getCurrentUserProfile(){return Ne(this,null,function*(){try{const r=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!r.ok)throw new Error(`Failed to fetch logged user: ${r.status}`);const s=(yield r.json()).message;if(!s)throw new Error("No logged user found");const o=yield fetch(`${this.config.baseUrl}/api/resource/User/${s}`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!o.ok)throw new Error(`Failed to fetch user profile: ${o.status}`);return(yield o.json()).data}catch(r){throw console.error("Get user profile error:",r),r}})}testConnection(){return Ne(this,null,function*(){try{console.log("Testing connection to:",this.config.baseUrl);let r=yield fetch(`${this.config.baseUrl}/api/method/ping`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});return console.log("Ping response:",{status:r.status,statusText:r.statusText,headers:Object.fromEntries(r.headers.entries())}),r.status===404&&(console.log("Ping failed, trying version endpoint..."),r=yield fetch(`${this.config.baseUrl}/api/method/frappe.utils.get_site_info`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"})),r.ok?{success:!0,message:"Connection successful",details:yield r.json()}:{success:!1,message:`Server responded with status: ${r.status} - ${r.statusText}`,details:{status:r.status,statusText:r.statusText}}}catch(r){console.error("Connection test error details:",r);let t="Unknown error";return r instanceof Error&&(r.name==="AbortError"?t="Connection timeout - server took too long to respond":r.message.includes("CORS")?t="CORS error - server may not allow cross-origin requests":r.message.includes("Failed to fetch")?t="Network error - server may be unreachable or blocked":t=r.message),{success:!1,message:`Connection failed: ${t}`,details:r}}})}makeAPICall(s){return Ne(this,arguments,function*(r,t={}){const o=Y({method:"GET",headers:this.getHeaders(),credentials:"include"},t);try{console.log("Making API call:",{url:r,options:o});const l=yield fetch(r,o);return l.ok||console.error("API call failed:",{url:r,status:l.status,statusText:l.statusText,headers:Object.fromEntries(l.headers.entries())}),l}catch(l){throw console.error("API call error:",{url:r,error:l}),l}})}apiCall(s){return Ne(this,arguments,function*(r,t={}){try{return yield(yield this.makeAPICall(`${this.config.baseUrl}/api/method/${r}`,{method:"POST",body:JSON.stringify(t)})).json()}catch(o){throw console.error(`API call error (${r}):`,o),o}})}getDocList(o){return Ne(this,arguments,function*(r,t=["*"],s={}){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}?${new URLSearchParams({fields:JSON.stringify(t),filters:JSON.stringify(s)})}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(l){throw console.error(`Get ${r} list error:`,l),l}})}getDoc(r,t){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}/${t}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(s){throw console.error(`Get ${r} document error:`,s),s}})}createDoc(r,t){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t),credentials:"include"})).json()).data}catch(s){throw console.error(`Create ${r} document error:`,s),s}})}updateDoc(r,t,s){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}/${t}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(s),credentials:"include"})).json()).data}catch(o){throw console.error(`Update ${r} document error:`,o),o}})}validateSession(){return Ne(this,null,function*(){try{const r=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});return r.ok?!!(yield r.json()).message:!1}catch(r){return console.error("Session validation failed:",r),!1}})}initializeSession(){const r=localStorage.getItem("erpnext_sid");r&&(this.sessionId=r,console.log("Session restored from localStorage:",r))}}const fs=new cS,j3=k.createContext(void 0);function dS({children:e}){const[r,t]=k.useState(null),[s,o]=k.useState(!0),[l,c]=k.useState(!1);k.useEffect(()=>{c(!0)},[]),k.useEffect(()=>{if(!l)return;fs.initializeSession();const p=localStorage.getItem("erpnext_token"),_=localStorage.getItem("user_data");if(p&&_)try{const j=JSON.parse(_);t(j),Ne(null,null,function*(){try{if(!(yield fs.validateSession())){console.warn("Session is invalid, clearing auth data"),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid"),t(null);return}const $=yield fs.getCurrentUserProfile();if($){const O={name:$.name||j.name,email:$.email||$.name||j.email,full_name:$.full_name||$.first_name+" "+($.last_name||"")||j.full_name,role:$.role_profile_name||$.role||j.role||"User",first_name:$.first_name,last_name:$.last_name,user_image:$.user_image};t(O),localStorage.setItem("user_data",JSON.stringify(O))}}catch(T){console.warn("Failed to refresh user data, using cached data:",T)}})}catch(j){console.error("Error parsing user data:",j),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}o(!1)},[l]);const u=(p,_)=>Ne(null,null,function*(){try{o(!0);const j=yield fs.login(p,_);if(j.success&&j.user){console.log("Login successful:",j.user);const C={name:j.user.name||p,email:j.user.email||p,full_name:j.user.full_name||j.user.name||p,role:j.user.role||"User"};return t(C),localStorage.setItem("erpnext_token","authenticated"),localStorage.setItem("user_data",JSON.stringify(C)),{success:!0,message:j.message}}else return{success:!1,message:j.message}}catch(j){return console.error("Login error:",j),{success:!1,message:"Login failed. Please try again."}}finally{o(!1)}}),f=()=>Ne(null,null,function*(){yield fs.logout(),t(null),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}),m=()=>Ne(null,null,function*(){if(!r)return!1;try{return(yield fs.validateSession())?!0:(console.log("Session expired, logging out"),yield f(),!1)}catch(p){return console.error("Session check failed:",p),!1}});return a.jsx(j3.Provider,{value:{user:r,login:u,logout:f,checkSession:m,loading:s,isAuthenticated:!!r},children:e})}function Gi(){const e=k.useContext(j3);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function uS(){const[e,r]=k.useState(""),[t,s]=k.useState(""),[o,l]=k.useState(""),[c,u]=k.useState(!1),f=da(),m=In(),{login:p}=Gi(),_=C=>Ne(null,null,function*(){var T,$;C.preventDefault(),u(!0),l("");try{const O=yield p(e,t);if(O.success){const P=(($=(T=m.state)==null?void 0:T.from)==null?void 0:$.pathname)||"/pos";f(P,{replace:!0})}else l(j(O.message))}catch(O){l("An unexpected error occurred. Please try again."),console.error("Login error:",O)}finally{u(!1)}}),j=C=>C.includes("HTTP 401")||C.includes("401")?"Invalid username or password. Please check your credentials and try again.":C.includes("HTTP 403")||C.includes("403")?"Access denied. Please contact your administrator.":C.includes("HTTP 404")||C.includes("404")?"Login service not available. Please contact your administrator.":C.includes("HTTP 500")||C.includes("500")?"Server error. Please try again later or contact your administrator.":C.includes("Network error")||C.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":C.includes("timeout")?"Connection timeout. Please try again.":C.includes("Invalid credentials")||C.includes("incorrect")?"Invalid username or password. Please check your credentials and try again.":C.includes("User not found")?"User not found. Please check your username and try again.":C.includes("Account disabled")?"Your account has been disabled. Please contact your administrator.":C.includes("Too many attempts")?"Too many login attempts. Please wait a few minutes before trying again.":C&&!C.includes("HTTP")&&!C.includes("Error:")?C:"Login failed. Please check your credentials and try again.";return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),a.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[a.jsxs("div",{className:"bg-white/95 rounded-2xl shadow-2xl p-6 backdrop-blur-sm",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"https://beverensoftware.com/wp-content/uploads/2023/06/cropped-15-1-180x180.png",alt:"KLiK PoS",className:"w-16 h-16 rounded-full shadow-lg"})}),a.jsx("h1",{className:"text-3xl font-bold text-beveren-800",children:"KLiK PoS"})]}),a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"username",type:"text",value:e,onChange:C=>r(C.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Username or Email",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:"password",value:t,onChange:C=>s(C.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Password",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),o&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:a.jsx("p",{className:"text-sm text-red-600 font-medium text-center",children:o})}),a.jsx("button",{type:"submit",disabled:c,className:"w-full bg-beveren-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-beveren-700 focus:outline-none focus:ring-4 focus:ring-beveren-300 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-beveren-400 disabled:cursor-not-allowed",children:c?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),a.jsx("span",{className:"ml-2",children:"Signing In..."})]}):"Sign In"})]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs("p",{className:"text-sm text-beveren-600",children:["Powered by"," ",a.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline",children:"Beveren Software"})]})})]})]})}const N3=k.createContext(void 0),fS={en:{LOGIN_TITLE:"Login",USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"Login",LOGGING_IN:"Logging in...",INVALID_CREDENTIALS:"Invalid credentials",LOGIN_ERROR:"Login error",PROFILE:"Profile",LOGOUT:"Logout",PAYMENT_TITLE:"Payment",SEARCH_PLACEHOLDER:"Search products",CART:"Cart",CART_EMPTY:"Your cart is empty",SUBTOTAL:"Subtotal",VAT:"VAT",TOTAL:"Total",PROMO_CODE_PLACEHOLDER:"Enter promo code",PROCEED_TO_CHECKOUT:"Proceed to Checkout",BACK_TO_CART:"Back to Cart",INVOICE_SUMMARY:"Invoice Summary",INVOICE_ID:"Invoice ID",DATE_TIME:"Date & Time",SCAN_TO_VERIFY:"Scan to Verify",PAYMENT_METHODS:"Payment Methods",CASH:"Cash",CARD:"Card",DIGITAL_WALLET:"Digital Wallet",AMOUNT_RECEIVED:"Amount Received",CHANGE:"Change",INSERT_OR_TAP_CARD:"Insert or Tap Card",SCAN_WITH_STC_PAY:"Scan with STC Pay",CONFIRM_PAYMENT:"Confirm Payment",OFFLINE_MESSAGE:"You are offline. New orders will sync when you're back online.",INVOICE_NOT_FOUND:"Invoice not found"},ar:{LOGIN_TITLE:" ",USERNAME:" ",PASSWORD:" ",LOGIN_BUTTON:"",LOGGING_IN:"  ...",INVALID_CREDENTIALS:"   ",LOGIN_ERROR:"   ",PROFILE:" ",LOGOUT:" ",PAYMENT_TITLE:"",SEARCH_PLACEHOLDER:"  ",CART:"",CART_EMPTY:" ",SUBTOTAL:" ",VAT:"  ",TOTAL:"",PROMO_CODE_PLACEHOLDER:"  ",PROCEED_TO_CHECKOUT:" ",BACK_TO_CART:" ",INVOICE_SUMMARY:" ",INVOICE_ID:" ",DATE_TIME:" ",SCAN_TO_VERIFY:" ",PAYMENT_METHODS:" ",CASH:"",CARD:"",DIGITAL_WALLET:" ",AMOUNT_RECEIVED:" ",CHANGE:"",INSERT_OR_TAP_CARD:"   ",SCAN_WITH_STC_PAY:"  STC Pay",CONFIRM_PAYMENT:" ",OFFLINE_MESSAGE:"  .      .",INVOICE_NOT_FOUND:"  "}};function hS({children:e}){const[r,t]=k.useState("en"),[s,o]=k.useState(!1);k.useEffect(()=>{o(!0)},[]),k.useEffect(()=>{if(!s)return;const f=localStorage.getItem("language")||"en";t(f),document.documentElement.dir=f==="ar"?"rtl":"ltr",document.documentElement.lang=f},[s]);const l=f=>{s&&(t(f),localStorage.setItem("language",f),document.documentElement.dir=f==="ar"?"rtl":"ltr",document.documentElement.lang=f)},c=f=>{var m;return((m=fS[r])==null?void 0:m[f])||f},u=r==="ar";return a.jsx(N3.Provider,{value:{language:r,setLanguage:l,t:c,isRTL:u},children:e})}function Ll(){const e=k.useContext(N3);if(e===void 0)throw new Error("useI18n must be used within an I18nProvider");return e}function k3(){const[e,r]=k.useState(null),[t,s]=k.useState(!0),[o,l]=k.useState(null),c=k.useCallback(()=>Ne(null,null,function*(){s(!0);try{const f=yield(yield fetch("/api/method/klik_pos.api.pos_entry.open_pos")).json();if(typeof f.message=="boolean")r(f.message);else throw new Error("Unexpected response")}catch(u){console.error("Error checking POS Opening Entry:",u),l(u.message||"Failed to check opening entry status")}finally{s(!1)}}),[]);return k.useEffect(()=>{c()},[c]),{hasOpenEntry:e,isLoading:t,error:o,refetch:c}}const _3=k.createContext(void 0),j1=1e3,N1=500;function mS({children:e}){const{isAuthenticated:r,loading:t}=Gi(),[s,o]=k.useState([]),[l,c]=k.useState(!0),[u,f]=k.useState(!1),[m,p]=k.useState(!1),[_,j]=k.useState(!1),[C,T]=k.useState(null),[$,O]=k.useState(null),[P,q]=k.useState(0),[H,M]=k.useState(!1),[K,F]=k.useState(0),[oe,fe]=k.useState(""),X=k.useRef(null),le=(...Ke)=>Ne(null,[...Ke],function*(ue=j1,U=0,Q="",Ae=""){var ct,dt,kt,ht,zt,be,Ze,At,ye,We,ft,ur;try{const Zt=new URLSearchParams({limit:ue.toString(),offset:U.toString()});Q&&Zt.append("search",Q),Ae&&Ae!=="all"&&Zt.append("category",Ae);const ne=yield fetch(`/api/method/klik_pos.api.item.get_items_with_balance_and_price?${Zt.toString()}`);if(!ne.ok)throw new Error(`HTTP ${ne.status}: ${ne.statusText}`);const ze=yield ne.json();console.log("[Products] Raw response payload",ze);const rt=(ct=ze==null?void 0:ze.message)!=null?ct:ze;if(rt&&typeof rt=="object"){const ut=(ht=(kt=(dt=rt.items)!=null?dt:rt.data)!=null?kt:rt.results)!=null?ht:ze.items;if(ut!==void 0){const tt=Array.isArray(ut)?ut:Object.values(ut);return console.log("[Products] Parsed items array length",tt.length,{total_count:rt.total_count,has_more:rt.has_more,offset:U,limit:ue,search:Q}),{items:tt,total_count:(be=(zt=rt.total_count)!=null?zt:tt.length)!=null?be:0,has_more:!!rt.has_more}}if(rt.total_count!==void 0||rt.has_more!==void 0)return console.warn("[Products] No items but counts present",{total_count:rt.total_count,has_more:rt.has_more,offset:U,limit:ue,search:Q}),{items:[],total_count:(Ze=rt.total_count)!=null?Ze:0,has_more:!!rt.has_more}}if(Array.isArray(rt))return{items:rt,total_count:rt.length,has_more:!1};if(rt!=null&&rt.message){const ut=rt.message,tt=(ye=(At=ut.items)!=null?At:ut.data)!=null?ye:ut.results;if(tt!==void 0){const jt=Array.isArray(tt)?tt:Object.values(tt);return console.log("[Products] Parsed inner items array length",jt.length,{total_count:ut.total_count,has_more:ut.has_more,offset:U,limit:ue,search:Q}),{items:jt,total_count:(ft=(We=ut.total_count)!=null?We:jt.length)!=null?ft:0,has_more:!!ut.has_more}}if(ut.total_count!==void 0||ut.has_more!==void 0)return console.warn("[Products] No inner items but counts present",{total_count:ut.total_count,has_more:ut.has_more,offset:U,limit:ue,search:Q}),{items:[],total_count:(ur=ut.total_count)!=null?ur:0,has_more:!!ut.has_more}}return console.error("Invalid response format:",ze,{offset:U,limit:ue,search:Q,category:Ae}),{items:[],total_count:0,has_more:!1}}catch(Zt){return console.error("[Products] fetchProductsFromAPI error (fail-open)",Zt,{offset:U,limit:ue,search:Q,category:Ae}),{items:[],total_count:0,has_more:!1}}}),he=()=>Ne(null,null,function*(){try{const ue=s.map(Q=>Q.id).join(",");if(!ue)return{};const U=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(ue)}`);if(U.ok){const Q=yield U.json();if(Q!=null&&Q.message&&typeof Q.message=="object")return Q.message}return{}}catch(ue){return console.error("Error fetching stock updates:",ue),{}}}),ee=(ue=!1)=>Ne(null,null,function*(){c(!0),T(null),fe(""),ce.current=!1;try{const U=yield le(j1,0);o(U.items),q(U.total_count),M(U.has_more),F(U.items.length),O(new Date),console.log(`Products loaded: ${U.items.length} of ${U.total_count} items`)}catch(U){console.error("Error fetching products:",U),U.message&&U.message.includes("Invalid response format")?T(null):T(U.message||"Unknown error occurred")}finally{c(!1)}}),ce=k.useRef(!1);k.useEffect(()=>{if(l||u||oe||!H||ce.current)return;ce.current=!0;const ue=setTimeout(()=>{Ne(null,null,function*(){let Q=K,Ae=H,Ke=P;for(;Ae&&!oe;)try{if(Q>=Ke)break;console.log(`[Background] Loading more items from offset ${Q}...`);const ct=yield le(N1,Q);if(ct.items.length===0)break;o(dt=>{const kt=new Set(dt.map(zt=>zt.id)),ht=ct.items.filter(zt=>!kt.has(zt.id));return[...dt,...ht]}),Q+=ct.items.length,Ae=ct.has_more,M(ct.has_more),F(Q),ct.total_count>Ke&&(Ke=ct.total_count),console.log(`[Background] Loaded ${ct.items.length} more items. Total: ${Q} of ${Ke}`),yield new Promise(dt=>setTimeout(dt,100))}catch(ct){console.error("[Background] Error loading more items:",ct);break}console.log(`[Background] Finished loading all items. Total: ${Q}`)})},500);return()=>{clearTimeout(ue)}},[l,H,oe,K,P]),k.useEffect(()=>{oe&&(ce.current=!1)},[oe]);const te=k.useCallback(()=>Ne(null,null,function*(){if(!(u||!H||oe)){f(!0);try{const ue=yield le(N1,K);o(U=>{const Q=new Set(U.map(Ke=>Ke.id)),Ae=ue.items.filter(Ke=>!Q.has(Ke.id));return[...U,...Ae]}),F(U=>U+ue.items.length),M(ue.has_more),console.log(`Loaded ${ue.items.length} more products. Total: ${K+ue.items.length}`)}catch(ue){console.error("Error loading more products:",ue)}finally{f(!1)}}}),[u,H,K,oe]),pe=k.useCallback(ue=>Ne(null,null,function*(){X.current&&X.current.abort();const U=ue.trim();if(fe(U),!U){j(!1),ee();return}j(!0),X.current=new AbortController;try{const Q=yield le(500,0,U);o(Q.items),q(Q.total_count),M(!1),F(Q.items.length),console.log(`Search "${U}" found ${Q.items.length} items`)}catch(Q){Q.name!=="AbortError"&&console.error("Error searching products:",Q)}finally{j(!1)}}),[]),se=k.useCallback(()=>{fe(""),ee()},[]),re=()=>Ne(null,null,function*(){try{const ue=yield he();Object.keys(ue).length>0&&o(U=>U.map(Q=>{var Ae;return je(Y({},Q),{available:(Ae=ue[Q.id])!=null?Ae:Q.available})}))}catch(ue){console.error("Background stock update failed:",ue)}}),de=k.useCallback((ue,U)=>{o(Q=>Q.map(Ae=>Ae.id===ue?je(Y({},Ae),{available:U}):Ae)),console.log(`Updated stock for ${ue} to ${U}`)},[]),He=k.useCallback(ue=>Ne(null,null,function*(){if(ue.length!==0)try{const U=ue.join(","),Q=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(U)}`);if(!Q.ok)throw new Error(`HTTP ${Q.status}: ${Q.statusText}`);const Ae=yield Q.json();if(Ae!=null&&Ae.message&&typeof Ae.message=="object"){const Ke=Ae.message;o(ct=>ct.map(dt=>{var kt;return je(Y({},dt),{available:(kt=Ke[dt.id])!=null?kt:dt.available})}))}}catch(U){console.error("Failed to update stock for items:",U)}}),[]),W=k.useCallback(ue=>Ne(null,null,function*(){if(ue.length!==0)try{const U=ue.map(Ke=>Ne(null,null,function*(){try{const dt=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(Ke)}`)).json();return dt!=null&&dt.message&&Array.isArray(dt.message)?{itemCode:Ke,batches:dt.message}:(console.log(`No valid batch data for ${Ke}`),null)}catch(ct){return console.error(`Failed to update batch quantities for ${Ke}:`,ct),null}})),Ae=(yield Promise.all(U)).filter(Ke=>Ke!==null);Ae.length>0?window.dispatchEvent(new CustomEvent("batchQuantitiesUpdated",{detail:{updatedItems:Ae}})):console.log("No valid batch results to dispatch")}catch(U){console.error("Failed to update batch quantities for items:",U)}}),[]),z=()=>Ne(null,null,function*(){yield ee(!0)}),ae=()=>Ne(null,null,function*(){p(!0);try{const ue=yield he();return Object.keys(ue).length>0?(o(U=>U.map(Q=>{var Ae;return je(Y({},Q),{available:(Ae=ue[Q.id])!=null?Ae:Q.available})})),O(new Date),!0):(console.log("No stock updates needed - all items are current"),!1)}catch(ue){return console.error(" Stock-only refresh failed:",ue),console.log("Stock refresh failed - user can manually refresh if needed"),!1}finally{p(!1)}});k.useEffect(()=>{if(t)return;if(!r){c(!1),T("Authentication required to load products");return}ee();const ue=setInterval(re,3e4);return()=>{clearInterval(ue)}},[r,t]);const ge={products:s,isLoading:l,isLoadingMore:u,isRefreshingStock:m,isSearching:_,error:C,refetchProducts:z,refreshStockOnly:ae,updateStockOnly:de,updateStockForItems:He,updateBatchQuantitiesForItems:W,loadMoreProducts:te,searchProducts:pe,clearSearch:se,count:s.length,totalCount:P,hasMore:H,lastUpdated:$,searchQuery:oe};return a.jsx(_3.Provider,{value:ge,children:e})}function gS(){const e=k.useContext(_3);if(e===void 0)throw new Error("useProducts must be used within a ProductProvider");return e}function hh(){const e=gS();return{products:e.products,isLoading:e.isLoading,isLoadingMore:e.isLoadingMore,isRefreshingStock:e.isRefreshingStock,isSearching:e.isSearching,error:e.error,refetch:e.refetchProducts,refreshStockOnly:e.refreshStockOnly,updateStockOnly:e.updateStockOnly,updateStockForItems:e.updateStockForItems,updateBatchQuantitiesForItems:e.updateBatchQuantitiesForItems,loadMoreProducts:e.loadMoreProducts,searchProducts:e.searchProducts,clearSearch:e.clearSearch,count:e.products.length,totalCount:e.totalCount,hasMore:e.hasMore,lastUpdated:e.lastUpdated,searchQuery:e.searchQuery}}var pS=Object.defineProperty,yS=(e,r,t)=>r in e?pS(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,gl=(e,r,t)=>yS(e,typeof r!="symbol"?r+"":r,t),xS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_c={},fu={},Es={},k1;function S3(){if(k1)return Es;k1=1;var e=Es&&Es.__assign||function(){return e=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)},r=Es&&Es.__awaiter||function(o,l,c,u){function f(m){return m instanceof c?m:new c(function(p){p(m)})}return new(c||(c=Promise))(function(m,p){function _(T){try{C(u.next(T))}catch($){p($)}}function j(T){try{C(u.throw(T))}catch($){p($)}}function C(T){T.done?m(T.value):f(T.value).then(_,j)}C((u=u.apply(o,l||[])).next())})},t=Es&&Es.__generator||function(o,l){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},u,f,m,p;return p={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function _(C){return function(T){return j([C,T])}}function j(C){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,C[0]&&(c=0)),c;)try{if(u=1,f&&(m=C[0]&2?f.return:C[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,C[1])).done)return m;switch(f=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){c.label=C[1];break}if(C[0]===6&&c.label<m[1]){c.label=m[1],m=C;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(C);break}m[2]&&c.ops.pop(),c.trys.pop();continue}C=l.call(o,c)}catch(T){C=[6,T],f=0}finally{u=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(Es,"__esModule",{value:!0}),Es.FrappeCall=void 0;var s=function(){function o(l,c,u,f,m){this.appURL=l,this.axios=c,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=m}return o.prototype.get=function(l,c){return r(this,void 0,void 0,function(){var u;return t(this,function(f){return u=new URLSearchParams,c&&Object.entries(c).forEach(function(m){var p=m[0],_=m[1];if(_!=null){var j=typeof _=="object"?JSON.stringify(_):_;u.set(p,j)}}),[2,this.axios.get("/api/method/".concat(l),{params:u}).then(function(m){return m.data}).catch(function(m){var p,_;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(p=m.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(_=m.response.data.exception)!==null&&_!==void 0?_:""})})]})})},o.prototype.post=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.post("/api/method/".concat(l),e({},c)).then(function(f){return f.data}).catch(function(f){var m,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},o.prototype.put=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.put("/api/method/".concat(l),e({},c)).then(function(f){return f.data}).catch(function(f){var m,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},o.prototype.delete=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.delete("/api/method/".concat(l),{params:c}).then(function(f){return f.data}).catch(function(f){var m,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(p=f.response.data.exception)!==null&&p!==void 0?p:""})})]})})},o}();return Es.FrappeCall=s,Es}var Ts={},_1;function C3(){if(_1)return Ts;_1=1;var e=Ts&&Ts.__assign||function(){return e=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)},r=Ts&&Ts.__awaiter||function(o,l,c,u){function f(m){return m instanceof c?m:new c(function(p){p(m)})}return new(c||(c=Promise))(function(m,p){function _(T){try{C(u.next(T))}catch($){p($)}}function j(T){try{C(u.throw(T))}catch($){p($)}}function C(T){T.done?m(T.value):f(T.value).then(_,j)}C((u=u.apply(o,l||[])).next())})},t=Ts&&Ts.__generator||function(o,l){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},u,f,m,p;return p={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function _(C){return function(T){return j([C,T])}}function j(C){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,C[0]&&(c=0)),c;)try{if(u=1,f&&(m=C[0]&2?f.return:C[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,C[1])).done)return m;switch(f=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){c.label=C[1];break}if(C[0]===6&&c.label<m[1]){c.label=m[1],m=C;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(C);break}m[2]&&c.ops.pop(),c.trys.pop();continue}C=l.call(o,c)}catch(T){C=[6,T],f=0}finally{u=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.FrappeDB=void 0;var s=function(){function o(l,c,u,f,m){this.appURL=l,this.axios=c,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=m}return o.prototype.getDoc=function(l,c){return c===void 0&&(c=""),r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.get("/api/resource/".concat(l,"/").concat(encodeURIComponent(c))).then(function(f){return f.data.data}).catch(function(f){var m,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(p=(m=f.response.data.exception)!==null&&m!==void 0?m:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},o.prototype.getDocList=function(l,c){var u;return r(this,void 0,void 0,function(){var f,m,p,_,j,C,T,$,O,P,q;return t(this,function(H){return f={},c&&(m=c.fields,p=c.filters,_=c.orFilters,j=c.orderBy,C=c.limit,T=c.limit_start,$=c.groupBy,O=c.asDict,P=O===void 0?!0:O,q=j?"".concat(String(j==null?void 0:j.field)," ").concat((u=j==null?void 0:j.order)!==null&&u!==void 0?u:"asc"):"",f={fields:m?JSON.stringify(m):void 0,filters:p?JSON.stringify(p):void 0,or_filters:_?JSON.stringify(_):void 0,order_by:q,group_by:$,limit:C,limit_start:T,as_dict:P}),[2,this.axios.get("/api/resource/".concat(l),{params:f}).then(function(M){return M.data.data}).catch(function(M){var K,F;throw e(e({},M.response.data),{httpStatus:M.response.status,httpStatusText:M.response.statusText,message:"There was an error while fetching the documents.",exception:(F=(K=M.response.data.exception)!==null&&K!==void 0?K:M.response.data.exc_type)!==null&&F!==void 0?F:""})})]})})},o.prototype.createDoc=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.post("/api/resource/".concat(l),e({},c)).then(function(f){return f.data.data}).catch(function(f){var m,p,_;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error while creating the document.",exception:(_=(p=f.response.data.exception)!==null&&p!==void 0?p:f.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},o.prototype.updateDoc=function(l,c,u){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.put("/api/resource/".concat(l,"/").concat(c&&encodeURIComponent(c)),e({},u)).then(function(m){return m.data.data}).catch(function(m){var p,_,j;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(p=m.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(j=(_=m.response.data.exception)!==null&&_!==void 0?_:m.response.data.exc_type)!==null&&j!==void 0?j:""})})]})})},o.prototype.deleteDoc=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.delete("/api/resource/".concat(l,"/").concat(c&&encodeURIComponent(c))).then(function(f){return f.data}).catch(function(f){var m,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(p=(m=f.response.data.exception)!==null&&m!==void 0?m:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},o.prototype.getCount=function(l,c,u,f){return u===void 0&&(u=!1),f===void 0&&(f=!1),r(this,void 0,void 0,function(){var m;return t(this,function(p){return m={doctype:l,filters:[]},u&&(m.cache=u),f&&(m.debug=f),c&&(m.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:m}).then(function(_){return _.data.message}).catch(function(_){var j,C;throw e(e({},_.response.data),{httpStatus:_.response.status,httpStatusText:_.response.statusText,message:"There was an error while getting the count.",exception:(C=(j=_.response.data.exception)!==null&&j!==void 0?j:_.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},o.prototype.getLastDoc=function(l,c){return r(this,void 0,void 0,function(){var u,f;return t(this,function(m){switch(m.label){case 0:return u={orderBy:{field:"creation",order:"desc"}},c&&(u=e(e({},u),c)),[4,this.getDocList(l,e(e({},u),{limit:1,fields:["name"]}))];case 1:return f=m.sent(),f.length>0?[2,this.getDoc(l,f[0].name)]:[2,{}]}})})},o.prototype.renameDoc=function(l,c,u,f){return f===void 0&&(f=!1),r(this,void 0,void 0,function(){return t(this,function(m){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:l,old_name:c,new_name:u,merge:f}).then(function(p){return p.data}).catch(function(p){var _,j,C;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(_=p.response.data.message)!==null&&_!==void 0?_:"There was an error while renaming the document.",exception:(C=(j=p.response.data.exception)!==null&&j!==void 0?j:p.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},o.prototype.getValue=function(l,c,u,f,m,p){return f===void 0&&(f=!0),m===void 0&&(m=!1),p===void 0&&(p=null),r(this,void 0,void 0,function(){var _;return t(this,function(j){return _={doctype:l,fieldname:"[]",filters:[],as_dict:f,debug:m,parent:null},c&&(_.fieldname=typeof c=="object"?JSON.stringify(c):c),u&&(_.filters=u?JSON.stringify(u):void 0),p&&(_.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:_}).then(function(C){return C.data}).catch(function(C){var T,$;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while getting the value.",exception:($=(T=C.response.data.exception)!==null&&T!==void 0?T:C.response.data.exc_type)!==null&&$!==void 0?$:""})})]})})},o.prototype.setValue=function(l,c,u,f){return r(this,void 0,void 0,function(){return t(this,function(m){return u!==null&&typeof u=="object"&&!Array.isArray(u)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:l,name:c,fieldname:u,value:f}).then(function(p){return p.data}).catch(function(p){var _,j;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(j=(_=p.response.data.exception)!==null&&_!==void 0?_:p.response.data.exc_type)!==null&&j!==void 0?j:""})})]})})},o.prototype.getSingleValue=function(l,c){return r(this,void 0,void 0,function(){var u;return t(this,function(f){return u={doctype:l,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:u}).then(function(m){return m.data}).catch(function(m){var p,_;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(_=(p=m.response.data.exception)!==null&&p!==void 0?p:m.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},o.prototype.submit=function(l){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:l}).then(function(u){return u.data.message}).catch(function(u){var f,m;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while submitting the document.",exception:(m=(f=u.response.data.exception)!==null&&f!==void 0?f:u.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},o.prototype.cancel=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:l,name:c}).then(function(f){return f.data}).catch(function(f){var m,p;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(m=f.response.data.exception)!==null&&m!==void 0?m:f.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},o}();return Ts.FrappeDB=s,Ts}var Os={},Do={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Tg,S1;function bS(){if(S1)return Tg;S1=1;function e(R,B){return function(){return R.apply(B,arguments)}}const{toString:r}=Object.prototype,{getPrototypeOf:t}=Object,s=(R=>B=>{const Z=r.call(B);return R[Z]||(R[Z]=Z.slice(8,-1).toLowerCase())})(Object.create(null)),o=R=>(R=R.toLowerCase(),B=>s(B)===R),l=R=>B=>typeof B===R,{isArray:c}=Array,u=l("undefined");function f(R){return R!==null&&!u(R)&&R.constructor!==null&&!u(R.constructor)&&j(R.constructor.isBuffer)&&R.constructor.isBuffer(R)}const m=o("ArrayBuffer");function p(R){let B;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?B=ArrayBuffer.isView(R):B=R&&R.buffer&&m(R.buffer),B}const _=l("string"),j=l("function"),C=l("number"),T=R=>R!==null&&typeof R=="object",$=R=>R===!0||R===!1,O=R=>{if(s(R)!=="object")return!1;const B=t(R);return(B===null||B===Object.prototype||Object.getPrototypeOf(B)===null)&&!(Symbol.toStringTag in R)&&!(Symbol.iterator in R)},P=o("Date"),q=o("File"),H=o("Blob"),M=o("FileList"),K=R=>T(R)&&j(R.pipe),F=R=>{let B;return R&&(typeof FormData=="function"&&R instanceof FormData||j(R.append)&&((B=s(R))==="formdata"||B==="object"&&j(R.toString)&&R.toString()==="[object FormData]"))},oe=o("URLSearchParams"),[fe,X,le,he]=["ReadableStream","Request","Response","Headers"].map(o),ee=R=>R.trim?R.trim():R.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ce(R,B,{allOwnKeys:Z=!1}={}){if(R===null||typeof R>"u")return;let J,Se;if(typeof R!="object"&&(R=[R]),c(R))for(J=0,Se=R.length;J<Se;J++)B.call(null,R[J],J,R);else{const Re=Z?Object.getOwnPropertyNames(R):Object.keys(R),$e=Re.length;let bt;for(J=0;J<$e;J++)bt=Re[J],B.call(null,R[bt],bt,R)}}function te(R,B){B=B.toLowerCase();const Z=Object.keys(R);let J=Z.length,Se;for(;J-- >0;)if(Se=Z[J],B===Se.toLowerCase())return Se;return null}const pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:xS,se=R=>!u(R)&&R!==pe;function re(){const{caseless:R}=se(this)&&this||{},B={},Z=(J,Se)=>{const Re=R&&te(B,Se)||Se;O(B[Re])&&O(J)?B[Re]=re(B[Re],J):O(J)?B[Re]=re({},J):c(J)?B[Re]=J.slice():B[Re]=J};for(let J=0,Se=arguments.length;J<Se;J++)arguments[J]&&ce(arguments[J],Z);return B}const de=(R,B,Z,{allOwnKeys:J}={})=>(ce(B,(Se,Re)=>{Z&&j(Se)?R[Re]=e(Se,Z):R[Re]=Se},{allOwnKeys:J}),R),He=R=>(R.charCodeAt(0)===65279&&(R=R.slice(1)),R),W=(R,B,Z,J)=>{R.prototype=Object.create(B.prototype,J),R.prototype.constructor=R,Object.defineProperty(R,"super",{value:B.prototype}),Z&&Object.assign(R.prototype,Z)},z=(R,B,Z,J)=>{let Se,Re,$e;const bt={};if(B=B||{},R==null)return B;do{for(Se=Object.getOwnPropertyNames(R),Re=Se.length;Re-- >0;)$e=Se[Re],(!J||J($e,R,B))&&!bt[$e]&&(B[$e]=R[$e],bt[$e]=!0);R=Z!==!1&&t(R)}while(R&&(!Z||Z(R,B))&&R!==Object.prototype);return B},ae=(R,B,Z)=>{R=String(R),(Z===void 0||Z>R.length)&&(Z=R.length),Z-=B.length;const J=R.indexOf(B,Z);return J!==-1&&J===Z},ge=R=>{if(!R)return null;if(c(R))return R;let B=R.length;if(!C(B))return null;const Z=new Array(B);for(;B-- >0;)Z[B]=R[B];return Z},ue=(R=>B=>R&&B instanceof R)(typeof Uint8Array<"u"&&t(Uint8Array)),U=(R,B)=>{const Z=(R&&R[Symbol.iterator]).call(R);let J;for(;(J=Z.next())&&!J.done;){const Se=J.value;B.call(R,Se[0],Se[1])}},Q=(R,B)=>{let Z;const J=[];for(;(Z=R.exec(B))!==null;)J.push(Z);return J},Ae=o("HTMLFormElement"),Ke=R=>R.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(B,Z,J){return Z.toUpperCase()+J}),ct=(({hasOwnProperty:R})=>(B,Z)=>R.call(B,Z))(Object.prototype),dt=o("RegExp"),kt=(R,B)=>{const Z=Object.getOwnPropertyDescriptors(R),J={};ce(Z,(Se,Re)=>{let $e;($e=B(Se,Re,R))!==!1&&(J[Re]=$e||Se)}),Object.defineProperties(R,J)},ht=R=>{kt(R,(B,Z)=>{if(j(R)&&["arguments","caller","callee"].indexOf(Z)!==-1)return!1;const J=R[Z];if(j(J)){if(B.enumerable=!1,"writable"in B){B.writable=!1;return}B.set||(B.set=()=>{throw Error("Can not rewrite read-only method '"+Z+"'")})}})},zt=(R,B)=>{const Z={},J=Se=>{Se.forEach(Re=>{Z[Re]=!0})};return c(R)?J(R):J(String(R).split(B)),Z},be=()=>{},Ze=(R,B)=>R!=null&&Number.isFinite(R=+R)?R:B;function At(R){return!!(R&&j(R.append)&&R[Symbol.toStringTag]==="FormData"&&R[Symbol.iterator])}const ye=R=>{const B=new Array(10),Z=(J,Se)=>{if(T(J)){if(B.indexOf(J)>=0)return;if(!("toJSON"in J)){B[Se]=J;const Re=c(J)?[]:{};return ce(J,($e,bt)=>{const Et=Z($e,Se+1);!u(Et)&&(Re[bt]=Et)}),B[Se]=void 0,Re}}return J};return Z(R,0)},We=o("AsyncFunction"),ft=R=>R&&(T(R)||j(R))&&j(R.then)&&j(R.catch),ur=((R,B)=>R?setImmediate:B?((Z,J)=>(pe.addEventListener("message",({source:Se,data:Re})=>{Se===pe&&Re===Z&&J.length&&J.shift()()},!1),Se=>{J.push(Se),pe.postMessage(Z,"*")}))(`axios@${Math.random()}`,[]):Z=>setTimeout(Z))(typeof setImmediate=="function",j(pe.postMessage)),Zt=typeof queueMicrotask<"u"?queueMicrotask.bind(pe):typeof process<"u"&&process.nextTick||ur;var ne={isArray:c,isArrayBuffer:m,isBuffer:f,isFormData:F,isArrayBufferView:p,isString:_,isNumber:C,isBoolean:$,isObject:T,isPlainObject:O,isReadableStream:fe,isRequest:X,isResponse:le,isHeaders:he,isUndefined:u,isDate:P,isFile:q,isBlob:H,isRegExp:dt,isFunction:j,isStream:K,isURLSearchParams:oe,isTypedArray:ue,isFileList:M,forEach:ce,merge:re,extend:de,trim:ee,stripBOM:He,inherits:W,toFlatObject:z,kindOf:s,kindOfTest:o,endsWith:ae,toArray:ge,forEachEntry:U,matchAll:Q,isHTMLForm:Ae,hasOwnProperty:ct,hasOwnProp:ct,reduceDescriptors:kt,freezeMethods:ht,toObjectSet:zt,toCamelCase:Ke,noop:be,toFiniteNumber:Ze,findKey:te,global:pe,isContextDefined:se,isSpecCompliantForm:At,toJSONObject:ye,isAsyncFn:We,isThenable:ft,setImmediate:ur,asap:Zt};function ze(R,B,Z,J,Se){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=R,this.name="AxiosError",B&&(this.code=B),Z&&(this.config=Z),J&&(this.request=J),Se&&(this.response=Se,this.status=Se.status?Se.status:null)}ne.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const rt=ze.prototype,ut={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(R=>{ut[R]={value:R}}),Object.defineProperties(ze,ut),Object.defineProperty(rt,"isAxiosError",{value:!0}),ze.from=(R,B,Z,J,Se,Re)=>{const $e=Object.create(rt);return ne.toFlatObject(R,$e,function(bt){return bt!==Error.prototype},bt=>bt!=="isAxiosError"),ze.call($e,R.message,B,Z,J,Se),$e.cause=R,$e.name=R.name,Re&&Object.assign($e,Re),$e};var tt=null;function jt(R){return ne.isPlainObject(R)||ne.isArray(R)}function yt(R){return ne.endsWith(R,"[]")?R.slice(0,-2):R}function ve(R,B,Z){return R?R.concat(B).map(function(J,Se){return J=yt(J),!Z&&Se?"["+J+"]":J}).join(Z?".":""):B}function Je(R){return ne.isArray(R)&&!R.some(jt)}const gt=ne.toFlatObject(ne,{},null,function(R){return/^is[A-Z]/.test(R)});function mt(R,B,Z){if(!ne.isObject(R))throw new TypeError("target must be an object");B=B||new FormData,Z=ne.toFlatObject(Z,{metaTokens:!0,dots:!1,indexes:!1},!1,function(or,Xt){return!ne.isUndefined(Xt[or])});const J=Z.metaTokens,Se=Z.visitor||vt,Re=Z.dots,$e=Z.indexes,bt=(Z.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(B);if(!ne.isFunction(Se))throw new TypeError("visitor must be a function");function Et(or){if(or===null)return"";if(ne.isDate(or))return or.toISOString();if(!bt&&ne.isBlob(or))throw new ze("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(or)||ne.isTypedArray(or)?bt&&typeof Blob=="function"?new Blob([or]):Buffer.from(or):or}function vt(or,Xt,Mt){let _a=or;if(or&&!Mt&&typeof or=="object"){if(ne.endsWith(Xt,"{}"))Xt=J?Xt:Xt.slice(0,-2),or=JSON.stringify(or);else if(ne.isArray(or)&&Je(or)||(ne.isFileList(or)||ne.endsWith(Xt,"[]"))&&(_a=ne.toArray(or)))return Xt=yt(Xt),_a.forEach(function(la,aa){!(ne.isUndefined(la)||la===null)&&B.append($e===!0?ve([Xt],aa,Re):$e===null?Xt:Xt+"[]",Et(la))}),!1}return jt(or)?!0:(B.append(ve(Mt,Xt,Re),Et(or)),!1)}const Tt=[],Bt=Object.assign(gt,{defaultVisitor:vt,convertValue:Et,isVisitable:jt});function qr(or,Xt){if(!ne.isUndefined(or)){if(Tt.indexOf(or)!==-1)throw Error("Circular reference detected in "+Xt.join("."));Tt.push(or),ne.forEach(or,function(Mt,_a){(!(ne.isUndefined(Mt)||Mt===null)&&Se.call(B,Mt,ne.isString(_a)?_a.trim():_a,Xt,Bt))===!0&&qr(Mt,Xt?Xt.concat(_a):[_a])}),Tt.pop()}}if(!ne.isObject(R))throw new TypeError("data must be an object");return qr(R),B}function xt(R){const B={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(R).replace(/[!'()~]|%20|%00/g,function(Z){return B[Z]})}function Ye(R,B){this._pairs=[],R&&mt(R,this,B)}const Gt=Ye.prototype;Gt.append=function(R,B){this._pairs.push([R,B])},Gt.toString=function(R){const B=R?function(Z){return R.call(this,Z,xt)}:xt;return this._pairs.map(function(Z){return B(Z[0])+"="+B(Z[1])},"").join("&")};function qt(R){return encodeURIComponent(R).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cr(R,B,Z){if(!B)return R;const J=Z&&Z.encode||qt;ne.isFunction(Z)&&(Z={serialize:Z});const Se=Z&&Z.serialize;let Re;if(Se?Re=Se(B,Z):Re=ne.isURLSearchParams(B)?B.toString():new Ye(B,Z).toString(J),Re){const $e=R.indexOf("#");$e!==-1&&(R=R.slice(0,$e)),R+=(R.indexOf("?")===-1?"?":"&")+Re}return R}class pr{constructor(){this.handlers=[]}use(B,Z,J){return this.handlers.push({fulfilled:B,rejected:Z,synchronous:J?J.synchronous:!1,runWhen:J?J.runWhen:null}),this.handlers.length-1}eject(B){this.handlers[B]&&(this.handlers[B]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(B){ne.forEach(this.handlers,function(Z){Z!==null&&B(Z)})}}var ta=pr,va={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wa=typeof URLSearchParams<"u"?URLSearchParams:Ye,Ga=typeof FormData<"u"?FormData:null,_r=typeof Blob<"u"?Blob:null,na={isBrowser:!0,classes:{URLSearchParams:wa,FormData:Ga,Blob:_r},protocols:["http","https","file","blob","url","data"]};const qe=typeof window<"u"&&typeof document<"u",st=typeof navigator=="object"&&navigator||void 0,Tr=qe&&(!st||["ReactNative","NativeScript","NS"].indexOf(st.product)<0),me=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ee=qe&&window.location.href||"http://localhost";var Me=Object.freeze({__proto__:null,hasBrowserEnv:qe,hasStandardBrowserWebWorkerEnv:me,hasStandardBrowserEnv:Tr,navigator:st,origin:Ee}),Ve=Y(Y({},Me),na);function lt(R,B){return mt(R,new Ve.classes.URLSearchParams,Object.assign({visitor:function(Z,J,Se,Re){return Ve.isNode&&ne.isBuffer(Z)?(this.append(J,Z.toString("base64")),!1):Re.defaultVisitor.apply(this,arguments)}},B))}function Pt(R){return ne.matchAll(/\w+|\[(\w*)]/g,R).map(B=>B[0]==="[]"?"":B[1]||B[0])}function Vt(R){const B={},Z=Object.keys(R);let J;const Se=Z.length;let Re;for(J=0;J<Se;J++)Re=Z[J],B[Re]=R[Re];return B}function Ge(R){function B(Z,J,Se,Re){let $e=Z[Re++];if($e==="__proto__")return!0;const bt=Number.isFinite(+$e),Et=Re>=Z.length;return $e=!$e&&ne.isArray(Se)?Se.length:$e,Et?(ne.hasOwnProp(Se,$e)?Se[$e]=[Se[$e],J]:Se[$e]=J,!bt):((!Se[$e]||!ne.isObject(Se[$e]))&&(Se[$e]=[]),B(Z,J,Se[$e],Re)&&ne.isArray(Se[$e])&&(Se[$e]=Vt(Se[$e])),!bt)}if(ne.isFormData(R)&&ne.isFunction(R.entries)){const Z={};return ne.forEachEntry(R,(J,Se)=>{B(Pt(J),Se,Z,0)}),Z}return null}function Ft(R,B,Z){if(ne.isString(R))try{return(B||JSON.parse)(R),ne.trim(R)}catch(J){if(J.name!=="SyntaxError")throw J}return(Z||JSON.stringify)(R)}const Yt={transitional:va,adapter:["xhr","http","fetch"],transformRequest:[function(R,B){const Z=B.getContentType()||"",J=Z.indexOf("application/json")>-1,Se=ne.isObject(R);if(Se&&ne.isHTMLForm(R)&&(R=new FormData(R)),ne.isFormData(R))return J?JSON.stringify(Ge(R)):R;if(ne.isArrayBuffer(R)||ne.isBuffer(R)||ne.isStream(R)||ne.isFile(R)||ne.isBlob(R)||ne.isReadableStream(R))return R;if(ne.isArrayBufferView(R))return R.buffer;if(ne.isURLSearchParams(R))return B.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),R.toString();let Re;if(Se){if(Z.indexOf("application/x-www-form-urlencoded")>-1)return lt(R,this.formSerializer).toString();if((Re=ne.isFileList(R))||Z.indexOf("multipart/form-data")>-1){const $e=this.env&&this.env.FormData;return mt(Re?{"files[]":R}:R,$e&&new $e,this.formSerializer)}}return Se||J?(B.setContentType("application/json",!1),Ft(R)):R}],transformResponse:[function(R){const B=this.transitional||Yt.transitional,Z=B&&B.forcedJSONParsing,J=this.responseType==="json";if(ne.isResponse(R)||ne.isReadableStream(R))return R;if(R&&ne.isString(R)&&(Z&&!this.responseType||J)){const Se=!(B&&B.silentJSONParsing)&&J;try{return JSON.parse(R)}catch(Re){if(Se)throw Re.name==="SyntaxError"?ze.from(Re,ze.ERR_BAD_RESPONSE,this,null,this.response):Re}}return R}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(R){return R>=200&&R<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],R=>{Yt.headers[R]={}});var Qt=Yt;const Ht=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var mr=R=>{const B={};let Z,J,Se;return R&&R.split(`
`).forEach(function(Re){Se=Re.indexOf(":"),Z=Re.substring(0,Se).trim().toLowerCase(),J=Re.substring(Se+1).trim(),!(!Z||B[Z]&&Ht[Z])&&(Z==="set-cookie"?B[Z]?B[Z].push(J):B[Z]=[J]:B[Z]=B[Z]?B[Z]+", "+J:J)}),B};const br=Symbol("internals");function zr(R){return R&&String(R).trim().toLowerCase()}function Ar(R){return R===!1||R==null?R:ne.isArray(R)?R.map(Ar):String(R)}function er(R){const B=Object.create(null),Z=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let J;for(;J=Z.exec(R);)B[J[1]]=J[2];return B}const Kt=R=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(R.trim());function Er(R,B,Z,J,Se){if(ne.isFunction(J))return J.call(this,B,Z);if(Se&&(B=Z),!!ne.isString(B)){if(ne.isString(J))return B.indexOf(J)!==-1;if(ne.isRegExp(J))return J.test(B)}}function Br(R){return R.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(B,Z,J)=>Z.toUpperCase()+J)}function ra(R,B){const Z=ne.toCamelCase(" "+B);["get","set","has"].forEach(J=>{Object.defineProperty(R,J+Z,{value:function(Se,Re,$e){return this[J].call(this,B,Se,Re,$e)},configurable:!0})})}class Xr{constructor(B){B&&this.set(B)}set(B,Z,J){const Se=this;function Re(bt,Et,vt){const Tt=zr(Et);if(!Tt)throw new Error("header name must be a non-empty string");const Bt=ne.findKey(Se,Tt);(!Bt||Se[Bt]===void 0||vt===!0||vt===void 0&&Se[Bt]!==!1)&&(Se[Bt||Et]=Ar(bt))}const $e=(bt,Et)=>ne.forEach(bt,(vt,Tt)=>Re(vt,Tt,Et));if(ne.isPlainObject(B)||B instanceof this.constructor)$e(B,Z);else if(ne.isString(B)&&(B=B.trim())&&!Kt(B))$e(mr(B),Z);else if(ne.isHeaders(B))for(const[bt,Et]of B.entries())Re(Et,bt,J);else B!=null&&Re(Z,B,J);return this}get(B,Z){if(B=zr(B),B){const J=ne.findKey(this,B);if(J){const Se=this[J];if(!Z)return Se;if(Z===!0)return er(Se);if(ne.isFunction(Z))return Z.call(this,Se,J);if(ne.isRegExp(Z))return Z.exec(Se);throw new TypeError("parser must be boolean|regexp|function")}}}has(B,Z){if(B=zr(B),B){const J=ne.findKey(this,B);return!!(J&&this[J]!==void 0&&(!Z||Er(this,this[J],J,Z)))}return!1}delete(B,Z){const J=this;let Se=!1;function Re($e){if($e=zr($e),$e){const bt=ne.findKey(J,$e);bt&&(!Z||Er(J,J[bt],bt,Z))&&(delete J[bt],Se=!0)}}return ne.isArray(B)?B.forEach(Re):Re(B),Se}clear(B){const Z=Object.keys(this);let J=Z.length,Se=!1;for(;J--;){const Re=Z[J];(!B||Er(this,this[Re],Re,B,!0))&&(delete this[Re],Se=!0)}return Se}normalize(B){const Z=this,J={};return ne.forEach(this,(Se,Re)=>{const $e=ne.findKey(J,Re);if($e){Z[$e]=Ar(Se),delete Z[Re];return}const bt=B?Br(Re):String(Re).trim();bt!==Re&&delete Z[Re],Z[bt]=Ar(Se),J[bt]=!0}),this}concat(...B){return this.constructor.concat(this,...B)}toJSON(B){const Z=Object.create(null);return ne.forEach(this,(J,Se)=>{J!=null&&J!==!1&&(Z[Se]=B&&ne.isArray(J)?J.join(", "):J)}),Z}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([B,Z])=>B+": "+Z).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(B){return B instanceof this?B:new this(B)}static concat(B,...Z){const J=new this(B);return Z.forEach(Se=>J.set(Se)),J}static accessor(B){const Z=(this[br]=this[br]={accessors:{}}).accessors,J=this.prototype;function Se(Re){const $e=zr(Re);Z[$e]||(ra(J,Re),Z[$e]=!0)}return ne.isArray(B)?B.forEach(Se):Se(B),this}}Xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ne.reduceDescriptors(Xr.prototype,({value:R},B)=>{let Z=B[0].toUpperCase()+B.slice(1);return{get:()=>R,set(J){this[Z]=J}}}),ne.freezeMethods(Xr);var Zr=Xr;function Ja(R,B){const Z=this||Qt,J=B||Z,Se=Zr.from(J.headers);let Re=J.data;return ne.forEach(R,function($e){Re=$e.call(Z,Re,Se.normalize(),B?B.status:void 0)}),Se.normalize(),Re}function Ln(R){return!!(R&&R.__CANCEL__)}function sa(R,B,Z){ze.call(this,R!=null?R:"canceled",ze.ERR_CANCELED,B,Z),this.name="CanceledError"}ne.inherits(sa,ze,{__CANCEL__:!0});function Va(R,B,Z){const J=Z.config.validateStatus;!Z.status||!J||J(Z.status)?R(Z):B(new ze("Request failed with status code "+Z.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(Z.status/100)-4],Z.config,Z.request,Z))}function wt(R){const B=/^([-+\w]{1,25})(:?\/\/|:)/.exec(R);return B&&B[1]||""}function ua(R,B){R=R||10;const Z=new Array(R),J=new Array(R);let Se=0,Re=0,$e;return B=B!==void 0?B:1e3,function(bt){const Et=Date.now(),vt=J[Re];$e||($e=Et),Z[Se]=bt,J[Se]=Et;let Tt=Re,Bt=0;for(;Tt!==Se;)Bt+=Z[Tt++],Tt=Tt%R;if(Se=(Se+1)%R,Se===Re&&(Re=(Re+1)%R),Et-$e<B)return;const qr=vt&&Et-vt;return qr?Math.round(Bt*1e3/qr):void 0}}function ka(R,B){let Z=0,J=1e3/B,Se,Re;const $e=(bt,Et=Date.now())=>{Z=Et,Se=null,Re&&(clearTimeout(Re),Re=null),R.apply(null,bt)};return[(...bt)=>{const Et=Date.now(),vt=Et-Z;vt>=J?$e(bt,Et):(Se=bt,Re||(Re=setTimeout(()=>{Re=null,$e(Se)},J-vt)))},()=>Se&&$e(Se)]}const fa=(R,B,Z=3)=>{let J=0;const Se=ua(50,250);return ka(Re=>{const $e=Re.loaded,bt=Re.lengthComputable?Re.total:void 0,Et=$e-J,vt=Se(Et),Tt=$e<=bt;J=$e;const Bt={loaded:$e,total:bt,progress:bt?$e/bt:void 0,bytes:Et,rate:vt||void 0,estimated:vt&&bt&&Tt?(bt-$e)/vt:void 0,event:Re,lengthComputable:bt!=null,[B?"download":"upload"]:!0};R(Bt)},Z)},en=(R,B)=>{const Z=R!=null;return[J=>B[0]({lengthComputable:Z,total:R,loaded:J}),B[1]]},Mr=R=>(...B)=>ne.asap(()=>R(...B));var fn=Ve.hasStandardBrowserEnv?((R,B)=>Z=>(Z=new URL(Z,Ve.origin),R.protocol===Z.protocol&&R.host===Z.host&&(B||R.port===Z.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,es=Ve.hasStandardBrowserEnv?{write(R,B,Z,J,Se,Re){const $e=[R+"="+encodeURIComponent(B)];ne.isNumber(Z)&&$e.push("expires="+new Date(Z).toGMTString()),ne.isString(J)&&$e.push("path="+J),ne.isString(Se)&&$e.push("domain="+Se),Re===!0&&$e.push("secure"),document.cookie=$e.join("; ")},read(R){const B=document.cookie.match(new RegExp("(^|;\\s*)("+R+")=([^;]*)"));return B?decodeURIComponent(B[3]):null},remove(R){this.write(R,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Te(R){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(R)}function ot(R,B){return B?R.replace(/\/?\/$/,"")+"/"+B.replace(/^\/+/,""):R}function Rt(R,B,Z){let J=!Te(B);return R&&J||Z==!1?ot(R,B):B}const Ut=R=>R instanceof Zr?Y({},R):R;function $t(R,B){B=B||{};const Z={};function J(vt,Tt,Bt,qr){return ne.isPlainObject(vt)&&ne.isPlainObject(Tt)?ne.merge.call({caseless:qr},vt,Tt):ne.isPlainObject(Tt)?ne.merge({},Tt):ne.isArray(Tt)?Tt.slice():Tt}function Se(vt,Tt,Bt,qr){if(ne.isUndefined(Tt)){if(!ne.isUndefined(vt))return J(void 0,vt,Bt,qr)}else return J(vt,Tt,Bt,qr)}function Re(vt,Tt){if(!ne.isUndefined(Tt))return J(void 0,Tt)}function $e(vt,Tt){if(ne.isUndefined(Tt)){if(!ne.isUndefined(vt))return J(void 0,vt)}else return J(void 0,Tt)}function bt(vt,Tt,Bt){if(Bt in B)return J(vt,Tt);if(Bt in R)return J(void 0,vt)}const Et={url:Re,method:Re,data:Re,baseURL:$e,transformRequest:$e,transformResponse:$e,paramsSerializer:$e,timeout:$e,timeoutMessage:$e,withCredentials:$e,withXSRFToken:$e,adapter:$e,responseType:$e,xsrfCookieName:$e,xsrfHeaderName:$e,onUploadProgress:$e,onDownloadProgress:$e,decompress:$e,maxContentLength:$e,maxBodyLength:$e,beforeRedirect:$e,transport:$e,httpAgent:$e,httpsAgent:$e,cancelToken:$e,socketPath:$e,responseEncoding:$e,validateStatus:bt,headers:(vt,Tt,Bt)=>Se(Ut(vt),Ut(Tt),Bt,!0)};return ne.forEach(Object.keys(Object.assign({},R,B)),function(vt){const Tt=Et[vt]||Se,Bt=Tt(R[vt],B[vt],vt);ne.isUndefined(Bt)&&Tt!==bt||(Z[vt]=Bt)}),Z}var rr=R=>{const B=$t({},R);let{data:Z,withXSRFToken:J,xsrfHeaderName:Se,xsrfCookieName:Re,headers:$e,auth:bt}=B;B.headers=$e=Zr.from($e),B.url=cr(Rt(B.baseURL,B.url),R.params,R.paramsSerializer),bt&&$e.set("Authorization","Basic "+btoa((bt.username||"")+":"+(bt.password?unescape(encodeURIComponent(bt.password)):"")));let Et;if(ne.isFormData(Z)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)$e.setContentType(void 0);else if((Et=$e.getContentType())!==!1){const[vt,...Tt]=Et?Et.split(";").map(Bt=>Bt.trim()).filter(Boolean):[];$e.setContentType([vt||"multipart/form-data",...Tt].join("; "))}}if(Ve.hasStandardBrowserEnv&&(J&&ne.isFunction(J)&&(J=J(B)),J||J!==!1&&fn(B.url))){const vt=Se&&Re&&es.read(Re);vt&&$e.set(Se,vt)}return B},Jt=typeof XMLHttpRequest<"u"&&function(R){return new Promise(function(B,Z){const J=rr(R);let Se=J.data;const Re=Zr.from(J.headers).normalize();let{responseType:$e,onUploadProgress:bt,onDownloadProgress:Et}=J,vt,Tt,Bt,qr,or;function Xt(){qr&&qr(),or&&or(),J.cancelToken&&J.cancelToken.unsubscribe(vt),J.signal&&J.signal.removeEventListener("abort",vt)}let Mt=new XMLHttpRequest;Mt.open(J.method.toUpperCase(),J.url,!0),Mt.timeout=J.timeout;function _a(){if(!Mt)return;const aa=Zr.from("getAllResponseHeaders"in Mt&&Mt.getAllResponseHeaders()),an={data:!$e||$e==="text"||$e==="json"?Mt.responseText:Mt.response,status:Mt.status,statusText:Mt.statusText,headers:aa,config:R,request:Mt};Va(function(bs){B(bs),Xt()},function(bs){Z(bs),Xt()},an),Mt=null}"onloadend"in Mt?Mt.onloadend=_a:Mt.onreadystatechange=function(){!Mt||Mt.readyState!==4||Mt.status===0&&!(Mt.responseURL&&Mt.responseURL.indexOf("file:")===0)||setTimeout(_a)},Mt.onabort=function(){Mt&&(Z(new ze("Request aborted",ze.ECONNABORTED,R,Mt)),Mt=null)},Mt.onerror=function(){Z(new ze("Network Error",ze.ERR_NETWORK,R,Mt)),Mt=null},Mt.ontimeout=function(){let aa=J.timeout?"timeout of "+J.timeout+"ms exceeded":"timeout exceeded";const an=J.transitional||va;J.timeoutErrorMessage&&(aa=J.timeoutErrorMessage),Z(new ze(aa,an.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,R,Mt)),Mt=null},Se===void 0&&Re.setContentType(null),"setRequestHeader"in Mt&&ne.forEach(Re.toJSON(),function(aa,an){Mt.setRequestHeader(an,aa)}),ne.isUndefined(J.withCredentials)||(Mt.withCredentials=!!J.withCredentials),$e&&$e!=="json"&&(Mt.responseType=J.responseType),Et&&([Bt,or]=fa(Et,!0),Mt.addEventListener("progress",Bt)),bt&&Mt.upload&&([Tt,qr]=fa(bt),Mt.upload.addEventListener("progress",Tt),Mt.upload.addEventListener("loadend",qr)),(J.cancelToken||J.signal)&&(vt=aa=>{Mt&&(Z(!aa||aa.type?new sa(null,R,Mt):aa),Mt.abort(),Mt=null)},J.cancelToken&&J.cancelToken.subscribe(vt),J.signal&&(J.signal.aborted?vt():J.signal.addEventListener("abort",vt)));const la=wt(J.url);if(la&&Ve.protocols.indexOf(la)===-1){Z(new ze("Unsupported protocol "+la+":",ze.ERR_BAD_REQUEST,R));return}Mt.send(Se||null)})},yr=(R,B)=>{const{length:Z}=R=R?R.filter(Boolean):[];if(B||Z){let J=new AbortController,Se;const Re=function(vt){if(!Se){Se=!0,bt();const Tt=vt instanceof Error?vt:this.reason;J.abort(Tt instanceof ze?Tt:new sa(Tt instanceof Error?Tt.message:Tt))}};let $e=B&&setTimeout(()=>{$e=null,Re(new ze(`timeout ${B} of ms exceeded`,ze.ETIMEDOUT))},B);const bt=()=>{R&&($e&&clearTimeout($e),$e=null,R.forEach(vt=>{vt.unsubscribe?vt.unsubscribe(Re):vt.removeEventListener("abort",Re)}),R=null)};R.forEach(vt=>vt.addEventListener("abort",Re));const{signal:Et}=J;return Et.unsubscribe=()=>ne.asap(bt),Et}};const Fr=function*(R,B){let Z=R.byteLength;if(Z<B){yield R;return}let J=0,Se;for(;J<Z;)Se=J+B,yield R.slice(J,Se),J=Se},Jr=function(R,B){return yg(this,null,function*(){try{for(var Z=Bv(ha(R)),J,Se,Re;J=!(Se=yield new ml(Z.next())).done;J=!1){const $e=Se.value;yield*xg(Fr($e,B))}}catch(Se){Re=[Se]}finally{try{J&&(Se=Z.return)&&(yield new ml(Se.call(Z)))}finally{if(Re)throw Re[0]}}})},ha=function(R){return yg(this,null,function*(){if(R[Symbol.asyncIterator]){yield*xg(R);return}const B=R.getReader();try{for(;;){const{done:Z,value:J}=yield new ml(B.read());if(Z)break;yield J}}finally{yield new ml(B.cancel())}})},ma=(R,B,Z,J)=>{const Se=Jr(R,B);let Re=0,$e,bt=vt=>{$e||($e=!0,J&&J(vt))};return new ReadableStream({pull(vt){return Ne(this,null,function*(){try{const{done:Tt,value:Bt}=yield Se.next();if(Tt){bt(),vt.close();return}let qr=Bt.byteLength;if(Z){let or=Re+=qr;Z(or)}vt.enqueue(new Uint8Array(Bt))}catch(Tt){throw bt(Tt),Tt}})},cancel(vt){return bt(vt),Se.return()}},{highWaterMark:2})},kn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ho=kn&&typeof ReadableStream=="function",ts=kn&&(typeof TextEncoder=="function"?(R=>B=>R.encode(B))(new TextEncoder):R=>Ne(null,null,function*(){return new Uint8Array(yield new Response(R).arrayBuffer())})),Fl=(R,...B)=>{try{return!!R(...B)}catch(Z){return!1}},zl=ho&&Fl(()=>{let R=!1;const B=new Request(Ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return R=!0,"half"}}).headers.has("Content-Type");return R&&!B}),Wi=64*1024,mo=ho&&Fl(()=>ne.isReadableStream(new Response("").body)),Yo={stream:mo&&(R=>R.body)};kn&&(R=>{["text","arrayBuffer","blob","formData","stream"].forEach(B=>{!Yo[B]&&(Yo[B]=ne.isFunction(R[B])?Z=>Z[B]():(Z,J)=>{throw new ze(`Response type '${B}' is not supported`,ze.ERR_NOT_SUPPORT,J)})})})(new Response);const dd=R=>Ne(null,null,function*(){if(R==null)return 0;if(ne.isBlob(R))return R.size;if(ne.isSpecCompliantForm(R))return(yield new Request(Ve.origin,{method:"POST",body:R}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(R)||ne.isArrayBuffer(R))return R.byteLength;if(ne.isURLSearchParams(R)&&(R=R+""),ne.isString(R))return(yield ts(R)).byteLength}),Qo=(R,B)=>Ne(null,null,function*(){const Z=ne.toFiniteNumber(R.getContentLength());return Z!=null?Z:dd(B)});var Yi=kn&&(R=>Ne(null,null,function*(){let{url:B,method:Z,data:J,signal:Se,cancelToken:Re,timeout:$e,onDownloadProgress:bt,onUploadProgress:Et,responseType:vt,headers:Tt,withCredentials:Bt="same-origin",fetchOptions:qr}=rr(R);vt=vt?(vt+"").toLowerCase():"text";let or=yr([Se,Re&&Re.toAbortSignal()],$e),Xt;const Mt=or&&or.unsubscribe&&(()=>{or.unsubscribe()});let _a;try{if(Et&&zl&&Z!=="get"&&Z!=="head"&&(_a=yield Qo(Tt,J))!==0){let Fn=new Request(B,{method:"POST",body:J,duplex:"half"}),vs;if(ne.isFormData(J)&&(vs=Fn.headers.get("content-type"))&&Tt.setContentType(vs),Fn.body){const[Zo,xo]=en(_a,fa(Mr(Et)));J=ma(Fn.body,Wi,Zo,xo)}}ne.isString(Bt)||(Bt=Bt?"include":"omit");const la="credentials"in Request.prototype;Xt=new Request(B,je(Y({},qr),{signal:or,method:Z.toUpperCase(),headers:Tt.normalize().toJSON(),body:J,duplex:"half",credentials:la?Bt:void 0}));let aa=yield fetch(Xt);const an=mo&&(vt==="stream"||vt==="response");if(mo&&(bt||an&&Mt)){const Fn={};["status","statusText","headers"].forEach(Bl=>{Fn[Bl]=aa[Bl]});const vs=ne.toFiniteNumber(aa.headers.get("content-length")),[Zo,xo]=bt&&en(vs,fa(Mr(bt),!0))||[];aa=new Response(ma(aa.body,Wi,Zo,()=>{xo&&xo(),Mt&&Mt()}),Fn)}vt=vt||"text";let bs=yield Yo[ne.findKey(Yo,vt)||"text"](aa,R);return!an&&Mt&&Mt(),yield new Promise((Fn,vs)=>{Va(Fn,vs,{data:bs,headers:Zr.from(aa.headers),status:aa.status,statusText:aa.statusText,config:R,request:Xt})})}catch(la){throw Mt&&Mt(),la&&la.name==="TypeError"&&/fetch/i.test(la.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,R,Xt),{cause:la.cause||la}):ze.from(la,la&&la.code,R,Xt)}}));const go={http:tt,xhr:Jt,fetch:Yi};ne.forEach(go,(R,B)=>{if(R){try{Object.defineProperty(R,"name",{value:B})}catch(Z){}Object.defineProperty(R,"adapterName",{value:B})}});const ps=R=>`- ${R}`,Hs=R=>ne.isFunction(R)||R===null||R===!1;var Qi={getAdapter:R=>{R=ne.isArray(R)?R:[R];const{length:B}=R;let Z,J;const Se={};for(let Re=0;Re<B;Re++){Z=R[Re];let $e;if(J=Z,!Hs(Z)&&(J=go[($e=String(Z)).toLowerCase()],J===void 0))throw new ze(`Unknown adapter '${$e}'`);if(J)break;Se[$e||"#"+Re]=J}if(!J){const Re=Object.entries(Se).map(([bt,Et])=>`adapter ${bt} `+(Et===!1?"is not supported by the environment":"is not available in the build"));let $e=B?Re.length>1?`since :
`+Re.map(ps).join(`
`):" "+ps(Re[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+$e,"ERR_NOT_SUPPORT")}return J},adapters:go};function _n(R){if(R.cancelToken&&R.cancelToken.throwIfRequested(),R.signal&&R.signal.aborted)throw new sa(null,R)}function Xi(R){return _n(R),R.headers=Zr.from(R.headers),R.data=Ja.call(R,R.transformRequest),["post","put","patch"].indexOf(R.method)!==-1&&R.headers.setContentType("application/x-www-form-urlencoded",!1),Qi.getAdapter(R.adapter||Qt.adapter)(R).then(function(B){return _n(R),B.data=Ja.call(R,R.transformResponse,B),B.headers=Zr.from(B.headers),B},function(B){return Ln(B)||(_n(R),B&&B.response&&(B.response.data=Ja.call(R,R.transformResponse,B.response),B.response.headers=Zr.from(B.response.headers))),Promise.reject(B)})}const rs="1.8.2",tn={};["object","boolean","number","function","string","symbol"].forEach((R,B)=>{tn[R]=function(Z){return typeof Z===R||"a"+(B<1?"n ":" ")+R}});const Xo={};tn.transitional=function(R,B,Z){function J(Se,Re){return"[Axios v"+rs+"] Transitional option '"+Se+"'"+Re+(Z?". "+Z:"")}return(Se,Re,$e)=>{if(R===!1)throw new ze(J(Re," has been removed"+(B?" in "+B:"")),ze.ERR_DEPRECATED);return B&&!Xo[Re]&&(Xo[Re]=!0,console.warn(J(Re," has been deprecated since v"+B+" and will be removed in the near future"))),R?R(Se,Re,$e):!0}},tn.spelling=function(R){return(B,Z)=>(console.warn(`${Z} is likely a misspelling of ${R}`),!0)};function ys(R,B,Z){if(typeof R!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const J=Object.keys(R);let Se=J.length;for(;Se-- >0;){const Re=J[Se],$e=B[Re];if($e){const bt=R[Re],Et=bt===void 0||$e(bt,Re,R);if(Et!==!0)throw new ze("option "+Re+" must be "+Et,ze.ERR_BAD_OPTION_VALUE);continue}if(Z!==!0)throw new ze("Unknown option "+Re,ze.ERR_BAD_OPTION)}}var hn={assertOptions:ys,validators:tn};const rn=hn.validators;class xs{constructor(B){this.defaults=B,this.interceptors={request:new ta,response:new ta}}request(B,Z){return Ne(this,null,function*(){try{return yield this._request(B,Z)}catch(J){if(J instanceof Error){let Se={};Error.captureStackTrace?Error.captureStackTrace(Se):Se=new Error;const Re=Se.stack?Se.stack.replace(/^.+\n/,""):"";try{J.stack?Re&&!String(J.stack).endsWith(Re.replace(/^.+\n.+\n/,""))&&(J.stack+=`
`+Re):J.stack=Re}catch($e){}}throw J}})}_request(B,Z){typeof B=="string"?(Z=Z||{},Z.url=B):Z=B||{},Z=$t(this.defaults,Z);const{transitional:J,paramsSerializer:Se,headers:Re}=Z;J!==void 0&&hn.assertOptions(J,{silentJSONParsing:rn.transitional(rn.boolean),forcedJSONParsing:rn.transitional(rn.boolean),clarifyTimeoutError:rn.transitional(rn.boolean)},!1),Se!=null&&(ne.isFunction(Se)?Z.paramsSerializer={serialize:Se}:hn.assertOptions(Se,{encode:rn.function,serialize:rn.function},!0)),Z.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?Z.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:Z.allowAbsoluteUrls=!0),hn.assertOptions(Z,{baseUrl:rn.spelling("baseURL"),withXsrfToken:rn.spelling("withXSRFToken")},!0),Z.method=(Z.method||this.defaults.method||"get").toLowerCase();let $e=Re&&ne.merge(Re.common,Re[Z.method]);Re&&ne.forEach(["delete","get","head","post","put","patch","common"],Xt=>{delete Re[Xt]}),Z.headers=Zr.concat($e,Re);const bt=[];let Et=!0;this.interceptors.request.forEach(function(Xt){typeof Xt.runWhen=="function"&&Xt.runWhen(Z)===!1||(Et=Et&&Xt.synchronous,bt.unshift(Xt.fulfilled,Xt.rejected))});const vt=[];this.interceptors.response.forEach(function(Xt){vt.push(Xt.fulfilled,Xt.rejected)});let Tt,Bt=0,qr;if(!Et){const Xt=[Xi.bind(this),void 0];for(Xt.unshift.apply(Xt,bt),Xt.push.apply(Xt,vt),qr=Xt.length,Tt=Promise.resolve(Z);Bt<qr;)Tt=Tt.then(Xt[Bt++],Xt[Bt++]);return Tt}qr=bt.length;let or=Z;for(Bt=0;Bt<qr;){const Xt=bt[Bt++],Mt=bt[Bt++];try{or=Xt(or)}catch(_a){Mt.call(this,_a);break}}try{Tt=Xi.call(this,or)}catch(Xt){return Promise.reject(Xt)}for(Bt=0,qr=vt.length;Bt<qr;)Tt=Tt.then(vt[Bt++],vt[Bt++]);return Tt}getUri(B){B=$t(this.defaults,B);const Z=Rt(B.baseURL,B.url,B.allowAbsoluteUrls);return cr(Z,B.params,B.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(R){xs.prototype[R]=function(B,Z){return this.request($t(Z||{},{method:R,url:B,data:(Z||{}).data}))}}),ne.forEach(["post","put","patch"],function(R){function B(Z){return function(J,Se,Re){return this.request($t(Re||{},{method:R,headers:Z?{"Content-Type":"multipart/form-data"}:{},url:J,data:Se}))}}xs.prototype[R]=B(),xs.prototype[R+"Form"]=B(!0)});var po=xs;class Un{constructor(B){if(typeof B!="function")throw new TypeError("executor must be a function.");let Z;this.promise=new Promise(function(Se){Z=Se});const J=this;this.promise.then(Se=>{if(!J._listeners)return;let Re=J._listeners.length;for(;Re-- >0;)J._listeners[Re](Se);J._listeners=null}),this.promise.then=Se=>{let Re;const $e=new Promise(bt=>{J.subscribe(bt),Re=bt}).then(Se);return $e.cancel=function(){J.unsubscribe(Re)},$e},B(function(Se,Re,$e){J.reason||(J.reason=new sa(Se,Re,$e),Z(J.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(B){if(this.reason){B(this.reason);return}this._listeners?this._listeners.push(B):this._listeners=[B]}unsubscribe(B){if(!this._listeners)return;const Z=this._listeners.indexOf(B);Z!==-1&&this._listeners.splice(Z,1)}toAbortSignal(){const B=new AbortController,Z=J=>{B.abort(J)};return this.subscribe(Z),B.signal.unsubscribe=()=>this.unsubscribe(Z),B.signal}static source(){let B;return{token:new Un(function(Z){B=Z}),cancel:B}}}var yo=Un;function Zi(R){return function(B){return R.apply(null,B)}}function Ma(R){return ne.isObject(R)&&R.isAxiosError===!0}const mn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mn).forEach(([R,B])=>{mn[B]=R});var Da=mn;function Gs(R){const B=new po(R),Z=e(po.prototype.request,B);return ne.extend(Z,po.prototype,B,{allOwnKeys:!0}),ne.extend(Z,B,null,{allOwnKeys:!0}),Z.create=function(J){return Gs($t(R,J))},Z}const Ir=Gs(Qt);return Ir.Axios=po,Ir.CanceledError=sa,Ir.CancelToken=yo,Ir.isCancel=Ln,Ir.VERSION=rs,Ir.toFormData=mt,Ir.AxiosError=ze,Ir.Cancel=Ir.CanceledError,Ir.all=function(R){return Promise.all(R)},Ir.spread=Zi,Ir.isAxiosError=Ma,Ir.mergeConfig=$t,Ir.AxiosHeaders=Zr,Ir.formToJSON=R=>Ge(ne.isHTMLForm(R)?new FormData(R):R),Ir.getAdapter=Qi.getAdapter,Ir.HttpStatusCode=Da,Ir.default=Ir,Tg=Ir,Tg}var C1;function $3(){if(C1)return Do;C1=1;var e=Do&&Do.__assign||function(){return e=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)};Object.defineProperty(Do,"__esModule",{value:!0}),Do.getRequestHeaders=Do.getAxiosClient=void 0;var r=bS();function t(o,l,c,u,f){var m=r.default.create({baseURL:o,headers:s(l,u,c,o,f),withCredentials:!0});return m.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),l&&u&&c&&(p.headers.Authorization="".concat(u," ").concat(c())),p}),m}Do.getAxiosClient=t;function s(o,l,c,u,f){o===void 0&&(o=!1);var m={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return o&&l&&c&&(m.Authorization="".concat(l," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(u&&u!==window.location.origin||(m["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(m["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},m),f!=null?f:{})}return Do.getRequestHeaders=s,Do}var $1;function E3(){if($1)return Os;$1=1;var e=Os&&Os.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(l[m]=c[m])}return l},e.apply(this,arguments)},r=Os&&Os.__awaiter||function(l,c,u,f){function m(p){return p instanceof u?p:new u(function(_){_(p)})}return new(u||(u=Promise))(function(p,_){function j($){try{T(f.next($))}catch(O){_(O)}}function C($){try{T(f.throw($))}catch(O){_(O)}}function T($){$.done?p($.value):m($.value).then(j,C)}T((f=f.apply(l,c||[])).next())})},t=Os&&Os.__generator||function(l,c){var u={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,m,p,_;return _={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function j(T){return function($){return C([T,$])}}function C(T){if(f)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(u=0)),u;)try{if(f=1,m&&(p=T[0]&2?m.return:T[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,T[1])).done)return p;switch(m=0,p&&(T=[T[0]&2,p.value]),T[0]){case 0:case 1:p=T;break;case 4:return u.label++,{value:T[1],done:!1};case 5:u.label++,m=T[1],T=[0];continue;case 7:T=u.ops.pop(),u.trys.pop();continue;default:if(p=u.trys,!(p=p.length>0&&p[p.length-1])&&(T[0]===6||T[0]===2)){u=0;continue}if(T[0]===3&&(!p||T[1]>p[0]&&T[1]<p[3])){u.label=T[1];break}if(T[0]===6&&u.label<p[1]){u.label=p[1],p=T;break}if(p&&u.label<p[2]){u.label=p[2],u.ops.push(T);break}p[2]&&u.ops.pop(),u.trys.pop();continue}T=c.call(l,u)}catch($){T=[6,$],m=0}finally{f=p=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}};Object.defineProperty(Os,"__esModule",{value:!0}),Os.FrappeFileUpload=void 0;var s=$3(),o=function(){function l(c,u,f,m,p,_){this.appURL=c,this.axios=u,this.useToken=f!=null?f:!1,this.token=m,this.tokenType=p,this.customHeaders=_}return l.prototype.uploadFile=function(c,u,f,m){return m===void 0&&(m="upload_file"),r(this,void 0,void 0,function(){var p,_,j,C,T,$,O,P;return t(this,function(q){return p=new FormData,c&&p.append("file",c,c.name),_=u.isPrivate,j=u.folder,C=u.file_url,T=u.doctype,$=u.docname,O=u.fieldname,P=u.otherData,_&&p.append("is_private","1"),j&&p.append("folder",j),C&&p.append("file_url",C),T&&$&&(p.append("doctype",T),p.append("docname",$),O&&p.append("fieldname",O)),P&&Object.keys(P).forEach(function(H){var M=P[H];p.append(H,M)}),[2,this.axios.post("/api/method/".concat(m),p,{onUploadProgress:function(H){f&&f(H.loaded,H.total,H)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(H){var M,K;throw e(e({},H.response.data),{httpStatus:H.response.status,httpStatusText:H.response.statusText,message:(M=H.response.data.message)!==null&&M!==void 0?M:"There was an error while uploading the file.",exception:(K=H.response.data.exception)!==null&&K!==void 0?K:""})})]})})},l}();return Os.FrappeFileUpload=o,Os}var E1;function vS(){if(E1)return fu;E1=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.FrappeApp=void 0;var e=T3(),r=S3(),t=C3(),s=E3(),o=$3(),l=function(){function c(u,f,m,p){var _,j;this.url=u,this.name=m!=null?m:"FrappeApp",this.useToken=(_=f==null?void 0:f.useToken)!==null&&_!==void 0?_:!1,this.token=f==null?void 0:f.token,this.tokenType=(j=f==null?void 0:f.type)!==null&&j!==void 0?j:"Bearer",this.customHeaders=p,this.axios=(0,o.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new t.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new r.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return fu.FrappeApp=l,fu}var As={},T1;function wS(){if(T1)return As;T1=1;var e=As&&As.__assign||function(){return e=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)},r=As&&As.__awaiter||function(o,l,c,u){function f(m){return m instanceof c?m:new c(function(p){p(m)})}return new(c||(c=Promise))(function(m,p){function _(T){try{C(u.next(T))}catch($){p($)}}function j(T){try{C(u.throw(T))}catch($){p($)}}function C(T){T.done?m(T.value):f(T.value).then(_,j)}C((u=u.apply(o,l||[])).next())})},t=As&&As.__generator||function(o,l){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},u,f,m,p;return p={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function _(C){return function(T){return j([C,T])}}function j(C){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,C[0]&&(c=0)),c;)try{if(u=1,f&&(m=C[0]&2?f.return:C[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,C[1])).done)return m;switch(f=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){c.label=C[1];break}if(C[0]===6&&c.label<m[1]){c.label=m[1],m=C;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(C);break}m[2]&&c.ops.pop(),c.trys.pop();continue}C=l.call(o,c)}catch(T){C=[6,T],f=0}finally{u=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(As,"__esModule",{value:!0}),As.FrappeAuth=void 0;var s=function(){function o(l,c,u,f,m){this.appURL=l,this.axios=c,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=m}return o.prototype.loginWithUsernamePassword=function(l){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,this.axios.post("/api/method/login",{usr:l.username,pwd:l.password,otp:l.otp,tmp_id:l.tmp_id,device:l.device}).then(function(u){return u.data}).catch(function(u){var f,m;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(m=u.response.data.exception)!==null&&m!==void 0?m:""})})]})})},o.prototype.getLoggedInUser=function(){return r(this,void 0,void 0,function(){return t(this,function(l){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var u;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(u=c.response.data.exception)!==null&&u!==void 0?u:""})})]})})},o.prototype.logout=function(){return r(this,void 0,void 0,function(){return t(this,function(l){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var u,f;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(u=c.response.data.message)!==null&&u!==void 0?u:"There was an error while logging out",exception:(f=c.response.data.exception)!==null&&f!==void 0?f:""})})]})})},o.prototype.forgetPassword=function(l){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:l}).then(function(){}).catch(function(u){var f,m;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(m=u.response.data.exception)!==null&&m!==void 0?m:""})})]})})},o}();return As.FrappeAuth=s,As}var O1;function T3(){return O1||(O1=1,function(e){var r=_c&&_c.__createBinding||(Object.create?function(s,o,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(o,l);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(s,c,u)}:function(s,o,l,c){c===void 0&&(c=l),s[c]=o[l]}),t=_c&&_c.__exportStar||function(s,o){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&r(o,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),t(vS(),e),t(wS(),e),t(C3(),e),t(E3(),e),t(S3(),e)}(_c)),_c}var jS=T3(),A1={exports:{}},Og={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function NS(){if(R1)return Og;R1=1;var e=Nt;function r(_,j){return _===j&&(_!==0||1/_===1/j)||_!==_&&j!==j}var t=typeof Object.is=="function"?Object.is:r,s=e.useState,o=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(_,j){var C=j(),T=s({inst:{value:C,getSnapshot:j}}),$=T[0].inst,O=T[1];return l(function(){$.value=C,$.getSnapshot=j,f($)&&O({inst:$})},[_,C,j]),o(function(){return f($)&&O({inst:$}),_(function(){f($)&&O({inst:$})})},[_]),c(C),C}function f(_){var j=_.getSnapshot;_=_.value;try{var C=j();return!t(_,C)}catch(T){return!0}}function m(_,j){return j()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Og.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Og}var P1;function kS(){return P1||(P1=1,A1.exports=NS()),A1.exports}kS();const _S=0,SS=1,CS=2;var M1=Object.prototype.hasOwnProperty;function bp(e,r){var t,s;if(e===r)return!0;if(e&&r&&(t=e.constructor)===r.constructor){if(t===Date)return e.getTime()===r.getTime();if(t===RegExp)return e.toString()===r.toString();if(t===Array){if((s=e.length)===r.length)for(;s--&&bp(e[s],r[s]););return s===-1}if(!t||typeof e=="object"){s=0;for(t in e)if(M1.call(e,t)&&++s&&!M1.call(r,t)||!(t in r)||!bp(e[t],r[t]))return!1;return Object.keys(r).length===s}}return e!==e&&r!==r}const Ti=new WeakMap,Ii=()=>{},Xn=Ii(),Qf=Object,Us=e=>e===Xn,Oi=e=>typeof e=="function",Cl=(e,r)=>Y(Y({},e),r),$S=e=>Oi(e.then),Ag={},yf={},O3="undefined",mh=typeof window!=O3,vp=typeof document!=O3,ES=mh&&"Deno"in window,TS=(e,r)=>{const t=Ti.get(e);return[()=>!Us(r)&&e.get(r)||Ag,s=>{if(!Us(r)){const o=e.get(r);r in yf||(yf[r]=o),t[5](r,Cl(o,s),o||Ag)}},t[6],()=>!Us(r)&&r in yf?yf[r]:!Us(r)&&e.get(r)||Ag]};let wp=!0;const OS=()=>wp,[jp,Np]=mh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ii,Ii],AS=()=>{const e=vp&&document.visibilityState;return Us(e)||e!=="hidden"},RS=e=>(vp&&document.addEventListener("visibilitychange",e),jp("focus",e),()=>{vp&&document.removeEventListener("visibilitychange",e),Np("focus",e)}),PS=e=>{const r=()=>{wp=!0,e()},t=()=>{wp=!1};return jp("online",r),jp("offline",t),()=>{Np("online",r),Np("offline",t)}},MS={isOnline:OS,isVisible:AS},DS={initFocus:RS,initReconnect:PS};Nt.useId;const Ey=!mh||ES,IS=Ey?k.useEffect:k.useLayoutEffect,Rg=typeof navigator<"u"&&navigator.connection,D1=!Ey&&Rg&&(["slow-2g","2g"].includes(Rg.effectiveType)||Rg.saveData),xf=new WeakMap,Pg=(e,r)=>Qf.prototype.toString.call(e)===`[object ${r}]`;let LS=0;const kp=e=>{const r=typeof e,t=Pg(e,"Date"),s=Pg(e,"RegExp"),o=Pg(e,"Object");let l,c;if(Qf(e)===e&&!t&&!s){if(l=xf.get(e),l)return l;if(l=++LS+"~",xf.set(e,l),Array.isArray(e)){for(l="@",c=0;c<e.length;c++)l+=kp(e[c])+",";xf.set(e,l)}if(o){l="#";const u=Qf.keys(e).sort();for(;!Us(c=u.pop());)Us(e[c])||(l+=c+":"+kp(e[c])+",");xf.set(e,l)}}else l=t?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return l},A3=e=>{if(Oi(e))try{e=e()}catch(t){e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?kp(e):"",[e,r]};let US=0;const I1=()=>++US;function FS(...e){return Ne(this,null,function*(){const[r,t,s,o]=e,l=Cl({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let c=l.populateCache;const u=l.rollbackOnError;let f=l.optimisticData;const m=j=>typeof u=="function"?u(j):u!==!1,p=l.throwOnError;if(Oi(t)){const j=t,C=[],T=r.keys();for(const $ of T)!/^\$(inf|sub)\$/.test($)&&j(r.get($)._k)&&C.push($);return Promise.all(C.map(_))}return _(t);function _(j){return Ne(this,null,function*(){const[C]=A3(j);if(!C)return;const[T,$]=TS(r,C),[O,P,q,H]=Ti.get(r),M=()=>{const ce=O[C];return(Oi(l.revalidate)?l.revalidate(T().data,j):l.revalidate!==!1)&&(delete q[C],delete H[C],ce&&ce[0])?ce[0](CS).then(()=>T().data):T().data};if(e.length<3)return M();let K=s,F;const oe=I1();P[C]=[oe,0];const fe=!Us(f),X=T(),le=X.data,he=X._c,ee=Us(he)?le:he;if(fe&&(f=Oi(f)?f(ee,le):f,$({data:f,_c:ee})),Oi(K))try{K=K(ee)}catch(ce){F=ce}if(K&&$S(K))if(K=yield K.catch(ce=>{F=ce}),oe!==P[C][0]){if(F)throw F;return K}else F&&fe&&m(F)&&(c=!0,$({data:ee,_c:Xn}));if(c&&!F)if(Oi(c)){const ce=c(K,ee);$({data:ce,error:Xn,_c:Xn})}else $({data:K,error:Xn,_c:Xn});if(P[C][1]=I1(),Promise.resolve(M()).then(()=>{$({_c:Xn})}),F){if(p)throw F;return}return K})}})}const L1=(e,r)=>{for(const t in e)e[t][0]&&e[t][0](r)},R3=(e,r)=>{if(!Ti.has(e)){const t=Cl(DS,r),s=Object.create(null),o=FS.bind(Xn,e);let l=Ii;const c=Object.create(null),u=(p,_)=>{const j=c[p]||[];return c[p]=j,j.push(_),()=>j.splice(j.indexOf(_),1)},f=(p,_,j)=>{e.set(p,_);const C=c[p];if(C)for(const T of C)T(_,j)},m=()=>{if(!Ti.has(e)&&(Ti.set(e,[s,Object.create(null),Object.create(null),Object.create(null),o,f,u]),!Ey)){const p=t.initFocus(setTimeout.bind(Xn,L1.bind(Xn,s,_S))),_=t.initReconnect(setTimeout.bind(Xn,L1.bind(Xn,s,SS)));l=()=>{p&&p(),_&&_(),Ti.delete(e)}}};return m(),[e,o,m,l]}return[e,Ti.get(e)[4]]},zS=(e,r,t,s,o)=>{const l=t.errorRetryCount,c=o.retryCount,u=~~((Math.random()+.5)*(1<<(c<8?c:8)))*t.errorRetryInterval;!Us(l)&&c>l||setTimeout(s,u,o)},BS=bp,[Ty,qS]=R3(new Map),HS=Cl({onLoadingSlow:Ii,onSuccess:Ii,onError:Ii,onErrorRetry:zS,onDiscarded:Ii,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:D1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:D1?5e3:3e3,compare:BS,isPaused:()=>!1,cache:Ty,mutate:qS,fallback:{}},MS),GS=(e,r)=>{const t=Cl(e,r);if(r){const{use:s,fallback:o}=e,{use:l,fallback:c}=r;s&&l&&(t.use=s.concat(l)),o&&c&&(t.fallback=Cl(o,c))}return t},U1=k.createContext({}),VS=e=>{const{value:r}=e,t=k.useContext(U1),s=Oi(r),o=k.useMemo(()=>s?r(t):r,[s,t,r]),l=k.useMemo(()=>s?o:GS(t,o),[s,t,o]),c=o&&o.provider,u=k.useRef(Xn);c&&!u.current&&(u.current=R3(c(l.cache||Ty),o));const f=u.current;return f&&(l.cache=f[0],l.mutate=f[1]),IS(()=>{if(f)return f[2]&&f[2](),f[3]},[]),k.createElement(U1.Provider,Cl(e,{value:l}))},KS="$inf$",P3=mh&&window.__SWR_DEVTOOLS_USE__,WS=P3?window.__SWR_DEVTOOLS_USE__:[],YS=()=>{P3&&(window.__SWR_DEVTOOLS_REACT__=Nt)},QS=e=>(r,t,s)=>e(r,t&&((...o)=>{const[l]=A3(r),[,,,c]=Ti.get(Ty);if(l.startsWith(KS))return t(...o);const u=c[l];return Us(u)?t(...o):(delete c[l],u)}),s);WS.concat(QS);YS();Nt.use;const XS=Qf.defineProperty(VS,"defaultValue",{value:HS});Promise.resolve();const co=Object.create(null);co.open="0";co.close="1";co.ping="2";co.pong="3";co.message="4";co.upgrade="5";co.noop="6";const If=Object.create(null);Object.keys(co).forEach(e=>{If[co[e]]=e});const _p={type:"error",data:"parser error"},M3=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",D3=typeof ArrayBuffer=="function",I3=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Oy=({type:e,data:r},t,s)=>M3&&r instanceof Blob?t?s(r):F1(r,s):D3&&(r instanceof ArrayBuffer||I3(r))?t?s(r):F1(new Blob([r]),s):s(co[e]+(r||"")),F1=(e,r)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];r("b"+(s||""))},t.readAsDataURL(e)};function z1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Mg;function ZS(e,r){if(M3&&e.data instanceof Blob)return e.data.arrayBuffer().then(z1).then(r);if(D3&&(e.data instanceof ArrayBuffer||I3(e.data)))return r(z1(e.data));Oy(e,!1,t=>{Mg||(Mg=new TextEncoder),r(Mg.encode(t))})}const B1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<B1.length;e++)yu[B1.charCodeAt(e)]=e;const JS=e=>{let r=e.length*.75,t=e.length,s,o=0,l,c,u,f;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);const m=new ArrayBuffer(r),p=new Uint8Array(m);for(s=0;s<t;s+=4)l=yu[e.charCodeAt(s)],c=yu[e.charCodeAt(s+1)],u=yu[e.charCodeAt(s+2)],f=yu[e.charCodeAt(s+3)],p[o++]=l<<2|c>>4,p[o++]=(c&15)<<4|u>>2,p[o++]=(u&3)<<6|f&63;return m},e5=typeof ArrayBuffer=="function",Ay=(e,r)=>{if(typeof e!="string")return{type:"message",data:L3(e,r)};const t=e.charAt(0);return t==="b"?{type:"message",data:t5(e.substring(1),r)}:If[t]?e.length>1?{type:If[t],data:e.substring(1)}:{type:If[t]}:_p},t5=(e,r)=>{if(e5){const t=JS(e);return L3(t,r)}else return{base64:!0,data:e}},L3=(e,r)=>{switch(r){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},U3="",r5=(e,r)=>{const t=e.length,s=new Array(t);let o=0;e.forEach((l,c)=>{Oy(l,!1,u=>{s[c]=u,++o===t&&r(s.join(U3))})})},a5=(e,r)=>{const t=e.split(U3),s=[];for(let o=0;o<t.length;o++){const l=Ay(t[o],r);if(s.push(l),l.type==="error")break}return s};function n5(){return new TransformStream({transform(e,r){ZS(e,t=>{const s=t.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(o[0]|=128),r.enqueue(o),r.enqueue(t)})}})}let Dg;function bf(e){return e.reduce((r,t)=>r+t.length,0)}function vf(e,r){if(e[0].length===r)return e.shift();const t=new Uint8Array(r);let s=0;for(let o=0;o<r;o++)t[o]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),t}function s5(e,r){Dg||(Dg=new TextDecoder);const t=[];let s=0,o=-1,l=!1;return new TransformStream({transform(c,u){for(t.push(c);;){if(s===0){if(bf(t)<1)break;const f=vf(t,1);l=(f[0]&128)===128,o=f[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(bf(t)<2)break;const f=vf(t,2);o=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(bf(t)<8)break;const f=vf(t,8),m=new DataView(f.buffer,f.byteOffset,f.length),p=m.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(_p);break}o=p*Math.pow(2,32)+m.getUint32(4),s=3}else{if(bf(t)<o)break;const f=vf(t,o);u.enqueue(Ay(l?f:Dg.decode(f),r)),s=0}if(o===0||o>e){u.enqueue(_p);break}}}})}const F3=4;function Ta(e){if(e)return o5(e)}function o5(e){for(var r in Ta.prototype)e[r]=Ta.prototype[r];return e}Ta.prototype.on=Ta.prototype.addEventListener=function(e,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(r),this};Ta.prototype.once=function(e,r){function t(){this.off(e,t),r.apply(this,arguments)}return t.fn=r,this.on(e,t),this};Ta.prototype.off=Ta.prototype.removeListener=Ta.prototype.removeAllListeners=Ta.prototype.removeEventListener=function(e,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,o=0;o<t.length;o++)if(s=t[o],s===r||s.fn===r){t.splice(o,1);break}return t.length===0&&delete this._callbacks["$"+e],this};Ta.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+e],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,o=t.length;s<o;++s)t[s].apply(this,r)}return this};Ta.prototype.emitReserved=Ta.prototype.emit;Ta.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ta.prototype.hasListeners=function(e){return!!this.listeners(e).length};const hs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function z3(e,...r){return r.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{})}const i5=hs.setTimeout,l5=hs.clearTimeout;function gh(e,r){r.useNativeTimers?(e.setTimeoutFn=i5.bind(hs),e.clearTimeoutFn=l5.bind(hs)):(e.setTimeoutFn=hs.setTimeout.bind(hs),e.clearTimeoutFn=hs.clearTimeout.bind(hs))}const c5=1.33;function d5(e){return typeof e=="string"?u5(e):Math.ceil((e.byteLength||e.size)*c5)}function u5(e){let r=0,t=0;for(let s=0,o=e.length;s<o;s++)r=e.charCodeAt(s),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(s++,t+=4);return t}function f5(e){let r="";for(let t in e)e.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r}function h5(e){let r={},t=e.split("&");for(let s=0,o=t.length;s<o;s++){let l=t[s].split("=");r[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return r}class m5 extends Error{constructor(r,t,s){super(r),this.description=t,this.context=s,this.type="TransportError"}}class Ry extends Ta{constructor(r){super(),this.writable=!1,gh(this,r),this.opts=r,this.query=r.query,this.socket=r.socket}onError(r,t,s){return super.emitReserved("error",new m5(r,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=Ay(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const t=f5(r);return t.length?"?"+t:""}}const B3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Sp=64,g5={};let q1=0,wf=0,H1;function G1(e){let r="";do r=B3[e%Sp]+r,e=Math.floor(e/Sp);while(e>0);return r}function q3(){const e=G1(+new Date);return e!==H1?(q1=0,H1=e):e+"."+G1(q1++)}for(;wf<Sp;wf++)g5[B3[wf]]=wf;let H3=!1;try{H3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const p5=H3;function G3(e){const r=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||p5))return new XMLHttpRequest}catch(t){}if(!r)try{return new hs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}function y5(){}const x5=function(){return new G3({xdomain:!1}).responseType!=null}();class b5 extends Ry{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let o=location.port;o||(o=s?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||o!==r.port}const t=r&&r.forceBase64;this.supportsBinary=x5&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};a5(r,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,r5(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=q3()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}request(r={}){return Object.assign(r,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Lc(this.uri(),r)}doWrite(r,t){const s=this.request({method:"POST",data:r});s.on("success",t),s.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=r}}let Lc=class Lf extends Ta{constructor(r,t){super(),gh(this,t),this.opts=t,this.method=t.method||"GET",this.uri=r,this.data=t.data!==void 0?t.data:null,this.create()}create(){var r;const t=z3(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const s=this.xhr=new G3(t);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch(o){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{s.setRequestHeader("Accept","*/*")}catch(o){}(r=this.opts.cookieJar)===null||r===void 0||r.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Lf.requestsCount++,Lf.requests[this.index]=this)}onError(r){this.emitReserved("error",r,this.xhr),this.cleanup(!0)}cleanup(r){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=y5,r)try{this.xhr.abort()}catch(t){}typeof document<"u"&&delete Lf.requests[this.index],this.xhr=null}}onLoad(){const r=this.xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Lc.requestsCount=0;Lc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",V1);else if(typeof addEventListener=="function"){const e="onpagehide"in hs?"pagehide":"unload";addEventListener(e,V1,!1)}}function V1(){for(let e in Lc.requests)Lc.requests.hasOwnProperty(e)&&Lc.requests[e].abort()}const Py=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),jf=hs.WebSocket||hs.MozWebSocket,K1=!0,v5="arraybuffer",W1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class w5 extends Ry{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const r=this.uri(),t=this.opts.protocols,s=W1?{}:z3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=K1&&!W1?t?new jf(r,t):new jf(r):new jf(r,t,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const s=r[t],o=t===r.length-1;Oy(s,this.supportsBinary,l=>{try{K1&&this.ws.send(l)}catch(c){}o&&Py(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=q3()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}check(){return!!jf}}class j5 extends Ry{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(r=>{const t=s5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=r.readable.pipeThrough(t).getReader(),o=n5();o.readable.pipeTo(r.writable),this.writer=o.writable.getWriter();const l=()=>{s.read().then(({done:u,value:f})=>{u||(this.onPacket(f),l())}).catch(u=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const s=r[t],o=t===r.length-1;this.writer.write(s).then(()=>{o&&Py(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this.transport)===null||r===void 0||r.close()}}const N5={websocket:w5,webtransport:j5,polling:b5},k5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cp(e){if(e.length>2e3)throw"URI too long";const r=e,t=e.indexOf("["),s=e.indexOf("]");t!=-1&&s!=-1&&(e=e.substring(0,t)+e.substring(t,s).replace(/:/g,";")+e.substring(s,e.length));let o=k5.exec(e||""),l={},c=14;for(;c--;)l[_5[c]]=o[c]||"";return t!=-1&&s!=-1&&(l.source=r,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=S5(l,l.path),l.queryKey=C5(l,l.query),l}function S5(e,r){const t=/\/{2,9}/g,s=r.replace(t,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&s.splice(0,1),r.slice(-1)=="/"&&s.splice(s.length-1,1),s}function C5(e,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,l){o&&(t[o]=l)}),t}let V3=class Rc extends Ta{constructor(r,t={}){super(),this.binaryType=v5,this.writeBuffer=[],r&&typeof r=="object"&&(t=r,r=null),r?(r=Cp(r),t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)):t.host&&(t.hostname=Cp(t.host).host),gh(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=h5(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(r){const t=Object.assign({},this.opts.query);t.EIO=F3,t.transport=r,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new N5[r](s)}open(){let r;if(this.opts.rememberUpgrade&&Rc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch(t){this.transports.shift(),this.open();return}r.open(),this.setTransport(r)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(r){let t=this.createTransport(r),s=!1;Rc.priorWebsocketSuccess=!1;const o=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",_=>{if(!s)if(_.type==="pong"&&_.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Rc.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const j=new Error("probe error");j.transport=t.name,this.emitReserved("upgradeError",j)}}))};function l(){s||(s=!0,p(),t.close(),t=null)}const c=_=>{const j=new Error("probe error: "+_);j.transport=t.name,l(),this.emitReserved("upgradeError",j)};function u(){c("transport closed")}function f(){c("socket closed")}function m(_){t&&_.name!==t.name&&l()}const p=()=>{t.removeListener("open",o),t.removeListener("error",c),t.removeListener("close",u),this.off("close",f),this.off("upgrading",m)};t.once("open",o),t.once("error",c),t.once("close",u),this.once("close",f),this.once("upgrading",m),this.upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Rc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let r=0;const t=this.upgrades.length;for(;r<t;r++)this.probe(this.upgrades[r])}}onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),this.resetPingTimeout(),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=r.data,this.onError(t);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this.getWritablePackets();this.transport.send(r),this.prevBufferLen=r.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let t=0;t<this.writeBuffer.length;t++){const s=this.writeBuffer[t].data;if(s&&(r+=d5(s)),t>0&&r>this.maxPayload)return this.writeBuffer.slice(0,t);r+=2}return this.writeBuffer}write(r,t,s){return this.sendPacket("message",r,t,s),this}send(r,t,s){return this.sendPacket("message",r,t,s),this}sendPacket(r,t,s,o){if(typeof t=="function"&&(o=t,t=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:r,data:t,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const r=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),r()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():r()}):this.upgrading?s():r()),this}onError(r){Rc.priorWebsocketSuccess=!1,this.emitReserved("error",r),this.onClose("transport error",r)}onClose(r,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",r,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(r){const t=[];let s=0;const o=r.length;for(;s<o;s++)~this.transports.indexOf(r[s])&&t.push(r[s]);return t}};V3.protocol=F3;function $5(e,r="",t){let s=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),s=Cp(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+r,s.href=s.protocol+"://"+o+(t&&t.port===s.port?"":":"+s.port),s}const E5=typeof ArrayBuffer=="function",T5=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,K3=Object.prototype.toString,O5=typeof Blob=="function"||typeof Blob<"u"&&K3.call(Blob)==="[object BlobConstructor]",A5=typeof File=="function"||typeof File<"u"&&K3.call(File)==="[object FileConstructor]";function My(e){return E5&&(e instanceof ArrayBuffer||T5(e))||O5&&e instanceof Blob||A5&&e instanceof File}function Uf(e,r){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,s=e.length;t<s;t++)if(Uf(e[t]))return!0;return!1}if(My(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Uf(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Uf(e[t]))return!0;return!1}function R5(e){const r=[],t=e.data,s=e;return s.data=$p(t,r),s.attachments=r.length,{packet:s,buffers:r}}function $p(e,r){if(!e)return e;if(My(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let s=0;s<e.length;s++)t[s]=$p(e[s],r);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=$p(e[s],r));return t}return e}function P5(e,r){return e.data=Ep(e.data,r),delete e.attachments,e}function Ep(e,r){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<r.length)return r[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=Ep(e[t],r);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=Ep(e[t],r));return e}const M5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],D5=5;var Or;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Or||(Or={}));class I5{constructor(r){this.replacer=r}encode(r){return(r.type===Or.EVENT||r.type===Or.ACK)&&Uf(r)?this.encodeAsBinary({type:r.type===Or.EVENT?Or.BINARY_EVENT:Or.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t=""+r.type;return(r.type===Or.BINARY_EVENT||r.type===Or.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t+=r.nsp+","),r.id!=null&&(t+=r.id),r.data!=null&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=R5(r),s=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(s),o}}function Y1(e){return Object.prototype.toString.call(e)==="[object Object]"}class Dy extends Ta{constructor(r){super(),this.reviver=r}add(r){let t;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const s=t.type===Or.BINARY_EVENT;s||t.type===Or.BINARY_ACK?(t.type=s?Or.EVENT:Or.ACK,this.reconstructor=new L5(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(My(r)||r.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let t=0;const s={type:Number(r.charAt(0))};if(Or[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Or.BINARY_EVENT||s.type===Or.BINARY_ACK){const l=t+1;for(;r.charAt(++t)!=="-"&&t!=r.length;);const c=r.substring(l,t);if(c!=Number(c)||r.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(r.charAt(t+1)==="/"){const l=t+1;for(;++t&&!(r.charAt(t)===","||t===r.length););s.nsp=r.substring(l,t)}else s.nsp="/";const o=r.charAt(t+1);if(o!==""&&Number(o)==o){const l=t+1;for(;++t;){const c=r.charAt(t);if(c==null||Number(c)!=c){--t;break}if(t===r.length)break}s.id=Number(r.substring(l,t+1))}if(r.charAt(++t)){const l=this.tryParse(r.substr(t));if(Dy.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(r){try{return JSON.parse(r,this.reviver)}catch(t){return!1}}static isPayloadValid(r,t){switch(r){case Or.CONNECT:return Y1(t);case Or.DISCONNECT:return t===void 0;case Or.CONNECT_ERROR:return typeof t=="string"||Y1(t);case Or.EVENT:case Or.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&M5.indexOf(t[0])===-1);case Or.ACK:case Or.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class L5{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=P5(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const U5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Dy,Encoder:I5,get PacketType(){return Or},protocol:D5},Symbol.toStringTag,{value:"Module"}));function Ls(e,r,t){return e.on(r,t),function(){e.off(r,t)}}const F5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class W3 extends Ta{constructor(r,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[Ls(r,"open",this.onopen.bind(this)),Ls(r,"packet",this.onpacket.bind(this)),Ls(r,"error",this.onerror.bind(this)),Ls(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){if(F5.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:Or.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const l=this.ids++,c=t.pop();this._registerAckCallback(l,c),s.id=l}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(r,t){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[r]=t;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},o);this.acks[r]=(...c)=>{this.io.clearTimeoutFn(l),t.apply(this,[null,...c])}}emitWithAck(r,...t){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((o,l)=>{t.push((c,u)=>s?c?l(c):o(u):o(c)),this.emit(r,...t)})}_addToQueue(r){let t;typeof r[r.length-1]=="function"&&(t=r.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((o,...l)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(o)):(this._queue.shift(),t&&t(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Or.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t)}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Or.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Or.EVENT:case Or.BINARY_EVENT:this.onevent(r);break;case Or.ACK:case Or.BINARY_ACK:this.onack(r);break;case Or.DISCONNECT:this.ondisconnect();break;case Or.CONNECT_ERROR:this.destroy();const t=new Error(r.data.message);t.data=r.data.data,this.emitReserved("connect_error",t);break}}onevent(r){const t=r.data||[];r.id!=null&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let s=!1;return function(...o){s||(s=!0,t.packet({type:Or.ACK,id:r,data:o}))}}onack(r){const t=this.acks[r.id];typeof t=="function"&&(t.apply(this,r.data),delete this.acks[r.id])}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Or.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(r===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(r===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,r.data)}}}function sd(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}sd.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*e);e=(Math.floor(r*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0};sd.prototype.reset=function(){this.attempts=0};sd.prototype.setMin=function(e){this.ms=e};sd.prototype.setMax=function(e){this.max=e};sd.prototype.setJitter=function(e){this.jitter=e};class Tp extends Ta{constructor(r,t){var s;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t=r,r=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,gh(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new sd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=r;const o=t.parser||U5;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t=this.backoff)===null||t===void 0||t.setMin(r),this)}randomizationFactor(r){var t;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t=this.backoff)===null||t===void 0||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t=this.backoff)===null||t===void 0||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new V3(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=Ls(t,"open",function(){s.onopen(),r&&r()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),r?r(u):this.maybeReconnectOnOpen()},c=Ls(t,"error",l);if(this._timeout!==!1){const u=this._timeout,f=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),t.close()},u);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(o),this.subs.push(c),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(Ls(r,"ping",this.onping.bind(this)),Ls(r,"data",this.ondata.bind(this)),Ls(r,"error",this.onerror.bind(this)),Ls(r,"close",this.onclose.bind(this)),Ls(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){Py(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let s=this.nsps[r];return s?this._autoConnect&&!s.active&&s.connect():(s=new W3(this,r,t),this.nsps[r]=s),s}_destroy(r){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let s=0;s<t.length;s++)this.engine.write(t[s],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(o=>{o?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",o)):r.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const hu={};function Ff(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};const t=$5(e,r.path||"/socket.io"),s=t.source,o=t.id,l=t.path,c=hu[o]&&l in hu[o].nsps,u=r.forceNew||r["force new connection"]||r.multiplex===!1||c;let f;return u?f=new Tp(s,r):(hu[o]||(hu[o]=new Tp(s,r)),f=hu[o]),t.query&&!r.query&&(r.query=t.queryKey),f.socket(t.path,r)}Object.assign(Ff,{Manager:Tp,Socket:W3,io:Ff,connect:Ff});class z5{constructor(r,t,s,o){gl(this,"socket_port"),gl(this,"host"),gl(this,"port"),gl(this,"protocol"),gl(this,"url"),gl(this,"site_name"),gl(this,"socket");var l,c,u,f;if(this.socket_port=s!=null?s:"9000",this.host=(l=window.location)==null?void 0:l.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((u=window.location)==null?void 0:u.protocol)==="https:"?"https":"http",r){let m=new URL(r);m.port="",s?(m.port=s,this.url=m.toString()):this.url=m.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;t&&(this.url=`${this.url}${t}`),this.site_name=t,this.socket=Ff(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:o&&o.useToken===!0?{Authorization:`${o.type} ${(f=o.token)==null?void 0:f.call(o)}`}:{}})}}const B5=k.createContext(null),q5=({url:e="",tokenParams:r,socketPort:t,swrConfig:s,siteName:o,enableSocket:l=!0,children:c,customHeaders:u})=>{const f=k.useMemo(()=>{const m=new jS.FrappeApp(e,r,void 0,u);return{url:e,tokenParams:r,app:m,auth:m.auth(),db:m.db(),call:m.call(),file:m.file(),socket:l?new z5(e,o,t,r).socket:void 0,enableSocket:l,socketPort:t}},[e,r,t,l,u]);return a.jsx(B5.Provider,{value:f,children:a.jsx(XS,{value:s,children:c})})};function H5(){const[e,r]=k.useState([]),[t,s]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{Ne(null,null,function*(){try{s(!0);const u=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_profiles_for_user",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),f=yield u.json();if(u.ok&&f.message)r(f.message);else throw new Error(f._server_messages||"Failed to fetch POS Profiles")}catch(u){console.error("Error loading POS Profiles:",u),l(u instanceof Error?u.message:"Unknown error")}finally{s(!1)}})},[]),{profiles:e,loading:t,error:o}}function Za(){const[e,r]=k.useState(null),[t,s]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{Ne(null,null,function*(){try{s(!0);const u=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),f=yield u.json();if(u.ok&&f.message)r(f.message);else throw new Error(f._server_messages||"Failed to fetch POS details")}catch(u){console.error("Error loading POS details:",u),l(u instanceof Error?u.message:"Unknown error")}finally{s(!1)}})},[]),{posDetails:e,loading:t,error:o}}const Y3=k.createContext(void 0);function G5({children:e}){const[r,t]=k.useState("light"),[s,o]=k.useState(!1);k.useEffect(()=>{o(!0)},[]),k.useEffect(()=>{if(!s)return;const c=localStorage.getItem("theme");c?t(c):window.matchMedia("(prefers-color-scheme: dark)").matches&&t("dark")},[s]),k.useEffect(()=>{s&&(localStorage.setItem("theme",r),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[r,s]);const l=()=>{t(r==="light"?"dark":"light")};return a.jsx(Y3.Provider,{value:{theme:r,setTheme:t,toggleTheme:l},children:e})}function ph(){const e=k.useContext(Y3);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,t,s)=>s?s.toUpperCase():t.toLowerCase()),Q1=e=>{const r=K5(e);return r.charAt(0).toUpperCase()+r.slice(1)},Q3=(...e)=>e.filter((r,t,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===t).join(" ").trim(),W5=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=k.forwardRef((m,f)=>{var p=m,{color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c}=p,u=hr(p,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return k.createElement("svg",Y(Y(je(Y({ref:f},Y5),{width:r,height:r,stroke:e,strokeWidth:s?Number(t)*24/Number(r):t,className:Q3("lucide",o)}),!l&&!W5(u)&&{"aria-hidden":"true"}),u),[...c.map(([_,j])=>k.createElement(_,j)),...Array.isArray(l)?l:[l]])});/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(e,r)=>{const t=k.forwardRef((c,l)=>{var u=c,{className:s}=u,o=hr(u,["className"]);return k.createElement(Q5,Y({ref:l,iconNode:r,className:Q3(`lucide-${V5(Q1(e))}`,`lucide-${e}`,s)},o))});return t.displayName=Q1(e),t};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],X1=Ct("activity",X5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zs=Ct("arrow-left",Z5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Iy=Ct("banknote",J5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Op=Ct("barcode",eC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],rC=Ct("boxes",tC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],nC=Ct("box",aC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],xu=Ct("building",sC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Z1=Ct("calculator",oC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yh=Ct("calendar",iC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ly=Ct("camera",lC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Mc=Ct("chart-column",cC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],J1=Ct("chart-pie",dC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Uc=Ct("check",uC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ap=Ct("chevron-down",fC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],X3=Ct("chevron-right",hC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fi=Ct("circle-alert",mC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uo=Ct("circle-check-big",gC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yC=Ct("circle-check",pC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Pc=Ct("circle-x",xC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zc=Ct("clock",bC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Dn=Ct("credit-card",vC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zi=Ct("dollar-sign",wC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Rp=Ct("download",jC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$l=Ct("eye",NC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]],Xf=Ct("file-minus",kC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],SC=Ct("file-plus",_C);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],El=Ct("file-text",CC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]],EC=Ct("flashlight",$C);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pp=Ct("funnel",TC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Z3=Ct("gift",OC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Mp=Ct("globe",AC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Zu=Ct("grid-3x3",RC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Zf=Ct("image-plus",PC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Uy=Ct("list",MC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xa=Ct("loader-circle",DC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xh=Ct("log-out",IC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],Dp=Ct("mail-plus",LC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tl=Ct("mail",UC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ju=Ct("map-pin",FC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ip=Ct("message-circle-plus",zC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Lp=Ct("message-square-plus",BC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M5 12h14",key:"1ays0h"}]],bh=Ct("minus",qC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],bu=Ct("monitor-x",HC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],vh=Ct("moon",GC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fo=Ct("package",VC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],WC=Ct("palette",KC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QC=Ct("pen",YC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],e2=Ct("pencil",XC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],JC=Ct("percent",ZC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nu=Ct("phone",e9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qo=Ct("plus",t9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Bi=Ct("printer",r9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],J3=Ct("receipt",a9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qi=Ct("refresh-cw",n9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ol=Ct("rotate-ccw",s9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fy=Ct("save",o9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],ej=Ct("scan",i9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ha=Ct("search",l9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wh=Ct("settings",c9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ku=Ct("shopping-cart",d9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],f9=Ct("smartphone",u9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],m9=Ct("sparkles",h9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Al=Ct("square-pen",g9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],zy=Ct("store",p9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jh=Ct("sun",y9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],b9=Ct("tag",x9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tj=Ct("trash-2",v9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Up=Ct("trending-down",w9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oo=Ct("trending-up",j9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_u=Ct("triangle-alert",N9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]],_9=Ct("usb",k9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t2=Ct("user-plus",S9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zn=Ct("user",C9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Li=Ct("users",$9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],T9=Ct("wallet",E9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A9=Ct("wifi-off",O9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ra=Ct("x",R9),r2=e=>{let r;const t=new Set,s=(m,p)=>{const _=typeof m=="function"?m(r):m;if(!Object.is(_,r)){const j=r;r=(p!=null?p:typeof _!="object"||_===null)?_:Object.assign({},r,_),t.forEach(C=>C(r,j))}},o=()=>r,u={setState:s,getState:o,getInitialState:()=>f,subscribe:m=>(t.add(m),()=>t.delete(m))},f=r=e(s,o,u);return u},P9=e=>e?r2(e):r2,M9=e=>e;function D9(e,r=M9){const t=Nt.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState()));return Nt.useDebugValue(t),t}const I9=e=>{const r=P9(e),t=s=>D9(r,s);return Object.assign(t,r),t},L9=e=>I9;function U9(e,r){let t;try{t=e()}catch(o){return}return{getItem:o=>{var l;const c=f=>f===null?null:JSON.parse(f,void 0),u=(l=t.getItem(o))!=null?l:null;return u instanceof Promise?u.then(c):c(u)},setItem:(o,l)=>t.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>t.removeItem(o)}}const Fp=e=>r=>{try{const t=e(r);return t instanceof Promise?t:{then(s){return Fp(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return Fp(s)(t)}}}},F9=(e,r)=>(t,s,o)=>{let l=Y({storage:U9(()=>localStorage),partialize:$=>$,version:0,merge:($,O)=>Y(Y({},O),$)},r),c=!1;const u=new Set,f=new Set;let m=l.storage;if(!m)return e((...$)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...$)},s,o);const p=()=>{const $=l.partialize(Y({},s()));return m.setItem(l.name,{state:$,version:l.version})},_=o.setState;o.setState=($,O)=>{_($,O),p()};const j=e((...$)=>{t(...$),p()},s,o);o.getInitialState=()=>j;let C;const T=()=>{var $,O;if(!m)return;c=!1,u.forEach(q=>{var H;return q((H=s())!=null?H:j)});const P=((O=l.onRehydrateStorage)==null?void 0:O.call(l,($=s())!=null?$:j))||void 0;return Fp(m.getItem.bind(m))(l.name).then(q=>{if(q)if(typeof q.version=="number"&&q.version!==l.version){if(l.migrate){const H=l.migrate(q.state,q.version);return H instanceof Promise?H.then(M=>[!0,M]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,q.state];return[!1,void 0]}).then(q=>{var H;const[M,K]=q;if(C=l.merge(K,(H=s())!=null?H:j),t(C,!0),M)return p()}).then(()=>{P==null||P(C,void 0),C=s(),c=!0,f.forEach(q=>q(C))}).catch(q=>{P==null||P(void 0,q)})};return o.persist={setOptions:$=>{l=Y(Y({},l),$),$.storage&&(m=$.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>T(),hasHydrated:()=>c,onHydrate:$=>(u.add($),()=>{u.delete($)}),onFinishHydration:$=>(f.add($),()=>{f.delete($)})},l.skipHydration||T(),C||j},z9=F9;function rj(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=rj(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function _l(){for(var e,r,t=0,s="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=rj(e))&&(s&&(s+=" "),s+=r);return s}function B9(e){if(typeof document=="undefined")return;let r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}B9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ju=e=>typeof e=="number"&&!isNaN(e),Rl=e=>typeof e=="string",Ho=e=>typeof e=="function",q9=e=>Rl(e)||Ju(e),zp=e=>Rl(e)||Ho(e)?e:null,H9=(e,r)=>e===!1||Ju(e)&&e>0?e:r,Bp=e=>k.isValidElement(e)||Rl(e)||Ho(e)||Ju(e);function G9(e,r,t=300){let{scrollHeight:s,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(r,t)})})}function V9({enter:e,exit:r,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:u,done:f,nodeRef:m,isIn:p,playToast:_}){let j=t?`${e}--${c}`:e,C=t?`${r}--${c}`:r,T=k.useRef(0);return k.useLayoutEffect(()=>{let $=m.current,O=j.split(" "),P=q=>{q.target===m.current&&(_(),$.removeEventListener("animationend",P),$.removeEventListener("animationcancel",P),T.current===0&&q.type!=="animationcancel"&&$.classList.remove(...O))};$.classList.add(...O),$.addEventListener("animationend",P),$.addEventListener("animationcancel",P)},[]),k.useEffect(()=>{let $=m.current,O=()=>{$.removeEventListener("animationend",O),s?G9($,f,o):f()};p||(u?O():(T.current=1,$.className+=` ${C}`,$.addEventListener("animationend",O)))},[p]),Nt.createElement(Nt.Fragment,null,l)}}function a2(e,r){return{content:aj(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:r}}function aj(e,r,t=!1){return k.isValidElement(e)&&!Rl(e.type)?k.cloneElement(e,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:t}):Ho(e)?e({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:t}):e}function K9({closeToast:e,theme:r,ariaLabel:t="close"}){return Nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":t},Nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function W9({delay:e,isRunning:r,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:c,progress:u,rtl:f,isIn:m,theme:p}){let _=o||c&&u===0,j={animationDuration:`${e}ms`,animationPlayState:r?"running":"paused"};c&&(j.transform=`scaleX(${u})`);let C=_l("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":f}),T=Ho(l)?l({rtl:f,type:s,defaultClassName:C}):_l(C,l),$={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{m&&t()}};return Nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${s}`}),Nt.createElement("div",Y({role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:T,style:j},$)))}var Y9=1,nj=()=>`${Y9++}`;function Q9(e,r,t){let s=1,o=0,l=[],c=[],u=r,f=new Map,m=new Set,p=q=>(m.add(q),()=>m.delete(q)),_=()=>{c=Array.from(f.values()),m.forEach(q=>q())},j=({containerId:q,toastId:H,updateId:M})=>{let K=q?q!==e:e!==1,F=f.has(H)&&M==null;return K||F},C=(q,H)=>{f.forEach(M=>{var K;(H==null||H===M.props.toastId)&&((K=M.toggle)==null||K.call(M,q))})},T=q=>{var H,M;(M=(H=q.props)==null?void 0:H.onClose)==null||M.call(H,q.removalReason),q.isActive=!1},$=q=>{if(q==null)f.forEach(T);else{let H=f.get(q);H&&T(H)}_()},O=()=>{o-=l.length,l=[]},P=q=>{var H,M;let{toastId:K,updateId:F}=q.props,oe=F==null;q.staleId&&f.delete(q.staleId),q.isActive=!0,f.set(K,q),_(),t(a2(q,oe?"added":"updated")),oe&&((M=(H=q.props).onOpen)==null||M.call(H))};return{id:e,props:u,observe:p,toggle:C,removeToast:$,toasts:f,clearQueue:O,buildToast:(q,H)=>{if(j(H))return;let{toastId:M,updateId:K,data:F,staleId:oe,delay:fe}=H,X=K==null;X&&o++;let le=je(Y(je(Y({},u),{style:u.toastStyle,key:s++}),Object.fromEntries(Object.entries(H).filter(([ee,ce])=>ce!=null))),{toastId:M,updateId:K,data:F,isIn:!1,className:zp(H.className||u.toastClassName),progressClassName:zp(H.progressClassName||u.progressClassName),autoClose:H.isLoading?!1:H9(H.autoClose,u.autoClose),closeToast(ee){f.get(M).removalReason=ee,$(M)},deleteToast(){let ee=f.get(M);if(ee!=null){if(t(a2(ee,"removed")),f.delete(M),o--,o<0&&(o=0),l.length>0){P(l.shift());return}_()}}});le.closeButton=u.closeButton,H.closeButton===!1||Bp(H.closeButton)?le.closeButton=H.closeButton:H.closeButton===!0&&(le.closeButton=Bp(u.closeButton)?u.closeButton:!0);let he={content:q,props:le,staleId:oe};u.limit&&u.limit>0&&o>u.limit&&X?l.push(he):Ju(fe)?setTimeout(()=>{P(he)},fe):P(he)},setProps(q){u=q},setToggle:(q,H)=>{let M=f.get(q);M&&(M.toggle=H)},isToastActive:q=>{var H;return(H=f.get(q))==null?void 0:H.isActive},getSnapshot:()=>c}}var jn=new Map,Su=[],qp=new Set,X9=e=>qp.forEach(r=>r(e)),sj=()=>jn.size>0;function Z9(){Su.forEach(e=>ij(e.content,e.options)),Su=[]}var J9=(e,{containerId:r})=>{var t;return(t=jn.get(r||1))==null?void 0:t.toasts.get(e)};function oj(e,r){var t;if(r)return!!((t=jn.get(r))!=null&&t.isToastActive(e));let s=!1;return jn.forEach(o=>{o.isToastActive(e)&&(s=!0)}),s}function e8(e){if(!sj()){Su=Su.filter(r=>e!=null&&r.options.toastId!==e);return}if(e==null||q9(e))jn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let r=jn.get(e.containerId);r?r.removeToast(e.id):jn.forEach(t=>{t.removeToast(e.id)})}}var t8=(e={})=>{jn.forEach(r=>{r.props.limit&&(!e.containerId||r.id===e.containerId)&&r.clearQueue()})};function ij(e,r){Bp(e)&&(sj()||Su.push({content:e,options:r}),jn.forEach(t=>{t.buildToast(e,r)}))}function r8(e){var r;(r=jn.get(e.containerId||1))==null||r.setToggle(e.id,e.fn)}function lj(e,r){jn.forEach(t=>{(r==null||!(r!=null&&r.containerId)||(r==null?void 0:r.containerId)===t.id)&&t.toggle(e,r==null?void 0:r.id)})}function a8(e){let r=e.containerId||1;return{subscribe(t){let s=Q9(r,e,X9);jn.set(r,s);let o=s.observe(t);return Z9(),()=>{o(),jn.delete(r)}},setProps(t){var s;(s=jn.get(r))==null||s.setProps(t)},getSnapshot(){var t;return(t=jn.get(r))==null?void 0:t.getSnapshot()}}}function n8(e){return qp.add(e),()=>{qp.delete(e)}}function s8(e){return e&&(Rl(e.toastId)||Ju(e.toastId))?e.toastId:nj()}function e0(e,r){return ij(e,r),r.toastId}function Nh(e,r){return je(Y({},r),{type:r&&r.type||e,toastId:s8(r)})}function kh(e){return(r,t)=>e0(r,Nh(e,t))}function Ie(e,r){return e0(e,Nh("default",r))}Ie.loading=(e,r)=>e0(e,Nh("default",Y({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},r)));function o8(e,{pending:r,error:t,success:s},o){let l;r&&(l=Rl(r)?Ie.loading(r,o):Ie.loading(r.render,Y(Y({},o),r)));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(m,p,_)=>{if(p==null){Ie.dismiss(l);return}let j=je(Y(Y({type:m},c),o),{data:_}),C=Rl(p)?{render:p}:p;return l?Ie.update(l,Y(Y({},j),C)):Ie(C.render,Y(Y({},j),C)),_},f=Ho(e)?e():e;return f.then(m=>u("success",s,m)).catch(m=>u("error",t,m)),f}Ie.promise=o8;Ie.success=kh("success");Ie.info=kh("info");Ie.error=kh("error");Ie.warning=kh("warning");Ie.warn=Ie.warning;Ie.dark=(e,r)=>e0(e,Nh("default",Y({theme:"dark"},r)));function i8(e){e8(e)}Ie.dismiss=i8;Ie.clearWaitingQueue=t8;Ie.isActive=oj;Ie.update=(e,r={})=>{let t=J9(e,r);if(t){let{props:s,content:o}=t,l=je(Y(Y({delay:100},s),r),{toastId:r.toastId||e,updateId:nj()});l.toastId!==e&&(l.staleId=e);let c=l.render||o;delete l.render,e0(c,l)}};Ie.done=e=>{Ie.update(e,{progress:1})};Ie.onChange=n8;Ie.play=e=>lj(!0,e);Ie.pause=e=>lj(!1,e);function l8(e){var r;let{subscribe:t,getSnapshot:s,setProps:o}=k.useRef(a8(e)).current;o(e);let l=(r=k.useSyncExternalStore(t,s,s))==null?void 0:r.slice();function c(u){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:p}=m.props;f.has(p)||f.set(p,[]),f.get(p).push(m)}),Array.from(f,m=>u(m[0],m[1]))}return{getToastToRender:c,isToastActive:oj,count:l==null?void 0:l.length}}function c8(e){let[r,t]=k.useState(!1),[s,o]=k.useState(!1),l=k.useRef(null),c=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:f,closeToast:m,onClick:p,closeOnClick:_}=e;r8({id:e.toastId,containerId:e.containerId,fn:t}),k.useEffect(()=>{if(e.pauseOnFocusLoss)return j(),()=>{C()}},[e.pauseOnFocusLoss]);function j(){document.hasFocus()||P(),window.addEventListener("focus",O),window.addEventListener("blur",P)}function C(){window.removeEventListener("focus",O),window.removeEventListener("blur",P)}function T(oe){if(e.draggable===!0||e.draggable===oe.pointerType){q();let fe=l.current;c.canCloseOnClick=!0,c.canDrag=!0,fe.style.transition="none",e.draggableDirection==="x"?(c.start=oe.clientX,c.removalDistance=fe.offsetWidth*(e.draggablePercent/100)):(c.start=oe.clientY,c.removalDistance=fe.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function $(oe){let{top:fe,bottom:X,left:le,right:he}=l.current.getBoundingClientRect();oe.nativeEvent.type!=="touchend"&&e.pauseOnHover&&oe.clientX>=le&&oe.clientX<=he&&oe.clientY>=fe&&oe.clientY<=X?P():O()}function O(){t(!0)}function P(){t(!1)}function q(){c.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",K)}function H(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",K)}function M(oe){let fe=l.current;if(c.canDrag&&fe){c.didMove=!0,r&&P(),e.draggableDirection==="x"?c.delta=oe.clientX-c.start:c.delta=oe.clientY-c.start,c.start!==oe.clientX&&(c.canCloseOnClick=!1);let X=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;fe.style.transform=`translate3d(${X},0)`,fe.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function K(){H();let oe=l.current;if(c.canDrag&&c.didMove&&oe){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}oe.style.transition="transform 0.2s, opacity 0.2s",oe.style.removeProperty("transform"),oe.style.removeProperty("opacity")}}let F={onPointerDown:T,onPointerUp:$};return u&&f&&(F.onMouseEnter=P,e.stacked||(F.onMouseLeave=O)),_&&(F.onClick=oe=>{p&&p(oe),c.canCloseOnClick&&m(!0)}),{playToast:O,pauseToast:P,isRunning:r,preventExitTransition:s,toastRef:l,eventHandlers:F}}var d8=typeof window!="undefined"?k.useLayoutEffect:k.useEffect,_h=o=>{var l=o,{theme:e,type:r,isLoading:t}=l,s=hr(l,["theme","type","isLoading"]);return Nt.createElement("svg",Y({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`},s))};function u8(e){return Nt.createElement(_h,Y({},e),Nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function f8(e){return Nt.createElement(_h,Y({},e),Nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function h8(e){return Nt.createElement(_h,Y({},e),Nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function m8(e){return Nt.createElement(_h,Y({},e),Nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function g8(){return Nt.createElement("div",{className:"Toastify__spinner"})}var Hp={info:f8,warning:u8,success:h8,error:m8,spinner:g8},p8=e=>e in Hp;function y8({theme:e,type:r,isLoading:t,icon:s}){let o=null,l={theme:e,type:r};return s===!1||(Ho(s)?o=s(je(Y({},l),{isLoading:t})):k.isValidElement(s)?o=k.cloneElement(s,l):t?o=Hp.spinner():p8(r)&&(o=Hp[r](l))),o}var x8=e=>{let{isRunning:r,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=c8(e),{closeButton:c,children:u,autoClose:f,onClick:m,type:p,hideProgressBar:_,closeToast:j,transition:C,position:T,className:$,style:O,progressClassName:P,updateId:q,role:H,progress:M,rtl:K,toastId:F,deleteToast:oe,isIn:fe,isLoading:X,closeOnClick:le,theme:he,ariaLabel:ee}=e,ce=_l("Toastify__toast",`Toastify__toast-theme--${he}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":K},{"Toastify__toast--close-on-click":le}),te=Ho($)?$({rtl:K,position:T,type:p,defaultClassName:ce}):_l(ce,$),pe=y8(e),se=!!M||!f,re={closeToast:j,type:p,theme:he},de=null;return c===!1||(Ho(c)?de=c(re):k.isValidElement(c)?de=k.cloneElement(c,re):de=K9(re)),Nt.createElement(C,{isIn:fe,done:oe,position:T,preventExitTransition:t,nodeRef:s,playToast:l},Nt.createElement("div",Y(je(Y({id:F,tabIndex:0,onClick:m,"data-in":fe,className:te},o),{style:O,ref:s}),fe&&{role:H,"aria-label":ee}),pe!=null&&Nt.createElement("div",{className:_l("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!X})},pe),aj(u,e,!r),de,!e.customProgressBar&&Nt.createElement(W9,je(Y({},q&&!se?{key:`p-${q}`}:{}),{rtl:K,theme:he,delay:f,isRunning:r,isIn:fe,closeToast:j,hide:_,type:p,className:P,controlledProgress:se,progress:M||0}))))},b8=(e,r=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:r}),v8=V9(b8("bounce",!0)),w8={position:"top-right",transition:v8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function j8(e){let r=Y(Y({},w8),e),t=e.stacked,[s,o]=k.useState(!0),l=k.useRef(null),{getToastToRender:c,isToastActive:u,count:f}=l8(r),{className:m,style:p,rtl:_,containerId:j,hotKeys:C}=r;function T(O){let P=_l("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":_});return Ho(m)?m({position:O,rtl:_,defaultClassName:P}):_l(P,zp(m))}function $(){t&&(o(!0),Ie.play())}return d8(()=>{var O;if(t){let P=l.current.querySelectorAll('[data-in="true"]'),q=12,H=(O=r.position)==null?void 0:O.includes("top"),M=0,K=0;Array.from(P).reverse().forEach((F,oe)=>{let fe=F;fe.classList.add("Toastify__toast--stacked"),oe>0&&(fe.dataset.collapsed=`${s}`),fe.dataset.pos||(fe.dataset.pos=H?"top":"bot");let X=M*(s?.2:1)+(s?0:q*oe);fe.style.setProperty("--y",`${H?X:X*-1}px`),fe.style.setProperty("--g",`${q}`),fe.style.setProperty("--s",`${1-(s?K:0)}`),M+=fe.offsetHeight,K+=.025})}},[s,f,t]),k.useEffect(()=>{function O(P){var q;let H=l.current;C(P)&&((q=H.querySelector('[tabIndex="0"]'))==null||q.focus(),o(!1),Ie.pause()),P.key==="Escape"&&(document.activeElement===H||H!=null&&H.contains(document.activeElement))&&(o(!0),Ie.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[C]),Nt.createElement("section",{ref:l,className:"Toastify",id:j,onMouseEnter:()=>{t&&(o(!1),Ie.pause())},onMouseLeave:$,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},c((O,P)=>{let q=P.length?Y({},p):je(Y({},p),{pointerEvents:"none"});return Nt.createElement("div",{tabIndex:-1,className:T(O),"data-stacked":t,style:q,key:`c-${O}`},P.map(({content:H,props:M})=>Nt.createElement(x8,je(Y({},M),{stacked:t,collapseAll:$,isIn:u(M.toastId,M.containerId),key:`t-${M.key}`}),H)))}))}const Sh="draft-invoice-cache",cj=5*60*1e3;function N8(e,r,t){const s={items:r,timestamp:Date.now(),invoiceId:e,customer:t,originalDraftInvoiceId:e};console.log("cacheDraftInvoiceItems - storing cache:",s),localStorage.setItem(Sh,JSON.stringify(s))}function dj(){try{const e=localStorage.getItem(Sh);if(!e)return null;const r=JSON.parse(e);return Date.now()-r.timestamp>cj?(Jc(),null):r}catch(e){return console.error("Error retrieving cached draft invoice items:",e),Jc(),null}}function Jc(){localStorage.removeItem(Sh)}function k8(){return Ne(this,null,function*(){const e=dj();if(!e||e.items.length===0)return!1;const{setSelectedCustomer:r,addToCartWithQuantity:t}=Ul.getState();e.customer&&r(e.customer);for(const s of e.items){const o={id:s.id,name:s.name,category:s.category,price:s.price,image:s.image,available:s.available,uom:s.uom,item_code:s.id};yield t(o,s.quantity)}return!0})}function _8(){const e=localStorage.getItem(Sh);if(!e)return!1;try{const r=JSON.parse(e);return Date.now()-r.timestamp<=cj}catch(r){return console.error("Error checking cache validity:",r),!1}}function S8(){const e=dj();return(e==null?void 0:e.originalDraftInvoiceId)||null}function Gp(e,r,t){return Ne(this,null,function*(){try{const s=r?`&customer=${r}`:"",o=t?`&uom=${encodeURIComponent(t)}`:"",l=yield fetch(`/api/method/klik_pos.api.item.get_item_price_for_customer?item_code=${e}${s}${o}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const c=yield l.json();return c.message||c}catch(s){return console.error("Error fetching item price for customer:",s),{success:!1,price:0,currency:"SAR",currency_symbol:"SAR",error:s instanceof Error?s.message:"Unknown error"}}})}function C8(e,r){return Ne(this,null,function*(){const t={},s=e.map(o=>Ne(null,null,function*(){const l=o.item_code||o.id,c=yield Gp(l,r,o.uom);t[o.id]=c}));return yield Promise.all(s),t})}function n2(e,r){return Ne(this,null,function*(){try{const t=r?`&customer=${r}`:"",s=yield fetch(`/api/method/klik_pos.api.item.apply_pricing_rules_to_cart?cart_items=${encodeURIComponent(JSON.stringify(e))}${t}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return(yield s.json()).message||e}catch(t){return console.error("Error applying pricing rules to cart:",t),e}})}const Ul=L9()(z9((e,r)=>({cartItems:[],appliedCoupons:[],selectedCustomer:null,addToCart:t=>Ne(null,null,function*(){const s=r(),o=s.cartItems.find(l=>l.id===t.id);if(t.available!==void 0&&t.available<=0){Ie.error(`${t.name} is out of stock`);return}if(o){if(t.available!==void 0&&o.quantity>=t.available){Ie.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}e(l=>({cartItems:l.cartItems.map(c=>c.id===t.id?je(Y({},c),{quantity:c.quantity+1}):c)}))}else{let l=t.price;if(s.selectedCustomer)try{const f=yield Gp(t.id,s.selectedCustomer.id,t.uom);f.success&&(l=f.price)}catch(f){console.error(" Error fetching price for customer:",f)}const c=[...s.cartItems,je(Y({},t),{price:l,quantity:1})];e(f=>({cartItems:c}));const u=r();u.cartItems.length>0&&(yield u.applyPricingRules())}}),addToCartWithQuantity:(t,s)=>Ne(null,null,function*(){const o=r(),l=o.cartItems.find(c=>c.id===t.id);if(t.available!==void 0&&t.available<s){Ie.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}if(l){if(t.available!==void 0&&l.quantity+s>t.available){Ie.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}e(c=>({cartItems:c.cartItems.map(u=>u.id===t.id?je(Y({},u),{quantity:u.quantity+s}):u)}))}else{let c=t.price;if(o.selectedCustomer)try{const m=yield Gp(t.id,o.selectedCustomer.id,t.uom);m.success&&(c=m.price)}catch(m){console.error(" Error fetching price for customer:",m)}const u=[...o.cartItems,je(Y({},t),{price:c,quantity:s})];e(m=>({cartItems:u}));const f=r();f.cartItems.length>0&&(yield f.applyPricingRules())}}),updateQuantity:(t,s)=>Ne(null,null,function*(){const o=r();if(s<=0){e({cartItems:o.cartItems.filter(f=>f.id!==t)});const u=r();u.cartItems.length>0&&(yield u.applyPricingRules());return}const l=o.cartItems.find(u=>u.id===t);if(l&&l.available!==void 0&&s>l.available){Ie.error(`Only ${l.available} ${l.uom||"units"} of ${l.name} available`);return}e({cartItems:o.cartItems.map(u=>u.id===t?je(Y({},u),{quantity:s}):u)});const c=r();c.cartItems.length>0&&(yield c.applyPricingRules())}),updateUOM:(t,s,o)=>Ne(null,null,function*(){console.log(` Cart Store: Updating UOM for item ${t} to ${s} with price ${o}`),e(c=>{const u=c.cartItems.map(f=>f.id===t?(console.log(` Cart Store: Item ${t} updated:`,{before:{uom:f.uom,price:f.price},after:{uom:s,price:o}}),je(Y({},f),{uom:s,price:o})):f);return console.log(" Cart Store: All items after update:",u),{cartItems:u}});const l=r();if(l.cartItems.length>0){console.log(" Cart Store: Applying pricing rules after UOM update"),yield l.applyPricingRules();const u=r().cartItems.find(f=>f.id===t);console.log(` Cart Store: Item ${t} after pricing rules:`,{uom:u==null?void 0:u.uom,price:u==null?void 0:u.price})}}),removeItem:t=>e(s=>({cartItems:s.cartItems.filter(o=>o.id!==t)})),clearCart:()=>{Jc(),e(()=>({cartItems:[],appliedCoupons:[],selectedCustomer:null}))},applyCoupon:t=>e(s=>s.appliedCoupons.some(o=>o.code===t.code)?s:{appliedCoupons:[...s.appliedCoupons,t]}),removeCoupon:t=>e(s=>({appliedCoupons:s.appliedCoupons.filter(o=>o.code!==t)})),setSelectedCustomer:t=>Ne(null,null,function*(){e(()=>({selectedCustomer:t}));const s=r();s.cartItems.length>0&&(yield s.updatePricesForCustomer(t==null?void 0:t.id))}),updatePricesForCustomer:t=>Ne(null,null,function*(){const s=r();if(s.cartItems.length!==0)try{const o=yield C8(s.cartItems,t);let l=s.cartItems.map(u=>{const f=o[u.id];if(f&&f.success&&f.price>0){const m=u.price||0,p=f.price;return u.uom&&m>0&&p<m*.5&&m>10?(console.log(`Preserving price for ${u.id}: current=${m}, new=${p}, UOM=${u.uom}`),u):je(Y({},u),{price:p})}return u});const c=yield n2(l,t);e(u=>({cartItems:u.cartItems.map(f=>{const m=c.find(p=>p.id===f.id);return m?je(Y({},f),{price:m.price,original_price:m.original_price||f.price,discount_percentage:m.discount_percentage,discount_amount:m.discount_amount,pricing_rules:m.pricing_rules,has_pricing_rule:m.has_pricing_rule}):f})}))}catch(o){console.error(" Error updating prices for customer:",o),Ie.error("Failed to update prices for customer")}}),applyPricingRules:()=>Ne(null,null,function*(){var s;const t=r();if(t.cartItems.length!==0)try{const o=(s=t.selectedCustomer)==null?void 0:s.id,l=yield n2(t.cartItems,o);e(c=>({cartItems:c.cartItems.map(u=>{const f=l.find(m=>m.id===u.id);if(f){const m=u.price||0,p=f.price||0;return!f.has_pricing_rule&&u.uom&&m>0&&p>0&&p<m*.5&&m>10?(console.log(`Preserving price in pricing rules for ${u.id}: current=${m}, new=${p}, UOM=${u.uom}`),je(Y({},u),{price:m,original_price:f.original_price||m,discount_percentage:f.discount_percentage,discount_amount:f.discount_amount,pricing_rules:f.pricing_rules,has_pricing_rule:f.has_pricing_rule})):je(Y({},u),{price:p,original_price:f.original_price||u.price,discount_percentage:f.discount_percentage,discount_amount:f.discount_amount,pricing_rules:f.pricing_rules,has_pricing_rule:f.has_pricing_rule})}return u})}))}catch(o){console.error(" Error applying pricing rules:",o)}})}),{name:"beveren-cart-storage"})),Ig={PRODUCTS:"klik_pos_products_cache",PRODUCTS_EXPIRY:"klik_pos_products_cache_expiry",DRAFT_INVOICE:"draft-invoice-cache",CART:"beveren-cart-storage"};function By(){try{console.log(" Clearing all application cache..."),localStorage.removeItem(Ig.PRODUCTS),localStorage.removeItem(Ig.PRODUCTS_EXPIRY),console.log(" Product cache cleared"),Jc(),console.log(" Draft invoice cache cleared"),localStorage.removeItem(Ig.CART),console.log(" Cart cache cleared");const{clearCart:e}=Ul.getState();e(),console.log(" Cart state cleared");const r=["theme","language","i18n","auth-token","user-session"];Object.keys(localStorage).filter(o=>o.startsWith("klik_pos_")||o.startsWith("beveren-")||o.startsWith("draft-")||o.includes("cache")&&!r.includes(o)).forEach(o=>{localStorage.removeItem(o),console.log(` Cleared cache key: ${o}`)}),console.log(" All cache cleared successfully!")}catch(e){throw console.error(" Error clearing cache:",e),e}}function $8(){return Ne(this,null,function*(){var e,r;try{console.log(" Clearing backend cache...");const s=yield(yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"})).json();(e=s.message)!=null&&e.success?console.log(" Backend cache cleared successfully"):console.warn(" Backend cache clear failed:",((r=s.message)==null?void 0:r.error)||"Unknown error")}catch(t){console.error(" Error clearing backend cache:",t)}})}function uj(){return Ne(this,null,function*(){try{By(),yield $8(),console.log(" Reloading page with fresh data..."),setTimeout(()=>{window.location.reload()},100)}catch(e){console.error(" Error during cache clear and reload:",e),window.location.reload()}})}const s2={Coffee:"",Tea:"",Mocktail:"",Rice:"",Pasta:"",Burger:"",Bakery:"",Fruits:"",Vegetables:"",Dairy:"",Meat:"",Seafood:"",Snacks:"",Dessert:"","All Items":""};function E8(){const[e,r]=k.useState([]),[t,s]=k.useState(!0),[o,l]=k.useState(null),[c,u]=k.useState(0),f=()=>Ne(null,null,function*(){s(!0);try{const p=yield(yield fetch("/api/method/klik_pos.api.item.get_item_groups_for_pos")).json();if(p!=null&&p.message&&Array.isArray(p.message.groups)&&typeof p.message.total_items=="number")r(p.message.groups),u(p.message.total_items);else throw new Error("Invalid response format")}catch(m){console.error("Error fetching item groups:",m),l(m.message||"Unknown error occurred")}finally{s(!1)}});return k.useEffect(()=>{f()},[]),{itemGroups:e,isLoading:t,total_item_count:c,error:o,refetch:f,count:e.length}}function fj({selectedCategory:e,onCategoryChange:r,isMobile:t=!1}){const{itemGroups:s,isLoading:o,error:l,total_item_count:c}=E8();if(o)return a.jsx("div",{children:"Loading categories..."});if(l)return console.error(" Error fetching item groups:",l),a.jsxs("div",{className:"text-red-600",children:[a.jsx("p",{children:"Error loading categories:"}),a.jsx("pre",{className:"text-xs bg-red-100 p-2 rounded",children:l})]});if(!s||s.length===0)return a.jsx("div",{children:"No item groups found."});const u=[{id:"all",name:"All Items",icon:s2["All Items"],count:c},...s.map(f=>{var m,p;return{id:f.id,name:f.name,icon:(m=s2[f.name])!=null?m:"",count:(p=f.count)!=null?p:1}})];return a.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2 scrollbar-hide",children:u.map(f=>a.jsx("button",{onClick:()=>r(f.id),className:`flex items-center justify-center px-3 py-2 rounded-xl whitespace-nowrap transition-all duration-200 flex-shrink-0 min-w-fit ${e===f.id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 border border-beveren-200 dark:border-beveren-800 shadow-sm":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:`font-semibold ${t?"text-xs":"text-sm"}`,children:f.name}),a.jsxs("span",{className:"text-xs font-medium opacity-70",children:[f.count," Item",f.count!==1?"s":""]})]})},f.id))})}function T8({item:e,onAddToCart:r,isMobile:t=!1,scannerOnly:s=!1}){const o=e.available<=0,l=o||s,c=`${e.currency_symbol}${e.price.toFixed(2)}`;return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-200 ${l?"opacity-70 cursor-not-allowed":"hover:shadow-lg hover:scale-105 cursor-pointer active:scale-95"} ${t?"touch-manipulation":""}`,onClick:()=>!l&&r(e),children:[a.jsxs("div",{className:"relative",children:[e.image?a.jsx("img",{src:e.image,alt:e.name,className:`w-full object-cover ${t?"h-24":"h-32"}`,crossOrigin:"anonymous"}):a.jsx("div",{className:`w-full ${t?"h-24":"h-32"} bg-gray-100 dark:bg-gray-700 flex items-center justify-center`,children:a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No Image"})}),e.discount&&a.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-1.5 py-0.5 rounded-md text-xs font-bold",children:["-",e.discount,"%"]}),!o&&a.jsx("div",{className:"absolute top-2 right-2 bg-slate-600 text-white px-1.5 py-0.5 rounded-md text-xs font-medium",children:e.available}),o&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xs",children:"Out of Stock"})}),s&&!o&&a.jsx("div",{className:"absolute inset-0  flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-md shadow-sm border border-blue-200 dark:border-blue-700",children:"Scan Only"})})]}),a.jsxs("div",{className:`${t?"p-2 h-12":"p-3 h-16"} flex flex-col justify-between`,children:[a.jsx("div",{children:a.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white truncate ${t?"text-xs":"text-sm"}`,children:e.name})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize text-xs",children:e.category}),a.jsx("span",{className:`font-bold text-beveren-600 dark:text-beveren-400 ${t?"text-xs":"text-sm"}`,children:c})]})]})]})}function O8({items:e,onAddToCart:r,isMobile:t=!1,scannerOnly:s=!1}){return e.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):a.jsx("div",{className:`${t?"p-4":"p-2"} bg-gray-50 dark:bg-gray-900`,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-4 overflow-hidden",children:[a.jsxs("div",{className:`${t?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600`,children:[a.jsx("div",{className:`${t?"col-span-3":"col-span-4"}`,children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Product"})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Rate"})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Qty"})}),!t&&a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"UOM"})}),a.jsx("div",{className:`${t?"col-span-1":"col-span-2"} text-center`,children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})})]}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:e.map(o=>{const l=o.available<=0,c=l||s,u=`${o.currency_symbol}${o.price.toFixed(2)}`;return a.jsxs("div",{className:`${t?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${c?"opacity-60":"cursor-pointer"}`,onClick:()=>!c&&r(o),children:[a.jsx("div",{className:`${t?"col-span-3":"col-span-4"} flex items-start`,children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${t?"text-xs leading-tight":"text-sm"} ${t?"break-words":"truncate"}`,children:o.name}),a.jsx("p",{className:`text-gray-500 dark:text-gray-400 ${t?"text-xs leading-tight":"text-sm"} ${t?"break-words":"truncate"}`,children:o.category})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`font-semibold text-beveren-600 dark:text-beveren-400 ${t?"text-xs":"text-sm"}`,children:u})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`font-medium ${t?"text-xs":"text-sm"} ${l?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:l?"0":o.available})}),!t&&a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.uom||"Nos"})}),a.jsx("div",{className:`${t?"col-span-1":"col-span-2"} flex items-center justify-center`,children:c?a.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:l?"0":"S"}):a.jsx("button",{onClick:f=>{f.stopPropagation(),r(o)},className:`bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-md transition-colors hover:bg-slate-200 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-500 ${t?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:t?"+":"Add"})})]},o.id)})})]})})}function hj({items:e,onAddToCart:r,isMobile:t=!1,scannerOnly:s=!1,viewMode:o="grid",hasMore:l=!1,isLoadingMore:c=!1,onLoadMore:u,totalCount:f=0}){const m=k.useRef(null),p=k.useCallback(_=>{_[0].isIntersecting&&l&&!c&&u&&u()},[l,c,u]);return k.useEffect(()=>{const _={root:null,rootMargin:"200px",threshold:0},j=new IntersectionObserver(p,_);return m.current&&j.observe(m.current),()=>{m.current&&j.unobserve(m.current)}},[p]),o==="list"?a.jsxs("div",{className:"flex flex-col",children:[a.jsx(O8,{items:e,onAddToCart:r,isMobile:t,scannerOnly:s}),u&&a.jsxs("div",{ref:m,className:"py-4 flex justify-center",children:[c&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading more items..."})]}),!c&&l&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["Showing ",e.length," of ",f," items"]}),!l&&e.length>0&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["All ",e.length," items loaded"]})]})]}):e.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):a.jsxs("div",{className:`${t?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:[a.jsx("div",{className:`grid gap-4 ${t?"grid-cols-2 sm:grid-cols-3":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}`,children:e.map(_=>a.jsx(T8,{item:_,onAddToCart:r,isMobile:t,scannerOnly:s},_.id))}),u&&a.jsxs("div",{ref:m,className:"py-6 flex justify-center",children:[c&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading more items..."})]}),!c&&l&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["Showing ",e.length," of ",f," items  Scroll for more"]}),!l&&e.length>0&&f>0&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["All ",e.length," items loaded"]})]})]})}function A8({searchQuery:e,onSearchChange:r,onScanBarcode:t,onSearchKeyPress:s,isMobile:o=!1}){const[l,c]=k.useState(!1),u=()=>o?"Search menu...":"Search by product, category, item code, barcode, batch or serial...";return a.jsx("div",{className:`relative ${o?"w-full":"w-full max-w-3xl"}`,children:a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("input",{type:"text",value:e,onChange:f=>r(f.target.value),onKeyPress:s,placeholder:u(),className:`flex-1 px-4 py-3 pl-12 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 ${l?"shadow-lg":"shadow-sm"}`,onFocus:()=>c(!0),onBlur:()=>c(!1)}),a.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t&&a.jsx("button",{onClick:t,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:a.jsx(ej,{size:20})}),e&&!t&&a.jsx("button",{onClick:()=>r(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function R8({items:e,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:o,onSearchKeyPress:l,onAddToCart:c,onScanBarcode:u,scannerOnly:f=!1,hasMore:m=!1,isLoadingMore:p=!1,onLoadMore:_,totalCount:j=0,isSearching:C=!1}){const{user:T,logout:$}=Gi(),{theme:O,toggleTheme:P}=ph(),{posDetails:q,loading:H}=Za(),[M,K]=k.useState(!1),[F,oe]=k.useState("grid"),fe=k.useRef(null);k.useEffect(()=>{if(!H&&q){const te=q.custom_default_view;te==="List View"?oe("list"):te==="Grid View"&&oe("grid")}},[q,H]),k.useEffect(()=>{function te(pe){fe.current&&!fe.current.contains(pe.target)&&K(!1)}return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[fe]);const X=()=>Ne(null,null,function*(){try{yield $(),window.location.href="/klik_pos/login"}catch(te){console.error("Logout error:",te),window.location.href="/klik_pos/login"}}),le=te=>te.split(" ").map(pe=>pe.charAt(0).toUpperCase()).join("").substring(0,2),he=(T==null?void 0:T.full_name)||(T==null?void 0:T.name)||"Guest User",ee=(q==null?void 0:q.name)||"POS Profile",ce=le(he);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 max-w-md",children:[a.jsx(A8,{searchQuery:s,onSearchChange:o,onSearchKeyPress:l,onScanBarcode:u}),a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>oe("grid"),className:`p-2 rounded-md transition-colors ${F==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:a.jsx(Zu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>oe("list"),className:`p-2 rounded-md transition-colors ${F==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:a.jsx(Uy,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 ml-6 relative",ref:fe,children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ee}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:he})]}),a.jsx("button",{onClick:()=>K(!M),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white text-sm font-medium pointer-events-none",children:ce})}),M&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-base",children:ce})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:ee}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(zy,{size:14,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:he})]})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(Xu,{to:"/settings",onClick:()=>K(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(wh,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{P(),K(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[O==="dark"?a.jsx(jh,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}):a.jsx(vh,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:O==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>Ne(null,null,function*(){yield uj(),K(!1)}),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[a.jsx(qi,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Clear Cache"})]}),a.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:()=>{X(),K(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[a.jsx(xh,{size:16,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"px-6",children:a.jsx(fj,{selectedCategory:r,onCategoryChange:t})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:H?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):C?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Searching..."})]})}):a.jsx(hj,{items:e,onAddToCart:c,scannerOnly:f,viewMode:F,hasMore:m,isLoadingMore:p,onLoadMore:_,totalCount:j})})]})}function Cu(e){return Math.round(e*100)}function qy(e){return e/100}function o2(e,r){const t=Cu(e),s=Cu(r);return qy(t-s)}function i2(e){return Math.round(e*100)/100}function P8(e,r){const t=Cu(e),o=r.map(Cu).reduce((l,c)=>l+c,0);return qy(Math.max(0,t-o))}function M8(e){const t=e.map(Cu).reduce((s,o)=>s+o,0);return qy(t)}function D8(e){return e.includes("401")||e.includes("Unauthorized")?"WhatsApp service is not properly configured. Please contact your administrator to set up WhatsApp Business API credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to WhatsApp service. Please check your WhatsApp Business API permissions.":e.includes("404")||e.includes("Not Found")?"WhatsApp service not found. Please contact your administrator to verify WhatsApp Business API setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many WhatsApp messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"WhatsApp service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Template not found")||e.includes("template")?"WhatsApp message template not found. Please contact your administrator to set up message templates.":e.includes("Business account")||e.includes("business")?"WhatsApp Business account not properly configured. Please contact your administrator.":e.includes("Access token")||e.includes("token")?"WhatsApp access token expired or invalid. Please contact your administrator to refresh the token.":e.includes("Rate limit")||e.includes("rate")?"WhatsApp message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to WhatsApp service. Please check your internet connection and try again.":e.includes("timeout")?"WhatsApp service request timed out. Please try again.":"Failed to send WhatsApp message. Please try again or contact your administrator if the problem persists."}function I8(e){return e.includes("401")||e.includes("Unauthorized")?"Email service authentication failed. Please contact your administrator to check email server credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to email service. Please check email server permissions.":e.includes("404")||e.includes("Not Found")?"Email service not found. Please contact your administrator to verify email server configuration.":e.includes("500")||e.includes("Internal Server Error")?"Email service is temporarily unavailable. Please try again later.":e.includes("Invalid email")||e.includes("invalid email")?"Invalid email address format. Please enter a valid email address.":e.includes("SMTP")||e.includes("smtp")?"Email server connection failed. Please contact your administrator to check email server settings.":e.includes("Authentication failed")||e.includes("auth")?"Email authentication failed. Please contact your administrator to verify email credentials.":e.includes("Quota exceeded")||e.includes("quota")?"Email sending quota exceeded. Please contact your administrator or try again later.":e.includes("Spam")||e.includes("spam")?"Email was rejected as spam. Please try with a different message or contact your administrator.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to email service. Please check your internet connection and try again.":e.includes("timeout")?"Email service request timed out. Please try again.":"Failed to send email. Please try again or contact your administrator if the problem persists."}function L8(e){return e.includes("401")||e.includes("Unauthorized")?"SMS service is not properly configured. Please contact your administrator to set up SMS service credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to SMS service. Please check your SMS service permissions.":e.includes("404")||e.includes("Not Found")?"SMS service not found. Please contact your administrator to verify SMS service setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many SMS messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"SMS service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Insufficient balance")||e.includes("balance")?"SMS service account has insufficient balance. Please contact your administrator to add credits.":e.includes("Blocked")||e.includes("blocked")?"Phone number is blocked or invalid. Please check the phone number and try again.":e.includes("Rate limit")||e.includes("rate")?"SMS message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to SMS service. Please check your internet connection and try again.":e.includes("timeout")?"SMS service request timed out. Please try again.":"Failed to send SMS message. Please try again or contact your administrator if the problem persists."}function Lg(e,r="generic"){switch(r){case"whatsapp":return D8(e);case"email":return I8(e);case"sms":return L8(e);default:return e.includes("401")||e.includes("Unauthorized")?"Access denied. Please contact your administrator.":e.includes("403")||e.includes("Forbidden")?"Access denied. Please check your permissions.":e.includes("404")||e.includes("Not Found")?"Service not found. Please contact your administrator.":e.includes("500")||e.includes("Internal Server Error")?"Service is temporarily unavailable. Please try again later.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to the service. Please check your internet connection.":e.includes("timeout")?"Request timed out. Please try again.":"An error occurred. Please try again or contact your administrator if the problem persists."}}function mj(e){if(!e||typeof e!="string")return e;let r=e.replace(/<strong>(.*?)<\/strong>/gi,"$1").replace(/<a[^>]*>(.*?)<\/a>/gi,"$1").replace(/<[^>]*>/g,"").replace(/\s+/g," ").trim();if(r.includes("units of")&&r.includes("needed in")&&r.includes("to complete this transaction")){const t=r.match(/(\d+(?:\.\d+)?)\s+units?\s+of\s+(.+?)\s+needed\s+in\s+(.+?)\s+to\s+complete\s+this\s+transaction/i);if(t){const[,s,o,l]=t;r=`${s} units of ${o} needed in ${l} to complete this transaction.`}}return r}function Ch(e,r="Operation failed"){let t=r;if(e&&typeof e=="object"&&"_server_messages"in e){const s=e._server_messages;if(s&&typeof s=="string")try{const o=JSON.parse(s);if(Array.isArray(o)&&o.length>0){const l=o[0];if(typeof l=="string"){const c=JSON.parse(l);c&&typeof c.message=="string"&&(t=c.message)}}}catch(o){console.error("Error parsing server messages:",o);try{const l=JSON.parse(s)[0];typeof l=="string"&&(t=l)}catch(l){console.error("Fallback error parsing failed:",l),t=r}}}return mj(t)}function ed(e,r="Operation failed"){let t=r;if(e&&typeof e=="object"&&"message"in e){const s=e.message;if(typeof s=="string"&&s.includes("{"))try{const o=JSON.parse(s);o&&typeof o.message=="string"&&(t=o.message)}catch(o){t=s}else typeof s=="string"&&(t=s)}return mj(t)}function t0(e){const[r,t]=k.useState([]),[s,o]=k.useState(!1),[l,c]=k.useState(null);return k.useEffect(()=>{if(!e)return;Ne(null,null,function*(){o(!0);try{const m=yield(yield fetch(`/api/method/klik_pos.api.payment.get_payment_modes?pos_profile=${encodeURIComponent(e)}`)).json();if(!m.message.success)throw new Error(m.message.error||"Failed to fetch payment modes");const p=m.message.data||[];t(p),c(null)}catch(f){c(f.message),t([])}finally{o(!1)}})},[e]),{modes:r,isLoading:s,error:l}}function Hy(){const[e,r]=k.useState([]),[t,s]=k.useState(!1),[o,l]=k.useState(null);return k.useEffect(()=>{Ne(null,null,function*(){s(!0);try{const f=yield(yield fetch("/api/method/klik_pos.api.payment.get_opening_entry_payment_summary")).json();if(!f.message.data)throw new Error(f.message.error||"Failed to fetch payment modes");r(f.message.data||[]),l(null)}catch(u){l(u.message),r([])}finally{s(!1)}})},[]),{modes:e,isLoading:t,error:o}}function U8(){const[e,r]=k.useState([]),[t,s]=k.useState(null),[o,l]=k.useState(!1),[c,u]=k.useState(null);return k.useEffect(()=>{Ne(null,null,function*(){var m,p;l(!0);try{const j=yield(yield fetch("/api/method/klik_pos.api.tax.get_sales_tax_categories")).json();if(!((m=j.message)!=null&&m.success))throw new Error(((p=j.message)==null?void 0:p.error)||"Failed to fetch tax categories");r(j.message.data||[]),s(j.message.default||null)}catch(_){u(_.message)}finally{l(!1)}})},[]),{salesTaxCharges:e,defaultTax:t,isLoading:o,error:c}}function gj(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({data:e}),credentials:"include"}),s=yield t.json();if(!t.ok||!s.message||s.message.success===!1){const o=Ch(s,"Failed to create invoice");throw new Error(o)}return s.message})}function F8(e){return Ne(this,null,function*(){var o,l;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_and_submit_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({data:e}),credentials:"include"}),s=yield t.json();if(!t.ok||!s.message||s.message.success===!1){console.error("Invoice creation error:",s);const c=Ch(s,((o=s.message)==null?void 0:o.message)||((l=s.message)==null?void 0:l.error)||"Failed to create invoice");throw new Error(c)}return s.message})}function $h(e){return Ne(this,null,function*(){var o;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.return_sales_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_name:e}),credentials:"include"}),s=yield t.json();if(console.log("Return Invoice result:",s),!t.ok||!s.message||s.message.success===!1){const l=s._server_messages?JSON.parse(s._server_messages)[0]:((o=s.message)==null?void 0:o.message)||"Failed to return invoice";throw new Error(l)}return s.message})}function z8(e){return Ne(this,null,function*(){try{const r=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield r.json();if(!r.ok)throw new Error(t.message||"Failed to get invoice details");return{success:!0,data:t.message}}catch(r){return console.error("Error getting invoice details:",r),{success:!1,error:r.message||"Failed to get invoice details"}}})}function Gy(e){return Ne(this,null,function*(){var o;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.delete_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield t.json();if(!t.ok||!s.message||s.message.success===!1){const l=s._server_messages?JSON.parse(s._server_messages)[0]:((o=s.message)==null?void 0:o.error)||"Failed to delete invoice";throw new Error(l)}return s.message})}function B8(e){return Ne(this,null,function*(){var s;const r=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message){const o=Ch(t,((s=t.message)==null?void 0:s.error)||"Failed to fetch draft invoice items");throw new Error(o)}if(t.message.success&&t.message.data)return t.message.data;throw new Error(t.message.error||"Failed to fetch draft invoice items")})}function pj(e){return Ne(this,null,function*(){var o;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.submit_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield t.json();if(console.log("Submit draft invoice result:",s),!t.ok||!s.message||s.message.success===!1){const l=Ch(s,((o=s.message)==null?void 0:o.error)||"Failed to submit draft invoice");throw new Error(l)}return s.message})}function q8(e,r,t){return Ne(this,null,function*(){var u;const s=window.csrf_token,o={invoice_name:e,mode_of_payment:r};t!==void 0&&(o.amount=t);const l=yield fetch("/api/method/klik_pos.api.sales_invoice.pay_unpaid_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":s},body:JSON.stringify(o),credentials:"include"}),c=yield l.json();if(!l.ok||!c.message||c.message.success===!1){const f=((u=c.message)==null?void 0:u.error)||(c._server_messages?JSON.parse(c._server_messages)[0]:"Failed to process payment");throw new Error(f)}return c.message})}function H8(e,r){return Ne(this,null,function*(){return(yield(yield fetch(`/api/method/frappe.www.printview.get_html_and_style?doc=${e.doctype}&name=${e.name}&print_format=${r}&no_letterhead=0`,{method:"GET",headers:{Accept:"application/json"}})).json()).message})}function G8({invoice:e}){var p;const[r,t]=k.useState(""),[s,o]=k.useState(""),[l,c]=k.useState(!0),{posDetails:u,loading:f}=Za(),m=(p=u==null?void 0:u.print_format)!=null?p:"Sales Invoice";return k.useEffect(()=>{Ne(null,null,function*(){if(!(f||!u)){c(!0);try{const j=typeof e.name=="string"?e.name:"",C=je(Y({},e),{doctype:"Sales Invoice",name:j}),{html:T,style:$}=yield H8(C,m);t(T),o($)}catch(j){console.error("Error loading print format:",j)}finally{c(!1)}}})},[e,u,f,m]),l?a.jsx("p",{children:"Loading Print Preview..."}):a.jsxs("div",{className:"print-preview-container p-4 bg-white shadow overflow-auto max-h-[90vh]",children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:s}}),a.jsx("div",{className:"print-preview-content",dangerouslySetInnerHTML:{__html:r}})]})}function zf({invoice:e}){const r=Y({pos_profile:(typeof e.pos_profile=="string"?e.pos_profile:"")||"",name:(typeof e.name=="string"?e.name:e.id)||""},e);return a.jsx(G8,{invoice:r})}function Bf(e){if(console.log("Print function called with:",e),!e){Ie.error("No invoice data available for printing");return}const r=document.querySelector(".print-preview-container");if(!r){Ie.error("Print preview not found");return}console.log("Print element found:",r);const t=e.name||e.id||"Invoice",s=document.title;document.title=`${t}`,console.log("Setting title to:",t);const o=document.body.style.cssText,l=r.style.cssText,c=document.createElement("div");c.innerHTML=r.innerHTML,c.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 9999;
    padding: 20px;
    overflow: auto;
  `,document.body.style.cssText=`
    overflow: hidden;
  `;const u=Array.from(document.body.children);u.forEach(_=>{_!==c&&(_.style.display="none")}),document.body.appendChild(c);const f=document.createElement("style");f.textContent=`
    @media print {
      body * {
        visibility: hidden;
      }
      .print-overlay, .print-overlay * {
        visibility: visible;
      }
      .print-overlay {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
    }
    @page {
      size: A4;
      margin: 1cm;
    }
  `,c.className="print-overlay",document.head.appendChild(f),console.log("Print overlay created and added");const m=()=>{console.log("Restoring page..."),c.parentNode&&c.parentNode.removeChild(c),f.parentNode&&f.parentNode.removeChild(f),document.body.style.cssText=o,r.style.cssText=l,u.forEach(_=>{_.style.display=""}),document.title=s,console.log("Page restored successfully")},p=()=>{console.log("After print event fired"),m(),window.removeEventListener("afterprint",p)};window.addEventListener("afterprint",p),console.log("Triggering print..."),window.print(),setTimeout(()=>{console.log("Fallback timeout triggered"),m(),window.removeEventListener("afterprint",p)},2e3)}function V8(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.email.send_invoice_email",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),s=yield t.json();if(console.log("Send email result:",s),!t.ok||!s.message||s.message.status!=="success"){const o=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send email";throw new Error(o)}return s.message})}function K8(e){return Ne(this,null,function*(){const r=window.csrf_token;console.log("Simple WhatsApp data",e);const t=yield fetch("/api/method/klik_pos.api.whatsapp.deliver_invoice_via_whatsapp",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),s=yield t.json();if(console.log("Send Simple WhatsApp result:",s),!t.ok||!s.message||s.message.status!=="success"){const o=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send WhatsApp message";throw new Error(o)}return s.message})}function W8(e){return Ne(this,null,function*(){const r=window.csrf_token;console.log("SMS data",e);const t=yield fetch("/api/method/klik_pos.api.sms.send_sms_message",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),s=yield t.json();if(console.log("Send SMS result:",s),!t.ok||!s.message||s.message.status!=="success"){const o=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send SMS message";throw new Error(o)}return s.message})}function Y8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.whatsapp.get_whatsapp_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch WhatsApp templates");return t.message}catch(r){throw console.error("Error fetching WhatsApp templates:",r),r}})}function Q8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch POS profile details");return t.message.custom_whatsap_template||null}catch(r){return console.error("Error fetching default WhatsApp template:",r),null}})}function X8(e,r={}){let t=e;const s={"{{customer_name}}":r.customer_name||"there","{{invoice_total}}":r.invoice_total||"0","{{invoice_number}}":r.invoice_number||"","{{company_name}}":r.company_name||"KLiK PoS","{{date}}":r.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([o,l])=>{t=t.replace(new RegExp(o,"g"),String(l))}),t}function l2(){return`Hi {{customer_name}}!

Thank you for shopping with us at {{company_name}}!

Invoice Total: *{{invoice_total}}*

We appreciate your business!`}function Z8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.email.get_email_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch Email templates");return t.message}catch(r){throw console.error("Error fetching Email templates:",r),r}})}function J8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch POS profile details");return t.message.custom_email_template||null}catch(r){return console.error("Error fetching default Email template:",r),null}})}function e$(e,r={}){let t=e;const s={"{{customer_name}}":r.customer_name||"Customer","{{customer}}":r.customer_name||"Customer","{{first_name}}":r.first_name||"","{{last_name}}":r.last_name||"","{{address}}":r.address||"","{{customer_address}}":r.customer_address||"","{{delivery_note}}":r.delivery_note||r.invoice_number||"","{{grand_total}}":r.invoice_total||"0","{{departure_time}}":r.departure_time||"","{{estimated_arrival}}":r.estimated_arrival||"","{{driver_name}}":r.driver_name||"","{{cell_number}}":r.cell_number||"","{{vehicle}}":r.vehicle||"","{{invoice_total}}":r.invoice_total||"0","{{invoice_number}}":r.invoice_number||"","{{company_name}}":r.company_name||"KLiK PoS","{{date}}":r.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([o,l])=>{t=t.replace(new RegExp(o,"g"),String(l))}),t}function c2(){return`Dear {{customer_name}},

Thank you for your purchase. Here are your invoice details:

Invoice Total: {{invoice_total}}

Thank you for your business!

Best regards,
{{company_name}} Team`}function yj(){const[e,r]=k.useState([]),[t,s]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{Ne(null,null,function*(){var u;try{s(!0);const f=yield fetch("/api/method/klik_pos.api.delivery_personnel.get_delivery_personnel_list",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),m=yield f.json();if(f.ok&&m.message&&m.message.success)r(m.message.data||[]);else throw new Error(((u=m.message)==null?void 0:u.error)||"Failed to fetch delivery personnel")}catch(f){console.error("Error loading delivery personnel:",f),l(f instanceof Error?f.message:"Unknown error")}finally{s(!1)}})},[]),{personnel:e,loading:t,error:o}}function t$({isOpen:e,onClose:r,onSelect:t}){const{personnel:s,loading:o,error:l}=yj(),[c,u]=k.useState(""),[f,m]=k.useState(""),[p,_]=k.useState(!1);k.useEffect(()=>{e&&(u(""),m(""),_(!1))},[e]),k.useMemo(()=>{if(!c)return"";const q=s.find(H=>H.name===c);return(q==null?void 0:q.delivery_personnel)||""},[c,s]);const j=k.useMemo(()=>{if(!f.trim())return s;const q=f.toLowerCase();return s.filter(H=>H.delivery_personnel.toLowerCase().includes(q)||H.name.toLowerCase().includes(q))},[s,f]);if(!e)return null;const C=(q,H)=>{u(q),m(H),_(!1)},T=()=>{c&&(t(c),r())},$=q=>{var M;m(q),_(!0);const H=((M=s.find(K=>K.name===c))==null?void 0:M.delivery_personnel)||"";q!==H&&u("")},O=()=>{_(!0)},P=()=>{setTimeout(()=>{_(!1)},200)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 bg-opacity-50",onClick:r,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4 delivery-personnel-modal-content",onClick:q=>q.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Delivery Personnel"}),a.jsx("button",{onClick:r,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:a.jsx(Ra,{size:20})})]}),a.jsx("div",{className:"p-4",children:o?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Xa,{size:24,className:"animate-spin text-beveren-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]}):l?a.jsx("div",{className:"text-red-600 dark:text-red-400 text-center py-8",children:l}):s.length===0?a.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No delivery personnel available"}):a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:18}),a.jsx("input",{type:"text",placeholder:"Search delivery personnel...",value:f,onChange:q=>$(q.target.value),onFocus:O,onBlur:P,className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",autoFocus:!0}),a.jsx(Ap,{className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 transition-transform ${p?"rotate-180":""}`,size:18})]}),p&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-64 overflow-hidden",children:a.jsx("div",{className:"max-h-64 overflow-y-auto",children:j.length>0?j.map(q=>a.jsx("button",{type:"button",onClick:()=>C(q.name,q.delivery_personnel),className:`w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${c===q.name?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:a.jsx("div",{className:"font-medium",children:q.delivery_personnel})},q.name)):a.jsx("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-center",children:"No matches found"})})})]})}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:T,disabled:!c||o,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Confirm"})]})]})})}const r$=e=>{const r=e.toLowerCase();return r.includes("cash")?{icon:a.jsx(Iy,{size:24}),color:"bg-beveren-600"}:r==="credit"||r==="credit sale"?{icon:a.jsx(Dn,{size:24}),color:"bg-orange-600"}:r.includes("card")||r.includes("credit")&&!r.includes("sale")||r.includes("debit")||r.includes("bank")?{icon:a.jsx(Dn,{size:24}),color:"bg-beveren-600"}:r.includes("phone")||r.includes("mpesa")?{icon:a.jsx(f9,{size:24}),color:"bg-beveren--600"}:r.includes("gift")?{icon:a.jsx(Z3,{size:24}),color:"bg-beveren--600"}:r.includes("cheque")||r.includes("check")?{icon:a.jsx(Uc,{size:24}),color:"bg-beveren--600"}:{icon:a.jsx(Dn,{size:24}),color:"bg-beveren--600"}};function Vy({isOpen:e,onClose:r,cartItems:t,appliedCoupons:s,selectedCustomer:o,onCompletePayment:l,onHoldOrder:c,isMobile:u=!1,isFullPage:f=!1,initialSharingMode:m=null,externalInvoiceData:p=null,itemDiscounts:_={}}){var en,Mr,fn,es;const[j,C]=k.useState(""),[T,$]=k.useState({}),[O,P]=k.useState(null),[q,H]=k.useState(null),[M,K]=k.useState(0),[F,oe]=k.useState(!1),[fe,X]=k.useState(!1),[le,he]=k.useState(!1),[ee,ce]=k.useState(null),[te,pe]=k.useState(null),[se,re]=k.useState(M.toFixed(2)),[de,He]=k.useState(!1),[W,z]=k.useState(m),[ae,ge]=k.useState({email:(o==null?void 0:o.email)||"",phone:(o==null?void 0:o.phone)||"",name:(o==null?void 0:o.name)||""}),[ue,U]=k.useState(!1),[Q,Ae]=k.useState(!1),[Ke,ct]=k.useState([]),[dt,kt]=k.useState(null),[ht,zt]=k.useState(""),[be,Ze]=k.useState(!1),[At,ye]=k.useState(!1),[We,ft]=k.useState([]),[ur,Zt]=k.useState(null),[ne,ze]=k.useState(""),[rt,ut]=k.useState(!1),[tt,jt]=k.useState(!1),[yt,ve]=k.useState(!1),[Je,gt]=k.useState(null),[mt,xt]=k.useState(!1),{posDetails:Ye,loading:Gt}=Za(),{modes:qt,isLoading:cr,error:pr}=t0(typeof(Ye==null?void 0:Ye.name)=="string"?Ye.name:""),{salesTaxCharges:ta,defaultTax:va}=U8(),{personnel:wa}=yj(),Ga=da(),_r=(Ye==null?void 0:Ye.business_type)==="B2B",na=(Ye==null?void 0:Ye.business_type)==="B2C",qe=(Ye==null?void 0:Ye.business_type)==="B2B & B2C",st=Ye==null?void 0:Ye.print_receipt_on_order_complete,Tr=Ye==null?void 0:Ye.currency_symbol,me=Ye==null?void 0:Ye.custom_delivery_required,Ee=me===1||me===!0||me==="1";k.useEffect(()=>{Ye&&console.log("POS Details - custom_delivery_required:",me,"isDeliveryRequired:",Ee)},[Ye,me,Ee]),k.useEffect(()=>{var Te,ot,Rt;if(p&&W){console.log("External invoice data:",p),console.log("Customer address doc:",p.customer_address_doc);const Ut=((Te=p.customer_address_doc)==null?void 0:Te.email_id)||p.customer_email||p.email_id||"",$t=p.mobile_no||((ot=p.customer_address_doc)==null?void 0:ot.mobile_no)||((Rt=p.customer_address_doc)==null?void 0:Rt.phone)||p.customer_phone||"",rr=p.customer_name||p.customer||"";(!Ut||!$t)&&p.customer?Me(p.customer,Ut,$t,rr):(ge({email:Ut,phone:$t,name:rr}),console.log("Updated sharing data:",{email:Ut,phone:$t,name:rr}))}},[p,W]);const Me=(Te,ot,Rt,Ut)=>Ne(null,null,function*(){try{console.log("Fetching customer details for:",Te);const rr=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${Te}`)).json();if(rr.message){const Jt=rr.message;console.log("Customer details fetched:",Jt),ge({email:ot||Jt.email_id||"",phone:Rt||Jt.mobile_no||"",name:Ut||Jt.customer_name||Jt.name||""}),console.log("Updated sharing data with customer details:",{email:ot||Jt.email_id||"",phone:Rt||Jt.mobile_no||"",name:Ut||Jt.customer_name||Jt.name||""})}else ge({email:ot,phone:Rt,name:Ut})}catch($t){console.error("Error fetching customer details:",$t),ge({email:ot,phone:Rt,name:Ut})}});k.useEffect(()=>{Ne(null,null,function*(){if(W==="whatsapp"&&Ke.length===0){Ze(!0);try{const[ot,Rt]=yield Promise.all([Y8(),Q8()]);if(ct(ot),Rt){const Ut=ot.find($t=>$t.name===Rt);Ut&&(kt(Ut),zt(Ut.template))}else zt(l2())}catch(ot){console.error("Error loading WhatsApp templates:",ot),zt(l2())}finally{Ze(!1)}}})},[W,Ke.length]),k.useEffect(()=>{Ne(null,null,function*(){if(W==="email"&&We.length===0){ut(!0);try{const[ot,Rt]=yield Promise.all([Z8(),J8()]);if(ft(ot),Rt){const Ut=ot.find($t=>$t.name===Rt);Ut&&(Zt(Ut),ze(Ut.response_html||Ut.response))}else ze(c2())}catch(ot){console.error("Error loading Email templates:",ot),ze(c2())}finally{ut(!1)}}})},[W,We.length]);const Ve=()=>{const Te={customer_name:ae.name||"there",invoice_total:wt(Ge.grandTotal),invoice_number:(te==null?void 0:te.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return X8(ht,Te)},lt=()=>{var ot,Rt;const Te={customer_name:ae.name||"Customer",customer:ae.name||"Customer",first_name:((ot=ae.name)==null?void 0:ot.split(" ")[0])||"",last_name:((Rt=ae.name)==null?void 0:Rt.split(" ").slice(1).join(" "))||"",address:typeof(o==null?void 0:o.address)=="string"?o.address:JSON.stringify((o==null?void 0:o.address)||{}),customer_address:typeof(o==null?void 0:o.address)=="string"?o.address:JSON.stringify((o==null?void 0:o.address)||{}),delivery_note:(te==null?void 0:te.name)||"",grand_total:wt(Ge.grandTotal),departure_time:new Date().toLocaleTimeString(),estimated_arrival:new Date(Date.now()+18e5).toLocaleTimeString(),driver_name:"Delivery Driver",cell_number:"+1234567890",vehicle:"Delivery Vehicle",invoice_total:wt(Ge.grandTotal),invoice_number:(te==null?void 0:te.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return e$(ne,Te)},Pt=Te=>{const ot=Ke.find(Rt=>Rt.name===Te);ot&&(kt(ot),zt(ot.template))},Vt=Te=>{const ot=We.find(Rt=>Rt.name===Te);ot&&(Zt(ot),ze(ot.response_html||ot.response))},Ge=k.useMemo(()=>{const Te=t.reduce((Fr,Jr)=>{const ha=Jr.discountedPrice||Jr.price;return Fr+ha*Jr.quantity},0),ot=s.reduce((Fr,Jr)=>Fr+Jr.value,0),Rt=Math.max(0,Te-ot),Ut=ta.find(Fr=>Fr.id===j),$t=(Ut==null?void 0:Ut.rate)||0,rr=(Ut==null?void 0:Ut.is_inclusive)||!1;let Jt,yr;return rr?(Jt=Rt*$t/(100+$t),Jt=parseFloat(Jt.toFixed(2)),yr=Rt):(Jt=Rt*$t/100,Jt=parseFloat(Jt.toFixed(2)),yr=Rt+Jt),{subtotal:Te,couponDiscount:ot,taxableAmount:Rt,taxAmount:Jt,grandTotal:yr+M,selectedTax:Ut,isInclusive:rr}},[t,s,j,ta,M]),Ft=M8(Object.values(T)),Yt=P8(Ge.grandTotal,Object.values(T));k.useEffect(()=>{e&&va&&!j&&C(va)},[e,va,j]),k.useEffect(()=>{if(e&&qt.length>0){const Te=qt.find(ot=>ot.default===1);if(Te&&Object.keys(T).length===0){const ot=parseFloat(Ge.grandTotal.toFixed(2));H(Te.mode_of_payment),$({[Te.mode_of_payment]:ot})}}},[e,qt,Ge.grandTotal,_r,na]),k.useEffect(()=>{if(qt.length>0&&Object.keys(T).length>0&&qt.find(ot=>ot.default===1)){const Rt=Object.values(T).reduce((yr,Fr)=>yr+(Fr||0),0)-Ge.grandTotal,$t=Object.entries(T).reduce((yr,Fr)=>(Fr[1]||0)>(yr[1]||0)?Fr:yr),[rr,Jt]=$t;if(Jt>0&&Rt>0){const yr=Math.max(0,Jt-Rt);$(Fr=>je(Y({},Fr),{[rr]:yr}))}}},[Ge.grandTotal,qt,na,_r,qe,T]),k.useEffect(()=>{le&&te&&st&&(He(!0),setTimeout(()=>{Bf(te),He(!1)},500))},[le,te,st]);const Ht=Ye!=null&&Ye.custom_allow_write_off?qt.filter(Rt=>Rt.type==="Cash").filter(Rt=>(T[Rt.mode_of_payment]||0)>0).length>0:!1;if(k.useEffect(()=>{!Ht&&M!==0&&(K(0),re("0.00"))},[Ht,M]),!e)return null;if(cr||Gt)return a.jsx("div",{className:"p-6",children:"Loading..."});if(pr)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error: ",pr]});const br=[...qt].sort((Te,ot)=>Te.default===1&&ot.default!==1?-1:Te.default!==1&&ot.default===1?1:0).map(Te=>{const{icon:ot,color:Rt}=r$(Te.type||"Default");return{id:Te.mode_of_payment,name:Te.mode_of_payment,icon:ot,color:Rt,enabled:!0,amount:T[Te.mode_of_payment]||0}}),zr=()=>{var Ut,$t;if(O&&O in T)return O;const Te=Object.entries(T).filter(([,rr])=>(rr||0)>0).map(([rr])=>rr);if(Te.length===1)return(Ut=Te[0])!=null?Ut:null;const ot=(($t=qt.find(rr=>rr.default===1))==null?void 0:$t.mode_of_payment)||null,Rt=Te.find(rr=>rr!==ot);return Rt||ot},Ar=(Te,ot)=>{if(le||F)return;const Rt=i2(parseFloat(ot)||0);H(Te),$(Ut=>je(Y({},Ut),{[Te]:Rt}))},er=Te=>{if(le||F)return;const ot=Ge.grandTotal,Rt={};br.forEach(Ut=>{Rt[Ut.id]=0}),Rt[Te]=ot,H(Te),$(Rt),P(Te)},Kt=(Te,ot)=>{if(le||F)return;const Rt=i2(parseFloat(ot)||0);H(Te),$(Ut=>je(Y({},Ut),{[Te]:Rt}))},Er=()=>{var yr,Fr;if(le||F)return;if(!(Ye!=null&&Ye.custom_allow_write_off)){Ie.error(`Writeoff not allowed.
 Ask your administrator to enable it in POS profile.`);return}const ot=qt.filter(Jr=>Jr.type==="Cash").filter(Jr=>(T[Jr.mode_of_payment]||0)>0);if(ot.length===0){Ie.error("Writeoff is only allowed for cash payment methods");return}if(ot.reduce((Jr,ha)=>Jr+(T[ha.mode_of_payment]||0),0)===0){Ie.error("Cash payment method must have an amount to apply writeoff");return}const Ut=Ge.isInclusive?Ge.taxableAmount:Ge.taxableAmount+Ge.taxAmount,$t=(Ye==null?void 0:Ye.write_off_limit)||1;let rr,Jt;if($t<=1?(rr=Math.floor(Ut),Jt=rr-Ut):(rr=Math.floor(Ut/$t)*$t,Jt=rr-Ut),K(Jt),re(Jt.toFixed(2)),!(_r&&!na)){let ha=zr();if(!ha&&br.length>0){const ma=br[0];ma&&(ha=ma.id)}if(!ha){const ma=((yr=qt.find(kn=>kn.default===1))==null?void 0:yr.mode_of_payment)||((Fr=qt[0])==null?void 0:Fr.mode_of_payment);ma&&(ha=ma)}if(ha){const ma={};ma[ha]=rr,$(ma)}else console.error("No payment methods available for roundoff!")}},Br=Te=>{le||F||C(Te)},ra=Te=>{if(!Ht)return;let ot=Te;Te&&!Te.startsWith("-")&&!isNaN(parseFloat(Te))&&(ot="-"+Te);const Rt=parseFloat(ot);if(!isNaN(Rt)){const Ut=(Ye==null?void 0:Ye.write_off_limit)||1,$t=Ut<=1?.99:Ut-.01;if(Math.abs(Rt)>$t){Ie.error(`Roundoff amount cannot exceed ${$t.toFixed(2)}. Write-off limit is ${Ut}.`);return}re(ot),K(Rt);const rr=(Ge.isInclusive?Ge.taxableAmount:Ge.taxableAmount+Ge.taxAmount)+Rt,Jt=zr();if(Jt){const yr=Object.entries(T).filter(([Jr])=>Jr!==Jt).reduce((Jr,[,ha])=>Jr+(ha||0),0),Fr=Math.max(0,parseFloat((rr-yr).toFixed(2)));$(Jr=>je(Y({},Jr),{[Jt]:Fr}))}}},Xr=(Te=null)=>Ne(null,null,function*(){if(!o||!o.name){Ie.error("Kindly select a customer");return}if(mt&&!(Ye!=null&&Ye.custom_allow_credit_sales)){Ie.error("Credit sales are not enabled in POS Profile. Please enable 'Allow Credit Sales' in POS Profile settings.");return}if(na&&!mt){if(Object.entries(T).filter(([,rr])=>rr>0).map(([rr,Jt])=>({method:rr,amount:Jt})).length===0){Ie.error("Please enter payment amounts or select Credit Sale");return}if(Yt>0){Ie.error("Please complete the payment before proceeding");return}}oe(!0);let ot=[],Rt=0;mt?(ot=[],Rt=0):(Rt=_r?Ft:Ge.grandTotal,ot=_r?Object.entries(T).filter(([,$t])=>$t>0):(()=>{const $t=Object.entries(T).filter(([,Jt])=>Jt>0);if($t.length===0)return[];const rr=$t.reduce((Jt,[,yr])=>Jt+yr,0);if(rr>Ge.grandTotal){const Jt=rr-Ge.grandTotal,yr=$t.length-1,Fr=$t[yr];if(!Fr)return[];const[Jr,ha]=Fr,ma=parseFloat(Math.max(0,ha-Jt).toFixed(2));return $t.map(([kn,ho],ts)=>ts===yr?[kn,ma]:[kn,ho])}return $t})());const Ut={items:t.map($t=>{var rr,Jt,yr,Fr;return je(Y({},$t),{price:$t.discountedPrice||$t.price,batchNumber:((rr=_[$t.id])==null?void 0:rr.batchNumber)||null,serialNumber:((Jt=_[$t.id])==null?void 0:Jt.serialNumber)||null,uom:$t.uom||"Nos",discountPercentage:((yr=_[$t.id])==null?void 0:yr.discountPercentage)||0,discountAmount:((Fr=_[$t.id])==null?void 0:Fr.discountAmount)||0})}),customer:o,paymentMethods:ot.map(([$t,rr])=>({method:$t,amount:parseFloat((Number(rr)||0).toFixed(2))})),subtotal:Ge.subtotal,SalesTaxCharges:j,taxAmount:Ge.taxAmount,taxType:Ge.isInclusive?"inclusive":"exclusive",couponDiscount:Ge.couponDiscount,roundOffAmount:M,grandTotal:Ge.grandTotal,amountPaid:Rt,outstandingAmount:mt?Ge.grandTotal:Yt,appliedCoupons:s,businessType:Ye==null?void 0:Ye.business_type,deliveryPersonnel:Te||null,isCreditSale:mt};try{const $t=yield F8(Ut);he(!0),ce($t),pe($t.invoice);const rr=_r?"Invoice submitted successfully!":"Payment completed successfully!";Ie.success(rr),S8()||console.log(),Jc(),l(Ut)}catch($t){console.error("Payment processing error:",$t);let Jt=_r?"Failed to submit invoice":"Failed to process payment";$t!=null&&$t.message?Jt=$t.message:typeof $t=="string"&&(Jt=$t),Jt=ed($t,Jt),Ie.error(Jt)}finally{oe(!1)}}),Zr=()=>Ne(null,null,function*(){console.log("handleCompletePayment called - selectedDeliveryPersonnel:",Je),yield Xr(Je)}),Ja=Te=>{gt(Te),ve(!1)},Ln=()=>{if(!Je)return null;const Te=wa.find(ot=>ot.name===Je);return(Te==null?void 0:Te.delivery_personnel)||Je},sa=Te=>{Ga(`/invoice/${Te.name}`)},Va=()=>Ne(null,null,function*(){if(!o){Ie.error("Kindly select a customer");return}X(!0);const Te={items:t,customer:o,subtotal:Ge.subtotal,SalesTaxCharges:j,taxAmount:Ge.taxAmount,taxType:Ge.isInclusive?"inclusive":"exclusive",couponDiscount:Ge.couponDiscount,roundOffAmount:M,grandTotal:Ge.grandTotal,appliedCoupons:s,status:"held",businessType:Ye==null?void 0:Ye.business_type};try{yield gj(Te),Jc(),c(Te)}catch(ot){const Rt=ed(ot,"Failed to hold order");Ie.error(Rt)}finally{X(!1)}}),wt=Te=>`${Tr} ${Te.toLocaleString(void 0,{minimumFractionDigits:2})}`,ua=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ka=()=>F?_r?"Submitting Invoice...":"Processing Payment...":mt?_r?"Submit Invoice (Credit Sale)":"Complete Sale (Credit)":_r?Ft===0?"Submit Invoice (Pay Later)":Yt>0?"Submit Invoice (Partial Payment)":"Submit Invoice (Paid)":"Complete Payment",fa=()=>le||F?!0:mt?!1:na?Yt>0:!1;return u?a.jsx("div",{className:f?"h-full bg-white dark:bg-gray-900 overflow-y-auto custom-scrollbar":"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"min-h-screen",children:[!f&&a.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:a.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:le?"Invoice Complete":_r?"Submit Invoice":"Payment"})}),a.jsx("div",{className:"p-4 space-y-6",children:le?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"text-green-600 dark:text-green-400 text-center",children:[a.jsx("p",{className:"font-semibold",children:_r?"Invoice Submitted Successfully!":"Payment Completed Successfully!"}),a.jsxs("p",{className:"text-sm opacity-75",children:["Total: ",wt(Ge.grandTotal)]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[de&&a.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx(Xa,{size:16,className:"animate-spin"}),a.jsx("span",{className:"text-sm",children:"Printing..."})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Print",onClick:()=>{Bf(te)},children:[a.jsx(Bi,{size:18}),a.jsx("span",{children:"Print"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Email",onClick:()=>{const Te=encodeURIComponent("Your Invoice"),ot=encodeURIComponent(`Dear ${o==null?void 0:o.name},

Here is your invoice total: ${wt(Ge.grandTotal)}

Thank you.`);window.open(`mailto:${o==null?void 0:o.email}?subject=${Te}&body=${ot}`)},children:[a.jsx(Dp,{size:18}),a.jsx("span",{children:"Email"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 dark:bg-green-900/20 text-beveren-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/30 transition-colors",title:"WhatsApp",onClick:()=>{const Te=encodeURIComponent(`Here is your invoice total: ${wt(Ge.grandTotal)}`);window.open(`https://wa.me/${o==null?void 0:o.phone}?text=${Te}`,"_blank")},children:[a.jsx(Ip,{size:18}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-teal-900/20 text-teal-500 dark:text-teal-400 rounded-lg hover:bg-teal-200 dark:hover:bg-purple-900/30 transition-colors",title:"Text Message",onClick:()=>window.open(`tel:${o==null?void 0:o.phone}`),children:[a.jsx(Lp,{size:18}),a.jsx("span",{children:"SMS"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/20 text-p-600 dark:text-purple-400 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/30 transition-colors",title:"View Full Invoice",onClick:()=>sa(te),children:[a.jsx($l,{size:18}),a.jsx("span",{children:"View"})]})]}),te&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-center",children:"Invoice Preview:"}),a.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-3 bg-gray-50 dark:bg-gray-700 max-h-64 overflow-y-auto",children:a.jsx(zf,{invoice:te})})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>{r(!0)},className:"w-full py-3 bg-beveren-600 text-white rounded-lg font-medium hover:bg-beveren-700 transition-colors",children:"Start New Order"})})]}):a.jsxs(a.Fragment,{children:[(Ye==null?void 0:Ye.custom_allow_credit_sales)&&a.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:mt,onChange:Te=>{xt(Te.target.checked),Te.target.checked&&$({})},disabled:le||F,className:"w-5 h-5 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500 focus:ring-2"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Credit Sale"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Stock will be updated, invoice created, but payment will be marked as unpaid"})]})]})}),(na||_r)&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),a.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:br.map(Te=>a.jsxs("div",{className:`${br.length<=3?"flex-1 min-w-0":"min-w-[280px] max-w-[280px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${le||F?"bg-gray-50 dark:bg-gray-800":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${Te.color} text-white flex items-center justify-center`,children:a.jsx("div",{className:"scale-75",children:Te.icon})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Te.name})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),a.jsx("input",{type:"number",value:Te.amount.toFixed(2)||"",onChange:ot=>Ar(Te.id,ot.target.value),placeholder:"0.00",disabled:le||F||mt,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${le||F||mt?"cursor-not-allowed opacity-50":""}`}),(Te.name.toLowerCase()==="credit"||Te.name.toLowerCase()==="credit sale")&&a.jsx("p",{className:"mt-1 text-xs text-orange-600 dark:text-orange-400",children:Ye!=null&&Ye.custom_allow_credit_sales?"Credit sale - enter 0 for full credit":"Credit sales not enabled in POS Profile"})]})]},Te.id))})]}),a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"number",value:se,onChange:Te=>ra(Te.target.value),disabled:le||F||!Ht,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${le||F||!Ht?"cursor-not-allowed opacity-50":""}`}),a.jsx("button",{onClick:Er,disabled:le||F||!Ht,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${le||F||!Ht?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:a.jsx(Z1,{size:16})})]})]})})}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:wt(Ge.subtotal)})]}),Ge.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{children:["-",wt(Ge.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(en=Ge.selectedTax)==null?void 0:en.rate,"%"," ",Ge.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`font-medium ${Ge.isInclusive?"text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:Ge.isInclusive?`(${wt(Ge.taxAmount)})`:wt(Ge.taxAmount)})]}),M!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:wt(M)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Grand Total"}),a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:wt(Ge.grandTotal)})]})}),(na||_r)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),a.jsx("span",{className:"font-medium text-beveren-600 dark:text-blue-400",children:wt(Ft)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:wt(Yt)})]}),Ft>Ge.grandTotal&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),a.jsx("span",{className:"font-medium text-beveren-600 dark:text-beveren-400",children:wt(o2(Ft,Ge.grandTotal))})]})]}),_r&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:wt(Ge.grandTotal)})]})]}),a.jsxs("div",{className:"space-y-3 pt-6",children:[a.jsx("button",{onClick:Zr,disabled:fa(),className:`w-full py-4 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${_r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:F?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{size:20,className:"animate-spin"}),a.jsx("span",{children:ka()})]}):a.jsx("span",{children:ka()})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.jsx("button",{onClick:Va,disabled:le||F||fe,className:`py-3 px-4 border border-orange-500 text-orange-600 dark:text-orange-400 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center justify-center space-x-2 ${le||F||fe?"cursor-not-allowed opacity-50":""}`,children:fe?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{size:16,className:"animate-spin"}),a.jsx("span",{children:"Holding..."})]}):a.jsx("span",{children:"Hold Order"})})})]})]})})]})}):a.jsxs("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_r?"Invoice Submission":"Payment Processing"}),le?a.jsxs("div",{className:"flex items-center space-x-3",children:[de&&a.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[a.jsx(Xa,{size:16,className:"animate-spin"}),a.jsx("span",{className:"text-sm",children:"Printing..."})]}),a.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg",title:"Print",onClick:()=>{Bf(te),Ga("/")},children:a.jsx(Bi,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${W==="email"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"Email",onClick:()=>z(W==="email"?null:"email"),children:a.jsx(Dp,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${W==="whatsapp"?"bg-blue-100 text-green-700":"text-green-600 hover:bg-green-100"} dark:text-green-400 dark:hover:bg-green-900`,title:"WhatsApp",onClick:()=>z(W==="whatsapp"?null:"whatsapp"),style:{display:Ye!=null&&Ye.custom_enable_whatsapp?"block":"none"},children:a.jsx(Ip,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${W==="sms"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"SMS",onClick:()=>z(W==="sms"?null:"sms"),style:{display:Ye!=null&&Ye.custom_enable_sms?"block":"none"},children:a.jsx(Lp,{size:20})}),a.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-100 dark:text-purple-400 dark:hover:bg-purple-900 rounded-lg",title:"View Full",onClick:()=>sa(te),children:a.jsx($l,{size:20})})]}):a.jsx("button",{onClick:()=>r(le),disabled:F||fe,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(Ra,{size:24})})]}),a.jsxs("div",{className:"flex flex-1 min-h-0",children:[a.jsx("div",{className:"w-2/3 p-6 overflow-y-auto custom-scrollbar space-y-6",children:le&&W||p&&W?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:["Share via ",W]}),a.jsx("button",{onClick:()=>z(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ra,{size:20})})]}),W==="email"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:ae.name,onChange:Te=>ge(ot=>je(Y({},ot),{name:Te.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:ae.email,onChange:Te=>ge(ot=>je(Y({},ot),{email:Te.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"customer@email.com"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Message Preview"}),a.jsx("button",{type:"button",onClick:()=>jt(!tt),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:tt?a.jsx(Uc,{className:"w-4 h-4"}):a.jsx(e2,{className:"w-4 h-4"})})]}),tt&&a.jsxs("div",{className:"space-y-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Template"}),rt?a.jsxs("div",{className:"flex items-center justify-center p-4",children:[a.jsx(Xa,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):a.jsxs("select",{value:(ur==null?void 0:ur.name)||"",onChange:Te=>Vt(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Select a template (optional)"}),We.map(Te=>{const ot=(Ye==null?void 0:Ye.custom_email_template)===Te.name;return a.jsxs("option",{value:Te.name,children:[Te.name,ot?" [Default]":""]},Te.name)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),a.jsx("textarea",{value:ne,onChange:Te=>ze(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:6,placeholder:"Enter your email message..."})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Subject: Your Invoice from KLiK PoS"}),a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:lt()}})})]})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){U(!0);try{yield V8({email:ae.email,customer_name:ae.name,invoice_data:(te==null?void 0:te.name)||"",message:lt()}),Ie.success("Email sent successfully!"),z(null)}catch(Te){const ot=Lg(Te.message,"email");Ie.error(ot)}finally{U(!1)}}),disabled:!ae.email||ue,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:ue?"Sending...":"Send Email"})]}),W==="whatsapp"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:ae.name,onChange:Te=>ge(ot=>je(Y({},ot),{name:Te.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:ae.phone,onChange:Te=>ge(ot=>je(Y({},ot),{phone:Te.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"WhatsApp Message Preview"}),a.jsx("button",{type:"button",onClick:()=>ye(!At),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:At?a.jsx(Uc,{className:"w-4 h-4"}):a.jsx(e2,{className:"w-4 h-4"})})]}),At&&a.jsxs("div",{className:"space-y-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Template"}),be?a.jsxs("div",{className:"flex items-center justify-center p-4",children:[a.jsx(Xa,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):a.jsxs("select",{value:(dt==null?void 0:dt.name)||"",onChange:Te=>Pt(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Select a template (optional)"}),Ke.map(Te=>{const ot=(Ye==null?void 0:Ye.custom_whatsap_template)===Te.name;return a.jsxs("option",{value:Te.name,children:[Te.template_name," - ",Te.category," (",Te.status,")",ot?" [Default]":""]},Te.name)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),a.jsx("textarea",{value:ht,onChange:Te=>zt(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:4,placeholder:"Enter your WhatsApp message..."})]})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"whitespace-pre-wrap",children:Ve()})})})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){Ae(!0);try{yield K8({mobile_no:ae.phone,customer_name:ae.name,invoice_data:(te==null?void 0:te.name)||"",message:Ve()}),Ie.success("Whatsap message sent successfully!"),z(null)}catch(Te){const ot=Lg(Te.message,"whatsapp");Ie.error(ot)}finally{Ae(!1)}}),disabled:!ae.phone||Q,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:Q?"Sending...":"Send Whatsap Message"})]}),W==="sms"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:ae.name,onChange:Te=>ge(ot=>je(Y({},ot),{name:Te.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:ae.phone,onChange:Te=>ge(ot=>je(Y({},ot),{phone:Te.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMS Message Preview"}),a.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-4 border border-teal-200 dark:border-teal-800",children:a.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[a.jsxs("p",{children:["Hi ",ae.name||"Customer","!"]}),a.jsx("p",{className:"mt-1",children:"Thank you for your purchase at KLiK PoS."}),a.jsxs("p",{className:"mt-1",children:["Invoice Total:"," ",wt(Ge.grandTotal)]}),a.jsx("p",{className:"mt-1",children:"Thank you!"})]})})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){try{yield W8({mobile_no:ae.phone,customer_name:ae.name,message:`Thank you for your purchase at KLiK PoS.
Invoice Total: ${wt(Ge.grandTotal)}
Thank you!`}),Ie.success("SMS sent successfully!"),z(null)}catch(Te){const ot=Lg(Te.message,"sms");Ie.error(ot)}}),disabled:!ae.phone,className:"w-full py-3 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send SMS"})]})]}):a.jsxs("div",{className:"space-y-6",children:[(Ye==null?void 0:Ye.custom_allow_credit_sales)&&a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:mt,onChange:Te=>{xt(Te.target.checked),Te.target.checked&&$({})},disabled:le||F,className:"w-5 h-5 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500 focus:ring-2"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Credit Sale"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Stock will be updated, invoice created, but payment will be marked as unpaid"})]})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),a.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:br.map(Te=>a.jsxs("div",{className:`${br.length<=3?"flex-1 min-w-0":"min-w-[300px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${le||F?"bg-gray-50 dark:bg-gray-800":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`w-8 h-6 rounded-md ${Te.color} text-white flex items-center justify-center`,children:a.jsx("div",{className:"scale-75",children:Te.icon})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Te.name})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),a.jsx("div",{className:"flex space-x-1",children:a.jsx("button",{onClick:()=>er(Te.id),disabled:le||F,className:`p-1 rounded text-xs ${le||F?"cursor-not-allowed opacity-50":"hover:bg-beveren-100 text-beveren-600"}`,title:"Auto-fill with grand total",children:a.jsx(uo,{size:16})})})]}),a.jsx("input",{type:"number",step:"0.01",value:Te.amount||"",onChange:ot=>{P(Te.id);const Rt=ot.target.value,Ut=Rt===""?0:parseFloat(Rt);Kt(Te.id,isNaN(Ut)?"0":Ut.toString())},onBlur:ot=>{P(Te.id);const Rt=parseFloat(ot.target.value);if(!isNaN(Rt)){const Ut=parseFloat(Rt.toFixed(2));Kt(Te.id,Ut.toString())}},placeholder:"0.00",disabled:le||F||mt,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm ${le||F||mt?"cursor-not-allowed opacity-50":""}`}),(Te.name.toLowerCase()==="credit"||Te.name.toLowerCase()==="credit sale")&&a.jsx("p",{className:"mt-1 text-xs text-orange-600 dark:text-orange-400",children:Ye!=null&&Ye.custom_allow_credit_sales?"Credit sale - enter 0 for full credit":"Credit sales not enabled in POS Profile"})]})]},Te.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sales & Tax Charges"}),a.jsx("select",{value:j,onChange:Te=>Br(Te.target.value),disabled:le||F,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${le||F?"cursor-not-allowed opacity-50":""}`,children:ta.map(Te=>a.jsxs("option",{value:Te.id,children:[Te.name," (",Te.rate,"%"," ",Te.is_inclusive?"Incl.":"Excl.",")"]},Te.id))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tax Amount ",Ge.isInclusive&&"(Included)"]}),a.jsx("div",{className:`px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg font-medium ${Ge.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ge.isInclusive?`(${wt(Ge.taxAmount)})`:wt(Ge.taxAmount)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:_r?"Invoice Summary":"Payment Summary"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"number",value:se,onChange:Te=>ra(Te.target.value),disabled:le||F||!Ht,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${le||F?"cursor-not-allowed opacity-50":""}`}),a.jsx("button",{onClick:Er,disabled:le||F||!Ht,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${le||F||!Ht?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:a.jsx(Z1,{size:16})})]})]})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:wt(Ge.subtotal)})]}),Ge.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Coupon Discount"}),a.jsxs("span",{children:["-",wt(Ge.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Mr=Ge.selectedTax)==null?void 0:Mr.rate,"%"," ",Ge.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`font-medium ${Ge.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ge.isInclusive?`(${wt(Ge.taxAmount)})`:wt(Ge.taxAmount)})]}),M!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:wt(M)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Grand Total"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:wt(Ge.grandTotal)})]})}),(na||_r)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),a.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:wt(Ft)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("span",{className:`font-bold ${Yt>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:wt(Yt)})]}),Ft>Ge.grandTotal&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:wt(o2(Ft,Ge.grandTotal))})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-600 flex-1 overflow-y-auto custom-scrollbar",children:le&&te?a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Print Format Preview:"}),a.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-gray-50 dark:bg-gray-700",children:a.jsx(zf,{invoice:te})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"KLiK PoS"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sales Invoice"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:ua}),_r&&a.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mt-1",children:"Payment Pending"})]}),o&&a.jsxs("div",{className:"mb-4 pb-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.email}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.phone})]}),a.jsx("div",{className:"space-y-2 mb-4",children:t.length>0?t.map((Te,ot)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Te.name}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[Te.quantity," x ",wt(Te.price)]})]}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:wt(Te.quantity*Te.price)})]},ot)):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Invoice #:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(p==null?void 0:p.name)||(o==null?void 0:o.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(p==null?void 0:p.customer)||(o==null?void 0:o.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:wt((p==null?void 0:p.grand_total)||Ge.grandTotal)})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:a.jsx(zf,{invoice:p||ee||{}})})]})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:wt(Ge.subtotal)})]}),Ge.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{children:["-",wt(Ge.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(fn=Ge.selectedTax)==null?void 0:fn.rate,"%"," ",Ge.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`${Ge.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ge.isInclusive?`(${wt(Ge.taxAmount)})`:wt(Ge.taxAmount)})]}),M!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:wt(M)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:wt(Ge.grandTotal)})]})}),(na||_r)&&Object.entries(T).filter(([,Te])=>Te>0).length>0&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Methods:"}),Object.entries(T).filter(([,Te])=>Te>0).map(([Te,ot])=>a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:Te}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:wt(ot)})]},Te))]}),_r&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"Outstanding Amount:"}),a.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:wt(Ge.grandTotal)})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Payment to be collected separately"})]}),Ge.selectedTax&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:a.jsxs("p",{className:`text-xs ${Ge.isInclusive?"text-blue-500 dark:text-blue-400":"text-orange-500 dark:text-orange-400"}`,children:["Tax is"," ",Ge.isInclusive?"inclusive":"exclusive"," ","of item prices"]})}),le&&((es=ee==null?void 0:ee.invoice)==null?void 0:es.custom_invoice_qr_code)&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("img",{src:ee.invoice.custom_invoice_qr_code,alt:"Invoice QR Code",className:"mx-auto w-20 h-20 object-contain border border-gray-200 dark:border-gray-600 rounded-lg"})})]}),a.jsxs("div",{className:"text-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Thank you for your business!"}),_r&&a.jsx("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:"Invoice will be sent for payment processing"})]})]})})]}),le||p?a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[Ee&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Personnel"}),a.jsxs("button",{type:"button",onClick:()=>ve(!0),disabled:le||F,className:`w-full max-w-xs px-4 py-2 text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center justify-between ${le||F?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[a.jsx("span",{children:Ln()||a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Select Delivery Personnel"})}),a.jsx(Ap,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2"})]})]}),a.jsxs("div",{className:`flex justify-end space-x-4 ${Ee?"":"w-full"}`,children:[le&&a.jsx("button",{onClick:()=>r(!0),className:"bg-beveren-500 px-6 py-2 border border-gray-300 dark:border-gray-600 text-white dark:text-gray-300 rounded-lg font-medium hover:bg-green-700 dark:hover:bg-gray-800 transition-colors",children:"New Order"}),p&&a.jsx("button",{onClick:()=>r(),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Close"})]})]})}):a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[Ee&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Personnel"}),a.jsxs("button",{type:"button",onClick:()=>ve(!0),disabled:le||F,className:`w-full max-w-xs px-4 py-2 text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center justify-between ${le||F?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[a.jsx("span",{children:Ln()||a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Select Delivery Personnel"})}),a.jsx(Ap,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2"})]})]}),a.jsxs("div",{className:`flex justify-end space-x-4 ${Ee?"":"w-full"}`,children:[a.jsx("button",{onClick:Va,disabled:le||F||fe,className:`px-6 py-2 border  border-gray-300 dark:border-gray-600 text-gray-700 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center space-x-2 ${le||F||fe?"cursor-not-allowed opacity-50":""}`,children:fe?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{size:16,className:"animate-spin"}),a.jsx("span",{children:"Holding..."})]}):a.jsx("span",{children:"Hold Order"})}),a.jsx("button",{onClick:Zr,disabled:fa(),className:`px-8 py-2 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 ${_r?"bg-beveren-500 hover:bg-blue-700 text-white":"bg-beveren-600 hover:bg-beveren-700 text-white"}`,children:F?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{size:16,className:"animate-spin"}),a.jsx("span",{children:ka()})]}):a.jsxs(a.Fragment,{children:[a.jsx(Uc,{size:16}),a.jsx("span",{children:ka()})]})})]})]})})]}),a.jsx(t$,{isOpen:yt,onClose:()=>ve(!1),onSelect:Ja})]})}const d2=()=>{const e=window.csrf_token;return{createCustomer:l=>Ne(null,null,function*(){var c;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.create_or_update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_data:l}),credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((c=f.message)==null?void 0:c.error)||"Customer creation failed");return f.message}catch(u){throw console.error(" Error creating customer:",u),u}}),updateCustomer:(l,c)=>Ne(null,null,function*(){var u;try{const m=yield(yield fetch("/api/method/klik_pos.api.customer.update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_id:l,customer_data:c}),credentials:"include"})).json();if(!m.message||!m.message.success)throw new Error(((u=m.message)==null?void 0:u.error)||"Customer update failed");return m.message}catch(f){throw console.error(" Error updating customer:",f),f}}),getCustomerGroups:()=>Ne(null,null,function*(){var l;try{const u=yield(yield fetch("/api/method/klik_pos.api.customer.get_customer_groups",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!u.message||!u.message.success)throw new Error(((l=u.message)==null?void 0:l.error)||"Failed to fetch customer groups");return u.message.data}catch(c){throw console.error(" Error fetching customer groups:",c),c}}),getTerritories:()=>Ne(null,null,function*(){var l;try{const u=yield(yield fetch("/api/method/klik_pos.api.customer.get_territories",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!u.message||!u.message.success)throw new Error(((l=u.message)==null?void 0:l.error)||"Failed to fetch territories");return u.message.data}catch(c){throw console.error(" Error fetching territories:",c),c}})}},a$={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var Ug={exports:{}},Fg,u2;function n$(){if(u2)return Fg;u2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fg=e,Fg}var zg,f2;function s$(){if(f2)return zg;f2=1;var e=n$();function r(){}function t(){}return t.resetWarningCache=r,zg=function(){function s(c,u,f,m,p,_){if(_!==e){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:r};return l.PropTypes=l,l},zg}var h2;function o$(){return h2||(h2=1,Ug.exports=s$()()),Ug.exports}var i$=o$();const pt=Dl(i$);var Bg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var m2;function l$(){return m2||(m2=1,function(e){(function(){var r={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(l=o(l,s(u)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var u in l)r.call(l,u)&&l[u]&&(c=o(c,u));return c}function o(l,c){return c?l?l+" "+c:l+c:l}e.exports?(t.default=t,e.exports=t):window.classNames=t})()}(Bg)),Bg.exports}var c$=l$();const Jf=Dl(c$);function d$(e,r,t){switch(t){case"Backspace":r>0&&(e=e.slice(0,r-1)+e.slice(r),r--);break;case"Delete":e=e.slice(0,r)+e.slice(r+1);break}return{value:e,caret:r}}function u$(e,r,t){for(var s={},o="",l=0,c=0;c<e.length;){var u=t(e[c],o,s);u!==void 0&&(o+=u,r!==void 0&&(r===c?l=o.length-1:r>c&&(l=o.length))),c++}r===void 0&&(l=o.length);var f={value:o,caret:l};return f}function f$(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=h$(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$(e,r){if(e){if(typeof e=="string")return g2(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g2(e,r)}}function g2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function Vp(e,r){for(var t=0,s=f$(r.split("")),o;!(o=s()).done;){var l=o.value;l===e&&t++}return t}function m$(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=e.length,l=Vp("(",e),c=Vp(")",e),u=l-c;u>0&&o<r.length;)e+=r[o].replace(t,s),r[o]===")"&&u--,o++;return e}function g$(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=p$(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p$(e,r){if(e){if(typeof e=="string")return p2(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p2(e,r)}}function p2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function y$(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",t=arguments.length>2?arguments[2]:void 0;if(!e)return function(o){return{text:o}};var s=Vp(r,e);return function(o){if(!o)return{text:"",template:e};for(var l=0,c="",u=g$(e.split("")),f;!(f=u()).done;){var m=f.value;if(m!==r){c+=m;continue}if(c+=o[l],l++,l===o.length&&o.length<s)break}return t&&(c=m$(c,e)),{text:c,template:e}}}function x$(e,r,t){typeof t=="string"&&(t=y$(t));var s=t(e)||{},o=s.text,l=s.template;if(o===void 0&&(o=e),l)if(r===void 0)r=o.length;else{for(var c=0,u=!1,f=-1;c<o.length&&c<l.length;){if(o[c]!==l[c]){if(r===0){u=!0,r=c;break}f=c,r--}c++}u||(r=f+1)}return{text:o,caret:r}}function b$(e){return e.hasAttribute("readonly")}function v$(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var y2={Backspace:8,Delete:46};function w$(e){switch(e.keyCode){case y2.Backspace:return"Backspace";case y2.Delete:return"Delete"}}function j$(e){return e.selectionStart}function xj(e,r){r!==void 0&&(N$()?setTimeout(function(){return e.setSelectionRange(r,r)},0):e.setSelectionRange(r,r))}function N$(){if(typeof navigator!="undefined")return k$.test(navigator.userAgent)}var k$=/Android/i;function _$(e,r,t,s,o){Kp(r,t,s,void 0,o)}function S$(e,r,t,s,o){if(!b$(r)){var l=w$(e);switch(l){case"Delete":case"Backspace":e.preventDefault();var c=v$(r);return c?(C$(r,c),Kp(r,t,s,void 0,o)):Kp(r,t,s,l,o)}}}function C$(e,r){var t=e.value;t=t.slice(0,r.start)+t.slice(r.end),e.value=t,xj(e,r.start)}function Kp(e,r,t,s,o){var l=u$(e.value,j$(e),r),c=l.value,u=l.caret;if(s){var f=d$(c,u,s);c=f.value,u=f.caret}var m=x$(c,u,t),p=m.text;u=m.caret,e.value=p,xj(e,u),o&&o(c)}var $$=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function x2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function Sc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?x2(Object(t),!0).forEach(function(s){E$(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function E$(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function T$(e,r){if(e==null)return{};var t=O$(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function O$(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function A$(e){var r=e.ref,t=e.parse,s=e.format,o=e.value,l=e.defaultValue,c=e.controlled,u=c===void 0?!0:c,f=e.onChange,m=e.onKeyDown,p=T$(e,$$),_=k.useRef(),j=k.useCallback(function(O){_.current=O,r&&(typeof r=="function"?r(O):r.current=O)},[r]),C=k.useCallback(function(O){return _$(O,_.current,t,s,f)},[_,t,s,f]),T=k.useCallback(function(O){if(m&&m(O),!O.defaultPrevented)return S$(O,_.current,t,s,f)},[_,t,s,f,m]),$=Sc(Sc({},p),{},{ref:j,onChange:C,onKeyDown:T});return u?Sc(Sc({},$),{},{value:s(b2(o)?"":o).text}):Sc(Sc({},$),{},{defaultValue:s(b2(l)?"":l).text})}function b2(e){return e==null}var R$=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function v2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function P$(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?v2(Object(t),!0).forEach(function(s){M$(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function M$(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function D$(e,r){if(e==null)return{};var t=I$(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function I$(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function eh(e,r){var t=e.inputComponent,s=t===void 0?"input":t,o=e.parse,l=e.format,c=e.value,u=e.defaultValue,f=e.onChange,m=e.controlled,p=e.onKeyDown,_=e.type,j=_===void 0?"text":_,C=D$(e,R$),T=A$(P$({ref:r,parse:o,format:l,value:c,defaultValue:u,onChange:f,controlled:m,onKeyDown:p,type:j},C));return Nt.createElement(s,T)}eh=Nt.forwardRef(eh);eh.propTypes={parse:pt.func.isRequired,format:pt.func.isRequired,inputComponent:pt.elementType,type:pt.string,value:pt.string,defaultValue:pt.string,onChange:pt.func,controlled:pt.bool,onKeyDown:pt.func,onCut:pt.func,onPaste:pt.func};function w2(e,r){e=e.split("-"),r=r.split("-");for(var t=e[0].split("."),s=r[0].split("."),o=0;o<3;o++){var l=Number(t[o]),c=Number(s[o]);if(l>c)return 1;if(c>l)return-1;if(!isNaN(l)&&isNaN(c))return 1;if(isNaN(l)&&!isNaN(c))return-1}return e[1]&&r[1]?e[1]>r[1]?1:e[1]<r[1]?-1:0:!e[1]&&r[1]?1:e[1]&&!r[1]?-1:0}var L$={}.constructor;function Sl(e){return e!=null&&e.constructor===L$}function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},td(e)}function Eh(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function U$(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,F$(s.key),s)}}function Th(e,r,t){return r&&U$(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F$(e){var r=z$(e,"string");return td(r)=="symbol"?r:r+""}function z$(e,r){if(td(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(td(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B$="1.2.0",q$="1.7.35",j2=" ext. ",H$=/^\d+$/,Pa=function(){function e(r){Eh(this,e),bj(r),this.metadata=r,wj.call(this,r)}return Th(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(t){return t!=="001"})}},{key:"getCountryMetadata",value:function(t){return this.metadata.countries[t]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(t){return this.getCountryMetadata(t)!==void 0}},{key:"hasCallingCode",value:function(t){if(this.getCountryCodesForCallingCode(t))return!0;if(this.nonGeographic()){if(this.nonGeographic()[t])return!0}else{var s=this.countryCallingCodes()[t];if(s&&s.length===1&&s[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(t){return this.nonGeographic()?!!this.nonGeographic()[t]:!this.getCountryCodesForCallingCode(t)}},{key:"country",value:function(t){return this.selectNumberingPlan(t)}},{key:"selectNumberingPlan",value:function(t,s){if(t&&H$.test(t)&&(s=t,t=null),t&&t!=="001"){if(!this.hasCountry(t))throw new Error("Unknown country: ".concat(t));this.numberingPlan=new N2(this.getCountryMetadata(t),this)}else if(s){if(!this.hasCallingCode(s))throw new Error("Unknown calling code: ".concat(s));this.numberingPlan=new N2(this.getNumberingPlanMetadata(s),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(t){var s=this.countryCallingCodes()[t];if(s)return s.length===1&&s[0].length===3?void 0:s}},{key:"getCountryCodeForCallingCode",value:function(t){var s=this.getCountryCodesForCallingCode(t);if(s)return s[0]}},{key:"getNumberingPlanMetadata",value:function(t){var s=this.getCountryCodeForCallingCode(t);if(s)return this.getCountryMetadata(s);if(this.nonGeographic()){var o=this.nonGeographic()[t];if(o)return o}else{var l=this.countryCallingCodes()[t];if(l&&l.length===1&&l[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(t){return this.numberingPlan.type(t)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(t){return this.selectNumberingPlan(t)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),N2=function(){function e(r,t){Eh(this,e),this.globalMetadataObject=t,this.metadata=r,wj.call(this,t.metadata)}return Th(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(t){return t[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var t=this,s=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return s.map(function(o){return new G$(o,t)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(t){return t[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(t){if(this.hasTypes()&&k2(this.types(),t))return new K$(k2(this.types(),t),this)}},{key:"ext",value:function(){return this.v1||this.v2?j2:this.metadata[13]||j2}}])}(),G$=function(){function e(r,t){Eh(this,e),this._format=r,this.metadata=t}return Th(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!V$.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),V$=/^\(?\$1\)?$/,K$=function(){function e(r,t){Eh(this,e),this.type=r,this.metadata=t}return Th(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function k2(e,r){switch(r){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function bj(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Sl(e)||!Sl(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Sl(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+W$(e)+": "+e,"."))}var W$=function(r){return td(r)};function Vi(e,r){if(r=new Pa(r),r.hasCountry(e))return r.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function vj(e,r){return r.countries.hasOwnProperty(e)}function wj(e){var r=e.version;typeof r=="number"?(this.v1=r===1,this.v2=r===2,this.v3=r===3,this.v4=r===4):r?w2(r,B$)===-1?this.v2=!0:w2(r,q$)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function Oh(e,r){return Y$(e,void 0,r)}function Y$(e,r,t){var s=t.type(r),o=s&&s.possibleLengths()||t.possibleLengths();if(!o)return"IS_POSSIBLE";var l=e.length,c=o[0];return c===l?"IS_POSSIBLE":c>l?"TOO_SHORT":o[o.length-1]<l?"TOO_LONG":o.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Q$(e,r,t){if(r===void 0&&(r={}),t=new Pa(t),r.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!t.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));t.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(e.countryCallingCode)}}if(t.possibleLengths())return jj(e.phone||e.nationalNumber,t);if(e.countryCallingCode&&t.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function jj(e,r){switch(Oh(e,r)){case"IS_POSSIBLE":return!0;default:return!1}}function Go(e,r){return e=e||"",new RegExp("^(?:"+r+")$").test(e)}function X$(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=Z$(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z$(e,r){if(e){if(typeof e=="string")return _2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_2(e,r):void 0}}function _2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}var J$=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Ky(e,r,t){if(r=r||{},!(!e.country&&!e.countryCallingCode)){t=new Pa(t),t.selectNumberingPlan(e.country,e.countryCallingCode);var s=r.v2?e.nationalNumber:e.phone;if(Go(s,t.nationalNumberPattern())){if(qg(s,"FIXED_LINE",t))return t.type("MOBILE")&&t.type("MOBILE").pattern()===""||!t.type("MOBILE")||qg(s,"MOBILE",t)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var o=X$(J$),l;!(l=o()).done;){var c=l.value;if(qg(s,c,t))return c}}}}function qg(e,r,t){return r=t.type(r),!r||!r.pattern()||r.possibleLengths()&&r.possibleLengths().indexOf(e.length)<0?!1:Go(e,r.pattern())}function e7(e,r,t){if(r=r||{},t=new Pa(t),t.selectNumberingPlan(e.country,e.countryCallingCode),t.hasTypes())return Ky(e,r,t.metadata)!==void 0;var s=r.v2?e.nationalNumber:e.phone;return Go(s,t.nationalNumberPattern())}function t7(e,r,t){var s=new Pa(t),o=s.getCountryCodesForCallingCode(e);return o?o.filter(function(l){return r7(r,l,t)}):[]}function r7(e,r,t){var s=new Pa(t);return s.selectNumberingPlan(r),s.numberingPlan.possibleLengths().indexOf(e.length)>=0}var Wy=2,a7=17,n7=3,Nn="0-9---",s7="--",o7="/",i7=".",l7=" ",c7="()\\[\\]",d7="~",Fs="".concat(s7).concat(o7).concat(i7).concat(l7).concat(c7).concat(d7),Ah="+",u7=new RegExp("(["+Nn+"])");function Nj(e,r,t,s){if(r){var o=new Pa(s);o.selectNumberingPlan(r,t);var l=new RegExp(o.IDDPrefix());if(e.search(l)===0){e=e.slice(e.match(l)[0].length);var c=e.match(u7);if(!(c&&c[1]!=null&&c[1].length>0&&c[1]==="0"))return e}}}function Wp(e,r){if(e&&r.numberingPlan.nationalPrefixForParsing()){var t=new RegExp("^(?:"+r.numberingPlan.nationalPrefixForParsing()+")"),s=t.exec(e);if(s){var o,l,c=s.length-1,u=c>0&&s[c];if(r.nationalPrefixTransformRule()&&u)o=e.replace(t,r.nationalPrefixTransformRule()),c>1&&(l=s[1]);else{var f=s[0];o=e.slice(f.length),u&&(l=s[1])}var m;if(u){var p=e.indexOf(s[1]),_=e.slice(0,p);_===r.numberingPlan.nationalPrefix()&&(m=r.numberingPlan.nationalPrefix())}else m=s[0];return{nationalNumber:o,nationalPrefix:m,carrierCode:l}}}return{nationalNumber:e}}function Yp(e,r){var t=Wp(e,r),s=t.carrierCode,o=t.nationalNumber;if(o!==e){if(!f7(e,o,r))return{nationalNumber:e};if(r.possibleLengths()&&!h7(o,r))return{nationalNumber:e}}return{nationalNumber:o,carrierCode:s}}function f7(e,r,t){return!(Go(e,t.nationalNumberPattern())&&!Go(r,t.nationalNumberPattern()))}function h7(e,r){switch(Oh(e,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function kj(e,r,t,s){var o=r?Vi(r,s):t;if(e.indexOf(o)===0){s=new Pa(s),s.selectNumberingPlan(r,t);var l=e.slice(o.length),c=Yp(l,s),u=c.nationalNumber,f=Yp(e,s),m=f.nationalNumber;if(!Go(m,s.nationalNumberPattern())&&Go(u,s.nationalNumberPattern())||Oh(m,s)==="TOO_LONG")return{countryCallingCode:o,number:l}}return{number:e}}function Yy(e,r,t,s){if(!e)return{};var o;if(e[0]!=="+"){var l=Nj(e,r,t,s);if(l&&l!==e)o=!0,e="+"+l;else{if(r||t){var c=kj(e,r,t,s),u=c.countryCallingCode,f=c.number;if(u)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:u,number:f}}return{number:e}}}if(e[1]==="0")return{};s=new Pa(s);for(var m=2;m-1<=n7&&m<=e.length;){var p=e.slice(1,m);if(s.hasCallingCode(p))return s.selectNumberingPlan(p),{countryCallingCodeSource:o?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:p,number:e.slice(m)};m++}return{}}function _j(e){return e.replace(new RegExp("[".concat(Fs,"]+"),"g")," ").trim()}var Sj=/(\$\d)/;function Cj(e,r,t){var s=t.useInternationalFormat,o=t.withNationalPrefix;t.carrierCode,t.metadata;var l=e.replace(new RegExp(r.pattern()),s?r.internationalFormat():o&&r.nationalPrefixFormattingRule()?r.format().replace(Sj,r.nationalPrefixFormattingRule()):r.format());return s?_j(l):l}var m7=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function g7(e,r,t){var s=new Pa(t);if(s.selectNumberingPlan(e,r),s.defaultIDDPrefix())return s.defaultIDDPrefix();if(m7.test(s.IDDPrefix()))return s.IDDPrefix()}var p7=";ext=",Cc=function(r){return"([".concat(Nn,"]{1,").concat(r,"})")};function $j(e){var r="20",t="15",s="9",o="6",l="[ \\t,]*",c="[:\\.]?[ \\t,-]*",u="#?",f="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",m="(?:[x#~]|int|)",p="[- ]+",_="[ \\t]*",j="(?:,{2}|;)",C=p7+Cc(r),T=l+f+c+Cc(r)+u,$=l+m+c+Cc(s)+u,O=p+Cc(o)+"#",P=_+j+c+Cc(t)+u,q=_+"(?:,)+"+c+Cc(s)+u;return C+"|"+T+"|"+$+"|"+O+"|"+P+"|"+q}var y7="["+Nn+"]{"+Wy+"}",x7="["+Ah+"]{0,1}(?:["+Fs+"]*["+Nn+"]){3,}["+Fs+Nn+"]*",b7=new RegExp("^["+Ah+"]{0,1}(?:["+Fs+"]*["+Nn+"]){1,2}$","i"),v7=x7+"(?:"+$j()+")?",w7=new RegExp("^"+y7+"$|^"+v7+"$","i");function j7(e){return e.length>=Wy&&w7.test(e)}function N7(e){return b7.test(e)}function k7(e){var r=e.number,t=e.ext;if(!r)return"";if(r[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(r).concat(t?";ext="+t:"")}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$u(e)}function _7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=S7(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7(e,r){if(e){if(typeof e=="string")return S2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S2(e,r):void 0}}function S2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function C2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function $2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?C2(Object(t),!0).forEach(function(s){C7(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function C7(e,r,t){return(r=$7(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $7(e){var r=E7(e,"string");return $u(r)=="symbol"?r:r+""}function E7(e,r){if($u(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if($u(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var E2={formatExtension:function(r,t,s){return"".concat(r).concat(s.ext()).concat(t)}};function T7(e,r,t,s){if(t?t=$2($2({},E2),t):t=E2,s=new Pa(s),e.country&&e.country!=="001"){if(!s.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));s.country(e.country)}else if(e.countryCallingCode)s.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var o=s.countryCallingCode(),l=t.v2?e.nationalNumber:e.phone,c;switch(r){case"NATIONAL":return l?(c=th(l,e.carrierCode,"NATIONAL",s,t),Hg(c,e.ext,s,t.formatExtension)):"";case"INTERNATIONAL":return l?(c=th(l,null,"INTERNATIONAL",s,t),c="+".concat(o," ").concat(c),Hg(c,e.ext,s,t.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(l);case"RFC3966":return k7({number:"+".concat(o).concat(l),ext:e.ext});case"IDD":if(!t.fromCountry)return;var u=A7(l,e.carrierCode,o,t.fromCountry,s);return Hg(u,e.ext,s,t.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(r,'"'))}}function th(e,r,t,s,o){var l=O7(s.formats(),e);return l?Cj(e,l,{useInternationalFormat:t==="INTERNATIONAL",withNationalPrefix:!(l.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&o&&o.nationalPrefix===!1),carrierCode:r,metadata:s}):e}function O7(e,r){for(var t=_7(e),s;!(s=t()).done;){var o=s.value;if(o.leadingDigitsPatterns().length>0){var l=o.leadingDigitsPatterns()[o.leadingDigitsPatterns().length-1];if(r.search(l)!==0)continue}if(Go(r,o.pattern()))return o}}function Hg(e,r,t,s){return r?s(e,r,t):e}function A7(e,r,t,s,o){var l=Vi(s,o.metadata);if(l===t){var c=th(e,r,"NATIONAL",o);return t==="1"?t+" "+c:c}var u=g7(s,void 0,o.metadata);if(u)return"".concat(u," ").concat(t," ").concat(th(e,null,"INTERNATIONAL",o))}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Eu(e)}function T2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function O2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?T2(Object(t),!0).forEach(function(s){R7(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function R7(e,r,t){return(r=Ej(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function P7(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function M7(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Ej(s.key),s)}}function D7(e,r,t){return r&&M7(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ej(e){var r=I7(e,"string");return Eu(r)=="symbol"?r:r+""}function I7(e,r){if(Eu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Eu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tj=function(){function e(r,t,s){if(P7(this,e),!r)throw new TypeError("First argument is required");if(typeof r!="string")throw new TypeError("First argument must be a string");if(r[0]==="+"&&!t)throw new TypeError("`metadata` argument not passed");if(Sl(t)&&Sl(t.countries)){s=t;var o=r;if(!F7.test(o))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var l=Yy(o,void 0,void 0,s),c=l.countryCallingCode,u=l.number;if(t=u,r=c,!t)throw new Error("Invalid `number` argument passed: too short")}if(!t)throw new TypeError("`nationalNumber` argument is required");if(typeof t!="string")throw new TypeError("`nationalNumber` argument must be a string");bj(s);var f=U7(r,s),m=f.country,p=f.countryCallingCode;this.country=m,this.countryCallingCode=p,this.nationalNumber=t,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return s}}return D7(e,[{key:"setExt",value:function(t){this.ext=t}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:t7(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Q$(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return e7(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var t=new Pa(this.getMetadata());return t.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(t){return this.number===t.number&&this.ext===t.ext}},{key:"getType",value:function(){return Ky(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(t,s){return T7(this,t,s?O2(O2({},s),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(t){return this.format("NATIONAL",t)}},{key:"formatInternational",value:function(t){return this.format("INTERNATIONAL",t)}},{key:"getURI",value:function(t){return this.format("RFC3966",t)}}])}(),L7=function(r){return/^[A-Z]{2}$/.test(r)};function U7(e,r){var t,s,o=new Pa(r);return L7(e)?(t=e,o.selectNumberingPlan(t),s=o.countryCallingCode()):s=e,{country:t,countryCallingCode:s}}var F7=/^\+\d+$/;function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qp(e)}function z7(e,r,t){return Object.defineProperty(e,"prototype",{writable:!1}),e}function B7(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function q7(e,r,t){return r=Ou(r),H7(e,Qy()?Reflect.construct(r,t||[],Ou(e).constructor):r.apply(e,t))}function H7(e,r){if(r&&(Qp(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G7(e)}function G7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V7(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Tu(e,r)}function Xp(e){var r=typeof Map=="function"?new Map:void 0;return Xp=function(s){if(s===null||!W7(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(s))return r.get(s);r.set(s,o)}function o(){return K7(s,arguments,Ou(this).constructor)}return o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Tu(o,s)},Xp(e)}function K7(e,r,t){if(Qy())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,r);var o=new(e.bind.apply(e,s));return t&&Tu(o,t.prototype),o}function Qy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Qy=function(){return!!e})()}function W7(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(r){return typeof e=="function"}}function Tu(e,r){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Tu(e,r)}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ou(e)}var Uo=function(e){function r(t){var s;return B7(this,r),s=q7(this,r,[t]),Object.setPrototypeOf(s,r.prototype),s.name=s.constructor.name,s}return V7(r,e),z7(r)}(Xp(Error)),A2=new RegExp("(?:"+$j()+")$","i");function Y7(e){var r=e.search(A2);if(r<0)return{};for(var t=e.slice(0,r),s=e.match(A2),o=1;o<s.length;){if(s[o])return{number:t,ext:s[o]};o++}}function Q7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=X7(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7(e,r){if(e){if(typeof e=="string")return R2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R2(e,r):void 0}}function R2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}var Z7={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Oj(e){return Z7[e]}function rh(e){for(var r="",t=Q7(e.split("")),s;!(s=t()).done;){var o=s.value,l=Oj(o);l&&(r+=l)}return r}function J7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=eE(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eE(e,r){if(e){if(typeof e=="string")return P2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P2(e,r):void 0}}function P2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function Zp(e){for(var r="",t=J7(e.split("")),s;!(s=t()).done;){var o=s.value;r+=Aj(o,r)||""}return r}function Aj(e,r,t){if(e==="+"){if(r){typeof t=="function"&&t("end");return}return"+"}return Oj(e)}function tE(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=rE(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rE(e,r){if(e){if(typeof e=="string")return M2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M2(e,r):void 0}}function M2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function Rj(e,r){var t=r.countries;r.defaultCountry;var s=r.metadata;s=new Pa(s);for(var o=tE(t),l;!(l=o()).done;){var c=l.value;if(s.country(c),s.leadingDigits()){if(e&&e.search(s.leadingDigits())===0)return c}else if(Ky({phone:e,country:c},void 0,s.metadata))return c}}function Pj(e,r){var t=r.nationalNumber,s=r.defaultCountry,o=r.metadata,l=o.getCountryCodesForCallingCode(e);if(l)return l.length===1?l[0]:Rj(t,{countries:l,defaultCountry:s,metadata:o.metadata})}var Mj="+",aE="[\\-\\.\\(\\)]?",D2="(["+Nn+"]|"+aE+")",nE="^\\"+Mj+D2+"*["+Nn+"]"+D2+"*$",sE=new RegExp(nE,"g"),Jp=Nn,oE="["+Jp+"]+((\\-)*["+Jp+"])*",iE="a-zA-Z",lE="["+iE+"]+((\\-)*["+Jp+"])*",cE="^("+oE+"\\.)*"+lE+"\\.?$",dE=new RegExp(cE,"g"),I2="tel:",ey=";phone-context=",uE=";isub=";function fE(e){var r=e.indexOf(ey);if(r<0)return null;var t=r+ey.length;if(t>=e.length)return"";var s=e.indexOf(";",t);return s>=0?e.substring(t,s):e.substring(t)}function hE(e){return e===null?!0:e.length===0?!1:sE.test(e)||dE.test(e)}function mE(e,r){var t=r.extractFormattedPhoneNumber,s=fE(e);if(!hE(s))throw new Uo("NOT_A_NUMBER");var o;if(s===null)o=t(e)||"";else{o="",s.charAt(0)===Mj&&(o+=s);var l=e.indexOf(I2),c;l>=0?c=l+I2.length:c=0;var u=e.indexOf(ey);o+=e.substring(c,u)}var f=o.indexOf(uE);if(f>0&&(o=o.substring(0,f)),o!=="")return o}var gE=250,pE=new RegExp("["+Ah+Nn+"]"),yE=new RegExp("[^"+Nn+"#]+$");function xE(e,r,t){if(r=r||{},t=new Pa(t),r.defaultCountry&&!t.hasCountry(r.defaultCountry))throw r.v2?new Uo("INVALID_COUNTRY"):new Error("Unknown country: ".concat(r.defaultCountry));var s=vE(e,r.v2,r.extract),o=s.number,l=s.ext,c=s.error;if(!o){if(r.v2)throw c==="TOO_SHORT"?new Uo("TOO_SHORT"):new Uo("NOT_A_NUMBER");return{}}var u=jE(o,r.defaultCountry,r.defaultCallingCode,t),f=u.country,m=u.nationalNumber,p=u.countryCallingCode,_=u.countryCallingCodeSource,j=u.carrierCode;if(!t.hasSelectedNumberingPlan()){if(r.v2)throw new Uo("INVALID_COUNTRY");return{}}if(!m||m.length<Wy){if(r.v2)throw new Uo("TOO_SHORT");return{}}if(m.length>a7){if(r.v2)throw new Uo("TOO_LONG");return{}}if(r.v2){var C=new Tj(p,m,t.metadata);return f&&(C.country=f),j&&(C.carrierCode=j),l&&(C.ext=l),C.__countryCallingCodeSource=_,C}var T=(r.extended?t.hasSelectedNumberingPlan():f)?Go(m,t.nationalNumberPattern()):!1;return r.extended?{country:f,countryCallingCode:p,carrierCode:j,valid:T,possible:T?!0:!!(r.extended===!0&&t.possibleLengths()&&jj(m,t)),phone:m,ext:l}:T?wE(f,m,l):{}}function bE(e,r,t){if(e){if(e.length>gE){if(t)throw new Uo("TOO_LONG");return}if(r===!1)return e;var s=e.search(pE);if(!(s<0))return e.slice(s).replace(yE,"")}}function vE(e,r,t){var s=mE(e,{extractFormattedPhoneNumber:function(c){return bE(c,t,r)}});if(!s)return{};if(!j7(s))return N7(s)?{error:"TOO_SHORT"}:{};var o=Y7(s);return o.ext?o:{number:s}}function wE(e,r,t){var s={country:e,phone:r};return t&&(s.ext=t),s}function jE(e,r,t,s){var o=Yy(Zp(e),r,t,s.metadata),l=o.countryCallingCodeSource,c=o.countryCallingCode,u=o.number,f;if(c)s.selectNumberingPlan(c);else if(u&&(r||t))s.selectNumberingPlan(r,t),r&&(f=r),c=t||Vi(r,s.metadata);else return{};if(!u)return{countryCallingCodeSource:l,countryCallingCode:c};var m=Yp(Zp(u),s),p=m.nationalNumber,_=m.carrierCode,j=Pj(c,{nationalNumber:p,defaultCountry:r,metadata:s});return j&&(f=j,j==="001"||s.country(f)),{country:f,countryCallingCode:c,countryCallingCodeSource:l,nationalNumber:p,carrierCode:_}}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Au(e)}function L2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function U2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?L2(Object(t),!0).forEach(function(s){NE(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function NE(e,r,t){return(r=kE(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function kE(e){var r=_E(e,"string");return Au(r)=="symbol"?r:r+""}function _E(e,r){if(Au(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Au(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function SE(e,r,t){return xE(e,U2(U2({},r),{},{v2:!0}),t)}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ru(e)}function F2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function CE(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?F2(Object(t),!0).forEach(function(s){$E(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function $E(e,r,t){return(r=EE(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function EE(e){var r=TE(e,"string");return Ru(r)=="symbol"?r:r+""}function TE(e,r){if(Ru(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Ru(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function OE(e,r){return ME(e)||PE(e,r)||RE(e,r)||AE()}function AE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RE(e,r){if(e){if(typeof e=="string")return z2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z2(e,r):void 0}}function z2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function PE(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,l,c,u=[],f=!0,m=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(f=(s=l.call(t)).done)&&(u.push(s.value),u.length!==r);f=!0);}catch(p){m=!0,o=p}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function ME(e){if(Array.isArray(e))return e}function DE(e){var r=Array.prototype.slice.call(e),t=OE(r,4),s=t[0],o=t[1],l=t[2],c=t[3],u,f,m;if(typeof s=="string")u=s;else throw new TypeError("A text for parsing must be a string.");if(!o||typeof o=="string")c?(f=l,m=c):(f=void 0,m=l),o&&(f=CE({defaultCountry:o},f));else if(Sl(o))l?(f=o,m=l):m=o;else throw new Error("Invalid second argument: ".concat(o));return{text:u,options:f,metadata:m}}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pu(e)}function B2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function q2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?B2(Object(t),!0).forEach(function(s){IE(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function IE(e,r,t){return(r=LE(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function LE(e){var r=UE(e,"string");return Pu(r)=="symbol"?r:r+""}function UE(e,r){if(Pu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Pu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function FE(e,r,t){r&&r.defaultCountry&&!vj(r.defaultCountry,t)&&(r=q2(q2({},r),{},{defaultCountry:void 0}));try{return SE(e,r,t)}catch(s){if(!(s instanceof Uo))throw s}}function zE(){var e=DE(arguments),r=e.text,t=e.options,s=e.metadata;return FE(r,t,s)}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mu(e)}function BE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qE(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GE(s.key),s)}}function HE(e,r,t){return r&&qE(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GE(e){var r=VE(e,"string");return Mu(r)=="symbol"?r:r+""}function VE(e,r){if(Mu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Mu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KE=function(){function e(r){var t=r.onCountryChange,s=r.onCallingCodeChange;BE(this,e),this.onCountryChange=t,this.onCallingCodeChange=s}return HE(e,[{key:"reset",value:function(t){var s=t.country,o=t.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(s,o)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(t){for(var s=0,o=Object.keys(t);s<o.length;s++){var l=o[s];this[l]=t[l]}}},{key:"initCountryAndCallingCode",value:function(t,s){this.setCountry(t),this.setCallingCode(s)}},{key:"setCountry",value:function(t){this.country=t,this.onCountryChange(t)}},{key:"setCallingCode",value:function(t){this.callingCode=t,this.onCallingCodeChange(t,this.country)}},{key:"startInternationalNumber",value:function(t,s){this.international=!0,this.initCountryAndCallingCode(t,s)}},{key:"appendDigits",value:function(t){this.digits+=t}},{key:"appendNationalSignificantNumberDigits",value:function(t){this.nationalSignificantNumber+=t}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function WE(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=YE(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YE(e,r){if(e){if(typeof e=="string")return H2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H2(e,r):void 0}}function H2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}var Ps="x",Gg=new RegExp(Ps);function qf(e,r){if(r<1)return"";for(var t="";r>1;)r&1&&(t+=e),r>>=1,e+=e;return t+e}function G2(e,r){return e[r]===")"&&r++,QE(e.slice(0,r))}function QE(e){for(var r=[],t=0;t<e.length;)e[t]==="("?r.push(t):e[t]===")"&&r.pop(),t++;var s=0,o="";r.push(e.length);for(var l=0,c=r;l<c.length;l++){var u=c[l];o+=e.slice(s,u),s=u+1}return o}function XE(e,r,t){for(var s=WE(t.split("")),o;!(o=s()).done;){var l=o.value;if(e.slice(r+1).search(Gg)<0)return;r=e.search(Gg),e=e.replace(Gg,l)}return[e,r]}function ZE(e,r,t){var s=t.metadata,o=t.shouldTryNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix,c=new RegExp("^(?:".concat(r.pattern(),")$"));if(c.test(e.nationalSignificantNumber))return eT(e,r,{metadata:s,shouldTryNationalPrefixFormattingRule:o,getSeparatorAfterNationalPrefix:l})}function JE(e,r){return Oh(e,r)==="IS_POSSIBLE"}function eT(e,r,t){var s=t.metadata,o=t.shouldTryNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,o(r)){var c=V2(e,r,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:l,metadata:s});if(c)return c}return V2(e,r,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:l,metadata:s})}function V2(e,r,t){var s=t.metadata,o=t.useNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix,c=Cj(e.nationalSignificantNumber,r,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:o,metadata:s});if(o||(e.nationalPrefix?c=e.nationalPrefix+l(r)+c:e.complexPrefixBeforeNationalSignificantNumber&&(c=e.complexPrefixBeforeNationalSignificantNumber+" "+c)),tT(c,e))return c}function tT(e,r){return rh(e)===r.getNationalDigits()}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Du(e)}function rT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function aT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,sT(s.key),s)}}function nT(e,r,t){return r&&aT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sT(e){var r=oT(e,"string");return Du(r)=="symbol"?r:r+""}function oT(e,r){if(Du(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Du(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iT=function(){function e(){rT(this,e)}return nT(e,[{key:"parse",value:function(t){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(t),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var s=this.context[0],o=s.branches,l=s.instructions;if(o)return{op:"|",args:o.concat([Vg(l)])};if(l.length===0)throw new Error("Pattern is required");return l.length===1?l[0]:l}},{key:"startContext",value:function(t){this.context.push(t)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(t){if(!t)throw new Error("Pattern is required");var s=t.match(dT);if(!s){if(cT.test(t))throw new Error("Illegal characters found in a pattern: ".concat(t));this.getContext().instructions=this.getContext().instructions.concat(t.split(""));return}var o=s[1],l=t.slice(0,s.index),c=t.slice(s.index+o.length);switch(o){case"(?:":l&&this.parsePattern(l),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(l&&this.parsePattern(l),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var u=this.getContext(),f=u.branches;f.push(Vg(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:f});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(l&&this.parsePattern(l),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Vg(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":l&&this.parsePattern(l),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:lT(l)});break;default:throw new Error("Unknown operator: ".concat(o))}c&&this.parsePattern(c)}}])}();function lT(e){for(var r=[],t=0;t<e.length;){if(e[t]==="-"){if(t===0||t===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var s=e[t-1].charCodeAt(0)+1,o=e[t+1].charCodeAt(0)-1,l=s;l<=o;)r.push(String.fromCharCode(l)),l++}else r.push(e[t]);t++}return r}var cT=/[\(\)\[\]\?\:\|]/,dT=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Vg(e){return e.length===1?e[0]:e}function K2(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=uT(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uT(e,r){if(e){if(typeof e=="string")return W2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W2(e,r):void 0}}function W2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Iu(e)}function fT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gT(s.key),s)}}function mT(e,r,t){return r&&hT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gT(e){var r=pT(e,"string");return Iu(r)=="symbol"?r:r+""}function pT(e,r){if(Iu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Iu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yT=function(){function e(r){fT(this,e),this.matchTree=new iT().parse(r)}return mT(e,[{key:"match",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.allowOverflow;if(!t)throw new Error("String is required");var l=ty(t.split(""),this.matchTree,!0);if(l&&l.match&&delete l.matchedChars,!(l&&l.overflow&&!o))return l}}])}();function ty(e,r,t){if(typeof r=="string"){var s=e.join("");return r.indexOf(s)===0?e.length===r.length?{match:!0,matchedChars:e}:{partialMatch:!0}:s.indexOf(r)===0?t&&e.length>r.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,r.length)}:void 0}if(Array.isArray(r)){for(var o=e.slice(),l=0;l<r.length;){var c=r[l],u=ty(o,c,t&&l===r.length-1);if(u){if(u.overflow)return u;if(u.match){if(o=o.slice(u.matchedChars.length),o.length===0)return l===r.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(u.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(u,null,2)))}}else return;l++}return t?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-o.length)}}switch(r.op){case"|":for(var f,m=K2(r.args),p;!(p=m()).done;){var _=p.value,j=ty(e,_,t);if(j){if(j.overflow)return j;if(j.match)return{match:!0,matchedChars:j.matchedChars};if(j.partialMatch)f=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(j,null,2)))}}return f?{partialMatch:!0}:void 0;case"[]":for(var C=K2(r.args),T;!(T=C()).done;){var $=T.value;if(e[0]===$)return e.length===1?{match:!0,matchedChars:e}:t?{overflow:!0}:{match:!0,matchedChars:[$]}}return;default:throw new Error("Unsupported instruction tree: ".concat(r))}}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lu(e)}function Y2(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=xT(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xT(e,r){if(e){if(typeof e=="string")return Q2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q2(e,r):void 0}}function Q2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function bT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jT(s.key),s)}}function wT(e,r,t){return r&&vT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jT(e){var r=NT(e,"string");return Lu(r)=="symbol"?r:r+""}function NT(e,r){if(Lu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Lu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ry="9",kT=15,_T=qf(ry,kT),ST=/[- ]/,CT=function(){return/\[([^\[\]])*\]/g},$T=function(){return/\d(?=[^,}][^,}])/g},ET=new RegExp("["+Fs+"]*\\$1["+Fs+"]*(\\$\\d["+Fs+"]*)*$"),X2=3,TT=function(){function e(r){r.state;var t=r.metadata;bT(this,e),this.metadata=t,this.resetFormat()}return wT(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(t,s){this.resetFormat(),t?(this.isNANP=t.callingCode()==="1",this.matchingFormats=t.formats(),s.nationalSignificantNumber&&this.narrowDownMatchingFormats(s)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(t,s){var o=this;if(JE(s.nationalSignificantNumber,this.metadata))for(var l=Y2(this.matchingFormats),c;!(c=l()).done;){var u=c.value,f=ZE(s,u,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(p){return o.shouldTryNationalPrefixFormattingRule(p,{international:s.international,nationalPrefix:s.nationalPrefix})},getSeparatorAfterNationalPrefix:function(p){return o.getSeparatorAfterNationalPrefix(p)}});if(f)return this.resetFormat(),this.chosenFormat=u,this.setNationalNumberTemplate(f.replace(/\d/g,Ps),s),this.populatedNationalNumberTemplate=f,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Ps),f}return this.formatNationalNumberWithNextDigits(t,s)}},{key:"formatNationalNumberWithNextDigits",value:function(t,s){var o=this.chosenFormat,l=this.chooseFormat(s);if(l)return l===o?this.formatNextNationalNumberDigits(t):this.formatNextNationalNumberDigits(s.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(t){var s=this,o=t.nationalSignificantNumber,l=t.nationalPrefix,c=t.international,u=o,f=u.length-X2;f<0&&(f=0),this.matchingFormats=this.matchingFormats.filter(function(m){return s.formatSuits(m,c,l)&&s.formatMatches(m,u,f)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(t,s,o){return!(o&&!t.usesNationalPrefix()&&!t.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!s&&!o&&t.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(t,s,o){var l=t.leadingDigitsPatterns().length;if(l===0)return!0;o=Math.min(o,l-1);var c=t.leadingDigitsPatterns()[o];if(s.length<X2)try{return new yT(c).match(s,{allowOverflow:!0})!==void 0}catch(u){return console.error(u),!0}return new RegExp("^(".concat(c,")")).test(s)}},{key:"getFormatFormat",value:function(t,s){return s?t.internationalFormat():t.format()}},{key:"chooseFormat",value:function(t){for(var s=this,o=function(){var m=u.value;return s.chosenFormat===m?0:ET.test(s.getFormatFormat(m,t.international))?s.createTemplateForFormat(m,t)?(s.chosenFormat=m,0):(s.matchingFormats=s.matchingFormats.filter(function(p){return p!==m}),1):1},l,c=Y2(this.matchingFormats.slice()),u;!(u=c()).done&&(l=o(),l!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(t,s){if(!(t.pattern().indexOf("|")>=0)){var o=this.getTemplateForFormat(t,s);if(o)return this.setNationalNumberTemplate(o,s),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(t){return this.isNANP||t&&t.nationalPrefixFormattingRule()&&ST.test(t.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(t,s){var o=t.IDDPrefix,l=t.missingPlus;return o?s&&s.spacing===!1?o:o+" ":l?"":"+"}},{key:"getTemplate",value:function(t){if(this.template){for(var s=-1,o=0,l=t.international?this.getInternationalPrefixBeforeCountryCallingCode(t,{spacing:!1}):"";o<l.length+t.getDigitsWithoutInternationalPrefix().length;)s=this.template.indexOf(Ps,s+1),o++;return G2(this.template,s+1)}}},{key:"setNationalNumberTemplate",value:function(t,s){this.nationalNumberTemplate=t,this.populatedNationalNumberTemplate=t,this.populatedNationalNumberTemplatePosition=-1,s.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(s).replace(/[\d\+]/g,Ps)+qf(Ps,s.callingCode.length)+" "+t:this.template=t}},{key:"getTemplateForFormat",value:function(t,s){var o=s.nationalSignificantNumber,l=s.international,c=s.nationalPrefix,u=s.complexPrefixBeforeNationalSignificantNumber,f=t.pattern();f=f.replace(CT(),"\\d").replace($T(),"\\d");var m=_T.match(f)[0];if(!(o.length>m.length)){var p=new RegExp("^"+f+"$"),_=o.replace(/\d/g,ry);p.test(_)&&(m=_);var j=this.getFormatFormat(t,l),C;if(this.shouldTryNationalPrefixFormattingRule(t,{international:l,nationalPrefix:c})){var T=j.replace(Sj,t.nationalPrefixFormattingRule());if(rh(t.nationalPrefixFormattingRule())===(c||"")+rh("$1")&&(j=T,C=!0,c))for(var $=c.length;$>0;)j=j.replace(/\d/,Ps),$--}var O=m.replace(new RegExp(f),j).replace(new RegExp(ry,"g"),Ps);return C||(u?O=qf(Ps,u.length)+" "+O:c&&(O=qf(Ps,c.length)+this.getSeparatorAfterNationalPrefix(t)+O)),l&&(O=_j(O)),O}}},{key:"formatNextNationalNumberDigits",value:function(t){var s=XE(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,t);if(!s){this.resetFormat();return}return this.populatedNationalNumberTemplate=s[0],this.populatedNationalNumberTemplatePosition=s[1],G2(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(t,s){var o=s.international,l=s.nationalPrefix;if(t.nationalPrefixFormattingRule()){var c=t.usesNationalPrefix();if(c&&l||!c&&!o)return!0}}}])}();function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uu(e)}function Dj(e,r){return PT(e)||RT(e,r)||AT(e,r)||OT()}function OT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AT(e,r){if(e){if(typeof e=="string")return Z2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z2(e,r):void 0}}function Z2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function RT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,l,c,u=[],f=!0,m=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(f=(s=l.call(t)).done)&&(u.push(s.value),u.length!==r);f=!0);}catch(p){m=!0,o=p}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function PT(e){if(Array.isArray(e))return e}function MT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function DT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LT(s.key),s)}}function IT(e,r,t){return r&&DT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LT(e){var r=UT(e,"string");return Uu(r)=="symbol"?r:r+""}function UT(e,r){if(Uu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Uu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FT="["+Fs+Nn+"]+",zT=new RegExp("^"+FT+"$","i"),BT="(?:["+Ah+"]["+Fs+Nn+"]*|["+Fs+Nn+"]+)",qT=new RegExp("[^"+Fs+Nn+"]+.*$"),HT=/[^\d\[\]]/,GT=function(){function e(r){var t=r.defaultCountry,s=r.defaultCallingCode,o=r.metadata,l=r.onNationalSignificantNumberChange;MT(this,e),this.defaultCountry=t,this.defaultCallingCode=s,this.metadata=o,this.onNationalSignificantNumberChange=l}return IT(e,[{key:"input",value:function(t,s){var o=WT(t),l=Dj(o,2),c=l[0],u=l[1],f=rh(c),m;return u&&(s.digits||(s.startInternationalNumber(),f||(m=!0))),f&&this.inputDigits(f,s),{digits:f,justLeadingPlus:m}}},{key:"inputDigits",value:function(t,s){var o=s.digits,l=o.length<3&&o.length+t.length>=3;if(s.appendDigits(t),l&&this.extractIddPrefix(s),this.isWaitingForCountryCallingCode(s)){if(!this.extractCountryCallingCode(s))return}else s.appendNationalSignificantNumberDigits(t);s.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(s.getNationalDigits(),function(c){return s.update(c)})}},{key:"isWaitingForCountryCallingCode",value:function(t){var s=t.international,o=t.callingCode;return s&&!o}},{key:"extractCountryCallingCode",value:function(t){var s=Yy("+"+t.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),o=s.countryCallingCode,l=s.number;if(o)return t.setCallingCode(o),t.update({nationalSignificantNumber:l}),!0}},{key:"reset",value:function(t){if(t){this.hasSelectedNumberingPlan=!0;var s=t._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=s&&HT.test(s)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(t,s){if(this.hasSelectedNumberingPlan){var o=Wp(t,this.metadata),l=o.nationalPrefix,c=o.nationalNumber,u=o.carrierCode;if(c!==t)return this.onExtractedNationalNumber(l,u,c,t,s),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(t,s,o){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(t,o);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var l=Wp(t,this.metadata),c=l.nationalPrefix,u=l.nationalNumber,f=l.carrierCode;if(u!==s)return this.onExtractedNationalNumber(c,f,u,t,o),!0}}},{key:"onExtractedNationalNumber",value:function(t,s,o,l,c){var u,f,m=l.lastIndexOf(o);if(m>=0&&m===l.length-o.length){f=!0;var p=l.slice(0,m);p!==t&&(u=p)}c({nationalPrefix:t,carrierCode:s,nationalSignificantNumber:o,nationalSignificantNumberMatchesInput:f,complexPrefixBeforeNationalSignificantNumber:u}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(t){if(this.extractAnotherNationalSignificantNumber(t.getNationalDigits(),t.nationalSignificantNumber,function(s){return t.update(s)}))return!0;if(this.extractIddPrefix(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0;if(this.fixMissingPlus(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0}},{key:"extractIddPrefix",value:function(t){var s=t.international,o=t.IDDPrefix,l=t.digits;if(t.nationalSignificantNumber,!(s||o)){var c=Nj(l,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(c!==void 0&&c!==l)return t.update({IDDPrefix:l.slice(0,l.length-c.length)}),this.startInternationalNumber(t,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(t){if(!t.international){var s=kj(t.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),o=s.countryCallingCode;if(s.number,o)return t.update({missingPlus:!0}),this.startInternationalNumber(t,{country:t.country,callingCode:o}),!0}}},{key:"startInternationalNumber",value:function(t,s){var o=s.country,l=s.callingCode;t.startInternationalNumber(o,l),t.nationalSignificantNumber&&(t.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(t){this.extractCountryCallingCode(t)&&this.extractNationalSignificantNumber(t.getNationalDigits(),function(s){return t.update(s)})}}])}();function VT(e){var r=e.search(BT);if(!(r<0)){e=e.slice(r);var t;return e[0]==="+"&&(t=!0,e=e.slice(1)),e=e.replace(qT,""),t&&(e="+"+e),e}}function KT(e){var r=VT(e)||"";return r[0]==="+"?[r.slice(1),!0]:[r]}function WT(e){var r=KT(e),t=Dj(r,2),s=t[0],o=t[1];return zT.test(s)||(s=""),[s,o]}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fu(e)}function YT(e,r){return JT(e)||ZT(e,r)||XT(e,r)||QT()}function QT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XT(e,r){if(e){if(typeof e=="string")return J2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?J2(e,r):void 0}}function J2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function ZT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,l,c,u=[],f=!0,m=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(f=(s=l.call(t)).done)&&(u.push(s.value),u.length!==r);f=!0);}catch(p){m=!0,o=p}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function JT(e){if(Array.isArray(e))return e}function eO(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tO(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aO(s.key),s)}}function rO(e,r,t){return r&&tO(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aO(e){var r=nO(e,"string");return Fu(r)=="symbol"?r:r+""}function nO(e,r){if(Fu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Fu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var od=function(){function e(r,t){eO(this,e),this.metadata=new Pa(t);var s=this.getCountryAndCallingCode(r),o=YT(s,2),l=o[0],c=o[1];this.defaultCountry=l,this.defaultCallingCode=c,this.reset()}return rO(e,[{key:"getCountryAndCallingCode",value:function(t){var s,o;return t&&(Sl(t)?(s=t.defaultCountry,o=t.defaultCallingCode):s=t),s&&!this.metadata.hasCountry(s)&&(s=void 0),[s,o]}},{key:"input",value:function(t){var s=this.parser.input(t,this.state),o=s.digits,l=s.justLeadingPlus;if(l)this.formattedOutput="+";else if(o){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var c;if(this.metadata.hasSelectedNumberingPlan()&&(c=this.formatter.format(o,this.state)),c===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var u=this.state.getNationalDigits();u&&(c=this.formatter.format(u,this.state))}this.formattedOutput=c?this.getFullNumber(c):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var t=this;return this.state=new KE({onCountryChange:function(o){t.country=o},onCallingCodeChange:function(o,l){t.metadata.selectNumberingPlan(l,o),t.formatter.reset(t.metadata.numberingPlan,t.state),t.parser.reset(t.metadata.numberingPlan)}}),this.formatter=new TT({state:this.state,metadata:this.metadata}),this.parser=new GT({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){t.determineTheCountryIfNeeded(),t.formatter.reset(t.metadata.numberingPlan,t.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var t=this.state.digits;if(t)return this._getCountry()}},{key:"_getCountry",value:function(){var t=this.state.country;return t}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(t){var s=this;if(this.isInternational()){var o=function(u){return s.formatter.getInternationalPrefixBeforeCountryCallingCode(s.state,{spacing:!!u})+u},l=this.state.callingCode;return o(l?t?"".concat(l," ").concat(t):l:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return t}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var t=this.state,s=t.nationalSignificantNumber,o=t.complexPrefixBeforeNationalSignificantNumber,l=t.nationalPrefix,c=s,u=o||l;return u&&(c=u+c),c}},{key:"getNonFormattedNumber",value:function(){var t=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(t?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var t=this.getNonFormattedNumber();if(t)return t.replace(/[\+\d]/g,Ps)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var t=this.state.callingCode,s=this.metadata.getCountryCodesForCallingCode(t);return s&&s.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(Pj(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var t=this.state,s=t.digits,o=t.callingCode,l=t.country,c=t.nationalSignificantNumber;if(s){if(this.isInternational())return o?"+"+o+c:"+"+s;if(l||o){var u=l?this.metadata.countryCallingCode():o;return"+"+u+c}}}},{key:"getNumber",value:function(){var t=this.state,s=t.nationalSignificantNumber,o=t.carrierCode,l=t.callingCode,c=this._getCountry();if(s&&!(!c&&!l)){if(c&&c===this.defaultCountry){var u=new Pa(this.metadata.metadata);u.selectNumberingPlan(c);var f=u.numberingPlan.callingCode(),m=this.metadata.getCountryCodesForCallingCode(f);if(m.length>1){var p=Rj(s,{countries:m,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});p&&(c=p)}}var _=new Tj(c||l,s,this.metadata.metadata);return o&&(_.carrierCode=o),_}}},{key:"isPossible",value:function(){var t=this.getNumber();return t?t.isPossible():!1}},{key:"isValid",value:function(){var t=this.getNumber();return t?t.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function ew(e){return new Pa(e).getCountries()}function sO(e,r,t){return t||(t=r,r=void 0),new od(r,t).input(e)}function Ij(e){var r=e.inputFormat,t=e.country,s=e.metadata;return r==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Vi(t,s)):""}function ay(e,r){return r&&(e=e.slice(r.length),e[0]===" "&&(e=e.slice(1))),e}function oO(e,r,t){if(!(t&&t.ignoreRest)){var s=function(l){if(t)switch(l){case"end":t.ignoreRest=!0;break}};return Aj(e,r,s)}}function Lj(e){var r=e.onKeyDown,t=e.inputFormat;return k.useCallback(function(s){if(s.keyCode===lO&&t==="INTERNATIONAL"&&s.target instanceof HTMLInputElement&&iO(s.target)===cO.length){s.preventDefault();return}r&&r(s)},[r,t])}function iO(e){return e.selectionStart}var lO=8,cO="+",dO=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ny.apply(this,arguments)}function uO(e,r){if(e==null)return{};var t=fO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function fO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function hO(e){function r(t,s){var o=t.onKeyDown,l=t.country,c=t.inputFormat,u=t.metadata,f=u===void 0?e:u;t.international,t.withCountryCallingCode;var m=uO(t,dO),p=k.useCallback(function(j){var C=new od(l,f),T=Ij({inputFormat:c,country:l,metadata:f}),$=C.input(T+j),O=C.getTemplate();return T&&($=ay($,T),O&&(O=ay(O,T))),{text:$,template:O}},[l,f]),_=Lj({onKeyDown:o,inputFormat:c});return Nt.createElement(eh,ny({},m,{ref:s,parse:oO,format:p,onKeyDown:_}))}return r=Nt.forwardRef(r),r.propTypes={value:pt.string.isRequired,onChange:pt.func.isRequired,onKeyDown:pt.func,country:pt.string,inputFormat:pt.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:pt.object},r}const mO=hO();var gO=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},sy.apply(this,arguments)}function pO(e,r){if(e==null)return{};var t=yO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function yO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function xO(e){function r(t,s){var o=t.value,l=t.onChange,c=t.onKeyDown,u=t.country,f=t.inputFormat,m=t.metadata,p=m===void 0?e:m,_=t.inputComponent,j=_===void 0?"input":_;t.international,t.withCountryCallingCode;var C=pO(t,gO),T=Ij({inputFormat:f,country:u,metadata:p}),$=k.useCallback(function(P){var q=Zp(P.target.value);if(q===o){var H=tw(T,q,u,p);H.indexOf(P.target.value)===0&&(q=q.slice(0,-1))}l(q)},[T,o,l,u,p]),O=Lj({onKeyDown:c,inputFormat:f});return Nt.createElement(j,sy({},C,{ref:s,value:tw(T,o,u,p),onChange:$,onKeyDown:O}))}return r=Nt.forwardRef(r),r.propTypes={value:pt.string.isRequired,onChange:pt.func.isRequired,onKeyDown:pt.func,country:pt.string,inputFormat:pt.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:pt.object,inputComponent:pt.elementType},r}const bO=xO();function tw(e,r,t,s){return ay(sO(e+r,t,s),e)}function vO(e){return rw(e[0])+rw(e[1])}function rw(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var wO=["value","onChange","options","disabled","readOnly"],jO=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function NO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=kO(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kO(e,r){if(e){if(typeof e=="string")return aw(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aw(e,r)}}function aw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ah.apply(this,arguments)}function Uj(e,r){if(e==null)return{};var t=_O(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function _O(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Fj(e){var r=e.value,t=e.onChange,s=e.options,o=e.disabled,l=e.readOnly,c=Uj(e,wO),u=k.useCallback(function(f){var m=f.target.value;t(m==="ZZ"?void 0:m)},[t]);return k.useMemo(function(){return Bj(s,r)},[s,r]),Nt.createElement("select",ah({},c,{disabled:o||l,readOnly:l,value:r||"ZZ",onChange:u}),s.map(function(f){var m=f.value,p=f.label,_=f.divider;return Nt.createElement("option",{key:_?"|":m||"ZZ",value:_?"|":m||"ZZ",disabled:!!_,style:_?SO:void 0},p)}))}Fj.propTypes={value:pt.string,onChange:pt.func.isRequired,options:pt.arrayOf(pt.shape({value:pt.string,label:pt.string,divider:pt.bool})).isRequired,disabled:pt.bool,readOnly:pt.bool};var SO={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function zj(e){var r=e.value,t=e.options,s=e.className,o=e.iconComponent;e.getIconAspectRatio;var l=e.arrowComponent,c=l===void 0?CO:l,u=e.unicodeFlags,f=Uj(e,jO),m=k.useMemo(function(){return Bj(t,r)},[t,r]);return Nt.createElement("div",{className:"PhoneInputCountry"},Nt.createElement(Fj,ah({},f,{value:r,options:t,className:Jf("PhoneInputCountrySelect",s)})),m&&(u&&r?Nt.createElement("div",{className:"PhoneInputCountryIconUnicode"},vO(r)):Nt.createElement(o,{"aria-hidden":!0,country:r,label:m.label,aspectRatio:u?1:void 0})),Nt.createElement(c,null))}zj.propTypes={iconComponent:pt.elementType,arrowComponent:pt.elementType,unicodeFlags:pt.bool};function CO(){return Nt.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function Bj(e,r){for(var t=NO(e),s;!(s=t()).done;){var o=s.value;if(!o.divider&&$O(o.value,r))return o}}function $O(e,r){return e==null?r==null:e===r}var EO=["country","countryName","flags","flagUrl"];function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},oy.apply(this,arguments)}function TO(e,r){if(e==null)return{};var t=OO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function OO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Xy(e){var r=e.country,t=e.countryName,s=e.flags,o=e.flagUrl,l=TO(e,EO);return s&&s[r]?s[r]({title:t}):Nt.createElement("img",oy({},l,{alt:t,role:t?void 0:"presentation",src:o.replace("{XX}",r).replace("{xx}",r.toLowerCase())}))}Xy.propTypes={country:pt.string.isRequired,countryName:pt.string.isRequired,flags:pt.objectOf(pt.elementType),flagUrl:pt.string.isRequired};var AO=["aspectRatio"],RO=["title"],PO=["title"];function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},nh.apply(this,arguments)}function Zy(e,r){if(e==null)return{};var t=MO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function MO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Rh(e){var r=e.aspectRatio,t=Zy(e,AO);return r===1?Nt.createElement(Hj,t):Nt.createElement(qj,t)}Rh.propTypes={title:pt.string.isRequired,aspectRatio:pt.number};function qj(e){var r=e.title,t=Zy(e,RO);return Nt.createElement("svg",nh({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),Nt.createElement("title",null,r),Nt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},Nt.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),Nt.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),Nt.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),Nt.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),Nt.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),Nt.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),Nt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}qj.propTypes={title:pt.string.isRequired};function Hj(e){var r=e.title,t=Zy(e,PO);return Nt.createElement("svg",nh({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),Nt.createElement("title",null,r),Nt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},Nt.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),Nt.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),Nt.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),Nt.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),Nt.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),Nt.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),Nt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}Hj.propTypes={title:pt.string.isRequired};function DO(e){if(e.length<2||e[0]!=="+")return!1;for(var r=1;r<e.length;){var t=e.charCodeAt(r);if(!(t>=48&&t<=57))return!1;r++}return!0}function Gj(e){DO(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function IO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=LO(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LO(e,r){if(e){if(typeof e=="string")return nw(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nw(e,r)}}function nw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function UO(e,r){if(!r)return e;for(var t=[],s=[],o=t,l=function(){var m=u.value;if(m==="|")o.push({divider:!0});else if(m==="..."||m==="")o=s;else{var p;m===""?p=void 0:p=m;var _=e.indexOf(e.filter(function(C){return C.value===p})[0]),j=e[_];e.splice(_,1),o.push(j)}},c=IO(r),u;!(u=c()).done;)l();return t.concat(e).concat(s)}function FO(e,r){if(e&&(e=e.filter(function(t){switch(t){case"":case"|":case"...":case"":return!0;default:return Ph(t,r)}}),e.length>0))return e}function Ph(e,r){return vj(e,r)?!0:(console.error("Country not found: ".concat(e)),!1)}function Vj(e,r){return e&&(e=e.filter(function(t){return Ph(t,r)}),e.length===0&&(e=void 0)),e}var zO=["country","label","aspectRatio"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},iy.apply(this,arguments)}function BO(e,r){if(e==null)return{};var t=qO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function qO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Kj(e){var r=e.flags,t=e.flagUrl,s=e.flagComponent,o=e.internationalIcon;function l(c){var u=c.country,f=c.label,m=c.aspectRatio,p=BO(c,zO),_=o===Rh?m:void 0;return Nt.createElement("div",iy({},p,{className:Jf("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":_===1,"PhoneInputCountryIcon--border":u})}),u?Nt.createElement(s,{country:u,countryName:f,flags:r,flagUrl:t,className:"PhoneInputCountryIconImg"}):Nt.createElement(o,{title:f,aspectRatio:_,className:"PhoneInputCountryIconImg"}))}return l.propTypes={country:pt.string,label:pt.string.isRequired,aspectRatio:pt.number},l}Kj({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:Xy,internationalIcon:Rh});function HO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=GO(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GO(e,r){if(e){if(typeof e=="string")return sw(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sw(e,r)}}function sw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function VO(e,r){for(var t=HO(e),s;!(s=t()).done;){var o=s.value;o&&KO(o,r)}}function KO(e,r){typeof e=="function"?e(r):e.current=r}var Wj=pt.shape({country_calling_codes:pt.object.isRequired,countries:pt.object.isRequired}),Yj=pt.objectOf(pt.string);function zo(e,r){var t="+"+Vi(e,r);return t}function WO(e){var r=e.value,t=e.phoneNumber,s=e.defaultCountry,o=e.getAnyCountry,l=e.countries,c=e.required,u=e.metadata,f;return t&&t.country?f=t.country:s&&(!r||Fc(r,s,u))&&(f=s),l&&l.indexOf(f)<0&&(f=void 0),!f&&c&&l&&l.length>0&&(f=o()),f}function YO(e){var r=e.countries,t=e.countryNames,s=e.addInternationalOption,o=e.compareStringsLocales,l=e.compareStrings;l||(l=rA);var c=r.map(function(u){return{value:u,label:t[u]||u}});return c.sort(function(u,f){return l(u.label,f.label,o)}),s&&c.unshift({label:t.ZZ}),c}function Qj(e,r){return zE(e||"",r)}function QO(e){return e.formatNational().replace(/\D/g,"")}function XO(e,r){var t=r.prevCountry,s=r.newCountry,o=r.metadata,l=r.useNationalFormat;if(t===s)return e;if(!e)return l?"":s?zo(s,o):"";if(s){if(e[0]==="+"){if(l)return e.indexOf("+"+Vi(s,o))===0?aA(e,s,o):"";if(t){var c=zo(s,o);return e.indexOf(c)===0?e:c}else{var u=zo(s,o);return e.indexOf(u)===0?e:u}}}else if(e[0]!=="+")return Dc(e,t,o)||"";return e}function Dc(e,r,t){if(e){if(e[0]==="+"){if(e==="+")return;var s=new od(r,t);return s.input(e),s.getNumberValue()}if(r){var o=Zj(e,r,t);return"+".concat(Vi(r,t)).concat(o||"")}}}function ZO(e,r,t){var s=Zj(e,r,t);if(s){var o=s.length-JO(r,t);if(o>0)return e.slice(0,e.length-o)}return e}function JO(e,r){return r=new Pa(r),r.selectNumberingPlan(e),r.numberingPlan.possibleLengths()[r.numberingPlan.possibleLengths().length-1]}function Xj(e,r){var t=r.country,s=r.countries,o=r.defaultCountry,l=r.latestCountrySelectedByUser,c=r.required,u=r.metadata;if(e==="+")return t;var f=tA(e,u);if(f)return!s||s.indexOf(f)>=0?f:void 0;if(t){if(Fc(e,t,u)){if(l&&Fc(e,l,u))return l;if(o&&Fc(e,o,u))return o;if(!c)return}else if(!c)return}return t}function eA(e,r){var t=r.prevPhoneDigits,s=r.country,o=r.defaultCountry,l=r.latestCountrySelectedByUser,c=r.countryRequired,u=r.getAnyCountry,f=r.countries,m=r.international,p=r.limitMaxLength,_=r.countryCallingCodeEditable,j=r.metadata;if(m&&_===!1&&s){var C=zo(s,j);if(e.indexOf(C)!==0){var T,$=e&&e[0]!=="+";return $?(e=C+e,T=Dc(e,s,j)):e=C,{phoneDigits:e,value:T,country:s}}}m===!1&&s&&e&&e[0]==="+"&&(e=ow(e,s,j)),e&&s&&p&&(e=ZO(e,s,j)),e&&e[0]!=="+"&&(!s||m)&&(e="+"+e),!e&&t&&t[0]==="+"&&(m?s=void 0:s=o),e==="+"&&t&&t[0]==="+"&&t.length>1&&(s=void 0);var O;return e&&(e[0]==="+"&&(e==="+"||s&&zo(s,j).indexOf(e)===0)?O=void 0:O=Dc(e,s,j)),O&&(s=Xj(O,{country:s,countries:f,defaultCountry:o,latestCountrySelectedByUser:l,required:!1,metadata:j}),m===!1&&s&&e&&e[0]==="+"&&(e=ow(e,s,j),O=Dc(e,s,j))),!s&&c&&(s=o||u()),{phoneDigits:e,country:s,value:O}}function ow(e,r,t){if(e.indexOf(zo(r,t))===0){var s=new od(r,t);s.input(e);var o=s.getNumber();return o?o.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function tA(e,r){var t=new od(null,r);return t.input(e),t.getCountry()}function rA(e,r,t){return String.prototype.localeCompare?e.localeCompare(r,t):e<r?-1:e>r?1:0}function aA(e,r,t){if(r){var s="+"+Vi(r,t);if(e.length<s.length){if(s.indexOf(e)===0)return""}else if(e.indexOf(s)===0)return e.slice(s.length)}for(var o=0,l=Object.keys(t.country_calling_codes);o<l.length;o++){var c=l[o];if(e.indexOf(c)===1)return e.slice(1+c.length)}return""}function Zj(e,r,t){var s=new od(r,t);s.input(e);var o=s.getNumber();return o&&o.nationalNumber}function Fc(e,r,t){for(var s=zo(r,t),o=0;o<e.length&&o<s.length;){if(e[o]!==s[o])return!1;o++}return!0}function Jj(e){var r=e.value,t=e.phoneNumber,s=e.defaultCountry,o=e.international,l=e.useNationalFormat,c=e.metadata;return(o===!1||l)&&t&&t.country?QO(t):!r&&o&&s?zo(s,c):r}function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zu(e)}function iw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function Nf(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?iw(Object(t),!0).forEach(function(s){nA(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):iw(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function nA(e,r,t){return r=sA(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function sA(e){var r=oA(e,"string");return zu(r)=="symbol"?r:r+""}function oA(e,r){if(zu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(zu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function iA(e,r,t){var s=e.metadata,o=e.countries,l=e.defaultCountry,c=e.value,u=e.reset,f=e.international,m=e.displayInitialValueAsLocalNumber,p=e.initialValueFormat,_=r.defaultCountry,j=r.value,C=r.reset;t.country;var T=t.value,$=t.hasUserSelectedACountry,O=t.latestCountrySelectedByUser,P=function(he){return Jj(Nf(Nf({},he),{},{international:f,useNationalFormat:m||p==="national",metadata:s}))};if(u!==C)return{phoneDigits:P({value:void 0,defaultCountry:l}),value:void 0,country:l,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(l!==_){var q=!l||Ph(l,s),H=!T||f&&T===P({value:void 0,defaultCountry:_}),M=!c&&H;if(!$&&q&&M)return{country:l,phoneDigits:P({value:void 0,defaultCountry:l}),value:void 0}}if(!lw(c,j)&&!lw(c,T)){var K,F;if(c){c&&Gj(c),K=Qj(c,s);var oe=Vj(o,s);K&&K.country?(!oe||oe.indexOf(K.country)>=0)&&(F=K.country):(F=Xj(c,{country:void 0,countries:oe,metadata:s}),F||l&&c.indexOf(zo(l,s))===0&&(F=l))}var fe;if(c){if(O){var X=F?O===F:Fc(c,O,s);X?F||(F=O):fe={latestCountrySelectedByUser:void 0}}}else fe={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return Nf(Nf({},fe),{},{phoneDigits:P({phoneNumber:K,value:c,defaultCountry:l}),value:c,country:c?F:l})}}function lw(e,r){return e===null&&(e=void 0),r===null&&(r=void 0),e===r}var lA=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rd(e)}function cw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function eN(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cw(Object(t),!0).forEach(function(s){Rs(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cw(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zc.apply(this,arguments)}function cA(e,r){if(e==null)return{};var t=dA(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function dA(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function uA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dw(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rN(s.key),s)}}function fA(e,r,t){return r&&dw(e.prototype,r),t&&dw(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hA(e,r,t){return r=sh(r),mA(e,tN()?Reflect.construct(r,t||[],sh(e).constructor):r.apply(e,t))}function mA(e,r){if(r&&(rd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gA(e)}function gA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(tN=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sh(e)}function pA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&ly(e,r)}function ly(e,r){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},ly(e,r)}function Rs(e,r,t){return r=rN(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rN(e){var r=yA(e,"string");return rd(r)=="symbol"?r:r+""}function yA(e,r){if(rd(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(rd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xA=function(e){function r(t){var s;uA(this,r),s=hA(this,r,[t]),Rs(s,"setInputRef",function(O){VO([s.props.inputRef,s.inputRef],O)}),Rs(s,"isCountrySupportedWithError",function(O){var P=s.props.metadata;return Ph(O,P)}),Rs(s,"onCountryChange",function(O){var P=s.props,q=P.international,H=P.metadata,M=P.onChange,K=P.focusInputOnCountrySelection,F=s.state,oe=F.phoneDigits,fe=F.country,X=XO(oe,{prevCountry:fe,newCountry:O,metadata:H,useNationalFormat:!q}),le=Dc(X,O,H);K&&s.inputRef.current.focus(),s.setState({country:O,latestCountrySelectedByUser:O,hasUserSelectedACountry:!0,phoneDigits:X,value:le},function(){M(le)})}),Rs(s,"onChange",function(O){var P=s.props,q=P.defaultCountry,H=P.onChange,M=P.addInternationalOption,K=P.international,F=P.limitMaxLength,oe=P.countryCallingCodeEditable,fe=P.metadata,X=s.state,le=X.countries,he=X.phoneDigits,ee=X.country,ce=X.latestCountrySelectedByUser,te=eA(O,{prevPhoneDigits:he,country:ee,countryRequired:!M,defaultCountry:q,latestCountrySelectedByUser:ce,getAnyCountry:function(){return s.getFirstSupportedCountry({countries:le})},countries:le,international:K,limitMaxLength:F,countryCallingCodeEditable:oe,metadata:fe}),pe=te.phoneDigits,se=te.country,re=te.value,de={phoneDigits:pe,value:re,country:se};ce&&re&&!Fc(re,ce,fe)&&(de.latestCountrySelectedByUser=void 0),oe===!1&&!re&&pe===s.state.phoneDigits&&(de.forceRerender={}),s.setState(de,function(){return H(re)})}),Rs(s,"_onFocus",function(){return s.setState({isFocused:!0})}),Rs(s,"_onBlur",function(){return s.setState({isFocused:!1})}),Rs(s,"onFocus",function(O){s._onFocus();var P=s.props.onFocus;P&&P(O)}),Rs(s,"onBlur",function(O){var P=s.props.onBlur;s._onBlur(),P&&P(O)}),Rs(s,"onCountryFocus",function(O){s._onFocus();var P=s.props.countrySelectProps;if(P){var q=P.onFocus;q&&q(O)}}),Rs(s,"onCountryBlur",function(O){s._onBlur();var P=s.props.countrySelectProps;if(P){var q=P.onBlur;q&&q(O)}}),s.inputRef=Nt.createRef();var o=s.props,l=o.value;o.labels;var c=o.international,u=o.addInternationalOption,f=o.displayInitialValueAsLocalNumber,m=o.initialValueFormat,p=o.metadata,_=s.props,j=_.defaultCountry,C=_.countries;j&&(s.isCountrySupportedWithError(j)||(j=void 0)),l&&Gj(l),C=Vj(C,p);var T=Qj(l,p);s.CountryIcon=Kj(s.props);var $=WO({value:l,phoneNumber:T,defaultCountry:j,required:!u,countries:C||ew(p),getAnyCountry:function(){return s.getFirstSupportedCountry({countries:C})},metadata:p});return s.state={props:s.props,country:$,countries:C,phoneDigits:Jj({value:l,phoneNumber:T,defaultCountry:j,international:c,useNationalFormat:f||m==="national",metadata:p}),value:l},s}return pA(r,e),fA(r,[{key:"componentDidMount",value:function(){var s=this.props.onCountryChange,o=this.props.defaultCountry,l=this.state.country;s&&(o&&(this.isCountrySupportedWithError(o)||(o=void 0)),l!==o&&s(l))}},{key:"componentDidUpdate",value:function(s,o){var l=this.props.onCountryChange,c=this.state.country;l&&c!==o.country&&l(c)}},{key:"getCountrySelectOptions",value:function(s){var o=s.countries,l=this.props,c=l.international,u=l.countryCallingCodeEditable,f=l.countryOptionsOrder,m=l.addInternationalOption,p=l.labels,_=l.locales,j=l.metadata;return this.useMemoCountrySelectOptions(function(){return UO(YO({countries:o||ew(j),countryNames:p,addInternationalOption:c&&u===!1?!1:m,compareStringsLocales:_}),FO(f,j))},[o,f,m,p,j])}},{key:"useMemoCountrySelectOptions",value:function(s,o){return(!this.countrySelectOptionsMemoDependencies||!vA(o,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=s(),this.countrySelectOptionsMemoDependencies=o),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(s){var o=s.countries,l=this.getCountrySelectOptions({countries:o});return l[0].value}},{key:"render",value:function(){var s=this.props,o=s.name,l=s.disabled,c=s.readOnly,u=s.autoComplete,f=s.style,m=s.className;s.inputRef;var p=s.inputComponent,_=s.numberInputProps,j=s.smartCaret,C=s.countrySelectComponent,T=s.countrySelectProps,$=s.containerComponent,O=s.containerComponentProps;s.defaultCountry,s.countries,s.countryOptionsOrder;var P=s.labels;s.flags,s.flagComponent,s.flagUrl,s.addInternationalOption,s.internationalIcon,s.displayInitialValueAsLocalNumber,s.initialValueFormat,s.onCountryChange,s.limitMaxLength,s.countryCallingCodeEditable,s.focusInputOnCountrySelection,s.reset;var q=s.metadata,H=s.international;s.locales;var M=cA(s,lA),K=this.state,F=K.country,oe=K.countries,fe=K.phoneDigits,X=K.isFocused,le=j?mO:bO,he=this.getCountrySelectOptions({countries:oe});return Nt.createElement($,zc({style:f,className:Jf(m,"PhoneInput",{"PhoneInput--focus":X,"PhoneInput--disabled":l,"PhoneInput--readOnly":c})},O),Nt.createElement(C,zc({name:o?"".concat(o,"Country"):void 0,"aria-label":P.country},T,{value:F,options:he,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:l||T&&T.disabled,readOnly:c||T&&T.readOnly,iconComponent:this.CountryIcon})),Nt.createElement(le,zc({ref:this.setInputRef,type:"tel",autoComplete:u},_,M,{inputFormat:H===!0?"INTERNATIONAL":H===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:H?!0:void 0,withCountryCallingCode:H?!0:void 0,name:o,metadata:q,country:F,value:fe||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:l,readOnly:c,inputComponent:p,className:Jf("PhoneInputInput",_&&_.className,M.className)})))}}],[{key:"getDerivedStateFromProps",value:function(s,o){return eN({props:s},iA(s,o.props,o))}}])}(Nt.PureComponent),aN=Nt.forwardRef(function(e,r){return Nt.createElement(xA,zc({},bA(e),{inputRef:r}))});aN.propTypes={value:pt.string,onChange:pt.func.isRequired,onFocus:pt.func,onBlur:pt.func,disabled:pt.bool,readOnly:pt.bool,autoComplete:pt.string,initialValueFormat:pt.oneOf(["national"]),displayInitialValueAsLocalNumber:pt.bool,defaultCountry:pt.string,countries:pt.arrayOf(pt.string),labels:Yj,locales:pt.oneOfType([pt.string,pt.arrayOf(pt.string)]),flagUrl:pt.string,flags:pt.objectOf(pt.elementType),flagComponent:pt.elementType,addInternationalOption:pt.bool,internationalIcon:pt.elementType,countryOptionsOrder:pt.arrayOf(pt.string),style:pt.object,className:pt.string,countrySelectComponent:pt.elementType,countrySelectProps:pt.object,inputComponent:pt.elementType,numberInputProps:pt.object,containerComponent:pt.elementType,containerComponentProps:pt.object,smartCaret:pt.bool,international:pt.bool,limitMaxLength:pt.bool,countryCallingCodeEditable:pt.bool,metadata:Wj,onCountryChange:pt.func,focusInputOnCountrySelection:pt.bool};var uw={autoComplete:"tel",countrySelectComponent:zj,flagComponent:Xy,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:Rh,inputComponent:"input",containerComponent:"div",reset:pt.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function bA(e){e=eN({},e);for(var r in uw)e[r]===void 0&&(e[r]=uw[r]);return e}function vA(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;){if(e[t]!==r[t])return!1;t++}return!0}const wA={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var jA=["metadata","labels"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cy.apply(this,arguments)}function NA(e,r){if(e==null)return{};var t=kA(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function kA(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function nN(e){var r=Nt.forwardRef(function(t,s){var o=t.metadata,l=o===void 0?e:o,c=t.labels,u=c===void 0?wA:c,f=NA(t,jA);return Nt.createElement(aN,cy({},f,{ref:s,metadata:l,labels:u}))});return r.propTypes={metadata:Wj,labels:Yj},r}nN();const fw=nN(a$),_A=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Runion"},{"value":"BL","label":"Saint Barthlemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),SA=JSON.parse(`[{"value":"AF","label":""},{"value":"AX","label":"land"},{"value":"AL","label":"Shqipria"},{"value":"DZ","label":""},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":""},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"sterreich"},{"value":"AZ","label":"Azrbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":""},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":""},{"value":"BE","label":"Belgi"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bnin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"brug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":""},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kmpcha"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Kdrsse t Bafrka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":""},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"Rpublique du Congo"},{"value":"CD","label":"Rpublique dmocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":""},{"value":"CZ","label":"esk republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Repblica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":""},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":""},{"value":"EE","label":"Eesti"},{"value":"ET","label":""},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Froyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane franaise"},{"value":"PF","label":"Polynsie franaise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":""},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":""},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guine"},{"value":"GW","label":"Guin-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Hati"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":""},{"value":"HU","label":"Magyarorszg"},{"value":"IS","label":"sland"},{"value":"IN","label":""},{"value":"ID","label":"Indonesia"},{"value":"IR","label":""},{"value":"IQ","label":""},{"value":"IE","label":"ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":""},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":""},{"value":"JE","label":"Jersey"},{"value":"JO","label":""},{"value":"KZ","label":""},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":""},{"value":"KR","label":""},{"value":"KW","label":""},{"value":"KG","label":""},{"value":"LA","label":""},{"value":"LV","label":"Latvija"},{"value":"LB","label":""},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":""},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":""},{"value":"MK","label":" "},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Maje"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":""},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mxico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":" "},{"value":"ME","label":" "},{"value":"MS","label":"Montserrat"},{"value":"MA","label":""},{"value":"MZ","label":"Moambique"},{"value":"MM","label":""},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":""},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Caldonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":""},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":""},{"value":"PA","label":"Panam"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":""},{"value":"RE","label":"La Runion"},{"value":"RO","label":"Romnia"},{"value":"RU","label":""},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthlemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"So Tom e Prncipe"},{"value":"SA","label":" "},{"value":"SN","label":"Sngal"},{"value":"RS","label":""},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espaa"},{"value":"LK","label":"r lakva"},{"value":"SD","label":""},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":""},{"value":"TW","label":""},{"value":"TJ","label":""},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":""},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":""},{"value":"TR","label":"Trkiye"},{"value":"TM","label":"Trkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":""},{"value":"AE","label":"   "},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Ozbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vit Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":" "},{"value":"YE","label":""},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var Kg,hw;function CA(){if(hw)return Kg;hw=1;class e{constructor(){this.data=_A,this.labelMap={},this.valueMap={},this.data.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label})}getValue(s){return this.labelMap[s.toLowerCase()]}getLabel(s){return this.valueMap[s.toLowerCase()]}getLabels(){return this.data.map(s=>s.label)}getValues(){return this.data.map(s=>s.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(s,o){return this.data.forEach(l=>{l.value===s&&(l.label=o,this.valueMap[l.value.toLowerCase()]=l.label)}),this}setEmpty(s){return this.data.unshift({value:"",label:s}),this.valueMap[""]=s,this.labelMap[s]="",this}native(){return this.nativeData=SA,this.nativeData.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label}),this}}return Kg=()=>{if(!(this instanceof e))return new e},Kg}var $A=CA();const EA=Dl($A);function Pl({customer:e,onClose:r,onSave:t,isFullPage:s=!1,prefilledName:o="",prefilledData:l={}}){const{createCustomer:c,updateCustomer:u}=d2(),f=!!e,[m,p]=k.useState(!1),[_,j]=k.useState(null),{posDetails:C}=Za(),T=EA().getData(),[$,O]=k.useState({customer_type:"individual",name:"",contactName:"",email:"",phone:"",address:{addressType:"Billing",street:"",buildingNumber:"",city:"",state:"",zipCode:"",country:"Nepal"},status:"active",vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",customer_group:"All Customer Groups",territory:"All Territories"});k.useEffect(()=>{if(C&&!f){let U="individual";C.business_type==="B2B"?U="company":(C.business_type==="B2C"||C.business_type==="B2B & B2C")&&(U="individual"),O(Q=>je(Y({},Q),{customer_type:U}))}},[C,f]);const[P,q]=k.useState({}),[H,M]=k.useState([]),[K,F]=k.useState(!0),[oe,fe]=k.useState([]),[X,le]=k.useState(!0),{getCustomerGroups:he,getTerritories:ee}=d2(),ce=k.useRef(!1);k.useEffect(()=>{Ne(null,null,function*(){try{const Q=yield he();M(Q),F(!1);const Ae=yield ee();fe(Ae),le(!1)}catch(Q){console.error("Error fetching customer groups or territories:",Q),F(!1),le(!1)}})},[]),k.useEffect(()=>{var U,Q,Ae,Ke,ct,dt,kt;if(e&&!ce.current){const ht={customer_type:e.type||"individual",name:e.name,contactName:e.contactPerson||"",email:e.email,phone:e.phone,address:{addressType:((U=e.address)==null?void 0:U.addressType)||"Billing",street:((Q=e.address)==null?void 0:Q.street)||"",buildingNumber:((Ae=e.address)==null?void 0:Ae.buildingNumber)||"",city:((Ke=e.address)==null?void 0:Ke.city)||"",state:((ct=e.address)==null?void 0:ct.state)||"",zipCode:((dt=e.address)==null?void 0:dt.zipCode)||"",country:((kt=e.address)==null?void 0:kt.country)||"Nepal"},status:e.status,vatNumber:e.taxId||"",registrationScheme:e.registrationScheme||"",registrationNumber:e.registrationNumber||"",preferredPaymentMethod:e.preferredPaymentMethod||"Cash",customer_group:e.customer_group||"All Customer Groups",territory:e.territory||"All Territories"};O(ht),ce.current=!0}else l&&Object.keys(l).length>0&&!ce.current?(O(ht=>je(Y({},ht),{name:l.name||ht.name,email:l.email||ht.email,phone:l.phone||ht.phone})),ce.current=!0):o&&!ce.current&&(O(ht=>je(Y({},ht),{name:o})),ce.current=!0)},[e==null?void 0:e.id,e==null?void 0:e.name,o,l,e]),k.useEffect(()=>{ce.current=!1},[e==null?void 0:e.id]);const te=(C==null?void 0:C.business_type)==="B2B",pe=(C==null?void 0:C.business_type)==="B2C",se=(C==null?void 0:C.business_type)==="B2B & B2C",re=()=>te?[{value:"company",label:"Company",icon:xu,desc:"Business customer"}]:pe?[{value:"individual",label:"Individual",icon:Zn,desc:"Personal customer"}]:se?[{value:"individual",label:"Individual",icon:Zn,desc:"Personal customer"},{value:"company",label:"Company",icon:xu,desc:"Business customer"}]:[{value:"individual",label:"Individual",icon:Zn,desc:"Personal customer"},{value:"company",label:"Company",icon:xu,desc:"Business customer"}],de=()=>{const U={},Q=Ae=>Ae.trim()?Ae.replace(/\D/g,"").length>=10:!1;if($.customer_type==="company"?($.name.trim()||(U.name="Customer name is required"),$.contactName.trim()||(U.contactName="Contact name is required"),!$.email.trim()&&!$.phone.trim()&&(U.contact="Either email or phone number must be provided"),$.phone.trim()&&!Q($.phone)&&(U.phone="Phone number must have at least 10 digits including country code")):$.customer_type==="individual"&&(!$.email.trim()&&!$.phone.trim()?U.contact="Either email or phone number must be provided":$.phone.trim()&&!Q($.phone)&&(U.phone="Phone number must have at least 10 digits including country code")),$.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.email)&&(U.email="Please enter a valid email address"),$.customer_type==="company"&&(C!=null&&C.is_zatca_enabled)&&(!$.vatNumber.trim()&&!$.registrationNumber.trim()&&(U.vatOrRegistration="Either VAT number or Registration number must be provided"),$.registrationScheme&&$.registrationScheme!==""&&!$.registrationNumber.trim()&&(U.registrationNumber="Registration number is required when registration scheme is selected"),$.vatNumber.trim()&&(/^[3]\d{13}[3]$/.test($.vatNumber.trim())||(U.vatNumber="VAT number must be 15 digits, start with 3 and end with 3 (ZATCA format)"))),$.customer_type==="company"&&C&&C.is_zatca_enabled===!0&&($.address.street.trim()||(U.street="Street address is required for company"),$.address.buildingNumber.trim()?$.address.buildingNumber.trim().length!==4&&(U.buildingNumber="Building number must be exactly 4 digits"):U.buildingNumber="Building number is required for company",$.address.city.trim()||(U.city="City is required for company"),$.address.state.trim()||(U.state="State/Province is required for company"),$.address.zipCode.trim()||(U.zipCode="Zip code is required for company")),q(U),Object.keys(U).length>0){const Ae=Object.keys(U)[0];return Ae&&Ie.error(U[Ae]),!1}return!0},He=U=>Ne(null,null,function*(){if(U.preventDefault(),j(null),!!de()){p(!0);try{const Q=Y({name:$.name,customer_type:$.customer_type==="individual"?"Individual":"Company",email:$.email,phone:$.phone,address:$.address,preferredPaymentMethod:$.preferredPaymentMethod,customer_group:$.customer_group,territory:$.territory},$.customer_type==="company"&&{contactName:$.contactName,vatNumber:$.vatNumber||void 0,registrationScheme:$.registrationScheme||void 0,registrationNumber:$.registrationNumber||void 0});if(f&&(e!=null&&e.id)){const Ae=yield u(e.id,Q);t(je(Y({},Ae),{id:e.id}))}else{const Ae=yield c(Q);t(je(Y({},Ae),{id:Ae.customer_name,name:$.name,type:$.customer_type,email:$.email,phone:$.phone,address:$.address,preferredPaymentMethod:$.preferredPaymentMethod,customer_group:$.customer_group,territory:$.territory}))}r()}catch(Q){console.error("Customer save error:",Q),j(Q instanceof Error?Q.message:"Failed to save customer. Please try again.")}finally{p(!1)}}}),W=[{value:"Commercial Registration number(CRN)",label:"Commercial Registration number(CRN)"},{value:"MOMRAH(MOM)",label:"MOMRAH(MOM)"},{value:"MHRSD(MLS)",label:"MHRSD(MLS)"},{value:"700(700)",label:"700(700)"},{value:"MISA(SAG)",label:"MISA(SAG)"},{value:"Other OD(OTH)",label:"Other OD(OTH)"}],z=[{value:"Cash",label:"Cash"},{value:"Bank Card",label:"Bank Card"},{value:"Bank Payment",label:"Bank Payment"},{value:"Credit",label:"Credit"}],ae=[{value:"Billing",label:"Billing"},{value:"Shipping",label:"Shipping"},{value:"Office",label:"Office"},{value:"Personal",label:"Personal"},{value:"Plant",label:"Plant"},{value:"Postal",label:"Postal"},{value:"Shop",label:"Shop"},{value:"Subsidiary",label:"Subsidiary"},{value:"Warehouse",label:"Warehouse"},{value:"Current",label:"Current"},{value:"Permanent",label:"Permanent"},{value:"Other",label:"Other"}],ge=re(),ue=()=>{const U=Q=>Q.trim()?Q.replace(/\D/g,"").length>=10:!1;if($.customer_type==="individual"){const Q=$.email.trim()!=="",Ae=U($.phone);return Q||Ae}else if($.customer_type==="company"){const Q=$.name.trim()!==""&&$.contactName.trim()!==""&&($.email.trim()!==""||U($.phone)),Ae=!(C!=null&&C.is_zatca_enabled)||$.address.street.trim()!==""&&$.address.buildingNumber.trim()!==""&&$.address.buildingNumber.trim().length===4&&$.address.city.trim()!==""&&$.address.state.trim()!==""&&$.address.zipCode.trim()!=="",Ke=Q&&Ae;if(C&&C.is_zatca_enabled===!0){const ct=$.vatNumber.trim()!==""||$.registrationNumber.trim()!=="";return Ke&&ct}return Ke}return!1};return a.jsx("div",{className:s?"h-full":"fixed inset-0 bg-black/70 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:s?"h-full bg-white dark:bg-gray-800 flex flex-col":"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[!s&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f?"Edit Customer":"Add New Customer"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx(Ra,{size:24})})]}),a.jsxs("form",{onSubmit:He,className:s?"flex-1 flex flex-col":"flex flex-col h-full",children:[a.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[a.jsxs("div",{children:[(C==null?void 0:C.business_type)==="B2B & B2C"?a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ge.map(U=>{const Q=U.icon;return a.jsxs("label",{className:`relative flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700 ${$.customer_type===U.value?"border-beveren-500 bg-beveren-50 dark:bg-beveren-900/20":"border-gray-200 dark:border-gray-600"}`,children:[a.jsx("input",{type:"radio",name:"customerType",value:U.value,checked:$.customer_type===U.value,onChange:Ae=>{O(Ke=>je(Y({},Ke),{customer_type:Ae.target.value}))},className:"sr-only"}),a.jsx(Q,{size:24,className:`mb-2 ${$.customer_type===U.value?"text-beveren-600":"text-gray-400"}`}),a.jsx("span",{className:`font-medium text-sm ${$.customer_type===U.value?"text-beveren-900 dark:text-beveren-100":"text-gray-900 dark:text-white"}`,children:U.label}),a.jsx("span",{className:`text-xs text-center mt-1 ${$.customer_type===U.value?"text-beveren-700 dark:text-beveren-300":"text-gray-500 dark:text-gray-400"}`,children:U.desc})]},U.value)})})]}):a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),a.jsx("div",{className:"bg-beveren-50 dark:bg-beveren-900/20 border-2 border-beveren-500 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[$.customer_type==="company"?a.jsx(xu,{size:24,className:"text-beveren-600 mr-3"}):a.jsx(Zn,{size:24,className:"text-beveren-600 mr-3"}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-beveren-900 dark:text-beveren-100",children:[$.customer_type==="company"?"Company":"Individual"," ","Customer"]}),a.jsx("p",{className:"text-sm text-beveren-700 dark:text-beveren-300 mt-1",children:$.customer_type==="company"?"Business customer (B2B)":"Personal customer (B2C)"})]})]})})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Zn,{size:20,className:"mr-2"}),"Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Customer Name",$.customer_type==="company"&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",value:$.name,onChange:U=>O(Q=>je(Y({},Q),{name:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${P.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),P.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.name})]}),$.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Country"}),a.jsx("input",{list:"country-list",id:"country",value:$.address.country,onChange:U=>O(Q=>je(Y({},Q),{address:je(Y({},Q.address),{country:U.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),a.jsx("datalist",{id:"country-list",children:T.map(U=>a.jsx("option",{value:U.label},U.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customer_group",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Group"}),a.jsx("select",{id:"customer_group",value:$.customer_group,onChange:U=>O(Q=>je(Y({},Q),{customer_group:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:K,children:K?a.jsx("option",{children:"Loading..."}):H.map(U=>a.jsx("option",{value:U.name,children:U.customer_group_name},U.name))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"territory",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Territory"}),a.jsxs("select",{id:"territory",value:$.territory,onChange:U=>O(Q=>je(Y({},Q),{territory:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:X,children:[a.jsx("option",{value:"All Territories",children:"All Territories"}),oe.map(U=>a.jsx("option",{value:U.name,children:U.territory_name||U.name},U.name))]}),X&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading territories..."})]})]})]}),$.customer_type==="individual"&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mt-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Tl,{size:20,className:"mr-2"}),"Contact Information",a.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:$.email,onChange:U=>O(Q=>je(Y({},Q),{email:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${P.email||P.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),P.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.email})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx(fw,{id:"phone",international:!0,defaultCountry:"NP",value:$.phone,onChange:U=>O(Q=>je(Y({},Q),{phone:U||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${P.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),P.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.phone})]})})]}),P.contact&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.contact})]})]}),$.customer_type==="company"&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Tl,{size:20,className:"mr-2"}),"Contact Information",$.customer_type==="company"&&a.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Contact Name"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"contactName",value:$.contactName,onChange:U=>O(Q=>je(Y({},Q),{contactName:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${P.contactName?"border-red-500":"border-gray-300"}`,placeholder:"Enter contact person name"}),P.contactName&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.contactName})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:$.email,onChange:U=>O(Q=>je(Y({},Q),{email:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${P.email||P.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),P.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx(fw,{id:"phone",international:!0,defaultCountry:"NP",value:$.phone,onChange:U=>O(Q=>je(Y({},Q),{phone:U||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${P.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),P.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.phone})]}),P.contact&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.contact})]}),$.customer_type==="company"&&C&&C.is_zatca_enabled===!0&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Dn,{size:20,className:"mr-2"}),"ZATCA Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),a.jsx("select",{id:"paymentMethod",value:$.preferredPaymentMethod,onChange:U=>O(Q=>je(Y({},Q),{preferredPaymentMethod:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:z.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Number"}),a.jsx("input",{type:"text",id:"vatNumber",value:$.vatNumber,onChange:U=>O(Q=>je(Y({},Q),{vatNumber:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${P.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter VAT number"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationScheme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Scheme"}),a.jsxs("select",{id:"registrationScheme",value:$.registrationScheme,onChange:U=>O(Q=>je(Y({},Q),{registrationScheme:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Registration Scheme"}),W.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Registration Number"," ",$.registrationScheme&&$.registrationScheme!==""?"*":""]}),a.jsx("input",{type:"text",id:"registrationNumber",value:$.registrationNumber,onChange:U=>O(Q=>je(Y({},Q),{registrationNumber:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${P.registrationNumber||P.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter registration number"}),P.registrationNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.registrationNumber})]})]}),P.vatOrRegistration&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.vatOrRegistration})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(ju,{size:20,className:"mr-2"}),"Address",$.customer_type==="company"?"":" (Optional)"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"addressType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Type"}),a.jsx("select",{id:"addressType",value:$.address.addressType,onChange:U=>O(Q=>je(Y({},Q),{address:je(Y({},Q.address),{addressType:U.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:ae.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address",$.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"street",value:$.address.street,onChange:U=>O(Q=>je(Y({},Q),{address:je(Y({},Q.address),{street:U.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${P.street?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter street address"}),P.street&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.street})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"buildingNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Building Number (4 digits)",$.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"buildingNumber",value:$.address.buildingNumber,onChange:U=>{const Q=U.target.value.replace(/\D/g,"");Q.length<=4&&O(Ae=>je(Y({},Ae),{address:je(Y({},Ae.address),{buildingNumber:Q})}))},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${P.buildingNumber?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"1234",maxLength:4}),P.buildingNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.buildingNumber})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["City",$.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"city",value:$.address.city,onChange:U=>O(Q=>je(Y({},Q),{address:je(Y({},Q.address),{city:U.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${P.city?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter city"}),P.city&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.city})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["State/Province",$.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"state",value:$.address.state,onChange:U=>O(Q=>je(Y({},Q),{address:je(Y({},Q.address),{state:U.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${P.state?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter state/province"}),P.state&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.state})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Zip Code",$.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"zipCode",value:$.address.zipCode,onChange:U=>O(Q=>je(Y({},Q),{address:je(Y({},Q.address),{zipCode:U.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${P.zipCode?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter zip code"}),P.zipCode&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.zipCode})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),a.jsx("input",{list:"country-list",id:"country",value:$.address.country,onChange:U=>O(Q=>je(Y({},Q),{address:je(Y({},Q.address),{country:U.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),a.jsx("datalist",{id:"country-list",children:T.map(U=>a.jsx("option",{value:U.label},U.value))})]})]})]})]}),_&&a.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:_})]}),a.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:m||!ue(),className:`px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 ${m||!ue()?"opacity-50 cursor-not-allowed":""}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),a.jsx("span",{children:f?"Updating...":"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fy,{size:18}),a.jsx("span",{children:f?"Update Customer":"Save Customer"})]})})})})]})]})})}function Mh(e){const[r,t]=k.useState([]),[s,o]=k.useState(!0),[l,c]=k.useState(null),[u,f]=k.useState(0),[m,p]=k.useState(!1),[_,j]=k.useState(0),C=(O,P=!1)=>Ne(null,null,function*(){o(!0);try{const q=new URLSearchParams;O&&q.set("search",O),q.set("limit","100"),q.set("start",String(P?u:0));const H=`?${q.toString()}`,K=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customers${H}`)).json();if(!K.message.success)throw new Error(K.error||"Failed to fetch customers");const oe=K.message.data.map(le=>{var he,ee,ce,te,pe,se,re,de;return{id:le.name,type:le.customer_type==="Company"?"company":"individual",name:le.customer_name||`Customer ${le.name.slice(0,5)}`,email:((he=le.contact)==null?void 0:he.email_id)||"",phone:((ee=le.contact)==null?void 0:ee.mobile_no)||((ce=le.contact)==null?void 0:ce.phone)||"",address:{street:((te=le.address)==null?void 0:te.address_line1)||"",city:((pe=le.address)==null?void 0:pe.city)||"",state:((se=le.address)==null?void 0:se.state)||"",zipCode:((re=le.address)==null?void 0:re.pincode)||"",country:((de=le.address)==null?void 0:de.country)||""},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:le.custom_total_spent||0,totalOrders:le.custom_total_orders||0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),lastVisit:le.custom_last_visit||void 0,avatar:void 0,defaultCurrency:le.default_currency,companyCurrency:le.company_currency}});t(le=>P?[...le,...oe]:oe);const fe=K.message.total_count||0;j(fe);const X=(P?u:0)+oe.length;f(X),p(X<fe)}catch(q){c(q)}finally{o(!1)}});return k.useEffect(()=>{f(0),p(!1),j(0);const O=setTimeout(()=>{C(e,!1)},e?300:0);return()=>clearTimeout(O)},[e]),{customers:r,isLoading:s,error:l,refetch:C,addCustomer:O=>{t(P=>[O,...P])},hasMore:m,totalCount:_,loadMore:()=>Ne(null,null,function*(){m&&(yield C(e,!0))})}}function TA(e){const[r,t]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(null);return k.useEffect(()=>{if(!e)return;Ne(null,null,function*(){var f,m,p,_,j,C,T,$,O,P;o(!0);try{console.log("Fetching customer details for ID:",e);const H=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(e)}`)).json();if(console.log("Customer API response:",H),!H.message||H.message.success===!1)throw new Error(((f=H.message)==null?void 0:f.error)||"Failed to fetch customer");const M=H.message,K={id:M.name,type:M.customer_type==="Company"?"company":"individual",name:M.customer_name||`Customer ${M.name.slice(0,5)}`,email:((m=M.contact_data)==null?void 0:m.email_id)||M.email_id||"",phone:((p=M.contact_data)==null?void 0:p.mobile_no)||((_=M.contact_data)==null?void 0:_.phone)||M.mobile_no||"",address:{addressType:"Billing",street:((j=M.address_data)==null?void 0:j.address_line1)||"",buildingNumber:((C=M.address_data)==null?void 0:C.address_line2)||"",city:((T=M.address_data)==null?void 0:T.city)||"",state:(($=M.address_data)==null?void 0:$.state)||"",zipCode:((O=M.address_data)==null?void 0:O.pincode)||"",country:((P=M.address_data)==null?void 0:P.country)||"Saudi Arabia"},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:M.payment_method||"Cash",notes:"",tags:[],status:"active",createdAt:M.creation||new Date().toISOString(),lastVisit:void 0,avatar:void 0,defaultCurrency:void 0,companyCurrency:void 0,customer_group:M.customer_group||"All Customer Groups",territory:M.territory||"All Territories",contactPerson:M.contact_data?`${M.contact_data.first_name||""} ${M.contact_data.last_name||""}`.trim()||M.customer_name:M.customer_name||"",companyName:M.customer_type==="Company"?M.customer_name:void 0,taxId:M.vat_number||"",industry:M.industry||"",employeeCount:M.employee_count||"",registrationScheme:M.registration_scheme||"",registrationNumber:M.registration_number||""};t(K)}catch(q){q instanceof Error?c(q.message):c("Unknown error")}finally{o(!1)}})},[e]),{customer:r,isLoading:s,error:l}}function OA(e){return Ne(this,null,function*(){const t=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(e)}`)).json();if(t!=null&&t.message&&Array.isArray(t.message))return t.message;throw new Error("Invalid response format")})}function AA(e){return Ne(this,null,function*(){try{const r=yield fetch(`/api/method/klik_pos.api.item.get_serial_nos_for_item?item_code=${encodeURIComponent(e)}`);if(!r.ok)return[];const t=yield r.json();return Array.isArray(t==null?void 0:t.message)?t.message.map(s=>typeof s.serial_no=="string"?s.serial_no:"").filter(Boolean):[]}catch(r){return[]}})}function sN(e){const[r,t]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(null),u=()=>Ne(null,null,function*(){var f,m;if(!e){t(null);return}o(!0),c(null);try{const p=yield fetch(`/api/method/klik_pos.api.customer.get_customer_statistics?customer_id=${encodeURIComponent(e)}`);if(!p.ok)throw new Error(`HTTP ${p.status}: ${p.statusText}`);const _=yield p.json();if((f=_==null?void 0:_.message)!=null&&f.success)t(_.message.data);else throw new Error(((m=_==null?void 0:_.message)==null?void 0:m.error)||"Failed to fetch customer statistics")}catch(p){console.error("Error fetching customer statistics:",p),c(p.message||"Failed to fetch customer statistics"),t(null)}finally{o(!1)}});return k.useEffect(()=>{u()},[e]),{statistics:r,isLoading:s,error:l,refetch:u}}function RA(){const[e,r]=k.useState(!1);return{checkCustomerPermission:k.useCallback(s=>Ne(null,null,function*(){var o;if(!s)return{success:!1,has_permission:!1,customer_name:"",business_type:"",customer_groups:[],user_permissions:0,error:"Customer name is required"};r(!0);try{const l=yield fetch(`/api/method/klik_pos.api.customer.check_customer_permission?customer_name=${encodeURIComponent(s)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const c=yield l.json();if(!c.message||c.message.success===!1)throw new Error(((o=c.message)==null?void 0:o.error)||"Failed to check customer permission");return c.message}catch(l){return console.error("Error checking customer permission:",l),{success:!1,has_permission:!1,customer_name:s,business_type:"",customer_groups:[],user_permissions:0,error:l.message||"Failed to check customer permission"}}finally{r(!1)}}),[]),isChecking:e}}const PA=({item:e,onUpdateQuantity:r,isMobile:t})=>{const[s,o]=k.useState(e.quantity.toString()),[l,c]=k.useState(!1);k.useEffect(()=>{l||o(e.quantity.toString())},[e.quantity,l]);const u=p=>{const _=p.target.value;o(_)},f=()=>{c(!1);const p=Number(s);isNaN(p)||p<=0?(o(e.quantity.toString()),p<=0&&r(e.id,0)):(o(p.toString()),r(e.id,p))},m=()=>{c(!0)};return a.jsx("input",{type:"number",step:"0.01",min:"0",value:s,onChange:u,onFocus:m,onBlur:f,className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})},MA=({item:e,onUOMChange:r,isMobile:t,selectedCustomer:s})=>{const[o,l]=k.useState(["Nos"]),[c,u]=k.useState(e.uom||"Nos"),[f,m]=k.useState(""),[p,_]=k.useState(!1);k.useEffect(()=>{Ne(null,null,function*(){var $;try{const O=e.item_code||e.id;if(O){const P=s!=null&&s.id?`&customer=${s.id}`:"",q=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${O}${P}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(q.ok){const H=yield q.json();if(($=H==null?void 0:H.message)!=null&&$.uoms){const M=H.message.uoms.map(K=>K.uom);l(M)}else l(["Nos"])}else l(["Nos"])}else l(["Nos"])}catch(O){console.error(" Error loading item-specific UOMs:",O),l(["Nos"])}})},[e.id,e.item_code,s==null?void 0:s.id]),k.useEffect(()=>{u(e.uom||"Nos")},[e.uom]);const j=o.filter(T=>T.toLowerCase().includes(f.toLowerCase())),C=T=>Ne(null,null,function*(){var $,O;u(T),_(!1),m("");try{const P=e.item_code||e.id;if(P){const q=s!=null&&s.id?`&customer=${s.id}`:"",H=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${P}${q}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(H.ok){const M=yield H.json();if(($=M==null?void 0:M.message)!=null&&$.uoms){const K=M.message.uoms.find(F=>F.uom===T);if(K&&K.price!==void 0)console.log(` Found UOM data for ${T}:`,K),r(e.id,T,K.price);else{console.warn(` UOM data not found for ${T}. Available UOMs:`,M.message.uoms.map(F=>F.uom));try{const F=e.item_code||e.id,oe=s!=null&&s.id?`&customer=${s.id}`:"",fe=yield fetch(`/api/method/klik_pos.api.item.get_item_price_for_customer?item_code=${F}&uom=${encodeURIComponent(T)}${oe}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(fe.ok){const X=yield fe.json();(O=X==null?void 0:X.message)!=null&&O.success&&X.message.price>0?(console.log(` Got price from fallback API for ${T}:`,X.message.price),r(e.id,T,X.message.price)):console.error(` Fallback API returned invalid price for ${T}`)}}catch(F){console.error(` Error in fallback price fetch for ${T}:`,F)}}}else console.error(" No UOMs data in API response")}}}catch(P){console.error(" Error fetching UOM pricing:",P)}});return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>_(!p),className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{children:c}),a.jsx("svg",{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Search UOM...",value:f,onChange:T=>m(T.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-48 overflow-y-auto",children:j.length>0?j.map(T=>a.jsx("button",{type:"button",onClick:()=>C(T),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${T===c?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:T},T)):a.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No UOMs found"})})]})]})},DA=({itemId:e,itemCode:r,options:t,value:s,onChange:o,isMobile:l})=>{const[c,u]=k.useState(!1),[f,m]=k.useState(""),p=t.filter(j=>j.batch_id.toLowerCase().includes(f.toLowerCase())),_=j=>{var T;const C=((T=t.find($=>$.batch_id===j))==null?void 0:T.qty)||0;o(j,C),u(!1),m("")};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>u(!c),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:s||"Select Batch"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[a.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Filter batch...",value:f,onChange:j=>m(j.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-36 overflow-y-auto",children:p.length>0?p.map(j=>a.jsxs("button",{type:"button",onClick:()=>_(j.batch_id),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===j.batch_id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:[j.batch_id," - ",j.qty]},j.batch_id)):a.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})},IA=({itemId:e,itemCode:r,options:t,value:s,onChange:o,isMobile:l})=>{const[c,u]=k.useState(!1),[f,m]=k.useState(""),p=t.filter(j=>j.toLowerCase().includes(f.toLowerCase())),_=j=>{o(j),u(!1),m("")};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>u(!c),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:s||"Select Serial"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[a.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Filter serial...",value:f,onChange:j=>m(j.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-36 overflow-y-auto",children:p.length>0?p.map(j=>a.jsx("button",{type:"button",onClick:()=>_(j),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===j?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:j},j)):a.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})};function oN({cartItems:e,onUpdateQuantity:r,onRemoveItem:t,onClearCart:s,appliedCoupons:o,onRemoveCoupon:l,isMobile:c=!1}){const{selectedCustomer:u,setSelectedCustomer:f,updateUOM:m,updatePricesForCustomer:p}=Ul(),[_,j]=k.useState(!1),[C,T]=k.useState(!0);k.useEffect(()=>{const ve=setTimeout(()=>{T(!1)},2e3);return()=>clearTimeout(ve)},[]),k.useEffect(()=>{!C&&u&&e.length>0&&p(u.id)},[u==null?void 0:u.id,e.length,C,p]);const[$,O]=k.useState(""),[P,q]=k.useState(!1),[H,M]=k.useState(!1),[K,F]=k.useState(!1),{customers:oe,isLoading:fe,refetch:X}=Mh($),{refreshStockOnly:le,updateBatchQuantitiesForItems:he}=hh(),{posDetails:ee,loading:ce}=Za(),{checkCustomerPermission:te}=RA(),{statistics:pe}=sN((u==null?void 0:u.id)||null),[se,re]=k.useState(""),[de,He]=k.useState({}),W=ee==null?void 0:ee.currency_symbol,z=k.useCallback((ve,Je,gt)=>{const mt=e.find(xt=>xt.id===ve);mt&&console.log("  Before Update:",{name:mt.name,uom:mt.uom,price:mt.price,quantity:mt.quantity}),m(ve,Je,gt),setTimeout(()=>{},100)},[m,e]),[ae,ge]=k.useState({}),[ue,U]=k.useState({}),[Q,Ae]=k.useState({}),[Ke,ct]=k.useState({}),[dt,kt]=k.useState(new Set),ht=ve=>{const Je=ae[ve.id]||{discountPercentage:0,discountAmount:0};let gt=ve.price;return Je.discountPercentage>0&&(gt=ve.price*(1-Je.discountPercentage/100)),Je.discountAmount>0&&(gt=Math.max(0,gt-Je.discountAmount)),Math.max(0,gt)},zt=e.reduce((ve,Je)=>{const gt=ht(Je);return ve+gt*Je.quantity},0),be=e.reduce((ve,Je)=>{const gt=Je.price*Je.quantity,mt=ht(Je)*Je.quantity;return ve+(gt-mt)},0),Ze=o.reduce((ve,Je)=>ve+Je.value,0),At=Math.max(0,zt-Ze),ye=ve=>{if(ve.key==="Enter"&&$.trim()!=="")if(ft.length===0){const Je=$.trim();let gt={};if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Je))gt={email:Je};else if(/^[\d\s+()-]+$/.test(Je)&&Je.replace(/[\s+()-]/g,"").length>=7){let mt=Je;const xt=Je.replace(/[\s+()-]/g,"");!xt.startsWith("966")&&!xt.startsWith("+966")?xt.startsWith("0")?mt="+966"+xt.substring(1):mt="+966"+xt:xt.startsWith("966")&&!xt.startsWith("+966")&&(mt="+"+xt),gt={phone:mt}}else console.log("Detected name:",Je),gt={name:Je};He(gt),re(Je),M(!0),q(!1)}else ft.length===1&&!_&&ft[0]&&Zt(ft[0])},We=(ve,Je,gt)=>{ge(mt=>je(Y({},mt),{[ve]:je(Y({},mt[ve]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:150}),{[Je]:typeof gt=="string"?gt:Math.max(0,gt)})}))},ft=$.trim()===""?oe:oe.filter(ve=>ve.name.toLowerCase().includes($.toLowerCase())||ve.email.toLowerCase().includes($.toLowerCase())||ve.phone.includes($)||ve.tags.some(Je=>Je.toLowerCase().includes($.toLowerCase()))),ur=()=>u?!0:(Ie.error("Kindly choose customer"),!1),Zt=ve=>{f(ve),O(ve.name),q(!1),j(!1)},ne=ve=>Ne(null,null,function*(){var Je;if(ve&&ve.customer_name)try{const gt=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(ve.customer_name)}`);if(!gt.ok)throw new Error(`HTTP ${gt.status}: ${gt.statusText}`);const mt=yield gt.json();if(mt.message){const xt=mt.message,Ye={id:xt.name,name:xt.customer_name||xt.name,email:xt.email_id||"",phone:xt.mobile_no||"",type:xt.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:xt.custom_loyalty_points||0,totalSpent:xt.custom_total_spent||0,totalOrders:xt.custom_total_orders||0,preferredPaymentMethod:"Cash",tags:((Je=xt.custom_tags)==null?void 0:Je.split(",").filter(Boolean))||[],status:xt.custom_status||"active",createdAt:xt.creation||new Date().toISOString()};f(Ye),O(""),X&&X()}}catch(gt){console.error("Error fetching customer details:",gt);const mt={id:ve.customer_name||"",name:ve.customer_name||"",email:"",phone:"",type:"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",tags:[],status:"active",createdAt:new Date().toISOString()};f(mt),O("")}M(!1),re(""),He({})}),ze=ve=>Ne(null,null,function*(){console.log("OrderSummary: Payment completed, clearing cart and refreshing stock",ve);const Je=e.map(gt=>gt.item_code||gt.id);tt();try{if((yield le())&&console.log("OrderSummary: Stock refreshed successfully"),Je.length>0)try{yield he(Je)}catch(mt){console.error("OrderSummary: Failed to update batch quantities:",mt)}}catch(gt){console.error("OrderSummary: Failed to refresh stock:",gt)}}),rt=ve=>Ne(null,null,function*(){F(!1),ve||console.log("OrderSummary: Payment was not completed - keeping cart items")}),ut=ve=>Ne(null,null,function*(){if(!u){Ie.error("Kindly select a customer");return}try{F(!1);const Je=yield gj(ve);Je&&Je.success?(tt(),Ie.success("Draft invoice created and order held successfully!")):Ie.error("Failed to create draft invoice")}catch(Je){console.error("Error creating draft invoice:",Je);const gt=ed(Je,"Failed to create draft invoice");Ie.error(gt)}}),tt=()=>{if(e.length===0)return;s&&s(),[...e].forEach(Je=>{t&&t(Je.id)}),o.forEach(Je=>{l(Je.code)}),ge({}),f(null),O("")},jt=ve=>{switch(ve.type){case"company":return a.jsx(xu,{size:14,className:"text-purple-600"});case"walk-in":return a.jsx(Zn,{size:14,className:"text-gray-600"});default:return a.jsx(Zn,{size:14,className:"text-blue-600"})}},yt=ve=>{const Je=new Set(dt);Je.has(ve)?Je.delete(ve):Je.add(ve),kt(Je)};return k.useEffect(()=>{if(oe.length===1&&!u&&!fe){const ve=oe[0];ve&&(f(ve),O(ve.name)),q(!1)}},[oe,u,fe]),k.useEffect(()=>{if(ee!=null&&ee.default_customer&&!u&&!ce&&!_){const ve=ee.default_customer;te(ve.id).then(Je=>{if(Je.success&&Je.has_permission){const gt={id:ve.id,name:ve.name,email:ve.email||"",phone:ve.phone||"",type:ve.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),defaultCurrency:ve.default_currency||void 0};f(gt),O(gt.name),q(!1)}else console.log("User does not have permission to access default customer:",ve.id,Je)}).catch(Je=>{console.error("Error checking default customer permission:",Je)})}},[ee,u,ce,_,te]),k.useEffect(()=>{const ve=()=>Ne(null,null,function*(){const Je=Y({},ue),gt=Y({},Q);for(const mt of e){const xt=mt.item_code||mt.id;if(xt&&xt!=="undefined"){if(!Je[xt])try{const Ye=yield OA(mt.id);Array.isArray(Ye)&&(Je[xt]=Ye)}catch(Ye){console.error("Error fetching batches",Ye)}if(!gt[xt])try{const Ye=yield AA(xt);Array.isArray(Ye)&&(gt[xt]=Ye)}catch(Ye){console.error("Error fetching serials",Ye)}}else console.log(`OrderSummary: Skipping initial info loading for key "${xt}"`)}U(Je),Ae(gt)});e.length&&ve()},[e]),k.useEffect(()=>{const ve=mt=>{const{updatedItems:xt}=mt.detail;U(Ye=>{const Gt=Y({},Ye);xt.forEach(({itemCode:cr,batches:pr})=>{cr&&cr!=="undefined"?Gt[cr]=pr:console.log(`OrderSummary: Skipping invalid itemCode: "${cr}"`)}),Gt.undefined!==void 0&&delete Gt.undefined;const qt=void 0;return Gt[qt]!==void 0&&delete Gt[qt],Gt})};window.addEventListener("batchQuantitiesUpdated",ve);const Je=mt=>{var qt,cr;const{itemCode:xt,batchId:Ye}=mt.detail,Gt=e.find(pr=>(pr.item_code||pr.id)===xt);if(Gt){const pr=((cr=(qt=ue[Gt.item_code||Gt.id])==null?void 0:qt.find(ta=>ta.batch_id===Ye))==null?void 0:cr.qty)||0;ge(ta=>je(Y({},ta),{[Gt.id]:je(Y({},ta[Gt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:Ye||"",availableQuantity:pr})}))}else ct(pr=>je(Y({},pr),{[xt]:je(Y({},pr[xt]||{}),{batchId:Ye})}))},gt=mt=>{const{itemCode:xt,serialNo:Ye}=mt.detail,Gt=e.find(qt=>(qt.item_code||qt.id)===xt);Gt?(ge(qt=>je(Y({},qt),{[Gt.id]:je(Y({},qt[Gt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:Ye||""})})),Ae(qt=>{const cr=Gt.item_code||Gt.id,pr=new Set(qt[cr]||[]);return pr.has(Ye)?qt:je(Y({},qt),{[cr]:[...pr,Ye]})})):ct(qt=>je(Y({},qt),{[xt]:je(Y({},qt[xt]||{}),{serialNo:Ye})}))};return window.addEventListener("cart:setBatchForItem",Je),window.addEventListener("cart:setSerialForItem",gt),()=>{window.removeEventListener("batchQuantitiesUpdated",ve),window.removeEventListener("cart:setBatchForItem",Je),window.removeEventListener("cart:setSerialForItem",gt)}},[e,ue]),k.useEffect(()=>{if(!e.length)return;const ve=Y({},Ke);e.forEach(Je=>{var xt,Ye;const gt=Je.item_code||Je.id,mt=ve[gt];if(mt){if(mt.batchId){const Gt=((Ye=(xt=ue[gt])==null?void 0:xt.find(qt=>qt.batch_id===mt.batchId))==null?void 0:Ye.qty)||0;ge(qt=>je(Y({},qt),{[Je.id]:je(Y({},qt[Je.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:mt.batchId||"",availableQuantity:Gt})}))}mt.serialNo&&(ge(Gt=>je(Y({},Gt),{[Je.id]:je(Y({},Gt[Je.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:mt.serialNo||""})})),Ae(Gt=>{const qt=new Set(Gt[gt]||[]);return qt.has(mt.serialNo)?Gt:je(Y({},Gt),{[gt]:[...qt,mt.serialNo]})})),delete ve[gt]}}),Object.keys(ve).length!==Object.keys(Ke).length&&ct(ve)},[e,ue,Ke]),a.jsxs("div",{className:`h-full flex flex-col bg-white dark:bg-gray-800 ${c?"":"border-l"} border-gray-200 dark:border-gray-700`,children:[!c&&a.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:$,onChange:ve=>{O(ve.target.value),q(ve.target.value.length>0)},onKeyDown:ye,onFocus:()=>q(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),P&&ft.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:ft.slice(0,8).map(ve=>a.jsx("button",{onClick:()=>Zt(ve),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[jt(ve),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:ve.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[ve.phone,"  ",ve.email]})]})]})},ve.id))})]}),a.jsx("button",{onClick:()=>M(!0),className:"ml-2 p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",title:"Add New Customer",children:a.jsx(t2,{size:16})})]}),u&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[u&&jt(u),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:u==null?void 0:u.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&a.jsx("span",{children:u.phone}),u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&a.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&a.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!u.phone||u.phone==="N/A"||u.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&a.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),a.jsx("button",{onClick:()=>{f(null),O(""),j(!0)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Ra,{size:14})})]})})]})}),c&&a.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:$,onChange:ve=>{O(ve.target.value),q(ve.target.value.length>0)},onKeyPress:ye,onFocus:()=>q(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),P&&ft.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:ft.slice(0,8).map(ve=>a.jsx("button",{onClick:()=>Zt(ve),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[jt(ve),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:ve.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[ve.email,"  ",ve.phone]})]})]})},ve.id))})]}),a.jsx("button",{onClick:()=>M(!0),className:"p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:a.jsx(t2,{size:16})})]}),u&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[u&&jt(u),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:u==null?void 0:u.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&a.jsx("span",{children:u.phone}),u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&a.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&a.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!u.phone||u.phone==="N/A"||u.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&a.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),a.jsx("button",{onClick:()=>{f(null),O(""),j(!0)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ra,{size:14})})]})})]}),a.jsx("div",{className:`${c?"flex-1 overflow-y-auto custom-scrollbar p-4":"flex-1 overflow-y-auto p-6 cart-scroll"}`,children:a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add some items to get started!"})]}):e.map(ve=>{const Je=ht(ve),gt=ve.price*ve.quantity,mt=Je*ve.quantity,xt=ae[ve.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:""};return a.jsxs("div",{className:`${c?"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden":""}`,children:[a.jsxs("div",{className:`flex items-center ${c?"p-3":"py-2"}`,children:[a.jsx("div",{className:"flex-shrink-0 mr-2",children:a.jsx("button",{onClick:()=>yt(ve.id),className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-500 transition-all duration-200",title:"Show/Hide Details",children:a.jsx("svg",{className:`${c?"w-3 h-3":"w-4 h-4"} text-beveren-500 dark:text-gray-400 transform transition-transform duration-200 ${dt.has(ve.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),ve.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:ve.image,alt:ve.name,className:`${c?"w-16 h-16":"w-12 h-12"} rounded-lg object-cover`,crossOrigin:"anonymous"})}),a.jsxs("div",{className:"flex-1 min-w-0 px-3",children:[a.jsx("h4",{className:`font-semibold text-gray-900 dark:text-white ${c?"text-base":"text-sm"} truncate`,children:ve.name}),a.jsx("p",{className:`text-gray-500 dark:text-gray-400 capitalize font-medium ${c?"text-sm":"text-xs"}`,children:ve.category}),a.jsx("div",{className:`${c?"text-base":"text-sm"}`,children:Je<ve.price?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-gray-400 line-through text-xs",children:[W,ve.price.toFixed(2)]}),a.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[W,Je.toFixed(2)]})]}):a.jsxs("div",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[W,ve.price.toFixed(2)]})})]}),a.jsxs("div",{className:"flex-shrink-0 flex items-center ml-10 space-x-1 min-w-[70px] justify-center",children:[a.jsx("button",{onClick:()=>r(ve.id,ve.quantity-1),className:`${c?"w-8 h-8":"w-5 h-5"} rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors`,children:a.jsx(bh,{size:c?16:14,className:"text-gray-600 dark:text-gray-400"})}),a.jsx("span",{className:`${c?"w-10":"w-8"} text-center font-semibold text-gray-900 dark:text-white text-sm`,children:ve.quantity}),a.jsx("button",{onClick:()=>r(ve.id,ve.quantity+1),className:`${c?"w-8 h-8":"w-7 h-7"} rounded-full bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 flex items-center justify-center hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors`,children:a.jsx(qo,{size:c?16:14,className:"text-blue-600 dark:text-blue-400"})})]}),a.jsx("div",{className:"flex-shrink-0 text-right min-w-[80px] px-2",children:mt<gt?a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-400 line-through text-xs",children:[W,gt.toFixed(2)]}),a.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${c?"text-base":"text-sm"}`,children:[W,mt.toFixed(2)]})]}):a.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${c?"text-base":"text-sm"}`,children:[W,mt.toFixed(2)]})}),a.jsx("div",{className:"flex-shrink-0 ml-2",children:a.jsx("button",{onClick:()=>t?t(ve.id):r(ve.id,0),className:`${c?"w-8 h-8":"w-6 h-6"} rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500 flex items-center justify-center hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-200 dark:hover:border-red-800 hover:text-red-600 dark:hover:text-red-400 transition-colors`,title:"Remove item",children:a.jsx(Ra,{size:c?16:12})})})]}),dt.has(ve.id)&&a.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 ${c?"px-3 pb-3":"px-6 py-3 ml-7"} bg-gray-25 dark:bg-gray-750`,children:[a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Quantity"}),a.jsx(PA,{item:ve,onUpdateQuantity:r,isMobile:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"UOM"}),a.jsx(MA,{item:ve,onUOMChange:z,isMobile:c,selectedCustomer:u})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount Amount"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:xt.discountAmount||"",onChange:Ye=>We(ve.id,"discountAmount",parseFloat(Ye.target.value)||0),placeholder:"0.00",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:xt.discountPercentage||"",onChange:Ye=>We(ve.id,"discountPercentage",parseFloat(Ye.target.value)||0),placeholder:"0.0",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Batch"}),a.jsx(DA,{itemId:ve.id,itemCode:ve.item_code||ve.id,options:ue[ve.item_code||ve.id]||[],value:xt.batchNumber||"",onChange:(Ye,Gt)=>{We(ve.id,"batchNumber",Ye),We(ve.id,"availableQuantity",Gt)},isMobile:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Serial No"}),a.jsx(IA,{itemId:ve.id,itemCode:ve.item_code||ve.id,options:Q[ve.item_code||ve.id]||[],value:xt.serialNumber||"",onChange:Ye=>We(ve.id,"serialNumber",Ye),isMobile:c})]})]})]}),(xt.discountPercentage>0||xt.discountAmount>0)&&a.jsxs("div",{className:"mt-3 p-2 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:[a.jsx("div",{className:"text-xs text-green-800 dark:text-green-300 font-medium",children:"Discount Applied:"}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400",children:[xt.discountPercentage>0&&`${xt.discountPercentage}% off`,xt.discountPercentage>0&&xt.discountAmount>0&&" + ",xt.discountAmount>0&&`${xt.discountAmount.toFixed(2)} off`]}),a.jsxs("span",{className:"text-xs font-semibold text-green-800 dark:text-green-300",children:["Save $",(gt-mt).toFixed(2)]})]})]})]})]},ve.id)})})}),e.length>0&&a.jsxs("div",{className:`${c?"flex-shrink-0 p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 shadow-lg":"p-4 border-t border-gray-100 dark:border-gray-700"} space-y-3`,children:[a.jsxs("div",{className:`grid grid-cols-2 gap-3 ${c?"mb-3":""}`,children:[a.jsx("button",{onClick:()=>{if(!ur())return;const ve=u;if(!ve)return;const Je={items:e.map(gt=>({id:gt.id,quantity:gt.quantity,price:ht(gt)})),customer:{id:ve.id},subtotal:zt,total:At,appliedCoupons:o,itemDiscounts:ae,totalItemDiscount:be,totalSavings:be+Ze,status:"held"};ut(Je)},className:"px-3 py-2 border border-beveren-600 text-beveren-600 dark:text-beveren-400 rounded-lg font-medium hover:bg-beveren-600 hover:text-white transition-colors text-sm",children:"Hold"}),a.jsx("button",{onClick:tt,className:"px-3 py-2 border border-red-500 text-red-600 dark:text-red-400 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm",children:"Clear Cart"})]}),a.jsxs("button",{onClick:()=>{ur()&&F(!0)},className:`w-full bg-beveren-600 text-white rounded-xl font-semibold hover:bg-beveren-700 transition-colors ${c?"py-3 text-base":"py-2 text-sm"}`,children:["Checkout ",W,At.toFixed(2)]})]}),H&&a.jsx(Pl,{customer:null,onClose:()=>{M(!1),re(""),He({})},onSave:ne,prefilledName:se,prefilledData:de}),K&&a.jsx(Vy,{isOpen:K,onClose:rt,cartItems:e.map(ve=>je(Y({},ve),{discountedPrice:ht(ve),itemDiscount:ae[ve.id]||{},originalPrice:ve.price,finalAmount:ht(ve)*ve.quantity})),appliedCoupons:o,selectedCustomer:u,onCompletePayment:ze,onHoldOrder:ut,isMobile:c,itemDiscounts:ae,totalItemDiscount:be})]})}const LA={USD:"$",SAR:".",AED:".",EUR:"",GBP:"",JPY:"",CAD:"C$",AUD:"A$",CHF:"CHF",CNY:"",INR:"",KRW:"",MXN:"$",NZD:"NZ$",SGD:"S$",THB:"",TRY:"",ZAR:"R",BRL:"R$",RUB:"",SEK:"kr",NOK:"kr",DKK:"kr",PLN:"z",CZK:"K",HUF:"Ft",ILS:"",EGP:"",QAR:".",KWD:".",BHD:".",OMR:".",JOD:".",LBP:".",PKR:"",BDT:"",LKR:"",NPR:"",AFN:"",IRR:"",IQD:".",SYP:"",YER:"",MAD:".",TND:".",DZD:".",LYD:".",ETB:"Br",KES:"KSh",UGX:"USh",TZS:"TSh",ZMW:"ZK",BWP:"P",SZL:"L",LSL:"L",NAD:"N$",MUR:"",SCR:"",MVR:"",NIO:"C$",GTQ:"Q",HNL:"L",SVC:"$",BZD:"BZ$",JMD:"J$",TTD:"TT$",BBD:"Bds$",XCD:"$",AWG:"",ANG:"",SRD:"$",GYD:"G$",VEF:"Bs",COP:"$",PEN:"S/",BOB:"Bs",CLP:"$",ARS:"$",UYU:"$U",PYG:"",FKP:"",FJD:"FJ$",PGK:"K",SBD:"SI$",VUV:"Vt",WST:"WS$",TOP:"T$",PHP:"",IDR:"Rp",MYR:"RM",VND:"",LAK:"",KHR:"",MMK:"K",BND:"B$"},Jy=e=>e?LA[e.toUpperCase()]||e:"$",_t=(e,r)=>!e&&e!==0?"0.00":`${Jy(r||"USD")} ${e.toFixed(2)}`;function Jn(){const e=da(),r=In(),t=[{icon:Zu,path:"/pos",label:"POS"},{icon:J3,path:"/invoice",label:"Invoice"},{icon:fo,path:"/items",label:"Items"},{icon:Li,path:"/customers",label:"Customers"},{icon:Mc,path:"/dashboard",label:"Dashboard"},{icon:El,path:"/closing_shift",label:"Closing"}],s=o=>o==="/pos"?r.pathname==="/"||r.pathname==="/pos":r.pathname.startsWith(o);return a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 safe-area-pb",children:a.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:t.map((o,l)=>a.jsxs("button",{onClick:()=>e(o.path),className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 transition-colors ${s(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:[a.jsx(o.icon,{size:20,className:`mb-1 ${s(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`}),a.jsx("span",{className:`text-xs font-medium truncate ${s(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:o.label})]},l))})})}function UA({items:e,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:o,onScanBarcode:l,scannerOnly:c=!1,hasMore:u=!1,isLoadingMore:f=!1,onLoadMore:m,totalCount:p=0,isSearching:_=!1}){const{t:j}=Ll(),{user:C,logout:T}=Gi(),{theme:$,toggleTheme:O}=ph(),{posDetails:P,loading:q}=Za(),{cartItems:H,addToCart:M}=Ul(),K=da(),[F,oe]=k.useState(!1),[fe,X]=k.useState("grid"),le=k.useRef(null);k.useEffect(()=>{if(!q&&P){const de=P.custom_default_view;de==="List View"?X("list"):de==="Grid View"&&X("grid")}},[P,q]),k.useEffect(()=>{function de(He){le.current&&!le.current.contains(He.target)&&oe(!1)}return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[le]);const he=()=>Ne(null,null,function*(){try{yield T(),window.location.href="/klik_pos/login"}catch(de){console.error("Logout error:",de),window.location.href="/klik_pos/login"}}),ee=de=>de.split(" ").map(He=>He.charAt(0).toUpperCase()).join("").substring(0,2),ce=(C==null?void 0:C.full_name)||(C==null?void 0:C.name)||"Guest User",te=(P==null?void 0:P.name)||"POS Profile",pe=ee(ce),se=H.reduce((de,He)=>de+He.quantity,0),re=H.reduce((de,He)=>de+He.price*He.quantity,0);return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[a.jsxs("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-beveren-600 dark:text-beveren-400",children:"KLiK PoS"}),c&&a.jsx("div",{className:"bg-blue-600/90 text-white px-2 py-1 rounded-md text-xs font-medium",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),a.jsx("span",{children:"Scan Only"})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 relative",ref:le,children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:te}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ce})]}),a.jsx("button",{onClick:()=>oe(!F),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white text-xs font-medium pointer-events-none",children:pe})}),F&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:pe})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:te}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(zy,{size:12,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:ce})]}),a.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:(C==null?void 0:C.role)||"User"})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(Xu,{to:"/settings",onClick:()=>oe(!1),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(wh,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{O(),oe(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[$==="dark"?a.jsx(jh,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}):a.jsx(vh,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:$==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>Ne(null,null,function*(){yield uj(),oe(!1)}),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[a.jsx(qi,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Clear Cache"})]}),a.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:()=>{he(),oe(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[a.jsx(xh,{size:14,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"px-4 pb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:j("SEARCH_PRODUCTS"),value:s,onChange:de=>o(de.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),l&&a.jsx("button",{onClick:l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:a.jsx(ej,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>X("grid"),className:`p-2 rounded-md transition-colors ${fe==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:a.jsx(Zu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>X("list"),className:`p-2 rounded-md transition-colors ${fe==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:a.jsx(Uy,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"px-4 pb-2",children:a.jsx(fj,{selectedCategory:r,onCategoryChange:t,isMobile:!0})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:q?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):_?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Searching..."})]})}):a.jsx(hj,{items:e,onAddToCart:M,isMobile:!0,scannerOnly:c,viewMode:fe,hasMore:u,isLoadingMore:f,onLoadMore:m,totalCount:p})}),se>0&&a.jsx("button",{onClick:()=>K("/cart"),className:"fixed bottom-20 right-6 bg-beveren-600 text-white rounded-full p-4 shadow-lg hover:bg-beveren-700 transition-colors z-30",children:a.jsxs("div",{className:"relative",children:[a.jsx(ku,{className:"w-6 h-6"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:se})]})}),se>0&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 z-40",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[se," items"]}),a.jsx("div",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:_t(re,(P==null?void 0:P.currency)||"USD")}),a.jsx("button",{onClick:()=>K("/cart"),className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors font-medium",children:"View Cart"})]})}),a.jsx(Jn,{})]})}function FA({message:e="Loading..."}){return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:e})]})})}var Wg={exports:{}},mw;function zA(){return mw||(mw=1,function(e,r){(function(t,s){e.exports=s()})(window,function(){return function(t){var s={};function o(l){if(s[l])return s[l].exports;var c=s[l]={i:l,l:!1,exports:{}};return t[l].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=t,o.c=s,o.d=function(l,c,u){o.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},o.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,c){if(1&c&&(l=o(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var f in l)o.d(u,f,function(m){return l[m]}.bind(null,f));return u},o.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(c,"a",c),c},o.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},o.p="/",o(o.s=90)}([function(t,s,o){var l=o(68);t.exports=function(c,u,f){return(u=l(u))in c?Object.defineProperty(c,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[u]=f,c},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){function o(l){return t.exports=o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},t.exports.__esModule=!0,t.exports.default=t.exports,o(l)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(68);function c(u,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,l(p.key),p)}}t.exports=function(u,f,m){return f&&c(u.prototype,f),m&&c(u,m),Object.defineProperty(u,"prototype",{writable:!1}),u},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default,c=o(150);t.exports=function(u,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(u)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(38);t.exports=function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),u&&l(c,u)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(146)();t.exports=l;try{regeneratorRuntime=l}catch(c){typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}},function(t,s){function o(l,c,u,f,m,p,_){try{var j=l[p](_),C=j.value}catch(T){return void u(T)}j.done?c(C):Promise.resolve(C).then(f,m)}t.exports=function(l){return function(){var c=this,u=arguments;return new Promise(function(f,m){var p=l.apply(c,u);function _(C){o(p,f,m,_,j,"next",C)}function j(C){o(p,f,m,_,j,"throw",C)}_(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(46),c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")();t.exports=u},function(t,s){function o(l){return t.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t.exports.__esModule=!0,t.exports.default=t.exports,o(l)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}},function(t,s){t.exports=function(o){return o!=null&&typeof o=="object"}},function(t,s){var o=Array.isArray;t.exports=o},function(t,s,o){var l=o(151);function c(){return t.exports=c=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(u,f,m){var p=l(u,f);if(p){var _=Object.getOwnPropertyDescriptor(p,f);return _.get?_.get.call(arguments.length<3?u:m):_.value}},t.exports.__esModule=!0,t.exports.default=t.exports,c.apply(null,arguments)}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(102),c=o(108);t.exports=function(u,f){var m=c(u,f);return l(m)?m:void 0}},function(t,s,o){var l=o(91),c=o(134)(function(u,f,m){l(u,f,m)});t.exports=c},function(t,s,o){var l=o(152),c=o(153),u=o(66),f=o(154);t.exports=function(m){return l(m)||c(m)||u(m)||f()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(19),c=o(104),u=o(105),f=l?l.toStringTag:void 0;t.exports=function(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":f&&f in Object(m)?c(m):u(m)}},function(t,s,o){var l=o(60),c=o(29);t.exports=function(u,f,m,p){var _=!m;m||(m={});for(var j=-1,C=f.length;++j<C;){var T=f[j],$=p?p(m[T],u[T],T,m,u):void 0;$===void 0&&($=u[T]),_?c(m,T,$):l(m,T,$)}return m}},function(t,s,o){var l=o(8).Symbol;t.exports=l},function(t,s,o){var l=o(61),c=o(132),u=o(26);t.exports=function(f){return u(f)?l(f,!0):c(f)}},function(t,s,o){var l=o(92),c=o(93),u=o(94),f=o(95),m=o(96);function p(_){var j=-1,C=_==null?0:_.length;for(this.clear();++j<C;){var T=_[j];this.set(T[0],T[1])}}p.prototype.clear=l,p.prototype.delete=c,p.prototype.get=u,p.prototype.has=f,p.prototype.set=m,t.exports=p},function(t,s,o){var l=o(23);t.exports=function(c,u){for(var f=c.length;f--;)if(l(c[f][0],u))return f;return-1}},function(t,s){t.exports=function(o,l){return o===l||o!=o&&l!=l}},function(t,s,o){var l=o(14)(Object,"create");t.exports=l},function(t,s,o){var l=o(117);t.exports=function(c,u){var f=c.__data__;return l(u)?f[typeof u=="string"?"string":"hash"]:f.map}},function(t,s,o){var l=o(28),c=o(56);t.exports=function(u){return u!=null&&c(u.length)&&!l(u)}},function(t,s,o){var l=o(14)(o(8),"Map");t.exports=l},function(t,s,o){var l=o(17),c=o(10);t.exports=function(u){if(!c(u))return!1;var f=l(u);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},function(t,s,o){var l=o(50);t.exports=function(c,u,f){u=="__proto__"&&l?l(c,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[u]=f}},function(t,s){t.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(t,s,o){var l=o(124);t.exports=function(c){var u=new c.constructor(c.byteLength);return new l(u).set(new l(c)),u}},function(t,s,o){var l=o(55)(Object.getPrototypeOf,Object);t.exports=l},function(t,s){var o=Object.prototype;t.exports=function(l){var c=l&&l.constructor;return l===(typeof c=="function"&&c.prototype||o)}},function(t,s,o){var l=o(126),c=o(11),u=Object.prototype,f=u.hasOwnProperty,m=u.propertyIsEnumerable,p=l(function(){return arguments}())?l:function(_){return c(_)&&f.call(_,"callee")&&!m.call(_,"callee")};t.exports=p},function(t,s,o){(function(l){var c=o(8),u=o(128),f=s&&!s.nodeType&&s,m=f&&typeof l=="object"&&l&&!l.nodeType&&l,p=m&&m.exports===f?c.Buffer:void 0,_=(p?p.isBuffer:void 0)||u;l.exports=_}).call(this,o(30)(t))},function(t,s){t.exports=function(o){return function(l){return o(l)}}},function(t,s,o){(function(l){var c=o(46),u=s&&!s.nodeType&&s,f=u&&typeof l=="object"&&l&&!l.nodeType&&l,m=f&&f.exports===u&&c.process,p=function(){try{var _=f&&f.require&&f.require("util").types;return _||m&&m.binding&&m.binding("util")}catch(j){}}();l.exports=p}).call(this,o(30)(t))},function(t,s){function o(l,c){return t.exports=o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,f){return u.__proto__=f,u},t.exports.__esModule=!0,t.exports.default=t.exports,o(l,c)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(61),c=o(159),u=o(26);t.exports=function(f){return u(f)?l(f):c(f)}},function(t,s,o){var l=o(163),c=o(75),u=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols,m=f?function(p){return p==null?[]:(p=Object(p),l(f(p),function(_){return u.call(p,_)}))}:c;t.exports=m},function(t,s){t.exports=function(o,l){for(var c=-1,u=l.length,f=o.length;++c<u;)o[f+c]=l[c];return o}},function(t,s,o){var l=o(166),c=o(27),u=o(167),f=o(168),m=o(169),p=o(17),_=o(47),j=_(l),C=_(c),T=_(u),$=_(f),O=_(m),P=p;(l&&P(new l(new ArrayBuffer(1)))!="[object DataView]"||c&&P(new c)!="[object Map]"||u&&P(u.resolve())!="[object Promise]"||f&&P(new f)!="[object Set]"||m&&P(new m)!="[object WeakMap]")&&(P=function(q){var H=p(q),M=H=="[object Object]"?q.constructor:void 0,K=M?_(M):"";if(K)switch(K){case j:return"[object DataView]";case C:return"[object Map]";case T:return"[object Promise]";case $:return"[object Set]";case O:return"[object WeakMap]"}return H}),t.exports=P},function(t,s,o){var l=o(12),c=o(180),u=o(181),f=o(184);t.exports=function(m,p){return l(m)?m:c(m,p)?[m]:u(f(m))}},function(t,s,o){var l=o(17),c=o(11);t.exports=function(u){return typeof u=="symbol"||c(u)&&l(u)=="[object Symbol]"}},function(t,s,o){var l=o(21),c=o(97),u=o(98),f=o(99),m=o(100),p=o(101);function _(j){var C=this.__data__=new l(j);this.size=C.size}_.prototype.clear=c,_.prototype.delete=u,_.prototype.get=f,_.prototype.has=m,_.prototype.set=p,t.exports=_},function(t,s,o){(function(l){var c=typeof l=="object"&&l&&l.Object===Object&&l;t.exports=c}).call(this,o(103))},function(t,s){var o=Function.prototype.toString;t.exports=function(l){if(l!=null){try{return o.call(l)}catch(c){}try{return l+""}catch(c){}}return""}},function(t,s,o){var l=o(109),c=o(116),u=o(118),f=o(119),m=o(120);function p(_){var j=-1,C=_==null?0:_.length;for(this.clear();++j<C;){var T=_[j];this.set(T[0],T[1])}}p.prototype.clear=l,p.prototype.delete=c,p.prototype.get=u,p.prototype.has=f,p.prototype.set=m,t.exports=p},function(t,s,o){var l=o(29),c=o(23);t.exports=function(u,f,m){(m!==void 0&&!c(u[f],m)||m===void 0&&!(f in u))&&l(u,f,m)}},function(t,s,o){var l=o(14),c=function(){try{var u=l(Object,"defineProperty");return u({},"",{}),u}catch(f){}}();t.exports=c},function(t,s,o){(function(l){var c=o(8),u=s&&!s.nodeType&&s,f=u&&typeof l=="object"&&l&&!l.nodeType&&l,m=f&&f.exports===u?c.Buffer:void 0,p=m?m.allocUnsafe:void 0;l.exports=function(_,j){if(j)return _.slice();var C=_.length,T=p?p(C):new _.constructor(C);return _.copy(T),T}}).call(this,o(30)(t))},function(t,s,o){var l=o(31);t.exports=function(c,u){var f=u?l(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}},function(t,s){t.exports=function(o,l){var c=-1,u=o.length;for(l||(l=Array(u));++c<u;)l[c]=o[c];return l}},function(t,s,o){var l=o(125),c=o(32),u=o(33);t.exports=function(f){return typeof f.constructor!="function"||u(f)?{}:l(c(f))}},function(t,s){t.exports=function(o,l){return function(c){return o(l(c))}}},function(t,s){t.exports=function(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=9007199254740991}},function(t,s,o){var l=o(17),c=o(32),u=o(11),f=Function.prototype,m=Object.prototype,p=f.toString,_=m.hasOwnProperty,j=p.call(Object);t.exports=function(C){if(!u(C)||l(C)!="[object Object]")return!1;var T=c(C);if(T===null)return!0;var $=_.call(T,"constructor")&&T.constructor;return typeof $=="function"&&$ instanceof $&&p.call($)==j}},function(t,s,o){var l=o(129),c=o(36),u=o(37),f=u&&u.isTypedArray,m=f?c(f):l;t.exports=m},function(t,s){t.exports=function(o,l){if((l!=="constructor"||typeof o[l]!="function")&&l!="__proto__")return o[l]}},function(t,s,o){var l=o(29),c=o(23),u=Object.prototype.hasOwnProperty;t.exports=function(f,m,p){var _=f[m];u.call(f,m)&&c(_,p)&&(p!==void 0||m in f)||l(f,m,p)}},function(t,s,o){var l=o(131),c=o(34),u=o(12),f=o(35),m=o(62),p=o(58),_=Object.prototype.hasOwnProperty;t.exports=function(j,C){var T=u(j),$=!T&&c(j),O=!T&&!$&&f(j),P=!T&&!$&&!O&&p(j),q=T||$||O||P,H=q?l(j.length,String):[],M=H.length;for(var K in j)!C&&!_.call(j,K)||q&&(K=="length"||O&&(K=="offset"||K=="parent")||P&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||m(K,M))||H.push(K);return H}},function(t,s){var o=/^(?:0|[1-9]\d*)$/;t.exports=function(l,c){var u=typeof l;return!!(c=c==null?9007199254740991:c)&&(u=="number"||u!="symbol"&&o.test(l))&&l>-1&&l%1==0&&l<c}},function(t,s){t.exports=function(o){return o}},function(t,s,o){var l=o(136),c=Math.max;t.exports=function(u,f,m){return f=c(f===void 0?u.length-1:f,0),function(){for(var p=arguments,_=-1,j=c(p.length-f,0),C=Array(j);++_<j;)C[_]=p[f+_];_=-1;for(var T=Array(f+1);++_<f;)T[_]=p[_];return T[f]=m(C),l(u,this,T)}}},function(t,s,o){var l=o(137),c=o(139)(l);t.exports=c},function(t,s,o){var l=o(67);t.exports=function(c,u){if(c){if(typeof c=="string")return l(c,u);var f={}.toString.call(c).slice(8,-1);return f==="Object"&&c.constructor&&(f=c.constructor.name),f==="Map"||f==="Set"?Array.from(c):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?l(c,u):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){(l==null||l>o.length)&&(l=o.length);for(var c=0,u=Array(l);c<l;c++)u[c]=o[c];return u},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default,c=o(145);t.exports=function(u){var f=c(u,"string");return l(f)=="symbol"?f:f+""},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){this.v=o,this.k=l},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(71);function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var u,f,m=typeof Symbol=="function"?Symbol:{},p=m.iterator||"@@iterator",_=m.toStringTag||"@@toStringTag";function j(M,K,F,oe){var fe=K&&K.prototype instanceof T?K:T,X=Object.create(fe.prototype);return l(X,"_invoke",function(le,he,ee){var ce,te,pe,se=0,re=ee||[],de=!1,He={p:0,n:0,v:u,a:W,f:W.bind(u,4),d:function(z,ae){return ce=z,te=0,pe=u,He.n=ae,C}};function W(z,ae){for(te=z,pe=ae,f=0;!de&&se&&!ge&&f<re.length;f++){var ge,ue=re[f],U=He.p,Q=ue[2];z>3?(ge=Q===ae)&&(pe=ue[(te=ue[4])?5:(te=3,3)],ue[4]=ue[5]=u):ue[0]<=U&&((ge=z<2&&U<ue[1])?(te=0,He.v=ae,He.n=ue[1]):U<Q&&(ge=z<3||ue[0]>ae||ae>Q)&&(ue[4]=z,ue[5]=ae,He.n=Q,te=0))}if(ge||z>1)return C;throw de=!0,ae}return function(z,ae,ge){if(se>1)throw TypeError("Generator is already running");for(de&&ae===1&&W(ae,ge),te=ae,pe=ge;(f=te<2?u:pe)||!de;){ce||(te?te<3?(te>1&&(He.n=-1),W(te,pe)):He.n=pe:He.v=pe);try{if(se=2,ce){if(te||(z="next"),f=ce[z]){if(!(f=f.call(ce,pe)))throw TypeError("iterator result is not an object");if(!f.done)return f;pe=f.value,te<2&&(te=0)}else te===1&&(f=ce.return)&&f.call(ce),te<2&&(pe=TypeError("The iterator does not provide a '"+z+"' method"),te=1);ce=u}else if((f=(de=He.n<0)?pe:le.call(he,He))!==C)break}catch(ue){ce=u,te=1,pe=ue}finally{se=1}}return{value:f,done:de}}}(M,F,oe),!0),X}var C={};function T(){}function $(){}function O(){}f=Object.getPrototypeOf;var P=[][p]?f(f([][p]())):(l(f={},p,function(){return this}),f),q=O.prototype=T.prototype=Object.create(P);function H(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,O):(M.__proto__=O,l(M,_,"GeneratorFunction")),M.prototype=Object.create(q),M}return $.prototype=O,l(q,"constructor",O),l(O,"constructor",$),$.displayName="GeneratorFunction",l(O,_,"GeneratorFunction"),l(q),l(q,_,"Generator"),l(q,p,function(){return this}),l(q,"toString",function(){return"[object Generator]"}),(t.exports=c=function(){return{w:j,m:H}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){function o(l,c,u,f){var m=Object.defineProperty;try{m({},"",{})}catch(p){m=0}t.exports=o=function(p,_,j,C){function T($,O){o(p,$,function(P){return this._invoke($,O,P)})}_?m?m(p,_,{value:j,enumerable:!C,configurable:!C,writable:!C}):p[_]=j:(T("next",0),T("throw",1),T("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,o(l,c,u,f)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(70),c=o(73);t.exports=function(u,f,m,p,_){return new c(l().w(u,f,m,p),_||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(69),c=o(71);t.exports=function u(f,m){function p(j,C,T,$){try{var O=f[j](C),P=O.value;return P instanceof l?m.resolve(P.v).then(function(q){p("next",q,T,$)},function(q){p("throw",q,T,$)}):m.resolve(P).then(function(q){O.value=q,T(O)},function(q){return p("throw",q,T,$)})}catch(q){$(q)}}var _;this.next||(c(u.prototype),c(u.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),c(this,"_invoke",function(j,C,T){function $(){return new m(function(O,P){p(j,T,O,P)})}return _=_?_.then($,$):$()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){for(var c=-1,u=o==null?0:o.length,f=Array(u);++c<u;)f[c]=l(o[c],c,o);return f}},function(t,s){t.exports=function(){return[]}},function(t,s,o){var l=o(41),c=o(32),u=o(40),f=o(75),m=Object.getOwnPropertySymbols?function(p){for(var _=[];p;)l(_,u(p)),p=c(p);return _}:f;t.exports=m},function(t,s,o){var l=o(41),c=o(12);t.exports=function(u,f,m){var p=f(u);return c(u)?p:l(p,m(u))}},function(t,s,o){var l=o(77),c=o(76),u=o(20);t.exports=function(f){return l(f,u,c)}},function(t,s,o){var l=o(44);t.exports=function(c){if(typeof c=="string"||l(c))return c;var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}},function(t,s,o){var l=o(142),c=o(143),u=o(66),f=o(144);t.exports=function(m,p){return l(m)||c(m,p)||u(m,p)||f()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(155);t.exports=function(c,u){if(c==null)return{};var f,m,p=l(c,u);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(c);for(m=0;m<_.length;m++)f=_[m],u.indexOf(f)===-1&&{}.propertyIsEnumerable.call(c,f)&&(p[f]=c[f])}return p},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(74),c=o(156),u=o(179),f=o(43),m=o(18),p=o(190),_=o(191),j=o(78),C=_(function(T,$){var O={};if(T==null)return O;var P=!1;$=l($,function(H){return H=f(H,T),P||(P=H.length>1),H}),m(T,j(T),O),P&&(O=c(O,7,p));for(var q=$.length;q--;)u(O,$[q]);return O});t.exports=C},function(t,s,o){var l=o(1),c=o(38),u=o(195),f=o(196);function m(p){var _=typeof Map=="function"?new Map:void 0;return t.exports=m=function(j){if(j===null||!u(j))return j;if(typeof j!="function")throw new TypeError("Super expression must either be null or a function");if(_!==void 0){if(_.has(j))return _.get(j);_.set(j,C)}function C(){return f(j,arguments,l(this).constructor)}return C.prototype=Object.create(j.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),c(C,j)},t.exports.__esModule=!0,t.exports.default=t.exports,m(p)}t.exports=m,t.exports.__esModule=!0,t.exports.default=t.exports},,,,,,,function(t,s,o){t.exports=o(198)},function(t,s,o){var l=o(45),c=o(49),u=o(121),f=o(123),m=o(10),p=o(20),_=o(59);t.exports=function j(C,T,$,O,P){C!==T&&u(T,function(q,H){if(P||(P=new l),m(q))f(C,T,H,$,j,O,P);else{var M=O?O(_(C,H),q,H+"",C,T,P):void 0;M===void 0&&(M=q),c(C,H,M)}},p)}},function(t,s){t.exports=function(){this.__data__=[],this.size=0}},function(t,s,o){var l=o(22),c=Array.prototype.splice;t.exports=function(u){var f=this.__data__,m=l(f,u);return!(m<0)&&(m==f.length-1?f.pop():c.call(f,m,1),--this.size,!0)}},function(t,s,o){var l=o(22);t.exports=function(c){var u=this.__data__,f=l(u,c);return f<0?void 0:u[f][1]}},function(t,s,o){var l=o(22);t.exports=function(c){return l(this.__data__,c)>-1}},function(t,s,o){var l=o(22);t.exports=function(c,u){var f=this.__data__,m=l(f,c);return m<0?(++this.size,f.push([c,u])):f[m][1]=u,this}},function(t,s,o){var l=o(21);t.exports=function(){this.__data__=new l,this.size=0}},function(t,s){t.exports=function(o){var l=this.__data__,c=l.delete(o);return this.size=l.size,c}},function(t,s){t.exports=function(o){return this.__data__.get(o)}},function(t,s){t.exports=function(o){return this.__data__.has(o)}},function(t,s,o){var l=o(21),c=o(27),u=o(48);t.exports=function(f,m){var p=this.__data__;if(p instanceof l){var _=p.__data__;if(!c||_.length<199)return _.push([f,m]),this.size=++p.size,this;p=this.__data__=new u(_)}return p.set(f,m),this.size=p.size,this}},function(t,s,o){var l=o(28),c=o(106),u=o(10),f=o(47),m=/^\[object .+?Constructor\]$/,p=Function.prototype,_=Object.prototype,j=p.toString,C=_.hasOwnProperty,T=RegExp("^"+j.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function($){return!(!u($)||c($))&&(l($)?T:m).test(f($))}},function(t,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(l){typeof window=="object"&&(o=window)}t.exports=o},function(t,s,o){var l=o(19),c=Object.prototype,u=c.hasOwnProperty,f=c.toString,m=l?l.toStringTag:void 0;t.exports=function(p){var _=u.call(p,m),j=p[m];try{p[m]=void 0;var C=!0}catch($){}var T=f.call(p);return C&&(_?p[m]=j:delete p[m]),T}},function(t,s){var o=Object.prototype.toString;t.exports=function(l){return o.call(l)}},function(t,s,o){var l,c=o(107),u=(l=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";t.exports=function(f){return!!u&&u in f}},function(t,s,o){var l=o(8)["__core-js_shared__"];t.exports=l},function(t,s){t.exports=function(o,l){return o==null?void 0:o[l]}},function(t,s,o){var l=o(110),c=o(21),u=o(27);t.exports=function(){this.size=0,this.__data__={hash:new l,map:new(u||c),string:new l}}},function(t,s,o){var l=o(111),c=o(112),u=o(113),f=o(114),m=o(115);function p(_){var j=-1,C=_==null?0:_.length;for(this.clear();++j<C;){var T=_[j];this.set(T[0],T[1])}}p.prototype.clear=l,p.prototype.delete=c,p.prototype.get=u,p.prototype.has=f,p.prototype.set=m,t.exports=p},function(t,s,o){var l=o(24);t.exports=function(){this.__data__=l?l(null):{},this.size=0}},function(t,s){t.exports=function(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}},function(t,s,o){var l=o(24),c=Object.prototype.hasOwnProperty;t.exports=function(u){var f=this.__data__;if(l){var m=f[u];return m==="__lodash_hash_undefined__"?void 0:m}return c.call(f,u)?f[u]:void 0}},function(t,s,o){var l=o(24),c=Object.prototype.hasOwnProperty;t.exports=function(u){var f=this.__data__;return l?f[u]!==void 0:c.call(f,u)}},function(t,s,o){var l=o(24);t.exports=function(c,u){var f=this.__data__;return this.size+=this.has(c)?0:1,f[c]=l&&u===void 0?"__lodash_hash_undefined__":u,this}},function(t,s,o){var l=o(25);t.exports=function(c){var u=l(this,c).delete(c);return this.size-=u?1:0,u}},function(t,s){t.exports=function(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}},function(t,s,o){var l=o(25);t.exports=function(c){return l(this,c).get(c)}},function(t,s,o){var l=o(25);t.exports=function(c){return l(this,c).has(c)}},function(t,s,o){var l=o(25);t.exports=function(c,u){var f=l(this,c),m=f.size;return f.set(c,u),this.size+=f.size==m?0:1,this}},function(t,s,o){var l=o(122)();t.exports=l},function(t,s){t.exports=function(o){return function(l,c,u){for(var f=-1,m=Object(l),p=u(l),_=p.length;_--;){var j=p[o?_:++f];if(c(m[j],j,m)===!1)break}return l}}},function(t,s,o){var l=o(49),c=o(51),u=o(52),f=o(53),m=o(54),p=o(34),_=o(12),j=o(127),C=o(35),T=o(28),$=o(10),O=o(57),P=o(58),q=o(59),H=o(130);t.exports=function(M,K,F,oe,fe,X,le){var he=q(M,F),ee=q(K,F),ce=le.get(ee);if(ce)l(M,F,ce);else{var te=X?X(he,ee,F+"",M,K,le):void 0,pe=te===void 0;if(pe){var se=_(ee),re=!se&&C(ee),de=!se&&!re&&P(ee);te=ee,se||re||de?_(he)?te=he:j(he)?te=f(he):re?(pe=!1,te=c(ee,!0)):de?(pe=!1,te=u(ee,!0)):te=[]:O(ee)||p(ee)?(te=he,p(he)?te=H(he):$(he)&&!T(he)||(te=m(ee))):pe=!1}pe&&(le.set(ee,te),fe(te,ee,oe,X,le),le.delete(ee)),l(M,F,te)}}},function(t,s,o){var l=o(8).Uint8Array;t.exports=l},function(t,s,o){var l=o(10),c=Object.create,u=function(){function f(){}return function(m){if(!l(m))return{};if(c)return c(m);f.prototype=m;var p=new f;return f.prototype=void 0,p}}();t.exports=u},function(t,s,o){var l=o(17),c=o(11);t.exports=function(u){return c(u)&&l(u)=="[object Arguments]"}},function(t,s,o){var l=o(26),c=o(11);t.exports=function(u){return c(u)&&l(u)}},function(t,s){t.exports=function(){return!1}},function(t,s,o){var l=o(17),c=o(56),u=o(11),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,t.exports=function(m){return u(m)&&c(m.length)&&!!f[l(m)]}},function(t,s,o){var l=o(18),c=o(20);t.exports=function(u){return l(u,c(u))}},function(t,s){t.exports=function(o,l){for(var c=-1,u=Array(o);++c<o;)u[c]=l(c);return u}},function(t,s,o){var l=o(10),c=o(33),u=o(133),f=Object.prototype.hasOwnProperty;t.exports=function(m){if(!l(m))return u(m);var p=c(m),_=[];for(var j in m)(j!="constructor"||!p&&f.call(m,j))&&_.push(j);return _}},function(t,s){t.exports=function(o){var l=[];if(o!=null)for(var c in Object(o))l.push(c);return l}},function(t,s,o){var l=o(135),c=o(140);t.exports=function(u){return l(function(f,m){var p=-1,_=m.length,j=_>1?m[_-1]:void 0,C=_>2?m[2]:void 0;for(j=u.length>3&&typeof j=="function"?(_--,j):void 0,C&&c(m[0],m[1],C)&&(j=_<3?void 0:j,_=1),f=Object(f);++p<_;){var T=m[p];T&&u(f,T,p,j)}return f})}},function(t,s,o){var l=o(63),c=o(64),u=o(65);t.exports=function(f,m){return u(c(f,m,l),f+"")}},function(t,s){t.exports=function(o,l,c){switch(c.length){case 0:return o.call(l);case 1:return o.call(l,c[0]);case 2:return o.call(l,c[0],c[1]);case 3:return o.call(l,c[0],c[1],c[2])}return o.apply(l,c)}},function(t,s,o){var l=o(138),c=o(50),u=o(63),f=c?function(m,p){return c(m,"toString",{configurable:!0,enumerable:!1,value:l(p),writable:!0})}:u;t.exports=f},function(t,s){t.exports=function(o){return function(){return o}}},function(t,s){var o=Date.now;t.exports=function(l){var c=0,u=0;return function(){var f=o(),m=16-(f-u);if(u=f,m>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(void 0,arguments)}}},function(t,s,o){var l=o(23),c=o(26),u=o(62),f=o(10);t.exports=function(m,p,_){if(!f(_))return!1;var j=typeof p;return!!(j=="number"?c(_)&&u(p,_.length):j=="string"&&p in _)&&l(_[p],m)}},function(t,s){typeof window!="undefined"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){window.setTimeout(o,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(o,l){var c=65535&o,u=65535&l;return c*u+((o>>>16&65535)*u+c*(l>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(o){if(o===null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(o),c=1;c<arguments.length;c++){var u=arguments[c];if(u!==null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l})},function(t,s){t.exports=function(o){if(Array.isArray(o))return o},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){var c=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(c!=null){var u,f,m,p,_=[],j=!0,C=!1;try{if(m=(c=c.call(o)).next,l===0){if(Object(c)!==c)return;j=!1}else for(;!(j=(u=m.call(c)).done)&&(_.push(u.value),_.length!==l);j=!0);}catch(T){C=!0,f=T}finally{try{if(!j&&c.return!=null&&(p=c.return(),Object(p)!==p))return}finally{if(C)throw f}}return _}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default;t.exports=function(c,u){if(l(c)!="object"||!c)return c;var f=c[Symbol.toPrimitive];if(f!==void 0){var m=f.call(c,u||"default");if(l(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(c)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(69),c=o(70),u=o(147),f=o(72),m=o(73),p=o(148),_=o(149);function j(){var C=c(),T=C.m(j),$=(Object.getPrototypeOf?Object.getPrototypeOf(T):T.__proto__).constructor;function O(H){var M=typeof H=="function"&&H.constructor;return!!M&&(M===$||(M.displayName||M.name)==="GeneratorFunction")}var P={throw:1,return:2,break:3,continue:3};function q(H){var M,K;return function(F){M||(M={stop:function(){return K(F.a,2)},catch:function(){return F.v},abrupt:function(oe,fe){return K(F.a,P[oe],fe)},delegateYield:function(oe,fe,X){return M.resultName=fe,K(F.d,_(oe),X)},finish:function(oe){return K(F.f,oe)}},K=function(oe,fe,X){F.p=M.prev,F.n=M.next;try{return oe(fe,X)}finally{M.next=F.n}}),M.resultName&&(M[M.resultName]=F.v,M.resultName=void 0),M.sent=F.v,M.next=F.n;try{return H.call(this,M)}finally{F.p=M.prev,F.n=M.next}}}return(t.exports=j=function(){return{wrap:function(H,M,K,F){return C.w(q(H),M,K,F&&F.reverse())},isGeneratorFunction:O,mark:C.m,awrap:function(H,M){return new l(H,M)},AsyncIterator:m,async:function(H,M,K,F,oe){return(O(M)?f:u)(q(H),M,K,F,oe)},keys:p,values:_}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=j,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(72);t.exports=function(c,u,f,m,p){var _=l(c,u,f,m,p);return _.next().then(function(j){return j.done?j.value:_.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){var l=Object(o),c=[];for(var u in l)c.unshift(u);return function f(){for(;c.length;)if((u=c.pop())in l)return f.value=u,f.done=!1,f;return f.done=!0,f}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default;t.exports=function(c){if(c!=null){var u=c[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],f=0;if(u)return u.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length))return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}}}throw new TypeError(l(c)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(1);t.exports=function(c,u){for(;!{}.hasOwnProperty.call(c,u)&&(c=l(c))!==null;);return c},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(67);t.exports=function(c){if(Array.isArray(c))return l(c)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(45),c=o(157),u=o(60),f=o(158),m=o(161),p=o(51),_=o(53),j=o(162),C=o(164),T=o(165),$=o(78),O=o(42),P=o(170),q=o(171),H=o(54),M=o(12),K=o(35),F=o(175),oe=o(10),fe=o(177),X=o(39),le=o(20),he={};he["[object Arguments]"]=he["[object Array]"]=he["[object ArrayBuffer]"]=he["[object DataView]"]=he["[object Boolean]"]=he["[object Date]"]=he["[object Float32Array]"]=he["[object Float64Array]"]=he["[object Int8Array]"]=he["[object Int16Array]"]=he["[object Int32Array]"]=he["[object Map]"]=he["[object Number]"]=he["[object Object]"]=he["[object RegExp]"]=he["[object Set]"]=he["[object String]"]=he["[object Symbol]"]=he["[object Uint8Array]"]=he["[object Uint8ClampedArray]"]=he["[object Uint16Array]"]=he["[object Uint32Array]"]=!0,he["[object Error]"]=he["[object Function]"]=he["[object WeakMap]"]=!1,t.exports=function ee(ce,te,pe,se,re,de){var He,W=1&te,z=2&te,ae=4&te;if(pe&&(He=re?pe(ce,se,re,de):pe(ce)),He!==void 0)return He;if(!oe(ce))return ce;var ge=M(ce);if(ge){if(He=P(ce),!W)return _(ce,He)}else{var ue=O(ce),U=ue=="[object Function]"||ue=="[object GeneratorFunction]";if(K(ce))return p(ce,W);if(ue=="[object Object]"||ue=="[object Arguments]"||U&&!re){if(He=z||U?{}:H(ce),!W)return z?C(ce,m(He,ce)):j(ce,f(He,ce))}else{if(!he[ue])return re?ce:{};He=q(ce,ue,W)}}de||(de=new l);var Q=de.get(ce);if(Q)return Q;de.set(ce,He),fe(ce)?ce.forEach(function(Ke){He.add(ee(Ke,te,pe,Ke,ce,de))}):F(ce)&&ce.forEach(function(Ke,ct){He.set(ct,ee(Ke,te,pe,ct,ce,de))});var Ae=ge?void 0:(ae?z?$:T:z?le:X)(ce);return c(Ae||ce,function(Ke,ct){Ae&&(Ke=ce[ct=Ke]),u(He,ct,ee(Ke,te,pe,ct,ce,de))}),He}},function(t,s){t.exports=function(o,l){for(var c=-1,u=o==null?0:o.length;++c<u&&l(o[c],c,o)!==!1;);return o}},function(t,s,o){var l=o(18),c=o(39);t.exports=function(u,f){return u&&l(f,c(f),u)}},function(t,s,o){var l=o(33),c=o(160),u=Object.prototype.hasOwnProperty;t.exports=function(f){if(!l(f))return c(f);var m=[];for(var p in Object(f))u.call(f,p)&&p!="constructor"&&m.push(p);return m}},function(t,s,o){var l=o(55)(Object.keys,Object);t.exports=l},function(t,s,o){var l=o(18),c=o(20);t.exports=function(u,f){return u&&l(f,c(f),u)}},function(t,s,o){var l=o(18),c=o(40);t.exports=function(u,f){return l(u,c(u),f)}},function(t,s){t.exports=function(o,l){for(var c=-1,u=o==null?0:o.length,f=0,m=[];++c<u;){var p=o[c];l(p,c,o)&&(m[f++]=p)}return m}},function(t,s,o){var l=o(18),c=o(76);t.exports=function(u,f){return l(u,c(u),f)}},function(t,s,o){var l=o(77),c=o(40),u=o(39);t.exports=function(f){return l(f,u,c)}},function(t,s,o){var l=o(14)(o(8),"DataView");t.exports=l},function(t,s,o){var l=o(14)(o(8),"Promise");t.exports=l},function(t,s,o){var l=o(14)(o(8),"Set");t.exports=l},function(t,s,o){var l=o(14)(o(8),"WeakMap");t.exports=l},function(t,s){var o=Object.prototype.hasOwnProperty;t.exports=function(l){var c=l.length,u=new l.constructor(c);return c&&typeof l[0]=="string"&&o.call(l,"index")&&(u.index=l.index,u.input=l.input),u}},function(t,s,o){var l=o(31),c=o(172),u=o(173),f=o(174),m=o(52);t.exports=function(p,_,j){var C=p.constructor;switch(_){case"[object ArrayBuffer]":return l(p);case"[object Boolean]":case"[object Date]":return new C(+p);case"[object DataView]":return c(p,j);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return m(p,j);case"[object Map]":return new C;case"[object Number]":case"[object String]":return new C(p);case"[object RegExp]":return u(p);case"[object Set]":return new C;case"[object Symbol]":return f(p)}}},function(t,s,o){var l=o(31);t.exports=function(c,u){var f=u?l(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.byteLength)}},function(t,s){var o=/\w*$/;t.exports=function(l){var c=new l.constructor(l.source,o.exec(l));return c.lastIndex=l.lastIndex,c}},function(t,s,o){var l=o(19),c=l?l.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(f){return u?Object(u.call(f)):{}}},function(t,s,o){var l=o(176),c=o(36),u=o(37),f=u&&u.isMap,m=f?c(f):l;t.exports=m},function(t,s,o){var l=o(42),c=o(11);t.exports=function(u){return c(u)&&l(u)=="[object Map]"}},function(t,s,o){var l=o(178),c=o(36),u=o(37),f=u&&u.isSet,m=f?c(f):l;t.exports=m},function(t,s,o){var l=o(42),c=o(11);t.exports=function(u){return c(u)&&l(u)=="[object Set]"}},function(t,s,o){var l=o(43),c=o(186),u=o(187),f=o(79);t.exports=function(m,p){return p=l(p,m),(m=u(m,p))==null||delete m[f(c(p))]}},function(t,s,o){var l=o(12),c=o(44),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;t.exports=function(m,p){if(l(m))return!1;var _=typeof m;return!(_!="number"&&_!="symbol"&&_!="boolean"&&m!=null&&!c(m))||f.test(m)||!u.test(m)||p!=null&&m in Object(p)}},function(t,s,o){var l=o(182),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,f=l(function(m){var p=[];return m.charCodeAt(0)===46&&p.push(""),m.replace(c,function(_,j,C,T){p.push(C?T.replace(u,"$1"):j||_)}),p});t.exports=f},function(t,s,o){var l=o(183);t.exports=function(c){var u=l(c,function(m){return f.size===500&&f.clear(),m}),f=u.cache;return u}},function(t,s,o){var l=o(48);function c(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var m=function(){var p=arguments,_=f?f.apply(this,p):p[0],j=m.cache;if(j.has(_))return j.get(_);var C=u.apply(this,p);return m.cache=j.set(_,C)||j,C};return m.cache=new(c.Cache||l),m}c.Cache=l,t.exports=c},function(t,s,o){var l=o(185);t.exports=function(c){return c==null?"":l(c)}},function(t,s,o){var l=o(19),c=o(74),u=o(12),f=o(44),m=l?l.prototype:void 0,p=m?m.toString:void 0;t.exports=function _(j){if(typeof j=="string")return j;if(u(j))return c(j,_)+"";if(f(j))return p?p.call(j):"";var C=j+"";return C=="0"&&1/j==-1/0?"-0":C}},function(t,s){t.exports=function(o){var l=o==null?0:o.length;return l?o[l-1]:void 0}},function(t,s,o){var l=o(188),c=o(189);t.exports=function(u,f){return f.length<2?u:l(u,c(f,0,-1))}},function(t,s,o){var l=o(43),c=o(79);t.exports=function(u,f){for(var m=0,p=(f=l(f,u)).length;u!=null&&m<p;)u=u[c(f[m++])];return m&&m==p?u:void 0}},function(t,s){t.exports=function(o,l,c){var u=-1,f=o.length;l<0&&(l=-l>f?0:f+l),(c=c>f?f:c)<0&&(c+=f),f=l>c?0:c-l>>>0,l>>>=0;for(var m=Array(f);++u<f;)m[u]=o[u+l];return m}},function(t,s,o){var l=o(57);t.exports=function(c){return l(c)?void 0:c}},function(t,s,o){var l=o(192),c=o(64),u=o(65);t.exports=function(f){return u(c(f,void 0,l),f+"")}},function(t,s,o){var l=o(193);t.exports=function(c){return c!=null&&c.length?l(c,1):[]}},function(t,s,o){var l=o(41),c=o(194);t.exports=function u(f,m,p,_,j){var C=-1,T=f.length;for(p||(p=c),j||(j=[]);++C<T;){var $=f[C];m>0&&p($)?m>1?u($,m-1,p,_,j):l(j,$):_||(j[j.length]=$)}return j}},function(t,s,o){var l=o(19),c=o(34),u=o(12),f=l?l.isConcatSpreadable:void 0;t.exports=function(m){return u(m)||c(m)||!!(f&&m&&m[f])}},function(t,s){t.exports=function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch(l){return typeof o=="function"}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(197),c=o(38);t.exports=function(u,f,m){if(l())return Reflect.construct.apply(null,arguments);var p=[null];p.push.apply(p,f);var _=new(u.bind.apply(u,p));return m&&c(_,m.prototype),_},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){function o(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(c){}return(t.exports=o=function(){return!!l},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){o.r(s),o.d(s,"BarcodeDecoder",function(){return js}),o.d(s,"Readers",function(){return f}),o.d(s,"CameraAccess",function(){return Cn}),o.d(s,"ImageDebug",function(){return Z}),o.d(s,"ImageWrapper",function(){return Da}),o.d(s,"ResultCollector",function(){return kd});var l={};o.r(l),o.d(l,"create",function(){return fe}),o.d(l,"clone",function(){return X}),o.d(l,"copy",function(){return le}),o.d(l,"identity",function(){return he}),o.d(l,"fromValues",function(){return ee}),o.d(l,"set",function(){return ce}),o.d(l,"transpose",function(){return te}),o.d(l,"invert",function(){return pe}),o.d(l,"adjoint",function(){return se}),o.d(l,"determinant",function(){return re}),o.d(l,"multiply",function(){return de}),o.d(l,"rotate",function(){return He}),o.d(l,"scale",function(){return W}),o.d(l,"fromRotation",function(){return z}),o.d(l,"fromScaling",function(){return ae}),o.d(l,"str",function(){return ge}),o.d(l,"frob",function(){return ue}),o.d(l,"LDU",function(){return U}),o.d(l,"add",function(){return Q}),o.d(l,"subtract",function(){return Ae}),o.d(l,"exactEquals",function(){return Ke}),o.d(l,"equals",function(){return ct}),o.d(l,"multiplyScalar",function(){return dt}),o.d(l,"multiplyScalarAndAdd",function(){return kt}),o.d(l,"mul",function(){return ht}),o.d(l,"sub",function(){return zt});var c={};o.r(c),o.d(c,"create",function(){return be}),o.d(c,"clone",function(){return Ze}),o.d(c,"fromValues",function(){return At}),o.d(c,"copy",function(){return ye}),o.d(c,"set",function(){return We}),o.d(c,"add",function(){return ft}),o.d(c,"subtract",function(){return ur}),o.d(c,"multiply",function(){return Zt}),o.d(c,"divide",function(){return ne}),o.d(c,"ceil",function(){return ze}),o.d(c,"floor",function(){return rt}),o.d(c,"min",function(){return ut}),o.d(c,"max",function(){return tt}),o.d(c,"round",function(){return jt}),o.d(c,"scale",function(){return yt}),o.d(c,"scaleAndAdd",function(){return ve}),o.d(c,"distance",function(){return Je}),o.d(c,"squaredDistance",function(){return gt}),o.d(c,"length",function(){return mt}),o.d(c,"squaredLength",function(){return xt}),o.d(c,"negate",function(){return Ye}),o.d(c,"inverse",function(){return Gt}),o.d(c,"normalize",function(){return qt}),o.d(c,"dot",function(){return cr}),o.d(c,"cross",function(){return pr}),o.d(c,"lerp",function(){return ta}),o.d(c,"random",function(){return va}),o.d(c,"transformMat2",function(){return wa}),o.d(c,"transformMat2d",function(){return Ga}),o.d(c,"transformMat3",function(){return _r}),o.d(c,"transformMat4",function(){return na}),o.d(c,"rotate",function(){return qe}),o.d(c,"angle",function(){return st}),o.d(c,"signedAngle",function(){return Tr}),o.d(c,"zero",function(){return me}),o.d(c,"str",function(){return Ee}),o.d(c,"exactEquals",function(){return Me}),o.d(c,"equals",function(){return Ve}),o.d(c,"len",function(){return Pt}),o.d(c,"sub",function(){return Vt}),o.d(c,"mul",function(){return Ge}),o.d(c,"div",function(){return Ft}),o.d(c,"dist",function(){return Yt}),o.d(c,"sqrDist",function(){return Qt}),o.d(c,"sqrLen",function(){return Ht}),o.d(c,"forEach",function(){return mr});var u={};o.r(u),o.d(u,"create",function(){return br}),o.d(u,"clone",function(){return zr}),o.d(u,"length",function(){return Ar}),o.d(u,"fromValues",function(){return er}),o.d(u,"copy",function(){return Kt}),o.d(u,"set",function(){return Er}),o.d(u,"add",function(){return Br}),o.d(u,"subtract",function(){return ra}),o.d(u,"multiply",function(){return Xr}),o.d(u,"divide",function(){return Zr}),o.d(u,"ceil",function(){return Ja}),o.d(u,"floor",function(){return Ln}),o.d(u,"min",function(){return sa}),o.d(u,"max",function(){return Va}),o.d(u,"round",function(){return wt}),o.d(u,"scale",function(){return ua}),o.d(u,"scaleAndAdd",function(){return ka}),o.d(u,"distance",function(){return fa}),o.d(u,"squaredDistance",function(){return en}),o.d(u,"squaredLength",function(){return Mr}),o.d(u,"negate",function(){return fn}),o.d(u,"inverse",function(){return es}),o.d(u,"normalize",function(){return Te}),o.d(u,"dot",function(){return ot}),o.d(u,"cross",function(){return Rt}),o.d(u,"lerp",function(){return Ut}),o.d(u,"slerp",function(){return $t}),o.d(u,"hermite",function(){return rr}),o.d(u,"bezier",function(){return Jt}),o.d(u,"random",function(){return yr}),o.d(u,"transformMat4",function(){return Fr}),o.d(u,"transformMat3",function(){return Jr}),o.d(u,"transformQuat",function(){return ha}),o.d(u,"rotateX",function(){return ma}),o.d(u,"rotateY",function(){return kn}),o.d(u,"rotateZ",function(){return ho}),o.d(u,"angle",function(){return ts}),o.d(u,"zero",function(){return Fl}),o.d(u,"str",function(){return zl}),o.d(u,"exactEquals",function(){return Wi}),o.d(u,"equals",function(){return mo}),o.d(u,"sub",function(){return Yo}),o.d(u,"mul",function(){return dd}),o.d(u,"div",function(){return Qo}),o.d(u,"dist",function(){return Yi}),o.d(u,"sqrDist",function(){return go}),o.d(u,"len",function(){return ps}),o.d(u,"sqrLen",function(){return Hs}),o.d(u,"forEach",function(){return Qi});var f={};o.r(f),o.d(f,"BarcodeReader",function(){return Bt}),o.d(f,"TwoOfFiveReader",function(){return la}),o.d(f,"NewCodabarReader",function(){return vs}),o.d(f,"Code128Reader",function(){return xo}),o.d(f,"Code32Reader",function(){return a0}),o.d(f,"Code39Reader",function(){return Gl}),o.d(f,"Code39VINReader",function(){return fd}),o.d(f,"Code93Reader",function(){return c0}),o.d(f,"EAN2Reader",function(){return Kl}),o.d(f,"EAN5Reader",function(){return gd}),o.d(f,"EAN8Reader",function(){return m0}),o.d(f,"EANReader",function(){return ws}),o.d(f,"I2of5Reader",function(){return g0}),o.d(f,"PharmacodeReader",function(){return Wl}),o.d(f,"UPCEReader",function(){return bo}),o.d(f,"UPCReader",function(){return ei});var m=o(9),p=o.n(m),_=o(15),j=o.n(_),C=(o(141),o(80)),T=o.n(C),$=o(2),O=o.n($),P=o(3),q=o.n(P),H=o(0),M=o.n(H),K=typeof Float32Array!="undefined"?Float32Array:Array,F=Math.random;function oe(y){return y>=0?Math.round(y):y%.5==0?Math.floor(y):Math.round(y)}function fe(){var y=new K(4);return K!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}function X(y){var v=new K(4);return v[0]=y[0],v[1]=y[1],v[2]=y[2],v[3]=y[3],v}function le(y,v){return y[0]=v[0],y[1]=v[1],y[2]=v[2],y[3]=v[3],y}function he(y){return y[0]=1,y[1]=0,y[2]=0,y[3]=1,y}function ee(y,v,g,b){var w=new K(4);return w[0]=y,w[1]=v,w[2]=g,w[3]=b,w}function ce(y,v,g,b,w){return y[0]=v,y[1]=g,y[2]=b,y[3]=w,y}function te(y,v){if(y===v){var g=v[1];y[1]=v[2],y[2]=g}else y[0]=v[0],y[1]=v[2],y[2]=v[1],y[3]=v[3];return y}function pe(y,v){var g=v[0],b=v[1],w=v[2],S=v[3],E=g*S-w*b;return E?(E=1/E,y[0]=S*E,y[1]=-b*E,y[2]=-w*E,y[3]=g*E,y):null}function se(y,v){var g=v[0];return y[0]=v[3],y[1]=-v[1],y[2]=-v[2],y[3]=g,y}function re(y){return y[0]*y[3]-y[2]*y[1]}function de(y,v,g){var b=v[0],w=v[1],S=v[2],E=v[3],A=g[0],I=g[1],D=g[2],G=g[3];return y[0]=b*A+S*I,y[1]=w*A+E*I,y[2]=b*D+S*G,y[3]=w*D+E*G,y}function He(y,v,g){var b=v[0],w=v[1],S=v[2],E=v[3],A=Math.sin(g),I=Math.cos(g);return y[0]=b*I+S*A,y[1]=w*I+E*A,y[2]=b*-A+S*I,y[3]=w*-A+E*I,y}function W(y,v,g){var b=v[0],w=v[1],S=v[2],E=v[3],A=g[0],I=g[1];return y[0]=b*A,y[1]=w*A,y[2]=S*I,y[3]=E*I,y}function z(y,v){var g=Math.sin(v),b=Math.cos(v);return y[0]=b,y[1]=g,y[2]=-g,y[3]=b,y}function ae(y,v){return y[0]=v[0],y[1]=0,y[2]=0,y[3]=v[1],y}function ge(y){return"mat2("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+")"}function ue(y){return Math.sqrt(y[0]*y[0]+y[1]*y[1]+y[2]*y[2]+y[3]*y[3])}function U(y,v,g,b){return y[2]=b[2]/b[0],g[0]=b[0],g[1]=b[1],g[3]=b[3]-y[2]*g[1],[y,v,g]}function Q(y,v,g){return y[0]=v[0]+g[0],y[1]=v[1]+g[1],y[2]=v[2]+g[2],y[3]=v[3]+g[3],y}function Ae(y,v,g){return y[0]=v[0]-g[0],y[1]=v[1]-g[1],y[2]=v[2]-g[2],y[3]=v[3]-g[3],y}function Ke(y,v){return y[0]===v[0]&&y[1]===v[1]&&y[2]===v[2]&&y[3]===v[3]}function ct(y,v){var g=y[0],b=y[1],w=y[2],S=y[3],E=v[0],A=v[1],I=v[2],D=v[3];return Math.abs(g-E)<=1e-6*Math.max(1,Math.abs(g),Math.abs(E))&&Math.abs(b-A)<=1e-6*Math.max(1,Math.abs(b),Math.abs(A))&&Math.abs(w-I)<=1e-6*Math.max(1,Math.abs(w),Math.abs(I))&&Math.abs(S-D)<=1e-6*Math.max(1,Math.abs(S),Math.abs(D))}function dt(y,v,g){return y[0]=v[0]*g,y[1]=v[1]*g,y[2]=v[2]*g,y[3]=v[3]*g,y}function kt(y,v,g,b){return y[0]=v[0]+g[0]*b,y[1]=v[1]+g[1]*b,y[2]=v[2]+g[2]*b,y[3]=v[3]+g[3]*b,y}var ht=de,zt=Ae;function be(){var y=new K(2);return K!=Float32Array&&(y[0]=0,y[1]=0),y}function Ze(y){var v=new K(2);return v[0]=y[0],v[1]=y[1],v}function At(y,v){var g=new K(2);return g[0]=y,g[1]=v,g}function ye(y,v){return y[0]=v[0],y[1]=v[1],y}function We(y,v,g){return y[0]=v,y[1]=g,y}function ft(y,v,g){return y[0]=v[0]+g[0],y[1]=v[1]+g[1],y}function ur(y,v,g){return y[0]=v[0]-g[0],y[1]=v[1]-g[1],y}function Zt(y,v,g){return y[0]=v[0]*g[0],y[1]=v[1]*g[1],y}function ne(y,v,g){return y[0]=v[0]/g[0],y[1]=v[1]/g[1],y}function ze(y,v){return y[0]=Math.ceil(v[0]),y[1]=Math.ceil(v[1]),y}function rt(y,v){return y[0]=Math.floor(v[0]),y[1]=Math.floor(v[1]),y}function ut(y,v,g){return y[0]=Math.min(v[0],g[0]),y[1]=Math.min(v[1],g[1]),y}function tt(y,v,g){return y[0]=Math.max(v[0],g[0]),y[1]=Math.max(v[1],g[1]),y}function jt(y,v){return y[0]=oe(v[0]),y[1]=oe(v[1]),y}function yt(y,v,g){return y[0]=v[0]*g,y[1]=v[1]*g,y}function ve(y,v,g,b){return y[0]=v[0]+g[0]*b,y[1]=v[1]+g[1]*b,y}function Je(y,v){var g=v[0]-y[0],b=v[1]-y[1];return Math.sqrt(g*g+b*b)}function gt(y,v){var g=v[0]-y[0],b=v[1]-y[1];return g*g+b*b}function mt(y){var v=y[0],g=y[1];return Math.sqrt(v*v+g*g)}function xt(y){var v=y[0],g=y[1];return v*v+g*g}function Ye(y,v){return y[0]=-v[0],y[1]=-v[1],y}function Gt(y,v){return y[0]=1/v[0],y[1]=1/v[1],y}function qt(y,v){var g=v[0],b=v[1],w=g*g+b*b;return w>0&&(w=1/Math.sqrt(w)),y[0]=v[0]*w,y[1]=v[1]*w,y}function cr(y,v){return y[0]*v[0]+y[1]*v[1]}function pr(y,v,g){var b=v[0]*g[1]-v[1]*g[0];return y[0]=y[1]=0,y[2]=b,y}function ta(y,v,g,b){var w=v[0],S=v[1];return y[0]=w+b*(g[0]-w),y[1]=S+b*(g[1]-S),y}function va(y,v){v=v===void 0?1:v;var g=2*F()*Math.PI;return y[0]=Math.cos(g)*v,y[1]=Math.sin(g)*v,y}function wa(y,v,g){var b=v[0],w=v[1];return y[0]=g[0]*b+g[2]*w,y[1]=g[1]*b+g[3]*w,y}function Ga(y,v,g){var b=v[0],w=v[1];return y[0]=g[0]*b+g[2]*w+g[4],y[1]=g[1]*b+g[3]*w+g[5],y}function _r(y,v,g){var b=v[0],w=v[1];return y[0]=g[0]*b+g[3]*w+g[6],y[1]=g[1]*b+g[4]*w+g[7],y}function na(y,v,g){var b=v[0],w=v[1];return y[0]=g[0]*b+g[4]*w+g[12],y[1]=g[1]*b+g[5]*w+g[13],y}function qe(y,v,g,b){var w=v[0]-g[0],S=v[1]-g[1],E=Math.sin(b),A=Math.cos(b);return y[0]=w*A-S*E+g[0],y[1]=w*E+S*A+g[1],y}function st(y,v){var g=y[0],b=y[1],w=v[0],S=v[1];return Math.abs(Math.atan2(b*w-g*S,g*w+b*S))}function Tr(y,v){var g=y[0],b=y[1],w=v[0],S=v[1];return Math.atan2(g*S-b*w,g*w+b*S)}function me(y){return y[0]=0,y[1]=0,y}function Ee(y){return"vec2("+y[0]+", "+y[1]+")"}function Me(y,v){return y[0]===v[0]&&y[1]===v[1]}function Ve(y,v){var g=y[0],b=y[1],w=v[0],S=v[1];return Math.abs(g-w)<=1e-6*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(b-S)<=1e-6*Math.max(1,Math.abs(b),Math.abs(S))}var lt,Pt=mt,Vt=ur,Ge=Zt,Ft=ne,Yt=Je,Qt=gt,Ht=xt,mr=(lt=be(),function(y,v,g,b,w,S){var E,A;for(v||(v=2),g||(g=0),A=b?Math.min(b*v+g,y.length):y.length,E=g;E<A;E+=v)lt[0]=y[E],lt[1]=y[E+1],w(lt,lt,S),y[E]=lt[0],y[E+1]=lt[1];return y});function br(){var y=new K(3);return K!=Float32Array&&(y[0]=0,y[1]=0,y[2]=0),y}function zr(y){var v=new K(3);return v[0]=y[0],v[1]=y[1],v[2]=y[2],v}function Ar(y){var v=y[0],g=y[1],b=y[2];return Math.sqrt(v*v+g*g+b*b)}function er(y,v,g){var b=new K(3);return b[0]=y,b[1]=v,b[2]=g,b}function Kt(y,v){return y[0]=v[0],y[1]=v[1],y[2]=v[2],y}function Er(y,v,g,b){return y[0]=v,y[1]=g,y[2]=b,y}function Br(y,v,g){return y[0]=v[0]+g[0],y[1]=v[1]+g[1],y[2]=v[2]+g[2],y}function ra(y,v,g){return y[0]=v[0]-g[0],y[1]=v[1]-g[1],y[2]=v[2]-g[2],y}function Xr(y,v,g){return y[0]=v[0]*g[0],y[1]=v[1]*g[1],y[2]=v[2]*g[2],y}function Zr(y,v,g){return y[0]=v[0]/g[0],y[1]=v[1]/g[1],y[2]=v[2]/g[2],y}function Ja(y,v){return y[0]=Math.ceil(v[0]),y[1]=Math.ceil(v[1]),y[2]=Math.ceil(v[2]),y}function Ln(y,v){return y[0]=Math.floor(v[0]),y[1]=Math.floor(v[1]),y[2]=Math.floor(v[2]),y}function sa(y,v,g){return y[0]=Math.min(v[0],g[0]),y[1]=Math.min(v[1],g[1]),y[2]=Math.min(v[2],g[2]),y}function Va(y,v,g){return y[0]=Math.max(v[0],g[0]),y[1]=Math.max(v[1],g[1]),y[2]=Math.max(v[2],g[2]),y}function wt(y,v){return y[0]=oe(v[0]),y[1]=oe(v[1]),y[2]=oe(v[2]),y}function ua(y,v,g){return y[0]=v[0]*g,y[1]=v[1]*g,y[2]=v[2]*g,y}function ka(y,v,g,b){return y[0]=v[0]+g[0]*b,y[1]=v[1]+g[1]*b,y[2]=v[2]+g[2]*b,y}function fa(y,v){var g=v[0]-y[0],b=v[1]-y[1],w=v[2]-y[2];return Math.sqrt(g*g+b*b+w*w)}function en(y,v){var g=v[0]-y[0],b=v[1]-y[1],w=v[2]-y[2];return g*g+b*b+w*w}function Mr(y){var v=y[0],g=y[1],b=y[2];return v*v+g*g+b*b}function fn(y,v){return y[0]=-v[0],y[1]=-v[1],y[2]=-v[2],y}function es(y,v){return y[0]=1/v[0],y[1]=1/v[1],y[2]=1/v[2],y}function Te(y,v){var g=v[0],b=v[1],w=v[2],S=g*g+b*b+w*w;return S>0&&(S=1/Math.sqrt(S)),y[0]=v[0]*S,y[1]=v[1]*S,y[2]=v[2]*S,y}function ot(y,v){return y[0]*v[0]+y[1]*v[1]+y[2]*v[2]}function Rt(y,v,g){var b=v[0],w=v[1],S=v[2],E=g[0],A=g[1],I=g[2];return y[0]=w*I-S*A,y[1]=S*E-b*I,y[2]=b*A-w*E,y}function Ut(y,v,g,b){var w=v[0],S=v[1],E=v[2];return y[0]=w+b*(g[0]-w),y[1]=S+b*(g[1]-S),y[2]=E+b*(g[2]-E),y}function $t(y,v,g,b){var w=Math.acos(Math.min(Math.max(ot(v,g),-1),1)),S=Math.sin(w),E=Math.sin((1-b)*w)/S,A=Math.sin(b*w)/S;return y[0]=E*v[0]+A*g[0],y[1]=E*v[1]+A*g[1],y[2]=E*v[2]+A*g[2],y}function rr(y,v,g,b,w,S){var E=S*S,A=E*(2*S-3)+1,I=E*(S-2)+S,D=E*(S-1),G=E*(3-2*S);return y[0]=v[0]*A+g[0]*I+b[0]*D+w[0]*G,y[1]=v[1]*A+g[1]*I+b[1]*D+w[1]*G,y[2]=v[2]*A+g[2]*I+b[2]*D+w[2]*G,y}function Jt(y,v,g,b,w,S){var E=1-S,A=E*E,I=S*S,D=A*E,G=3*S*A,ie=3*I*E,we=I*S;return y[0]=v[0]*D+g[0]*G+b[0]*ie+w[0]*we,y[1]=v[1]*D+g[1]*G+b[1]*ie+w[1]*we,y[2]=v[2]*D+g[2]*G+b[2]*ie+w[2]*we,y}function yr(y,v){v=v===void 0?1:v;var g=2*F()*Math.PI,b=2*F()-1,w=Math.sqrt(1-b*b)*v;return y[0]=Math.cos(g)*w,y[1]=Math.sin(g)*w,y[2]=b*v,y}function Fr(y,v,g){var b=v[0],w=v[1],S=v[2],E=g[3]*b+g[7]*w+g[11]*S+g[15];return E=E||1,y[0]=(g[0]*b+g[4]*w+g[8]*S+g[12])/E,y[1]=(g[1]*b+g[5]*w+g[9]*S+g[13])/E,y[2]=(g[2]*b+g[6]*w+g[10]*S+g[14])/E,y}function Jr(y,v,g){var b=v[0],w=v[1],S=v[2];return y[0]=b*g[0]+w*g[3]+S*g[6],y[1]=b*g[1]+w*g[4]+S*g[7],y[2]=b*g[2]+w*g[5]+S*g[8],y}function ha(y,v,g){var b=g[0],w=g[1],S=g[2],E=g[3],A=v[0],I=v[1],D=v[2],G=w*D-S*I,ie=S*A-b*D,we=b*I-w*A;return G+=G,ie+=ie,we+=we,y[0]=A+E*G+w*we-S*ie,y[1]=I+E*ie+S*G-b*we,y[2]=D+E*we+b*ie-w*G,y}function ma(y,v,g,b){var w=[],S=[];return w[0]=v[0]-g[0],w[1]=v[1]-g[1],w[2]=v[2]-g[2],S[0]=w[0],S[1]=w[1]*Math.cos(b)-w[2]*Math.sin(b),S[2]=w[1]*Math.sin(b)+w[2]*Math.cos(b),y[0]=S[0]+g[0],y[1]=S[1]+g[1],y[2]=S[2]+g[2],y}function kn(y,v,g,b){var w=[],S=[];return w[0]=v[0]-g[0],w[1]=v[1]-g[1],w[2]=v[2]-g[2],S[0]=w[2]*Math.sin(b)+w[0]*Math.cos(b),S[1]=w[1],S[2]=w[2]*Math.cos(b)-w[0]*Math.sin(b),y[0]=S[0]+g[0],y[1]=S[1]+g[1],y[2]=S[2]+g[2],y}function ho(y,v,g,b){var w=[],S=[];return w[0]=v[0]-g[0],w[1]=v[1]-g[1],w[2]=v[2]-g[2],S[0]=w[0]*Math.cos(b)-w[1]*Math.sin(b),S[1]=w[0]*Math.sin(b)+w[1]*Math.cos(b),S[2]=w[2],y[0]=S[0]+g[0],y[1]=S[1]+g[1],y[2]=S[2]+g[2],y}function ts(y,v){var g=y[0],b=y[1],w=y[2],S=v[0],E=v[1],A=v[2],I=Math.sqrt((g*g+b*b+w*w)*(S*S+E*E+A*A)),D=I&&ot(y,v)/I;return Math.acos(Math.min(Math.max(D,-1),1))}function Fl(y){return y[0]=0,y[1]=0,y[2]=0,y}function zl(y){return"vec3("+y[0]+", "+y[1]+", "+y[2]+")"}function Wi(y,v){return y[0]===v[0]&&y[1]===v[1]&&y[2]===v[2]}function mo(y,v){var g=y[0],b=y[1],w=y[2],S=v[0],E=v[1],A=v[2];return Math.abs(g-S)<=1e-6*Math.max(1,Math.abs(g),Math.abs(S))&&Math.abs(b-E)<=1e-6*Math.max(1,Math.abs(b),Math.abs(E))&&Math.abs(w-A)<=1e-6*Math.max(1,Math.abs(w),Math.abs(A))}var Yo=ra,dd=Xr,Qo=Zr,Yi=fa,go=en,ps=Ar,Hs=Mr,Qi=function(){var y=br();return function(v,g,b,w,S,E){var A,I;for(g||(g=3),b||(b=0),I=w?Math.min(w*g+b,v.length):v.length,A=b;A<I;A+=g)y[0]=v[A],y[1]=v[A+1],y[2]=v[A+2],S(y,y,E),v[A]=y[0],v[A+1]=y[1],v[A+2]=y[2];return v}}(),_n=function(y,v){y.fill(v)},Xi=function(y){for(var v=0,g=0;g<y.length;g++)y[g]>y[v]&&(v=g);return v},rs=function(y){for(var v=y.length,g=0;v--;)g+=y[v];return g},tn=function(y,v){var g=[],b={rad:0,vec:c.clone([0,0])},w={};function S(A){w[A.id]=A,g.push(A)}function E(){var A,I=0;for(A=0;A<g.length;A++)I+=g[A].rad;b.rad=I/g.length,b.vec=c.clone([Math.cos(b.rad),Math.sin(b.rad)])}return S(y),E(),{add:function(A){w[A.id]||(S(A),E())},fits:function(A){return Math.abs(c.dot(A.point.vec,b.vec))>v},getPoints:function(){return g},getCenter:function(){return b}}},Xo=function(y,v,g){return{rad:y[g],point:y,id:v}};function ys(y,v){return{x:y,y:v,toVec2:function(){return c.clone([this.x,this.y])},toVec3:function(){return u.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function hn(y,v){v||(v=8);for(var g=y.data,b=g.length,w=8-v,S=new Int32Array(1<<v);b--;)S[g[b]>>w]++;return S}function rn(y,v){var g=function(b){var w,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,E=8-S;function A(ie,we){for(var _e=0,Fe=ie;Fe<=we;Fe++)_e+=w[Fe];return _e}function I(ie,we){for(var _e=0,Fe=ie;Fe<=we;Fe++)_e+=Fe*w[Fe];return _e}function D(){var ie,we,_e,Fe,ke=[0],Le=(1<<S)-1;w=hn(b,S);for(var Qe=1;Qe<Le;Qe++)(_e=(ie=A(0,Qe))*(we=A(Qe+1,Le)))===0&&(_e=1),Fe=I(0,Qe)*we-I(Qe+1,Le)*ie,ke[Qe]=Fe*Fe/_e;return Xi(ke)}var G=D();return G<<E}(y);return function(b,w,S){S||(S=b);for(var E=b.data,A=E.length,I=S.data;A--;)I[A]=E[A]<w?1:0}(y,g,v),g}function xs(y,v,g){var b=y.length/4|0;if(g&&g.singleChannel===!0)for(var w=0;w<b;w++){var S=y[4*w+3];v[w]=S===0?255:y[4*w+0]}else for(var E=0;E<b;E++){var A=y[4*E+3];v[E]=A===0?255:.299*y[4*E+0]+.587*y[4*E+1]+.114*y[4*E+2]}}function po(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],g=y[0],b=y[1],w=y[2],S=w*b,E=S*(1-Math.abs(g/60%2-1)),A=w-S,I=0,D=0,G=0;return g<60?(I=S,D=E):g<120?(I=E,D=S):g<180?(D=S,G=E):g<240?(D=E,G=S):g<300?(I=E,G=S):g<360&&(I=S,G=E),v[0]=255*(I+A)|0,v[1]=255*(D+A)|0,v[2]=255*(G+A)|0,v}function Un(y){if(!Number.isFinite(y)||y<1)return[];for(var v=[],g=[],b=Math.sqrt(y),w=1;w<=b;w++)y%w==0&&(g.push(w),w!==y/w&&v.unshift(Math.floor(y/w)));return g.concat(v)}function yo(y,v){var g,b=Un(v.x),w=Un(v.y),S=Math.max(v.x,v.y),E=function(_e,Fe){for(var ke=0,Le=0,Qe=[];ke<_e.length&&Le<Fe.length;)_e[ke]===Fe[Le]?(Qe.push(_e[ke]),ke++,Le++):_e[ke]>Fe[Le]?Le++:ke++;return Qe}(b,w),A=[8,10,15,20,32,60,80],I={"x-small":5,small:4,medium:3,large:2,"x-large":1},D=I[y]||I.medium,G=A[D],ie=Math.floor(S/G);function we(_e){for(var Fe=0,ke=_e[Math.floor(_e.length/2)];Fe<_e.length-1&&_e[Fe]<ie;)Fe++;return Fe>0&&(ke=Math.abs(_e[Fe]-ie)>Math.abs(_e[Fe-1]-ie)?_e[Fe-1]:_e[Fe]),ie/ke<A[D+1]/A[D]&&ie/ke>A[D-1]/A[D]?{x:ke,y:ke}:null}return(g=we(E))||(g=we(Un(S)))||(g=we(Un(ie*G))),g||(g={x:Math.max(1,v.x),y:Math.max(1,v.y)}),g}var Zi={top:function(y,v){return y.unit==="%"?Math.floor(v.height*(y.value/100)):null},right:function(y,v){return y.unit==="%"?Math.floor(v.width-v.width*(y.value/100)):null},bottom:function(y,v){return y.unit==="%"?Math.floor(v.height-v.height*(y.value/100)):null},left:function(y,v){return y.unit==="%"?Math.floor(v.width*(y.value/100)):null}};function Ma(y,v,g){var b={width:y,height:v},w=Object.keys(g).reduce(function(S,E){if(!Zi[E])return S;var A=function(D){return{value:parseFloat(D),unit:(D.indexOf("%"),D.length,"%")}}(g[E]),I=Zi[E](A,b);return S[E]=I,S},{});return{sx:w.left,sy:w.top,sw:w.right-w.left,sh:w.bottom-w.top}}function mn(y){if(y<0)throw new Error("expected positive number, received ".concat(y))}var Da=function(){return q()(function y(v,g){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,w=arguments.length>3?arguments[3]:void 0;O()(this,y),M()(this,"data",void 0),M()(this,"size",void 0),M()(this,"indexMapping",void 0),g?this.data=g:(this.data=new b(v.x*v.y),w&&_n(this.data,0)),this.size=v},[{key:"inImageWithBorder",value:function(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return mn(v),y.x>=0&&y.y>=0&&y.x<this.size.x+2*v&&y.y<this.size.y+2*v}},{key:"subImageAsCopy",value:function(y,v){mn(v.x),mn(v.y);for(var g=y.size,b=g.x,w=g.y,S=0;S<b;S++)for(var E=0;E<w;E++)y.data[E*b+S]=this.data[(v.y+E)*this.size.x+v.x+S];return y}},{key:"get",value:function(y,v){return this.data[v*this.size.x+y]}},{key:"getSafe",value:function(y,v){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var g=0;g<this.size.x;g++)this.indexMapping.x[g]=g,this.indexMapping.x[g+this.size.x]=g;for(var b=0;b<this.size.y;b++)this.indexMapping.y[b]=b,this.indexMapping.y[b+this.size.y]=b}return this.data[this.indexMapping.y[v+this.size.y]*this.size.x+this.indexMapping.x[y+this.size.x]]}},{key:"set",value:function(y,v,g){return this.data[v*this.size.x+y]=g,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var y=this.size,v=y.x,g=y.y,b=0;b<v;b++)this.data[b]=this.data[(g-1)*v+b]=0;for(var w=1;w<g-1;w++)this.data[w*v]=this.data[w*v+(v-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(y){var v,g,b,w,S,E,A,I,D,G,ie=this.data,we=this.size.y,_e=this.size.x,Fe=[],ke=[],Le=Math.PI,Qe=Le/4;if(y<=0)return ke;for(S=0;S<y;S++)Fe[S]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(g=0;g<we;g++)for(w=g*g,v=0;v<_e;v++)(b=ie[g*_e+v])>0&&((E=Fe[b-1]).m00+=1,E.m01+=g,E.m10+=v,E.m11+=v*g,E.m02+=w,E.m20+=v*v);for(S=0;S<y;S++)E=Fe[S],isNaN(E.m00)||E.m00===0||(I=E.m10/E.m00,D=E.m01/E.m00,A=E.m11/E.m00-I*D,G=(E.m02/E.m00-D*D-(E.m20/E.m00-I*I))/(2*A),G=.5*Math.atan(G)+(A>=0?Qe:-Qe)+Le,E.theta=(180*G/Le+90)%180-90,E.theta<0&&(E.theta+=180),E.rad=G>Le?G-Le:G,E.vec=c.clone([Math.cos(G),Math.sin(G)]),ke.push(E));return ke}},{key:"getAsRGBA",value:function(){for(var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,v=new Uint8ClampedArray(4*this.size.x*this.size.y),g=0;g<this.size.y;g++)for(var b=0;b<this.size.x;b++){var w=g*this.size.x+b,S=this.get(b,g)*y;v[4*w+0]=S,v[4*w+1]=S,v[4*w+2]=S,v[4*w+3]=255}return v}},{key:"show",value:function(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var g=y.getContext("2d");if(!g)throw new Error("Unable to get canvas context");var b=g.getImageData(0,0,y.width,y.height),w=this.getAsRGBA(v);y.width=this.size.x,y.height=this.size.y;var S=new ImageData(w,b.width,b.height);g.putImageData(S,0,0)}},{key:"overlay",value:function(y,v,g){var b=v<0||v>360?360:v,w=[0,1,1],S=[0,0,0],E=[255,255,255],A=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var I=y.getContext("2d");if(!I)throw new Error("Unable to get canvas context");for(var D=I.getImageData(g.x,g.y,this.size.x,this.size.y),G=D.data,ie=this.data.length;ie--;){w[0]=this.data[ie]*b;var we=4*ie,_e=w[0]<=0?E:w[0]>=360?A:po(w,S),Fe=T()(_e,3);G[we]=Fe[0],G[we+1]=Fe[1],G[we+2]=Fe[2],G[we+3]=255}I.putImageData(D,g.x,g.y)}}])}(),Gs=o(7),Ir=o.n(Gs),R=o(6),B=o.n(R),Z={drawRect:function(y,v,g,b){g.strokeStyle=b.color,g.fillStyle=b.color,g.lineWidth=b.lineWidth||1,g.beginPath(),g.strokeRect(y.x,y.y,v.x,v.y)},drawPath:function(y,v,g,b){g.strokeStyle=b.color,g.fillStyle=b.color,g.lineWidth=b.lineWidth,g.beginPath(),g.moveTo(y[0][v.x],y[0][v.y]);for(var w=1;w<y.length;w++)g.lineTo(y[w][v.x],y[w][v.y]);g.closePath(),g.stroke()},drawImage:function(y,v,g){var b=g.getImageData(0,0,v.x,v.y),w=b.data,S=w.length,E=y.length;if(S/E!=4)return!1;for(;E--;){var A=y[E];w[--S]=255,w[--S]=A,w[--S]=A,w[--S]=A}return g.putImageData(b,0,0),!0}},J=o(4),Se=o.n(J),Re=o(1),$e=o.n(Re),bt=o(5),Et=o.n(bt),vt=function(y){return y[y.Forward=1]="Forward",y[y.Reverse=-1]="Reverse",y}({}),Tt=function(){return q()(function y(v,g){O()(this,y),M()(this,"_row",[]),M()(this,"config",{}),M()(this,"supplements",[]),M()(this,"SINGLE_CODE_ERROR",0),M()(this,"FORMAT","unknown"),M()(this,"CONFIG_KEYS",{}),this._row=[],this.config=v||{},g&&(this.supplements=g)},[{key:"_nextUnset",value:function(y){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=v;g<y.length;g++)if(!y[g])return g;return y.length}},{key:"_matchPattern",value:function(y,v){for(var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,b=0,w=0,S=0,E=0,A=0,I=0,D=0,G=0;G<y.length;G++)S+=y[G],E+=v[G];if(S<E)return Number.MAX_VALUE;g*=A=S/E;for(var ie=0;ie<y.length;ie++){if(I=y[ie],D=v[ie]*A,(w=Math.abs(I-D)/D)>g)return Number.MAX_VALUE;b+=w}return b/E}},{key:"_nextSet",value:function(y){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=v;g<y.length;g++)if(y[g])return g;return y.length}},{key:"_correctBars",value:function(y,v,g){for(var b=g.length,w=0;b--;)(w=y[g[b]]*(1-(1-v)/2))>1&&(y[g[b]]=w)}},{key:"decodePattern",value:function(y){this._row=y;var v=this.decode();return v===null?(this._row.reverse(),(v=this.decode())&&(v.direction=vt.Reverse,v.start=this._row.length-v.start,v.end=this._row.length-v.end)):v.direction=vt.Forward,v&&(v.format=this.FORMAT),v}},{key:"_matchRange",value:function(y,v,g){var b;for(b=y=y<0?0:y;b<v;b++)if(this._row[b]!==g)return!1;return!0}},{key:"_fillCounters",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=[],w=0;b[w]=0;for(var S=y;S<v;S++)this._row[S]^(g?1:0)?b[w]++:(b[++w]=1,g=!g);return b}},{key:"_toCounters",value:function(y,v){var g=v.length,b=this._row.length,w=!this._row[y],S=0;_n(v,0);for(var E=y;E<b;E++)if(this._row[E]^(w?1:0))v[S]++;else{if(++S===g)break;v[S]=1,w=!w}return v}},{key:"decodeImage",value:function(y){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}])}();M()(Tt,"adjacentLineValidationMatches",0);var Bt=Tt;function qr(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var or=[3,1,3,1,1,1],Xt=[3,1,1,1,3],Mt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],_a=or.reduce(function(y,v){return y+v},0),la=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=qr(this,v,[].concat(w)),M()(g,"barSpaceRatio",[1,1]),M()(g,"FORMAT","2of5"),M()(g,"SINGLE_CODE_ERROR",.78),M()(g,"AVG_CODE_ERROR",.3),g}return Et()(v,y),q()(v,[{key:"_findPattern",value:function(g,b){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2],S=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=[],A=0,I={error:Number.MAX_VALUE,code:-1,start:0,end:0},D=0,G=0,ie=this.AVG_CODE_ERROR;b||(b=this._nextSet(this._row));for(var we=0;we<g.length;we++)E[we]=0;for(var _e=b;_e<this._row.length;_e++)if(this._row[_e]^(w?1:0))E[A]++;else{if(A===E.length-1){D=0;for(var Fe=0;Fe<E.length;Fe++)D+=E[Fe];if((G=this._matchPattern(E,g))<ie)return I.error=G,I.start=_e-D,I.end=_e,I;if(!S)return null;for(var ke=0;ke<E.length-2;ke++)E[ke]=E[ke+2];E[E.length-2]=0,E[E.length-1]=0,A--}else A++;E[A]=1,w=!w}return null}},{key:"_findStart",value:function(){for(var g=null,b=this._nextSet(this._row),w=1,S=0;!g;){if(!(g=this._findPattern(or,b,!1,!0)))return null;if(w=Math.floor((g.end-g.start)/_a),(S=g.start-5*w)>=0&&this._matchRange(S,g.start,0))return g;b=g.end,g=null}return g}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start)/2;return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"_findEnd",value:function(){this._row.reverse();var g=this._nextSet(this._row),b=this._findPattern(Xt,g,!1,!0);if(this._row.reverse(),b===null)return null;var w=b.start;return b.start=this._row.length-b.end,b.end=this._row.length-w,b!==null?this._verifyTrailingWhitespace(b):null}},{key:"_verifyCounterLength",value:function(g){return g.length%10==0}},{key:"_decodeCode",value:function(g){for(var b=this.AVG_CODE_ERROR,w={error:Number.MAX_VALUE,code:-1,start:0,end:0},S=0;S<Mt.length;S++){var E=this._matchPattern(g,Mt[S]);E<w.error&&(w.code=S,w.error=E)}return w.error<b?w:null}},{key:"_decodePayload",value:function(g,b,w){for(var S=0,E=g.length,A=[0,0,0,0,0],I=null;S<E;){for(var D=0;D<5;D++)A[D]=g[S]*this.barSpaceRatio[0],S+=2;if(!(I=this._decodeCode(A)))return null;b.push("".concat(I.code)),w.push(I)}return I}},{key:"decode",value:function(g,b){var w=this._findStart();if(!w)return null;var S=this._findEnd();if(!S)return null;var E=this._fillCounters(w.end,S.start,!1);if(!this._verifyCounterLength(E))return null;var A=[];A.push(w);var I=[];return this._decodePayload(E,I,A)?I.length<5?null:(A.push(S),{code:I.join(""),start:w.start,end:S.end,startInfo:w,decodedCodes:A,format:this.FORMAT}):null}}])}(Bt);function aa(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var an=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],bs=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Fn=[26,41,11,14],vs=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=aa(this,v,[].concat(w)),M()(g,"_counters",[]),M()(g,"FORMAT","codabar"),g}return Et()(v,y),q()(v,[{key:"_computeAlternatingThreshold",value:function(g,b){for(var w=Number.MAX_VALUE,S=0,E=0,A=g;A<b;A+=2)(E=this._counters[A])>S&&(S=E),E<w&&(w=E);return(w+S)/2|0}},{key:"_toPattern",value:function(g){var b=g+7;if(b>this._counters.length)return-1;for(var w=this._computeAlternatingThreshold(g,b),S=this._computeAlternatingThreshold(g+1,b),E=64,A=0,I=0,D=0;D<7;D++)A=(1&D)==0?w:S,this._counters[g+D]>A&&(I|=E),E>>=1;return I}},{key:"_isStartEnd",value:function(g){for(var b=0;b<Fn.length;b++)if(Fn[b]===g)return!0;return!1}},{key:"_sumCounters",value:function(g,b){for(var w=0,S=g;S<b;S++)w+=this._counters[S];return w}},{key:"_findStart",value:function(){for(var g=this._nextUnset(this._row),b=1;b<this._counters.length;b++){var w=this._toPattern(b);if(w!==-1&&this._isStartEnd(w))return{start:g+=this._sumCounters(0,b),end:g+this._sumCounters(b,b+8),startCounter:b,endCounter:b+8}}return null}},{key:"_patternToChar",value:function(g){for(var b=0;b<bs.length;b++)if(bs[b]===g)return String.fromCharCode(an[b]);return null}},{key:"_calculatePatternLength",value:function(g){for(var b=0,w=g;w<g+7;w++)b+=this._counters[w];return b}},{key:"_verifyWhitespace",value:function(g,b){return(g-1<=0||this._counters[g-1]>=this._calculatePatternLength(g)/2)&&(b+8>=this._counters.length||this._counters[b+7]>=this._calculatePatternLength(b)/2)}},{key:"_charToPattern",value:function(g){for(var b=g.charCodeAt(0),w=0;w<an.length;w++)if(an[w]===b)return bs[w];return 0}},{key:"_thresholdResultPattern",value:function(g,b){for(var w,S={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},E=b,A=0;A<g.length;A++){w=this._charToPattern(g[A]);for(var I=6;I>=0;I--){var D=(1&I)==2?S.bar:S.space,G=(1&w)==1?D.wide:D.narrow;G.size+=this._counters[E+I],G.counts++,w>>=1}E+=8}return["space","bar"].forEach(function(ie){var we=S[ie];we.wide.min=Math.floor((we.narrow.size/we.narrow.counts+we.wide.size/we.wide.counts)/2),we.narrow.max=Math.ceil(we.wide.min),we.wide.max=Math.ceil((2*we.wide.size+1.5)/we.wide.counts)}),S}},{key:"_validateResult",value:function(g,b){for(var w,S=this._thresholdResultPattern(g,b),E=b,A=0;A<g.length;A++){w=this._charToPattern(g[A]);for(var I=6;I>=0;I--){var D=(1&I)==0?S.bar:S.space,G=(1&w)==1?D.wide:D.narrow,ie=this._counters[E+I];if(ie<G.min||ie>G.max)return!1;w>>=1}E+=8}return!0}},{key:"decode",value:function(g,b){if(this._counters=this._fillCounters(),!(b=this._findStart()))return null;var w,S=b.startCounter,E=[];do{if((w=this._toPattern(S))<0)return null;var A=this._patternToChar(w);if(A===null)return null;if(E.push(A),S+=8,E.length>1&&this._isStartEnd(w))break}while(S<this._counters.length);if(E.length-2<4||!this._isStartEnd(w)||!this._verifyWhitespace(b.startCounter,S-8)||!this._validateResult(E,b.startCounter))return null;S=S>this._counters.length?this._counters.length:S;var I=b.start+this._sumCounters(b.startCounter,S-8);return{code:E.join(""),start:b.start,end:I,startInfo:b,decodedCodes:E,format:this.FORMAT}}}])}(Bt);function Zo(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var xo=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=Zo(this,v,[].concat(w)),M()(g,"CODE_SHIFT",98),M()(g,"CODE_C",99),M()(g,"CODE_B",100),M()(g,"CODE_A",101),M()(g,"FNC1",102),M()(g,"START_CODE_A",103),M()(g,"START_CODE_B",104),M()(g,"START_CODE_C",105),M()(g,"STOP_CODE",106),M()(g,"FNC1_CHAR",""),M()(g,"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),M()(g,"SINGLE_CODE_ERROR",.64),M()(g,"AVG_CODE_ERROR",.3),M()(g,"FORMAT","code_128"),M()(g,"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),g}return Et()(v,y),q()(v,[{key:"_decodeCode",value:function(g,b){for(var w={error:Number.MAX_VALUE,code:-1,start:g,end:g,correction:{bar:1,space:1}},S=[0,0,0,0,0,0],E=g,A=!this._row[E],I=0,D=E;D<this._row.length;D++)if(this._row[D]^(A?1:0))S[I]++;else{if(I===S.length-1){b&&this._correct(S,b);for(var G=0;G<this.CODE_PATTERN.length;G++){var ie=this._matchPattern(S,this.CODE_PATTERN[G]);ie<w.error&&(w.code=G,w.error=ie)}return w.end=D,w.code===-1||w.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[w.code]&&(w.correction.bar=this.calculateCorrection(this.CODE_PATTERN[w.code],S,this.MODULE_INDICES.bar),w.correction.space=this.calculateCorrection(this.CODE_PATTERN[w.code],S,this.MODULE_INDICES.space)),w)}S[++I]=1,A=!A}return null}},{key:"_correct",value:function(g,b){this._correctBars(g,b.bar,this.MODULE_INDICES.bar),this._correctBars(g,b.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var g=[0,0,0,0,0,0],b=this._nextSet(this._row),w={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},S=!1,E=0,A=b;A<this._row.length;A++)if(this._row[A]^(S?1:0))g[E]++;else{if(E===g.length-1){for(var I=g.reduce(function(we,_e){return we+_e},0),D=this.START_CODE_A;D<=this.START_CODE_C;D++){var G=this._matchPattern(g,this.CODE_PATTERN[D]);G<w.error&&(w.code=D,w.error=G)}if(w.error<this.AVG_CODE_ERROR)return w.start=A-I,w.end=A,w.correction.bar=this.calculateCorrection(this.CODE_PATTERN[w.code],g,this.MODULE_INDICES.bar),w.correction.space=this.calculateCorrection(this.CODE_PATTERN[w.code],g,this.MODULE_INDICES.space),w;for(var ie=0;ie<4;ie++)g[ie]=g[ie+2];g[4]=0,g[5]=0,E--}else E++;g[E]=1,S=!S}return null}},{key:"decode",value:function(g,b){var w=this,S=this._findStart();if(S===null)return null;var E={code:S.code,start:S.start,end:S.end,correction:{bar:S.correction.bar,space:S.correction.space}},A=[];A.push(E);for(var I=E.code,D=function(Qe){switch(Qe){case w.START_CODE_A:return w.CODE_A;case w.START_CODE_B:return w.CODE_B;case w.START_CODE_C:return w.CODE_C;default:return null}}(E.code),G=!1,ie=!1,we=ie,_e=!0,Fe=0,ke=[],Le=[];!G;){if(we=ie,ie=!1,(E=this._decodeCode(E.end,E.correction))!==null)switch(E.code!==this.STOP_CODE&&(_e=!0),E.code!==this.STOP_CODE&&(ke.push(E.code),I+=++Fe*E.code),A.push(E),D){case this.CODE_A:if(E.code<64)Le.push(String.fromCharCode(32+E.code));else if(E.code<96)Le.push(String.fromCharCode(E.code-64));else switch(E.code!==this.STOP_CODE&&(_e=!1),E.code){case this.CODE_SHIFT:ie=!0,D=this.CODE_B;break;case this.CODE_B:D=this.CODE_B;break;case this.CODE_C:D=this.CODE_C;break;case this.FNC1:Le.push(this.FNC1_CHAR);break;case this.STOP_CODE:G=!0}break;case this.CODE_B:if(E.code<96)Le.push(String.fromCharCode(32+E.code));else switch(E.code!==this.STOP_CODE&&(_e=!1),E.code){case this.CODE_SHIFT:ie=!0,D=this.CODE_A;break;case this.CODE_A:D=this.CODE_A;break;case this.CODE_C:D=this.CODE_C;break;case this.FNC1:Le.push(this.FNC1_CHAR);break;case this.STOP_CODE:G=!0}break;case this.CODE_C:if(E.code<100)Le.push(E.code<10?"0"+E.code:E.code);else switch(E.code!==this.STOP_CODE&&(_e=!1),E.code){case this.CODE_A:D=this.CODE_A;break;case this.CODE_B:D=this.CODE_B;break;case this.FNC1:Le.push(this.FNC1_CHAR);break;case this.STOP_CODE:G=!0}}else G=!0;we&&(D=D===this.CODE_A?this.CODE_B:this.CODE_A)}return E===null?null:(E.end=this._nextUnset(this._row,E.end),this._verifyTrailingWhitespace(E)?(I-=Fe*ke[ke.length-1])%103!==ke[ke.length-1]?null:Le.length?(_e&&Le.splice(Le.length-1,1),{code:Le.join(""),start:S.start,end:E.end,codeset:D,startInfo:S,decodedCodes:A,endInfo:E,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(g){var b;return(b=g.end+(g.end-g.start)/2)<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"calculateCorrection",value:function(g,b,w){for(var S=w.length,E=0,A=0;S--;)A+=g[w[S]],E+=b[w[S]];return A/E}}])}(Bt),Bl=o(13),ql=o.n(Bl),Bh=o(16),Hl=o.n(Bh);function qh(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var Hh=new Uint16Array(Hl()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(y){return y.charCodeAt(0)})),r0=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Gl=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=qh(this,v,[].concat(w)),M()(g,"FORMAT","code_39"),g}return Et()(v,y),q()(v,[{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),b=g,w=new Uint16Array([0,0,0,0,0,0,0,0,0]),S=0,E=!1,A=g;A<this._row.length;A++)if(this._row[A]^(E?1:0))w[S]++;else{if(S===w.length-1){if(this._toPattern(w)===148){var I=Math.floor(Math.max(0,b-(A-b)/4));if(this._matchRange(I,b,0))return{start:b,end:A}}b+=w[0]+w[1];for(var D=0;D<7;D++)w[D]=w[D+2];w[7]=0,w[8]=0,S--}else S++;w[S]=1,E=!E}return null}},{key:"_toPattern",value:function(g){for(var b=g.length,w=0,S=b,E=0;S>3;){w=this._findNextWidth(g,w),S=0;for(var A=0,I=0;I<b;I++)g[I]>w&&(A|=1<<b-1-I,S++,E+=g[I]);if(S===3){for(var D=0;D<b&&S>0;D++)if(g[D]>w&&(S--,2*g[D]>=E))return-1;return A}}return-1}},{key:"_findNextWidth",value:function(g,b){for(var w=Number.MAX_VALUE,S=0;S<g.length;S++)g[S]<w&&g[S]>b&&(w=g[S]);return w}},{key:"_patternToChar",value:function(g){for(var b=0;b<r0.length;b++)if(r0[b]===g)return String.fromCharCode(Hh[b]);return null}},{key:"_verifyTrailingWhitespace",value:function(g,b,w){var S=rs(w);return 3*(b-g-S)>=S}},{key:"decode",value:function(){var g=new Uint16Array([0,0,0,0,0,0,0,0,0]),b=[],w=this._findStart();if(!w)return null;var S,E,A=this._nextSet(this._row,w.end);do{g=this._toCounters(A,g);var I=this._toPattern(g);if(I<0||(S=this._patternToChar(I))===null)return null;b.push(S),E=A,A+=rs(g),A=this._nextSet(this._row,A)}while(S!=="*");return b.pop(),b.length&&this._verifyTrailingWhitespace(E,A,g)?{code:b.join(""),start:w.start,end:A,startInfo:w,decodedCodes:b,format:this.FORMAT}:null}}])}(Bt);function ud(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var Ji=/[AEIO]/g,a0=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=ud(this,v,[].concat(w)),M()(g,"FORMAT","code_32_reader"),g}return Et()(v,y),q()(v,[{key:"_decodeCode32",value:function(g){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(g))return null;for(var b=0,w=0;w<g.length;w++)b=32*b+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(g[w]);var S="".concat(b);return S.length<9&&(S=("000000000"+S).slice(-9)),"A"+S}},{key:"_checkChecksum",value:function(g){return!!g}},{key:"decode",value:function(){var g,b,w,S,E,A=(g=v,b="decode",w=this,S=3,E=ql()($e()(1&S?g.prototype:g),b,w),2&S&&typeof E=="function"?function(G){return E.apply(w,G)}:E)([]);if(!A)return null;var I=A.code;if(!I||(I=I.replace(Ji,""),!this._checkChecksum(I)))return null;var D=this._decodeCode32(I);return D?(A.code=D,A):null}}])}(Gl);function n0(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var s0=/[IOQ]/g,o0=/[A-Z0-9]{17}/,fd=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=n0(this,v,[].concat(w)),M()(g,"FORMAT","code_39_vin"),g}return Et()(v,y),q()(v,[{key:"_checkChecksum",value:function(g){return!!g}},{key:"decode",value:function(){var g,b,w,S,E,A=(g=v,b="decode",w=this,S=3,E=ql()($e()(1&S?g.prototype:g),b,w),2&S&&typeof E=="function"?function(D){return E.apply(w,D)}:E)([]);if(!A)return null;var I=A.code;return I&&(I=I.replace(s0,"")).match(o0)&&this._checkChecksum(I)?(A.code=I,A):null}}])}(Gl);function i0(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var Vs=new Uint16Array(Hl()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(y){return y.charCodeAt(0)})),l0=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),c0=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=i0(this,v,[].concat(w)),M()(g,"FORMAT","code_93"),g}return Et()(v,y),q()(v,[{key:"_patternToChar",value:function(g){for(var b=0;b<l0.length;b++)if(l0[b]===g)return String.fromCharCode(Vs[b]);return null}},{key:"_toPattern",value:function(g){for(var b=g.length,w=g.reduce(function(D,G){return D+G},0),S=0,E=0;E<b;E++){var A=Math.round(9*g[E]/w);if(A<1||A>4)return-1;if((1&E)==0)for(var I=0;I<A;I++)S=S<<1|1;else S<<=A}return S}},{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),b=g,w=new Uint16Array([0,0,0,0,0,0]),S=0,E=!1,A=g;A<this._row.length;A++)if(this._row[A]^(E?1:0))w[S]++;else{if(S===w.length-1){if(this._toPattern(w)===350){var I=Math.floor(Math.max(0,b-(A-b)/4));if(this._matchRange(I,b,0))return{start:b,end:A}}b+=w[0]+w[1];for(var D=0;D<4;D++)w[D]=w[D+2];w[4]=0,w[5]=0,S--}else S++;w[S]=1,E=!E}return null}},{key:"_verifyEnd",value:function(g,b){return!(g===b||!this._row[b])}},{key:"_decodeExtended",value:function(g){for(var b=g.length,w=[],S=0;S<b;S++){var E=g[S];if(E>="a"&&E<="d"){if(S>b-2)return null;var A=g[++S],I=A.charCodeAt(0),D=void 0;switch(E){case"a":if(!(A>="A"&&A<="Z"))return null;D=String.fromCharCode(I-64);break;case"b":if(A>="A"&&A<="E")D=String.fromCharCode(I-38);else if(A>="F"&&A<="J")D=String.fromCharCode(I-11);else if(A>="K"&&A<="O")D=String.fromCharCode(I+16);else if(A>="P"&&A<="S")D=String.fromCharCode(I+43);else{if(!(A>="T"&&A<="Z"))return null;D=""}break;case"c":if(A>="A"&&A<="O")D=String.fromCharCode(I-32);else{if(A!=="Z")return null;D=":"}break;case"d":if(!(A>="A"&&A<="Z"))return null;D=String.fromCharCode(I+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",D),null}w.push(D)}else w.push(E)}return w}},{key:"_matchCheckChar",value:function(g,b,w){var S=g.slice(0,b),E=S.length,A=S.reduce(function(I,D,G){return I+((-1*G+(E-1))%w+1)*Vs.indexOf(D.charCodeAt(0))},0);return Vs[A%47]===g[b].charCodeAt(0)}},{key:"_verifyChecksums",value:function(g){return this._matchCheckChar(g,g.length-2,20)&&this._matchCheckChar(g,g.length-1,15)}},{key:"decode",value:function(g,b){if(!(b=this._findStart()))return null;var w,S,E=new Uint16Array([0,0,0,0,0,0]),A=[],I=this._nextSet(this._row,b.end);do{E=this._toCounters(I,E);var D=this._toPattern(E);if(D<0||(S=this._patternToChar(D))===null)return null;A.push(S),w=I,I+=rs(E),I=this._nextSet(this._row,I)}while(S!=="*");return A.pop(),A.length&&this._verifyEnd(w,I)&&this._verifyChecksums(A)?(A=A.slice(0,A.length-2),(A=this._decodeExtended(A))===null?null:{code:A.join(""),start:b.start,end:I,startInfo:b,decodedCodes:A,format:this.FORMAT}):null}}])}(Bt);function d0(y,v){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(y,w).enumerable})),g.push.apply(g,b)}return g}function Vl(y){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?d0(Object(g),!0).forEach(function(b){M()(y,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):d0(Object(g)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(g,b))})}return y}function u0(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var el=[1,1,1],Jo=[1,1,1,1,1],Gh=[1,1,2],tl=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],hd=[0,11,13,14,19,25,28,21,22,26],ws=function(y){function v(g,b){var w;return O()(this,v),w=u0(this,v,[j()({supplements:[]},g),b]),M()(w,"FORMAT","ean_13"),M()(w,"SINGLE_CODE_ERROR",.7),M()(w,"STOP_PATTERN",[1,1,1]),w}return Et()(v,y),q()(v,[{key:"_findPattern",value:function(g,b,w,S){var E=new Array(g.length).fill(0),A={error:Number.MAX_VALUE,start:0,end:0},I=0;b||(b=this._nextSet(this._row));for(var D=!1,G=b;G<this._row.length;G++)if(this._row[G]^(w?1:0))E[I]+=1;else{if(I===E.length-1){var ie=this._matchPattern(E,g);if(ie<.48&&A.error&&ie<A.error)return D=!0,A.error=ie,A.start=G-E.reduce(function(_e,Fe){return _e+Fe},0),A.end=G,A;if(S){for(var we=0;we<E.length-2;we++)E[we]=E[we+2];E[E.length-2]=0,E[E.length-1]=0,I--}}else I++;E[I]=1,w=!w}return D?A:null}},{key:"_decodeCode",value:function(g,b){var w=[0,0,0,0],S=g,E={error:Number.MAX_VALUE,code:-1,start:g,end:g},A=!this._row[S],I=0;b||(b=tl.length);for(var D=S;D<this._row.length;D++)if(this._row[D]^(A?1:0))w[I]++;else{if(I===w.length-1){for(var G=0;G<b;G++){var ie=this._matchPattern(w,tl[G]);E.end=D,ie<E.error&&(E.code=G,E.error=ie)}return E.error>.48?null:E}w[++I]=1,A=!A}return null}},{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),b=null;!b;){if(!(b=this._findPattern(el,g,!1,!0)))return null;var w=b.start-(b.end-b.start);if(w>=0&&this._matchRange(w,b.start,0))return b;g=b.end,b=null}return null}},{key:"_calculateFirstDigit",value:function(g){for(var b=0;b<hd.length;b++)if(g===hd[b])return b;return null}},{key:"_decodePayload",value:function(g,b,w){for(var S=Vl({},g),E=0,A=0;A<6;A++){if(!(S=this._decodeCode(S.end)))return null;S.code>=10?(S.code-=10,E|=1<<5-A):E|=0<<5-A,b.push(S.code),w.push(S)}var I=this._calculateFirstDigit(E);if(I===null)return null;b.unshift(I);var D=this._findPattern(Jo,S.end,!0,!1);if(D===null||!D.end)return null;w.push(D);for(var G=0;G<6;G++){if(!(D=this._decodeCode(D.end,10)))return null;w.push(D),b.push(D.code)}return D}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start);return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"_findEnd",value:function(g,b){var w=this._findPattern(this.STOP_PATTERN,g,b,!1);return w!==null?this._verifyTrailingWhitespace(w):null}},{key:"_checksum",value:function(g){for(var b=0,w=g.length-2;w>=0;w-=2)b+=g[w];b*=3;for(var S=g.length-1;S>=0;S-=2)b+=g[S];return b%10==0}},{key:"_decodeExtensions",value:function(g){var b=this._nextSet(this._row,g),w=this._findPattern(Gh,b,!1,!1);if(w===null)return null;for(var S=0;S<this.supplements.length;S++)try{var E=this.supplements[S].decode(this._row,w.end);if(E!==null)return{code:E.code,start:b,startInfo:w,end:E.end,decodedCodes:E.decodedCodes,format:this.supplements[S].FORMAT}}catch(A){console.error("* decodeExtensions error in ",this.supplements[S],": ",A)}return null}},{key:"decode",value:function(g,b){var w=new Array,S=new Array,E={},A=this._findStart();if(!A)return null;var I={start:A.start,end:A.end};if(S.push(I),!(I=this._decodePayload(I,w,S))||!(I=this._findEnd(I.end,!1))||(S.push(I),!this._checksum(w)))return null;if(this.supplements.length>0){var D=this._decodeExtensions(I.end);if(!D||!D.decodedCodes)return null;var G=D.decodedCodes[D.decodedCodes.length-1],ie={start:G.start+((G.end-G.start)/2|0),end:G.end};if(!this._verifyTrailingWhitespace(ie))return null;E={supplement:D,code:w.join("")+D.code}}return Vl(Vl({code:w.join(""),start:A.start,end:I.end,startInfo:A,decodedCodes:S},E),{},{format:this.FORMAT})}}])}(Bt);function md(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var Kl=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=md(this,v,[].concat(w)),M()(g,"FORMAT","ean_2"),g}return Et()(v,y),q()(v,[{key:"decode",value:function(g,b){g&&(this._row=g);var w=0,S=b,E=this._row.length,A=[],I=[],D=null;if(S===void 0)return null;for(var G=0;G<2&&S<E;G++){if(!(D=this._decodeCode(S)))return null;I.push(D),A.push(D.code%10),D.code>=10&&(w|=1<<1-G),G!==1&&(S=this._nextSet(this._row,D.end),S=this._nextUnset(this._row,S))}if(A.length!==2||parseInt(A.join(""))%4!==w)return null;var ie=this._findStart();return{code:A.join(""),decodedCodes:I,end:D.end,format:this.FORMAT,startInfo:ie,start:ie.start}}}])}(ws);function f0(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var h0=[24,20,18,17,12,6,3,10,9,5],gd=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=f0(this,v,[].concat(w)),M()(g,"FORMAT","ean_5"),g}return Et()(v,y),q()(v,[{key:"decode",value:function(g,b){if(b===void 0)return null;g&&(this._row=g);for(var w=0,S=b,E=this._row.length,A=null,I=[],D=[],G=0;G<5&&S<E;G++){if(!(A=this._decodeCode(S)))return null;D.push(A),I.push(A.code%10),A.code>=10&&(w|=1<<4-G),G!==4&&(S=this._nextSet(this._row,A.end),S=this._nextUnset(this._row,S))}if(I.length!==5||function(we){for(var _e=we.length,Fe=0,ke=_e-2;ke>=0;ke-=2)Fe+=we[ke];Fe*=3;for(var Le=_e-1;Le>=0;Le-=2)Fe+=we[Le];return(Fe*=3)%10}(I)!==function(we){for(var _e=0;_e<10;_e++)if(we===h0[_e])return _e;return null}(w))return null;var ie=this._findStart();return{code:I.join(""),decodedCodes:D,end:A.end,format:this.FORMAT,startInfo:ie,start:ie.start}}}])}(ws);function Vh(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var m0=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=Vh(this,v,[].concat(w)),M()(g,"FORMAT","ean_8"),g}return Et()(v,y),q()(v,[{key:"_decodePayload",value:function(g,b,w){for(var S=g,E=0;E<4;E++){if(!(S=this._decodeCode(S.end,10)))return null;b.push(S.code),w.push(S)}if((S=this._findPattern(Jo,S.end,!0,!1))===null)return null;w.push(S);for(var A=0;A<4;A++){if(!(S=this._decodeCode(S.end,10)))return null;w.push(S),b.push(S.code)}return S}}])}(ws);function Kh(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var g0=function(y){function v(g){var b;return O()(this,v),b=Kh(this,v,[j()({normalizeBarSpaceWidth:!1},g)]),M()(b,"barSpaceRatio",[1,1]),M()(b,"SINGLE_CODE_ERROR",.78),M()(b,"AVG_CODE_ERROR",.38),M()(b,"START_PATTERN",[1,1,1,1]),M()(b,"STOP_PATTERN",[1,1,3]),M()(b,"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),M()(b,"MAX_CORRECTION_FACTOR",5),M()(b,"FORMAT","i2of5"),g.normalizeBarSpaceWidth&&(b.SINGLE_CODE_ERROR=.38,b.AVG_CODE_ERROR=.09),b.config=g,Se()(b,b)}return Et()(v,y),q()(v,[{key:"_matchPattern",value:function(g,b){if(this.config.normalizeBarSpaceWidth){for(var w=[0,0],S=[0,0],E=[0,0],A=this.MAX_CORRECTION_FACTOR,I=1/A,D=0;D<g.length;D++)w[D%2]+=g[D],S[D%2]+=b[D];E[0]=S[0]/w[0],E[1]=S[1]/w[1],E[0]=Math.max(Math.min(E[0],A),I),E[1]=Math.max(Math.min(E[1],A),I),this.barSpaceRatio=E;for(var G=0;G<g.length;G++)g[G]*=this.barSpaceRatio[G%2]}return(ie=v,we="_matchPattern",_e=this,Fe=3,ke=ql()($e()(1&Fe?ie.prototype:ie),we,_e),2&Fe&&typeof ke=="function"?function(Le){return ke.apply(_e,Le)}:ke)([g,b]);var ie,we,_e,Fe,ke}},{key:"_findPattern",value:function(g,b){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2],S=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=new Array(g.length).fill(0),A=0,I={error:Number.MAX_VALUE,start:0,end:0},D=this.AVG_CODE_ERROR;w=w||!1,S=S||!1,b||(b=this._nextSet(this._row));for(var G=b;G<this._row.length;G++)if(this._row[G]^(w?1:0))E[A]++;else{if(A===E.length-1){var ie=E.reduce(function(Fe,ke){return Fe+ke},0),we=this._matchPattern(E,g);if(we<D)return I.error=we,I.start=G-ie,I.end=G,I;if(!S)return null;for(var _e=0;_e<E.length-2;_e++)E[_e]=E[_e+2];E[E.length-2]=0,E[E.length-1]=0,A--}else A++;E[A]=1,w=!w}return null}},{key:"_findStart",value:function(){for(var g=0,b=this._nextSet(this._row),w=null,S=1;!w;){if(!(w=this._findPattern(this.START_PATTERN,b,!1,!0)))return null;if(S=Math.floor((w.end-w.start)/4),(g=w.start-10*S)>=0&&this._matchRange(g,w.start,0))return w;b=w.end,w=null}return null}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start)/2;return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"_findEnd",value:function(){this._row.reverse();var g=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),g===null)return null;var b=g.start;return g.start=this._row.length-g.end,g.end=this._row.length-b,g!==null?this._verifyTrailingWhitespace(g):null}},{key:"_decodePair",value:function(g){for(var b=[],w=0;w<g.length;w++){var S=this._decodeCode(g[w]);if(!S)return null;b.push(S)}return b}},{key:"_decodeCode",value:function(g){for(var b=this.AVG_CODE_ERROR,w={error:Number.MAX_VALUE,code:-1,start:0,end:0},S=0;S<this.CODE_PATTERN.length;S++){var E=this._matchPattern(g,this.CODE_PATTERN[S]);E<w.error&&(w.code=S,w.error=E)}return w.error<b?w:null}},{key:"_decodePayload",value:function(g,b,w){for(var S=0,E=g.length,A=[[0,0,0,0,0],[0,0,0,0,0]],I=null;S<E;){for(var D=0;D<5;D++)A[0][D]=g[S]*this.barSpaceRatio[0],A[1][D]=g[S+1]*this.barSpaceRatio[1],S+=2;if(!(I=this._decodePair(A)))return null;for(var G=0;G<I.length;G++)b.push(I[G].code+""),w.push(I[G])}return I}},{key:"_verifyCounterLength",value:function(g){return g.length%10==0}},{key:"decode",value:function(g,b){var w=new Array,S=new Array,E=this._findStart();if(!E)return null;S.push(E);var A=this._findEnd();if(!A)return null;var I=this._fillCounters(E.end,A.start,!1);return this._verifyCounterLength(I)&&this._decodePayload(I,w,S)?w.length%2!=0||w.length<6?null:(S.push(A),{code:w.join(""),start:E.start,end:A.end,startInfo:E,decodedCodes:S,format:this.FORMAT}):null}}])}(Bt);function rl(y,v){var g=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!g){if(Array.isArray(y)||(g=function(I,D){if(I){if(typeof I=="string")return nn(I,D);var G={}.toString.call(I).slice(8,-1);return G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set"?Array.from(I):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?nn(I,D):void 0}}(y))||v){g&&(y=g);var b=0,w=function(){};return{s:w,n:function(){return b>=y.length?{done:!0}:{done:!1,value:y[b++]}},e:function(I){throw I},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,E=!0,A=!1;return{s:function(){g=g.call(y)},n:function(){var I=g.next();return E=I.done,I},e:function(I){A=!0,S=I},f:function(){try{E||g.return==null||g.return()}finally{if(A)throw S}}}}function nn(y,v){(v==null||v>y.length)&&(v=y.length);for(var g=0,b=Array(v);g<v;g++)b[g]=y[g];return b}function al(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var pd=[2,2.5,3],yd=function(y){function v(){var g,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return O()(this,v),g=al(this,v,[b]),M()(g,"FORMAT","pharmacode"),M()(g,"SINGLE_CODE_ERROR",.7),M()(g,"AVG_CODE_ERROR",.48),g}return Et()(v,y),q()(v,[{key:"_findStart",value:function(){for(var g=0;g<this._row.length;){var b=this._nextSet(this._row,g);if(b>=this._row.length)return null;for(var w=b;w<this._row.length&&this._row[w];)w++;var S=w-b;if(S<5)g=w+1;else{var E=b-Math.max(2*S,20);if(E<0)g=w+1;else if(this._matchRange(E,b,0)){var A=Math.max(10*S,50),I=this._nextSet(this._row,w);if(I>=this._row.length)g=w+1;else{if(!(I-w>A))return{start:b,end:w};g=w+1}}else g=w+1}}return null}},{key:"_smoothBarWidths",value:function(g){if(g.length<=2)return g;for(var b=g.slice(),w=1;w<b.length-1;w++){var S=b[w-1],E=b[w],A=[S,E,b[w+1]].sort(function(D,G){return D-G})[1],I=Math.abs(E-A);I>0&&I<=3&&(b[w]=A)}return b}},{key:"_extractBarsAndSpaces",value:function(g){for(var b=[],w=[],S=g,E=0,A=!1;S<this._row.length&&this._row[S];)E++,S++;if(E===0)return null;for(b.push(E),E=0;S<this._row.length&&!this._row[S];)E++,S++;if(E===0||S>=this._row.length)return null;w.push(E);for(var I=6*(b[0]<w[0]?b[0]:.8*w[0]),D=2.5*w[0];S<this._row.length&&b.length<16;){for(E=0;S<this._row.length&&this._row[S];)E++,S++;if(E===0)break;b.push(E),E=0;for(var G=S;S<this._row.length&&!this._row[S];)E++,S++;if(E===0)break;if(E>=I){A=!0,S=G;break}if(b.length>=2&&E>=D){A=!0,S=G;break}if(S>=this._row.length){A=!0,S=G;break}w.push(E),w.length>=2&&(D=2*(w.reduce(function(ie,we){return ie+we},0)/w.length))}return A?b.length<2||b.length>16||w.length!==b.length-1?null:this._validateSpaces(w)&&this._validateBarSizeCount(b)?{bars:this._smoothBarWidths(b),spaces:w,end:S}:null:null}},{key:"_validateBarSizeCount",value:function(g){if(g.length===0)return!1;var b,w=[],S=rl(g);try{for(S.s();!(b=S.n()).done;){var E,A=b.value,I=!1,D=rl(w);try{for(D.s();!(E=D.n()).done;){var G=E.value,ie=G.reduce(function(we,_e){return we+_e},0)/G.length;if(Math.abs(A-ie)<=.35*ie){G.push(A),I=!0;break}}}catch(we){D.e(we)}finally{D.f()}I||w.push([A])}}catch(we){S.e(we)}finally{S.f()}return!(w.length>2)}},{key:"_validateSpaces",value:function(g){if(g.length===0)return!0;var b=g.reduce(function(S,E){return S+E},0)/g.length;if(b===0)return!1;var w=g.reduce(function(S,E){return S+Math.pow(E-b,2)},0)/g.length;return Math.sqrt(w)/b<=.35}},{key:"_validateBarRatios",value:function(g,b){var w=g.reduce(function(tr,ja){return tr+ja},0)/g.length,S=g.reduce(function(tr,ja){return tr+Math.abs(ja-w)},0)/g.length;if((w===0?0:S/w)<=.1){var E=b.length>0?b.reduce(function(tr,ja){return tr+ja},0)/b.length:0;return E>0&&E/w<.7?{narrowWidth:w/2.5,wideRatio:2.5}:{narrowWidth:w,wideRatio:2}}var A=Array.from(new Set(g.slice().sort(function(tr,ja){return tr-ja})));if(A.length<2)return{narrowWidth:g.reduce(function(tr,ja){return tr+ja},0)/g.length,wideRatio:2};for(var I=[],D=0;D<A.length-1;D++){var G,ie=(A[D]+A[D+1])/2,we=[],_e=[],Fe=rl(g);try{for(Fe.s();!(G=Fe.n()).done;){var ke=G.value;ke<ie?we.push(ke):_e.push(ke)}}catch(tr){Fe.e(tr)}finally{Fe.f()}if(we.length!==0&&_e.length!==0){for(var Le=we.reduce(function(tr,ja){return tr+ja},0)/we.length,Qe=_e.reduce(function(tr,ja){return tr+ja},0)/_e.length,Xe=Qe/Le,Ot=pd[0],St=Math.abs(Xe-Ot),ar=0,dr=pd;ar<dr.length;ar++){var lr=dr[ar],vr=Math.abs(Xe-lr);vr<St&&(St=vr,Ot=lr)}I.push({threshold:ie,narrowBars:we,wideBars:_e,avgN:Le,avgW:Qe,ratio:Xe,ratioDiff:St,matchedRatio:Ot})}}I.sort(function(tr,ja){return tr.ratioDiff-ja.ratioDiff});for(var sn=0,yn=I;sn<yn.length;sn++){var Kr=yn[sn],fr=.05*Kr.matchedRatio;if(!(Math.abs(Kr.ratio-Kr.matchedRatio)>fr)){var jr,Hr=.15*Kr.avgN,qn=.15*Kr.avgW,on=!0,Rr=rl(Kr.narrowBars);try{for(Rr.s();!(jr=Rr.n()).done;){var ln=jr.value;if(Math.abs(ln-Kr.avgN)>Hr){on=!1;break}}}catch(tr){Rr.e(tr)}finally{Rr.f()}if(on){var Ss,xn=rl(Kr.wideBars);try{for(xn.s();!(Ss=xn.n()).done;){var os=Ss.value;if(Math.abs(os-Kr.avgW)>qn){on=!1;break}}}catch(tr){xn.e(tr)}finally{xn.f()}if(on)return{narrowWidth:Kr.avgN,wideRatio:Kr.matchedRatio}}}}return null}},{key:"_validatePeriodicity",value:function(g,b){if(g.length>0){var w=g.reduce(function(G,ie){return G+ie},0)/g.length,S=g.reduce(function(G,ie){return G+Math.pow(ie-w,2)},0)/g.length,E=Math.sqrt(S);if((w!==0?E/w:0)>.65)return!1}if(b.length>0){var A=b.reduce(function(G,ie){return G+ie},0)/b.length,I=b.reduce(function(G,ie){return G+Math.pow(ie-A,2)},0)/b.length,D=Math.sqrt(I);if((A!==0?D/A:0)>.55)return!1}return!0}},{key:"_validateQuietZones",value:function(g,b,w){var S=1*b;if(g.start>=2&&g.start<S)return!1;var E=this._row.length-w;return E<6||!(E<S)}},{key:"_decodeBars",value:function(g,b){for(var w=1.6*(b!=null?b:Math.min.apply(Math,Hl()(g))),S=0,E=g.slice().reverse(),A=0;A<E.length;A++)S+=E[A]>w?Math.pow(2,A+1):Math.pow(2,A);for(var I="",D=E.length-1;D>=0;D--)I+=E[D]>w?"W":"N";return{value:S,pattern:I}}},{key:"_verifyTrailingWhitespace",value:function(g,b){var w=Math.min(g+2*b,this._row.length);return this._matchRange(g,w,0)}},{key:"_validatePatternConsistency",value:function(g,b){for(var w=g.start,S=0,E=0,A=0,I=[-2,-1,1,2];A<I.length;A++){var D=w+I[A];if(!(D<0||D>=this._row.length)){E++;var G=this._extractBarsAndSpaces(D);if(G&&G.bars.length===b.length){for(var ie=!0,we=0;we<b.length;we++)if(Math.abs(G.bars[we]-b[we])/Math.max(b[we],1)>.25){ie=!1;break}ie&&S++}}}return E>0&&S>=.5*E}},{key:"decode",value:function(g,b){var w=this._findStart();if(!w||w.start>.5*this._row.length)return null;var S=this._extractBarsAndSpaces(w.start);if(!S)return null;var E=S.bars,A=S.spaces,I=S.end;if(E.reduce(function(Fe,ke){return Fe+ke},0)+A.reduce(function(Fe,ke){return Fe+ke},0)<20||this._row.length-I<0||!this._validateSpaces(A)||!this._validatePeriodicity(E,A)||!this._validatePatternConsistency(w,E))return null;var D=this._validateBarRatios(E,A);if(!D||!this._validateQuietZones(w,D.narrowWidth,I))return null;var G=this._decodeBars(E,D.narrowWidth);if(!G)return null;var ie=G.value;if(ie<3||ie>131070)return null;var we=E.reduce(function(Fe,ke){return Fe+ke},0)/E.length;this._verifyTrailingWhitespace(I,we);var _e=E.map(function(Fe,ke){return{code:Fe>1.6*Math.min.apply(Math,Hl()(E))?1:0,start:0,end:0,error:0}});return{code:ie.toString(),start:w.start,end:I,startInfo:w,decodedCodes:_e,pattern:G.pattern,format:this.FORMAT}}}])}(Bt);M()(yd,"adjacentLineValidationMatches",1);var Wl=yd;function xd(y,v){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(y,w).enumerable})),g.push.apply(g,b)}return g}function bd(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}function p0(y,v,g,b){var w=ql()($e()(y.prototype),v,g);return 2&b&&typeof w=="function"?function(S){return w.apply(g,S)}:w}var bo=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=bd(this,v,[].concat(w)),M()(g,"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),M()(g,"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),M()(g,"FORMAT","upc_e"),g}return Et()(v,y),q()(v,[{key:"_decodePayload",value:function(g,b,w){for(var S=function(I){for(var D=1;D<arguments.length;D++){var G=arguments[D]!=null?arguments[D]:{};D%2?xd(Object(G),!0).forEach(function(ie){M()(I,ie,G[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(G)):xd(Object(G)).forEach(function(ie){Object.defineProperty(I,ie,Object.getOwnPropertyDescriptor(G,ie))})}return I}({},g),E=0,A=0;A<6;A++){if(!(S=this._decodeCode(S.end)))return null;S.code>=10&&(S.code=S.code-10,E|=1<<5-A),b.push(S.code),w.push(S)}return this._determineParity(E,b)?S:null}},{key:"_determineParity",value:function(g,b){for(var w=0;w<this.CODE_FREQUENCY.length;w++)for(var S=0;S<this.CODE_FREQUENCY[w].length;S++)if(g===this.CODE_FREQUENCY[w][S])return b.unshift(w),b.push(S),!0;return!1}},{key:"_convertToUPCA",value:function(g){var b=[g[0]],w=g[g.length-2];return(b=w<=2?b.concat(g.slice(1,3)).concat([w,0,0,0,0]).concat(g.slice(3,6)):w===3?b.concat(g.slice(1,4)).concat([0,0,0,0,0]).concat(g.slice(4,6)):w===4?b.concat(g.slice(1,5)).concat([0,0,0,0,0,g[5]]):b.concat(g.slice(1,6)).concat([0,0,0,0,w])).push(g[g.length-1]),b}},{key:"_checksum",value:function(g){return p0(v,"_checksum",this,3)([this._convertToUPCA(g)])}},{key:"_findEnd",value:function(g,b){return p0(v,"_findEnd",this,3)([g,!0])}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start)/2;return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}}])}(ws);function vd(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var ei=function(y){function v(){var g;O()(this,v);for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];return g=vd(this,v,[].concat(w)),M()(g,"FORMAT","upc_a"),g}return Et()(v,y),q()(v,[{key:"decode",value:function(g,b){var w=ws.prototype.decode.call(this);return w&&w.code&&w.code.length===13&&w.code.charAt(0)==="0"?(w.code=w.code.substring(1),w):null}}])}(ws),ti={},nl={UP:1,DOWN:-1};ti.getBarcodeLine=function(y,v,g){var b,w,S,E,A,I=0|v.x,D=0|v.y,G=0|g.x,ie=0|g.y,we=Math.abs(ie-D)>Math.abs(G-I),_e=[],Fe=y.data,ke=y.size.x,Le=255,Qe=0;function Xe(dr,lr){A=Fe[lr*ke+dr],Le=A<Le?A:Le,Qe=A>Qe?A:Qe,_e.push(A)}we&&(S=I,I=D,D=S,S=G,G=ie,ie=S),I>G&&(S=I,I=G,G=S,S=D,D=ie,ie=S);var Ot=G-I,St=Math.abs(ie-D);b=Ot/2|0,w=D;var ar=D<ie?1:-1;for(E=I;E<G;E++)we?Xe(w,E):Xe(E,w),(b-=St)<0&&(w+=ar,b+=Ot);return{line:_e,min:Le,max:Qe}},ti.toBinaryLine=function(y){var v,g,b,w,S,E,A=y.min,I=y.max,D=y.line,G=A+(I-A)/2,ie=[],we=(I-A)/12,_e=-we;for(b=D[0]>G?nl.UP:nl.DOWN,ie.push({pos:0,val:D[0]}),S=0;S<D.length-2;S++)b!==(w=(v=D[S+1]-D[S])+(g=D[S+2]-D[S+1])<_e&&D[S+1]<1.5*G?nl.DOWN:v+g>we&&D[S+1]>.5*G?nl.UP:b)&&(ie.push({pos:S,val:D[S]}),b=w);for(ie.push({pos:D.length,val:D[D.length-1]}),E=ie[0].pos;E<ie[1].pos;E++)D[E]=D[E]>G?0:1;for(S=1;S<ie.length-1;S++)for(we=ie[S+1].val>ie[S].val?ie[S].val+(ie[S+1].val-ie[S].val)/3*2|0:ie[S+1].val+(ie[S].val-ie[S+1].val)/3|0,E=ie[S].pos;E<ie[S+1].pos;E++)D[E]=D[E]>we?0:1;return{line:D,threshold:we}},ti.debug={printFrequency:function(y,v){var g,b=v.getContext("2d");for(v.width=y.length,v.height=256,b.beginPath(),b.strokeStyle="blue",g=0;g<y.length;g++)b.moveTo(g,255),b.lineTo(g,255-y[g]);b.stroke(),b.closePath()},printPattern:function(y,v){var g,b=v.getContext("2d");for(v.width=y.length,b.fillColor="black",g=0;g<y.length;g++)y[g]===1&&b.fillRect(g,0,1,100)}};var as=ti;function ri(y,v){var g=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!g){if(Array.isArray(y)||(g=function(I,D){if(I){if(typeof I=="string")return Yl(I,D);var G={}.toString.call(I).slice(8,-1);return G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set"?Array.from(I):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?Yl(I,D):void 0}}(y))||v){g&&(y=g);var b=0,w=function(){};return{s:w,n:function(){return b>=y.length?{done:!0}:{done:!1,value:y[b++]}},e:function(I){throw I},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,E=!0,A=!1;return{s:function(){g=g.call(y)},n:function(){var I=g.next();return E=I.done,I},e:function(I){A=!0,S=I},f:function(){try{E||g.return==null||g.return()}finally{if(A)throw S}}}}function Yl(y,v){(v==null||v>y.length)&&(v=y.length);for(var g=0,b=Array(v);g<v;g++)b[g]=y[g];return b}var ai={code_128_reader:xo,ean_reader:ws,ean_5_reader:gd,ean_2_reader:Kl,ean_8_reader:m0,code_39_reader:Gl,code_39_vin_reader:fd,codabar_reader:vs,upc_reader:ei,upc_e_reader:bo,i2of5_reader:g0,"2of5_reader":la,code_93_reader:c0,code_32_reader:a0,pharmacode_reader:Wl},js={registerReader:function(y,v){ai[y]=v},create:function(y,v){var g=[];function b(){y.readers.forEach(function(I){var D,G={},ie=[];p()(I)==="object"?(D=I.format,G=I.config):typeof I=="string"&&(D=I),G.supplements&&(ie=G.supplements.map(function(_e){return new ai[_e]}));try{var we=new ai[D](G,ie);g.push(we)}catch(_e){throw console.error("* Error constructing reader ",D,_e),_e}})}function w(I){var D,G=null,ie=as.getBarcodeLine(v,I[0],I[1]);as.toBinaryLine(ie);var we=-1;for(D=0;D<g.length&&G===null;D++)typeof g[D].setImageWrapper=="function"&&g[D].setImageWrapper(v),(G=g[D].decodePattern(ie.line))!==null&&(we=D);return G===null||we>=0&&g[we]instanceof Wl&&!function(_e,Fe,ke,Le){var Qe=Math.round(_e[1].y),Xe=Fe.start,Ot=ke.constructor,St=Ot&&Ot.adjacentLineValidationMatches||0;if(St<=0)return!0;for(var ar=0,dr=!1,lr=0,vr=[1,2,3];lr<vr.length;lr++){var sn=vr[lr];if(dr)break;for(var yn=0,Kr=[-1,1];yn<Kr.length;yn++){var fr=Kr[yn];if(dr)break;var jr=Qe+sn*fr;if(!(jr<0||jr>=Le.size.y)){var Hr={x:_e[0].x,y:jr},qn={x:_e[1].x,y:jr};try{var on=as.getBarcodeLine(Le,Hr,qn);as.toBinaryLine(on),ke._row=on.line;var Rr=ke._findStart();if(Rr!==null&&Rr.start===Xe&&++ar>=St){dr=!0;break}}catch(ln){}}}}return ar>=St}(I,G,g[we],v)?null:{codeResult:G,barcodeLine:ie}}function S(I){return E.apply(this,arguments)}function E(){return(E=Ir()(B.a.mark(function I(D){var G,ie,we,_e,Fe;return B.a.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:G=null,ie=ri(g),ke.prev=1,ie.s();case 2:if((we=ie.n()).done){ke.next=5;break}if(!(_e=we.value).decodeImage){ke.next=4;break}return ke.next=3,_e.decodeImage(D);case 3:if(!(G=ke.sent)){ke.next=4;break}return ke.abrupt("continue",5);case 4:ke.next=2;break;case 5:ke.next=7;break;case 6:ke.prev=6,Fe=ke.catch(1),ie.e(Fe);case 7:return ke.prev=7,ie.f(),ke.finish(7);case 8:return ke.abrupt("return",G);case 9:case"end":return ke.stop()}},I,null,[[1,6,7,8]])}))).apply(this,arguments)}function A(I){var D,G,ie=function(_e){return Math.sqrt(Math.pow(Math.abs(_e[1].y-_e[0].y),2)+Math.pow(Math.abs(_e[1].x-_e[0].x),2))}(D=function(_e){return[{x:(_e[1][0]-_e[0][0])/2+_e[0][0],y:(_e[1][1]-_e[0][1])/2+_e[0][1]},{x:(_e[3][0]-_e[2][0])/2+_e[2][0],y:(_e[3][1]-_e[2][1])/2+_e[2][1]}]}(I)),we=Math.atan2(D[1].y-D[0].y,D[1].x-D[0].x);return(D=function(_e,Fe,ke){function Le(Qe){var Xe=Qe*Math.sin(Fe),Ot=Qe*Math.cos(Fe);_e[0].y-=Xe,_e[0].x-=Ot,_e[1].y+=Xe,_e[1].x+=Ot}for(Le(ke);ke>1&&(!v.inImageWithBorder(_e[0])||!v.inImageWithBorder(_e[1]));)Le(-(ke-=Math.ceil(ke/2)));return _e}(D,we,Math.floor(.1*ie)))===null?null:((G=w(D))===null&&(G=function(_e,Fe,ke){var Le,Qe,Xe,Ot=Math.sqrt(Math.pow(_e[1][0]-_e[0][0],2)+Math.pow(_e[1][1]-_e[0][1],2)),St=null,ar=Math.sin(ke),dr=Math.cos(ke);for(Le=1;Le<16&&St===null;Le++)Xe={y:(Qe=Ot/16*Le*(Le%2==0?-1:1))*ar,x:Qe*dr},Fe[0].y+=Xe.x,Fe[0].x-=Xe.y,Fe[1].y+=Xe.x,Fe[1].x-=Xe.y,St=w(Fe);return St}(I,D,we)),G===null?null:{codeResult:G.codeResult,line:D,angle:we,pattern:G.barcodeLine.line,threshold:G.barcodeLine.threshold})}return b(),{decodeFromBoundingBox:function(I){return A(I)},decodeFromBoundingBoxes:function(I){var D,G,ie=[],we=y.multiple;for(D=0;D<I.length;D++){var _e=I[D];if((G=A(_e)||{}).box=_e,we)ie.push(G);else if(G.codeResult)return G}return{barcodes:ie}},decodeFromImage:function(I){return Ir()(B.a.mark(function D(){var G;return B.a.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=1,S(I);case 1:return G=ie.sent,ie.abrupt("return",G);case 2:case"end":return ie.stop()}},D)}))()},registerReader:function(I,D){if(ai[I])throw new Error("cannot register existing reader",I);ai[I]=D},setReaders:function(I){y.readers=I,g.length=0,b()}}}},Ks=function(){var y={};function v(w){return y[w]||(y[w]={subscribers:[]}),y[w]}function g(w,S){w.async?setTimeout(function(){w.callback(S)},4):w.callback(S)}function b(w,S,E){var A;if(typeof S=="function")A={callback:S,async:E};else if(!(A=S).callback)throw new Error("Callback was not specified on options");v(w).subscribers.push(A)}return{subscribe:function(w,S,E){return b(w,S,E)},publish:function(w,S){var E=v(w),A=E.subscribers;A.filter(function(I){return!!I.once}).forEach(function(I){g(I,S)}),E.subscribers=A.filter(function(I){return!I.once}),E.subscribers.forEach(function(I){g(I,S)})},once:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];b(w,{callback:S,async:E,once:!0})},unsubscribe:function(w,S){if(w){var E=v(w);E.subscribers=E&&S?E.subscribers.filter(function(A){return A.callback!==S}):[]}else y={}}}}(),y0=o(81),x0=o.n(y0),Wh=o(82),Yh=o.n(Wh),Qh=o(83);function b0(y,v,g){return v=$e()(v),Se()(y,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(y).constructor):v.apply(y,g))}var Ql=function(y){function v(g,b){var w;return O()(this,v),w=b0(this,v,[g]),M()(w,"code",void 0),w.code=b,Object.setPrototypeOf(w,v.prototype),w}return Et()(v,y),q()(v,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,code:this.code}}}])}(o.n(Qh)()(Error)),Xl="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function zn(){try{return navigator.mediaDevices.enumerateDevices()}catch(v){var y=new Ql("enumerateDevices is not defined. ".concat(Xl),-1);return Promise.reject(y)}}function wd(y){try{return navigator.mediaDevices.getUserMedia(y)}catch(g){var v=new Ql("getUserMedia is not defined. ".concat(Xl),-1);return Promise.reject(v)}}var Sa,Sn=["deviceId"];function vo(y,v){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(y,w).enumerable})),g.push.apply(g,b)}return g}function Zl(y){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?vo(Object(g),!0).forEach(function(b){M()(y,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):vo(Object(g)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(g,b))})}return y}function Jl(y,v){var g=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!g){if(Array.isArray(y)||(g=function(I,D){if(I){if(typeof I=="string")return sl(I,D);var G={}.toString.call(I).slice(8,-1);return G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set"?Array.from(I):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?sl(I,D):void 0}}(y))||v){g&&(y=g);var b=0,w=function(){};return{s:w,n:function(){return b>=y.length?{done:!0}:{done:!1,value:y[b++]}},e:function(I){throw I},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,E=!0,A=!1;return{s:function(){g=g.call(y)},n:function(){var I=g.next();return E=I.done,I},e:function(I){A=!0,S=I},f:function(){try{E||g.return==null||g.return()}finally{if(A)throw S}}}}function sl(y,v){(v==null||v>y.length)&&(v=y.length);for(var g=0,b=Array(v);g<v;g++)b[g]=y[g];return b}function jd(y){return new Promise(function(v,g){var b=10;(function w(){b>0?y.videoWidth>10&&y.videoHeight>10?v():window.setTimeout(w,500):g(new Ql("Unable to play video stream. Is webcam working?",-1)),b--})()})}function ni(y,v){return Nd.apply(this,arguments)}function Nd(){return(Nd=Ir()(B.a.mark(function y(v,g){var b;return B.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=1,wd(g);case 1:if(b=w.sent,Sa=b,!v){w.next=2;break}return v.setAttribute("autoplay","true"),v.setAttribute("muted","true"),v.setAttribute("playsinline","true"),v.srcObject=b,v.addEventListener("loadedmetadata",function(){v.play().catch(function(S){console.warn("* Error while trying to play video stream:",S)})}),w.abrupt("return",jd(v));case 2:return w.abrupt("return",Promise.resolve());case 3:case"end":return w.stop()}},y)}))).apply(this,arguments)}function ol(y){var v=Yh()(y,["facing","minAspectRatio","maxAspectRatio"]);return y.minAspectRatio!==void 0&&y.minAspectRatio>0&&(v.aspectRatio=y.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),y.facing!==void 0&&(v.facingMode=y.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),v}function si(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=ol(y);return v&&v.deviceId&&v.facingMode&&delete v.facingMode,Promise.resolve({audio:!1,video:v})}function v0(){return(v0=Ir()(B.a.mark(function y(v){var g,b,w,S,E,A,I,D,G,ie;return B.a.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=1,zn();case 1:if(g=we.sent,b=g.filter(function(_e){return _e.kind==="videoinput"}),v){we.next=2;break}return we.abrupt("return",b);case 2:w=[],S=ol(v),S.deviceId,E=x0()(S,Sn),A=Jl(b),we.prev=3,A.s();case 4:if((I=A.n()).done){we.next=9;break}return D=I.value,we.prev=5,G={audio:!1,video:Zl(Zl({},E),{},{deviceId:{exact:D.deviceId}})},we.next=6,wd(G);case 6:we.sent.getTracks().forEach(function(_e){return _e.stop()}),w.push(D),we.next=8;break;case 7:we.prev=7,we.catch(5);case 8:we.next=4;break;case 9:we.next=11;break;case 10:we.prev=10,ie=we.catch(3),A.e(ie);case 11:return we.prev=11,A.f(),we.finish(11);case 12:return we.abrupt("return",w);case 13:case"end":return we.stop()}},y,null,[[3,10,11,12],[5,7]])}))).apply(this,arguments)}function Ia(){if(!Sa)return null;var y=Sa.getVideoTracks();return y&&y!=null&&y.length?y[0]:null}var wo={requestedVideoElement:null,request:function(y,v){return Ir()(B.a.mark(function g(){var b;return B.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return wo.requestedVideoElement=y,w.next=1,si(v);case 1:return b=w.sent,w.abrupt("return",ni(y,b));case 2:case"end":return w.stop()}},g)}))()},release:function(){var y=Sa&&Sa.getVideoTracks();return wo.requestedVideoElement!==null&&wo.requestedVideoElement.pause(),new Promise(function(v){setTimeout(function(){y&&y.length&&y.forEach(function(g){return g.stop()}),Sa=null,wo.requestedVideoElement=null,v()},0)})},enumerateVideoDevices:function(y){return v0.apply(this,arguments)},getActiveStream:function(){var y;return(y=Sa)!==null&&y!==void 0?y:null},getActiveStreamLabel:function(){var y=Ia();return y?y.label:""},getActiveTrack:Ia,disableTorch:function(){return Ir()(B.a.mark(function y(){var v,g;return B.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(v=Ia())){b.next=4;break}return b.prev=1,b.next=2,v.applyConstraints({advanced:[{torch:!1}]});case 2:b.next=4;break;case 3:throw b.prev=3,(g=b.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),g;case 4:case"end":return b.stop()}},y,null,[[1,3]])}))()},enableTorch:function(){return Ir()(B.a.mark(function y(){var v,g;return B.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(v=Ia())){b.next=4;break}return b.prev=1,b.next=2,v.applyConstraints({advanced:[{torch:!0}]});case 2:b.next=4;break;case 3:throw b.prev=3,(g=b.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),g;case 4:case"end":return b.stop()}},y,null,[[1,3]])}))()}},Cn=wo,kd={create:function(y){var v,g=document.createElement("canvas"),b=g.getContext("2d",{willReadFrequently:!!y.willReadFrequently}),w=[],S=(v=y.capacity)!==null&&v!==void 0?v:20,E=y.capture===!0;function A(I){return!!S&&I&&!function(D,G){return G&&G.some(function(ie){return Object.keys(ie).every(function(we){return ie[we]===D[we]})})}(I,y.blacklist)&&function(D,G){return typeof G!="function"||G(D)}(I,y.filter)}return{addResult:function(I,D,G){var ie={};A(G)&&(S--,ie.codeResult=G,E&&(g.width=D.x,g.height=D.y,Z.drawImage(I,D,b),ie.frame=g.toDataURL()),w.push(ie))},getResults:function(){return w}}}},ec={inputStream:{type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,canvas:{createOverlay:!0},decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ws=Math.PI/180,tc={};tc.create=function(y,v){var g,b={},w=y.getConfig(),S=ys(y.getRealWidth(),y.getRealHeight()),E=y.getCanvasSize(),A=ys(y.getWidth(),y.getHeight()),I=y.getTopRight(),D=I.x,G=I.y,ie=null,we=null,_e=w.willReadFrequently;function Fe(ke,Le,Qe,Xe,Ot){var St=Math.floor(Xe),ar=Math.floor(Ot),dr=Math.min(St+1,Le-1),lr=Math.min(ar+1,Qe-1),vr=Xe-St,sn=Ot-ar;return(ke[ar*Le+St]*(1-vr)+ke[ar*Le+dr]*vr)*(1-sn)+(ke[lr*Le+St]*(1-vr)+ke[lr*Le+dr]*vr)*sn}return(g=v||document.createElement("canvas")).width=E.x,g.height=E.y,ie=g.getContext("2d",{willReadFrequently:!!_e}),we=new Uint8Array(A.x*A.y),b.attachData=function(ke){we=ke},b.getData=function(){return we},b.grab=function(){var ke=w.halfSample,Le=y.getFrame(),Qe=Le,Xe=0;if(Qe){if(function(Rr,ln,Ss){Rr.width!==ln.x&&(Rr.width=ln.x),Rr.height!==ln.y&&(Rr.height=ln.y)}(g,E,w.debug),w.type==="ImageStream"&&(Qe=Le.img,Le.tags&&Le.tags.orientation))switch(Le.tags.orientation){case 6:Xe=90*Ws;break;case 8:Xe=-90*Ws}if(Xe!==0?(ie.translate(E.x/2,E.y/2),ie.rotate(Xe),ie.drawImage(Qe,-E.y/2,-E.x/2,E.y,E.x),ie.rotate(-Xe),ie.translate(-E.x/2,-E.y/2)):ie.drawImage(Qe,0,0,E.x,E.y),ke)(function(Rr,ln,Ss){for(var xn,os=0,tr=ln.x,ja=Math.floor(Rr.length/4),Ad=ln.x/2,Rd=0,Pd=ln.x;tr<ja;){for(xn=0;xn<Ad;xn++)Ss[Rd]=(.299*Rr[4*os+0]+.587*Rr[4*os+1]+.114*Rr[4*os+2]+(.299*Rr[4*(os+1)+0]+.587*Rr[4*(os+1)+1]+.114*Rr[4*(os+1)+2])+(.299*Rr[4*tr+0]+.587*Rr[4*tr+1]+.114*Rr[4*tr+2])+(.299*Rr[4*(tr+1)+0]+.587*Rr[4*(tr+1)+1]+.114*Rr[4*(tr+1)+2]))/4,Rd++,os+=2,tr+=2;os+=Pd,tr+=Pd}})(ie.getImageData(D,G,A.x,A.y).data,A,we);else{var Ot=document.createElement("canvas");Ot.width=S.x,Ot.height=S.y;var St=Ot.getContext("2d");Xe!==0?(St.translate(S.x/2,S.y/2),St.rotate(Xe),St.drawImage(Qe,-S.y/2,-S.x/2,S.y,S.x)):St.drawImage(Qe,0,0,S.x,S.y);var ar=St.getImageData(0,0,S.x,S.y).data,dr=new Uint8Array(S.x*S.y);xs(ar,dr,w);for(var lr=new Uint8Array(E.x*E.y),vr=S.x/E.x,sn=S.y/E.y,yn=0;yn<E.y;yn++)for(var Kr=0;Kr<E.x;Kr++){var fr=Kr*vr,jr=yn*sn;lr[yn*E.x+Kr]=0|Fe(dr,S.x,S.y,fr,jr)}for(var Hr=0;Hr<A.y;Hr++)for(var qn=0;qn<A.x;qn++){var on=(Hr+G)*E.x+(qn+D);we[Hr*A.x+qn]=lr[on]}}return!0}return!1},b.getSize=function(){return A},b};var _d=tc,Ns={274:"orientation"},jo=Object.keys(Ns).map(function(y){return Ns[y]});function rc(y){return new Promise(function(v){var g=new FileReader;g.onload=function(b){return v(b.target.result)},g.readAsArrayBuffer(y)})}function ac(y){return new Promise(function(v,g){var b=new XMLHttpRequest;b.open("GET",y,!0),b.responseType="blob",b.onreadystatechange=function(){b.readyState!==XMLHttpRequest.DONE||b.status!==200&&b.status!==0||v(this.response)},b.onerror=g,b.send()})}function $n(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jo,g=new DataView(y),b=y.byteLength,w=v.reduce(function(E,A){var I=Object.keys(Ns).filter(function(D){return Ns[D]===A})[0];return I&&(E[I]=A),E},{}),S=2;if(g.getUint8(0)!==255||g.getUint8(1)!==216)return!1;for(;S<b;){if(g.getUint8(S)!==255)return!1;if(g.getUint8(S+1)===225)return En(g,S+4,w);S+=2+g.getUint16(S+2)}return!1}function En(y,v,g){if(function(E,A,I){for(var D="",G=A;G<A+I;G++)D+=String.fromCharCode(E.getUint8(G));return D}(y,v,4)!=="Exif")return!1;var b,w=v+6;if(y.getUint16(w)===18761)b=!1;else{if(y.getUint16(w)!==19789)return!1;b=!0}if(y.getUint16(w+2,!b)!==42)return!1;var S=y.getUint32(w+4,!b);return!(S<8)&&function(E,A,I,D,G){for(var ie=E.getUint16(I,!G),we={},_e=0;_e<ie;_e++){var Fe=I+12*_e+2,ke=D[E.getUint16(Fe,!G)];ke&&(we[ke]=No(E,Fe,A,I,G))}return we}(y,w,w+S,g,b)}function No(y,v,g,b,w){var S=y.getUint16(v+2,!w),E=y.getUint32(v+4,!w);switch(S){case 3:if(E===1)return y.getUint16(v+8,!w)}return null}function ks(y,v){return"".concat(y,"image-").concat(v.toString().padStart(3,"0"),".jpg")}var ns={};function ko(y,v){y.onload=function(){v.loaded(this)},y.onerror=function(){v.loaded(this)}}ns.load=function(y,v,g,b,w,S){var E,A,I,D=new Array(b),G=new Array(D.length);if(w===!1)D[0]=y;else for(E=0;E<D.length;E++)I=g+E,D[E]=ks(y,I);for(G.notLoaded=[],G.addImage=function(ie){G.notLoaded.push(ie)},G.loaded=function(ie){for(var we=G.notLoaded,_e=0;_e<we.length;_e++)if(we[_e]===ie){we.splice(_e,1);for(var Fe=0;Fe<D.length;Fe++){var ke=encodeURI(D[Fe].substr(D[Fe].lastIndexOf("/")));if(ie.src.lastIndexOf(ke)!==-1){G[Fe]={img:ie};break}}break}we.length===0&&(w===!1?function(Le){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jo;return/^blob:/i.test(Le)?ac(Le).then(rc).then(function(Xe){return $n(Xe,Qe)}):Promise.resolve(null)}(y,["orientation"]).then(function(Le){G[0].tags=Le,v(G)}).catch(function(Le){console.log(Le),v(G)}):v(G))},E=0;E<D.length;E++)A=new Image,G.addImage(A),ko(A,G),A.src=D[E]};var w0=ns,nc={createVideoStream:function(y){console.warn("**** InputStreamBrowser createVideoStream");var v,g,b=null,w=["canrecord","ended"],S={},E={x:0,y:0,type:"Point"},A={x:0,y:0,type:"XYSize"},I={getRealWidth:function(){return y.videoWidth},getRealHeight:function(){return y.videoHeight},getWidth:function(){return v},getHeight:function(){return g},setWidth:function(D){v=D},setHeight:function(D){g=D},setInputStream:function(D){b=D,this.setAttribute("src",D.src!==void 0?D.src:"")},ended:function(){return y.ended},getConfig:function(){return b},setAttribute:function(D,G){y&&y.setAttribute(D,G)},pause:function(){y.pause()},play:function(){y.play()},setCurrentTime:function(D){var G;((G=b)===null||G===void 0?void 0:G.type)!=="LiveStream"&&this.setAttribute("currentTime",D.toString())},addEventListener:function(D,G,ie){w.indexOf(D)!==-1?(S[D]||(S[D]=[]),S[D].push(G)):y.addEventListener(D,G,ie)},clearEventHandlers:function(){w.forEach(function(D){var G=S[D];G&&G.length>0&&G.forEach(function(ie){y.removeEventListener(D,ie)})})},trigger:function(D,G){var ie,we,_e,Fe,ke,Le=S[D];if(D==="canrecord"&&(Fe=y.videoWidth,ke=y.videoHeight,v=(we=b)!==null&&we!==void 0&&we.size?Fe/ke>1?b.size:Math.floor(Fe/ke*b.size):Fe,g=(_e=b)!==null&&_e!==void 0&&_e.size?Fe/ke>1?Math.floor(ke/Fe*b.size):b.size:ke,A.x=v,A.y=g),Le&&Le.length>0)for(ie=0;ie<Le.length;ie++)Le[ie].apply(I,G)},setTopRight:function(D){E.x=D.x,E.y=D.y},getTopRight:function(){return E},setCanvasSize:function(D){A.x=D.x,A.y=D.y},getCanvasSize:function(){return A},getFrame:function(){return y}};return I},createLiveStream:function(y){console.warn("**** InputStreamBrowser createLiveStream"),y&&y.setAttribute("autoplay","true");var v=nc.createVideoStream(y);return v.ended=function(){return!1},v},createImageStream:function(){var y,v,g=null,b=0,w=0,S=0,E=!0,A=!1,I=null,D=0,G=null,ie=!1,we=["canrecord","ended"],_e={},Fe={x:0,y:0,type:"Point"},ke={x:0,y:0,type:"XYSize"};function Le(Xe,Ot){var St,ar=_e[Xe];if(ar&&ar.length>0)for(St=0;St<ar.length;St++)ar[St].apply(Qe,Ot)}var Qe={trigger:Le,getWidth:function(){return y},getHeight:function(){return v},setWidth:function(Xe){y=Xe},setHeight:function(Xe){v=Xe},getRealWidth:function(){return b},getRealHeight:function(){return w},setInputStream:function(Xe){var Ot;g=Xe,Xe.sequence===!1?(G=Xe.src,D=1):(G=Xe.src,D=Xe.length),A=!1,w0.load(G,function(St){var ar,dr;if(I=St,St[0].tags&&St[0].tags.orientation)switch(St[0].tags.orientation){case 6:case 8:b=St[0].img.height,w=St[0].img.width;break;default:b=St[0].img.width,w=St[0].img.height}else b=St[0].img.width,w=St[0].img.height;y=(ar=g)!==null&&ar!==void 0&&ar.size?b/w>1?g.size:Math.floor(b/w*g.size):b,v=(dr=g)!==null&&dr!==void 0&&dr.size?b/w>1?Math.floor(w/b*g.size):g.size:w,ke.x=y,ke.y=v,A=!0,S=0,setTimeout(function(){Le("canrecord",[])},0)},1,D,(Ot=g)===null||Ot===void 0?void 0:Ot.sequence,g)},ended:function(){return ie},setAttribute:function(){},getConfig:function(){return g},pause:function(){E=!0},play:function(){E=!1},setCurrentTime:function(Xe){S=Xe},addEventListener:function(Xe,Ot){we.indexOf(Xe)!==-1&&(_e[Xe]||(_e[Xe]=[]),_e[Xe].push(Ot))},clearEventHandlers:function(){Object.keys(_e).forEach(function(Xe){return delete _e[Xe]})},setTopRight:function(Xe){Fe.x=Xe.x,Fe.y=Xe.y},getTopRight:function(){return Fe},setCanvasSize:function(Xe){ke.x=Xe.x,ke.y=Xe.y},getCanvasSize:function(){return ke},getFrame:function(){var Xe,Ot;return A?(E||(Xe=(Ot=I)===null||Ot===void 0?void 0:Ot[S],S<D-1?S++:setTimeout(function(){ie=!0,Le("ended",[])},0)),Xe):null}};return Qe}},Sd=nc,Ca={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(y,v){var g,b=y.data,w=v.data,S=this.searchDirections,E=y.size.x;function A(D,G,ie,we){var _e,Fe,ke;for(_e=0;_e<S.length;_e++){if(Fe=D.cy+S[D.dir][0],ke=D.cx+S[D.dir][1],b[g=Fe*E+ke]===G&&(w[g]===0||w[g]===ie))return w[g]=ie,D.cy=Fe,D.cx=ke,!0;w[g]===0&&(w[g]=we),D.dir=(D.dir+1)%8}return!1}function I(D,G,ie){return{dir:ie,x:D,y:G,next:null,prev:null}}return{trace:function(D,G,ie,we){return A(D,G,ie,we)},contourTracing:function(D,G,ie,we,_e){return function(Fe,ke,Le,Qe,Xe){var Ot,St,ar,dr=null,lr={cx:ke,cy:Fe,dir:0};if(A(lr,Qe,Le,Xe)){Ot=dr=I(ke,Fe,lr.dir),ar=lr.dir,(St=I(lr.cx,lr.cy,0)).prev=Ot,Ot.next=St,St.next=null,Ot=St;var vr=y.size.x*y.size.y,sn=0;do lr.dir=(lr.dir+6)%8,A(lr,Qe,Le,Xe),ar!==lr.dir?(Ot.dir=lr.dir,(St=I(lr.cx,lr.cy,0)).prev=Ot,Ot.next=St,St.next=null,Ot=St):(Ot.dir=ar,Ot.x=lr.cx,Ot.y=lr.cy),ar=lr.dir;while((lr.cx!==ke||lr.cy!==Fe)&&++sn<vr);dr.prev=Ot.prev,Ot.prev.next=dr}return dr}(D,G,ie,we,_e)}}}},Sr={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(y,v){var g=y.data,b=v.data,w=y.size.x,S=y.size.y,E=Ca.create(y,v);return{rasterize:function(A){var I,D,G,ie,we,_e,Fe,ke,Le,Qe,Xe,Ot,St=[],ar=0;for(Ot=0;Ot<400;Ot++)St[Ot]=0;for(St[0]=g[0],Le=null,_e=1;_e<S-1;_e++)for(ie=0,D=St[0],we=1;we<w-1;we++)if(b[Xe=_e*w+we]===0)if((I=g[Xe])!==D){if(ie===0)St[G=ar+1]=I,D=I,(Fe=E.contourTracing(_e,we,G,I,Sr.DIR.OUTSIDE_EDGE))!==null&&(ar++,ie=G,(ke=Sr.createContour2D()).dir=Sr.CONTOUR_DIR.CW_DIR,ke.index=ie,ke.firstVertex=Fe,ke.nextpeer=Le,ke.insideContours=null,Le!==null&&(Le.prevpeer=ke),Le=ke);else if((Fe=E.contourTracing(_e,we,Sr.DIR.INSIDE_EDGE,I,ie))!==null){for((ke=Sr.createContour2D()).firstVertex=Fe,ke.insideContours=null,ke.dir=A===0?Sr.CONTOUR_DIR.CCW_DIR:Sr.CONTOUR_DIR.CW_DIR,ke.index=A,Qe=Le;Qe!==null&&Qe.index!==ie;)Qe=Qe.nextpeer;Qe!==null&&(ke.nextpeer=Qe.insideContours,Qe.insideContours!==null&&(Qe.insideContours.prevpeer=ke),Qe.insideContours=ke)}}else b[Xe]=ie;else b[Xe]===Sr.DIR.OUTSIDE_EDGE||b[Xe]===Sr.DIR.INSIDE_EDGE?(ie=0,D=b[Xe]===Sr.DIR.INSIDE_EDGE?g[Xe]:St[0]):D=St[ie=b[Xe]];for(Qe=Le;Qe!==null;)Qe.index=A,Qe=Qe.nextpeer;return{cc:Le,count:ar}},debug:{drawContour:function(A,I){var D,G,ie,we=A.getContext("2d"),_e=I;for(we.strokeStyle="red",we.fillStyle="red",we.lineWidth=1,D=_e!==null?_e.insideContours:null;_e!==null;){switch(D!==null?(G=D,D=D.nextpeer):(G=_e,D=(_e=_e.nextpeer)!==null?_e.insideContours:null),G.dir){case Sr.CONTOUR_DIR.CW_DIR:we.strokeStyle="red";break;case Sr.CONTOUR_DIR.CCW_DIR:we.strokeStyle="blue";break;case Sr.CONTOUR_DIR.UNKNOWN_DIR:we.strokeStyle="green"}ie=G.firstVertex,we.beginPath(),we.moveTo(ie.x,ie.y);do ie=ie.next,we.lineTo(ie.x,ie.y);while(ie!==G.firstVertex);we.stroke()}}}}}},Dr=Sr;/* @preserve ASM END */var gn,$a,il,La,ll,_o,oa,Tn,Bn,ga,So,Ys,_s=function(y,v,g){var b=new y.Uint8Array(g),w=v.size|0,S=y.Math.imul;function E(ke,Le){ke=ke|0,Le=Le|0;var Qe=0,Xe=0,Ot=0,St=0,ar=0,dr=0,lr=0,vr=0;for(Qe=1;(Qe|0)<(w-1|0);Qe=Qe+1|0)for(vr=vr+w|0,Xe=1;(Xe|0)<(w-1|0);Xe=Xe+1|0)St=vr-w|0,ar=vr+w|0,dr=Xe-1|0,lr=Xe+1|0,Ot=(b[ke+St+dr|0]|0)+(b[ke+St+lr|0]|0)+(b[ke+vr+Xe|0]|0)+(b[ke+ar+dr|0]|0)+(b[ke+ar+lr|0]|0)|0,(Ot|0)==5?b[Le+vr+Xe|0]=1:b[Le+vr+Xe|0]=0}function A(ke,Le,Qe){ke=ke|0,Le=Le|0,Qe=Qe|0;var Xe=0;for(Xe=S(w,w)|0;(Xe|0)>0;)Xe=Xe-1|0,b[Qe+Xe|0]=(b[ke+Xe|0]|0)-(b[Le+Xe|0]|0)|0}function I(ke,Le,Qe){ke=ke|0,Le=Le|0,Qe=Qe|0;var Xe=0;for(Xe=S(w,w)|0;(Xe|0)>0;)Xe=Xe-1|0,b[Qe+Xe|0]=b[ke+Xe|0]|0|(b[Le+Xe|0]|0)|0}function D(ke){ke=ke|0;var Le=0,Qe=0;for(Qe=S(w,w)|0;(Qe|0)>0;)Qe=Qe-1|0,Le=(Le|0)+(b[ke+Qe|0]|0)|0;return Le|0}function G(ke,Le){ke=ke|0,Le=Le|0;var Qe=0;for(Qe=S(w,w)|0;(Qe|0)>0;)Qe=Qe-1|0,b[ke+Qe|0]=Le}function ie(ke,Le){ke=ke|0,Le=Le|0;var Qe=0,Xe=0,Ot=0,St=0,ar=0,dr=0,lr=0,vr=0;for(Qe=1;(Qe|0)<(w-1|0);Qe=Qe+1|0)for(vr=vr+w|0,Xe=1;(Xe|0)<(w-1|0);Xe=Xe+1|0)St=vr-w|0,ar=vr+w|0,dr=Xe-1|0,lr=Xe+1|0,Ot=(b[ke+St+dr|0]|0)+(b[ke+St+lr|0]|0)+(b[ke+vr+Xe|0]|0)+(b[ke+ar+dr|0]|0)+(b[ke+ar+lr|0]|0)|0,(Ot|0)>0?b[Le+vr+Xe|0]=1:b[Le+vr+Xe|0]=0}function we(ke,Le){ke=ke|0,Le=Le|0;var Qe=0;for(Qe=S(w,w)|0;(Qe|0)>0;)Qe=Qe-1|0,b[Le+Qe|0]=b[ke+Qe|0]|0}function _e(ke){ke=ke|0;var Le=0,Qe=0;for(Le=0;(Le|0)<(w-1|0);Le=Le+1|0)b[ke+Le|0]=0,b[ke+Qe|0]=0,Qe=Qe+w-1|0,b[ke+Qe|0]=0,Qe=Qe+1|0;for(Le=0;(Le|0)<(w|0);Le=Le+1|0)b[ke+Qe|0]=0,Qe=Qe+1|0}function Fe(){var ke=0,Le=0,Qe=0,Xe=0,Ot=0,St=0;Le=S(w,w)|0,Qe=Le+Le|0,Xe=Qe+Le|0,G(Xe,0),_e(ke);do E(ke,Le),ie(Le,Qe),A(ke,Qe,Qe),I(Xe,Qe,Xe),we(Le,ke),Ot=D(ke)|0,St=(Ot|0)==0|0;while(!St)}return{skeletonize:Fe}},pn={ctx:{binary:null},dom:{binary:null}},Ka={x:0,y:0};function Cd(y){var v,g,b,w,S,E,A,I=Bn.size.x,D=Bn.size.y,G=-Bn.size.x,ie=-Bn.size.y;for(v=0,g=0;g<y.length;g++)v+=(w=y[g]).rad;for((v=(180*(v/=y.length)/Math.PI+90)%180-90)<0&&(v+=180),v=(180-v)*Math.PI/180,S=l.copy(l.create(),[Math.cos(v),Math.sin(v),-Math.sin(v),Math.cos(v)]),g=0;g<y.length;g++)for(w=y[g],b=0;b<4;b++)c.transformMat2(w.box[b],w.box[b],S);for(g=0;g<y.length;g++)for(w=y[g],b=0;b<4;b++)w.box[b][0]<I&&(I=w.box[b][0]),w.box[b][0]>G&&(G=w.box[b][0]),w.box[b][1]<D&&(D=w.box[b][1]),w.box[b][1]>ie&&(ie=w.box[b][1]);for(E=[[I,D],[G,D],[G,ie],[I,ie]],A=gn.halfSample?2:1,S=l.invert(S,S),b=0;b<4;b++)c.transformMat2(E[b],E[b],S);for(b=0;b<4;b++)c.scale(E[b],E[b],A);return E}function $d(y){var v=function(S,E,A){var I,D,G,ie,we=0,_e=0,Fe=[];for(I=0;I<E;I++)Fe[I]={score:0,item:null};for(I=0;I<S.length;I++)if((D=A.apply(this,[S[I]]))>_e)for((G=Fe[we]).score=D,G.item=S[I],_e=Number.MAX_VALUE,ie=0;ie<E;ie++)Fe[ie].score<_e&&(_e=Fe[ie].score,we=ie);return Fe}(function(S,E,A){var I,D,G,ie,we=[];function _e(Fe){var ke=!1;for(D=0;D<we.length;D++)(G=we[D]).fits(Fe)&&(G.add(Fe),ke=!0);return ke}for(A||(A="rad"),I=0;I<S.length;I++)_e(ie=Xo(S[I],I,A))||we.push(tn(ie,E));return we}(y,.9),1,function(S){return S.getPoints().length}),g=[],b=[];if(v.length===1){g=v[0].item.getPoints();for(var w=0;w<g.length;w++)b.push(g[w].point)}return b}function cl(y,v){Bn.subImageAsCopy(La,ys(y,v)),Ys.skeletonize()}function sc(y,v,g,b){var w,S,E,A,I=[],D=[],G=Math.ceil(ga.x/3);if(y.length>=2){for(w=0;w<y.length;w++)y[w].m00>G&&I.push(y[w]);if(I.length>=2){for(E=$d(I),S=0,w=0;w<E.length;w++){var ie,we;S+=(ie=(we=E[w])===null||we===void 0?void 0:we.rad)!==null&&ie!==void 0?ie:0}E.length>1&&E.length>=I.length/4*3&&E.length>y.length/4&&(S/=E.length,A={index:v[1]*Ka.x+v[0],pos:{x:g,y:b},box:[c.clone([g,b]),c.clone([g+La.size.x,b]),c.clone([g+La.size.x,b+La.size.y]),c.clone([g,b+La.size.y])],moments:E,rad:S,vec:c.clone([Math.cos(S),Math.sin(S)])},D.push(A))}}return D}var Co=function(y,v){gn=v,So=y,function(){$a=gn.halfSample?new Da({x:So.size.x/2|0,y:So.size.y/2|0}):So,ga=yo(gn.patchSize,$a.size),Ka.x=$a.size.x/ga.x|0,Ka.y=$a.size.y/ga.y|0,Bn=new Da($a.size,void 0,Uint8Array,!1),ll=new Da(ga,void 0,Array,!0);var g=ga.x*ga.y*4,b=Math.max(65536,Math.pow(2,Math.ceil(Math.log2(g)))),w=new ArrayBuffer(b);La=new Da(ga,new Uint8Array(w,0,ga.x*ga.y)),il=new Da(ga,new Uint8Array(w,ga.x*ga.y*3,ga.x*ga.y),void 0,!0),Ys=_s({Math,Uint8Array},{size:ga.x},w),Tn=new Da({x:$a.size.x/La.size.x|0,y:$a.size.y/La.size.y|0},void 0,Array,!0),_o=new Da(Tn.size,void 0,void 0,!0),oa=new Da(Tn.size,void 0,Int32Array,!0)}(),function(){if(!gn.useWorker&&typeof document!="undefined"){pn.dom.binary=document.createElement("canvas"),pn.dom.binary.className="binaryBuffer";var g=!!gn.willReadFrequently;pn.ctx.binary=pn.dom.binary.getContext("2d",{willReadFrequently:g}),pn.dom.binary.width=Bn.size.x,pn.dom.binary.height=Bn.size.y}}()},Ua=function(){gn.halfSample&&function(b,w){for(var S=b.data,E=b.size.x,A=w.data,I=0,D=E,G=S.length,ie=E/2,we=0;D<G;){for(var _e=0;_e<ie;_e++)A[we]=Math.floor((S[I]+S[I+1]+S[D]+S[D+1])/4),we++,I+=2,D+=2;I+=E,D+=E}}(So,$a),rn($a,Bn),Bn.zeroBorder();var y=function(){var b,w,S,E,A,I,D=[];for(b=0;b<Ka.x;b++)for(w=0;w<Ka.y;w++)cl(S=La.size.x*b,E=La.size.y*w),il.zeroBorder(),_n(ll.data,0),I=Dr.create(il,ll).rasterize(0),A=ll.moments(I.count),D=D.concat(sc(A,[b,w],S,E));return D}();if(y.length<Ka.x*Ka.y*.05)return null;var v=function(b){var w,S,E=0,A=0;function I(){var G;for(G=0;G<oa.data.length;G++)if(oa.data[G]===0&&_o.data[G]===1)return G;return oa.data.length}function D(G){var ie,we,_e,Fe,ke,Le=G%oa.size.x,Qe=G/oa.size.x|0;if(G<oa.data.length)for(_e=Tn.data[G],oa.data[G]=E,ke=0;ke<Ca.searchDirections.length;ke++)we=Qe+Ca.searchDirections[ke][0],ie=Le+Ca.searchDirections[ke][1],Fe=we*oa.size.x+ie,_o.data[Fe]!==0?oa.data[Fe]===0&&Math.abs(c.dot(Tn.data[Fe].vec,_e.vec))>.95&&D(Fe):oa.data[Fe]=Number.MAX_VALUE}for(_n(_o.data,0),_n(oa.data,0),_n(Tn.data,null),w=0;w<b.length;w++)S=b[w],Tn.data[S.index]=S,_o.data[S.index]=1;for(_o.zeroBorder();(A=I())<oa.data.length;)E++,D(A);return E}(y);if(v<1)return null;var g=function(b){var w,S,E=[];for(w=0;w<b;w++)E.push(0);for(S=oa.data.length;S--;)oa.data[S]>0&&E[oa.data[S]-1]++;return(E=E.map(function(A,I){return{val:A,label:I+1}})).sort(function(A,I){return I.val-A.val}),E.filter(function(A){return A.val>=5})}(v);return g.length===0?null:function(b,w){var S,E,A,I,D=[],G=[];for(S=0;S<b.length;S++){for(E=oa.data.length,D.length=0;E--;)oa.data[E]===b[S].label&&(A=Tn.data[E],D.push(A));(I=Cd(D))&&G.push(I)}return G}(g)},oc=function(y,v){var g,b,w=y.getWidth(),S=y.getHeight(),E=v.halfSample?.5:1;y.getConfig().area&&(b=Ma(w,S,y.getConfig().area),y.setTopRight({x:b.sx,y:b.sy}),y.setCanvasSize({x:w,y:S}),w=b.sw,S=b.sh);var A={x:Math.floor(w*E),y:Math.floor(S*E)};if(g=yo(v.patchSize,A),y.setWidth(Math.max(Math.floor(Math.floor(A.x/g.x)*(1/E)*g.x),g.x)),y.setHeight(Math.max(Math.floor(Math.floor(A.y/g.y)*(1/E)*g.y),g.y)),y.getWidth()%g.x==0&&y.getHeight()%g.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(w," )and height (").concat(S,") must a multiple of ").concat(g.x))},j0=q()(function y(){O()(this,y),M()(this,"config",void 0),M()(this,"inputStream",void 0),M()(this,"framegrabber",void 0),M()(this,"inputImageWrapper",void 0),M()(this,"stopped",!1),M()(this,"initAborted",!1),M()(this,"boxSize",void 0),M()(this,"resultCollector",void 0),M()(this,"decoder",void 0),M()(this,"workerPool",[]),M()(this,"onUIThread",!0),M()(this,"canvasContainer",new Xh)}),N0=q()(function y(){O()(this,y),M()(this,"image",void 0),M()(this,"overlay",void 0)}),Xh=q()(function y(){O()(this,y),M()(this,"ctx",void 0),M()(this,"dom",void 0),this.ctx=new N0,this.dom=new N0});function k0(y){if(typeof document=="undefined")return null;if(y instanceof HTMLElement&&y.nodeName&&y.nodeType===1)return y;var v=typeof y=="string"?y:"#interactive.viewport";return document.querySelector(v)}function pa(y,v,g){var b=function(S,E){var A=document.querySelector(S);return A||((A=document.createElement("canvas")).className=E),A}(y,v),w=b.getContext("2d",{willReadFrequently:g.willReadFrequently});return{canvas:b,context:w}}function Ed(y){var v,g,b,w,S,E,A,I,D,G,ie=k0(y==null||(v=y.config)===null||v===void 0||(g=v.inputStream)===null||g===void 0?void 0:g.target),we=y==null||(b=y.config)===null||b===void 0||(w=b.inputStream)===null||w===void 0?void 0:w.type;if(!we)return null;var _e=(y==null||(S=y.config)===null||S===void 0||(E=S.canvas)===null||E===void 0?void 0:E.createOverlay)!==!1,Fe=function(Le,Qe){var Xe=Qe.willReadFrequently,Ot=Qe.createOverlay;if(typeof document!="undefined"){var St=pa("canvas.imgBuffer","imgBuffer",{willReadFrequently:Xe});St.canvas.width=Le.x,St.canvas.height=Le.y;var ar={canvas:null,context:null};if(Ot){var dr=pa("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:Xe});dr.canvas.width=Le.x,dr.canvas.height=Le.y,ar=dr}return{dom:{image:St.canvas,overlay:ar.canvas},ctx:{image:St.context,overlay:ar.context}}}return null}(y.inputStream.getCanvasSize(),{willReadFrequently:!(y==null||(A=y.config)===null||A===void 0||(I=A.inputStream)===null||I===void 0||!I.willReadFrequently),createOverlay:_e,debug:y==null||(D=y.config)===null||D===void 0||(G=D.locator)===null||G===void 0?void 0:G.debug});if(!Fe)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var ke=Fe.dom;return typeof document!="undefined"&&ie&&(we!=="ImageStream"||ie.contains(ke.image)||ie.appendChild(ke.image),ke.overlay&&!ie.contains(ke.overlay)&&ie.appendChild(ke.overlay)),Fe}function oi(y,v){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(y,w).enumerable})),g.push.apply(g,b)}return g}function Qs(y){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?oi(Object(g),!0).forEach(function(b){M()(y,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):oi(Object(g)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(g,b))})}return y}var On=[];function ii(y){return Qs(Qs({},y),{},{inputStream:Qs(Qs({},y.inputStream),{},{target:null})})}function li(y){if(y){var v=y().default;if(!v)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var g;function b(S){self.postMessage({event:"processed",imageData:g.data,result:S},[g.data.buffer])}function w(){self.postMessage({event:"initialized",imageData:g.data},[g.data.buffer])}self.onmessage=function(S){if(S.data.cmd==="init"){var E=S.data.config;E.numOfWorkers=0,g=new v.ImageWrapper({x:S.data.size.x,y:S.data.size.y},new Uint8Array(S.data.imageData)),v.init(E,w,g),v.onProcessed(b)}else S.data.cmd==="process"?(g.data=new Uint8Array(S.data.imageData),v.start()):S.data.cmd==="setReaders"?v.setReaders(S.data.readers):S.data.cmd==="registerReader"&&v.registerReader(S.data.name,S.data.reader)}}function Zh(y,v,g){var b,w,S=(typeof __factorySource__!="undefined"&&(w=__factorySource__),b=new Blob(["("+li.toString()+")("+w+");"],{type:"text/javascript"}),window.URL.createObjectURL(b)),E={worker:new Worker(S),imageData:new Uint8Array(v.getWidth()*v.getHeight()),busy:!0};E.worker.onmessage=function(A){A.data.event==="initialized"?(URL.revokeObjectURL(S),E.busy=!1,E.imageData=new Uint8Array(A.data.imageData),g(E)):A.data.event==="processed"?(E.imageData=new Uint8Array(A.data.imageData),E.busy=!1,typeof publishResult!="undefined"&&publishResult(A.data.result,E.imageData)):A.data.event},E.worker.postMessage({cmd:"init",size:{x:v.getWidth(),y:v.getHeight()},imageData:E.imageData,config:ii(y)},[E.imageData.buffer])}function Td(y,v,g,b){var w=y-On.length;if(w===0&&b)b();else if(w<0)On.slice(w).forEach(function(A){A.worker.terminate()}),On=On.slice(0,w),b&&b();else{var S=function(A){On.push(A),On.length>=y&&b&&b()};if(v)for(var E=0;E<w;E++)Zh(v,g,S)}}function _0(y,v,g){for(var b=y.length;b--;)y[b][0]+=v,y[b][1]+=g}function S0(y,v,g){y[0].x+=v,y[0].y+=g,y[1].x+=v,y[1].y+=g}var Xs=function(){return q()(function g(){var b=this;O()(this,g),M()(this,"context",new j0),M()(this,"canRecord",function(w){var S;b.context.initAborted?w(new Error("Initialization was aborted")):b.context.config?b.context.inputStream?(oc(b.context.inputStream,(S=b.context.config)===null||S===void 0?void 0:S.locator),b.initCanvas(),b.context.framegrabber=_d.create(b.context.inputStream,b.context.canvasContainer.dom.image),b.context.config.numOfWorkers===void 0&&(b.context.config.numOfWorkers=0),Td(b.context.config.numOfWorkers,b.context.config,b.context.inputStream,function(){var E;((E=b.context.config)===null||E===void 0?void 0:E.numOfWorkers)===0&&b.initializeData(),b.ready(w)})):w(new Error("Input stream not initialized")):w(new Error("Configuration not initialized"))}),M()(this,"update",function(){if(b.context.onUIThread){var w,S=(A=b.context.framegrabber,On.length?!!(I=On.filter(function(D){return!D.busy})[0])&&(A.attachData(I.imageData),A.grab()&&(I.busy=!0,I.worker.postMessage({cmd:"process",imageData:I.imageData},[I.imageData.buffer])),!0):null);S||(b.context.framegrabber.attachData((w=b.context.inputImageWrapper)===null||w===void 0?void 0:w.data),b.context.framegrabber.grab()&&(S||b.locateAndDecode()))}else{var E;b.context.framegrabber.attachData((E=b.context.inputImageWrapper)===null||E===void 0?void 0:E.data),b.context.framegrabber.grab(),b.locateAndDecode()}var A,I}),M()(this,"_cachedStyleValues",void 0),M()(this,"_resolvedStyle",void 0)},[{key:"initBuffers",value:function(g){if(this.context.config){var b=function(E,A,I){var D=A||new Da({x:E.getWidth(),y:E.getHeight(),type:"XYSize"}),G=[c.clone([0,0]),c.clone([0,D.size.y]),c.clone([D.size.x,D.size.y]),c.clone([D.size.x,0])];return Co(D,I),{inputImageWrapper:D,boxSize:G}}(this.context.inputStream,g,this.context.config.locator),w=b.inputImageWrapper,S=b.boxSize;this.context.inputImageWrapper=w,this.context.boxSize=S}}},{key:"initializeData",value:function(g){this.context.config&&(this.initBuffers(g),this.context.decoder=js.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?k0(this.context.config.inputStream.target):null}},{key:"ready",value:function(g){this.context.inputStream.play(),g()}},{key:"initCanvas",value:function(){var g=Ed(this.context);if(g){var b=g.ctx,w=g.dom;this.context.canvasContainer.dom.image=w.image,this.context.canvasContainer.dom.overlay=w.overlay,this.context.canvasContainer.ctx.image=b.image,this.context.canvasContainer.ctx.overlay=b.overlay}}},{key:"initInputStream",value:function(g){if(this.context.config&&this.context.config.inputStream){var b=this.context.config.inputStream,w=b.type,S=b.constraints,E=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",G=arguments.length>1?arguments[1]:void 0,ie=arguments.length>2?arguments[2]:void 0;switch(D){case"VideoStream":var we=document.createElement("video");return{video:we,inputStream:ie.createVideoStream(we)};case"ImageStream":return{inputStream:ie.createImageStream()};case"LiveStream":var _e=null;return G&&((_e=G.querySelector("video"))||(_e=document.createElement("video"),G.appendChild(_e))),{video:_e,inputStream:ie.createLiveStream(_e)};default:return console.error("* setupInputStream invalid type ".concat(D)),{video:null,inputStream:null}}}(w,this.getViewPort(),Sd),A=E.video,I=E.inputStream;w==="LiveStream"&&A&&Cn.request(A,S).then(function(){return I.trigger("canrecord")}).catch(function(D){return g(D)}),I&&(I.setAttribute("preload","auto"),I.setInputStream(this.context.config.inputStream),I.addEventListener("canrecord",this.canRecord.bind(void 0,g))),this.context.inputStream=I}}},{key:"getBoundingBoxes",value:function(){var g;return(g=this.context.config)!==null&&g!==void 0&&g.locate?Ua():[[c.clone(this.context.boxSize[0]),c.clone(this.context.boxSize[1]),c.clone(this.context.boxSize[2]),c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(g){var b=this,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,S=this.context.inputStream.getTopRight(),E=S.x,A=S.y;if((E!==0||A!==0)&&(g.barcodes&&g.barcodes.forEach(function(D){return b.transformResult(D,w)}),g.line&&g.line.length===2&&S0(g.line,E,A),g.box&&!w.has(g.box)&&(_0(g.box,E,A),w.add(g.box)),g.boxes&&g.boxes.length>0))for(var I=0;I<g.boxes.length;I++)w.has(g.boxes[I])||(_0(g.boxes[I],E,A),w.add(g.boxes[I]))}},{key:"addResult",value:function(g,b){var w=this;b&&this.context.resultCollector&&(g.barcodes?g.barcodes.filter(function(S){return S.codeResult}).forEach(function(S){return w.addResult(S,b)}):g.codeResult&&this.context.resultCollector.addResult(b,this.context.inputStream.getCanvasSize(),g.codeResult))}},{key:"hasCodeResult",value:function(g){return!(!g||!(g.barcodes?g.barcodes.some(function(b){return b.codeResult}):g.codeResult))}},{key:"publishResult",value:function(){var g,b,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,S=arguments.length>1?arguments[1]:void 0,E=w;w&&this.context.onUIThread&&(this.transformResult(w),this.addResult(w,S),E=(w==null||(b=w.barcodes)===null||b===void 0?void 0:b.length)>0?w.barcodes:w),Ks.publish("processed",E),this.hasCodeResult(w)&&Ks.publish("detected",E);var A=this.context.config;A&&A.locate===!1&&(g=A.inputStream)!==null&&g!==void 0&&g.area&&this.drawScannerArea()}},{key:"locateAndDecode",value:(v=Ir()(B.a.mark(function g(){var b,w,S,E,A,I;return B.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(b=this.getBoundingBoxes())){D.next=3;break}return D.next=1,this.context.decoder.decodeFromBoundingBoxes(b);case 1:if(I=D.sent){D.next=2;break}I={};case 2:(S=I).boxes=b,this.publishResult(S,(w=this.context.inputImageWrapper)===null||w===void 0?void 0:w.data),D.next=5;break;case 3:return D.next=4,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 4:(E=D.sent)?this.publishResult(E,(A=this.context.inputImageWrapper)===null||A===void 0?void 0:A.data):this.publishResult();case 5:case"end":return D.stop()}},g,this)})),function(){return v.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var g,b=this,w=null,S=1e3/(((g=this.context.config)===null||g===void 0?void 0:g.frequency)||60);this.context.stopped=!1;var E=this.context,A=function(I){w=w||I,E.stopped||(I>=w&&(w+=S,b.update()),window.requestAnimationFrame(A))};A(performance.now())}},{key:"start",value:function(){var g,b;this.context.onUIThread&&((g=this.context.config)===null||g===void 0||(b=g.inputStream)===null||b===void 0?void 0:b.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(y=Ir()(B.a.mark(function g(){var b,w;return B.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(this.context.stopped=!0,this.context.framegrabber||(this.context.initAborted=!0),Td(0),(b=this.context.config)===null||b===void 0||!b.inputStream||this.context.config.inputStream.type!=="LiveStream"){S.next=2;break}return S.next=1,Cn.release();case 1:(w=this.context.inputStream)===null||w===void 0||w.clearEventHandlers();case 2:case"end":return S.stop()}},g,this)})),function(){return y.apply(this,arguments)})},{key:"setReaders",value:function(g){this.context.decoder&&this.context.decoder.setReaders(g),function(b){On.forEach(function(w){return w.worker.postMessage({cmd:"setReaders",readers:b})})}(g)}},{key:"registerReader",value:function(g,b){js.registerReader(g,b),this.context.decoder&&this.context.decoder.registerReader(g,b),function(w,S){On.forEach(function(E){return E.worker.postMessage({cmd:"registerReader",name:w,reader:S})})}(g,b)}},{key:"drawScannerArea",value:function(){var g,b,w,S=(g=this.context.config)===null||g===void 0||(b=g.inputStream)===null||b===void 0?void 0:b.area;if(S){var E=this.context.canvasContainer.ctx.overlay;if(E&&((w=this.context.config)===null||w===void 0?void 0:w.locate)===!1&&(S.borderColor!==void 0&&S.borderColor!==""||S.borderWidth!==void 0&&S.borderWidth>0||S.backgroundColor!==void 0&&S.backgroundColor!=="")&&this.context.boxSize){var A=this.context.inputStream.getTopRight(),I=A.x,D=A.y,G=this.context.boxSize,ie=G[0],we=G[1],_e=G[3],Fe=ie[0]+I,ke=ie[1]+D,Le=_e[0]-ie[0],Qe=we[1]-ie[1];if(!this._cachedStyleValues||this._cachedStyleValues.borderColor!==S.borderColor||this._cachedStyleValues.borderWidth!==S.borderWidth||this._cachedStyleValues.backgroundColor!==S.backgroundColor){var Xe,Ot;this._cachedStyleValues={borderColor:S.borderColor,borderWidth:S.borderWidth,backgroundColor:S.backgroundColor};var St=S.borderColor!==void 0||S.borderWidth!==void 0,ar=(Xe=S.borderColor)!==null&&Xe!==void 0?Xe:"rgba(0, 255, 0, 0.5)",dr=St?(Ot=S.borderWidth)!==null&&Ot!==void 0?Ot:2:0,lr=S.backgroundColor;this._resolvedStyle={color:ar,width:dr,bg:lr}}var vr=this._resolvedStyle;vr.bg&&(E.fillStyle=vr.bg,E.fillRect(Fe,ke,Le,Qe)),vr.width>0&&(E.strokeStyle=vr.color,E.lineWidth=vr.width,E.strokeRect(Fe,ke,Le,Qe))}}}}]);var y,v}(),ss=new Xs,Zs=ss.context,Od={init:function(y,v,g){var b,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ss;return v||(b=new Promise(function(S,E){v=function(A){A?E(A):S()}})),w.context.initAborted=!1,w.context.config=j()({},ec,y),w.context.config.numOfWorkers>0&&(w.context.config.numOfWorkers=0),g?(w.context.onUIThread=!1,w.initializeData(g),v&&v()):w.initInputStream(v),b},start:function(y,v){var g;if(y)return v||(g=new Promise(function(b,w){v=function(S){S?w(S):b()}})),this.init(y,function(b){if(b)v(b);else try{ss.start(),v()}catch(w){v(w)}}),g;if(!Zs.framegrabber)throw new Error("start() was called before init() completed. Call init() first, or call start(config) to combine init and start.");return ss.start()},stop:function(){return ss.stop()},pause:function(){Zs.stopped=!0},onDetected:function(y){y&&(typeof y=="function"||p()(y)==="object"&&y.callback)?Ks.subscribe("detected",y):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(y){Ks.unsubscribe("detected",y)},onProcessed:function(y){y&&(typeof y=="function"||p()(y)==="object"&&y.callback)?Ks.subscribe("processed",y):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(y){Ks.unsubscribe("processed",y)},setReaders:function(y){y?ss.setReaders(y):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(y,v){y?v?ss.registerReader(y,v):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(y){y&&typeof y.addResult=="function"&&(Zs.resultCollector=y)},get canvas(){return Zs.canvasContainer},drawScannerArea:function(){return ss.drawScannerArea()},decodeSingle:function(y,v){var g=this,b=new Xs;return(y=j()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:y.src},numOfWorkers:1,locator:{halfSample:!1}},y)).numOfWorkers>0&&(y.numOfWorkers=0),y.numOfWorkers>0&&(typeof Blob=="undefined"||typeof Worker=="undefined")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),y.numOfWorkers=0),new Promise(function(w,S){try{g.init(y,function(){Zs.canvasContainer=b.context.canvasContainer,Ks.once("processed",function(E){b.stop(),v&&v.call(null,E),w(E)},!0),b.start()},null,b)}catch(E){S(E)}})},get default(){return Od},Readers:f,CameraAccess:Cn,ImageDebug:Z,ImageWrapper:Da,ResultCollector:kd};s.default=Od}]).default})}(Wg)),Wg.exports}var BA=zA();const Mn=Dl(BA);function dy({onBarcodeDetected:e,onClose:r,isOpen:t}){const[s,o]=k.useState(""),[l,c]=k.useState(!1),[u,f]=k.useState(""),[m,p]=k.useState(""),[_,j]=k.useState(!1),[C,T]=k.useState(!1),[$,O]=k.useState(!1),P=k.useRef(null),q=k.useRef(""),H=k.useRef(0),M=k.useRef(!1),K=le=>{le.key==="Enter"&&s.trim()&&(le.preventDefault(),F(s.trim()))},F=k.useCallback(le=>{if(!l){f(le),c(!0);try{Mn.stop()}catch(he){}j(!1),setTimeout(()=>{e(le),o(""),c(!1),f(""),r()},800)}},[l,e,r]),oe=k.useCallback(()=>{try{Mn.stop(),Mn.offDetected(),Mn.offProcessed()}catch(le){}j(!1),M.current=!1,q.current="",H.current=0},[]),fe=k.useCallback(()=>Ne(null,null,function*(){if(!(!P.current||M.current)){p(""),q.current="",H.current=0;try{const le=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),he=le.getVideoTracks()[0];if(he){const ee=he.getCapabilities();O(!!ee.torch)}le.getTracks().forEach(ee=>ee.stop()),Mn.init({inputStream:{name:"Live",type:"LiveStream",target:P.current,constraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},aspectRatio:{ideal:1.333}},area:{top:"20%",right:"10%",left:"10%",bottom:"20%"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||4,frequency:10,decoder:{readers:["ean_reader","ean_8_reader","upc_reader","upc_e_reader","code_128_reader","code_39_reader","code_93_reader","codabar_reader","i2of5_reader"],multiple:!1},locate:!0},ee=>{var ce;if(ee){console.error("Quagga init error:",ee),(ce=ee.message)!=null&&ce.includes("Permission")||ee.name==="NotAllowedError"?p("Camera access denied. Please allow camera permission and try again."):p("Failed to start camera. Please use manual input.");return}M.current=!0,j(!0),Mn.start()}),Mn.onDetected(ee=>{var se,re,de;if(!((se=ee==null?void 0:ee.codeResult)!=null&&se.code))return;const ce=ee.codeResult.code,te=((de=(re=ee.codeResult.decodedCodes)==null?void 0:re.filter(He=>He.error!==void 0))==null?void 0:de.map(He=>He.error))||[];(te.length>0?te.reduce((He,W)=>He+W,0)/te.length:1)<.15&&(q.current===ce?(H.current++,H.current>=2&&F(ce)):(q.current=ce,H.current=1))}),Mn.onProcessed(ee=>{const ce=Mn.canvas.ctx.overlay,te=Mn.canvas.dom.overlay;!ce||!te||(ce.clearRect(0,0,te.width,te.height),ee&&(ee.boxes&&ee.boxes.filter(pe=>pe!==ee.box).forEach(pe=>{ce.strokeStyle="rgba(0, 255, 0, 0.5)",ce.lineWidth=2,Mn.ImageDebug.drawPath(pe,{x:0,y:1},ce,{color:"rgba(0, 255, 0, 0.5)",lineWidth:2})}),ee.box&&(ce.strokeStyle="#00FF00",ce.lineWidth=3,Mn.ImageDebug.drawPath(ee.box,{x:0,y:1},ce,{color:"#00FF00",lineWidth:3})),ee.line&&(ce.strokeStyle="#FF0000",ce.lineWidth=3,Mn.ImageDebug.drawPath(ee.line,{x:0,y:1},ce,{color:"#FF0000",lineWidth:3}))))})}catch(le){console.error("Camera error:",le);const he=le instanceof Error?le.message:String(le);he.includes("Permission")||he.includes("NotAllowed")?p("Camera access denied. Please allow camera permission in your browser settings."):he.includes("NotFound")||he.includes("DevicesNotFound")?p("No camera found. Please use manual input."):p("Camera not available. Please use manual input.")}}}),[F]),X=()=>Ne(null,null,function*(){try{const le=Mn.CameraAccess.getActiveTrack();le&&(yield le.applyConstraints({advanced:[{torch:!C}]}),T(!C))}catch(le){console.error("Torch toggle error:",le)}});return k.useEffect(()=>{if(t){const le=setTimeout(()=>{fe()},100);return()=>clearTimeout(le)}else oe()},[t,fe,oe]),k.useEffect(()=>()=>{oe()},[oe]),t?a.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-2 sm:p-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-lg mx-auto flex flex-col max-h-[95vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 shrink-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scan Barcode"}),a.jsxs("div",{className:"flex items-center gap-2",children:[$&&_&&a.jsx("button",{onClick:X,className:`p-2 rounded-lg transition-colors ${C?"bg-yellow-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,title:"Toggle flashlight",children:a.jsx(EC,{size:20})}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(Ra,{size:24})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l&&a.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"text-green-600 dark:text-green-400 mr-2 shrink-0",size:20}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-green-800 dark:text-green-200 font-medium block truncate",children:u}),a.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm",children:"Adding to cart..."})]})]})}),m&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Fi,{className:"text-red-600 dark:text-red-400 mr-2 shrink-0 mt-0.5",size:20}),a.jsx("span",{className:"text-red-800 dark:text-red-200 text-sm",children:m})]})}),a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[a.jsx("div",{ref:P,className:"w-full h-full",style:{position:"relative",minHeight:"240px"}}),_&&!l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[20%] left-[10%] w-8 h-8 border-t-3 border-l-3 border-green-400",style:{borderWidth:"3px 0 0 3px"}}),a.jsx("div",{className:"absolute top-[20%] right-[10%] w-8 h-8 border-t-3 border-r-3 border-green-400",style:{borderWidth:"3px 3px 0 0"}}),a.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-8 h-8 border-b-3 border-l-3 border-green-400",style:{borderWidth:"0 0 3px 3px"}}),a.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-8 h-8 border-b-3 border-r-3 border-green-400",style:{borderWidth:"0 3px 3px 0"}})]}),a.jsx("div",{className:"absolute left-[10%] right-[10%] top-[20%] bottom-[20%] pointer-events-none overflow-hidden",children:a.jsx("div",{className:"w-full h-0.5 bg-red-500 animate-scan-line"})}),a.jsxs("div",{className:"absolute top-3 left-3 bg-black/70 text-white px-3 py-1.5 rounded-full text-sm flex items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Scanning..."]})]}),!_&&!l&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx(Ly,{size:48,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Camera initializing..."})]})})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:_?"Position barcode within the frame":"Use manual input below"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Manual Entry"}),a.jsx("input",{type:"text",value:s,onChange:le=>o(le.target.value),onKeyPress:K,placeholder:"Type barcode and press Enter...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base",autoComplete:"off",inputMode:"numeric"})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:"Supports: EAN-13, UPC-A, Code128, Code39"}),a.jsx("span",{className:_?"text-green-500":"text-gray-400",children:_?" Active":" Inactive"})]})})]}),a.jsx("style",{children:`
        @keyframes scan-line {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(calc(100% - 2px)); }
        }
        .animate-scan-line {
          animation: scan-line 2s ease-in-out infinite;
        }
        
        /* Ensure Quagga video fills container */
        .drawingBuffer {
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
          width: 100% !important;
          height: 100% !important;
        }
        
        video {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
        }
        
        canvas.drawingBuffer {
          width: 100% !important;
          height: 100% !important;
        }
      `})]}):null}function qA(e){const[r,t]=k.useState(!1),[s,o]=k.useState(null),{products:l}=hh();return{scanBarcode:f=>Ne(null,null,function*(){if(!f.trim())return o("Please enter a valid barcode"),{success:!1,code:f,message:"Please enter a valid barcode",reason:"error"};t(!0),o(null);try{const m=l.find(p=>p.id===f||p.barcode===f||p.name.toLowerCase().includes(f.toLowerCase()));if(m)return m.available<=0?(o("Item out of stock"),{success:!1,code:f,message:`"${m.name}" is out of stock`,item:m,reason:"no_stock"}):(e(m),{success:!0,code:f,message:`Added "${m.name}" to cart`,item:m,reason:"found"});try{const _=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(f)}`)).json();if(_.message&&_.message.item_code){const j={id:_.message.item_code,name:_.message.item_name||_.message.item_code,category:_.message.item_group||"General",price:_.message.price||0,available:_.message.available||0,image:_.message.image,sold:0};return j.available<=0?(o("Item out of stock"),{success:!1,code:f,message:`"${j.name}" is out of stock`,item:j,reason:"no_stock"}):(e(j),{success:!0,code:f,message:`Added "${j.name}" to cart`,item:j,reason:"found"})}else return o("Product not found"),{success:!1,code:f,message:`No item found for barcode "${f}"`,reason:"not_found"}}catch(p){return console.error("API error:",p),o("Product not found"),{success:!1,code:f,message:`No item found for barcode "${f}"`,reason:"not_found"}}}catch(m){return console.error("Barcode scanning error:",m),o("Error processing barcode"),{success:!1,code:f,message:"Error processing barcode",reason:"error"}}finally{t(!1)}}),isScanning:r,error:s,clearError:()=>o(null)}}function iN({onBarcodeScanned:e,enabled:r=!0,minLength:t=4,maxTimeBetweenChars:s=50,endKey:o="Enter"}){const l=k.useRef(""),c=k.useRef(0),u=k.useRef(!1),f=k.useRef(null),m=k.useCallback(()=>{l.current="",u.current=!1,f.current&&(clearTimeout(f.current),f.current=null)},[]),p=k.useCallback(_=>{if(!r)return;const j=Date.now(),C=j-c.current;c.current=j;const T=_.target,$=T.tagName==="INPUT"||T.tagName==="TEXTAREA"||T.isContentEditable;if(_.key===o){const P=l.current.trim();if(P.length>=t&&u.current){_.preventDefault(),_.stopPropagation(),$&&P.length>=8&&(T.value=""),e(P),m();return}m();return}if(_.ctrlKey||_.altKey||_.metaKey||_.key.length>1){_.key!=="Shift"&&m();return}const O=C<s;u.current?O?l.current+=_.key:l.current=_.key:(l.current=_.key,u.current=!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m()},200),u.current&&$&&l.current.length>=4&&/^[A-Za-z0-9-]+$/.test(l.current)&&l.current.length>=8&&_.preventDefault()},[r,t,s,o,e,m]);return k.useEffect(()=>{if(r)return window.addEventListener("keydown",p,!0),()=>{window.removeEventListener("keydown",p,!0),f.current&&clearTimeout(f.current)}},[r,p]),{resetBuffer:m}}function id(e){const[r,t]=k.useState(!1);return k.useEffect(()=>{const s=window.matchMedia(e);s.matches!==r&&t(s.matches);const o=()=>t(s.matches);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[r,e]),r}function HA(){const e=da(),[r,t]=k.useState("all"),[s,o]=k.useState(""),[l,c]=k.useState([]),[u,f]=k.useState(!1),[m,p]=k.useState(null),[_,j]=k.useState(null),C=k.useRef(null),{cartItems:T,addToCart:$,updateQuantity:O,removeItem:P,clearCart:q}=Ul(),{products:H,isLoading:M,isLoadingMore:K,isSearching:F,error:oe,refetch:fe,loadMoreProducts:X,searchProducts:le,hasMore:he,totalCount:ee,searchQuery:ce}=hh(),{posDetails:te}=Za(),pe=(te==null?void 0:te.custom_use_scanner_fully)||!1,se=(te==null?void 0:te.hide_unavailable_items)||!1,re=(te==null?void 0:te.custom_scale_barcodes_start_with)||"",de=id("(max-width: 1024px)"),He=be=>{if(!(be.available<=0)){if(pe){console.log("Scanner-only mode enabled. Items can only be added via barcode scanning.");return}ae(be)}},W=k.useCallback(be=>{if(!re||!be.startsWith(re))return{isScale:!1};if(!/^\d{12,13}$/.test(be))return{isScale:!1};const Ze=be.substring(0,7),At=be.length>=13,ye=be.substring(0,12);At&&be.substring(12,13);const We=ye.substring(7,12);if(!/^\d{5}$/.test(We))return{isScale:!1};At&&(ne=>{let ze=0;for(let ut=0;ut<12;ut++){const tt=parseInt(ne.charAt(ut),10);ze+=ut%2===0?tt:tt*3}const rt=ze%10;return rt===0?"0":String(10-rt)})(ye);const ur=parseInt(We,10)/1e3;return Number.isNaN(ur)||ur<=0?{isScale:!1}:{isScale:!0,baseBarcode:Ze,quantity:ur}},[re]),z=k.useCallback((be,Ze)=>Ne(null,null,function*(){const At=T.find(ye=>ye.id===be.id);At?O(be.id,At.quantity+Ze):(yield $({id:be.id,name:be.name,category:be.category,price:be.price,image:be.image,available:be.available,uom:be.uom,item_code:be.id}),O(be.id,Ze))}),[T,O,$]),ae=be=>{const Ze=T.find(At=>At.id===be.id);Ze?O(be.id,Ze.quantity+1):$({id:be.id,name:be.name,category:be.category,price:be.price,image:be.image,available:be.available,uom:be.uom,item_code:be.id})},ge=(be,Ze)=>{Ze<=0?P(be):O(be,Ze)},ue=be=>{P(be)},U=()=>{q()},Q=be=>{l.some(Ze=>Ze.code===be.code)||c([...l,be])},Ae=be=>{c(l.filter(Ze=>Ze.code!==be))},{scanBarcode:Ke}=qA(ae),ct=k.useCallback(be=>Ne(null,null,function*(){Ie.info(`Scanned: ${be}`,{autoClose:1500,toastId:"scan-info"});const Ze=yield Ke(be);if(Ze.success)Ie.success(Ze.message,{autoClose:2e3,toastId:"scan-success"}),f(!1);else switch(Ze.reason){case"no_stock":Ie.warning(Ze.message,{autoClose:3e3,toastId:"scan-no-stock"});break;case"not_found":Ie.error(a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{children:Ze.message}),a.jsxs("button",{onClick:()=>{Ie.dismiss("scan-not-found"),f(!1),e(`/items?barcode=${encodeURIComponent(be)}`)},className:"flex items-center justify-center gap-1 px-3 py-1.5 bg-beveren-600 text-white text-sm rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(qo,{size:14}),"Create New Item"]})]}),{autoClose:8e3,toastId:"scan-not-found",closeOnClick:!1});break;default:Ie.error(Ze.message||"Scan failed",{autoClose:3e3,toastId:"scan-error"})}}),[Ke,e]);iN({onBarcodeScanned:k.useCallback(be=>{console.log("USB Scanner detected barcode:",be),(s.includes(be)||be.includes(s))&&o(""),ct(be)},[s,ct]),enabled:!0,minLength:4,maxTimeBetweenChars:50});const dt=be=>{if(o(be),pe&&be.length>=8&&/^[0-9]+$/.test(be)&&console.log("Potential barcode input detected:",be),!!re&&be&&/^[0-9]+$/.test(be)&&be.startsWith(re)&&be.length>=7){const ye=be.substring(0,7),We=H.find(ft=>ft.id===ye||ft.barcode&&ft.barcode===ye);p(We?We.id:null)}else m&&p(null);j(null),C.current&&clearTimeout(C.current);const At=be.trim();At.length>=1?C.current=setTimeout(()=>{le(At)},300):At||le("")},kt=be=>Ne(null,null,function*(){var Ze;if(be.key==="Enter"&&s.trim()){if(be.preventDefault(),/^[0-9]+$/.test(s)&&re&&s.startsWith(re)){const At=s.trim();if(At.length!==13){Ie.error("Scale barcode must be 13 digits including check digit");return}const ye=At.substring(0,12),We=At.substring(12,13);if((ne=>{let ze=0;for(let ut=0;ut<12;ut++){const tt=parseInt(ne.charAt(ut),10);ze+=ut%2===0?tt:tt*3}const rt=ze%10;return rt===0?"0":String(10-rt)})(ye)!==We){Ie.error("Invalid scale barcode check digit");return}const Zt=W(At);if(Zt.isScale){const ne=Zt.baseBarcode,ze=Zt.quantity,rt=H.find(ut=>ut.id===ne||ut.barcode&&ut.barcode===ne);if(rt){yield z(rt,ze),o(""),p(null);return}try{const tt=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(ne)}`)).json();if((Ze=tt==null?void 0:tt.message)!=null&&Ze.item_code){const jt={id:tt.message.item_code,name:tt.message.item_name||tt.message.item_code,category:tt.message.item_group||"General",price:tt.message.price||0,available:tt.message.available||0,image:tt.message.image,sold:0,uom:tt.message.stock_uom};yield z(jt,ze)}}catch(ut){}o(""),p(null);return}}if(pe&&/^[0-9]+$/.test(s)){console.log("Processing as barcode:",s),ct(s.trim()),o(""),p(null);return}console.log("Processing as product search:",s),le(s.trim()),Ne(null,null,function*(){var At;try{const We=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(s.trim())}`)).json();if(console.log("Batch/Serial lookup result:",We),(At=We==null?void 0:We.message)!=null&&At.item_code){const ft={id:We.message.item_code,name:We.message.item_name||We.message.item_code,category:We.message.item_group||"General",price:We.message.price||0,available:We.message.available||0,image:We.message.image,sold:0};z(ft,1);const ur=We.message.matched_type,Zt=We.message.matched_value;ur==="batch"?window.dispatchEvent(new CustomEvent("cart:setBatchForItem",{detail:{itemCode:ft.id,batchId:Zt}})):ur==="serial"&&window.dispatchEvent(new CustomEvent("cart:setSerialForItem",{detail:{itemCode:ft.id,serialNo:Zt}})),o(""),p(null)}}catch(ye){}})}});k.useEffect(()=>{if(!pe)return;const be=setTimeout(()=>{if(s.length>=8&&/^[0-9]+$/.test(s)){const Ze=W(s.trim());if(Ze.isScale){const At=Ze.baseBarcode,ye=Ze.quantity,We=H.find(ft=>ft.id===At||ft.barcode&&ft.barcode===At);if(We){z(We,ye),o(""),p(null);return}}console.log("Auto-processing potential barcode:",s),ct(s.trim()),o(""),p(null)}},500);return()=>clearTimeout(be)},[s,ct,pe,H,W,z]),k.useEffect(()=>{if(!s||!!re&&/^[0-9]+$/.test(s)&&s.startsWith(re)&&s.length>=7)return;let Ze=!1;const At=setTimeout(()=>Ne(null,null,function*(){var ye;try{const ft=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(s.trim())}`)).json();!Ze&&((ye=ft==null?void 0:ft.message)!=null&&ye.item_code)&&j(ft.message.item_code)}catch(We){Ze||j(null)}}),250);return()=>{Ze=!0,clearTimeout(At)}},[s,re]),k.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]);const ht=H.filter(be=>{var ur;if(se&&be.available<=0)return!1;if(ce)return!0;const Ze=r==="all"||be.category===r,At=!!re&&s&&/^[0-9]+$/.test(s)&&s.startsWith(re)&&s.length>=7,ye=m&&At||At?s.substring(0,7):"",We=ye===""||be.name.toLowerCase().includes(ye.toLowerCase())||be.category.toLowerCase().includes(ye.toLowerCase())||be.id.toLowerCase().includes(ye.toLowerCase())||((ur=be.description)==null?void 0:ur.toLowerCase().includes(ye.toLowerCase()))||be.barcode&&be.barcode.toLowerCase().includes(ye.toLowerCase()),ft=Ze&&We;return m&&At?ft||be.id===m:_?ft||be.id===_:ft});if(M)return a.jsx(FA,{message:"Loading products..."});const zt=pe&&!de&&a.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-600/90 text-white px-3 py-1.5 rounded-lg shadow-lg backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),a.jsx("span",{className:"text-sm font-medium",children:"Scanner Only"})]})});if(oe&&ht.length===0){const be=Ze=>Ze.includes("HTTP 403")||Ze.includes("403")?"Access denied. Please check your permissions or contact your administrator.":Ze.includes("HTTP 401")||Ze.includes("401")?"Authentication required. Please log in again.":Ze.includes("HTTP 404")||Ze.includes("404")?"Product service not available. Please contact your administrator.":Ze.includes("HTTP 500")||Ze.includes("500")?"Server error. Please try again later.":Ze.includes("Network error")||Ze.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":Ze.includes("Authentication required")?"Please log in to access products.":Ze;return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Failed to Load Products"}),a.jsx("p",{className:"text-gray-600 mb-4",children:be(oe)}),a.jsx("button",{onClick:fe,className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:"Try Again"})]})})}return de?a.jsxs(a.Fragment,{children:[a.jsx(UA,{items:ht,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:dt,onScanBarcode:()=>f(!0),scannerOnly:pe,hasMore:he&&!ce,isLoadingMore:K,onLoadMore:X,totalCount:ee,isSearching:F}),a.jsx(dy,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:ct})]}):a.jsxs(a.Fragment,{children:[zt,a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 pb-8",children:[a.jsx("div",{className:"flex-1 overflow-hidden ml-20",children:a.jsx(R8,{items:ht,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:dt,onSearchKeyPress:kt,onAddToCart:He,onScanBarcode:()=>f(!0),scannerOnly:pe,hasMore:he&&!ce,isLoadingMore:K,onLoadMore:X,totalCount:ee,isSearching:F})}),a.jsx("div",{className:"w-[35%] min-w-[420px] max-w-[600px] bg-white shadow-lg overflow-y-auto",children:a.jsx(oN,{cartItems:T,onUpdateQuantity:ge,onRemoveItem:ue,onClearCart:U,appliedCoupons:l,onApplyCoupon:Q,onRemoveCoupon:Ae})})]}),a.jsx(dy,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:ct})]})}function GA(){const[e,r]=k.useState(!1),[t,s]=k.useState(null),[o,l]=k.useState(!1);return{createOpeningEntry:(u,f)=>Ne(null,null,function*(){r(!0),s(null),l(!1);const m=window.csrf_token;try{const p={opening_balance:u};f&&(p.pos_profile=f);const _=yield fetch("/api/method/klik_pos.api.pos_entry.create_opening_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":m},body:JSON.stringify(p),credentials:"include"}),j=yield _.json();if(_.ok&&j.message)l(!0);else throw new Error(j._server_messages||"Failed to create opening entry")}catch(p){console.error("Error creating POS Opening Entry:",p),s(p.message||"Unexpected error occurred")}finally{r(!1)}}),isCreating:e,error:t,success:o}}const lN=({isOpen:e,onClose:r})=>{const[t,s]=k.useState("form"),[o,l]=k.useState(""),[c,u]=k.useState([]),[f,m]=k.useState(""),{createOpeningEntry:p,isCreating:_,error:j,success:C}=GA(),{profiles:T,loading:$}=H5(),{posDetails:O}=Za(),P=O==null?void 0:O.name,q=o||P||"",{modes:H,isLoading:M,error:K}=t0(q),F=ee=>{switch(ee.toLowerCase()){case"cash":return a.jsx(Iy,{className:"w-5 h-5 text-green-600"});case"bank":return a.jsx(Dn,{className:"w-5 h-5 text-blue-600"});default:return a.jsx(T9,{className:"w-5 h-5 text-gray-600"})}};k.useEffect(()=>{if(T&&T.length>0&&!o){let ee=null;P&&(ee=T.find(ce=>ce.name===P)||null),ee||(ee=T.find(te=>te.is_default)||T[0]||null),ee!=null&&ee.name&&l(ee.name)}},[T,o,P]);const oe=ee=>{l(ee)};k.useEffect(()=>{if(o&&M&&u([]),H&&H.length>0&&!M){const ce=[...H].sort((te,pe)=>te.default===1&&pe.default!==1?-1:te.default!==1&&pe.default===1?1:0).map(te=>({mode_of_payment:te.mode_of_payment,opening_amount:0,type:te.type||"General",account:te.default_account||te.account}));u(ce)}},[H,M,o]),k.useEffect(()=>{K&&m(K)},[K]);const fe=(ee,ce)=>{ee<0||ee>=c.length||u(te=>{const pe=[...te];return pe[ee]&&(pe[ee]=je(Y({},pe[ee]),{opening_amount:ce})),pe})},X=()=>Ne(null,null,function*(){try{s("creating"),m("");const ee=c.map(ce=>({mode_of_payment:ce.mode_of_payment,opening_amount:ce.opening_amount||0}));console.log("Opening balance data:",ee,"Selected profile:",o),yield p(ee,o||void 0),By(),console.log(" Cache cleared after creating new opening entry");try{yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}),console.log(" Backend cache cleared after creating new opening entry")}catch(ce){console.warn(" Failed to clear backend cache after opening entry:",ce)}}catch(ee){console.error("Error creating opening entry:",ee),m(ee.message||"Failed to create opening entry"),s("form")}}),le=c.reduce((ee,ce)=>ee+(ce.opening_amount||0),0);if(k.useEffect(()=>{C&&t==="creating"&&(s("success"),setTimeout(()=>{window.location.reload()},1500))},[C,t]),k.useEffect(()=>{j&&t==="creating"&&(m(j),s("form"))},[j,t]),k.useEffect(()=>{e&&(s("form"),m(""),l(""),u([]))},[e]),!e)return null;const he=o&&M;return a.jsx("div",{className:"fixed inset-0 bg-beveren-300 bg-opacity-10 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full max-h-[90vh] overflow-hidden",children:["        ",a.jsxs("div",{className:"bg-beveren-600 text-white px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"POS Opening Entry"}),a.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors",disabled:_,children:a.jsx(Ra,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 relative",children:[t==="form"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"POS Profile"}),a.jsxs("select",{value:o,onChange:ee=>oe(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!!$||!!he,children:[(!T||T.length===0)&&a.jsx("option",{value:"",children:$?"Loading profiles...":"No profiles available"}),T&&Array.isArray(T)&&T.map((ee,ce)=>{const te=ee.name,pe=ee.is_default?`${te} (Default)`:te;return a.jsx("option",{value:te,children:pe},te||ce)})]})]}),he&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment methods..."})]}),!he&&c.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Opening Balances"}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:c.map((ee,ce)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[F(ee.type),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900",children:ee.mode_of_payment}),a.jsx("div",{className:"text-xs text-gray-500",children:ee.type})]}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.opening_amount||"",onChange:te=>fe(ce,parseFloat(te.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00",disabled:$})]},ee.mode_of_payment))}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[a.jsx("span",{children:"Total Opening Balance:"}),a.jsx("span",{className:"text-green-600",children:_t(le,(O==null?void 0:O.currency)||"USD")})]})})]}),f&&a.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:[a.jsx(Fi,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("div",{children:f})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:!!$||!!_||!!he,children:"Cancel"}),a.jsx("button",{onClick:X,disabled:!!$||!!_||!!he||!o||c.length===0,className:"flex-1 px-4 py-2 bg-beveren-700 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:$?"Loading...":_?"Creating...":he?"Loading...":"Start POS Session"})]})]}),t==="creating"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Opening Entry"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we set up your POS session..."})]}),t==="success"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(yC,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"POS Session Started!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Opening entry created successfully. Redirecting to POS..."}),a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]}),$&&t==="form"&&!he&&a.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})]})})};function VA(){const{isRTL:e}=Ll(),[r,t]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState(null),[u,f]=k.useState(!0),[m,p]=k.useState(null),[_,j]=k.useState(!1),{hasOpenEntry:C,isLoading:T,error:$,refetch:O}=k3();k.useEffect(()=>{Ne(null,null,function*(){try{f(!0),p(null),fs.initializeSession();const M=yield fs.getCurrentUserProfile();if(M)c({name:M.name,email:M.email||M.name,full_name:M.full_name||M.first_name+" "+(M.last_name||""),role:M.role_profile_name||"User",user_image:M.user_image});else{const K=yield fs.getCurrentUser();K?c({name:K,email:K,full_name:K,role:"User"}):p("No user session found")}}catch(M){console.error("Error fetching current user:",M),p(M.message||"Failed to fetch user")}finally{f(!1)}})},[]),k.useEffect(()=>{s&&!_&&setTimeout(()=>Ne(null,null,function*(){_8()&&(console.log("Loading cached draft invoice items to cart"),yield k8()),j(!0)}),1e3)},[s,_]),k.useEffect(()=>{!T&&!$?C===!0?(o(!0),t(!1)):C===!1&&(o(!1),t(!1)):$&&(console.error("Error checking POS opening status:",$),o(!1),t(!1))},[C,T,$]);const P=()=>{t(!1),o(!0),j(!1),O()},q=()=>{t(!1)};return T||u?a.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),a.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):m?a.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:m})]})}):a.jsxs("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} pb-12`,children:[s&&a.jsx(HA,{}),!s&&!r&&a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"POS Not Ready"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please start a POS session to continue."}),a.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Start POS Session"})]})}),a.jsx(lN,{isOpen:r,onClose:q,onSuccess:P,currentUser:(l==null?void 0:l.name)||"Unknown User"})]})}function ex(e="",r=!1,t){const[s,o]=k.useState([]),[l,c]=k.useState(!0),[u,f]=k.useState(!1),[m,p]=k.useState(null),[_,j]=k.useState(!0),[C,T]=k.useState(0),[$,O]=k.useState(0),[P,q]=k.useState(0),H=100,[M,K]=k.useState(e);k.useEffect(()=>{const X=setTimeout(()=>{K(e)},300);return()=>clearTimeout(X)},[e]);const F=k.useCallback((X=0,le=!1)=>Ne(null,null,function*(){var he;le?f(!0):c(!0);try{const ee=X*H,ce=M?`&search=${encodeURIComponent(M)}`:"",te=r?"&skip_opening_entry_filter=true":"",pe=t&&t!=="all"?`&cashier_name=${encodeURIComponent(t)}`:"",se=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${H}&start=${ee}${ce}${te}${pe}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!se.ok)throw new Error(`HTTP ${se.status}: ${se.statusText}`);const re=yield se.json();if(!re.message||!re.message.success)throw new Error(((he=re.message)==null?void 0:he.error)||re.error||"Failed to fetch invoices");const de=re.message.data,He=de.length,W=re.message.total_count||0;j(He===H),q(W);const z=de.map(ae=>{const ge=ae.status,ue=Array.isArray(ae.items)?ae.items:[];let U=!0;return ge==="Credit Note Issued"?U=ue.filter(Ae=>(Ae.available_qty||0)>0).length>0:U=!0,{id:ae.name,date:ae.posting_date||new Date().toISOString().split("T")[0],time:ae.posting_time||"00:00:00",cashier:ae.cashier_name,cashierId:ae.owner||"",customer:ae.customer_name||"",customerId:ae.customer||"",items:ue,subtotal:(Number(ae.base_grand_total)||0)-(Number(ae.total_taxes_and_charges)||0)+(Number(ae.discount_amount)||0),giftCardDiscount:Number(ae.discount_amount)||0,giftCardCode:String(ae.discount_code)||"",taxAmount:Number(ae.total_taxes_and_charges)||0,totalAmount:Number(ae.base_grand_total)||0,paymentMethod:ae.mode_of_payment||"-",payment_methods:ae.payment_methods||[],amountPaid:Number(ae.base_rounded_total)||0,changeGiven:Number(ae.change_amount)||0,status:ge||"Completed",refundAmount:ge==="Refunded"&&Number(ae.base_grand_total)||0,custom_zatca_submit_status:ae.custom_zatca_submit_status||"Draft",currency:ae.currency||"USD",notes:ae.remarks||"",posProfile:ae.pos_profile||"",custom_pos_opening_entry:ae.custom_pos_opening_entry||"",canReturn:U}});le?(o(ae=>[...ae,...z]),O(ae=>ae+He)):(o(z),O(He)),T(X),p(null)}catch(ee){p(ee.message||"Unknown error occurred")}finally{c(!1),f(!1)}}),[M,r,t]),oe=k.useCallback(()=>{!u&&_&&F(C+1,!0)},[C,u,_,F]),fe=k.useCallback(()=>{T(0),O(0),j(!0),F(0,!1)},[F]);return k.useEffect(()=>{T(0),O(0),j(!0),F(0,!1)},[M,F]),k.useEffect(()=>{if(!l&&!u&&P>0&&P<=1e3&&_){const X=Math.ceil((P-$)/H);X>0&&X<=10&&Ne(null,null,function*(){for(let he=C+1;he<=C+X&&_;he++)yield F(he,!0)})}},[P,$,_,l,u,C,F]),{invoices:s,isLoading:l,isLoadingMore:u,error:m,hasMore:_,totalLoaded:$,totalCount:P,loadMore:oe,refetch:fe}}function cN(){const[e,r]=k.useState(null),[t,s]=k.useState(!0),[o,l]=k.useState(null),c=()=>Ne(null,null,function*(){var u,f;s(!0);try{const m=yield fetch("/api/method/klik_pos.api.user.get_current_user_info",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),p=yield m.json();if(m.ok&&((u=p.message)!=null&&u.success))r(p.message.data),l(null);else throw new Error(((f=p.message)==null?void 0:f.error)||"Failed to fetch user info")}catch(m){console.error("Error loading user info:",m),l(m.message||"Unknown error")}finally{s(!1)}});return k.useEffect(()=>{c()},[]),{userInfo:e,isLoading:t,error:o,refetch:c}}function KA(){var He,W;const e=da(),r=id("(max-width: 1024px)"),{posDetails:t}=Za(),{invoices:s,isLoading:o}=ex(),{userInfo:l,isLoading:c}=cN(),[u,f]=k.useState(""),{modes:m}=Hy(),p=(l==null?void 0:l.is_admin_user)||!1,_=(l==null?void 0:l.full_name)||"Unknown",[j,C]=k.useState("all"),[T,$]=k.useState("all"),[O,P]=k.useState(!1),[q,H]=k.useState("bar"),M={giftCardUsage:{totalRedeemed:0,totalTransactions:0,averageDiscount:0},salesByDay:[{day:"Mon",sales:0},{day:"Tue",sales:0},{day:"Wed",sales:0},{day:"Thu",sales:0},{day:"Fri",sales:0},{day:"Sat",sales:0},{day:"Sun",sales:0}]},K=[...new Set(s.map(z=>z.cashier))];if(k.useEffect(()=>{l&&!p&&C(_)},[l,p,_]),c||o)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading dashboard..."})]})});const F=s.filter(z=>{const ae=j==="all"||z.cashier===j,ge=T==="all"||z.paymentMethod===T,ue=new Date().toISOString().split("T")[0],U=u===""&&!0||u==="today"&&z.date===ue||u==="week"&&new Date(z.date)>=new Date(Date.now()-7*24*60*60*1e3)||u==="month"&&new Date(z.date)>=new Date(Date.now()-30*24*60*60*1e3),Q=u!==""||!(t!=null&&t.current_opening_entry)?!0:z.custom_pos_opening_entry===t.current_opening_entry,Ae=p||!(t!=null&&t.name)||z.posProfile===t.name;return ae&&ge&&U&&Q&&Ae}),oe=(()=>{const z=F.reduce((U,Q)=>U+Q.totalAmount,0),ae=F.length,ge=ae>0?z/ae:0,ue=F.reduce((U,Q)=>U+Q.items.length,0);return{totalRevenue:z,totalTransactions:ae,averageOrderValue:ge,totalItems:ue}})(),X=(()=>{if(u!=="today")return[];const z=new Date().toISOString().split("T")[0],ae=F.filter(ue=>ue.date===z),ge={};for(let ue=9;ue<=20;ue++){const U=`${ue.toString().padStart(2,"0")}:00`;ge[U]=0}return ae.forEach(ue=>{const U=ue.time.split(":");if(U.length>=2){const Q=`${U[0].padStart(2,"0")}:00`;Object.prototype.hasOwnProperty.call(ge,Q)&&(ge[Q]+=ue.totalAmount)}}),Object.entries(ge).map(([ue,U])=>({hour:ue,sales:U}))})(),he=(()=>{const z={};(m||[]).forEach(ue=>{const U=ue.name||ue.mode_of_payment;z[U]={amount:0,transactions:0}}),F.forEach(ue=>{if(ue.payment_methods&&Array.isArray(ue.payment_methods))ue.payment_methods.forEach(U=>{const Q=U.mode_of_payment;z[Q]||(z[Q]={amount:0,transactions:0}),z[Q].amount+=U.amount,ue.payment_methods.indexOf(U)===0&&(z[Q].transactions+=1)});else{const U=ue.paymentMethod||"Cash";z[U]||(z[U]={amount:0,transactions:0}),z[U].amount+=ue.totalAmount,z[U].transactions+=1}});const ge=Object.values(z).reduce((ue,U)=>ue+U.amount,0);return Object.entries(z).map(([ue,U])=>({method:ue,amount:U.amount,percentage:ge>0?U.amount/ge*100:0,transactions:U.transactions}))})(),ce=(()=>{const z={};F.forEach(U=>{const Q=U.custom_zatca_submit_status||"Draft";z[Q]=(z[Q]||0)+1});const ae=Object.values(z).reduce((U,Q)=>U+Q,0),ge={pending:"#f59e0b",reported:"#3b82f6","not reported":"#9ca3af",cleared:"#16a34a","not cleared":"#ef4444",draft:"#6b7280"},ue=Object.entries(z).map(([U,Q])=>{const Ae=U.toLowerCase(),Ke=ge[Ae]||"#9ca3af";return{status:U,count:Q,percentage:ae>0?Q/ae*100:0,color:Ke}});return{total:ae,segments:ue.sort((U,Q)=>Q.count-U.count)}})(),pe=(()=>{const z={};return F.forEach(ge=>{const ue=ge.cashier||"Unknown";z[ue]||(z[ue]={name:ue,sales:0,transactions:0}),z[ue].sales+=ge.totalAmount,z[ue].transactions+=1}),Object.values(z).sort((ge,ue)=>ue.sales-ge.sales)[0]||null})(),re=(()=>{const z={};return F.forEach(ae=>{ae.items.forEach(ge=>{const ue=ge.item_code||ge.item_name||"Unknown";z[ue]||(z[ue]={name:ge.item_name||ge.item_code||"Unknown",sales:0,revenue:0}),z[ue].sales+=ge.qty||0,z[ue].revenue+=(ge.rate||0)*(ge.qty||0)})}),Object.entries(z).map(([ae,ge])=>Y({id:ae},ge)).sort((ae,ge)=>ge.revenue-ae.revenue).slice(0,5)})(),de=F.sort((z,ae)=>new Date(ae.date+" "+ae.time).getTime()-new Date(z.date+" "+z.time).getTime()).slice(0,5);return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:()=>P(!O),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(Pp,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Filters"})]})})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[O&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),a.jsxs("select",{value:u,onChange:z=>f(z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Current POS Session"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),a.jsxs("select",{value:j,onChange:z=>C(z.target.value),disabled:!p,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${p?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),K.map(z=>a.jsx("option",{value:z,children:z},z))]}),!p&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),a.jsxs("select",{value:T,onChange:z=>$(z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Methods"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{f("today"),C("all"),$("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_t(oe.totalRevenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(oo,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(zi,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:oe.totalTransactions}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(oo,{className:"w-4 h-4 text-blue-500 mr-1"}),a.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"+8.2%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(ku,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_t(oe.averageOrderValue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(oo,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Mc,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:oe.totalItems}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Up,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(X1,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[u==="today"&&X.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>H("bar"),className:`px-2 py-1 text-xs rounded transition-colors ${q==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Bar"}),a.jsx("button",{onClick:()=>H("line"),className:`px-2 py-1 text-xs rounded transition-colors ${q==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Line"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zc,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Peak: ",((He=X.reduce((z,ae)=>ae.sales>z.sales?ae:z,X[0]))==null?void 0:He.hour)||"N/A"]})]})]})]}),a.jsx("div",{className:"h-48 flex items-end justify-between space-x-1",children:X.map((z,ae)=>{const ge=Math.max(...X.map(U=>U.sales)),ue=ge>0?z.sales/ge*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[q==="bar"?a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${ue}px`,minHeight:"4px"},title:`${z.hour}: ${_t(z.sales,(t==null?void 0:t.currency)||"USD")}`}):a.jsx("div",{className:"relative w-full h-full",children:a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[ae>0&&a.jsx("line",{x1:"0",y1:`${100-X[ae-1].sales/ge*100}`,x2:"100",y2:`${100-z.sales/ge*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),a.jsx("circle",{cx:"100",cy:`${100-z.sales/ge*100}`,r:"2",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_t(z.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:z.hour})]},ae)})}),a.jsx("div",{className:"mt-3 text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:_t(X.reduce((z,ae)=>z+ae.sales,0),(t==null?void 0:t.currency)||"USD")})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),a.jsx(J1,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[he.map((z,ae)=>{const ge=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],ue=ge[ae%ge.length];return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-4 h-4 ${ue} rounded`}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:z.method})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(z.amount,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[z.percentage.toFixed(1),"%  ",z.transactions," txns"]})]})]},z.method)}),he.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:he.map((z,ae)=>{const ge=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],ue=ge[ae%ge.length];return a.jsx("div",{className:ue,style:{width:`${z.percentage}%`}},z.method)})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(t==null?void 0:t.is_zatca_enabled)&&ce.total>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),a.jsx(Mc,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-48 flex items-end justify-between space-x-2 mb-4",children:ce.segments.map(z=>{const ae=Math.max(...ce.segments.map(ue=>ue.count)),ge=ae>0?z.count/ae*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${ge}px`,minHeight:"4px",backgroundColor:z.color},title:`${z.status}: ${z.count} (${Math.round(z.percentage)}%)`}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:z.count})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center leading-tight",children:z.status})]},z.status)})}),a.jsx("div",{className:"space-y-2",children:ce.segments.map(z=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:z.color}}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:z.status})]}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[z.count," (",Math.round(z.percentage),"%)"]})]},z.status))}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:ce.total})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gift Card Usage"}),a.jsx(Z3,{className:"w-5 h-5 text-orange-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Redeemed"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:_t(M.giftCardUsage.totalRedeemed,(t==null?void 0:t.currency)||"USD")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:M.giftCardUsage.totalTransactions})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Discount"}),a.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:_t(M.giftCardUsage.averageDiscount,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(M.giftCardUsage.totalTransactions/(oe.totalTransactions||1)*100).toFixed(1),"% of all transactions"]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),a.jsx(Li,{className:"w-5 h-5 text-beveren-600"})]}),pe?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[a.jsx("span",{className:"text-white font-bold text-xl",children:pe.name.split(" ").map(z=>z[0]).join("")}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:""})})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:pe.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[pe.transactions," transactions"]}),a.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:_t(pe.sales,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[oe.totalRevenue>0?(pe.sales/oe.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Weekly Trend"}),a.jsx(yh,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-24 flex items-end justify-between space-x-1 mb-4",children:M.salesByDay.map((z,ae)=>a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${z.sales/Math.max(...M.salesByDay.map(ge=>ge.sales))*60}px`,minHeight:"4px"},title:`${z.day}: ${_t(z.sales,(t==null?void 0:t.currency)||"USD")}`}),a.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-1 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_t(z.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:z.day})]},ae))}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Best day: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:"Friday"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),a.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),a.jsxs("div",{className:"space-y-3",children:[re.map((z,ae)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:ae+1})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:z.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[z.sales," sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(z.revenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[_t(z.sales>0?z.revenue/z.sales:0,(t==null?void 0:t.currency)||"USD")," avg"]})]})]},z.id)),re.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),a.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),a.jsxs("div",{className:"space-y-3",children:[de.map(z=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:z.paymentMethod==="Cash"?a.jsx("span",{className:"text-lg",children:""}):a.jsx(Dn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:z.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[z.customer,"  ",z.time]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(z.totalAmount,z.currency||(t==null?void 0:t.currency)||"USD")}),a.jsx("div",{className:`text-xs ${z.status==="Completed"?"text-green-600 dark:text-green-400":z.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:z.status})]})]},z.id)),de.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]}),a.jsx(Jn,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"})}),a.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:a.jsxs("button",{onClick:()=>P(!O),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(Pp,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16",children:[O&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 mb-6 sm:mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),a.jsxs("select",{value:u,onChange:z=>f(z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Current POS Session"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),a.jsxs("select",{value:j,onChange:z=>C(z.target.value),disabled:!p,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${p?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),K.map(z=>a.jsx("option",{value:z,children:z},z))]}),!p&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),a.jsxs("select",{value:T,onChange:z=>$(z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Methods"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{f("today"),C("all"),$("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:_t(oe.totalRevenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(oo,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(zi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:oe.totalTransactions}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(oo,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-blue-400",children:"+8.2%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(ku,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:_t(oe.averageOrderValue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(oo,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Mc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:oe.totalItems}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Up,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(X1,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[u==="today"&&X.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>H("bar"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${q==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Bar"}),a.jsx("button",{onClick:()=>H("line"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${q==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Line"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zc,{className:"w-5 h-5 text-gray-400"}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Peak: ",((W=X.reduce((z,ae)=>ae.sales>z.sales?ae:z,X[0]))==null?void 0:W.hour)||"N/A"]})]})]})]}),a.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between space-x-1",children:X.map((z,ae)=>{const ge=Math.max(...X.map(U=>U.sales)),ue=ge>0?z.sales/ge*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[q==="bar"?a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${ue}px`,minHeight:"4px"},title:`${z.hour}: ${_t(z.sales,(t==null?void 0:t.currency)||"USD")}`}):a.jsx("div",{className:"relative w-full h-full",children:a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[ae>0&&a.jsx("line",{x1:"0",y1:`${100-X[ae-1].sales/ge*100}`,x2:"100",y2:`${100-z.sales/ge*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),a.jsx("circle",{cx:"100",cy:`${100-z.sales/ge*100}`,r:"3",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_t(z.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:z.hour})]},ae)})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:_t(X.reduce((z,ae)=>z+ae.sales,0),(t==null?void 0:t.currency)||"USD")})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),a.jsx(J1,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[he.map((z,ae)=>{const ge=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],ue=ge[ae%ge.length];return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-4 h-4 ${ue} rounded`}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:z.method})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(z.amount,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[z.percentage.toFixed(1),"%  ",z.transactions," txns"]})]})]},z.method)}),he.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:he.map((z,ae)=>{const ge=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],ue=ge[ae%ge.length];return a.jsx("div",{className:ue,style:{width:`${z.percentage}%`}},z.method)})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(t==null?void 0:t.is_zatca_enabled)&&ce.total>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),a.jsx(Mc,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-64 flex items-end justify-between space-x-3 mb-6",children:ce.segments.map(z=>{const ae=Math.max(...ce.segments.map(ue=>ue.count)),ge=ae>0?z.count/ae*200:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${ge}px`,minHeight:"4px",backgroundColor:z.color},title:`${z.status}: ${z.count} (${Math.round(z.percentage)}%)`}),a.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:z.count})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 text-center leading-tight",children:z.status})]},z.status)})}),a.jsx("div",{className:"space-y-3",children:ce.segments.map(z=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:z.color}}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:z.status})]}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[z.count," (",Math.round(z.percentage),"%)"]})]},z.status))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:ce.total})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),a.jsx(Li,{className:"w-5 h-5 text-beveren-600"})]}),pe?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[a.jsx("span",{className:"text-white font-bold text-xl",children:pe.name.split(" ").map(z=>z[0]).join("")}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:""})})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:pe.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[pe.transactions," transactions"]}),a.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:_t(pe.sales,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[oe.totalRevenue>0?(pe.sales/oe.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),a.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),a.jsxs("div",{className:"space-y-4",children:[re.map((z,ae)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:ae+1})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:z.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[z.sales," sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(z.revenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[_t(z.sales>0?z.revenue/z.sales:0,(t==null?void 0:t.currency)||"USD")," avg"]})]})]},z.id)),re.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),a.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),a.jsxs("div",{className:"space-y-4",children:[de.map(z=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:z.paymentMethod==="Cash"?a.jsx("span",{className:"text-lg",children:""}):a.jsx(Dn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:z.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[z.customer,"  ",z.time]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(z.totalAmount,z.currency||(t==null?void 0:t.currency)||"USD")}),a.jsx("div",{className:`text-xs ${z.status==="Completed"?"text-green-600 dark:text-green-400":z.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:z.status})]})]},z.id)),de.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]})]})})}function dN(e){const[r,t]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(null);return k.useEffect(()=>{if(!e)return;Ne(null,null,function*(){var f;o(!0);try{console.log("Fetching invoice details for:",e);const m=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Invoice details response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const p=yield m.json();if(console.log("Invoice details data:",p),!p.message||!p.message.success)throw new Error(((f=p.message)==null?void 0:f.error)||p.error||"Failed to fetch invoice");t(p.message.data)}catch(m){console.error("Error fetching invoice details:",m),m instanceof Error?c(m.message):c("Unknown error")}finally{o(!1)}})},[e]),{invoice:r,isLoading:s,error:l}}function ad({invoice:e,isOpen:r,onClose:t,onCancel:s}){var p,_,j;const{invoice:o,isLoading:l,error:c}=dN((p=e==null?void 0:e.id)!=null?p:null);if(!r||!e)return null;if(l)return a.jsx("div",{children:"Loading invoice..."});if(c)return a.jsxs("div",{children:["Error loading invoice: ",c]});const u=o||e,f=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Refunded":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},m=C=>Ne(null,null,function*(){try{const T=yield $h(C);console.log(T),Ie.success(`Invoice returned: ${T.return_invoice}`)}catch(T){Ie.error(T.message||"Failed to return invoice")}});return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Details"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(u.status)}`,children:u.status})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Rp,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Bi,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ra,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(kf,{icon:a.jsx(yh,{}),label:"Date & Time",value:`${u.posting_date} at ${u.posting_time}`}),a.jsx(kf,{icon:a.jsx(Zn,{}),label:"Customer",value:u.customer}),a.jsx(kf,{icon:a.jsx(Zn,{}),label:"Cashier",value:u.cashier}),a.jsx(kf,{icon:a.jsx(Dn,{}),label:"Payment Method",value:u.paymentMethod})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Items"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item Code"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:u.items.map((C,T)=>{var $,O;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C.item_name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:C.category})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:a.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-xs font-mono text-gray-800 dark:text-gray-200",children:C.item_code})}),a.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:C.qty}),a.jsxs("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:["$",Number(($=C.rate)!=null?$:0).toFixed(2)]}),a.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["$",Number((O=C.amount)!=null?O:0).toFixed(2)]})]},T)})})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[u.giftCardCode&&a.jsx(WA,{code:u.giftCardCode,discount:u.giftCardDiscount}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(_f,{label:"Subtotal",value:Number((_=u.subtotal)!=null?_:0)}),u.giftCardDiscount>0&&a.jsx(_f,{label:"Gift Card Discount",value:-u.giftCardDiscount,color:"green"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsx(_f,{label:"Total",value:Number((j=u.totalAmount)!=null?j:0),bold:!0})}),u.status==="Refunded"&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsx(_f,{label:"Refunded Amount",value:u.refundAmount,color:"red",bold:!0})})]})]}),a.jsxs("div",{className:"space-y-3",children:[u.status==="Paid"&&a.jsx(Yg,{onClick:()=>m(u.name),icon:a.jsx(qi,{}),color:"orange",text:"Process Returns"}),u.status==="Pending"&&a.jsx(Yg,{onClick:()=>s(u.id),icon:a.jsx(Pc,{}),color:"red",text:"Cancel Order"}),a.jsx(Yg,{icon:a.jsx(Bi,{}),text:"Print Receipt"})]}),u.notes&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"Notes"}),a.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:u.notes})]})]})]})})]})]})})}function kf({icon:e,label:r,value:t}){return a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-gray-400",children:e}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t})]})]})}function _f({label:e,value:r,color:t,bold:s}){const o=`flex justify-between ${t?`text-${t}-600 dark:text-${t}-400`:""}`,l=s?"font-bold":"font-semibold";return a.jsxs("div",{className:o,children:[a.jsx("span",{className:s?"text-lg font-bold":"",children:e}),a.jsxs("span",{className:l,children:["$",Math.abs(r)]})]})}function WA({code:e,discount:r}){return a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(b9,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Gift Card Applied"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Code"}),a.jsx("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:e})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Discount"}),a.jsxs("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:["-$",r]})]})]})]})}function Yg({onClick:e,icon:r,text:t,color:s}){const o=s==="red"?"bg-red-600 hover:bg-red-700":s==="orange"?"bg-orange-600 hover:bg-orange-700":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700";return a.jsxs("button",{onClick:e,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl transition-colors ${o} text-white`,children:[r,a.jsx("span",{children:t})]})}function YA(e,r,t){return Ne(this,null,function*(){const s=window.csrf_token;try{const o=yield fetch("/api/method/klik_pos.api.sales_invoice.returned_qty",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":s},body:JSON.stringify({customer:e,sales_invoice:r,item:t}),credentials:"include"}),l=yield o.json();if(!o.ok)throw new Error(l.message||"Failed to get returned quantity");return{success:!0,data:l.message}}catch(o){return console.error("Error getting returned quantity:",o),{success:!1,error:o.message||"Failed to get returned quantity"}}})}function Qg(e,r,t,s){return Ne(this,null,function*(){try{const o=new URLSearchParams(Y(Y(Y({customer:e},r&&{start_date:r}),t&&{end_date:t}),s&&{shipping_address:s})),l=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_customer_invoices_for_return?${o}`),c=yield l.json();if(!l.ok||!c.message.success)throw new Error(c.message.error||"Failed to fetch customer invoices");return{success:!0,data:c.message.data}}catch(o){return console.error("Error fetching customer invoices for return:",o),{success:!1,error:o.message||"Failed to fetch customer invoices"}}})}function QA(e,r,t,s){return Ne(this,null,function*(){const o=window.csrf_token;try{const l=yield fetch("/api/method/klik_pos.api.sales_invoice.create_partial_return",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":o},body:JSON.stringify({invoice_name:e,return_items:r,payment_method:t||"Cash",return_amount:s||0}),credentials:"include"}),c=yield l.json();if(!l.ok)throw new Error(c.message||"Failed to create partial return");const u=c.message||c;if(!u.success)throw new Error(u.message||"Failed to create partial return");return{success:!0,returnInvoice:u.return_invoice,message:u.message}}catch(l){return console.error("Error creating partial return:",l),{success:!1,error:l.message||"Failed to create partial return"}}})}function XA(e){return Ne(this,null,function*(){const r=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_multi_invoice_return",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Frappe-CSRF-Token":r},body:new URLSearchParams({return_data:JSON.stringify(e)}).toString(),credentials:"include"}),s=yield t.json();if(console.log("Multi-invoice return response:",s),!t.ok)throw new Error(s.message||"Failed to create multi-invoice return");const o=s.message||s;if(!o.success)throw new Error(o.message||"Failed to create multi-invoice return");return{success:!0,createdReturns:o.created_returns,message:o.message}}catch(t){return console.error("Error creating multi-invoice return:",t),{success:!1,error:t.message||"Failed to create multi-invoice return"}}})}function Bu({invoice:e,isOpen:r,onClose:t,onSuccess:s}){const[o,l]=k.useState([]),[c,u]=k.useState(!1),[f,m]=k.useState(!0),[p,_]=k.useState(0),[j,C]=k.useState(0),{posDetails:T}=Za(),$=e&&(e.currency||e.company_currency)||(T==null?void 0:T.currency)||"USD",O=Jy($),{modes:P,isLoading:q}=t0(typeof(T==null?void 0:T.name)=="string"?T.name:""),[H,M]=k.useState(""),[K,F]=k.useState(0);k.useEffect(()=>{r&&e&&oe()},[r,e]),k.useEffect(()=>{if(j>0){const te=(T==null?void 0:T.custom_ignore_write_off_on_partial_returns)||!1,pe=o.reduce((He,W)=>He+W.qty*W.rate,0),se=o.reduce((He,W)=>He+(W.return_qty||0)*W.rate,0),re=se<pe;let de;if(te&&re)de=se;else{const He=pe>0?se/pe:0;de=j*He}F(Math.round(de*100)/100)}else{const te=o.reduce((pe,se)=>pe+(se.return_qty||0)*se.rate,0);F(Math.round(te*100)/100)}},[o,j,T==null?void 0:T.custom_ignore_write_off_on_partial_returns]),k.useEffect(()=>{if(P.length>0&&!H){const te=P.find(re=>re.default===1),pe=P[0],se=(te==null?void 0:te.mode_of_payment)||(pe==null?void 0:pe.mode_of_payment)||"";M(se)}},[P,H]);const oe=()=>Ne(null,null,function*(){var te,pe,se,re,de,He,W;m(!0);try{let z=e;const ae=yield z8(e.name||e.id);if(ae.success&&ae.data)z=ae.data.data||ae.data,_(z.grand_total||0),C(z.paid_amount||z.grand_total||0);else throw console.error("Failed to fetch invoice details:",ae.error),new Error(ae.error||"Failed to fetch invoice details from backend");const ge=[],ue=z.items||z.items_list||z.sales_invoice_items||[];if(!Array.isArray(ue))throw console.error("Items is not an array:",ue),new Error("Invoice items not found in expected format");for(const U of ue){const Q=yield YA(z.customer,z.name||z.id,U.item_code||U.id),Ae=Q.success&&((te=Q.data)==null?void 0:te.total_returned_qty)||0,Ke=U.item_code||U.id,ct=U.item_name||U.name,dt=Number((se=(pe=U.qty)!=null?pe:U.quantity)!=null?se:0),kt=Number((de=(re=U.rate)!=null?re:U.unitPrice)!=null?de:0),ht=Number((W=(He=U.amount)!=null?He:U.total)!=null?W:dt*kt);ge.push({item_code:Ke,item_name:ct,qty:dt,rate:kt,amount:ht,returned_qty:Ae,available_qty:Math.round((dt-Ae)*100)/100,return_qty:Math.round((dt-Ae)*100)/100})}l(ge)}catch(z){console.error("Error initializing return items:",z),Ie.error("Failed to load return data")}finally{m(!1)}}),fe=(te,pe)=>{l(se=>se.map(re=>{if(re.item_code===te){const de=Math.max(0,Math.min(Math.round(pe*100)/100,re.available_qty));return je(Y({},re),{return_qty:de})}return re}))},X=()=>{l(te=>te.map(pe=>je(Y({},pe),{return_qty:pe.available_qty})))},le=()=>{l(te=>te.map(pe=>je(Y({},pe),{return_qty:0})))},he=()=>Ne(null,null,function*(){const te=o.filter(se=>se.return_qty&&se.return_qty>0);if(te.length===0){Ie.error("Please select at least one item to return");return}u(!0);const pe=e.id||e.name;try{const se={items:te,paymentMethod:H,returnAmount:K},re=yield QA(pe,te,H,K);re.success?(Ie.success(`Return created successfully (${H})`),s(re.returnInvoice),t()):Ie.error(re.error||"Failed to create return")}catch(se){console.error("Error creating return:",se),Ie.error("Failed to create return")}finally{u(!1)}}),ee=o.reduce((te,pe)=>te+(pe.return_qty||0)*pe.rate,0),ce=o.some(te=>(te.return_qty||0)>0);return r?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:a.jsx(Ol,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Return Items"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invoice: ",(e==null?void 0:e.name)||(e==null?void 0:e.id),"  Customer: ",e==null?void 0:e.customer]})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ra,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading return data..."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:X,className:"px-4 py-2 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/40 transition-colors text-sm font-medium",children:"Return All Available"}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Clear All"})]}),a.jsxs("div",{className:"text-right",children:[j>0&&ee!==K?a.jsxs("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Total Return Amount:"}),a.jsx("span",{children:_t(ee,$)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Paid Amount:"}),a.jsx("span",{children:_t(K,$)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-orange-600 dark:text-red-400 font-semibold",children:"Write-off:"}),a.jsx("span",{className:"text-orange-600 dark:text-red-400 font-semibold",children:_t(ee-K,$)})]})]}):a.jsx("div",{className:"text-lg font-bold text-black-600 dark:text-orange-400",children:_t(ee,$)}),j>0&&ee===K&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Customer Paid: ",_t(j,$)]})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sold Qty"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Returned"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Available"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Qty"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:o.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:a.jsx(fo,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:te.item_name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",te.item_code]})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-900 dark:text-white",children:te.qty}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:te.returned_qty})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:`text-sm font-medium ${te.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:te.available_qty})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>fe(te.item_code,Math.round(((te.return_qty||0)-1)*100)/100),disabled:!te.return_qty||te.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(bh,{className:"w-4 h-4"})}),a.jsx("input",{type:"number",min:"0",max:te.available_qty,value:te.return_qty||0,onChange:pe=>fe(te.item_code,Math.round((parseFloat(pe.target.value)||0)*100)/100),className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",disabled:te.available_qty===0}),a.jsx("button",{onClick:()=>fe(te.item_code,Math.round(((te.return_qty||0)+1)*100)/100),disabled:te.available_qty===0||(te.return_qty||0)>=te.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(qo,{className:"w-4 h-4"})})]})}),a.jsx("td",{className:"px-4 py-4 text-right text-sm text-gray-900 dark:text-white",children:_t(te.rate,$)}),a.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:_t((te.return_qty||0)*te.rate,$)})]},te.item_code))})]})})}),o.every(te=>te.available_qty===0)&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(_u,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Items Available for Return"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"All items from this invoice have already been returned."})]})]})})]})}),ce&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Payment Method for Return"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx("select",{value:H,onChange:te=>M(te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors",disabled:q,children:q?a.jsx("option",{children:"Loading payment methods..."}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:""}),P.map(te=>{const pe=te.mode_of_payment;return a.jsx("option",{value:pe,children:pe},pe)})]})})}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:O}),a.jsx("input",{type:"number",value:K,onChange:te=>{const pe=parseFloat(te.target.value)||0;F(Math.round(pe*100)/100)},step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors text-right text-lg font-semibold",placeholder:"0.00"})]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(uo,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{children:[o.filter(te=>(te.return_qty||0)>0).length," item(s) selected for return"]})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),a.jsx("button",{onClick:he,disabled:!ce||c||f,className:`px-6 py-3 rounded-lg font-semibold text-base transition-colors shadow-lg ${ce&&!c&&!f?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:c?"Processing Return...":"Process Return"})]})]})]})]})}):null}function ZA(){const[e,r]=k.useState(!1),[t,s]=k.useState(null),[o,l]=k.useState(!1);return{createClosingEntry:u=>Ne(null,null,function*(){r(!0),s(null),l(!1);const f=window.csrf_token;try{const m=yield fetch("/api/method/klik_pos.api.pos_entry.create_closing_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":f,Accept:"application/json"},body:JSON.stringify({closing_balance:u}),credentials:"include"});if(console.log("Closing entry response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const p=yield m.json();if(console.log("Closing entry data:",p),p.message)l(!0);else throw new Error(p._server_messages||"Failed to create closing entry")}catch(m){console.error("Error creating POS Closing Entry:",m),s(m.message||"Unexpected error occurred")}finally{r(!1)}}),isCreating:e,error:t,success:o}}function JA(e,r){const t=k.createContext(r),s=l=>{const m=l,{children:c}=m,u=hr(m,["children"]),f=k.useMemo(()=>u,Object.values(u));return a.jsx(t.Provider,{value:f,children:c})};s.displayName=e+"Provider";function o(l){const c=k.useContext(t);if(c)return c;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,o]}function uN(e,r=[]){let t=[];function s(l,c){const u=k.createContext(c),f=t.length;t=[...t,c];const m=_=>{var q;const P=_,{scope:j,children:C}=P,T=hr(P,["scope","children"]),$=((q=j==null?void 0:j[e])==null?void 0:q[f])||u,O=k.useMemo(()=>T,Object.values(T));return a.jsx($.Provider,{value:O,children:C})};m.displayName=l+"Provider";function p(_,j){var $;const C=(($=j==null?void 0:j[e])==null?void 0:$[f])||u,T=k.useContext(C);if(T)return T;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[m,p]}const o=()=>{const l=t.map(c=>k.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return k.useMemo(()=>({[`__scope${e}`]:je(Y({},u),{[e]:f})}),[u,f])}};return o.scopeName=e,[s,eR(o,...r)]}function eR(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=s.reduce((u,{useScope:f,scopeName:m})=>{const _=f(l)[`__scope${m}`];return Y(Y({},u),_)},{});return k.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return t.scopeName=r.scopeName,t}function gw(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function fN(...e){return r=>{let t=!1;const s=e.map(o=>{const l=gw(o,r);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():gw(e[o],null)}}}}function Vo(...e){return k.useCallback(fN(...e),e)}function Bo(e,r,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return r==null?void 0:r(o)}}var qu=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},tR=Qw[" useId ".trim().toString()]||(()=>{}),rR=0;function Xg(e){const[r,t]=k.useState(tR());return qu(()=>{t(s=>s!=null?s:String(rR++))},[e]),e||(r?`radix-${r}`:"")}var aR=Qw[" useInsertionEffect ".trim().toString()]||qu;function nR({prop:e,defaultProp:r,onChange:t=()=>{},caller:s}){const[o,l,c]=sR({defaultProp:r,onChange:t}),u=e!==void 0,f=u?e:o;{const p=k.useRef(e!==void 0);k.useEffect(()=>{const _=p.current;_!==u&&console.warn(`${s} is changing from ${_?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,s])}const m=k.useCallback(p=>{var _;if(u){const j=oR(p)?p(e):p;j!==e&&((_=c.current)==null||_.call(c,j))}else l(p)},[u,e,l,c]);return[f,m]}function sR({defaultProp:e,onChange:r}){const[t,s]=k.useState(e),o=k.useRef(t),l=k.useRef(r);return aR(()=>{l.current=r},[r]),k.useEffect(()=>{var c;o.current!==t&&((c=l.current)==null||c.call(l,t),o.current=t)},[t,o]),[t,s,l]}function oR(e){return typeof e=="function"}function hN(e){const r=iR(e),t=k.forwardRef((s,o)=>{const m=s,{children:l}=m,c=hr(m,["children"]),u=k.Children.toArray(l),f=u.find(cR);if(f){const p=f.props.children,_=u.map(j=>j===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:j);return a.jsx(r,je(Y({},c),{ref:o,children:k.isValidElement(p)?k.cloneElement(p,void 0,_):null}))}return a.jsx(r,je(Y({},c),{ref:o,children:l}))});return t.displayName=`${e}.Slot`,t}function iR(e){const r=k.forwardRef((t,s)=>{const c=t,{children:o}=c,l=hr(c,["children"]);if(k.isValidElement(o)){const u=uR(o),f=dR(l,o.props);return o.type!==k.Fragment&&(f.ref=s?fN(s,u):u),k.cloneElement(o,f)}return k.Children.count(o)>1?k.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var mN=Symbol("radix.slottable");function lR(e){const r=({children:t})=>a.jsx(a.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=mN,r}function cR(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mN}function dR(e,r){const t=Y({},r);for(const s in r){const o=e[s],l=r[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...u)=>{const f=l(...u);return o(...u),f}:o&&(t[s]=o):s==="style"?t[s]=Y(Y({},o),l):s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return Y(Y({},e),t)}function uR(e){var s,o;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var fR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ko=fR.reduce((e,r)=>{const t=hN(`Primitive.${r}`),s=k.forwardRef((o,l)=>{const m=o,{asChild:c}=m,u=hr(m,["asChild"]),f=c?t:r;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,je(Y({},u),{ref:l}))});return s.displayName=`Primitive.${r}`,je(Y({},e),{[r]:s})},{});function hR(e,r){e&&$y.flushSync(()=>e.dispatchEvent(r))}function Hu(e){const r=k.useRef(e);return k.useEffect(()=>{r.current=e}),k.useMemo(()=>(...t)=>{var s;return(s=r.current)==null?void 0:s.call(r,...t)},[])}function mR(e,r=globalThis==null?void 0:globalThis.document){const t=Hu(e);k.useEffect(()=>{const s=o=>{o.key==="Escape"&&t(o)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[t,r])}var gR="DismissableLayer",uy="dismissableLayer.update",pR="dismissableLayer.pointerDownOutside",yR="dismissableLayer.focusOutside",pw,gN=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pN=k.forwardRef((e,r)=>{var fe;const oe=e,{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u}=oe,f=hr(oe,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),m=k.useContext(gN),[p,_]=k.useState(null),j=(fe=p==null?void 0:p.ownerDocument)!=null?fe:globalThis==null?void 0:globalThis.document,[,C]=k.useState({}),T=Vo(r,X=>_(X)),$=Array.from(m.layers),[O]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=$.indexOf(O),q=p?$.indexOf(p):-1,H=m.layersWithOutsidePointerEventsDisabled.size>0,M=q>=P,K=vR(X=>{const le=X.target,he=[...m.branches].some(ee=>ee.contains(le));!M||he||(o==null||o(X),c==null||c(X),X.defaultPrevented||u==null||u())},j),F=wR(X=>{const le=X.target;[...m.branches].some(ee=>ee.contains(le))||(l==null||l(X),c==null||c(X),X.defaultPrevented||u==null||u())},j);return mR(X=>{q===m.layers.size-1&&(s==null||s(X),!X.defaultPrevented&&u&&(X.preventDefault(),u()))},j),k.useEffect(()=>{if(p)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(pw=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),yw(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=pw)}},[p,j,t,m]),k.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),yw())},[p,m]),k.useEffect(()=>{const X=()=>C({});return document.addEventListener(uy,X),()=>document.removeEventListener(uy,X)},[]),a.jsx(Ko.div,je(Y({},f),{ref:T,style:Y({pointerEvents:H?M?"auto":"none":void 0},e.style),onFocusCapture:Bo(e.onFocusCapture,F.onFocusCapture),onBlurCapture:Bo(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Bo(e.onPointerDownCapture,K.onPointerDownCapture)}))});pN.displayName=gR;var xR="DismissableLayerBranch",bR=k.forwardRef((e,r)=>{const t=k.useContext(gN),s=k.useRef(null),o=Vo(r,s);return k.useEffect(()=>{const l=s.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),a.jsx(Ko.div,je(Y({},e),{ref:o}))});bR.displayName=xR;function vR(e,r=globalThis==null?void 0:globalThis.document){const t=Hu(e),s=k.useRef(!1),o=k.useRef(()=>{});return k.useEffect(()=>{const l=u=>{if(u.target&&!s.current){let f=function(){yN(pR,t,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",o.current),o.current=f,r.addEventListener("click",o.current,{once:!0})):f()}else r.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",l),r.removeEventListener("click",o.current)}},[r,t]),{onPointerDownCapture:()=>s.current=!0}}function wR(e,r=globalThis==null?void 0:globalThis.document){const t=Hu(e),s=k.useRef(!1);return k.useEffect(()=>{const o=l=>{l.target&&!s.current&&yN(yR,t,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",o),()=>r.removeEventListener("focusin",o)},[r,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function yw(){const e=new CustomEvent(uy);document.dispatchEvent(e)}function yN(e,r,t,{discrete:s}){const o=t.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&o.addEventListener(e,r,{once:!0}),s?hR(o,l):o.dispatchEvent(l)}var Zg="focusScope.autoFocusOnMount",Jg="focusScope.autoFocusOnUnmount",xw={bubbles:!1,cancelable:!0},jR="FocusScope",xN=k.forwardRef((e,r)=>{const $=e,{loop:t=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:l}=$,c=hr($,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,f]=k.useState(null),m=Hu(o),p=Hu(l),_=k.useRef(null),j=Vo(r,O=>f(O)),C=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(s){let O=function(M){if(C.paused||!u)return;const K=M.target;u.contains(K)?_.current=K:Ci(_.current,{select:!0})},P=function(M){if(C.paused||!u)return;const K=M.relatedTarget;K!==null&&(u.contains(K)||Ci(_.current,{select:!0}))},q=function(M){if(document.activeElement===document.body)for(const F of M)F.removedNodes.length>0&&Ci(u)};document.addEventListener("focusin",O),document.addEventListener("focusout",P);const H=new MutationObserver(q);return u&&H.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",O),document.removeEventListener("focusout",P),H.disconnect()}}},[s,u,C.paused]),k.useEffect(()=>{if(u){vw.add(C);const O=document.activeElement;if(!u.contains(O)){const q=new CustomEvent(Zg,xw);u.addEventListener(Zg,m),u.dispatchEvent(q),q.defaultPrevented||(NR($R(bN(u)),{select:!0}),document.activeElement===O&&Ci(u))}return()=>{u.removeEventListener(Zg,m),setTimeout(()=>{const q=new CustomEvent(Jg,xw);u.addEventListener(Jg,p),u.dispatchEvent(q),q.defaultPrevented||Ci(O!=null?O:document.body,{select:!0}),u.removeEventListener(Jg,p),vw.remove(C)},0)}}},[u,m,p,C]);const T=k.useCallback(O=>{if(!t&&!s||C.paused)return;const P=O.key==="Tab"&&!O.altKey&&!O.ctrlKey&&!O.metaKey,q=document.activeElement;if(P&&q){const H=O.currentTarget,[M,K]=kR(H);M&&K?!O.shiftKey&&q===K?(O.preventDefault(),t&&Ci(M,{select:!0})):O.shiftKey&&q===M&&(O.preventDefault(),t&&Ci(K,{select:!0})):q===H&&O.preventDefault()}},[t,s,C.paused]);return a.jsx(Ko.div,je(Y({tabIndex:-1},c),{ref:j,onKeyDown:T}))});xN.displayName=jR;function NR(e,{select:r=!1}={}){const t=document.activeElement;for(const s of e)if(Ci(s,{select:r}),document.activeElement!==t)return}function kR(e){const r=bN(e),t=bw(r,e),s=bw(r.reverse(),e);return[t,s]}function bN(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function bw(e,r){for(const t of e)if(!_R(t,{upTo:r}))return t}function _R(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function SR(e){return e instanceof HTMLInputElement&&"select"in e}function Ci(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&SR(e)&&r&&e.select()}}var vw=CR();function CR(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=ww(e,r),e.unshift(r)},remove(r){var t;e=ww(e,r),(t=e[0])==null||t.resume()}}}function ww(e,r){const t=[...e],s=t.indexOf(r);return s!==-1&&t.splice(s,1),t}function $R(e){return e.filter(r=>r.tagName!=="A")}var ER="Portal",vN=k.forwardRef((e,r)=>{var f;const u=e,{container:t}=u,s=hr(u,["container"]),[o,l]=k.useState(!1);qu(()=>l(!0),[]);const c=t||o&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?iS.createPortal(a.jsx(Ko.div,je(Y({},s),{ref:r})),c):null});vN.displayName=ER;function TR(e,r){return k.useReducer((t,s)=>{const o=r[t][s];return o!=null?o:t},e)}var Dh=e=>{const{present:r,children:t}=e,s=OR(r),o=typeof t=="function"?t({present:s.isPresent}):k.Children.only(t),l=Vo(s.ref,AR(o));return typeof t=="function"||s.isPresent?k.cloneElement(o,{ref:l}):null};Dh.displayName="Presence";function OR(e){const[r,t]=k.useState(),s=k.useRef(null),o=k.useRef(e),l=k.useRef("none"),c=e?"mounted":"unmounted",[u,f]=TR(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const m=Sf(s.current);l.current=u==="mounted"?m:"none"},[u]),qu(()=>{const m=s.current,p=o.current;if(p!==e){const j=l.current,C=Sf(m);e?f("MOUNT"):C==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(p&&j!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),qu(()=>{var m;if(r){let p;const _=(m=r.ownerDocument.defaultView)!=null?m:window,j=T=>{const O=Sf(s.current).includes(CSS.escape(T.animationName));if(T.target===r&&O&&(f("ANIMATION_END"),!o.current)){const P=r.style.animationFillMode;r.style.animationFillMode="forwards",p=_.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=P)})}},C=T=>{T.target===r&&(l.current=Sf(s.current))};return r.addEventListener("animationstart",C),r.addEventListener("animationcancel",j),r.addEventListener("animationend",j),()=>{_.clearTimeout(p),r.removeEventListener("animationstart",C),r.removeEventListener("animationcancel",j),r.removeEventListener("animationend",j)}}else f("ANIMATION_END")},[r,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:k.useCallback(m=>{s.current=m?getComputedStyle(m):null,t(m)},[])}}function Sf(e){return(e==null?void 0:e.animationName)||"none"}function AR(e){var s,o;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var ep=0;function RR(){k.useEffect(()=>{var r,t;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(r=e[0])!=null?r:jw()),document.body.insertAdjacentElement("beforeend",(t=e[1])!=null?t:jw()),ep++,()=>{ep===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),ep--}},[])}function jw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var io=function(){return io=Object.assign||function(r){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},io.apply(this,arguments)};function wN(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(t[s[o]]=e[s[o]]);return t}function PR(e,r,t){if(t||arguments.length===2)for(var s=0,o=r.length,l;s<o;s++)(l||!(s in r))&&(l||(l=Array.prototype.slice.call(r,0,s)),l[s]=r[s]);return e.concat(l||Array.prototype.slice.call(r))}var Hf="right-scroll-bar-position",Gf="width-before-scroll-bar",MR="with-scroll-bars-hidden",DR="--removed-body-scroll-bar-size";function tp(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function IR(e,r){var t=k.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(s){var o=t.value;o!==s&&(t.value=s,t.callback(s,o))}}}})[0];return t.callback=r,t.facade}var LR=typeof window!="undefined"?k.useLayoutEffect:k.useEffect,Nw=new WeakMap;function UR(e,r){var t=IR(null,function(s){return e.forEach(function(o){return tp(o,s)})});return LR(function(){var s=Nw.get(t);if(s){var o=new Set(s),l=new Set(e),c=t.current;o.forEach(function(u){l.has(u)||tp(u,null)}),l.forEach(function(u){o.has(u)||tp(u,c)})}Nw.set(t,e)},[e]),t}function FR(e){return e}function zR(e,r){r===void 0&&(r=FR);var t=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(l){var c=r(l,s);return t.push(c),function(){t=t.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(s=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(u){return l(u)},filter:function(){return t}}},assignMedium:function(l){s=!0;var c=[];if(t.length){var u=t;t=[],u.forEach(l),c=t}var f=function(){var p=c;c=[],p.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(p){c.push(p),m()},filter:function(p){return c=c.filter(p),t}}}};return o}function BR(e){e===void 0&&(e={});var r=zR(null);return r.options=io({async:!0,ssr:!1},e),r}var jN=function(e){var r=e.sideCar,t=wN(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return k.createElement(s,io({},t))};jN.isSideCarExport=!0;function qR(e,r){return e.useMedium(r),jN}var NN=BR(),rp=function(){},Ih=k.forwardRef(function(e,r){var t=k.useRef(null),s=k.useState({onScrollCapture:rp,onWheelCapture:rp,onTouchMoveCapture:rp}),o=s[0],l=s[1],c=e.forwardProps,u=e.children,f=e.className,m=e.removeScrollBar,p=e.enabled,_=e.shards,j=e.sideCar,C=e.noRelative,T=e.noIsolation,$=e.inert,O=e.allowPinchZoom,P=e.as,q=P===void 0?"div":P,H=e.gapMode,M=wN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=j,F=UR([t,r]),oe=io(io({},M),o);return k.createElement(k.Fragment,null,p&&k.createElement(K,{sideCar:NN,removeScrollBar:m,shards:_,noRelative:C,noIsolation:T,inert:$,setCallbacks:l,allowPinchZoom:!!O,lockRef:t,gapMode:H}),c?k.cloneElement(k.Children.only(u),io(io({},oe),{ref:F})):k.createElement(q,io({},oe,{className:f,ref:F}),u))});Ih.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ih.classNames={fullWidth:Gf,zeroRight:Hf};var HR=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function GR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=HR();return r&&e.setAttribute("nonce",r),e}function VR(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function KR(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var WR=function(){var e=0,r=null;return{add:function(t){e==0&&(r=GR())&&(VR(r,t),KR(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},YR=function(){var e=WR();return function(r,t){k.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},kN=function(){var e=YR(),r=function(t){var s=t.styles,o=t.dynamic;return e(s,o),null};return r},QR={left:0,top:0,right:0,gap:0},ap=function(e){return parseInt(e||"",10)||0},XR=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],o=r[e==="padding"?"paddingRight":"marginRight"];return[ap(t),ap(s),ap(o)]},ZR=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return QR;var r=XR(e),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-t+r[2]-r[0])}},JR=kN(),Bc="data-scroll-locked",eP=function(e,r,t,s){var o=e.left,l=e.top,c=e.right,u=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(MR,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Bc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hf,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Gf,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Hf," .").concat(Hf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Gf," .").concat(Gf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Bc,`] {
    `).concat(DR,": ").concat(u,`px;
  }
`)},kw=function(){var e=parseInt(document.body.getAttribute(Bc)||"0",10);return isFinite(e)?e:0},tP=function(){k.useEffect(function(){return document.body.setAttribute(Bc,(kw()+1).toString()),function(){var e=kw()-1;e<=0?document.body.removeAttribute(Bc):document.body.setAttribute(Bc,e.toString())}},[])},rP=function(e){var r=e.noRelative,t=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;tP();var l=k.useMemo(function(){return ZR(o)},[o]);return k.createElement(JR,{styles:eP(l,!r,o,t?"":"!important")})},fy=!1;if(typeof window!="undefined")try{var Cf=Object.defineProperty({},"passive",{get:function(){return fy=!0,!0}});window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch(e){fy=!1}var $c=fy?{passive:!1}:!1,aP=function(e){return e.tagName==="TEXTAREA"},_N=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!aP(e)&&t[r]==="visible")},nP=function(e){return _N(e,"overflowY")},sP=function(e){return _N(e,"overflowX")},_w=function(e,r){var t=r.ownerDocument,s=r;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var o=SN(e,s);if(o){var l=CN(e,s),c=l[1],u=l[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},oP=function(e){var r=e.scrollTop,t=e.scrollHeight,s=e.clientHeight;return[r,t,s]},iP=function(e){var r=e.scrollLeft,t=e.scrollWidth,s=e.clientWidth;return[r,t,s]},SN=function(e,r){return e==="v"?nP(r):sP(r)},CN=function(e,r){return e==="v"?oP(r):iP(r)},lP=function(e,r){return e==="h"&&r==="rtl"?-1:1},cP=function(e,r,t,s,o){var l=lP(e,window.getComputedStyle(r).direction),c=l*s,u=t.target,f=r.contains(u),m=!1,p=c>0,_=0,j=0;do{if(!u)break;var C=CN(e,u),T=C[0],$=C[1],O=C[2],P=$-O-l*T;(T||P)&&SN(e,u)&&(_+=P,j+=T);var q=u.parentNode;u=q&&q.nodeType===Node.DOCUMENT_FRAGMENT_NODE?q.host:q}while(!f&&u!==document.body||f&&(r.contains(u)||r===u));return(p&&Math.abs(_)<1||!p&&Math.abs(j)<1)&&(m=!0),m},$f=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Sw=function(e){return[e.deltaX,e.deltaY]},Cw=function(e){return e&&"current"in e?e.current:e},dP=function(e,r){return e[0]===r[0]&&e[1]===r[1]},uP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fP=0,Ec=[];function hP(e){var r=k.useRef([]),t=k.useRef([0,0]),s=k.useRef(),o=k.useState(fP++)[0],l=k.useState(kN)[0],c=k.useRef(e);k.useEffect(function(){c.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var $=PR([e.lockRef.current],(e.shards||[]).map(Cw),!0).filter(Boolean);return $.forEach(function(O){return O.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),$.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=k.useCallback(function($,O){if("touches"in $&&$.touches.length===2||$.type==="wheel"&&$.ctrlKey)return!c.current.allowPinchZoom;var P=$f($),q=t.current,H="deltaX"in $?$.deltaX:q[0]-P[0],M="deltaY"in $?$.deltaY:q[1]-P[1],K,F=$.target,oe=Math.abs(H)>Math.abs(M)?"h":"v";if("touches"in $&&oe==="h"&&F.type==="range")return!1;var fe=_w(oe,F);if(!fe)return!0;if(fe?K=oe:(K=oe==="v"?"h":"v",fe=_w(oe,F)),!fe)return!1;if(!s.current&&"changedTouches"in $&&(H||M)&&(s.current=K),!K)return!0;var X=s.current||K;return cP(X,O,$,X==="h"?H:M)},[]),f=k.useCallback(function($){var O=$;if(!(!Ec.length||Ec[Ec.length-1]!==l)){var P="deltaY"in O?Sw(O):$f(O),q=r.current.filter(function(K){return K.name===O.type&&(K.target===O.target||O.target===K.shadowParent)&&dP(K.delta,P)})[0];if(q&&q.should){O.cancelable&&O.preventDefault();return}if(!q){var H=(c.current.shards||[]).map(Cw).filter(Boolean).filter(function(K){return K.contains(O.target)}),M=H.length>0?u(O,H[0]):!c.current.noIsolation;M&&O.cancelable&&O.preventDefault()}}},[]),m=k.useCallback(function($,O,P,q){var H={name:$,delta:O,target:P,should:q,shadowParent:mP(P)};r.current.push(H),setTimeout(function(){r.current=r.current.filter(function(M){return M!==H})},1)},[]),p=k.useCallback(function($){t.current=$f($),s.current=void 0},[]),_=k.useCallback(function($){m($.type,Sw($),$.target,u($,e.lockRef.current))},[]),j=k.useCallback(function($){m($.type,$f($),$.target,u($,e.lockRef.current))},[]);k.useEffect(function(){return Ec.push(l),e.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:j}),document.addEventListener("wheel",f,$c),document.addEventListener("touchmove",f,$c),document.addEventListener("touchstart",p,$c),function(){Ec=Ec.filter(function($){return $!==l}),document.removeEventListener("wheel",f,$c),document.removeEventListener("touchmove",f,$c),document.removeEventListener("touchstart",p,$c)}},[]);var C=e.removeScrollBar,T=e.inert;return k.createElement(k.Fragment,null,T?k.createElement(l,{styles:uP(o)}):null,C?k.createElement(rP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function mP(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const gP=qR(NN,hP);var $N=k.forwardRef(function(e,r){return k.createElement(Ih,io({},e,{ref:r,sideCar:gP}))});$N.classNames=Ih.classNames;var pP=function(e){if(typeof document=="undefined")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Tc=new WeakMap,Ef=new WeakMap,Tf={},np=0,EN=function(e){return e&&(e.host||EN(e.parentNode))},yP=function(e,r){return r.map(function(t){if(e.contains(t))return t;var s=EN(t);return s&&e.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},xP=function(e,r,t,s){var o=yP(r,Array.isArray(e)?e:[e]);Tf[t]||(Tf[t]=new WeakMap);var l=Tf[t],c=[],u=new Set,f=new Set(o),m=function(_){!_||u.has(_)||(u.add(_),m(_.parentNode))};o.forEach(m);var p=function(_){!_||f.has(_)||Array.prototype.forEach.call(_.children,function(j){if(u.has(j))p(j);else try{var C=j.getAttribute(s),T=C!==null&&C!=="false",$=(Tc.get(j)||0)+1,O=(l.get(j)||0)+1;Tc.set(j,$),l.set(j,O),c.push(j),$===1&&T&&Ef.set(j,!0),O===1&&j.setAttribute(t,"true"),T||j.setAttribute(s,"true")}catch(P){console.error("aria-hidden: cannot operate on ",j,P)}})};return p(r),u.clear(),np++,function(){c.forEach(function(_){var j=Tc.get(_)-1,C=l.get(_)-1;Tc.set(_,j),l.set(_,C),j||(Ef.has(_)||_.removeAttribute(s),Ef.delete(_)),C||_.removeAttribute(t)}),np--,np||(Tc=new WeakMap,Tc=new WeakMap,Ef=new WeakMap,Tf={})}},bP=function(e,r,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=pP(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),xP(s,o,t,"aria-hidden")):function(){return null}},Lh="Dialog",[TN,ON]=uN(Lh),[vP,qs]=TN(Lh),AN=e=>{const{__scopeDialog:r,children:t,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,u=k.useRef(null),f=k.useRef(null),[m,p]=nR({prop:s,defaultProp:o!=null?o:!1,onChange:l,caller:Lh});return a.jsx(vP,{scope:r,triggerRef:u,contentRef:f,contentId:Xg(),titleId:Xg(),descriptionId:Xg(),open:m,onOpenChange:p,onOpenToggle:k.useCallback(()=>p(_=>!_),[p]),modal:c,children:t})};AN.displayName=Lh;var RN="DialogTrigger",PN=k.forwardRef((e,r)=>{const c=e,{__scopeDialog:t}=c,s=hr(c,["__scopeDialog"]),o=qs(RN,t),l=Vo(r,o.triggerRef);return a.jsx(Ko.button,je(Y({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ax(o.open)},s),{ref:l,onClick:Bo(e.onClick,o.onOpenToggle)}))});PN.displayName=RN;var tx="DialogPortal",[wP,MN]=TN(tx,{forceMount:void 0}),DN=e=>{const{__scopeDialog:r,forceMount:t,children:s,container:o}=e,l=qs(tx,r);return a.jsx(wP,{scope:r,forceMount:t,children:k.Children.map(s,c=>a.jsx(Dh,{present:t||l.open,children:a.jsx(vN,{asChild:!0,container:o,children:c})}))})};DN.displayName=tx;var oh="DialogOverlay",IN=k.forwardRef((e,r)=>{const t=MN(oh,e.__scopeDialog),c=e,{forceMount:s=t.forceMount}=c,o=hr(c,["forceMount"]),l=qs(oh,e.__scopeDialog);return l.modal?a.jsx(Dh,{present:s||l.open,children:a.jsx(NP,je(Y({},o),{ref:r}))}):null});IN.displayName=oh;var jP=hN("DialogOverlay.RemoveScroll"),NP=k.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=qs(oh,t);return a.jsx($N,{as:jP,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Ko.div,je(Y({"data-state":ax(o.open)},s),{ref:r,style:Y({pointerEvents:"auto"},s.style)}))})}),Ml="DialogContent",LN=k.forwardRef((e,r)=>{const t=MN(Ml,e.__scopeDialog),c=e,{forceMount:s=t.forceMount}=c,o=hr(c,["forceMount"]),l=qs(Ml,e.__scopeDialog);return a.jsx(Dh,{present:s||l.open,children:l.modal?a.jsx(kP,je(Y({},o),{ref:r})):a.jsx(_P,je(Y({},o),{ref:r}))})});LN.displayName=Ml;var kP=k.forwardRef((e,r)=>{const t=qs(Ml,e.__scopeDialog),s=k.useRef(null),o=Vo(r,t.contentRef,s);return k.useEffect(()=>{const l=s.current;if(l)return bP(l)},[]),a.jsx(UN,je(Y({},e),{ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bo(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Bo(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:Bo(e.onFocusOutside,l=>l.preventDefault())}))}),_P=k.forwardRef((e,r)=>{const t=qs(Ml,e.__scopeDialog),s=k.useRef(!1),o=k.useRef(!1);return a.jsx(UN,je(Y({},e),{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(s.current||(u=t.triggerRef.current)==null||u.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((m=t.triggerRef.current)==null?void 0:m.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}}))}),UN=k.forwardRef((e,r)=>{const p=e,{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l}=p,c=hr(p,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=qs(Ml,t),f=k.useRef(null),m=Vo(r,f);return RR(),a.jsxs(a.Fragment,{children:[a.jsx(xN,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(pN,je(Y({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ax(u.open)},c),{ref:m,onDismiss:()=>u.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(CP,{titleId:u.titleId}),a.jsx(EP,{contentRef:f,descriptionId:u.descriptionId})]})]})}),rx="DialogTitle",FN=k.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=qs(rx,t);return a.jsx(Ko.h2,je(Y({id:o.titleId},s),{ref:r}))});FN.displayName=rx;var zN="DialogDescription",BN=k.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=qs(zN,t);return a.jsx(Ko.p,je(Y({id:o.descriptionId},s),{ref:r}))});BN.displayName=zN;var qN="DialogClose",HN=k.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=qs(qN,t);return a.jsx(Ko.button,je(Y({type:"button"},s),{ref:r,onClick:Bo(e.onClick,()=>o.onOpenChange(!1))}))});HN.displayName=qN;function ax(e){return e?"open":"closed"}var GN="DialogTitleWarning",[SP,VN]=JA(GN,{contentName:Ml,titleName:rx,docsSlug:"dialog"}),CP=({titleId:e})=>{const r=VN(GN),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return k.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},$P="DialogDescriptionWarning",EP=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VN($P).contentName}}.`;return k.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");r&&o&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},TP=AN,OP=PN,AP=DN,RP=IN,PP=LN,MP=FN,DP=BN,KN=HN,WN="AlertDialog",[IP,tI]=uN(WN,[ON]),Wo=ON(),YN=e=>{const o=e,{__scopeAlertDialog:r}=o,t=hr(o,["__scopeAlertDialog"]),s=Wo(r);return a.jsx(TP,je(Y(Y({},s),t),{modal:!0}))};YN.displayName=WN;var LP="AlertDialogTrigger",UP=k.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Wo(t);return a.jsx(OP,je(Y(Y({},o),s),{ref:r}))});UP.displayName=LP;var FP="AlertDialogPortal",QN=e=>{const o=e,{__scopeAlertDialog:r}=o,t=hr(o,["__scopeAlertDialog"]),s=Wo(r);return a.jsx(AP,Y(Y({},s),t))};QN.displayName=FP;var zP="AlertDialogOverlay",XN=k.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Wo(t);return a.jsx(RP,je(Y(Y({},o),s),{ref:r}))});XN.displayName=zP;var qc="AlertDialogContent",[BP,qP]=IP(qc),HP=lR("AlertDialogContent"),ZN=k.forwardRef((e,r)=>{const m=e,{__scopeAlertDialog:t,children:s}=m,o=hr(m,["__scopeAlertDialog","children"]),l=Wo(t),c=k.useRef(null),u=Vo(r,c),f=k.useRef(null);return a.jsx(SP,{contentName:qc,titleName:JN,docsSlug:"alert-dialog",children:a.jsx(BP,{scope:t,cancelRef:f,children:a.jsxs(PP,je(Y(Y({role:"alertdialog"},l),o),{ref:u,onOpenAutoFocus:Bo(o.onOpenAutoFocus,p=>{var _;p.preventDefault(),(_=f.current)==null||_.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[a.jsx(HP,{children:s}),a.jsx(VP,{contentRef:c})]}))})})});ZN.displayName=qc;var JN="AlertDialogTitle",e4=k.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Wo(t);return a.jsx(MP,je(Y(Y({},o),s),{ref:r}))});e4.displayName=JN;var t4="AlertDialogDescription",r4=k.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Wo(t);return a.jsx(DP,je(Y(Y({},o),s),{ref:r}))});r4.displayName=t4;var GP="AlertDialogAction",a4=k.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Wo(t);return a.jsx(KN,je(Y(Y({},o),s),{ref:r}))});a4.displayName=GP;var n4="AlertDialogCancel",s4=k.forwardRef((e,r)=>{const u=e,{__scopeAlertDialog:t}=u,s=hr(u,["__scopeAlertDialog"]),{cancelRef:o}=qP(n4,t),l=Wo(t),c=Vo(r,o);return a.jsx(KN,je(Y(Y({},l),s),{ref:c}))});s4.displayName=n4;var VP=({contentRef:e})=>{const r=`\`${qc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qc}\` by passing a \`${t4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},KP=YN,WP=QN,YP=XN,QP=ZN,XP=a4,ZP=s4,JP=e4,eM=r4;function o4(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=o4(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function i4(){for(var e,r,t=0,s="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=o4(e))&&(s&&(s+=" "),s+=r);return s}const nx="-",tM=e=>{const r=aM(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const u=c.split(nx);return u[0]===""&&u.length!==1&&u.shift(),l4(u,r)||rM(c)},getConflictingClassGroupIds:(c,u)=>{const f=t[c]||[];return u&&s[c]?[...f,...s[c]]:f}}},l4=(e,r)=>{var c;if(e.length===0)return r.classGroupId;const t=e[0],s=r.nextPart.get(t),o=s?l4(e.slice(1),s):void 0;if(o)return o;if(r.validators.length===0)return;const l=e.join(nx);return(c=r.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},$w=/^\[(.+)\]$/,rM=e=>{if($w.test(e)){const r=$w.exec(e)[1],t=r==null?void 0:r.substring(0,r.indexOf(":"));if(t)return"arbitrary.."+t}},aM=e=>{const{theme:r,classGroups:t}=e,s={nextPart:new Map,validators:[]};for(const o in t)hy(t[o],s,o,r);return s},hy=(e,r,t,s)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?r:Ew(r,o);l.classGroupId=t;return}if(typeof o=="function"){if(nM(o)){hy(o(s),r,t,s);return}r.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([l,c])=>{hy(c,Ew(r,l),t,s)})})},Ew=(e,r)=>{let t=e;return r.split(nx).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},nM=e=>e.isThemeGetter,sM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=new Map,s=new Map;const o=(l,c)=>{t.set(l,c),r++,r>e&&(r=0,s=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return o(l,c),c},set(l,c){t.has(l)?t.set(l,c):o(l,c)}}},my="!",gy=":",oM=gy.length,iM=e=>{const{prefix:r,experimentalParseClassName:t}=e;let s=o=>{const l=[];let c=0,u=0,f=0,m;for(let T=0;T<o.length;T++){let $=o[T];if(c===0&&u===0){if($===gy){l.push(o.slice(f,T)),f=T+oM;continue}if($==="/"){m=T;continue}}$==="["?c++:$==="]"?c--:$==="("?u++:$===")"&&u--}const p=l.length===0?o:o.substring(f),_=lM(p),j=_!==p,C=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:j,baseClassName:_,maybePostfixModifierPosition:C}};if(r){const o=r+gy,l=s;s=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const o=s;s=l=>t({className:l,parseClassName:o})}return s},lM=e=>e.endsWith(my)?e.substring(0,e.length-1):e.startsWith(my)?e.substring(1):e,cM=e=>{const r=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let l=[];return s.forEach(c=>{c[0]==="["||r[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},dM=e=>Y({cache:sM(e.cacheSize),parseClassName:iM(e),sortModifiers:cM(e)},tM(e)),uM=/\s+/,fM=(e,r)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=r,c=[],u=e.trim().split(uM);let f="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{isExternal:_,modifiers:j,hasImportantModifier:C,baseClassName:T,maybePostfixModifierPosition:$}=t(p);if(_){f=p+(f.length>0?" "+f:f);continue}let O=!!$,P=s(O?T.substring(0,$):T);if(!P){if(!O){f=p+(f.length>0?" "+f:f);continue}if(P=s(T),!P){f=p+(f.length>0?" "+f:f);continue}O=!1}const q=l(j).join(":"),H=C?q+my:q,M=H+P;if(c.includes(M))continue;c.push(M);const K=o(P,O);for(let F=0;F<K.length;++F){const oe=K[F];c.push(H+oe)}f=p+(f.length>0?" "+f:f)}return f};function hM(){let e=0,r,t,s="";for(;e<arguments.length;)(r=arguments[e++])&&(t=c4(r))&&(s&&(s+=" "),s+=t);return s}const c4=e=>{if(typeof e=="string")return e;let r,t="";for(let s=0;s<e.length;s++)e[s]&&(r=c4(e[s]))&&(t&&(t+=" "),t+=r);return t};function mM(e,...r){let t,s,o,l=c;function c(f){const m=r.reduce((p,_)=>_(p),e());return t=dM(m),s=t.cache.get,o=t.cache.set,l=u,u(f)}function u(f){const m=s(f);if(m)return m;const p=fM(f,t);return o(f,p),p}return function(){return l(hM.apply(null,arguments))}}const Aa=e=>{const r=t=>t[e]||[];return r.isThemeGetter=!0,r},d4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,u4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gM=/^\d+\/\d+$/,pM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oc=e=>gM.test(e),wr=e=>!!e&&!Number.isNaN(Number(e)),_i=e=>!!e&&Number.isInteger(Number(e)),sp=e=>e.endsWith("%")&&wr(e.slice(0,-1)),Io=e=>pM.test(e),wM=()=>!0,jM=e=>yM.test(e)&&!xM.test(e),f4=()=>!1,NM=e=>bM.test(e),kM=e=>vM.test(e),_M=e=>!It(e)&&!Lt(e),SM=e=>ld(e,g4,f4),It=e=>d4.test(e),pl=e=>ld(e,p4,jM),op=e=>ld(e,OM,wr),Tw=e=>ld(e,h4,f4),CM=e=>ld(e,m4,kM),Of=e=>ld(e,y4,NM),Lt=e=>u4.test(e),mu=e=>cd(e,p4),$M=e=>cd(e,AM),Ow=e=>cd(e,h4),EM=e=>cd(e,g4),TM=e=>cd(e,m4),Af=e=>cd(e,y4,!0),ld=(e,r,t)=>{const s=d4.exec(e);return s?s[1]?r(s[1]):t(s[2]):!1},cd=(e,r,t=!1)=>{const s=u4.exec(e);return s?s[1]?r(s[1]):t:!1},h4=e=>e==="position"||e==="percentage",m4=e=>e==="image"||e==="url",g4=e=>e==="length"||e==="size"||e==="bg-size",p4=e=>e==="length",OM=e=>e==="number",AM=e=>e==="family-name",y4=e=>e==="shadow",RM=()=>{const e=Aa("color"),r=Aa("font"),t=Aa("text"),s=Aa("font-weight"),o=Aa("tracking"),l=Aa("leading"),c=Aa("breakpoint"),u=Aa("container"),f=Aa("spacing"),m=Aa("radius"),p=Aa("shadow"),_=Aa("inset-shadow"),j=Aa("text-shadow"),C=Aa("drop-shadow"),T=Aa("blur"),$=Aa("perspective"),O=Aa("aspect"),P=Aa("ease"),q=Aa("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...M(),Lt,It],F=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto","contain","none"],fe=()=>[Lt,It,f],X=()=>[Oc,"full","auto",...fe()],le=()=>[_i,"none","subgrid",Lt,It],he=()=>["auto",{span:["full",_i,Lt,It]},_i,Lt,It],ee=()=>[_i,"auto",Lt,It],ce=()=>["auto","min","max","fr",Lt,It],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],se=()=>["auto",...fe()],re=()=>[Oc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...fe()],de=()=>[e,Lt,It],He=()=>[...M(),Ow,Tw,{position:[Lt,It]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",EM,SM,{size:[Lt,It]}],ae=()=>[sp,mu,pl],ge=()=>["","none","full",m,Lt,It],ue=()=>["",wr,mu,pl],U=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[wr,sp,Ow,Tw],Ke=()=>["","none",T,Lt,It],ct=()=>["none",wr,Lt,It],dt=()=>["none",wr,Lt,It],kt=()=>[wr,Lt,It],ht=()=>[Oc,"full",...fe()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Io],breakpoint:[Io],color:[wM],container:[Io],"drop-shadow":[Io],ease:["in","out","in-out"],font:[_M],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Io],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Io],shadow:[Io],spacing:["px",wr],text:[Io],"text-shadow":[Io],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oc,It,Lt,O]}],container:["container"],columns:[{columns:[wr,It,Lt,u]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:oe()}],"overscroll-x":[{"overscroll-x":oe()}],"overscroll-y":[{"overscroll-y":oe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[_i,"auto",Lt,It]}],basis:[{basis:[Oc,"full","auto",u,...fe()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wr,Oc,"auto","initial","none",It]}],grow:[{grow:["",wr,Lt,It]}],shrink:[{shrink:["",wr,Lt,It]}],order:[{order:[_i,"first","last","none",Lt,It]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:he()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:he()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:fe()}],"gap-x":[{"gap-x":fe()}],"gap-y":[{"gap-y":fe()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:fe()}],px:[{px:fe()}],py:[{py:fe()}],ps:[{ps:fe()}],pe:[{pe:fe()}],pt:[{pt:fe()}],pr:[{pr:fe()}],pb:[{pb:fe()}],pl:[{pl:fe()}],m:[{m:se()}],mx:[{mx:se()}],my:[{my:se()}],ms:[{ms:se()}],me:[{me:se()}],mt:[{mt:se()}],mr:[{mr:se()}],mb:[{mb:se()}],ml:[{ml:se()}],"space-x":[{"space-x":fe()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":fe()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[u,"screen",...re()]}],"min-w":[{"min-w":[u,"screen","none",...re()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",t,mu,pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Lt,op]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sp,It]}],"font-family":[{font:[$M,It,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Lt,It]}],"line-clamp":[{"line-clamp":[wr,"none",Lt,op]}],leading:[{leading:[l,...fe()]}],"list-image":[{"list-image":["none",Lt,It]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Lt,It]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:[wr,"from-font","auto",Lt,pl]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[wr,"auto",Lt,It]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:fe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt,It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt,It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:He()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_i,Lt,It],radial:["",Lt,It],conic:[_i,Lt,It]},TM,CM]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...U(),"hidden","none"]}],"divide-style":[{divide:[...U(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...U(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wr,Lt,It]}],"outline-w":[{outline:["",wr,mu,pl]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",p,Af,Of]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",_,Af,Of]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[wr,pl]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",j,Af,Of]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[wr,Lt,It]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[Lt,It]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[wr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:He()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Lt,It]}],filter:[{filter:["","none",Lt,It]}],blur:[{blur:Ke()}],brightness:[{brightness:[wr,Lt,It]}],contrast:[{contrast:[wr,Lt,It]}],"drop-shadow":[{"drop-shadow":["","none",C,Af,Of]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",wr,Lt,It]}],"hue-rotate":[{"hue-rotate":[wr,Lt,It]}],invert:[{invert:["",wr,Lt,It]}],saturate:[{saturate:[wr,Lt,It]}],sepia:[{sepia:["",wr,Lt,It]}],"backdrop-filter":[{"backdrop-filter":["","none",Lt,It]}],"backdrop-blur":[{"backdrop-blur":Ke()}],"backdrop-brightness":[{"backdrop-brightness":[wr,Lt,It]}],"backdrop-contrast":[{"backdrop-contrast":[wr,Lt,It]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wr,Lt,It]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wr,Lt,It]}],"backdrop-invert":[{"backdrop-invert":["",wr,Lt,It]}],"backdrop-opacity":[{"backdrop-opacity":[wr,Lt,It]}],"backdrop-saturate":[{"backdrop-saturate":[wr,Lt,It]}],"backdrop-sepia":[{"backdrop-sepia":["",wr,Lt,It]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":fe()}],"border-spacing-x":[{"border-spacing-x":fe()}],"border-spacing-y":[{"border-spacing-y":fe()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Lt,It]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wr,"initial",Lt,It]}],ease:[{ease:["linear","initial",P,Lt,It]}],delay:[{delay:[wr,Lt,It]}],animate:[{animate:["none",q,Lt,It]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[$,Lt,It]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:ct()}],"rotate-x":[{"rotate-x":ct()}],"rotate-y":[{"rotate-y":ct()}],"rotate-z":[{"rotate-z":ct()}],scale:[{scale:dt()}],"scale-x":[{"scale-x":dt()}],"scale-y":[{"scale-y":dt()}],"scale-z":[{"scale-z":dt()}],"scale-3d":["scale-3d"],skew:[{skew:kt()}],"skew-x":[{"skew-x":kt()}],"skew-y":[{"skew-y":kt()}],transform:[{transform:[Lt,It,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ht()}],"translate-x":[{"translate-x":ht()}],"translate-y":[{"translate-y":ht()}],"translate-z":[{"translate-z":ht()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt,It]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":fe()}],"scroll-mx":[{"scroll-mx":fe()}],"scroll-my":[{"scroll-my":fe()}],"scroll-ms":[{"scroll-ms":fe()}],"scroll-me":[{"scroll-me":fe()}],"scroll-mt":[{"scroll-mt":fe()}],"scroll-mr":[{"scroll-mr":fe()}],"scroll-mb":[{"scroll-mb":fe()}],"scroll-ml":[{"scroll-ml":fe()}],"scroll-p":[{"scroll-p":fe()}],"scroll-px":[{"scroll-px":fe()}],"scroll-py":[{"scroll-py":fe()}],"scroll-ps":[{"scroll-ps":fe()}],"scroll-pe":[{"scroll-pe":fe()}],"scroll-pt":[{"scroll-pt":fe()}],"scroll-pr":[{"scroll-pr":fe()}],"scroll-pb":[{"scroll-pb":fe()}],"scroll-pl":[{"scroll-pl":fe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt,It]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[wr,mu,pl,op]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PM=mM(RM);function Ki(...e){return PM(i4(e))}const Aw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rw=i4,MM=(e,r)=>t=>{var s;if((r==null?void 0:r.variants)==null)return Rw(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:l}=r,c=Object.keys(o).map(m=>{const p=t==null?void 0:t[m],_=l==null?void 0:l[m];if(p===null)return null;const j=Aw(p)||Aw(_);return o[m][j]}),u=t&&Object.entries(t).reduce((m,p)=>{let[_,j]=p;return j===void 0||(m[_]=j),m},{}),f=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((m,p)=>{let T=p,{class:_,className:j}=T,C=hr(T,["class","className"]);return Object.entries(C).every($=>{let[O,P]=$;return Array.isArray(P)?P.includes(Y(Y({},l),u)[O]):Y(Y({},l),u)[O]===P})?[...m,_,j]:m},[]);return Rw(e,c,f,t==null?void 0:t.class,t==null?void 0:t.className)},x4=MM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function DM(r){var e=hr(r,[]);return a.jsx(KP,Y({"data-slot":"alert-dialog"},e))}function IM(r){var e=hr(r,[]);return a.jsx(WP,Y({"data-slot":"alert-dialog-portal"},e))}function LM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(YP,Y({"data-slot":"alert-dialog-overlay",className:Ki("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},r))}function UM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsxs(IM,{children:[a.jsx(LM,{}),a.jsx(QP,Y({"data-slot":"alert-dialog-content",className:Ki("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},r))]})}function FM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx("div",Y({"data-slot":"alert-dialog-header",className:Ki("flex flex-col gap-2 text-center sm:text-left",e)},r))}function zM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx("div",Y({"data-slot":"alert-dialog-footer",className:Ki("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},r))}function BM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(JP,Y({"data-slot":"alert-dialog-title",className:Ki("text-lg font-semibold",e)},r))}function qM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(eM,Y({"data-slot":"alert-dialog-description",className:Ki("text-muted-foreground text-sm",e)},r))}function HM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(XP,Y({className:Ki(x4(),e)},r))}function GM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(ZP,Y({className:Ki(x4({variant:"outline"}),e)},r))}function sx({isOpen:e,onClose:r,onConfirm:t,title:s="Are you sure?",message:o="This action cannot be undone.",confirmText:l="Continue",cancelText:c="Cancel",confirmButtonClass:u="bg-red-600 hover:bg-red-700 text-white"}){return a.jsx(DM,{open:e,onOpenChange:r,children:a.jsxs(UM,{children:[a.jsxs(FM,{children:[a.jsx(BM,{children:s}),a.jsx(qM,{children:o})]}),a.jsxs(zM,{children:[a.jsx(GM,{onClick:r,children:c}),a.jsx(HM,{onClick:t,className:u,children:l})]})]})})}const Uh=()=>new Date,ox=e=>{if(!e)return!1;const r=new Date(e),t=Uh();return r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()&&r.getUTCDate()===t.getUTCDate()},ix=e=>{if(!e)return!1;const r=new Date(e),t=Uh(),s=new Date(t);s.setUTCDate(t.getUTCDate()-t.getUTCDay()),s.setUTCHours(0,0,0,0);const o=new Date(s);return o.setUTCDate(s.getUTCDate()+6),o.setUTCHours(23,59,59,999),r>=s&&r<=o},lx=e=>{if(!e)return!1;const r=new Date(e),t=Uh();return r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()},cx=e=>{if(!e)return!1;const r=new Date(e),t=Uh();return r.getUTCFullYear()===t.getUTCFullYear()};function VM(){const e=da(),r=id("(max-width: 1024px)"),[t,s]=k.useState(""),[o,l]=k.useState("all"),[c,u]=k.useState("all"),[f,m]=k.useState("all"),[p]=k.useState(null),[_,j]=k.useState(!1),[C,T]=k.useState(!1),[$,O]=k.useState({}),[P,q]=k.useState(!1),[H,M]=k.useState(null),{createClosingEntry:K,isCreating:F}=ZA(),[oe,fe]=k.useState(!1),[X,le]=k.useState(null),{invoices:he,isLoading:ee,error:ce}=ex(),{modes:te,isLoading:pe,error:se}=Hy(),{posDetails:re}=Za(),de=(re==null?void 0:re.custom_hide_expected_amount)||!1,He=ye=>{if(c==="all")return!0;if(c==="today")return ox(ye);if(c==="yesterday"){const We=new Date;We.setUTCDate(We.getUTCDate()-1);const ft=new Date(ye);return ft.getUTCFullYear()===We.getUTCFullYear()&&ft.getUTCMonth()===We.getUTCMonth()&&ft.getUTCDate()===We.getUTCDate()}return c==="week"?ix(ye):c==="month"?lx(ye):c==="year"?cx(ye):!0},W=ye=>{const We="px-2 py-1 rounded-full text-xs font-medium";switch((ye==null?void 0:ye.toLowerCase())||""){case"paid":return`${We} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${We} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${We} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${We} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${We} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${We} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${We} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${We} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${We} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${We} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${We} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${We} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${We} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},z=k.useMemo(()=>ee?[]:ce?[]:he.filter(ye=>{const We=t===""||ye.id.toLowerCase().includes(t.toLowerCase())||ye.customer.toLowerCase().includes(t.toLowerCase())||ye.cashier&&ye.cashier.toLowerCase().includes(t.toLowerCase()),ft=o==="all"||ye.status===o,ur=f==="all"||ye.paymentMethod===f,Zt=He(ye.date),ne=!(re!=null&&re.name)||ye.posProfile===re.name,ze=!(re!=null&&re.current_opening_entry)||ye.custom_pos_opening_entry&&ye.custom_pos_opening_entry===re.current_opening_entry;return We&&ur&&ft&&Zt&&ne&&ze}),[he,t,o,c,f,ee,ce,re]),ae=k.useMemo(()=>{if(!te||te.length===0)return{};const ye=te.reduce((We,ft)=>(We[ft.name]={name:ft.name,openingAmount:ft.openingAmount||0,amount:0,transactions:0},We),{});return z.forEach(We=>{if(We.payment_methods&&Array.isArray(We.payment_methods))We.payment_methods.forEach(ft=>{if(ye[ft.mode_of_payment]){const Zt=We.status==="Return"?-Math.abs(ft.amount||0):ft.amount||0;ye[ft.mode_of_payment].amount+=Zt,We.payment_methods.indexOf(ft)===0&&(ye[ft.mode_of_payment].transactions+=1)}});else if(We.paymentMethod&&ye[We.paymentMethod]){const ur=We.status==="Return"?-Math.abs(We.totalAmount||0):We.totalAmount||0;ye[We.paymentMethod].amount+=ur,ye[We.paymentMethod].transactions+=1}}),Object.keys(ye).forEach(We=>{ye[We].amount+=ye[We].openingAmount}),ye},[te,z]),ge=Object.values(ae).reduce((ye,We)=>ye+We.amount,0);if(ee||pe)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices and payment modes..."})]})});if(ce)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading data"}),a.jsxs("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:["Invoices: ",ce.message]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const ue=se&&se.includes("No open POS Opening Entry found"),U=ye=>{e(`/invoice/${ye.id}`)},Q=ye=>{if(ye.status!=="Draft"){Ie.error("Only draft invoices can be deleted");return}le(ye),fe(!0)},Ae=()=>Ne(null,null,function*(){if(X)try{yield Gy(X.id),Ie.success(`Draft invoice ${X.id} deleted successfully`),fe(!1),le(null),window.location.reload()}catch(ye){Ie.error(ye.message||"Failed to delete invoice")}}),Ke=()=>{fe(!1),le(null)},ct=ye=>{dt(ye),j(!1)},dt=ye=>Ne(null,null,function*(){try{const We=yield $h(ye);Ie.success(`Invoice returned: ${We.return_invoice}`)}catch(We){Ie.error(We.message||"Failed to return invoice")}}),kt=ye=>!ye||!ye.items?(console.log("No invoice or items found for:",ye==null?void 0:ye.id),!1):ye.items.some(ft=>{const ur=ft.qty||ft.quantity||0;return(ft.returned_qty||0)<ur}),ht=ye=>{M(ye),q(!0)},zt=()=>{q(!1),M(null),window.location.reload()},be=ye=>{console.log("Cancelling invoice:",ye),j(!1)},Ze=(ye,We)=>{O(ft=>je(Y({},ft),{[ye]:parseFloat(We)||0}))},At=()=>Ne(null,null,function*(){try{const ye=Object.entries($).map(([We,ft])=>({mode_of_payment:We,closing_amount:ft||0}));yield K(ye),T(!1),By();try{yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"})}catch(We){console.warn("Failed to clear backend cache after close:",We)}e("/pos")}catch(ye){console.error("Error closing shift:",ye)}});return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Closing Shift"}),a.jsxs("button",{onClick:()=>T(!0),className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(bu,{className:"w-4 h-4"}),a.jsx("span",{children:"Close"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[ue&&a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:a.jsx(Fi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!de&&!ue&&a.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:Object.values(ae).map(ye=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ye.name}),ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-2xl",children:""}):a.jsx(Dn,{className:"w-8 h-8 text-beveren-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ye.amount,(re==null?void 0:re.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ge>0?(ye.amount/ge*100).toFixed(1):0,"% of total"]})]})]},ye.name))}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:ye=>s(ye.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:c,onChange:ye=>u(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:o,onChange:ye=>l(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:f,onChange:ye=>m(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),te.map(ye=>a.jsx("option",{value:ye.name,children:ye.name},ye.name))]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",z.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(re==null?void 0:re.is_zatca_enabled)&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:z.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ye.id}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ye.date," ",ye.time]})]})}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ye.customer}),ye.giftCardCode&&a.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:["Gift: ",ye.giftCardCode]})]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(ye.totalAmount,ye.currency)}),ye.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",_t(ye.giftCardDiscount,ye.currency)," gift"]})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:W(ye.status),children:ye.status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:W(ye.custom_zatca_submit_status),children:ye.custom_zatca_submit_status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>U(ye),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx($l,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),ye.status==="Draft"&&a.jsxs("button",{onClick:()=>Q(ye),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(bu,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ye.status)&&!ye.is_return&&kt(ye)&&a.jsxs("button",{onClick:()=>ht(ye),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(Ol,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]})]})})]},ye.id))})]})})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ra,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"space-y-4",children:Object.values(ae).map(ye=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-xl",children:""}):a.jsx(Dn,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ye.name})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_t(ye.openingAmount,(re==null?void 0:re.currency)||"USD")})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:$[ye.name]||"",onChange:We=>Ze(ye.name,We.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},ye.name))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),a.jsx("button",{onClick:At,disabled:F,className:`px-6 py-2 rounded-lg font-medium transition-colors ${F?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:F?"Closing...":"Close Shift"})]})]})}),a.jsx(ad,{invoice:p,isOpen:_,onClose:()=>j(!1),onRefund:ct,onCancel:be}),a.jsx(Jn,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Closing Shift"})}),a.jsxs("button",{onClick:()=>T(!0),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(bu,{className:"w-4 h-4"}),a.jsx("span",{children:"Close"})]})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 space-y-6",children:[ue&&a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:a.jsx(Fi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!de&&!ue&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(ae).map(ye=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ye.name}),ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-2xl",children:""}):a.jsx(Dn,{className:"w-8 h-8 text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ye.amount,(re==null?void 0:re.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ge>0?(ye.amount/ge*100).toFixed(1):0,"% of total"]})]})]},ye.name))})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:ye=>s(ye.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:c,onChange:ye=>u(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:o,onChange:ye=>l(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:f,onChange:ye=>m(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),te.map(ye=>a.jsx("option",{value:ye.name,children:ye.name},ye.name))]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",z.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(re==null?void 0:re.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:z.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ye.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ye.date," ",ye.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ye.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ye.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:ye.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(ye.totalAmount,ye.currency)}),ye.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",_t(ye.giftCardDiscount,ye.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:W(ye.status),children:ye.status})}),(re==null?void 0:re.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:W(ye.custom_zatca_submit_status),children:ye.custom_zatca_submit_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>U(ye),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx($l,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),ye.status==="Draft"&&a.jsxs("button",{onClick:()=>Q(ye),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(bu,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ye.status)&&!ye.is_return&&kt(ye)&&a.jsxs("button",{onClick:()=>ht(ye),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(Ol,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]})]})})]},ye.id))})]})})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ra,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"space-y-4",children:Object.values(ae).map(ye=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-xl",children:""}):a.jsx(Dn,{className:"w-5 h-5 text-beveren-600"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ye.name})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_t(ye.openingAmount,(re==null?void 0:re.currency)||"USD")})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:$[ye.name]||"",onChange:We=>Ze(ye.name,We.target.value),className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},ye.name))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),a.jsx("button",{onClick:At,disabled:F,className:`px-6 py-2 rounded-lg font-medium transition-colors ${F?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:F?"Closing...":"Close Shift"})]})]})}),a.jsx(ad,{invoice:p,isOpen:_,onClose:()=>j(!1),onRefund:ct,onCancel:be}),a.jsx(Bu,{invoice:H,isOpen:P,onClose:()=>q(!1),onSuccess:zt}),a.jsx(sx,{isOpen:oe,onClose:Ke,onConfirm:Ae,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${X==null?void 0:X.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})})}function KM(){const{user:e,logout:r}=Gi(),{theme:t,toggleTheme:s}=ph(),{language:o,setLanguage:l}=Ll(),c=da(),[u,f]=k.useState("profile"),m=M=>M.split(" ").map(K=>K.charAt(0).toUpperCase()).join("").substring(0,2),p=(e==null?void 0:e.full_name)||(e==null?void 0:e.name)||"Guest User",_=(e==null?void 0:e.email)||(e==null?void 0:e.name)||"No email",j=m(p),C=()=>Ne(null,null,function*(){try{yield r(),c("/login")}catch(M){console.error("Logout error:",M),c("/login")}}),T=[{id:"profile",title:"Profile Information",icon:Zn,description:"View and manage your profile details"},{id:"appearance",title:"Appearance",icon:WC,description:"Customize the app's look and feel"},{id:"language",title:"Language & Region",icon:Mp,description:"Set your preferred language and region"},{id:"account",title:"Account Settings",icon:wh,description:"Manage your account and security"}],$=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-beveren-600 to-beveren-700 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold",children:j})}),a.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-beveren-600 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:a.jsx(Ly,{size:16})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold",children:p}),a.jsx("p",{className:"text-beveren-100 text-lg",children:_})]})]})}),a.jsx("div",{className:"grid gap-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.full_name)||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:_})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User ID"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"Not provided"})]}),(e==null?void 0:e.first_name)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"First Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.first_name})]}),(e==null?void 0:e.last_name)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.last_name})]})]})]})})]}),O=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Theme Settings"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[t==="dark"?a.jsx(vh,{size:20,className:"text-gray-700 dark:text-gray-300"}):a.jsx(jh,{size:20,className:"text-gray-700 dark:text-gray-300"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t==="dark"?"Dark Mode":"Light Mode"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t==="dark"?"Using dark theme for better low-light viewing":"Using light theme for optimal daytime viewing"})]})]}),a.jsxs("button",{onClick:()=>{console.log("Theme toggle clicked, current theme:",t),s()},className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",type:"button",children:["Switch to ",t==="dark"?"Light":"Dark"]})]})})]})}),P=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Language Preferences"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Mp,{size:20,className:"text-gray-700 dark:text-gray-300"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Current Language: ",o==="en"?"English":"Arabic"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interface language and text direction"})]})]}),a.jsxs("button",{onClick:()=>l(o==="en"?"ar":"en"),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:["Switch to ",o==="en"?"Arabic":"English"]})]})})]})}),q=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xh,{size:20,className:"text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sign Out"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out of your account and return to login"})]})]}),a.jsx("button",{onClick:C,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out"})]})})]})}),H=()=>{switch(u){case"profile":return $();case"appearance":return O();case"language":return P();case"account":return q();default:return $()}};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center space-x-4 mb-4",children:a.jsxs("button",{onClick:()=>c("/pos"),className:"flex items-center space-x-2 text-gray-600 hover:text-beveren-600 dark:text-gray-300 dark:hover:text-beveren-400 transition-colors group",type:"button",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-beveren-50 dark:bg-gray-800 dark:group-hover:bg-beveren-900 transition-colors",children:a.jsx(zs,{size:20})}),a.jsx("span",{className:"font-medium",children:"Back to POS"})]})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Manage your account preferences and settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:a.jsx("nav",{className:"space-y-2",children:T.map(M=>{const K=M.icon;return a.jsxs("button",{onClick:()=>f(M.id),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${u===M.id?"bg-beveren-50 text-beveren-700 border border-beveren-200 dark:bg-beveren-900 dark:text-beveren-300 dark:border-beveren-700":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(K,{size:18}),a.jsx("span",{className:"font-medium",children:M.title})]}),a.jsx(X3,{size:16,className:"text-gray-400 dark:text-gray-500"})]},M.id)})})})}),a.jsx("div",{className:"lg:col-span-3",children:H()})]})]})})}function WM(){const{language:e,setLanguage:r}=Ll(),{user:t,logout:s}=Gi(),{theme:o,toggleTheme:l}=ph(),{posDetails:c}=Za(),[u,f]=k.useState(!1),m=k.useRef(null);k.useEffect(()=>{function $(O){m.current&&!m.current.contains(O.target)&&f(!1)}return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[m]);const p=()=>Ne(null,null,function*(){try{yield s(),window.location.href="/klik_pos/login"}catch($){console.error("Logout error:",$),window.location.href="/klik_pos/login"}}),_=$=>$.split(" ").map(O=>O.charAt(0).toUpperCase()).join("").substring(0,2),j=(t==null?void 0:t.full_name)||(t==null?void 0:t.name)||"Guest User",C=(c==null?void 0:c.name)||"POS Profile",T=_(j);return a.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 relative z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search menu",className:"w-full pl-10 pr-4 py-2 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:C}),a.jsx("p",{className:"text-sm text-gray-500",children:j})]}),a.jsxs("div",{className:"relative",ref:m,children:[a.jsx("button",{onClick:()=>{console.log("Avatar clicked, current showUserMenu:",u),f(!u)},className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white font-medium text-sm pointer-events-none",children:T})}),u&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-base",children:T})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:C}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(zy,{size:14,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-600 border border-gray-200 rounded px-2 py-1 bg-white truncate",children:j})]})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(Xu,{to:"/settings",onClick:()=>f(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(wh,{size:16,className:"mr-3 text-gray-500"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{l(),f(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[o==="dark"?a.jsx(jh,{size:16,className:"mr-3 text-gray-500"}):a.jsx(vh,{size:16,className:"mr-3 text-gray-500"}),a.jsx("span",{children:o==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>{r(e==="en"?"ar":"en"),f(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[a.jsx("span",{className:"mr-3 text-gray-500",children:""}),a.jsx("span",{children:e==="en"?"Switch to Arabic":"Switch to English"})]}),a.jsx("div",{className:"border-t border-gray-100 my-1"}),a.jsxs("button",{onClick:()=>{p(),f(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",type:"button",children:[a.jsx(xh,{size:16,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"flex-1 max-w-md"})]})})})}function ip({method:e,title:r,icon:t,selected:s,onSelect:o,total:l}){const{t:c}=Ll(),[u,f]=k.useState(!1),m=()=>{o(),f(!0)},p=()=>{switch(t){case"cash":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"card":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"wallet":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"})});default:return null}};return a.jsxs("div",{onClick:m,className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${s?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`mx-auto mb-3 ${s?"text-green-600":"text-gray-400"}`,children:p()}),a.jsx("h3",{className:"font-semibold text-gray-800",children:r})]}),s&&u&&a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e==="cash"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("AMOUNT_RECEIVED")}),a.jsx("input",{type:"number",defaultValue:l,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[c("CHANGE"),":  0.00"]})]}),e==="card"&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:c("INSERT_OR_TAP_CARD")}),a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mx-auto"})})]}),e==="wallet"&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded mx-auto mb-2 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500",children:"QR Code"})}),a.jsx("div",{className:"text-sm text-gray-600",children:c("SCAN_WITH_STC_PAY")})]})]})]})}function YM({qrCodeURL:e,caption:r}){return a.jsxs("div",{className:"text-center",children:[a.jsx("img",{src:e||"/placeholder.svg",alt:"ZATCA QR Code",className:"w-32 h-32 mx-auto border border-gray-200 rounded"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r})]})}function QM(){const r=uh().invoiceId,{t,isRTL:s}=Ll(),[o,l]=k.useState(null),[c,u]=k.useState(null),[f,m]=k.useState(!0);k.useEffect(()=>{p()},[r]);const p=()=>Ne(null,null,function*(){try{const C={invoiceId:r,dateTime:new Date().toISOString(),items:[{itemCode:"ITEM001",nameEn:"Wireless Headphones",nameAr:" ",qty:1,unitPrice:299,lineTotal:299}],subtotal:299,vat:14.95,total:313.95,qrCodeURL:"/placeholder.svg?height=128&width=128"};l(C)}catch(C){console.error("Failed to load invoice data:",C)}finally{m(!1)}}),_=C=>{u(C)},j=()=>Ne(null,null,function*(){if(!(!c||!o))try{console.log("Processing payment:",c,o.invoiceId)}catch(C){console.error("Payment failed:",C)}});return f?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-700"})}):o?a.jsxs("div",{className:`min-h-screen bg-gray-50 ${s?"rtl":"ltr"}`,children:[a.jsx(WM,{}),a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("INVOICE_SUMMARY")}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[t("INVOICE_ID"),": ",o.invoiceId]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[t("DATE_TIME"),": ",new Date(o.dateTime).toLocaleString()]})]}),a.jsx("div",{className:"border-t pt-4",children:o.items.map((C,T)=>a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:s?C.nameAr:C.nameEn}),a.jsxs("div",{className:"text-sm text-gray-600",children:[C.qty,"   ",C.unitPrice.toFixed(2)]})]}),a.jsxs("div",{className:"font-semibold",children:[" ",C.lineTotal.toFixed(2)]})]},T))}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("div",{className:"flex justify-between py-1",children:[a.jsx("span",{children:t("SUBTOTAL")}),a.jsxs("span",{children:[" ",o.subtotal.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between py-1",children:[a.jsxs("span",{children:[t("VAT")," (5%)"]}),a.jsxs("span",{children:[" ",o.vat.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t",children:[a.jsx("span",{children:t("TOTAL")}),a.jsxs("span",{children:[" ",o.total.toFixed(2)]})]})]}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(YM,{qrCodeURL:o.qrCodeURL,caption:t("SCAN_TO_VERIFY")})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("PAYMENT_METHODS")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ip,{method:"cash",title:t("CASH"),icon:"cash",selected:c==="cash",onSelect:()=>_("cash"),total:o.total}),a.jsx(ip,{method:"card",title:t("CARD"),icon:"card",selected:c==="card",onSelect:()=>_("card"),total:o.total}),a.jsx(ip,{method:"wallet",title:t("DIGITAL_WALLET"),icon:"wallet",selected:c==="wallet",onSelect:()=>_("wallet"),total:o.total})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("button",{className:"text-green-700 hover:text-green-800 font-medium",children:t("BACK_TO_CART")}),a.jsx("button",{onClick:j,disabled:!c,className:"flex-1 bg-green-700 text-white py-3 px-6 rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t("CONFIRM_PAYMENT")})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:t("INVOICE_NOT_FOUND")})})})}function b4(){var fe,X,le;const e=da(),r=id("(max-width: 1024px)"),[t,s]=k.useState(""),[o,l]=k.useState(!1),[c,u]=k.useState(null),[f,m]=k.useState({}),[p,_]=k.useState(null),{customers:j,isLoading:C,error:T,totalCount:$,loadMore:O}=Mh(t);k.useEffect(()=>{Ne(null,null,function*(){var he;try{const ce=yield(yield fetch("/api/method/klik_pos.api.customer.get_global_totals")).json();(he=ce==null?void 0:ce.message)!=null&&he.success&&_({total_customers:ce.message.total_customers,total_invoices:ce.message.total_invoices})}catch(ee){}})},[]);const P=k.useMemo(()=>C?[]:T?[]:j.sort((ee,ce)=>{const te=ee.createdAt?new Date(ee.createdAt).getTime():0;return(ce.createdAt?new Date(ce.createdAt).getTime():0)-te}),[j,C,T]),q=k.useMemo(()=>{if(C)return{total:0,totalOrders:0};const he=j.length,ee=j.reduce((ce,te)=>ce+(te.totalOrders||0),0);return{total:he,totalOrders:ee}},[j,C]);if(C&&j.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customers..."})]})});if(T)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customers"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:T.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const H=(he,ee)=>{let ce="USD";if(ee&&ee.trim()&&ee.length===3)try{new Intl.NumberFormat("en-US",{style:"currency",currency:ee}),ce=ee}catch(te){console.warn(`Invalid currency code: ${ee}, falling back to AED`),ce="USD"}return new Intl.NumberFormat("en-US",{style:"currency",currency:ce}).format(he)},M=he=>new Date(he).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),K=he=>he.split(" ").map(ee=>ee.charAt(0).toUpperCase()).join("").substring(0,2),F=he=>{const ee=he.target.value;s(ee)},oe=he=>{if(he.key==="Enter"&&t.trim()&&(he.preventDefault(),!P.find(ce=>{var te;return ce.name.toLowerCase()===t.toLowerCase()||((te=ce.email)==null?void 0:te.toLowerCase())===t.toLowerCase()||ce.phone===t}))){const ce=t.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ce)?m({email:ce}):/^[\d\s+\-()]+$/.test(ce)&&ce.replace(/[\s+\-()]/g,"").length>=7?m({phone:ce}):m({name:ce}),l(!0),s("")}};return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Customers"}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2 text-sm",children:[a.jsx(qo,{size:16}),a.jsx("span",{children:"Add"})]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:a.jsxs("div",{className:"mx-auto w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"text-orange-500",size:24}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[j.length," of ",(X=(fe=p==null?void 0:p.total_customers)!=null?fe:$)!=null?X:j.length]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(le=p==null?void 0:p.total_invoices)!=null?le:q.totalOrders})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:t,onChange:F,onKeyPress:oe,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}),C&&j.length>0&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]})})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:P.map(he=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${he.id}`),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:K(he.name)})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:he.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",he.id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[a.jsx(Tl,{size:14,className:"mr-2 text-gray-400"}),he.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Nu,{size:14,className:"mr-2 text-gray-400"}),he.phone]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[he.totalOrders," orders"]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:H(he.totalSpent,he.defaultCurrency||he.companyCurrency)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:he.lastVisit?M(he.lastVisit):"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:ee=>{ee.stopPropagation(),e(`/customers/${he.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:a.jsx($l,{size:16})}),a.jsx("button",{onClick:ee=>{ee.stopPropagation(),u(he),l(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(Al,{size:16})})]})})]},he.id))})]})}),P.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Li,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t?"Try adjusting your search criteria.":"Get started by adding your first customer."})]}),$>j.length&&a.jsx("div",{className:"p-4 text-center",children:a.jsxs("button",{onClick:O,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:["Load More (",j.length,"/",$,")"]})})]})]})}),o&&a.jsxs(a.Fragment,{children:[console.log("Opening modal with prefilled data:",f),a.jsx(Pl,{customer:c,onClose:()=>{l(!1),u(null),m({})},onSave:he=>{console.log("Saving customer:",he),!c&&he.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(l(!1),u(null),m({}))},prefilledData:f})]}),a.jsx(Jn,{})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-beveren-600 text-white px-6 py-3 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2",children:[a.jsx(qo,{size:20}),a.jsx("span",{children:"Add Customer"})]})]})})}),a.jsx("div",{className:"flex-1 px-6 py-8 mt-16 lg:ml-20 max-w-none",children:a.jsxs("div",{className:"mx-auto w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"text-orange-500",size:24}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[j.length," of ",$||j.length]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:q.totalOrders})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:t,onChange:F,onKeyPress:oe,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"})]})})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:P.map(he=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${he.id}`),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:K(he.name)})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:he.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",he.id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[a.jsx(Tl,{size:14,className:"mr-2 text-gray-400"}),he.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Nu,{size:14,className:"mr-2 text-gray-400"}),he.phone]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:he.totalOrders>0?`${he.totalOrders} orders`:"No orders"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:he.totalSpent>0?H(he.totalSpent,he.defaultCurrency||he.companyCurrency):"No purchases"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:he.lastVisit?M(he.lastVisit):"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:ee=>{ee.stopPropagation(),e(`/customers/${he.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:a.jsx($l,{size:16})}),a.jsx("button",{onClick:ee=>{ee.stopPropagation(),u(he),l(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(Al,{size:16})})]})})]},he.id))})]})})})]})}),o&&a.jsxs(a.Fragment,{children:[console.log("Opening modal with prefilled data:",f),a.jsx(Pl,{customer:c,onClose:()=>{l(!1),u(null),m({})},onSave:he=>{console.log("Saving customer (desktop):",he),!c&&he.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(l(!1),u(null),m({}))},prefilledData:f})]})]})}function XM(){const e=da(),{cartItems:r,appliedCoupons:t,updateQuantity:s,removeItem:o,clearCart:l,applyCoupon:c,removeCoupon:u}=Ul();return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(zs,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.length," ",r.length===1?"item":"items"]})]})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx(oN,{cartItems:r,onUpdateQuantity:s,onRemoveItem:o,onClearCart:l,appliedCoupons:t,onApplyCoupon:c,onRemoveCoupon:u,isMobile:!0})}),a.jsx(Jn,{})]})}function ZM(){const e=da();return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(zs,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Customers"})]})})}),a.jsx("div",{className:"flex-1 pb-20 overflow-hidden",children:a.jsx(b4,{})}),a.jsx(Jn,{})]})}function JM(){const e=da(),r=s=>{console.log("Saving customer:",s),e(-1)},t=()=>{e(-1)};return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(zs,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Add Customer"})]})})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx("div",{className:"h-full bg-white dark:bg-gray-800",children:a.jsx(Pl,{onClose:t,onSave:r,isFullPage:!0})})}),a.jsx(Jn,{})]})}function eD(){const e=da(),{cartItems:r,appliedCoupons:t,selectedCustomer:s,clearCart:o}=Ul(),{refreshStockOnly:l,updateBatchQuantitiesForItems:c}=hh(),u=()=>{console.log("MobilePaymentPage: Payment was not completed - keeping cart items"),Ne(null,null,function*(){try{yield l(),console.log("Stock refreshed after payment modal close");const p=r.map(_=>_.item_code||_.id);p.length>0&&(console.log("MobilePaymentPage: Updating batch quantities for cart items:",p),yield c(p),console.log("MobilePaymentPage: Batch quantities updated successfully"))}catch(p){console.error("Failed to refresh stock:",p)}}),e(-1)},f=p=>Ne(null,null,function*(){console.log("Payment completed:",p),console.log("MobilePaymentPage: Payment completed - cart will be cleared when page is closed")}),m=p=>{console.log("Order held:",p),o(),e("/pos")};return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(zs,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Payment"})]})})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx(Vy,{isOpen:!0,onClose:u,cartItems:r,appliedCoupons:t,selectedCustomer:s,onCompletePayment:f,onHoldOrder:m,isMobile:!0,isFullPage:!0})}),a.jsx(Jn,{})]})}function tD({children:e,excludePaths:r=["/settings","/login"]}){const{isRTL:t}=Ll(),s=In(),[o,l]=k.useState(!1),[c,u]=k.useState(null),[f,m]=k.useState(!0),[p,_]=k.useState(null),[j,C]=k.useState(!1),{hasOpenEntry:T,isLoading:$,error:O,refetch:P}=k3(),q=()=>{const F=s.pathname;return r.some(oe=>F.includes(oe))};k.useEffect(()=>{Ne(null,null,function*(){try{m(!0),_(null),fs.initializeSession();const oe=yield fs.getCurrentUserProfile();if(oe)u({name:oe.name,email:oe.email||oe.name,full_name:oe.full_name||oe.first_name+" "+(oe.last_name||""),role:oe.role_profile_name||"User",user_image:oe.user_image});else{const fe=yield fs.getCurrentUser();fe?u({name:fe,email:fe,full_name:fe,role:"User"}):_("No user session found")}}catch(oe){console.error("Error fetching current user:",oe),_(oe.message||"Failed to fetch user")}finally{m(!1)}})},[]),k.useEffect(()=>{q()||T!==null&&j&&P()},[s.pathname,P,T,j]),k.useEffect(()=>{const F=()=>{if(!document.hidden){const oe=s.pathname;r.some(X=>oe.includes(X))||P()}};return document.addEventListener("visibilitychange",F),()=>{document.removeEventListener("visibilitychange",F)}},[P,s.pathname,r]),k.useEffect(()=>{if(q()){C(!0),l(!1);return}if(!(T===null&&($||f))){if(p){C(!0),l(!1);return}T!==null?T===!0?(l(!1),C(!0)):(l(!0),C(!0)):!$&&O&&(l(!0),C(!0))}},[T,$,O,f,p,s.pathname]);const H=()=>{l(!1),C(!0),setTimeout(()=>{P()},500)},M=()=>{};return q()?a.jsx(a.Fragment,{children:e}):T===null&&($||f)?a.jsx("div",{className:`min-h-screen bg-gray-50 ${t?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),a.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):T!==!0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pointer-events-none opacity-50",children:e}),a.jsx(lN,{isOpen:o,onClose:M,onSuccess:H,currentUser:(c==null?void 0:c.name)||"Unknown User"})]}):a.jsx(a.Fragment,{children:e})}const bn=({element:e})=>{const{isAuthenticated:r,loading:t}=Gi(),s=In();return t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),a.jsx("p",{className:"text-beveren-600 mt-4",children:"Verifying access..."})]})}):r?a.jsx(tD,{excludePaths:["/settings"],children:e}):a.jsx(w6,{to:"/login",state:{from:s},replace:!0})};var Fh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zh=typeof window=="undefined"||"Deno"in globalThis;function Ms(){}function rD(e,r){return typeof e=="function"?e(r):e}function aD(e){return typeof e=="number"&&e>=0&&e!==1/0}function nD(e,r){return Math.max(e+(r||0)-Date.now(),0)}function py(e,r){return typeof e=="function"?e(r):e}function sD(e,r){return typeof e=="function"?e(r):e}function Pw(e,r){const{type:t="all",exact:s,fetchStatus:o,predicate:l,queryKey:c,stale:u}=e;if(c){if(s){if(r.queryHash!==dx(c,r.options))return!1}else if(!Vu(r.queryKey,c))return!1}if(t!=="all"){const f=r.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof u=="boolean"&&r.isStale()!==u||o&&o!==r.state.fetchStatus||l&&!l(r))}function Mw(e,r){const{exact:t,status:s,predicate:o,mutationKey:l}=e;if(l){if(!r.options.mutationKey)return!1;if(t){if(Gu(r.options.mutationKey)!==Gu(l))return!1}else if(!Vu(r.options.mutationKey,l))return!1}return!(s&&r.state.status!==s||o&&!o(r))}function dx(e,r){return((r==null?void 0:r.queryKeyHashFn)||Gu)(e)}function Gu(e){return JSON.stringify(e,(r,t)=>yy(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function Vu(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(t=>Vu(e[t],r[t])):!1}function v4(e,r){if(e===r)return e;const t=Dw(e)&&Dw(r);if(t||yy(e)&&yy(r)){const s=t?e:Object.keys(e),o=s.length,l=t?r:Object.keys(r),c=l.length,u=t?[]:{},f=new Set(s);let m=0;for(let p=0;p<c;p++){const _=t?p:l[p];(!t&&f.has(_)||t)&&e[_]===void 0&&r[_]===void 0?(u[_]=void 0,m++):(u[_]=v4(e[_],r[_]),u[_]===e[_]&&e[_]!==void 0&&m++)}return o===c&&m===o?e:u}return r}function Dw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yy(e){if(!Iw(e))return!1;const r=e.constructor;if(r===void 0)return!0;const t=r.prototype;return!(!Iw(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Iw(e){return Object.prototype.toString.call(e)==="[object Object]"}function oD(e){return new Promise(r=>{setTimeout(r,e)})}function iD(e,r,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,r):t.structuralSharing!==!1?v4(e,r):r}function lD(e,r,t=0){const s=[...e,r];return t&&s.length>t?s.slice(1):s}function cD(e,r,t=0){const s=[r,...e];return t&&s.length>t?s.slice(0,-1):s}var ux=Symbol();function w4(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===ux?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var bl,Ai,Hc,Bw,dD=(Bw=class extends Fh{constructor(){super();Ur(this,bl);Ur(this,Ai);Ur(this,Hc);gr(this,Hc,r=>{if(!zh&&window.addEventListener){const t=()=>r();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){nt(this,Ai)||this.setEventListener(nt(this,Hc))}onUnsubscribe(){var r;this.hasListeners()||((r=nt(this,Ai))==null||r.call(this),gr(this,Ai,void 0))}setEventListener(r){var t;gr(this,Hc,r),(t=nt(this,Ai))==null||t.call(this),gr(this,Ai,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){nt(this,bl)!==r&&(gr(this,bl,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(t=>{t(r)})}isFocused(){var r;return typeof nt(this,bl)=="boolean"?nt(this,bl):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},bl=new WeakMap,Ai=new WeakMap,Hc=new WeakMap,Bw),j4=new dD,Gc,Ri,Vc,qw,uD=(qw=class extends Fh{constructor(){super();Ur(this,Gc,!0);Ur(this,Ri);Ur(this,Vc);gr(this,Vc,r=>{if(!zh&&window.addEventListener){const t=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){nt(this,Ri)||this.setEventListener(nt(this,Vc))}onUnsubscribe(){var r;this.hasListeners()||((r=nt(this,Ri))==null||r.call(this),gr(this,Ri,void 0))}setEventListener(r){var t;gr(this,Vc,r),(t=nt(this,Ri))==null||t.call(this),gr(this,Ri,r(this.setOnline.bind(this)))}setOnline(r){nt(this,Gc)!==r&&(gr(this,Gc,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return nt(this,Gc)}},Gc=new WeakMap,Ri=new WeakMap,Vc=new WeakMap,qw),ih=new uD;function fD(){let e,r;const t=new Promise((o,l)=>{e=o,r=l});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),e(o)},t.reject=o=>{s({status:"rejected",reason:o}),r(o)},t}function hD(e){return Math.min(1e3*zv(2,e),3e4)}function N4(e){return(e!=null?e:"online")==="online"?ih.isOnline():!0}var k4=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lp(e){return e instanceof k4}function _4(e){let r=!1,t=0,s=!1,o;const l=fD(),c=$=>{var O;s||(j(new k4($)),(O=e.abort)==null||O.call(e))},u=()=>{r=!0},f=()=>{r=!1},m=()=>j4.isFocused()&&(e.networkMode==="always"||ih.isOnline())&&e.canRun(),p=()=>N4(e.networkMode)&&e.canRun(),_=$=>{var O;s||(s=!0,(O=e.onSuccess)==null||O.call(e,$),o==null||o(),l.resolve($))},j=$=>{var O;s||(s=!0,(O=e.onError)==null||O.call(e,$),o==null||o(),l.reject($))},C=()=>new Promise($=>{var O;o=P=>{(s||m())&&$(P)},(O=e.onPause)==null||O.call(e)}).then(()=>{var $;o=void 0,s||($=e.onContinue)==null||$.call(e)}),T=()=>{if(s)return;let $;const O=t===0?e.initialPromise:void 0;try{$=O!=null?O:e.fn()}catch(P){$=Promise.reject(P)}Promise.resolve($).then(_).catch(P=>{var F,oe,fe;if(s)return;const q=(F=e.retry)!=null?F:zh?0:3,H=(oe=e.retryDelay)!=null?oe:hD,M=typeof H=="function"?H(t,P):H,K=q===!0||typeof q=="number"&&t<q||typeof q=="function"&&q(t,P);if(r||!K){j(P);return}t++,(fe=e.onFail)==null||fe.call(e,t,P),oD(M).then(()=>m()?void 0:C()).then(()=>{r?j(P):T()})})};return{promise:l,cancel:c,continue:()=>(o==null||o(),l),cancelRetry:u,continueRetry:f,canStart:p,start:()=>(p()?T():C().then(T),l)}}var mD=e=>setTimeout(e,0);function gD(){let e=[],r=0,t=u=>{u()},s=u=>{u()},o=mD;const l=u=>{r?e.push(u):o(()=>{t(u)})},c=()=>{const u=e;e=[],u.length&&o(()=>{s(()=>{u.forEach(f=>{t(f)})})})};return{batch:u=>{let f;r++;try{f=u()}finally{r--,r||c()}return f},batchCalls:u=>(...f)=>{l(()=>{u(...f)})},schedule:l,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{o=u}}}var wn=gD(),vl,Hw,S4=(Hw=class{constructor(){Ur(this,vl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aD(this.gcTime)&&gr(this,vl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:zh?1/0:5*60*1e3)}clearGcTimeout(){nt(this,vl)&&(clearTimeout(nt(this,vl)),gr(this,vl,void 0))}},vl=new WeakMap,Hw),Kc,wl,ds,jl,un,Ku,Nl,Ds,Lo,Gw,pD=(Gw=class extends S4{constructor(r){var t;super();Ur(this,Ds);Ur(this,Kc);Ur(this,wl);Ur(this,ds);Ur(this,jl);Ur(this,un);Ur(this,Ku);Ur(this,Nl);gr(this,Nl,!1),gr(this,Ku,r.defaultOptions),this.setOptions(r.options),this.observers=[],gr(this,jl,r.client),gr(this,ds,nt(this,jl).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,gr(this,Kc,xD(this.options)),this.state=(t=r.state)!=null?t:nt(this,Kc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=nt(this,un))==null?void 0:r.promise}setOptions(r){this.options=Y(Y({},nt(this,Ku)),r),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&nt(this,ds).remove(this)}setData(r,t){const s=iD(this.state.data,r,this.options);return cn(this,Ds,Lo).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(r,t){cn(this,Ds,Lo).call(this,{type:"setState",state:r,setStateOptions:t})}cancel(r){var s,o;const t=(s=nt(this,un))==null?void 0:s.promise;return(o=nt(this,un))==null||o.cancel(r),t?t.then(Ms).catch(Ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(nt(this,Kc))}isActive(){return this.observers.some(r=>sD(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ux||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>py(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!nD(this.state.dataUpdatedAt,r)}onFocus(){var t;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(t=nt(this,un))==null||t.continue()}onOnline(){var t;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(t=nt(this,un))==null||t.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),nt(this,ds).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(t=>t!==r),this.observers.length||(nt(this,un)&&(nt(this,Nl)?nt(this,un).cancel({revert:!0}):nt(this,un).cancelRetry()),this.scheduleGc()),nt(this,ds).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,Ds,Lo).call(this,{type:"invalidate"})}fetch(r,t){var m,p,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(nt(this,un))return nt(this,un).continueRetry(),nt(this,un).promise}if(r&&this.setOptions(r),!this.options.queryFn){const j=this.observers.find(C=>C.options.queryFn);j&&this.setOptions(j.options)}const s=new AbortController,o=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(gr(this,Nl,!0),s.signal)})},l=()=>{const j=w4(this.options,t),T=(()=>{const $={client:nt(this,jl),queryKey:this.queryKey,meta:this.meta};return o($),$})();return gr(this,Nl,!1),this.options.persister?this.options.persister(j,T,this):j(T)},u=(()=>{const j={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:nt(this,jl),state:this.state,fetchFn:l};return o(j),j})();(m=this.options.behavior)==null||m.onFetch(u,this),gr(this,wl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&cn(this,Ds,Lo).call(this,{type:"fetch",meta:(_=u.fetchOptions)==null?void 0:_.meta});const f=j=>{var C,T,$,O;lp(j)&&j.silent||cn(this,Ds,Lo).call(this,{type:"error",error:j}),lp(j)||((T=(C=nt(this,ds).config).onError)==null||T.call(C,j,this),(O=($=nt(this,ds).config).onSettled)==null||O.call($,this.state.data,j,this)),this.scheduleGc()};return gr(this,un,_4({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:j=>{var C,T,$,O;if(j===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(j)}catch(P){f(P);return}(T=(C=nt(this,ds).config).onSuccess)==null||T.call(C,j,this),(O=($=nt(this,ds).config).onSettled)==null||O.call($,j,this.state.error,this),this.scheduleGc()},onError:f,onFail:(j,C)=>{cn(this,Ds,Lo).call(this,{type:"failed",failureCount:j,error:C})},onPause:()=>{cn(this,Ds,Lo).call(this,{type:"pause"})},onContinue:()=>{cn(this,Ds,Lo).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),nt(this,un).start()}},Kc=new WeakMap,wl=new WeakMap,ds=new WeakMap,jl=new WeakMap,un=new WeakMap,Ku=new WeakMap,Nl=new WeakMap,Ds=new WeakSet,Lo=function(r){const t=s=>{var o,l;switch(r.type){case"failed":return je(Y({},s),{fetchFailureCount:r.failureCount,fetchFailureReason:r.error});case"pause":return je(Y({},s),{fetchStatus:"paused"});case"continue":return je(Y({},s),{fetchStatus:"fetching"});case"fetch":return je(Y(Y({},s),yD(s.data,this.options)),{fetchMeta:(o=r.meta)!=null?o:null});case"success":return gr(this,wl,void 0),Y(je(Y({},s),{data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(l=r.dataUpdatedAt)!=null?l:Date.now(),error:null,isInvalidated:!1,status:"success"}),!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const c=r.error;return lp(c)&&c.revert&&nt(this,wl)?je(Y({},nt(this,wl)),{fetchStatus:"idle"}):je(Y({},s),{error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"});case"invalidate":return je(Y({},s),{isInvalidated:!0});case"setState":return Y(Y({},s),r.state)}};this.state=t(this.state),wn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),nt(this,ds).notify({query:this,type:"updated",action:r})})},Gw);function yD(e,r){return Y({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:N4(r.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function xD(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,t=r!==void 0,s=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:t?s!=null?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ao,Vw,bD=(Vw=class extends Fh{constructor(r={}){super();Ur(this,ao);this.config=r,gr(this,ao,new Map)}build(r,t,s){var u;const o=t.queryKey,l=(u=t.queryHash)!=null?u:dx(o,t);let c=this.get(l);return c||(c=new pD({client:r,queryKey:o,queryHash:l,options:r.defaultQueryOptions(t),state:s,defaultOptions:r.getQueryDefaults(o)}),this.add(c)),c}add(r){nt(this,ao).has(r.queryHash)||(nt(this,ao).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const t=nt(this,ao).get(r.queryHash);t&&(r.destroy(),t===r&&nt(this,ao).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){wn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return nt(this,ao).get(r)}getAll(){return[...nt(this,ao).values()]}find(r){const t=Y({exact:!0},r);return this.getAll().find(s=>Pw(t,s))}findAll(r={}){const t=this.getAll();return Object.keys(r).length>0?t.filter(s=>Pw(r,s)):t}notify(r){wn.batch(()=>{this.listeners.forEach(t=>{t(r)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},ao=new WeakMap,Vw),no,vn,kl,so,$i,Kw,vD=(Kw=class extends S4{constructor(r){super();Ur(this,so);Ur(this,no);Ur(this,vn);Ur(this,kl);this.mutationId=r.mutationId,gr(this,vn,r.mutationCache),gr(this,no,[]),this.state=r.state||wD(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){nt(this,no).includes(r)||(nt(this,no).push(r),this.clearGcTimeout(),nt(this,vn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){gr(this,no,nt(this,no).filter(t=>t!==r)),this.scheduleGc(),nt(this,vn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){nt(this,no).length||(this.state.status==="pending"?this.scheduleGc():nt(this,vn).remove(this))}continue(){var r,t;return(t=(r=nt(this,kl))==null?void 0:r.continue())!=null?t:this.execute(this.state.variables)}execute(r){return Ne(this,null,function*(){var l,c,u,f,m,p,_,j,C,T,$,O,P,q,H,M,K,F,oe,fe,X;const t=()=>{cn(this,so,$i).call(this,{type:"continue"})};gr(this,kl,_4({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(le,he)=>{cn(this,so,$i).call(this,{type:"failed",failureCount:le,error:he})},onPause:()=>{cn(this,so,$i).call(this,{type:"pause"})},onContinue:t,retry:(l=this.options.retry)!=null?l:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>nt(this,vn).canRun(this)}));const s=this.state.status==="pending",o=!nt(this,kl).canStart();try{if(s)t();else{cn(this,so,$i).call(this,{type:"pending",variables:r,isPaused:o}),yield(u=(c=nt(this,vn).config).onMutate)==null?void 0:u.call(c,r,this);const he=yield(m=(f=this.options).onMutate)==null?void 0:m.call(f,r);he!==this.state.context&&cn(this,so,$i).call(this,{type:"pending",context:he,variables:r,isPaused:o})}const le=yield nt(this,kl).start();return yield(_=(p=nt(this,vn).config).onSuccess)==null?void 0:_.call(p,le,r,this.state.context,this),yield(C=(j=this.options).onSuccess)==null?void 0:C.call(j,le,r,this.state.context),yield($=(T=nt(this,vn).config).onSettled)==null?void 0:$.call(T,le,null,this.state.variables,this.state.context,this),yield(P=(O=this.options).onSettled)==null?void 0:P.call(O,le,null,r,this.state.context),cn(this,so,$i).call(this,{type:"success",data:le}),le}catch(le){try{throw yield(H=(q=nt(this,vn).config).onError)==null?void 0:H.call(q,le,r,this.state.context,this),yield(K=(M=this.options).onError)==null?void 0:K.call(M,le,r,this.state.context),yield(oe=(F=nt(this,vn).config).onSettled)==null?void 0:oe.call(F,void 0,le,this.state.variables,this.state.context,this),yield(X=(fe=this.options).onSettled)==null?void 0:X.call(fe,void 0,le,r,this.state.context),le}finally{cn(this,so,$i).call(this,{type:"error",error:le})}}finally{nt(this,vn).runNext(this)}})}},no=new WeakMap,vn=new WeakMap,kl=new WeakMap,so=new WeakSet,$i=function(r){const t=s=>{switch(r.type){case"failed":return je(Y({},s),{failureCount:r.failureCount,failureReason:r.error});case"pause":return je(Y({},s),{isPaused:!0});case"continue":return je(Y({},s),{isPaused:!1});case"pending":return je(Y({},s),{context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()});case"success":return je(Y({},s),{data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return je(Y({},s),{data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"})}};this.state=t(this.state),wn.batch(()=>{nt(this,no).forEach(s=>{s.onMutationUpdate(r)}),nt(this,vn).notify({mutation:this,type:"updated",action:r})})},Kw);function wD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fo,Is,Wu,Ww,jD=(Ww=class extends Fh{constructor(r={}){super();Ur(this,Fo);Ur(this,Is);Ur(this,Wu);this.config=r,gr(this,Fo,new Set),gr(this,Is,new Map),gr(this,Wu,0)}build(r,t,s){const o=new vD({mutationCache:this,mutationId:++mf(this,Wu)._,options:r.defaultMutationOptions(t),state:s});return this.add(o),o}add(r){nt(this,Fo).add(r);const t=Rf(r);if(typeof t=="string"){const s=nt(this,Is).get(t);s?s.push(r):nt(this,Is).set(t,[r])}this.notify({type:"added",mutation:r})}remove(r){if(nt(this,Fo).delete(r)){const t=Rf(r);if(typeof t=="string"){const s=nt(this,Is).get(t);if(s)if(s.length>1){const o=s.indexOf(r);o!==-1&&s.splice(o,1)}else s[0]===r&&nt(this,Is).delete(t)}}this.notify({type:"removed",mutation:r})}canRun(r){const t=Rf(r);if(typeof t=="string"){const s=nt(this,Is).get(t),o=s==null?void 0:s.find(l=>l.state.status==="pending");return!o||o===r}else return!0}runNext(r){var s,o;const t=Rf(r);if(typeof t=="string"){const l=(s=nt(this,Is).get(t))==null?void 0:s.find(c=>c!==r&&c.state.isPaused);return(o=l==null?void 0:l.continue())!=null?o:Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{nt(this,Fo).forEach(r=>{this.notify({type:"removed",mutation:r})}),nt(this,Fo).clear(),nt(this,Is).clear()})}getAll(){return Array.from(nt(this,Fo))}find(r){const t=Y({exact:!0},r);return this.getAll().find(s=>Mw(t,s))}findAll(r={}){return this.getAll().filter(t=>Mw(r,t))}notify(r){wn.batch(()=>{this.listeners.forEach(t=>{t(r)})})}resumePausedMutations(){const r=this.getAll().filter(t=>t.state.isPaused);return wn.batch(()=>Promise.all(r.map(t=>t.continue().catch(Ms))))}},Fo=new WeakMap,Is=new WeakMap,Wu=new WeakMap,Ww);function Rf(e){var r;return(r=e.options.scope)==null?void 0:r.id}function Lw(e){return{onFetch:(r,t)=>{var p,_,j,C,T;const s=r.options,o=(j=(_=(p=r.fetchOptions)==null?void 0:p.meta)==null?void 0:_.fetchMore)==null?void 0:j.direction,l=((C=r.state.data)==null?void 0:C.pages)||[],c=((T=r.state.data)==null?void 0:T.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const m=()=>Ne(null,null,function*(){var H;let $=!1;const O=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(r.signal.aborted?$=!0:r.signal.addEventListener("abort",()=>{$=!0}),r.signal)})},P=w4(r.options,r.fetchOptions),q=(M,K,F)=>Ne(null,null,function*(){if($)return Promise.reject();if(K==null&&M.pages.length)return Promise.resolve(M);const fe=(()=>{const ee={client:r.client,queryKey:r.queryKey,pageParam:K,direction:F?"backward":"forward",meta:r.options.meta};return O(ee),ee})(),X=yield P(fe),{maxPages:le}=r.options,he=F?cD:lD;return{pages:he(M.pages,X,le),pageParams:he(M.pageParams,K,le)}});if(o&&l.length){const M=o==="backward",K=M?ND:Uw,F={pages:l,pageParams:c},oe=K(s,F);u=yield q(F,oe,M)}else{const M=e!=null?e:l.length;do{const K=f===0?(H=c[0])!=null?H:s.initialPageParam:Uw(s,u);if(f>0&&K==null)break;u=yield q(u,K),f++}while(f<M)}return u});r.options.persister?r.fetchFn=()=>{var $,O;return(O=($=r.options).persister)==null?void 0:O.call($,m,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},t)}:r.fetchFn=m}}}function Uw(e,{pages:r,pageParams:t}){const s=r.length-1;return r.length>0?e.getNextPageParam(r[s],r,t[s],t):void 0}function ND(e,{pages:r,pageParams:t}){var s;return r.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,r[0],r,t[0],t):void 0}var xa,Pi,Mi,Wc,Yc,Di,Qc,Xc,Yw,kD=(Yw=class{constructor(e={}){Ur(this,xa);Ur(this,Pi);Ur(this,Mi);Ur(this,Wc);Ur(this,Yc);Ur(this,Di);Ur(this,Qc);Ur(this,Xc);gr(this,xa,e.queryCache||new bD),gr(this,Pi,e.mutationCache||new jD),gr(this,Mi,e.defaultOptions||{}),gr(this,Wc,new Map),gr(this,Yc,new Map),gr(this,Di,0)}mount(){mf(this,Di)._++,nt(this,Di)===1&&(gr(this,Qc,j4.subscribe(e=>Ne(this,null,function*(){e&&(yield this.resumePausedMutations(),nt(this,xa).onFocus())}))),gr(this,Xc,ih.subscribe(e=>Ne(this,null,function*(){e&&(yield this.resumePausedMutations(),nt(this,xa).onOnline())}))))}unmount(){var e,r;mf(this,Di)._--,nt(this,Di)===0&&((e=nt(this,Qc))==null||e.call(this),gr(this,Qc,void 0),(r=nt(this,Xc))==null||r.call(this),gr(this,Xc,void 0))}isFetching(e){return nt(this,xa).findAll(je(Y({},e),{fetchStatus:"fetching"})).length}isMutating(e){return nt(this,Pi).findAll(je(Y({},e),{status:"pending"})).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=nt(this,xa).get(r.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),t=nt(this,xa).build(this,r),s=t.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&t.isStaleByTime(py(r.staleTime,t))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(e){return nt(this,xa).findAll(e).map(({queryKey:r,state:t})=>{const s=t.data;return[r,s]})}setQueryData(e,r,t){const s=this.defaultQueryOptions({queryKey:e}),o=nt(this,xa).get(s.queryHash),l=o==null?void 0:o.state.data,c=rD(r,l);if(c!==void 0)return nt(this,xa).build(this,s).setData(c,je(Y({},t),{manual:!0}))}setQueriesData(e,r,t){return wn.batch(()=>nt(this,xa).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,t)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=nt(this,xa).get(r.queryHash))==null?void 0:t.state}removeQueries(e){const r=nt(this,xa);wn.batch(()=>{r.findAll(e).forEach(t=>{r.remove(t)})})}resetQueries(e,r){const t=nt(this,xa);return wn.batch(()=>(t.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(Y({type:"active"},e),r)))}cancelQueries(e,r={}){const t=Y({revert:!0},r),s=wn.batch(()=>nt(this,xa).findAll(e).map(o=>o.cancel(t)));return Promise.all(s).then(Ms).catch(Ms)}invalidateQueries(e,r={}){return wn.batch(()=>{var t,s;return nt(this,xa).findAll(e).forEach(o=>{o.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(je(Y({},e),{type:(s=(t=e==null?void 0:e.refetchType)!=null?t:e==null?void 0:e.type)!=null?s:"active"}),r)})}refetchQueries(e,r={}){var o;const t=je(Y({},r),{cancelRefetch:(o=r.cancelRefetch)!=null?o:!0}),s=wn.batch(()=>nt(this,xa).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,t);return t.throwOnError||(c=c.catch(Ms)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(Ms)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const t=nt(this,xa).build(this,r);return t.isStaleByTime(py(r.staleTime,t))?t.fetch(r):Promise.resolve(t.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ms).catch(Ms)}fetchInfiniteQuery(e){return e.behavior=Lw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ms).catch(Ms)}ensureInfiniteQueryData(e){return e.behavior=Lw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ih.isOnline()?nt(this,Pi).resumePausedMutations():Promise.resolve()}getQueryCache(){return nt(this,xa)}getMutationCache(){return nt(this,Pi)}getDefaultOptions(){return nt(this,Mi)}setDefaultOptions(e){gr(this,Mi,e)}setQueryDefaults(e,r){nt(this,Wc).set(Gu(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...nt(this,Wc).values()],t={};return r.forEach(s=>{Vu(e,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(e,r){nt(this,Yc).set(Gu(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...nt(this,Yc).values()],t={};return r.forEach(s=>{Vu(e,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(e){if(e._defaulted)return e;const r=je(Y(Y(Y({},nt(this,Mi).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return r.queryHash||(r.queryHash=dx(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===ux&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:je(Y(Y(Y({},nt(this,Mi).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){nt(this,xa).clear(),nt(this,Pi).clear()}},xa=new WeakMap,Pi=new WeakMap,Mi=new WeakMap,Wc=new WeakMap,Yc=new WeakMap,Di=new WeakMap,Qc=new WeakMap,Xc=new WeakMap,Yw),_D=k.createContext(void 0),SD=({client:e,children:r})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(_D.Provider,{value:e,children:r}));function CD(){window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&typeof e.reason=="object"&&e.reason.message&&e.reason.message.includes("fetch")&&console.error("Network/API error detected:",e.reason),e.preventDefault()})}function $D(){const e=da(),r=In(),t=[{icon:Zu,path:"/pos",label:"POS"},{icon:J3,path:"/invoice",label:"Invoice"},{icon:fo,path:"/items",label:"Items"},{icon:Li,path:"/customers",label:"Customers"},{icon:Mc,path:"/dashboard",label:"Dashboard"},{icon:bu,path:"/closing_shift",label:"Closing Shift"}],s=o=>o==="/pos"?r.pathname==="/"||r.pathname==="/pos":r.pathname.startsWith(o);return a.jsxs("div",{className:"hidden lg:flex fixed h-screen w-20 top-0 left-0 bg-white dark:bg-gray-800 shadow-lg flex-col border-r border-gray-200 dark:border-gray-700 z-50",children:[a.jsx("div",{className:"h-20 flex items-center justify-center border-gray-100 dark:border-gray-700 cursor-pointer active:scale-90 transition-transform duration-150",onClick:()=>e("/"),children:a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-12 h-12 rounded-full object-cover"})}),a.jsx("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:t.map((o,l)=>a.jsx("button",{onClick:()=>e(o.path),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all cursor-pointer active:scale-90 duration-150 ${s(o.path)?"bg-beveren-100 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-beveren-600 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:o.label,children:a.jsx(o.icon,{size:20})},l))})]})}const ED=new kD;function TD(){return k.useEffect(()=>{CD()},[]),a.jsx(SD,{client:ED,children:a.jsx(dS,{children:a.jsx(G5,{children:a.jsx(hS,{children:a.jsxs(mS,{children:[a.jsx($D,{}),a.jsx(j6,{}),a.jsx(j8,{position:"top-center",autoClose:3e3,"aria-label":"Notification"})]})})})})})}function OD(){const e=da(),{isAuthenticated:r,loading:t}=Gi();return k.useEffect(()=>{t||(r?e("/pos",{replace:!0}):e("/login",{replace:!0}))},[r,t,e]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),a.jsx("p",{className:"text-beveren-600 mt-4",children:"Loading..."})]})})}function xy({customer:e,isOpen:r,onClose:t,onSuccess:s}){const[o,l]=k.useState([]),[c,u]=k.useState(!1),[f,m]=k.useState(!1),[p,_]=k.useState(!1),[j,C]=k.useState(!1),[T,$]=k.useState(90),[O,P]=k.useState(""),[q,H]=k.useState(new Set),[M,K]=k.useState({}),[F,oe]=k.useState("select-customer"),[fe,X]=k.useState(e||""),[le,he]=k.useState(""),[ee,ce]=k.useState([]),[te,pe]=k.useState([]),[se,re]=k.useState([]),[de,He]=k.useState(new Map),{customers:W,isLoading:z}=Mh(le),{posDetails:ae}=Za(),{modes:ge}=t0(typeof(ae==null?void 0:ae.name)=="string"?ae.name:""),ue=(ae==null?void 0:ae.currency)||"USD",U=Jy(ue),[Q,Ae]=k.useState([]),[Ke,ct]=k.useState(""),dt=k.useCallback(()=>Ne(null,null,function*(){try{const ze=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${fe}`)).json();ze.message&&Array.isArray(ze.message)?Ae(ze.message):Ae([])}catch(ne){console.error("Error loading customer addresses:",ne),Ae([])}}),[fe]),kt=k.useCallback(()=>Ne(null,null,function*(){if(!fe)return;const ne=`${fe}-${T}-${Ke}`;if(de.has(ne)){const ze=de.get(ne);pe(ze),re(ze),C(!0);return}_(!0);try{const ze=new Date().toISOString().split("T")[0],rt=new Date(Date.now()-T*24*60*60*1e3).toISOString().split("T")[0],ut=yield Qg(fe,rt,ze,Ke);if(ut.success&&ut.data){const tt=new Map;ut.data.forEach(yt=>{yt.items.forEach(ve=>{ve.available_qty>0&&tt.set(ve.item_code,ve.item_name)})});const jt=Array.from(tt.entries()).map(([yt,ve])=>({item_code:yt,item_name:ve}));He(yt=>new Map(yt).set(ne,jt)),pe(jt),re(jt),C(!0)}else pe([]),re([]),C(!0)}catch(ze){console.error("Error loading available items:",ze),pe([]),re([]),C(!0)}finally{_(!1)}}),[fe,T,Ke,de]),ht=k.useCallback(ne=>Ne(null,null,function*(){if(!ne)return;const ze=`${ne}-${T}-${Ke}`;if(de.has(ze)){const rt=de.get(ze);pe(rt),re(rt),C(!0);return}_(!0);try{const rt=new Date().toISOString().split("T")[0],ut=new Date(Date.now()-T*24*60*60*1e3).toISOString().split("T")[0],tt=yield Qg(ne,ut,rt,Ke);if(tt.success&&tt.data){const jt=new Map;tt.data.forEach(ve=>{ve.items.forEach(Je=>{Je.available_qty>0&&jt.set(Je.item_code,Je.item_name)})});const yt=Array.from(jt.entries()).map(([ve,Je])=>({item_code:ve,item_name:Je}));He(ve=>new Map(ve).set(ze,yt)),pe(yt),re(yt),C(!0)}else pe([]),re([]),C(!0)}catch(rt){console.error("Error loading available items:",rt),pe([]),re([]),C(!0)}finally{_(!1)}}),[T,Ke,de]);k.useEffect(()=>{r&&(C(!1),e?(oe("select-items"),X(e)):fe||(oe("select-customer"),X("")),ce([]),l([]),H(new Set),re([]),he(""),ct(""),e&&(kt(),dt()))},[r,e]);const zt=()=>Ne(null,null,function*(){if(ee.length===0){Ie.error("Please select at least one item to return");return}oe("filter-invoices"),m(!0);try{const ne=new Date().toISOString().split("T")[0],ze=new Date(Date.now()-T*24*60*60*1e3).toISOString().split("T")[0],rt=yield Qg(fe,ze,ne,Ke);if(rt.success&&rt.data){const ut=rt.data.filter(tt=>tt.items.some(jt=>ee.some(yt=>yt.item_code===jt.item_code&&jt.available_qty>0))).map(tt=>je(Y({},tt),{items:tt.items.filter(jt=>ee.some(yt=>yt.item_code===jt.item_code&&jt.available_qty>0)).map(jt=>je(Y({},jt),{return_qty:jt.available_qty}))}));l(ut),K(tt=>{var yt,ve,Je,gt;const jt=Y({},tt);for(const mt of ut)if(q.has(mt.name)){const xt=mt.items.reduce((va,wa)=>va+wa.qty*wa.rate,0),Ye=mt.items.reduce((va,wa)=>va+(wa.return_qty||0)*wa.rate,0),Gt=xt>0?Ye/xt:0,qt=(mt.paid_amount||mt.grand_total)*Gt,cr=Math.round(qt*100)/100,pr=((yt=ge.find(va=>va.default===1))==null?void 0:yt.mode_of_payment)||((ve=ge[0])==null?void 0:ve.mode_of_payment)||"Cash",ta=((gt=(Je=mt.payments)==null?void 0:Je[0])==null?void 0:gt.mode_of_payment)||pr;jt[mt.name]=jt[mt.name]||{method:ta,amount:cr}}return jt}),oe("select-invoices")}else Ie.error(rt.error||"Failed to load customer invoices"),l([])}catch(ne){console.error("Error loading customer invoices:",ne),Ie.error("Failed to load customer invoices"),l([])}finally{m(!1)}}),be=(ne,ze,rt)=>{ce(rt?ut=>[...ut,{item_code:ne,item_name:ze}]:ut=>ut.filter(tt=>tt.item_code!==ne))},Ze=(ne,ze,rt)=>{l(ut=>ut.map(tt=>{if(tt.name===ne){const jt=tt.items.map(yt=>{if(yt.item_code===ze){const ve=Math.max(0,Math.min(rt,yt.available_qty));return je(Y({},yt),{return_qty:ve})}return yt});return je(Y({},tt),{items:jt})}return tt}))};k.useEffect(()=>{K(ne=>{const ze=Y({},ne);return o.forEach(rt=>{if(q.has(rt.name)){const ut=rt.items.reduce((yt,ve)=>yt+(ve.return_qty||0)*ve.rate,0),tt=Math.round(ut*100)/100,jt=rt.name;if(ze[jt]){const yt=ze[jt];ze[jt]=je(Y({},yt),{amount:tt})}}}),ze})},[o,q]);const At=ne=>{H(ze=>{var ut,tt,jt,yt;const rt=new Set(ze);if(rt.has(ne))rt.delete(ne),l(ve=>ve.map(Je=>{if(Je.name===ne){const gt=Je.items.map(mt=>je(Y({},mt),{return_qty:0}));return je(Y({},Je),{items:gt})}return Je})),K(ve=>{const Je=Y({},ve);return delete Je[ne],Je});else{rt.add(ne);const ve=o.find(Je=>Je.name===ne);if(ve){const Je=ve.items.reduce((cr,pr)=>cr+pr.qty*pr.rate,0),gt=ve.items.reduce((cr,pr)=>cr+(pr.return_qty||0)*pr.rate,0),mt=Je>0?gt/Je:0,xt=(ve.paid_amount||ve.grand_total)*mt,Ye=Math.round(xt*100)/100,Gt=((ut=ge.find(cr=>cr.default===1))==null?void 0:ut.mode_of_payment)||((tt=ge[0])==null?void 0:tt.mode_of_payment)||"Cash",qt=((yt=(jt=ve.payments)==null?void 0:jt[0])==null?void 0:yt.mode_of_payment)||Gt;K(cr=>je(Y({},cr),{[ne]:cr[ne]||{method:qt,amount:Ye}}))}}return rt})},ye=ne=>{l(ze=>ze.map(rt=>{if(rt.name===ne){const ut=rt.items.map(tt=>je(Y({},tt),{return_qty:tt.available_qty}));return je(Y({},rt),{items:ut})}return rt})),H(ze=>new Set(ze).add(ne))},We=o.filter(ne=>ne.name.toLowerCase().includes(O.toLowerCase())||ne.items.some(ze=>ze.item_name.toLowerCase().includes(O.toLowerCase())||ze.item_code.toLowerCase().includes(O.toLowerCase()))),ft=q.size>0&&o.some(ne=>q.has(ne.name)&&ne.items.some(ze=>(ze.return_qty||0)>0)),ur=o.reduce((ne,ze)=>ne+ze.items.reduce((rt,ut)=>rt+(ut.return_qty||0)*ut.rate,0),0),Zt=()=>Ne(null,null,function*(){const ne=o.filter(rt=>q.has(rt.name)).map(rt=>{var ut,tt,jt;return{invoice_name:rt.name,return_items:rt.items.filter(yt=>(yt.return_qty||0)>0),payment_method:(ut=M[rt.name])==null?void 0:ut.method,return_amount:(jt=(tt=M[rt.name])==null?void 0:tt.amount)!=null?jt:rt.items.reduce((yt,ve)=>yt+(ve.return_qty||0)*ve.rate,0)}}).filter(rt=>rt.return_items.length>0);if(ne.length===0){Ie.error("Please select at least one item to return");return}const ze={customer:e||"",invoice_returns:ne};u(!0);try{const rt=yield XA(ze);rt.success?(Ie.success(rt.message||"Returns created successfully"),s(rt.createdReturns||[]),t(),window.location.reload()):Ie.error(rt.error||"Failed to create returns")}catch(rt){console.error("Error creating returns:",rt),Ie.error("Failed to create returns")}finally{u(!1)}});return r?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-7xl h-[95vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:a.jsx(Ol,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Multi-Invoice Return"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Customer: ",fe||"Not selected"]})]})]}),a.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ra,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),a.jsx("div",{className:"mt-3 sm:mt-4 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[!e&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${F==="select-customer"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${F==="select-customer"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:"1"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Customer"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"})]}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${F==="select-items"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${F==="select-items"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"1":"2"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Items"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${F==="filter-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${F==="filter-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"2":"3"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Filter Invoices"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${F==="select-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${F==="select-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"3":"4"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Invoices"})]})]})})]}),F==="select-customer"&&a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Customer"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a customer to process multi-invoice returns"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:le,onChange:ne=>he(ne.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[a.jsx("div",{className:"space-y-2 flex-1 overflow-y-auto max-h-60 sm:max-h-none",children:z?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading customers..."})}):W&&W.length>0?W.map(ne=>a.jsxs("button",{onClick:()=>Ne(null,null,function*(){const ze=ne.id||ne.name||"";X(ze),C(!1),oe("select-items");try{const ut=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${ze}`)).json();ut.message&&Array.isArray(ut.message)?Ae(ut.message):Ae([]),yield ht(ze)}catch(rt){console.error("Error loading customer data:",rt),Ae([])}}),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ne.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ne.id||"No ID"})]},ne.id||ne.name||Math.random())):le.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',le,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),W&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:le.trim()?`${W.length} customers found`:`${W.length} customers total`})})]})]}),F==="select-items"&&a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Items to Return"}),a.jsx("p",{className:"hidden sm:block text-sm text-gray-600 dark:text-gray-400",children:"Choose which items you want to return from customer invoices"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Days to Look Back"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zc,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"number",min:"1",max:"365",value:T||"",onChange:ne=>{const ze=ne.target.value;if(ze==="")$(0);else{const rt=parseInt(ze);!isNaN(rt)&&rt>0&&$(rt)}},onBlur:()=>{(!T||T<1)&&$(90)},className:"w-20 sm:w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"days"}),a.jsx("button",{onClick:kt,disabled:p,className:`p-2 rounded-lg transition-colors ${p?"text-gray-400 cursor-not-allowed":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:p?"Loading items...":"Refresh items with new days setting",children:a.jsx(Ol,{className:`w-4 h-4 ${p?"animate-spin":""}`})})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Address (Optional)"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ju,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{list:"address-list",value:Ke,onChange:ne=>{ct(ne.target.value),setTimeout(()=>{p||kt()},300)},className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                                  focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800
                                  text-gray-900 dark:text-white`}),a.jsx("datalist",{id:"address-list",children:Q.map(ne=>a.jsxs("option",{value:ne.name,children:[ne.address_line1,", ",ne.city]},ne.name))})]})]}),ee.length>0&&a.jsxs("button",{onClick:zt,disabled:f,className:`px-4 py-2 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 ${f?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-orange-700"}`,children:[a.jsx(Pp,{className:"w-4 h-4"}),a.jsx("span",{children:f?"Loading...":`Find Invoices (${ee.length} items)`})]})]})}),p||!j?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p?"Loading available items...":"Preparing to load items..."})]}):te.length>0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Available Items (Last ",T," days)"]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ee.length," of ",te.length," selected"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search items by name or code...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",onChange:ne=>{const ze=ne.target.value.toLowerCase(),rt=te.filter(ut=>ut.item_name.toLowerCase().includes(ze)||ut.item_code.toLowerCase().includes(ze));re(rt)}})]}),ee.length>0&&a.jsx("button",{onClick:()=>ce([]),className:"px-3 py-2 text-sm text-orange-600  hover:bg-red-50 dark:text-orange-400 dark:hover:text-orange-300 dark:hover:bg-orange-900/20 rounded-lg border border-orange-200  transition-colors",children:"Clear All"})]})}),a.jsx("div",{className:"overflow-x-auto flex-1 min-h-0",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:ee.length===se.length&&se.length>0,onChange:ne=>{ne.target.checked?ce(se):ce([])},className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),a.jsx("span",{className:"text-xs text-gray-400",children:"All"})]})}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Name"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Code"}),a.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:se.map(ne=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:ee.some(ze=>ze.item_code===ne.item_code),onChange:ze=>be(ne.item_code,ne.item_name,ze.target.checked),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.item_name})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:ne.item_code})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ee.some(ze=>ze.item_code===ne.item_code)?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:ee.some(ze=>ze.item_code===ne.item_code)?"Selected":"Available"})})]},ne.item_code))})]})}),ee.length>0&&a.jsx("div",{className:"mt-4 flex items-center justify-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[a.jsx("span",{className:"font-medium",children:ee.length})," items selected for return"]})})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center min-h-0",children:[a.jsx(fo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Items Found"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["No items found in customer invoices from the last ",T," days."]}),a.jsx("button",{onClick:kt,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Refresh Items"})]})]}),F==="filter-invoices"&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Filtering Invoices"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Finding invoices from the last ",T," days containing selected items..."]})]}),a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Filtering invoices..."})]})})]}),F==="select-invoices"&&a.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex-shrink-0",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices or items...",value:O,onChange:ne=>P(ne.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:()=>oe("select-items"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium",children:" Back to Items"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),a.jsx("p",{className:"text-xl font-bold text-beveren-600 dark:text-beveren-400",children:_t(ur,ue)})]})]})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[We.length," invoice(s) found  ",q.size," selected"]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected Items: ",ee.map(ne=>ne.item_name).join(", ")]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{maxHeight:"calc(95vh - 320px)"},children:F==="select-invoices"&&a.jsx(a.Fragment,{children:f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoices..."})]})}):We.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(El,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Invoices Found"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No invoices found containing the selected items in the last ",T," days."]}),a.jsx("button",{onClick:()=>oe("select-items"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:" Back to Items Selection"})]})}):a.jsx("div",{className:"space-y-6",children:We.map(ne=>{var ze,rt,ut,tt,jt;return a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:q.has(ne.name),onChange:()=>At(ne.name),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:ne.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:ne.posting_date}),a.jsx("span",{children:_t(ne.grand_total,ue)}),a.jsx("span",{className:"capitalize",children:ne.status})]})]})]}),a.jsx("button",{onClick:()=>ye(ne.name),className:"px-3 py-1 text-sm bg-beveren-100 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 rounded hover:bg-beveren-200 dark:hover:bg-beveren-900/40 transition-colors",children:"Return All Available"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Sold"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Returned"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Available"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Return Qty"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:ne.items.map(yt=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fo,{className:"w-4 h-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:yt.item_name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:yt.item_code})]})]})}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900 dark:text-white",children:yt.qty}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600 dark:text-red-400",children:yt.returned_qty}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`text-sm font-medium ${yt.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:yt.available_qty})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx("button",{onClick:()=>Ze(ne.name,yt.item_code,(yt.return_qty||0)-1),disabled:!yt.return_qty||yt.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(bh,{className:"w-3 h-3"})}),a.jsx("input",{type:"number",min:"0",max:yt.available_qty,value:yt.return_qty||0,onChange:ve=>Ze(ne.name,yt.item_code,parseInt(ve.target.value)||0),className:"w-12 px-1 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs",disabled:yt.available_qty===0}),a.jsx("button",{onClick:()=>Ze(ne.name,yt.item_code,(yt.return_qty||0)+1),disabled:yt.available_qty===0||(yt.return_qty||0)>=yt.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(qo,{className:"w-3 h-3"})})]})}),a.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:_t((yt.return_qty||0)*yt.rate,ue)})]},yt.item_code))})]})}),q.has(ne.name)&&a.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mode of Payment"}),a.jsx("select",{value:((ze=M[ne.name])==null?void 0:ze.method)||((rt=ge.find(yt=>yt.default===1))==null?void 0:rt.mode_of_payment)||((ut=ge[0])==null?void 0:ut.mode_of_payment)||"Cash",onChange:yt=>{const ve=yt.target.value;K(Je=>{var gt,mt;return je(Y({},Je),{[ne.name]:{method:ve,amount:(mt=(gt=Je[ne.name])==null?void 0:gt.amount)!=null?mt:(()=>{const xt=ne.items.reduce((cr,pr)=>cr+pr.qty*pr.rate,0),Ye=ne.items.reduce((cr,pr)=>cr+(pr.return_qty||0)*pr.rate,0),Gt=xt>0?Ye/xt:0,qt=(ne.paid_amount||ne.grand_total)*Gt;return Math.round(qt*100)/100})()}})})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500",children:ge.map(yt=>a.jsx("option",{value:yt.mode_of_payment,children:yt.mode_of_payment},yt.mode_of_payment))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:U}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:(jt=(tt=M[ne.name])==null?void 0:tt.amount)!=null?jt:(()=>{const yt=ne.items.reduce((ve,Je)=>ve+(Je.return_qty||0)*Je.rate,0);return Math.round(yt*100)/100})(),onChange:yt=>{const ve=parseFloat(yt.target.value)||0,Je=Math.round(ve*100)/100;K(gt=>{var mt,xt,Ye;return je(Y({},gt),{[ne.name]:{method:((mt=gt[ne.name])==null?void 0:mt.method)||((xt=ge.find(Gt=>Gt.default===1))==null?void 0:xt.mode_of_payment)||((Ye=ge[0])==null?void 0:Ye.mode_of_payment)||"Cash",amount:Je}})})},className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 text-right",placeholder:"0.00"})]})]})]})})]},ne.name)})})})}),F==="select-invoices"&&a.jsx("div",{className:"flex-shrink-0 px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:ft&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(uo,{className:"w-4 h-4 text-orange-500"}),a.jsxs("span",{children:["Items selected for return from ",q.size," invoice(s)"]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),a.jsx("button",{onClick:Zt,disabled:!ft||c,className:`px-6 sm:px-8 py-3 rounded-lg font-semibold text-base sm:text-lg transition-colors shadow-lg ${ft&&!c?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:c?"Processing...":"Create Returns"})]})]})})]})}):null}function C4(e){return Ne(this,null,function*(){try{const r=yield B8(e);if(!r||!r.items||!Array.isArray(r.items))throw new Error("No items found in draft invoice");const t=[];for(const o of r.items){const l={id:o.item_code,name:o.item_name,category:"General",price:o.rate,image:"",quantity:o.qty};t.push(l)}const s=r.customer?{id:r.customer,name:r.customer_name||r.customer,customer_name:r.customer_name||r.customer,email:r.customer_email||"",email_id:r.customer_email||"",phone:r.customer_mobile_no||"",mobile_no:r.customer_mobile_no||"",territory:"",customer_group:"",customer_type:"individual",type:"individual",address:{addressType:"Billing",street:r.customer_address_line1||"",city:r.customer_city||"",state:r.customer_state||"",zipCode:r.customer_pincode||"",country:r.customer_country||"Saudi Arabia"},status:"active",preferredPaymentMethod:"Cash",loyaltyPoints:0,totalSpent:0,totalOrders:0,tags:[],createdAt:new Date().toISOString()}:null;return N8(e,t,s),!0}catch(r){console.error("Error caching draft invoice items:",r);const t=ed(r,"Failed to cache draft invoice items");return Ie.error(t),!1}})}function AD(e,r){if(!e||e.length===0)throw new Error("No invoices to export");const t=["Invoice Number","Customer","Posting Date","Due Date","Grand Total","Outstanding Amount","Status","Payment Method","Currency"],s=e.map(u=>{var f,m;return[u.name||"",u.customer||"",u.posting_date||"",u.due_date||"",((f=u.grand_total)==null?void 0:f.toString())||"0",((m=u.outstanding_amount)==null?void 0:m.toString())||"0",u.status||"",u.mode_of_payment||"",u.currency||""]}),o=[t,...s].map(u=>u.map(f=>`"${f}"`).join(",")).join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");if(c.download!==void 0){const u=URL.createObjectURL(l);c.setAttribute("href",u);const m=`invoices_export_${new Date().toISOString().split("T")[0]}.csv`;c.setAttribute("download",r||m),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(u)}}function RD(e="invoices",r="csv"){var l;const t=new Date().toISOString().split("T")[0],o=((l=new Date().toTimeString().split(" ")[0])==null?void 0:l.replace(/:/g,"-"))||"00-00-00";return`${e}_export_${t}_${o}.${r}`}function PD(){const e=da(),r=id("(max-width: 1024px)"),[t,s]=k.useState("all"),[o,l]=k.useState(""),[c,u]=k.useState("all"),[f,m]=k.useState("all"),[p,_]=k.useState("all"),[j,C]=k.useState("list"),[T]=k.useState(null),[$,O]=k.useState(!1),[P,q]=k.useState(!1),[H,M]=k.useState(!1),[K,F]=k.useState(""),[oe,fe]=k.useState(""),[X,le]=k.useState(!1),[he,ee]=k.useState(null),[ce,te]=k.useState(!1),[pe,se]=k.useState(null),[re,de]=k.useState(!1),[He,W]=k.useState(null),{invoices:z,isLoading:ae,isLoadingMore:ge,error:ue,hasMore:U,totalLoaded:Q,totalCount:Ae,loadMore:Ke}=ex(o,!0,p),{modes:ct}=Hy(),{customers:dt}=Mh(),{posDetails:kt}=Za(),{userInfo:ht,isLoading:zt}=cN(),be=(ht==null?void 0:ht.is_admin_user)||!1,Ze=(ht==null?void 0:ht.full_name)||"";k.useEffect(()=>{!be&&Ze&&p==="all"&&_(Ze)},[be,Ze,p]),k.useEffect(()=>{const qe=st=>{st.key==="Escape"&&(re&&Ye(),P&&q(!1),H&&M(!1))};return document.addEventListener("keydown",qe),()=>document.removeEventListener("keydown",qe)},[re,P,H]);const At=[{id:"all",name:"All Invoices",icon:El,color:"text-gray-600"},{id:"Draft",name:"Draft",icon:SC,color:"text-gray-500"},{id:"Unpaid",name:"Unpaid",icon:Zc,color:"text-yellow-600"},{id:"Partly Paid",name:"Partly Paid",icon:_u,color:"text-orange-600"},{id:"Paid",name:"Paid",icon:uo,color:"text-green-600"},{id:"Overdue",name:"Overdue",icon:Pc,color:"text-red-600"},{id:"Return",name:"Returns",icon:qi,color:"text-purple-600"},{id:"Cancelled",name:"Cancelled",icon:Pc,color:"text-red-500"}],ye=qe=>{if(c==="all")return!0;if(c==="today")return ox(qe);if(c==="yesterday"){const st=new Date;st.setUTCDate(st.getUTCDate()-1);const Tr=new Date(qe);return Tr.getUTCFullYear()===st.getUTCFullYear()&&Tr.getUTCMonth()===st.getUTCMonth()&&Tr.getUTCDate()===st.getUTCDate()}return c==="week"?ix(qe):c==="month"?lx(qe):c==="year"?cx(qe):!0},We=qe=>{const st="px-2 py-1 rounded-full text-xs font-medium";switch((qe==null?void 0:qe.toLowerCase())||""){case"paid":return`${st} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${st} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${st} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${st} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${st} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${st} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${st} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${st} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${st} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${st} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${st} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${st} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${st} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},ft=k.useMemo(()=>{if(ae)return[];if(ue)return[];const qe=z.filter(st=>{const Tr=(st.status||"").trim(),me=(t||"").trim(),Ee=t==="all"||Tr===me,Me=f==="all"||st.paymentMethod===f,Ve=p==="all"||st.cashier===p,lt=ye(st.date);return Me&&Ve&&Ee&&lt});return t!=="all"&&console.log(`[InvoiceHistory] Filtering by status "${t}":`,{totalInvoices:z.length,filteredCount:qe.length,activeTab:t,sampleStatuses:z.slice(0,5).map(st=>st.status)}),qe},[z,t,c,f,p,ae,ue]),ur=k.useMemo(()=>[...new Set(z.map(qe=>qe.cashier).filter(Boolean))],[z]),Zt=k.useMemo(()=>{if(!dt)return[];const qe=dt.filter(Tr=>Tr&&(Tr.customer_name||Tr.name));if(!oe.trim())return qe;const st=oe.toLowerCase();return qe.filter(Tr=>{var Me,Ve;const me=((Me=Tr.customer_name)==null?void 0:Me.toLowerCase())||"",Ee=((Ve=Tr.name)==null?void 0:Ve.toLowerCase())||"";return me.includes(st)||Ee.includes(st)})},[dt,oe]),ne=qe=>{const st=z.filter(me=>{const Ee=f==="all"||me.paymentMethod===f,Me=p==="all"||me.cashier===p,Ve=ye(me.date);return Ee&&Me&&Ve});if(qe==="all")return st.length;const Tr=(qe||"").trim();return st.filter(me=>(me.status||"").trim()===Tr).length};if(ae&&z.length===0||zt)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if(ue)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:ue.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const ze=()=>a.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:o,onChange:qe=>l(qe.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),ae&&z.length>0&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]}),a.jsxs("select",{value:c,onChange:qe=>u(qe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:p,onChange:qe=>_(qe.target.value),disabled:!be,className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${be?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),ur.map(qe=>a.jsx("option",{value:qe,children:qe},qe))]}),!be&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"}),a.jsxs("select",{value:f,onChange:qe=>m(qe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),ct.map(qe=>a.jsx("option",{value:qe.name,children:qe.name},qe.name))]})]}),U&&a.jsx("div",{className:"mt-3 text-center",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Search works on all invoices in the database. Load more invoices to see additional results."})})]}),rt=()=>a.jsxs("div",{className:"w-full max-w-none grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ft.length}),U&&a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Showing ",Q," of ",Ae]})]}),a.jsx(El,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ft.reduce((qe,st)=>qe+st.totalAmount,0),(kt==null?void 0:kt.currency)||"USD")})]}),a.jsx(zi,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ft.filter(qe=>qe.status==="Paid").reduce((qe,st)=>qe+st.totalAmount,0),(kt==null?void 0:kt.currency)||"USD")})]}),a.jsx(uo,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ft.filter(qe=>["Unpaid","Partly Paid","Overdue"].includes(qe.status)).reduce((qe,st)=>qe+st.totalAmount,0),(kt==null?void 0:kt.currency)||"USD")})]}),a.jsx(_u,{className:"w-8 h-8 text-orange-600"})]})})]}),ut=()=>{var qe;return a.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t==="all"?"All Invoices":(qe=At.find(st=>st.id===t))==null?void 0:qe.name," (",ft.length,")"]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>C("list"),className:`p-2 rounded-md transition-colors ${j==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.jsx(Uy,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>C("cards"),className:`p-2 rounded-md transition-colors ${j==="cards"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.jsx(Zu,{className:"w-4 h-4"})})]})]}),j==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(kt==null?void 0:kt.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:ft.map(st=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:st.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[st.date," ",st.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:st.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:st.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:st.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(st.totalAmount,st.currency)}),st.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",_t(st.giftCardDiscount,st.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:We(st.status),children:st.status})}),(kt==null?void 0:kt.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:We(st.custom_zatca_submit_status),children:st.custom_zatca_submit_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>tt(st),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx($l,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),st.status==="Draft"&&a.jsxs("button",{onClick:()=>gt(st),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 flex items-center space-x-1",children:[a.jsx(Al,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(st.status)&&!st.is_return&&jt(st)&&a.jsxs("button",{onClick:()=>ta(st),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(Ol,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]}),st.status==="Draft"&&a.jsxs("button",{onClick:()=>yt(st),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(Xf,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]})]})})]},`${t}-${st.id}`))})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:ft.map(st=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:st.id}),a.jsx("span",{className:We(st.status),children:st.status})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:st.customer})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_t(st.totalAmount,st.currency)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:st.date})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cashier:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:st.cashier})]})]}),a.jsxs("div",{className:"mt-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>tt(st),className:"flex-1 text-xs px-3 py-2 bg-beveren-600 text-white rounded hover:bg-beveren-700 transition-colors",children:"View"}),st.status==="Draft"&&a.jsxs("button",{onClick:()=>gt(st),className:"flex-1 text-xs px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(Al,{className:"w-3 h-3"}),a.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(st.status)&&jt(st)&&a.jsx("button",{onClick:()=>ta(st),className:"flex-1 text-xs px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"Return"})]})]},`${t}-${st.id}`))}),U&&a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx("button",{onClick:Ke,disabled:ge,className:`px-6 py-3 rounded-lg font-medium transition-colors ${ge?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:ge?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More (${Q}/${Ae})`})}),!U&&Q>0&&a.jsx("div",{className:"text-center mt-8 py-4",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:ft.length>0?`Showing ${ft.length} invoice${ft.length!==1?"s":""} (${Q} total loaded)`:`All ${Ae} invoices loaded`})})]})},tt=qe=>{e(`/invoice/${qe.id}`)},jt=qe=>!qe||!qe.items?(console.log("No invoice or items found for:",qe==null?void 0:qe.id),!1):qe.canReturn!==void 0?qe.canReturn:qe.items.some(Tr=>{const me=Tr.qty||Tr.quantity||0;return(Tr.returned_qty||0)<me}),yt=qe=>{if(qe.status!=="Draft"){Ie.error("Only draft invoices can be deleted");return}se(qe),te(!0)},ve=()=>Ne(null,null,function*(){if(pe)try{yield Gy(pe.id),Ie.success(`Draft invoice ${pe.id} deleted successfully`),te(!1),se(null),window.location.reload()}catch(qe){Ie.error(qe.message||"Failed to delete invoice")}}),Je=()=>{te(!1),se(null)},gt=qe=>{if(qe.status!=="Draft"){Ie.error("Only draft invoices can be edited");return}W(qe),de(!0)},mt=qe=>Ne(null,null,function*(){try{(yield C4(qe.id))&&(de(!1),W(null),setTimeout(()=>{e("/pos")},500))}catch(st){console.error("Error going to cart:",st),Ie.error(st.message||"Failed to add items to cart")}}),xt=qe=>Ne(null,null,function*(){try{yield pj(qe.id),Ie.success(`Draft invoice ${qe.id} submitted successfully`),de(!1),W(null),window.location.reload()}catch(st){console.error("Error submitting draft invoice:",st);const Tr=ed(st,"Failed to submit draft invoice");Ie.error(Tr)}}),Ye=()=>{de(!1),W(null)},Gt=qe=>{qt(qe),O(!1)},qt=qe=>Ne(null,null,function*(){try{const st=yield $h(qe);e(`/invoice/${st.return_invoice}`),Ie.success(`Invoice returned: ${st.return_invoice}`)}catch(st){Ie.error(st.message||"Failed to return invoice")}}),cr=qe=>{console.log("Cancelling invoice:",qe),O(!1)},pr=()=>{F(""),M(!0)},ta=qe=>{ee(qe),le(!0)},va=()=>{le(!1),ee(null),window.location.reload()},wa=qe=>{if(!qe){Ie.error("Invalid customer selection");return}F(qe),q(!1),fe(""),M(!0)},Ga=()=>{M(!1),F("")},_r=()=>{q(!1),fe("")},na=()=>{try{if(!ft||ft.length===0){Ie.error("No invoices to export");return}const qe=ft.map(me=>{const Ee=me.totalAmount||0,Me=me.amountPaid||0,Ve=Math.max(0,Ee-Me);return{name:me.id||me.name||"",customer:me.customer||"",posting_date:me.date||me.posting_date||"",due_date:"",grand_total:Ee,outstanding_amount:Ve,status:me.status||"",mode_of_payment:me.paymentMethod||"",currency:me.currency||"SAR",company:me.company||""}}),st=t==="all"?"all":t.toLowerCase(),Tr=RD(`invoices_${st}`,"csv");AD(qe,Tr),Ie.success(`Exported ${qe.length} invoices successfully`)}catch(qe){console.error("Export error:",qe),Ie.error(`Failed to export invoices: ${qe.message}`)}};return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 font-inconsolata",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Invoice History"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:pr,className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[a.jsx(Li,{className:"w-4 h-4"}),a.jsx("span",{children:"Multi Return"})]}),a.jsxs("button",{onClick:na,className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(Rp,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[a.jsx("div",{className:"mb-6 w-full",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:At.map(qe=>a.jsxs("button",{onClick:()=>s(qe.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-xs whitespace-nowrap ${t===qe.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${qe.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[a.jsx(qe.icon,{className:"w-4 h-4"}),a.jsx("span",{children:qe.name}),a.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:ne(qe.id)})]},qe.id))})})})}),ze(),rt(),ut()]}),a.jsx(ad,{invoice:T,isOpen:$,onClose:()=>O(!1),onRefund:Gt,onCancel:cr}),P&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),a.jsx("button",{onClick:_r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Pc,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:oe,onChange:qe=>fe(qe.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Zt&&Zt.length>0?Zt.map(qe=>a.jsxs("button",{onClick:()=>wa(qe.name||qe.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:qe.customer_name||qe.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:qe.name||qe.customer_name||"No ID"})]},qe.name||qe.customer_name||Math.random())):oe.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',oe,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Zt&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:oe.trim()?`${Zt.length} of ${(dt==null?void 0:dt.length)||0} customers`:`${(dt==null?void 0:dt.length)||0} customers total`})})]})]})}),a.jsx(xy,{customer:K,isOpen:H,onClose:()=>M(!1),onSuccess:Ga,customers:dt}),a.jsx(Jn,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice History"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:pr,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(Xf,{className:"w-4 h-4"}),a.jsx("span",{children:"Multi-Invoice Return"})]}),a.jsxs("button",{onClick:na,className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Rp,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 max-w-none",children:[a.jsx("div",{className:"mb-8 w-full max-w-none",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:At.map(qe=>a.jsxs("button",{onClick:()=>s(qe.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===qe.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${qe.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[a.jsx(qe.icon,{className:"w-5 h-5"}),a.jsx("span",{children:qe.name}),a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:ne(qe.id)})]},qe.id))})})})}),ze(),rt(),ut()]}),a.jsx(ad,{invoice:T,isOpen:$,onClose:()=>O(!1),onRefund:Gt,onCancel:cr}),P&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),a.jsx("button",{onClick:_r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Pc,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:oe,onChange:qe=>fe(qe.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Zt&&Zt.length>0?Zt.map(qe=>a.jsxs("button",{onClick:()=>wa(qe.name||qe.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:qe.customer_name||qe.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:qe.name||qe.customer_name||"No ID"})]},qe.name||qe.customer_name||Math.random())):oe.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',oe,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Zt&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:oe.trim()?`${Zt.length} of ${(dt==null?void 0:dt.length)||0} customers`:`${(dt==null?void 0:dt.length)||0} customers total`})})]})]})}),a.jsx(xy,{customer:K,isOpen:H,onClose:()=>M(!1),onSuccess:Ga,customers:dt}),a.jsx(Bu,{invoice:he,isOpen:X,onClose:()=>le(!1),onSuccess:va}),a.jsx(sx,{isOpen:ce,onClose:Je,onConfirm:ve,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${pe==null?void 0:pe.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"}),re&&He&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md relative",children:[a.jsx("div",{className:"absolute inset-0 -z-10",onClick:Ye}),a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),a.jsx("button",{onClick:Ye,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Pc,{className:"w-5 h-5"})})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Invoice: ",He.id]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"What would you like to do with this draft invoice?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>mt(He),className:"w-full flex items-center justify-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[a.jsx(ku,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Go to Cart"})]}),a.jsxs("button",{onClick:()=>xt(He),className:"w-full flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[a.jsx(Uc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Submit"})]})]})]})]})})]})})}function MD({isOpen:e,onClose:r,invoiceName:t,outstandingAmount:s,currency:o,onPaymentComplete:l}){const[c,u]=k.useState(""),[f,m]=k.useState(!1),[p,_]=k.useState(!1),{posDetails:j}=Za(),{modes:C,isLoading:T}=t0(typeof(j==null?void 0:j.name)=="string"?j.name:"");k.useEffect(()=>{e&&(u(""),m(!1),_(!1))},[e]),k.useEffect(()=>{if(C.length>0&&!c){const P=C.find(q=>q.default===1);u(P?P.mode_of_payment:C[0].mode_of_payment)}},[C,c]);const $=()=>Ne(null,null,function*(){if(!c){Ie.error("Please select a payment method");return}m(!0);try{const P=yield q8(t,c,s);P.success?(_(!0),Ie.success(`Payment of ${_t(s,o)} received successfully!`),setTimeout(()=>{l(),r()},1500)):Ie.error(P.error||"Failed to process payment")}catch(P){console.error("Payment error:",P),Ie.error(P instanceof Error?P.message:"Failed to process payment")}finally{m(!1)}});if(!e)return null;const O=P=>P.toLowerCase().includes("cash")?a.jsx(Iy,{size:20}):a.jsx(Dn,{size:20});return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Receive Payment"}),a.jsx("button",{onClick:r,disabled:f,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:a.jsx(Ra,{size:20})})]}),a.jsx("div",{className:"p-6 space-y-6",children:p?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(uo,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Payment Received!"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Invoice ",t," has been paid"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Invoice"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("span",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:_t(s,o)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Payment Method"}),T?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Xa,{className:"w-6 h-6 animate-spin text-beveren-600"})}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:C.map(P=>a.jsxs("button",{onClick:()=>u(P.mode_of_payment),disabled:f,className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all ${c===P.mode_of_payment?"border-beveren-500 bg-beveren-50 dark:bg-beveren-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"} ${f?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("div",{className:`p-2 rounded-lg ${c===P.mode_of_payment?"bg-beveren-100 text-beveren-600 dark:bg-beveren-800 dark:text-beveren-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:O(P.mode_of_payment)}),a.jsx("span",{className:`font-medium text-sm ${c===P.mode_of_payment?"text-beveren-700 dark:text-beveren-300":"text-gray-700 dark:text-gray-300"}`,children:P.mode_of_payment})]},P.mode_of_payment))})]})]})}),!p&&a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:r,disabled:f,className:"flex-1 px-4 py-3 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:$,disabled:f||!c||T,className:"flex-1 px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Processing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(uo,{size:20}),a.jsxs("span",{children:["Receive ",_t(s,o)]})]})})]})})]})})}function DD(){var z,ae,ge,ue,U,Q,Ae,Ke,ct,dt,kt;const{id:e}=uh(),r=e!=null?e:"",{invoice:t,isLoading:s,error:o}=dN(r),{statistics:l,isLoading:c}=sN((t==null?void 0:t.customer)||null),{posDetails:u}=Za(),f=da(),[m,p]=k.useState(!1),[_,j]=k.useState(null),[C,T]=k.useState(!1),[$,O]=k.useState(!1),[P,q]=k.useState(!1),[H,M]=k.useState(null),[K,F]=k.useState(!1),[oe,fe]=k.useState(!1),[X,le]=k.useState(!1),he=()=>{f("/invoice")},ee=()=>{if(t){if(console.log("Invoice object in detail page:",t),t.status!=="Pending"){Ie.error("Only draft invoices can be deleted");return}fe(!0)}},ce=()=>Ne(null,null,function*(){if(t)try{console.log("Attempting to delete invoice:",t.name||t.id,"Status:",t.status),yield Gy(t.name||t.id),Ie.success(`Draft invoice ${t.name||t.id} deleted successfully`),fe(!1),f("/invoice")}catch(ht){console.error("Delete error:",ht),Ie.error(ht.message||"Failed to delete invoice")}}),te=()=>{fe(!1)},pe=ht=>{const zt="px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1";switch(ht){case"Completed":case"Paid":return`${zt} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"Pending":case"Unpaid":return`${zt} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Cancelled":return`${zt} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Refunded":return`${zt} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;default:return zt}},se=()=>Ne(null,null,function*(){var ht,zt,be,Ze,At,ye,We,ft,ur,Zt,ne,ze;if(!(t!=null&&t.customer)){Ie.error("Customer information not available");return}F(!0);try{const rt=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(t.customer)}`);if(!rt.ok)throw new Error(`HTTP ${rt.status}: ${rt.statusText}`);const ut=yield rt.json();if(((ht=ut==null?void 0:ut.message)==null?void 0:ht.success)!==!1){const tt=ut.message,jt={id:tt.name,name:tt.customer_name,type:((zt=tt.customer_type)==null?void 0:zt.toLowerCase())==="company"?"company":"individual",email:((be=tt.contact_data)==null?void 0:be.email_id)||tt.email_id||"",phone:((Ze=tt.contact_data)==null?void 0:Ze.mobile_no)||((At=tt.contact_data)==null?void 0:At.phone)||tt.mobile_no||"",address:{addressType:"Billing",street:((ye=tt.address_data)==null?void 0:ye.address_line1)||"",buildingNumber:((We=tt.address_data)==null?void 0:We.address_line2)||"",city:((ft=tt.address_data)==null?void 0:ft.city)||"",state:((ur=tt.address_data)==null?void 0:ur.state)||"",zipCode:((Zt=tt.address_data)==null?void 0:Zt.pincode)||"",country:((ne=tt.address_data)==null?void 0:ne.country)||"Saudi Arabia"},status:"active",preferredPaymentMethod:tt.payment_method||"Cash",customer_group:tt.customer_group||"All Customer Groups",territory:tt.territory||"All Territories",contactPerson:tt.contact_data?`${tt.contact_data.first_name||""} ${tt.contact_data.last_name||""}`.trim()||tt.customer_name:tt.customer_name||"",companyName:tt.customer_type==="Company"?tt.customer_name:void 0,taxId:tt.vat_number||"",industry:tt.industry||"",employeeCount:tt.employee_count||"",registrationScheme:tt.registration_scheme||"",registrationNumber:tt.registration_number||""};M(jt),q(!0)}else throw new Error(((ze=ut==null?void 0:ut.message)==null?void 0:ze.error)||"Failed to fetch customer details")}catch(rt){console.error("Error fetching customer details:",rt),Ie.error(rt.message||"Failed to fetch customer details")}finally{F(!1)}}),re=ht=>{f(`/invoice/${ht}`)},de=ht=>{console.log("Saving customer:",ht),q(!1),M(null),Ie.success("Customer updated successfully!")},He=ht=>{Ie.success(`${ht.length} return invoices created successfully`),f("/invoice")},W=()=>!t||!t.items?!1:t.items.some(ht=>{const zt=ht.qty||ht.quantity||0;return(ht.returned_qty||0)<zt});return s?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})})}):o?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_u,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error loading invoice: ",o]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})}):t?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:he,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-beveren-200 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(zs,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Invoice ",t.name||t.id]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.posting_date," at ",t.posting_time]})]}),a.jsxs("div",{className:pe(t.status),children:[a.jsx(uo,{size:16}),a.jsx("span",{children:t.status})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"sr-only",children:a.jsx(zf,{invoice:t})}),a.jsxs("button",{className:"group relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-all duration-200",onClick:()=>Bf(t),children:[a.jsx(Bi,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Print Invoice"})]}),a.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{j("email"),p(!0)},children:[a.jsx(Dp,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via Email"})]}),(u==null?void 0:u.custom_enable_whatsapp)===1||(u==null?void 0:u.custom_enable_whatsapp)==="1"||(u==null?void 0:u.custom_enable_whatsapp)===!0?a.jsxs("button",{className:"group relative p-2 text-green-600 hover:bg-green-100 dark:text-green-400 dark:hover:bg-green-900 rounded-lg transition-all duration-200",onClick:()=>{j("whatsapp"),p(!0)},children:[a.jsx(Ip,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via WhatsApp"})]}):"",(u==null?void 0:u.custom_enable_sms)===1||(u==null?void 0:u.custom_enable_sms)==="1"||(u==null?void 0:u.custom_enable_sms)===!0?a.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{j("sms"),p(!0)},children:[a.jsx(Lp,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via SMS"})]}):"",["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(t.status)&&!t.is_return&&W()&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),a.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:hover:bg-orange-900 rounded-lg transition-all duration-200",onClick:()=>T(!0),children:[a.jsx(Ol,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Return Items (Single Invoice)"})]}),a.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-indigo-100 dark:text-indigo-400 dark:hover:bg-indigo-900 rounded-lg transition-all duration-200",onClick:()=>O(!0),children:[a.jsx(Xf,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Multi-Invoice Return"})]})]}),t.status==="Pending"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),a.jsxs("button",{className:"group relative p-2 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900 rounded-lg transition-all duration-200",onClick:ee,children:[a.jsx(Xf,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Delete Draft Invoice"})]})]}),["Unpaid","Overdue","Partly Paid"].includes(t.status)&&t.outstanding_amount>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),a.jsxs("button",{className:"group relative p-2 text-green-600 hover:bg-green-100 dark:text-green-400 dark:hover:bg-green-900 rounded-lg transition-all duration-200",onClick:()=>le(!0),children:[a.jsx(zi,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Receive Payment"})]})]})]})]})})}),a.jsx("div",{className:"flex-1 pt-20 pb-20 overflow-auto",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"INVOICE"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["#",t.name||t.id]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.company}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(z=t.company_address_doc)==null?void 0:z.address_line1}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(ae=t.company_address_doc)==null?void 0:ae.county}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(ge=t.company_address_doc)==null?void 0:ge.phone})]})]})}),a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Bill To:"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:t.customer}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(ue=t.customer_address_doc)==null?void 0:ue.address_line1}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(U=t.customer_address_doc)==null?void 0:U.email_id}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(Q=t.customer_address_doc)==null?void 0:Q.phone})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.posting_date})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.posting_time})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cashier:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.cashier_name||t.owner})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.paymentMethod})]})]})})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:(Ae=t.items)==null?void 0:Ae.map((ht,zt)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ht.item_name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",ht.item_code]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:ht.category})]})}),a.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 dark:text-white",children:ht.qty}),a.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900 dark:text-white",children:_t(ht.rate,t.currency)}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:_t(ht.amount,t.currency)})]},zt))})]})}),t.taxes&&t.taxes.length>0&&a.jsxs("div",{className:"px-6 py-4 bg-beveren-50 dark:bg-beveren-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(JC,{className:"w-5 h-5 text-beveren-600 dark:text-beveren-400"}),a.jsx("h4",{className:"text-sm font-semibold text-beveren-900 dark:text-beveren-100",children:"Tax Details"})]}),a.jsxs("div",{className:"space-y-2",children:[t.taxes.map((ht,zt)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-medium",children:ht.account_head}),a.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400",children:["(",ht.rate,"%)"]}),ht.included_in_print_rate===1&&a.jsx("span",{className:"px-2 py-1 bg-beveren-100 dark:bg-beveren-800 text-beveren-800 dark:text-beveren-200 text-xs rounded-full",children:"Inclusive"})]}),a.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-semibold",children:_t(ht.tax_amount,t.currency)})]},zt)),a.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-beveren-200 dark:border-beveren-700",children:[a.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-semibold",children:"Total Tax:"}),a.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-bold",children:_t(t.total_taxes_and_charges,t.currency)})]})]})]}),a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700",children:a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-80 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.total,t.currency)})]}),t.total_taxes_and_charges>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.total_taxes_and_charges,t.currency)})]}),t.rounding_adjustment!==0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rounding:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.rounding_adjustment,t.currency)})]}),t.giftCardDiscount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gift Card Discount:"}),a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",_t(t.giftCardDiscount,t.currency)]})]}),a.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Grand Total:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.grand_total,t.currency)})]}),t.paid_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Amount:"}),a.jsx("span",{className:"text-beveren-600 dark:text-beveren-400",children:_t(t.paid_amount,t.currency)})]}),t.outstanding_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding:"}),a.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:_t(t.outstanding_amount,t.currency)})]}),t.status==="Refunded"&&t.refundAmount&&a.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-300 dark:border-gray-600 pt-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Refunded Amount:"}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:_t(t.refundAmount,t.currency)})]})]})})}),t.giftCardCode&&a.jsxs("div",{className:"px-6 py-4 bg-purple-50 dark:bg-purple-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("h4",{className:"text-sm font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Gift Card Applied:"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Code: ",t.giftCardCode]}),a.jsxs("span",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:["-",_t(t.giftCardDiscount,t.currency)]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-orange-50 dark:bg-orange-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Dn,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),a.jsx("h4",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Payment Details"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Payment Method:"}),a.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-medium",children:t.paymentMethod||"Cash"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Status:"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${pe(t.status)}`,children:t.status})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Paid Amount:"}),a.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-semibold",children:_t(t.paid_amount||0,t.currency)})]}),t.outstanding_amount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Outstanding:"}),a.jsx("span",{className:"text-red-900 dark:text-red-100 font-semibold",children:_t(t.outstanding_amount,t.currency)})]})]})]})]}),t.notes&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Notes:"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.notes})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[a.jsx(Zn,{size:20}),a.jsx("span",{children:"Customer Details"})]}),a.jsx("button",{onClick:se,disabled:K,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Customer",children:K?a.jsx(qi,{size:16,className:"animate-spin"}):a.jsx(Al,{size:16})})]})}),a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[a.jsx("div",{children:a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.customer})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(Tl,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.customer_email})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(Nu,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.customer_mobile_no})]}),a.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[a.jsx(ju,{className:"w-4 h-4 text-gray-400 mt-0.5"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(Ke=t.customer_address_doc)==null?void 0:Ke.address_line1})]})]}),a.jsx("hr",{className:"border-gray-200 dark:border-gray-600"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oo,{className:"w-5 h-5 text-beveren-600"}),a.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Customer Statistics"})]}),c?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx(qi,{className:"w-4 h-4 animate-spin text-gray-400"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading statistics..."})]}):l?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-beveren-50 to-beveren-100 dark:from-beveren-900/20 dark:to-beveren-800/20 rounded-lg p-4 border border-beveren-200 dark:border-beveren-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-beveren-600 rounded-lg",children:a.jsx(fo,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-beveren-700 dark:text-beveren-300 font-medium",children:"Total Orders"}),a.jsx("p",{className:"text-xs font-bold text-beveren-900 dark:text-beveren-100",children:l.total_orders})]})]})}),a.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:a.jsx(zi,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 font-medium",children:"Total Spent"}),a.jsx("p",{className:"text-xs font-small text-orange-900 dark:text-orange-100",children:_t(l.total_spent,t.currency)})]})]})})]}),l.last_visit&&a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zc,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Visit:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(l.last_visit).toLocaleDateString()})]})})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(_u,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Unable to load customer statistics"})]})]})]})]})})]})})}),m&&a.jsx(Vy,{isOpen:m,onClose:()=>{p(!1),j(null)},cartItems:[],appliedCoupons:[],selectedCustomer:{id:t.customer,name:t.customer,email:((ct=t.customer_address_doc)==null?void 0:ct.email_id)||"",phone:((dt=t.customer_address_doc)==null?void 0:dt.phone)||"",type:"individual",status:"active",loyaltyPoints:0,totalOrders:0,totalSpent:0,address:{addressType:"Billing",streetName:((kt=t.customer_address_doc)==null?void 0:kt.address_line1)||"",buildingNumber:"",subdivisionName:"",cityName:"",postalCode:"",country:"Saudi Arabia",isPrimary:!0},vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",tags:[]},onCompletePayment:()=>{p(!1),j(null)},onHoldOrder:()=>{p(!1),j(null)},isMobile:!1,isFullPage:!1,initialSharingMode:_,externalInvoiceData:t}),a.jsx(Bu,{invoice:t,isOpen:C,onClose:()=>T(!1),onSuccess:re}),a.jsx(xy,{customer:(t==null?void 0:t.customer)||"",isOpen:$,onClose:()=>O(!1),onSuccess:He}),P&&H&&a.jsx(Pl,{customer:H,onClose:()=>{q(!1),M(null)},onSave:de}),a.jsx(sx,{isOpen:oe,onClose:te,onConfirm:ce,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${(t==null?void 0:t.name)||(t==null?void 0:t.id)}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"}),a.jsx(MD,{isOpen:X,onClose:()=>le(!1),invoiceName:(t==null?void 0:t.name)||(t==null?void 0:t.id)||"",outstandingAmount:(t==null?void 0:t.outstanding_amount)||0,currency:(u==null?void 0:u.currency)||"NPR",onPaymentComplete:()=>{window.location.reload()}})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(El,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Invoice not found"})]})})})}function ID(e){const[r,t]=k.useState([]),[s,o]=k.useState(!0),[l,c]=k.useState(!1),[u,f]=k.useState(null),[m,p]=k.useState(!0),[_,j]=k.useState(0),[C,T]=k.useState(0),[$,O]=k.useState(0),P=100,q=k.useCallback((K=0,F=!1)=>Ne(null,null,function*(){var oe;if(!e){t([]),o(!1);return}F?c(!0):o(!0);try{const fe=K*P;console.log(`Fetching customer invoices - customer: ${e}, page: ${K}, start: ${fe}, limit: ${P}`);const X=`&search=${encodeURIComponent(e)}`,le=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${P}&start=${fe}${X}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Customer invoices response:",{status:le.status,statusText:le.statusText,ok:le.ok}),!le.ok)throw new Error(`HTTP ${le.status}: ${le.statusText}`);const he=yield le.json();if(console.log("Customer invoices data:",he),!he.message||!he.message.success)throw new Error(((oe=he.message)==null?void 0:oe.error)||he.error||"Failed to fetch customer invoices");const ee=he.message.data,ce=ee.length,te=he.message.total_count||0;p(ce===P),O(te);const se=ee.filter(re=>{const de=re&&re.customer;return!!de&&de===e}).map(re=>{const de=re.payment_methods||[],He=re.mode_of_payment;return{id:re.name,date:re.posting_date||new Date().toISOString().split("T")[0],time:re.posting_time||"00:00:00",cashier:re.cashier_name||"Unknown",cashierId:re.cashier||"",customer:re.customer_name||re.customer||"Walk-in Customer",customerId:re.customer||null,items:Array.isArray(re.items)?re.items:[],subtotal:Number(re.net_total)||0,giftCardDiscount:0,giftCardCode:null,taxAmount:Number(re.total_taxes_and_charges)||0,totalAmount:Number(re.base_grand_total)||0,paymentMethod:He||"Cash",payment_methods:de.map(W=>({mode_of_payment:W.mode_of_payment,amount:Number(W.amount)||0})),amountPaid:Number(re.paid_amount)||0,amountDue:Number(re.outstanding_amount)||0,changeGiven:Number(re.change_amount)||0,status:re.status||"Draft",refundAmount:Number(re.refund_amount)||0,notes:re.remarks||"",currency:re.currency||"USD",customer_address_doc:void 0,company_address_doc:void 0,company:re.company||"",posting_date:re.posting_date||"",posting_time:re.posting_time||"",posProfile:re.pos_profile||void 0,custom_pos_opening_entry:re.custom_pos_opening_entry||void 0,name:re.name,custom_zatca_submit_status:re.custom_zatca_submit_status||void 0}});F?(t(re=>[...re,...se]),T(re=>re+se.length)):(t(se),T(se.length)),j(K),f(null)}catch(fe){console.error("Error fetching customer invoices:",fe),f(fe.message||"Unknown error occurred")}finally{o(!1),c(!1)}}),[e]),H=k.useCallback(()=>{!l&&m&&e&&q(_+1,!0)},[_,l,m,q,e]),M=k.useCallback(()=>{e&&(j(0),T(0),p(!0),q(0,!1))},[q,e]);return k.useEffect(()=>{e?q(0,!1):(t([]),o(!1))},[q,e]),{invoices:r,isLoading:s,isLoadingMore:l,error:u,hasMore:m,totalLoaded:C,totalCount:$,loadMore:H,refetch:M}}function Fw({isOpen:e,onClose:r,invoice:t,onGoToCart:s,onSubmitDirect:o}){return!e||!t?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Ra,{size:20})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Invoice:"}),a.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.id})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"What would you like to do with this draft invoice?"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>s(t),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(ku,{size:20}),a.jsx("span",{children:"Go to Cart"})]}),o&&a.jsxs("button",{onClick:()=>o(t),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Uc,{size:20}),a.jsx("span",{children:"Submit"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"})})]})})}function LD(){const e=da(),r=id("(max-width: 1024px)"),[t,s]=k.useState(""),[o,l]=k.useState("all"),[c,u]=k.useState("all"),[f,m]=k.useState(null),[p,_]=k.useState(!1),[j,C]=k.useState(!1),[T,$]=k.useState(null),[O,P]=k.useState(!1),[q,H]=k.useState(null),[M,K]=k.useState(!1),[F,oe]=k.useState(null),{id:fe}=uh(),{customer:X,isLoadingC:le,errorC:he}=TA(fe),{invoices:ee,isLoading:ce,error:te,hasMore:pe,totalLoaded:se,loadMore:re}=ID((X==null?void 0:X.name)||""),{posDetails:de}=Za(),He=be=>c==="all"?!0:c==="today"?ox(be):c==="week"?ix(be):c==="month"?lx(be):c==="year"?cx(be):!0,W=k.useMemo(()=>ce||te||!X?[]:ee.filter(be=>{const Ze=t===""||be.id.toLowerCase().includes(t.toLowerCase()),At=o==="all"||be.status===o,ye=He(be.date);return Ze&&At&&ye}),[ee,t,o,c,ce,te,X]);console.log("CustomerPageDetails: Filtered customer invoices:",{customerInvoicesCount:W.length,customerInvoices:W});const z=be=>{const Ze="px-2 py-1 rounded-full text-xs font-medium";switch((be==null?void 0:be.toLowerCase())||""){case"paid":return`${Ze} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${Ze} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${Ze} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${Ze} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${Ze} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${Ze} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${Ze} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${Ze} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${Ze} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${Ze} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${Ze} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${Ze} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${Ze} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},ae=be=>!be||!be.items?(console.log("No invoice or items found for:",be==null?void 0:be.id),!1):be.items.some(At=>{const ye=At.qty||At.quantity||0;return(At.returned_qty||0)<ye}),ge=be=>{e(`/invoice/${be.id}`),m(be),_(!0)},ue=be=>{kt(be),_(!1)},U=be=>{if(be.status!=="Draft"){Ie.error("Only draft invoices can be edited");return}oe(be),K(!0)},Q=be=>Ne(null,null,function*(){try{(yield C4(be.id))&&(K(!1),oe(null),e("/"))}catch(Ze){console.error("Error going to cart:",Ze),Ie.error(Ze.message||"Failed to add items to cart")}}),Ae=be=>Ne(null,null,function*(){try{yield pj(be.id),Ie.success(`Draft invoice ${be.id} submitted successfully`),K(!1),oe(null),window.location.reload()}catch(Ze){console.error("Error submitting draft invoice:",Ze);const At=ed(Ze,"Failed to submit draft invoice");Ie.error(At)}}),Ke=()=>{K(!1),oe(null)},ct=be=>{$(be),C(!0)},dt=()=>{C(!1),$(null),window.location.reload()},kt=be=>Ne(null,null,function*(){try{const Ze=yield $h(be);e(`/invoice/${Ze.return_invoice}`),Ie.success(`Invoice returned: ${Ze.return_invoice}`)}catch(Ze){Ie.error(Ze.message||"Failed to return invoice")}}),ht=be=>{console.log("Saving customer:",be),P(!1),H(null)},zt=k.useMemo(()=>{const be=W.length,Ze=W.reduce((We,ft)=>We+ft.totalAmount,0),At=W.filter(We=>We.status==="Unpaid"||We.status==="Overdue").reduce((We,ft)=>We+ft.totalAmount,0),ye=be>0?Ze/be:0;return{totalInvoices:be,totalRevenue:Ze,outstandingAmount:At,avgOrderValue:ye}},[W]);return le?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customer details..."})]})}):he&&!X?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customer"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:(he==null?void 0:he.message)||"Failed to load customer details"}),a.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Go Back"})]})}):X?r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(zs,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:X.customer_name||X.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Customer ID: ",X.name]})]})]}),a.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",X),H(X),P(!0)},className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(Al,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center",children:a.jsx(Zn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:X.customer_name||X.name}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Tl,{className:"w-3 h-3"}),a.jsx("span",{children:X.email||"No email provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Nu,{className:"w-3 h-3"}),a.jsx("span",{children:X.phone||"No phone provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ju,{className:"w-3 h-3"}),a.jsx("span",{children:X.territory||"No territory specified"})]})]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:zt.totalInvoices})]}),a.jsx(El,{className:"w-6 h-6 text-beveren-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_t(zt.totalRevenue,(de==null?void 0:de.currency)||"USD")})]}),a.jsx(zi,{className:"w-6 h-6 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_t(zt.outstandingAmount,(de==null?void 0:de.currency)||"USD")})]}),a.jsx(Fi,{className:`w-6 h-6 ${zt.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Avg Order"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_t(zt.avgOrderValue,(de==null?void 0:de.currency)||"USD")})]}),a.jsx(oo,{className:"w-6 h-6 text-blue-600"})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:be=>s(be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{value:o,onChange:be=>l(be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:c,onChange:be=>u(be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",W.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:W.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):W.map(be=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:be.id}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[be.date," ",be.time]})]})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(be.totalAmount,be.currency)})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:z(be.status),children:be.status})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ge(be),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),be.status==="Draft"&&a.jsx("button",{onClick:()=>U(be),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(be.status)&&!be.is_return&&ae(be)&&a.jsx("button",{onClick:()=>ct(be),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},be.id))})]})})]}),pe&&a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx("button",{onClick:re,disabled:ce,className:`px-4 py-2 rounded-lg font-medium transition-colors text-sm ${ce?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:ce?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More (${se} loaded)`})}),!pe&&se>0&&a.jsx("div",{className:"text-center mt-4 py-2",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["All ",se," customer invoices loaded"]})})]}),a.jsx(Jn,{}),a.jsx(ad,{invoice:f,isOpen:p,onClose:()=>_(!1),onRefund:ue,onCancel:be=>{console.log("Invoice cancelled:",be),_(!1)}}),a.jsx(Bu,{invoice:T,isOpen:j,onClose:()=>C(!1),onSuccess:dt}),O&&a.jsx(Pl,{customer:q,onClose:()=>{P(!1),H(null)},onSave:ht}),a.jsx(Fw,{isOpen:M,onClose:Ke,invoice:F,onGoToCart:Q,onSubmitDirect:Ae})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(zs,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:X.customer_name||X.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer ID: ",X.name]})]})]}),a.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",X),H(X),P(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Al,{className:"w-4 h-4"}),a.jsx("span",{children:"Update Customer"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-auto pt-20 ml-20",children:[a.jsxs("div",{className:"px-6 py-8 max-w-none",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center",children:a.jsx(Zn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:X.customer_name||X.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Tl,{className:"w-4 h-4"}),a.jsx("span",{children:X.email||"No email provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Nu,{className:"w-4 h-4"}),a.jsx("span",{children:X.phone||"No phone provided"})]})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(ju,{className:"w-4 h-4"}),a.jsx("span",{children:X.territory||"No territory specified"})]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("span",{children:["Customer Group: ",X.customer_group]})}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("span",{children:["Type: ",X.type]})})]})]}),a.jsxs("div",{className:"text-right space-y-1",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})}),X.creation&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(yh,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",new Date(X.creation).toLocaleDateString()]})]})}),X.modified&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Zc,{className:"w-4 h-4"}),a.jsxs("span",{children:["Updated: ",new Date(X.modified).toLocaleDateString()]})]})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:zt.totalInvoices})]}),a.jsx(El,{className:"w-8 h-8 text-beveren-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(zt.totalRevenue,(de==null?void 0:de.currency)||"USD")})]}),a.jsx(zi,{className:"w-8 h-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Balance"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(zt.outstandingAmount,(de==null?void 0:de.currency)||"USD")})]}),a.jsx(Fi,{className:`w-8 h-8 ${zt.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(zt.avgOrderValue,(de==null?void 0:de.currency)||"USD")})]}),a.jsx(oo,{className:"w-8 h-8 text-blue-600"})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:be=>s(be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:o,onChange:be=>l(be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:c,onChange:be=>u(be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",W.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(de==null?void 0:de.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:W.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:de!=null&&de.is_zatca_enabled?8:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):W.map(be=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:be.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[be.date," ",be.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:be.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:be.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:be.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(be.totalAmount,be.currency)}),be.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",_t(be.giftCardDiscount,be.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:z(be.status),children:be.status})}),(de==null?void 0:de.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:z(be.customZatcaSubmitStatus),children:be.customZatcaSubmitStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ge(be),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),be.status==="Draft"&&a.jsx("button",{onClick:()=>U(be),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(be.status)&&!be.is_return&&ae(be)&&a.jsx("button",{onClick:()=>ct(be),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},be.id))})]})})]})]}),pe&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx("button",{onClick:re,disabled:ce,className:`px-6 py-3 rounded-lg font-medium transition-colors ${ce?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:ce?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More Customer Invoices (${se} loaded)`})}),!pe&&se>0&&a.jsx("div",{className:"text-center mt-6 py-4",children:a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["All ",se," customer invoices loaded"]})})]}),a.jsx(ad,{invoice:f,isOpen:p,onClose:()=>_(!1),onRefund:ue,onCancel:be=>{console.log("Invoice cancelled:",be),_(!1)}}),a.jsx(Bu,{invoice:T,isOpen:j,onClose:()=>C(!1),onSuccess:dt}),O&&a.jsx(Pl,{customer:q,onClose:()=>{P(!1),H(null)},onSave:ht}),a.jsx(Fw,{isOpen:M,onClose:Ke,invoice:F,onGoToCart:Q,onSubmitDirect:Ae})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Customer not found"}),a.jsx("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:"The requested customer could not be found."}),a.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded hover:bg-yellow-200 dark:hover:bg-yellow-800",children:"Go Back"})]})})}const cp={barcode:"",barcodeAuto:!1,itemName:"",itemCode:"",itemCodeAuto:!0,uom:"Nos",uomConversions:[],hasBatch:!0,batchNumber:"",batchAuto:!0,expiryType:"months",bestBefore:"",shelfLifeMonths:0,openingStock:0,buyingPrice:0,sellingPrice:0,itemGroup:"Products"},UD=e=>Ne(null,null,function*(){try{const r=yield fetch(e);if(!r.ok)return null;const t=yield r.blob();return new Promise(s=>{const o=new FileReader;o.onload=l=>{var u;const c=new Image;c.crossOrigin="anonymous",c.onload=()=>{const f=document.createElement("canvas");let{width:m,height:p}=c;const _=800;m>p?m>_&&(p=Math.round(p*_/m),m=_):p>_&&(m=Math.round(m*_/p),p=_),f.width=m,f.height=p;const j=f.getContext("2d");if(!j){s(null);return}j.fillStyle="#FFFFFF",j.fillRect(0,0,m,p),j.drawImage(c,0,0,m,p),s(f.toDataURL("image/jpeg",.8))},c.onerror=()=>s(null),c.src=(u=l.target)==null?void 0:u.result},o.onerror=()=>s(null),o.readAsDataURL(t)})}catch(r){return null}}),FD=e=>Ne(null,null,function*(){var r,t,s;try{const o=yield fetch(`https://world.openfoodfacts.org/api/v0/product/${e}.json`,{signal:AbortSignal.timeout(5e3)});if(o.ok){const l=yield o.json();if(l.status===1&&l.product){const c=l.product;return{name:c.product_name||c.product_name_en||null,image_url:c.image_url||c.image_front_url||c.image_small_url||null,shelf_life_months:null,brand:c.brands||null,category:((t=(r=c.categories)==null?void 0:r.split(",")[0])==null?void 0:t.trim())||null}}}try{const l=yield fetch(`https://api.upcitemdb.com/prod/trial/lookup?upc=${e}`,{signal:AbortSignal.timeout(5e3)});if(l.ok){const c=yield l.json();if(c.items&&c.items.length>0){const u=c.items[0];return{name:u.title||null,image_url:((s=u.images)==null?void 0:s[0])||null,shelf_life_months:null,brand:u.brand||null,category:u.category||null}}}}catch(l){}return null}catch(o){return null}}),dp=800,up=800,zD=.8,BD=e=>new Promise((r,t)=>{const s=new FileReader;s.onload=o=>{var c;const l=new Image;l.onload=()=>{const u=document.createElement("canvas");let{width:f,height:m}=l;f>m?f>dp&&(m=Math.round(m*dp/f),f=dp):m>up&&(f=Math.round(f*up/m),m=up),u.width=f,u.height=m;const p=u.getContext("2d");if(!p){t(new Error("Failed to get canvas context"));return}p.fillStyle="#FFFFFF",p.fillRect(0,0,f,m),p.drawImage(l,0,0,f,m);const _=u.toDataURL("image/jpeg",zD);r(_)},l.onerror=()=>t(new Error("Failed to load image")),l.src=(c=o.target)==null?void 0:c.result},s.onerror=()=>t(new Error("Failed to read file")),s.readAsDataURL(e)}),zw=["Nos","Kg","Gram","Liter","ML","Box","Pack","Dozen","Piece","Unit"],qD=["Products","Services","Raw Materials","Consumables","Sub Assemblies"];function HD(){const e=da(),[r]=tS(),t=r.get("barcode")||"",[s,o]=k.useState(t?"add":"list"),[l,c]=k.useState(""),[u,f]=k.useState(!1),[m,p]=k.useState(!1),[_,j]=k.useState(null),[C,T]=k.useState([]),[$,O]=k.useState(!1),[P,q]=k.useState(null),[H,M]=k.useState(!1),[K,F]=k.useState(!1),[oe,fe]=k.useState("idle"),[X,le]=k.useState(je(Y({},cp),{barcode:t})),he=k.useCallback(U=>Ne(null,null,function*(){if(!(!U||U.length<8)){F(!0),fe("searching");try{if(!navigator.onLine){fe("error"),Ie.warning("No internet connection. Please enter product details manually.",{autoClose:3e3});return}Ie.info("Looking up product info...",{autoClose:2e3,toastId:"barcode-lookup"});const Q=yield FD(U);if(Q&&Q.name){if(fe("found"),le(Ke=>je(Y({},Ke),{itemName:Q.name||Ke.itemName,shelfLifeMonths:Q.shelf_life_months||Ke.shelfLifeMonths})),Q.image_url){Ie.info("Fetching product image...",{autoClose:1500});try{const Ke=yield UD(Q.image_url);Ke&&q(Ke)}catch(Ke){console.log("Could not fetch product image")}}const Ae=Q.brand?` (${Q.brand})`:"";Ie.success(`Found: ${Q.name}${Ae}`,{autoClose:3e3})}else fe("not_found"),Ie.info("Product not found in database. Please enter details manually.",{autoClose:3e3})}catch(Q){console.error("Barcode lookup error:",Q),fe("error"),Ie.warning("Could not lookup product. Please enter details manually.",{autoClose:3e3})}finally{F(!1)}}}),[]),ee=k.useCallback(U=>Ne(null,null,function*(){var Q;if(s==="add"&&!X.barcodeAuto){console.log("USB Scanner detected barcode for item:",U),Ie.info(`Scanned: ${U}`,{autoClose:1500}),le(Ae=>je(Y({},Ae),{barcode:U,barcodeAuto:!1})),j(null);try{if((Q=(yield(yield fetch("/api/method/klik_pos.api.item.check_barcode_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:U}),credentials:"include"})).json()).message)!=null&&Q.exists){j(`Barcode "${U}" is already assigned to another item`),Ie.error(`Barcode "${U}" already exists!`);return}else Ie.success(`Barcode "${U}" is available`)}catch(Ae){console.error("Error checking barcode:",Ae)}yield he(U)}}),[s,X.barcodeAuto,he]);iN({onBarcodeScanned:ee,enabled:s==="add",minLength:4,maxTimeBetweenChars:50});const ce=()=>Ne(null,null,function*(){var U;O(!0);try{const Ae=yield(yield fetch("/api/method/klik_pos.api.item.get_items_with_balance_and_price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:200,offset:0}),credentials:"include"})).json();if((U=Ae.message)!=null&&U.items&&Ae.message.items.length>0){const Ke=Ae.message.items.map(ct=>({name:ct.id,item_code:ct.id,item_name:ct.name,barcode:ct.barcode||"",image:ct.image||"",available:ct.available||0,price:ct.price||0,buying_price:ct.buying_price||0,currency_symbol:ct.currency_symbol||"SAR"}));T(Ke);return}throw new Error("Primary API returned no items")}catch(Q){console.error("Primary fetch failed, trying fallback:",Q);try{const Ke=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Item",fields:["name","item_code","item_name","image"],filters:{disabled:0},limit_page_length:200,order_by:"modified desc"}),credentials:"include"})).json();Ke.message&&Ke.message.length>0?T(Ke.message):(console.log("No items found in fallback either"),T([]))}catch(Ae){console.error("Fallback fetch also failed:",Ae),Ie.error("Failed to load items"),T([])}}finally{O(!1)}});k.useEffect(()=>{s==="list"&&ce()},[s]),k.useEffect(()=>{t||ce()},[]);const te=U=>Ne(null,null,function*(){var Q;if(!U.trim())return!1;try{return((Q=(yield(yield fetch("/api/method/klik_pos.api.item.check_barcode_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:U}),credentials:"include"})).json()).message)==null?void 0:Q.exists)===!0}catch(Ae){return console.error("Error checking barcode:",Ae),!1}}),pe=U=>Ne(null,null,function*(){if(f(!1),le(Ae=>je(Y({},Ae),{barcode:U,barcodeAuto:!1})),j(null),yield te(U)){j(`Barcode "${U}" is already assigned to another item`),Ie.error(`Barcode "${U}" already exists!`);return}else Ie.success(`Barcode "${U}" scanned successfully`);yield he(U)}),se=U=>Ne(null,null,function*(){le(Q=>je(Y({},Q),{barcode:U,barcodeAuto:!1})),j(null),fe("idle"),U.trim().length>=8&&(yield te(U))&&j(`Barcode "${U}" is already assigned to another item`)}),re=()=>Ne(null,null,function*(){X.barcode&&X.barcode.length>=8&&!_&&(yield he(X.barcode))}),de=U=>Ne(null,null,function*(){var Ae;const Q=(Ae=U.target.files)==null?void 0:Ae[0];if(Q){if(!Q.type.startsWith("image/")){Ie.error("Please select an image file");return}if(Q.size>10*1024*1024){Ie.error("Image is too large. Max 10MB allowed.");return}M(!0);try{const Ke=yield BD(Q);q(Ke),Ie.success("Image uploaded and optimized")}catch(Ke){console.error("Image optimization error:",Ke),Ie.error("Failed to process image")}finally{M(!1)}}}),He=()=>{q(null)},W=()=>{le(U=>je(Y({},U),{uomConversions:[...U.uomConversions,{uom:"",conversionFactor:1}]}))},z=U=>{le(Q=>je(Y({},Q),{uomConversions:Q.uomConversions.filter((Ae,Ke)=>Ke!==U)}))},ae=(U,Q,Ae)=>{le(Ke=>je(Y({},Ke),{uomConversions:Ke.uomConversions.map((ct,dt)=>dt===U?je(Y({},ct),{[Q]:Ae}):ct)}))},ge=U=>Ne(null,null,function*(){var Q,Ae,Ke;if(U.preventDefault(),!X.itemName.trim()){Ie.error("Item name is required");return}if(_){Ie.error("Please fix the barcode error before saving");return}X.sellingPrice<X.buyingPrice&&Ie.warning("Selling price is less than buying price"),p(!0);try{let ct=X.itemCode;(X.itemCodeAuto||!ct.trim())&&(ct="");let dt=X.batchNumber;X.hasBatch&&X.batchAuto&&(dt="");let kt=0,ht=X.bestBefore||void 0;if(X.hasBatch){if(X.expiryType==="months"&&X.shelfLifeMonths>0){kt=X.shelfLifeMonths*30;const ye=new Date;ye.setDate(ye.getDate()+kt),ht=ye.toISOString().split("T")[0]}else if(X.expiryType==="date"&&X.bestBefore){const ye=new Date,We=new Date(X.bestBefore);kt=Math.ceil((We.getTime()-ye.getTime())/(1e3*60*60*24)),kt<0&&(kt=0),ht=X.bestBefore}}const zt=X.barcodeAuto?void 0:X.barcode||void 0,Ze=yield(yield fetch("/api/method/klik_pos.api.item.create_item_with_barcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_name:X.itemName,item_code:ct||void 0,item_group:X.itemGroup,stock_uom:X.uom,barcode:zt,use_item_code_as_barcode:X.barcodeAuto?1:0,has_batch_no:X.hasBatch?1:0,has_expiry_date:X.hasBatch&&(X.shelfLifeMonths>0||X.bestBefore)?1:0,shelf_life_in_days:kt>0?kt:void 0,selling_price:X.sellingPrice,buying_price:X.buyingPrice,opening_stock:X.openingStock,batch_no:X.hasBatch&&!X.batchAuto?dt:void 0,expiry_date:ht,image_data:P||void 0}),credentials:"include"})).json();if(Ze.exc||Ze.exception||Ze._server_messages){let ye="Failed to create item";if(Ze._server_messages)try{const We=JSON.parse(Ze._server_messages);We.length>0&&(ye=JSON.parse(We[0]).message||ye)}catch(We){ye=Ze.exc||Ze.exception||ye}else ye=Ze.exc||Ze.exception||ye;throw new Error(ye)}if(!((Q=Ze.message)!=null&&Q.success))throw new Error(((Ae=Ze.message)==null?void 0:Ae.message)||"Failed to create item");const At=(Ke=Ze.message)==null?void 0:Ke.item_code;Ie.success(`Item "${X.itemName}" created successfully!`),le(cp),q(null),fe("idle"),At?e(`/items/${encodeURIComponent(At)}`):o("list")}catch(ct){console.error("Error creating item:",ct);const dt=ct instanceof Error?ct.message:"Failed to create item";Ie.error(dt)}finally{p(!1)}}),ue=C.filter(U=>{var Q,Ae,Ke;return((Q=U.item_name)==null?void 0:Q.toLowerCase().includes(l.toLowerCase()))||((Ae=U.item_code)==null?void 0:Ae.toLowerCase().includes(l.toLowerCase()))||((Ke=U.barcode)==null?void 0:Ke.toLowerCase().includes(l.toLowerCase()))});return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[s==="add"&&a.jsx("button",{onClick:()=>{le(cp),j(null),q(null),o("list")},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(zs,{size:20})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fo,{className:"text-beveren-600",size:24}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s==="list"?"Items":"Add New Item"})]})]}),s==="list"&&a.jsxs("button",{onClick:()=>o("add"),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(qo,{size:18}),a.jsx("span",{children:"Add Item"})]})]})}),a.jsx("div",{className:"p-4",children:s==="list"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:l,onChange:U=>c(U.target.value),placeholder:"Search items by name, code, or barcode...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("button",{onClick:ce,disabled:$,className:"flex items-center space-x-2 text-beveren-600 hover:text-beveren-700",children:[a.jsx(qi,{size:16,className:$?"animate-spin":""}),a.jsx("span",{children:"Refresh"})]}),a.jsx("div",{className:"space-y-2",children:$?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading items..."}):ue.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:l?"No items found":"No items yet. Add your first item!"}):ue.map(U=>a.jsxs("div",{onClick:()=>e(`/items/${encodeURIComponent(U.item_code)}`),className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-beveren-500 hover:shadow-lg transition-all overflow-hidden",children:[a.jsx("div",{className:"p-4 pb-3",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[U.image?a.jsx("img",{src:U.image,alt:U.item_name,className:"w-16 h-16 rounded-xl object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0"}):a.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center border border-gray-200 dark:border-gray-600 flex-shrink-0",children:a.jsx(fo,{size:24,className:"text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white leading-tight line-clamp-2",children:U.item_name}),a.jsx(X3,{size:18,className:"text-gray-400 flex-shrink-0 ml-2 mt-0.5"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-mono",children:U.item_code}),U.barcode&&a.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 flex items-center mt-1",children:[a.jsx(Op,{size:11,className:"mr-1 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:U.barcode})]})]})]})}),a.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50 px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-1",children:[a.jsx(rC,{size:14,className:`mr-1 ${(U.available||0)>0?"text-green-500":"text-red-400"}`}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Stock"})]}),a.jsx("p",{className:`text-sm font-bold ${(U.available||0)>10?"text-green-600 dark:text-green-400":(U.available||0)>0?"text-amber-600 dark:text-amber-400":"text-red-500 dark:text-red-400"}`,children:U.available||0})]}),a.jsxs("div",{className:"text-center border-x border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-center mb-1",children:[a.jsx(Up,{size:14,className:"mr-1 text-blue-500"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Buy"})]}),a.jsx("p",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:U.buying_price?`${U.buying_price.toFixed(2)}`:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-1",children:[a.jsx(oo,{size:14,className:"mr-1 text-emerald-500"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sell"})]}),a.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:U.price?`${U.price.toFixed(2)}`:""})]})]})})]},U.name))})]}):a.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Op,{size:20,className:"mr-2 text-beveren-600"}),"Barcode"]}),a.jsxs("label",{className:"flex items-center space-x-2 mb-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:X.barcodeAuto,onChange:U=>{le(Q=>je(Y({},Q),{barcodeAuto:U.target.checked,barcode:U.target.checked?"":Q.barcode})),j(null),fe("idle")},className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate (unique SKU-standard barcode)"})]}),!X.barcodeAuto&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",value:X.barcode,onChange:U=>se(U.target.value),placeholder:"Enter or scan barcode",className:`w-full px-4 py-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${_?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),_&&a.jsxs("div",{className:"absolute -bottom-6 left-0 text-red-500 text-xs flex items-center",children:[a.jsx(Fi,{size:12,className:"mr-1"}),_]})]}),a.jsx("button",{type:"button",onClick:re,disabled:K||!X.barcode||X.barcode.length<8||!!_,className:"px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Lookup product info online",children:K?a.jsx(Xa,{size:20,className:"animate-spin text-beveren-600"}):a.jsx(Mp,{size:20,className:"text-beveren-600"})}),a.jsx("button",{type:"button",onClick:()=>f(!0),className:"px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:a.jsx(Ly,{size:20})})]}),_&&a.jsx("div",{className:"h-4"}),oe!=="idle"&&a.jsxs("div",{className:`mt-3 flex items-center text-xs ${oe==="searching"?"text-blue-500":oe==="found"?"text-green-500":oe==="not_found"?"text-yellow-500":"text-red-500"}`,children:[oe==="searching"&&a.jsxs(a.Fragment,{children:[a.jsx(Xa,{size:14,className:"mr-1.5 animate-spin"}),a.jsx("span",{children:"Looking up product info..."})]}),oe==="found"&&a.jsxs(a.Fragment,{children:[a.jsx(m9,{size:14,className:"mr-1.5"}),a.jsx("span",{children:"Product info found and filled!"})]}),oe==="not_found"&&a.jsxs(a.Fragment,{children:[a.jsx(Fi,{size:14,className:"mr-1.5"}),a.jsx("span",{children:"Product not found in database. Enter details manually."})]}),oe==="error"&&a.jsxs(a.Fragment,{children:[a.jsx(A9,{size:14,className:"mr-1.5"}),a.jsx("span",{children:"Could not connect. Check internet and try again."})]})]}),a.jsxs("div",{className:"mt-3 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(_9,{size:14,className:"mr-1.5 text-green-500"}),a.jsx("span",{children:"USB barcode scanner ready - scan to auto-fill product info from internet"})]})]}),X.barcodeAuto&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-sm text-blue-700 dark:text-blue-300",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{size:16,className:"mr-2"}),a.jsx("span",{children:"A unique EAN-13 standard barcode will be automatically generated for this product."})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Zf,{size:20,className:"mr-2 text-beveren-600"}),"Item Image (Optional)"]}),a.jsxs("div",{className:"flex flex-col items-center",children:[P?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:P,alt:"Item preview",className:"w-40 h-40 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),a.jsx("button",{type:"button",onClick:He,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(tj,{size:14})})]}):a.jsxs("label",{className:"w-40 h-40 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-beveren-500 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[H?a.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[a.jsx(Xa,{size:32,className:"animate-spin mb-2"}),a.jsx("span",{className:"text-xs",children:"Optimizing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zf,{size:32,className:"text-gray-400 mb-2"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 text-center px-2",children:"Click to upload"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:de,className:"hidden",disabled:H})]}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Image will be optimized to max 800x800px"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:X.itemName,onChange:U=>le(Q=>je(Y({},Q),{itemName:U.target.value})),placeholder:"Enter item name",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item Code"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:X.itemCodeAuto,onChange:U=>le(Q=>je(Y({},Q),{itemCodeAuto:U.target.checked})),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate"})]})}),!X.itemCodeAuto&&a.jsx("input",{type:"text",value:X.itemCode,onChange:U=>le(Q=>je(Y({},Q),{itemCode:U.target.value})),placeholder:"Enter item code",className:"w-full mt-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item Group"}),a.jsx("select",{value:X.itemGroup,onChange:U=>le(Q=>je(Y({},Q),{itemGroup:U.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:qD.map(U=>a.jsx("option",{value:U,children:U},U))})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Unit of Measure"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stock UOM"}),a.jsx("select",{value:X.uom,onChange:U=>le(Q=>je(Y({},Q),{uom:U.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:zw.map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"UOM Conversions (Optional)"}),a.jsxs("button",{type:"button",onClick:W,className:"text-beveren-600 hover:text-beveren-700 text-sm flex items-center",children:[a.jsx(qo,{size:16,className:"mr-1"}),"Add"]})]}),X.uomConversions.map((U,Q)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("select",{value:U.uom,onChange:Ae=>ae(Q,"uom",Ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[a.jsx("option",{value:"",children:"Select UOM"}),zw.filter(Ae=>Ae!==X.uom).map(Ae=>a.jsx("option",{value:Ae,children:Ae},Ae))]}),a.jsx("span",{className:"text-gray-500",children:"="}),a.jsx("input",{type:"number",value:U.conversionFactor,onChange:Ae=>ae(Q,"conversionFactor",parseFloat(Ae.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",min:"0.001",step:"0.001"}),a.jsx("span",{className:"text-gray-500 text-sm",children:X.uom}),a.jsx("button",{type:"button",onClick:()=>z(Q),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:a.jsx(Ra,{size:16})})]},Q))]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Batch & Expiry (Optional)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:X.hasBatch,onChange:U=>le(Q=>je(Y({},Q),{hasBatch:U.target.checked})),className:"w-5 h-5 text-beveren-600 rounded"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Enable Batch Tracking"})]}),X.hasBatch&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"ml-8",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:X.batchAuto,onChange:U=>le(Q=>je(Y({},Q),{batchAuto:U.target.checked})),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate Batch Number"})]}),!X.batchAuto&&a.jsx("input",{type:"text",value:X.batchNumber,onChange:U=>le(Q=>je(Y({},Q),{batchNumber:U.target.value})),placeholder:"Enter batch number",className:"w-full mt-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shelf Life / Expiry"}),a.jsxs("div",{className:"flex space-x-4 mb-3",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"expiryType",checked:X.expiryType==="months",onChange:()=>le(U=>je(Y({},U),{expiryType:"months",bestBefore:""})),className:"w-4 h-4 text-beveren-600"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shelf Life (Months)"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"expiryType",checked:X.expiryType==="date",onChange:()=>le(U=>je(Y({},U),{expiryType:"date",shelfLifeMonths:0})),className:"w-4 h-4 text-beveren-600"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expiry Date"})]})]}),X.expiryType==="months"?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",min:"0",value:X.shelfLifeMonths||"",onChange:U=>le(Q=>je(Y({},Q),{shelfLifeMonths:parseInt(U.target.value)||0})),placeholder:"Enter months",className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"months"})]}),X.shelfLifeMonths>0&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["= ",X.shelfLifeMonths*30," days shelf life"]})]}):a.jsx("input",{type:"date",value:X.bestBefore,onChange:U=>le(Q=>je(Y({},Q),{bestBefore:U.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Stock & Pricing"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opening Stock Qty"}),a.jsx("input",{type:"number",value:X.openingStock,onChange:U=>le(Q=>je(Y({},Q),{openingStock:parseFloat(U.target.value)||0})),placeholder:"0",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buying Price"}),a.jsx("input",{type:"number",value:X.buyingPrice,onChange:U=>le(Q=>je(Y({},Q),{buyingPrice:parseFloat(U.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Selling Price"}),a.jsx("input",{type:"number",value:X.sellingPrice,onChange:U=>le(Q=>je(Y({},Q),{sellingPrice:parseFloat(U.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),X.sellingPrice>0&&X.buyingPrice>0&&a.jsx("div",{className:"mt-3 text-sm",children:a.jsxs("span",{className:`${X.sellingPrice>=X.buyingPrice?"text-green-600":"text-red-600"}`,children:["Margin: ",((X.sellingPrice-X.buyingPrice)/X.buyingPrice*100).toFixed(1),"%"]})})]}),a.jsx("button",{type:"submit",disabled:m||!!_,className:`w-full py-4 rounded-lg font-semibold text-white flex items-center justify-center space-x-2 transition-colors ${m||_?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-beveren-700"}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(qi,{size:20,className:"animate-spin"}),a.jsx("span",{children:"Creating Item..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fy,{size:20}),a.jsx("span",{children:"Save Item"})]})})]})}),a.jsx(dy,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:pe}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Jn,{})})]})}function GD({isOpen:e,onClose:r,barcode:t,itemName:s,itemCode:o,sellingPrice:l}){const[c,u]=k.useState(1),[f,m]=k.useState(!1),p=j=>`https://bwipjs-api.metafloor.com/?bcid=code128&text=${encodeURIComponent(j)}&scale=2&height=10&includetext=false`,_=()=>{if(!t){Ie.error("Barcode is required");return}m(!0);const j=window.open("","_blank","width=600,height=400");if(!j){Ie.error("Please allow pop-ups to print barcodes"),m(!1);return}const C=p(t),T=s.substring(0,20);let $="";for(let O=0;O<c;O++)$+=`
        <div class="label-container">
          <!-- Item Name (Truncated to 20 chars) -->
          <div class="item-name">
            ${T}
          </div>

          <!-- The Barcode Image -->
          <div class="barcode-box">
            <img class="barcode-img" 
                 src="${C}" 
                 alt="Barcode ${t}" />
            
            <!-- The Barcode Number (Text below image) -->
            <div class="barcode-text">${t}</div>
          </div>
        </div>
      `;j.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Print Barcode - ${s}</title>
        <style>
          /* CSS for 50mm x 30mm Label - Exact from Jinja template */
          body {
            margin: 0;
            padding: 0;
          }
          
          .label-container {
            /* ADJUST THESE if your paper is different (e.g. 40mm x 25mm) */
            width: 50mm; 
            height: 30mm;
            
            overflow: hidden;
            text-align: center;
            font-family: sans-serif;
            /* Critical: Forces printer to start new label after this div */
            page-break-after: always; 
            background-color: white;
          }

          .item-name {
            font-size: 11px;
            font-weight: bold;
            white-space: nowrap; /* Keeps name on one line */
            margin-top: 3px;
          }

          .barcode-box {
            margin-top: 2px;
          }

          .barcode-img {
            width: 90%; 
            height: 12mm; /* Height of the bars */
            object-fit: contain;
          }

          .barcode-text {
            font-size: 10px;
            letter-spacing: 1px;
            margin-top: -2px;
          }

          .price {
            font-size: 11px;
            font-weight: bold;
            margin-top: 2px;
          }
          
          .no-code {
            font-size: 10px;
            color: red;
            margin-top: 10px;
          }

          @media print {
            .label-container {
              border: none !important;
            }
          }

          @media screen {
            .label-container {
              border: 0.5mm dashed #ccc;
              margin-bottom: 2mm;
            }
          }
        </style>
      </head>
      <body>
        ${$}
        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
              window.close();
            }, 300);
          }
        <\/script>
      </body>
      </html>
    `),j.document.close(),m(!1),Ie.success(`Printing ${c} label${c>1?"s":""}...`)};return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx(Bi,{size:20,className:"mr-2 text-beveren-600"}),"Print Barcode Labels"]}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ra,{size:20,className:"text-gray-500"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",o]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1",children:["Barcode: ",t]})]}),a.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-white",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2 text-center",children:"Preview"}),a.jsxs("div",{className:"label-container mx-auto",style:{width:"150px",height:"90px",border:"1px dashed #ccc"},children:[a.jsx("div",{className:"item-name",style:{fontSize:"8px",marginTop:"2px"},children:s.substring(0,20)}),a.jsxs("div",{className:"barcode-box",style:{marginTop:"2px"},children:[a.jsx("img",{className:"barcode-img",src:p(t),alt:`Barcode ${t}`,style:{width:"90%",height:"36px",objectFit:"contain"}}),a.jsx("div",{className:"barcode-text",style:{fontSize:"8px",letterSpacing:"1px",marginTop:"-2px"},children:t})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Labels"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>u(Math.max(1,c-1)),className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(bh,{size:18})}),a.jsx("input",{type:"number",value:c,onChange:j=>u(Math.max(1,Math.min(100,parseInt(j.target.value)||1))),className:"w-20 px-3 py-2 text-center border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:1,max:100}),a.jsx("button",{type:"button",onClick:()=>u(Math.min(100,c+1)),className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(qo,{size:18})})]})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{type:"button",onClick:_,disabled:f||!t,className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Printing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bi,{size:18}),a.jsxs("span",{children:["Print ",c," Label",c>1?"s":""]})]})})]})})]})}):null}const fp=800,hp=800,VD=.8,KD=e=>new Promise((r,t)=>{const s=new FileReader;s.onload=o=>{var c;const l=new Image;l.onload=()=>{const u=document.createElement("canvas");let{width:f,height:m}=l;f>m?f>fp&&(m=Math.round(m*fp/f),f=fp):m>hp&&(f=Math.round(f*hp/m),m=hp),u.width=f,u.height=m;const p=u.getContext("2d");if(!p){t(new Error("Failed to get canvas context"));return}p.fillStyle="#FFFFFF",p.fillRect(0,0,f,m),p.drawImage(l,0,0,f,m);const _=u.toDataURL("image/jpeg",VD);r(_)},l.onerror=()=>t(new Error("Failed to load image")),l.src=(c=o.target)==null?void 0:c.result},s.onerror=()=>t(new Error("Failed to read file")),s.readAsDataURL(e)}),WD=["Nos","Kg","Gram","Liter","ML","Box","Pack","Dozen","Piece","Unit"],YD=["Products","Services","Raw Materials","Consumables","Sub Assemblies"];function QD(){const e=da(),{itemCode:r}=uh(),[t,s]=k.useState(null),[o,l]=k.useState(!0),[c,u]=k.useState(!1),[f,m]=k.useState(!1),[p,_]=k.useState(null),[j,C]=k.useState({item_name:"",item_group:"",stock_uom:"",standard_rate:0,valuation_rate:0,shelf_life_in_days:null,barcode:"",available_qty:0}),[T,$]=k.useState(!1),[O,P]=k.useState(null),[q,H]=k.useState(!1),[M,K]=k.useState(!1),F=k.useCallback(()=>Ne(null,null,function*(){var ee,ce;if(r){l(!0);try{const pe=yield(yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Item",name:r}),credentials:"include"})).json();if(pe.message){const se=pe.message;let re="";se.barcodes&&se.barcodes.length>0&&(re=se.barcodes[0].barcode||"");let de=0,He="";try{const U=yield(yield fetch("/api/method/klik_pos.api.item.get_item_stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r}),credentials:"include"})).json();de=((ee=U.message)==null?void 0:ee.available)||0,He=((ce=U.message)==null?void 0:ce.warehouse)||""}catch(ue){console.error("Failed to fetch stock")}let W=0,z=0;try{const U=yield(yield fetch("/api/method/klik_pos.api.item.get_item_prices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r}),credentials:"include"})).json();U.message&&(W=U.message.selling_price||0,z=U.message.buying_price||0)}catch(ue){console.error("Failed to fetch prices from Item Price table, using Item document fallback"),W=se.standard_rate||0,z=se.valuation_rate||0}const ae={item_code:se.item_code,item_name:se.item_name,item_group:se.item_group,stock_uom:se.stock_uom,image:se.image,barcode:re,standard_rate:W,valuation_rate:z,has_batch_no:se.has_batch_no||0,has_expiry_date:se.has_expiry_date||0,shelf_life_in_days:se.shelf_life_in_days||null,available_qty:de,warehouse:He};s(ae);const ge={item_name:ae.item_name,item_group:ae.item_group,stock_uom:ae.stock_uom,standard_rate:ae.standard_rate,valuation_rate:ae.valuation_rate,shelf_life_in_days:ae.shelf_life_in_days,barcode:ae.barcode||"",available_qty:ae.available_qty};C(ge),_(ge)}}catch(te){console.error("Error fetching item:",te),Ie.error("Failed to load item details")}finally{l(!1)}}}),[r]);k.useEffect(()=>{F()},[F]);const oe=ee=>Ne(null,null,function*(){var te;const ce=(te=ee.target.files)==null?void 0:te[0];if(ce){if(!ce.type.startsWith("image/")){Ie.error("Please select an image file");return}if(ce.size>10*1024*1024){Ie.error("Image is too large. Max 10MB allowed.");return}H(!0);try{const pe=yield KD(ce);P(pe),Ie.success("Image uploaded")}catch(pe){console.error("Image optimization error:",pe),Ie.error("Failed to process image")}finally{H(!1)}}}),fe=()=>{P(null)},X=()=>p?O?!0:j.item_name!==p.item_name||j.item_group!==p.item_group||j.stock_uom!==p.stock_uom||j.standard_rate!==p.standard_rate||j.valuation_rate!==p.valuation_rate||j.shelf_life_in_days!==p.shelf_life_in_days||j.barcode!==p.barcode||j.available_qty!==p.available_qty:!1,le=()=>{p&&C(p),P(null),u(!1)},he=()=>Ne(null,null,function*(){var ee;if(!X()){Ie.info("No changes to update"),u(!1);return}if(!j.item_name.trim()){Ie.error("Item name is required");return}m(!0);try{const ce={item_name:j.item_name,item_group:j.item_group,stock_uom:j.stock_uom,shelf_life_in_days:j.shelf_life_in_days||0,has_expiry_date:j.shelf_life_in_days&&j.shelf_life_in_days>0?1:(t==null?void 0:t.has_expiry_date)||0},te=j.barcode!==(p==null?void 0:p.barcode),pe=j.standard_rate!==(p==null?void 0:p.standard_rate),se=j.valuation_rate!==(p==null?void 0:p.valuation_rate),de=yield(yield fetch("/api/method/frappe.client.set_value",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Item",name:r,fieldname:ce}),credentials:"include"})).json();if(de.exc||de.exception)throw new Error(de.exc||de.exception);if(pe||se)try{const z=yield(yield fetch("/api/method/klik_pos.api.item.update_item_prices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r,selling_price:j.standard_rate,buying_price:j.valuation_rate}),credentials:"include"})).json();if(z.exc||z.exception)throw new Error(z.exc||z.exception||"Failed to update prices");if((ee=z.message)!=null&&ee.success){const ae=z.message.updated||[];ae.includes("selling")&&ae.includes("buying")?Ie.success("Selling and buying prices updated in Item Price table"):ae.includes("selling")?Ie.success("Selling price updated in Item Price table"):ae.includes("buying")&&Ie.success("Buying price updated in Item Price table")}}catch(W){console.error("Price update failed:",W),Ie.error(`Failed to update prices: ${W.message||"Unknown error"}`)}if(te&&r)try{yield fetch("/api/method/klik_pos.api.item.update_item_barcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r,barcode:j.barcode||""}),credentials:"include"})}catch(W){console.error("Barcode update failed:",W)}if(O&&r)try{yield fetch("/api/method/klik_pos.api.item.update_item_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r,image_data:O}),credentials:"include"})}catch(W){console.error("Image update failed:",W)}const He=j.available_qty!==(p==null?void 0:p.available_qty);if(He&&r&&(t!=null&&t.warehouse)){$(!0);try{const z=yield(yield fetch("/api/method/klik_pos.api.item.update_opening_stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r,warehouse:t.warehouse,qty:j.available_qty,batch_no:null,valuation_rate:j.valuation_rate,remarks:"Opening stock correction from Item Detail page"}),credentials:"include"})).json();if(z.exc||z.exception)throw new Error(z.exc||z.exception||"Failed to update stock");z.message&&z.message.status==="success"&&Ie.success(`Stock updated: ${z.message.old_qty}  ${z.message.new_qty}`)}catch(W){console.error("Stock update failed:",W),Ie.error(`Failed to update stock: ${W.message||"Unknown error"}`)}finally{$(!1)}}else He&&!(t!=null&&t.warehouse)&&Ie.error("Warehouse not found. Please configure POS profile with a warehouse.");Ie.success("Item updated successfully!"),u(!1),P(null),yield F()}catch(ce){console.error("Error updating item:",ce),Ie.error("Failed to update item")}finally{m(!1)}});return o?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20 flex items-center justify-center",children:a.jsx(Xa,{className:"w-8 h-8 animate-spin text-beveren-600"})}):t?a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e("/items"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(zs,{size:20})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fo,{className:"text-beveren-600",size:24}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c?"Edit Item":"Item Details"})]})]}),c?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:le,className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(Ra,{size:18}),a.jsx("span",{children:"Cancel"})]}),a.jsxs("button",{onClick:he,disabled:f||T,className:"flex items-center space-x-1 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors disabled:opacity-50",children:[f||T?a.jsx(Xa,{size:18,className:"animate-spin"}):a.jsx(Fy,{size:18}),a.jsx("span",{children:T?"Updating Stock...":"Update"})]})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[t.barcode&&a.jsxs("button",{onClick:()=>K(!0),className:"flex items-center space-x-1 px-3 py-2 border border-beveren-600 text-beveren-600 rounded-lg hover:bg-beveren-50 dark:hover:bg-beveren-900/20 transition-colors",title:"Print Barcode Labels",children:[a.jsx(Bi,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Print"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-1 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(QC,{size:18}),a.jsx("span",{children:"Edit"})]})]})]})}),t.barcode&&a.jsx(GD,{isOpen:M,onClose:()=>K(!1),barcode:t.barcode,itemName:t.item_name,itemCode:t.item_code,sellingPrice:t.standard_rate}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Item Image"}),a.jsx("div",{className:"flex justify-center",children:c?a.jsx("div",{className:"relative",children:O||t.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:O||t.image||"",alt:t.item_name,className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),O&&a.jsx("button",{type:"button",onClick:fe,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(tj,{size:14})}),a.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-beveren-600 text-white rounded-full cursor-pointer hover:bg-beveren-700 shadow-lg",children:[a.jsx(Zf,{size:16}),a.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"hidden",disabled:q})]})]}):a.jsxs("label",{className:"w-32 h-32 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-beveren-500 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[q?a.jsx(Xa,{size:24,className:"animate-spin text-gray-400"}):a.jsxs(a.Fragment,{children:[a.jsx(Zf,{size:24,className:"text-gray-400 mb-1"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Upload"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"hidden",disabled:q})]})}):t.image?a.jsx("img",{src:t.image,alt:t.item_name,className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}):a.jsx("div",{className:"w-32 h-32 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded-lg border-2 border-gray-200 dark:border-gray-600",children:a.jsx(fo,{size:32,className:"text-gray-400"})})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Item Code"}),a.jsx("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white font-mono text-sm",children:t.item_code})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Item Name"}),c?a.jsx("input",{type:"text",value:j.item_name,onChange:ee=>C(ce=>je(Y({},ce),{item_name:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.item_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Item Group"}),c?a.jsx("select",{value:j.item_group,onChange:ee=>C(ce=>je(Y({},ce),{item_group:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:YD.map(ee=>a.jsx("option",{value:ee,children:ee},ee))}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.item_group})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Stock UOM"}),c?a.jsx("select",{value:j.stock_uom,onChange:ee=>C(ce=>je(Y({},ce),{stock_uom:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:WD.map(ee=>a.jsx("option",{value:ee,children:ee},ee))}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.stock_uom})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Op,{size:16,className:"text-gray-500"}),a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Barcode"})]}),c?a.jsx("input",{type:"text",value:j.barcode,onChange:ee=>C(ce=>je(Y({},ce),{barcode:ee.target.value})),placeholder:"Enter barcode",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white font-mono",children:t.barcode||a.jsx("span",{className:"text-gray-400",children:"No barcode"})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(zi,{size:16,className:"text-gray-500"}),a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Stock & Pricing"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Available Stock"}),c?a.jsx("input",{type:"number",min:"0",step:"0.01",value:j.available_qty,onChange:ee=>C(ce=>je(Y({},ce),{available_qty:parseFloat(ee.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0"}):a.jsxs("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white flex items-center",children:[a.jsx(nC,{size:16,className:"mr-2 text-gray-500"}),t.available_qty," ",t.stock_uom]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Selling Price"}),c?a.jsx("input",{type:"number",min:"0",step:"0.01",value:j.standard_rate,onChange:ee=>C(ce=>je(Y({},ce),{standard_rate:parseFloat(ee.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.standard_rate.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Buying Price"}),c?a.jsx("input",{type:"number",min:"0",step:"0.01",value:j.valuation_rate,onChange:ee=>C(ce=>je(Y({},ce),{valuation_rate:parseFloat(ee.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.valuation_rate.toFixed(2)})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(yh,{size:16,className:"text-gray-500"}),a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Shelf Life"})]}),c?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",min:"0",value:j.shelf_life_in_days||"",onChange:ee=>C(ce=>je(Y({},ce),{shelf_life_in_days:parseInt(ee.target.value)||null})),placeholder:"Enter days",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"days"})]}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.shelf_life_in_days?a.jsxs(a.Fragment,{children:[t.shelf_life_in_days," days",t.shelf_life_in_days>=30&&a.jsxs("span",{className:"text-gray-500 ml-2",children:["(~",Math.round(t.shelf_life_in_days/30)," months)"]})]}):a.jsx("span",{className:"text-gray-400",children:"Not set"})})]}),(t.has_batch_no||t.has_expiry_date)&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Tracking"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.has_batch_no?a.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:"Batch Tracked"}):null,t.has_expiry_date?a.jsx("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-sm",children:"Expiry Tracked"}):null]})]})]}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Jn,{})})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e("/items"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(zs,{size:20})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Item Not Found"})]})}),a.jsx("div",{className:"p-4 text-center text-gray-500",children:"The item could not be found."}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Jn,{})})]})}const XD=W6([{path:"/",element:a.jsx(TD,{}),children:[{index:!0,element:a.jsx(OD,{})},{path:"login",element:a.jsx(uS,{})},{path:"pos",element:a.jsx(bn,{element:a.jsx(VA,{})})},{path:"dashboard",element:a.jsx(bn,{element:a.jsx(KA,{})})},{path:"closing_shift",element:a.jsx(bn,{element:a.jsx(VM,{})})},{path:"invoice",element:a.jsx(bn,{element:a.jsx(PD,{})})},{path:"invoice/:id",element:a.jsx(bn,{element:a.jsx(DD,{})})},{path:"customers",element:a.jsx(bn,{element:a.jsx(b4,{})})},{path:"customers/:id",element:a.jsx(bn,{element:a.jsx(LD,{})})},{path:"items",element:a.jsx(bn,{element:a.jsx(HD,{})})},{path:"items/:itemCode",element:a.jsx(bn,{element:a.jsx(QD,{})})},{path:"cart",element:a.jsx(bn,{element:a.jsx(XM,{})})},{path:"mobile/customers",element:a.jsx(bn,{element:a.jsx(ZM,{})})},{path:"mobile/add-customer",element:a.jsx(bn,{element:a.jsx(JM,{})})},{path:"mobile/payment",element:a.jsx(bn,{element:a.jsx(eD,{})})},{path:"settings",element:a.jsx(bn,{element:a.jsx(KM,{})})},{path:"payment/:invoiceId",element:a.jsx(bn,{element:a.jsx(QM,{})})}]}],{basename:"/klik_pos"}),ZD=({children:e})=>a.jsx(q5,{url:"http://localhost:8000",enableSocket:!1,children:e});Qk.createRoot(document.getElementById("root")).render(a.jsx(Nt.StrictMode,{children:a.jsx(ZD,{children:a.jsx(lS,{router:XD})})}))});export default JD();
