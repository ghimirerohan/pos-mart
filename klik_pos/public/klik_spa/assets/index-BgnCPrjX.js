var Ak=Object.defineProperty,Rk=Object.defineProperties;var Pk=Object.getOwnPropertyDescriptors;var f0=Object.getOwnPropertySymbols;var Ov=Object.prototype.hasOwnProperty,Av=Object.prototype.propertyIsEnumerable;var wc=(e,r)=>(r=Symbol[e])?r:Symbol.for("Symbol."+e),dg=e=>{throw TypeError(e)},Rv=Math.pow,cg=(e,r,t)=>r in e?Ak(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Y=(e,r)=>{for(var t in r||(r={}))Ov.call(r,t)&&cg(e,t,r[t]);if(f0)for(var t of f0(r))Av.call(r,t)&&cg(e,t,r[t]);return e},_e=(e,r)=>Rk(e,Pk(r));var hr=(e,r)=>{var t={};for(var s in e)Ov.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&f0)for(var s of f0(e))r.indexOf(s)<0&&Av.call(e,s)&&(t[s]=e[s]);return t};var Mk=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var ug=(e,r,t)=>cg(e,typeof r!="symbol"?r+"":r,t),fg=(e,r,t)=>r.has(e)||dg("Cannot "+t);var at=(e,r,t)=>(fg(e,r,"read from private field"),t?t.call(e):r.get(e)),Fr=(e,r,t)=>r.has(e)?dg("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),pr=(e,r,t,s)=>(fg(e,r,"write to private field"),s?s.call(e,t):r.set(e,t),t),an=(e,r,t)=>(fg(e,r,"access private method"),t);var h0=(e,r,t,s)=>({set _(o){pr(e,r,o,t)},get _(){return at(e,r,s)}});var Ne=(e,r,t)=>new Promise((s,o)=>{var l=f=>{try{u(t.next(f))}catch(m){o(m)}},d=f=>{try{u(t.throw(f))}catch(m){o(m)}},u=f=>f.done?s(f.value):Promise.resolve(f.value).then(l,d);u((t=t.apply(e,r)).next())}),cl=function(e,r){this[0]=e,this[1]=r},hg=(e,r,t)=>{var s=(d,u,f,m)=>{try{var y=t[d](u),k=(u=y.value)instanceof cl,_=y.done;Promise.resolve(k?u[0]:u).then(C=>k?s(d==="return"?d:"next",u[1]?{done:C.done,value:C.value}:C,f,m):f({value:C,done:_})).catch(C=>s("throw",C,f,m))}catch(C){m(C)}},o=d=>l[d]=u=>new Promise((f,m)=>s(d,u,f,m)),l={};return t=t.apply(e,r),l[wc("asyncIterator")]=()=>l,o("next"),o("throw"),o("return"),l},mg=e=>{var r=e[wc("asyncIterator")],t=!1,s,o={};return r==null?(r=e[wc("iterator")](),s=l=>o[l]=d=>r[l](d)):(r=r.call(e),s=l=>o[l]=d=>{if(t){if(t=!1,l==="throw")throw d;return d}return t=!0,{done:!1,value:new cl(new Promise(u=>{var f=r[l](d);f instanceof Object||dg("Object expected"),u(f)}),1)}}),o[wc("iterator")]=()=>o,s("next"),"throw"in r?s("throw"):o.throw=l=>{throw l},"return"in r&&s("return"),o},Pv=(e,r,t)=>(r=e[wc("asyncIterator")])?r.call(e):(e=e[wc("iterator")](),r={},t=(s,o)=>(o=e[s])&&(r[s]=l=>new Promise((d,u,f)=>(l=o.call(e,l),f=l.done,Promise.resolve(l.value).then(m=>d({value:m,done:f}),u)))),t("next"),t("return"),r);var OD=Mk(on=>{function Dk(e,r){for(var t=0;t<r.length;t++){const s=r[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Pl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gg={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Ik(){if(Mv)return su;Mv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function t(s,o,l){var d=null;if(l!==void 0&&(d=""+l),o.key!==void 0&&(d=""+o.key),"key"in o){l={};for(var u in o)u!=="key"&&(l[u]=o[u])}else l=o;return o=l.ref,{$$typeof:e,type:s,key:d,ref:o!==void 0?o:null,props:l}}return su.Fragment=r,su.jsx=t,su.jsxs=t,su}var Dv;function Lk(){return Dv||(Dv=1,gg.exports=Ik()),gg.exports}var a=Lk(),pg={exports:{}},xr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Uk(){if(Iv)return xr;Iv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=k&&V[k]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function A(V,U,ne){this.props=V,this.context=U,this.refs=E,this.updater=ne||C}A.prototype.isReactComponent={},A.prototype.setState=function(V,U){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,U,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function M(){}M.prototype=A.prototype;function B(V,U,ne){this.props=V,this.context=U,this.refs=E,this.updater=ne||C}var H=B.prototype=new M;H.constructor=B,T(H,A.prototype),H.isPureReactComponent=!0;var O=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function ae(V,U,ne,me,le,X){return ne=X.ref,{$$typeof:e,type:V,key:U,ref:ne!==void 0?ne:null,props:X}}function he(V,U){return ae(V.type,U,void 0,void 0,void 0,V.props)}function ee(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function Ee(V){var U={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ne){return U[ne]})}var ce=/\/+/g;function ue(V,U){return typeof V=="object"&&V!==null&&V.key!=null?Ee(""+V.key):U.toString(36)}function se(){}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(se,se):(V.status="pending",V.then(function(U){V.status==="pending"&&(V.status="fulfilled",V.value=U)},function(U){V.status==="pending"&&(V.status="rejected",V.reason=U)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function pe(V,U,ne,me,le){var X=typeof V;(X==="undefined"||X==="boolean")&&(V=null);var oe=!1;if(V===null)oe=!0;else switch(X){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(V.$$typeof){case e:case r:oe=!0;break;case y:return oe=V._init,pe(oe(V._payload),U,ne,me,le)}}if(oe)return le=le(V),oe=me===""?"."+ue(V,0):me,O(le)?(ne="",oe!=null&&(ne=oe.replace(ce,"$&/")+"/"),pe(le,U,ne,"",function(yt){return yt})):le!=null&&(ee(le)&&(le=he(le,ne+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(ce,"$&/")+"/")+oe)),U.push(le)),1;oe=0;var Ue=me===""?".":me+":";if(O(V))for(var it=0;it<V.length;it++)me=V[it],X=Ue+ue(me,it),oe+=pe(me,U,ne,X,le);else if(it=_(V),typeof it=="function")for(V=it.call(V),it=0;!(me=V.next()).done;)me=me.value,X=Ue+ue(me,it++),oe+=pe(me,U,ne,X,le);else if(X==="object"){if(typeof V.then=="function")return pe(de(V),U,ne,me,le);throw U=String(V),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ie(V,U,ne){if(V==null)return V;var me=[],le=0;return pe(V,me,"","",function(X){return U.call(ne,X,le++)}),me}function te(V){if(V._status===-1){var U=V._result;U=U(),U.then(function(ne){(V._status===0||V._status===-1)&&(V._status=1,V._result=ne)},function(ne){(V._status===0||V._status===-1)&&(V._status=2,V._result=ne)}),V._status===-1&&(V._status=0,V._result=U)}if(V._status===1)return V._result.default;throw V._result}var W=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function be(){}return xr.Children={map:ie,forEach:function(V,U,ne){ie(V,function(){U.apply(this,arguments)},ne)},count:function(V){var U=0;return ie(V,function(){U++}),U},toArray:function(V){return ie(V,function(U){return U})||[]},only:function(V){if(!ee(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},xr.Component=A,xr.Fragment=t,xr.Profiler=o,xr.PureComponent=B,xr.StrictMode=s,xr.Suspense=f,xr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,xr.__COMPILER_RUNTIME={__proto__:null,c:function(V){return z.H.useMemoCache(V)}},xr.cache=function(V){return function(){return V.apply(null,arguments)}},xr.cloneElement=function(V,U,ne){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=T({},V.props),le=V.key,X=void 0;if(U!=null)for(oe in U.ref!==void 0&&(X=void 0),U.key!==void 0&&(le=""+U.key),U)!q.call(U,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&U.ref===void 0||(me[oe]=U[oe]);var oe=arguments.length-2;if(oe===1)me.children=ne;else if(1<oe){for(var Ue=Array(oe),it=0;it<oe;it++)Ue[it]=arguments[it+2];me.children=Ue}return ae(V.type,le,void 0,void 0,X,me)},xr.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},xr.createElement=function(V,U,ne){var me,le={},X=null;if(U!=null)for(me in U.key!==void 0&&(X=""+U.key),U)q.call(U,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(le[me]=U[me]);var oe=arguments.length-2;if(oe===1)le.children=ne;else if(1<oe){for(var Ue=Array(oe),it=0;it<oe;it++)Ue[it]=arguments[it+2];le.children=Ue}if(V&&V.defaultProps)for(me in oe=V.defaultProps,oe)le[me]===void 0&&(le[me]=oe[me]);return ae(V,X,void 0,void 0,null,le)},xr.createRef=function(){return{current:null}},xr.forwardRef=function(V){return{$$typeof:u,render:V}},xr.isValidElement=ee,xr.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:te}},xr.memo=function(V,U){return{$$typeof:m,type:V,compare:U===void 0?null:U}},xr.startTransition=function(V){var U=z.T,ne={};z.T=ne;try{var me=V(),le=z.S;le!==null&&le(ne,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(be,W)}catch(X){W(X)}finally{z.T=U}},xr.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},xr.use=function(V){return z.H.use(V)},xr.useActionState=function(V,U,ne){return z.H.useActionState(V,U,ne)},xr.useCallback=function(V,U){return z.H.useCallback(V,U)},xr.useContext=function(V){return z.H.useContext(V)},xr.useDebugValue=function(){},xr.useDeferredValue=function(V,U){return z.H.useDeferredValue(V,U)},xr.useEffect=function(V,U,ne){var me=z.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(V,U)},xr.useId=function(){return z.H.useId()},xr.useImperativeHandle=function(V,U,ne){return z.H.useImperativeHandle(V,U,ne)},xr.useInsertionEffect=function(V,U){return z.H.useInsertionEffect(V,U)},xr.useLayoutEffect=function(V,U){return z.H.useLayoutEffect(V,U)},xr.useMemo=function(V,U){return z.H.useMemo(V,U)},xr.useOptimistic=function(V,U){return z.H.useOptimistic(V,U)},xr.useReducer=function(V,U,ne){return z.H.useReducer(V,U,ne)},xr.useRef=function(V){return z.H.useRef(V)},xr.useState=function(V){return z.H.useState(V)},xr.useSyncExternalStore=function(V,U,ne){return z.H.useSyncExternalStore(V,U,ne)},xr.useTransition=function(){return z.H.useTransition()},xr.version="19.1.0",xr}var Lv;function dy(){return Lv||(Lv=1,pg.exports=Uk()),pg.exports}var S=dy();const bt=Pl(S),Vw=Dk({__proto__:null,default:bt},[S]);var yg={exports:{}},ou={},xg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Fk(){return Uv||(Uv=1,function(e){function r(ie,te){var W=ie.length;ie.push(te);e:for(;0<W;){var be=W-1>>>1,V=ie[be];if(0<o(V,te))ie[be]=te,ie[W]=V,W=be;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var te=ie[0],W=ie.pop();if(W!==te){ie[0]=W;e:for(var be=0,V=ie.length,U=V>>>1;be<U;){var ne=2*(be+1)-1,me=ie[ne],le=ne+1,X=ie[le];if(0>o(me,W))le<V&&0>o(X,me)?(ie[be]=X,ie[le]=W,be=le):(ie[be]=me,ie[ne]=W,be=ne);else if(le<V&&0>o(X,W))ie[be]=X,ie[le]=W,be=le;else break e}}return te}function o(ie,te){var W=ie.sortIndex-te.sortIndex;return W!==0?W:ie.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var f=[],m=[],y=1,k=null,_=3,C=!1,T=!1,E=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate!="undefined"?setImmediate:null;function O(ie){for(var te=t(m);te!==null;){if(te.callback===null)s(m);else if(te.startTime<=ie)s(m),te.sortIndex=te.expirationTime,r(f,te);else break;te=t(m)}}function z(ie){if(E=!1,O(ie),!T)if(t(f)!==null)T=!0,q||(q=!0,ue());else{var te=t(m);te!==null&&pe(z,te.startTime-ie)}}var q=!1,ae=-1,he=5,ee=-1;function Ee(){return A?!0:!(e.unstable_now()-ee<he)}function ce(){if(A=!1,q){var ie=e.unstable_now();ee=ie;var te=!0;try{e:{T=!1,E&&(E=!1,B(ae),ae=-1),C=!0;var W=_;try{t:{for(O(ie),k=t(f);k!==null&&!(k.expirationTime>ie&&Ee());){var be=k.callback;if(typeof be=="function"){k.callback=null,_=k.priorityLevel;var V=be(k.expirationTime<=ie);if(ie=e.unstable_now(),typeof V=="function"){k.callback=V,O(ie),te=!0;break t}k===t(f)&&s(f),O(ie)}else s(f);k=t(f)}if(k!==null)te=!0;else{var U=t(m);U!==null&&pe(z,U.startTime-ie),te=!1}}break e}finally{k=null,_=W,C=!1}te=void 0}}finally{te?ue():q=!1}}}var ue;if(typeof H=="function")ue=function(){H(ce)};else if(typeof MessageChannel!="undefined"){var se=new MessageChannel,de=se.port2;se.port1.onmessage=ce,ue=function(){de.postMessage(null)}}else ue=function(){M(ce,0)};function pe(ie,te){ae=M(function(){ie(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var W=_;_=te;try{return ie()}finally{_=W}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(ie,te){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var W=_;_=ie;try{return te()}finally{_=W}},e.unstable_scheduleCallback=function(ie,te,W){var be=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?be+W:be):W=be,ie){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,ie={id:y++,callback:te,priorityLevel:ie,startTime:W,expirationTime:V,sortIndex:-1},W>be?(ie.sortIndex=W,r(m,ie),t(f)===null&&ie===t(m)&&(E?(B(ae),ae=-1):E=!0,pe(z,W-be))):(ie.sortIndex=V,r(f,ie),T||C||(T=!0,q||(q=!0,ue()))),ie},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(ie){var te=_;return function(){var W=_;_=te;try{return ie.apply(this,arguments)}finally{_=W}}}}(bg)),bg}var Fv;function zk(){return Fv||(Fv=1,xg.exports=Fk()),xg.exports}var vg={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Bk(){if(zv)return nn;zv=1;var e=dy();function r(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(r(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,m,y){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:k==null?null:""+k,children:f,containerInfo:m,implementation:y}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return l(f,m,null,y)},nn.flushSync=function(f){var m=d.T,y=s.p;try{if(d.T=null,s.p=2,f)return f()}finally{d.T=m,s.p=y,s.d.f()}},nn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},nn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},nn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,k=u(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:k,integrity:_,fetchPriority:C}):y==="script"&&s.d.X(f,{crossOrigin:k,integrity:_,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},nn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=u(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},nn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,k=u(y,m.crossOrigin);s.d.L(f,y,{crossOrigin:k,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},nn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=u(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},nn.requestFormReset=function(f){s.d.r(f)},nn.unstable_batchedUpdates=function(f,m){return f(m)},nn.useFormState=function(f,m,y){return d.H.useFormState(f,m,y)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var Bv;function Kw(){if(Bv)return vg.exports;Bv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),vg.exports=Bk(),vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function qk(){if(qv)return ou;qv=1;var e=zk(),r=dy(),t=Kw();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function u(n){if(l(n)!==n)throw Error(s(188))}function f(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var c=n,h=i;;){var x=c.return;if(x===null)break;var j=x.alternate;if(j===null){if(h=x.return,h!==null){c=h;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===c)return u(x),n;if(j===h)return u(x),i;j=j.sibling}throw Error(s(188))}if(c.return!==h.return)c=x,h=j;else{for(var L=!1,K=x.child;K;){if(K===c){L=!0,c=x,h=j;break}if(K===h){L=!0,h=x,c=j;break}K=K.sibling}if(!L){for(K=j.child;K;){if(K===c){L=!0,c=j,h=x;break}if(K===h){L=!0,h=j,c=x;break}K=K.sibling}if(!L)throw Error(s(189))}}if(c.alternate!==h)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,k=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var se=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===se?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case ee:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case H:return(n.displayName||"Context")+".Provider";case B:return(n._context.displayName||"Context")+".Consumer";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return i=n.displayName||null,i!==null?i:de(n.type)||"Memo";case he:i=n._payload,n=n._init;try{return de(n(i))}catch(c){}}return null}var pe=Array.isArray,ie=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},be=[],V=-1;function U(n){return{current:n}}function ne(n){0>V||(n.current=be[V],be[V]=null,V--)}function me(n,i){V++,be[V]=n.current,n.current=i}var le=U(null),X=U(null),oe=U(null),Ue=U(null);function it(n,i){switch(me(oe,i),me(X,n),me(le,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?sv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=sv(i),n=ov(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(le),me(le,n)}function yt(){ne(le),ne(X),ne(oe)}function et(n){n.memoizedState!==null&&me(Ue,n);var i=le.current,c=ov(i,n.type);i!==c&&(me(X,n),me(le,c))}function xt(n){X.current===n&&(ne(le),ne(X)),Ue.current===n&&(ne(Ue),eu._currentValue=W)}var Tt=Object.prototype.hasOwnProperty,gr=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,st=e.unstable_shouldYield,Ot=e.unstable_requestPaint,ye=e.unstable_now,Xe=e.unstable_getCurrentPriorityLevel,lt=e.unstable_ImmediatePriority,mr=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,J=e.unstable_LowPriority,qe=e.unstable_IdlePriority,Ve=e.log,dt=e.unstable_setDisableYieldValue,ht=null,vt=null;function ut(n){if(typeof Ve=="function"&&dt(n),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ht,n)}catch(i){}}var ve=Math.clz32?Math.clz32:pt,Ze=Math.log,Ge=Math.LN2;function pt(n){return n>>>=0,n===0?32:31-(Ze(n)/Ge|0)|0}var ct=256,Ut=4194304;function qt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function er(n,i,c){var h=n.pendingLanes;if(h===0)return 0;var x=0,j=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var K=h&134217727;return K!==0?(h=K&~j,h!==0?x=qt(h):(L&=K,L!==0?x=qt(L):c||(c=K&~n,c!==0&&(x=qt(c))))):(K=h&~j,K!==0?x=qt(K):L!==0?x=qt(L):c||(c=h&~n,c!==0&&(x=qt(c)))),x===0?0:i!==0&&i!==x&&(i&j)===0&&(j=x&-x,c=i&-i,j>=c||j===32&&(c&4194048)!==0)?i:x}function nr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function br(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(){var n=ct;return ct<<=1,(ct&4194048)===0&&(ct=256),n}function yr(){var n=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),n}function Gr(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Ka(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function vn(n,i,c,h,x,j){var L=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var K=n.entanglements,ge=n.expirationTimes,Ie=n.hiddenUpdates;for(c=L&~c;0<c;){var Je=31-ve(c),ot=1<<Je;K[Je]=0,ge[Je]=-1;var Fe=Ie[Je];if(Fe!==null)for(Ie[Je]=null,Je=0;Je<Fe.length;Je++){var He=Fe[Je];He!==null&&(He.lane&=-536870913)}c&=~ot}h!==0&&Wa(n,h,0),j!==0&&x===0&&n.tag!==0&&(n.suspendedLanes|=j&~(L&~i))}function Wa(n,i,c){n.pendingLanes|=i,n.suspendedLanes&=~i;var h=31-ve(i);n.entangledLanes|=i,n.entanglements[h]=n.entanglements[h]|1073741824|c&4194090}function ze(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var h=31-ve(c),x=1<<h;x&i|n[h]&i&&(n[h]|=i),c&=~x}}function tt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Er(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function fe(){var n=te.p;return n!==0?n:(n=window.event,n===void 0?32:_v(n.type))}function Te(n,i){var c=te.p;try{return te.p=n,i()}finally{te.p=c}}var De=Math.random().toString(36).slice(2),Ke="__reactFiber$"+De,Ae="__reactProps$"+De,jt="__reactContainer$"+De,It="__reactEvents$"+De,zt="__reactListeners$"+De,Rt="__reactHandles$"+De,sr="__reactResources$"+De,Ft="__reactMarker$"+De;function tr(n){delete n[Ke],delete n[Ae],delete n[It],delete n[zt],delete n[Rt]}function dr(n){var i=n[Ke];if(i)return i;for(var c=n.parentNode;c;){if(i=c[jt]||c[Ke]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=dv(n);n!==null;){if(c=n[Ke])return c;n=dv(n)}return i}n=c,c=n.parentNode}return null}function Rr(n){if(n=n[Ke]||n[jt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function qr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Tr(n){var i=n[sr];return i||(i=n[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Yt(n){n[Ft]=!0}var Ht=new Set,Or={};function zr(n,i){sa(n,i),sa(n+"Capture",i)}function sa(n,i){for(Or[n]=i,n=0;n<i.length;n++)Ht.add(i[n])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},Ba={};function Zt(n){return Tt.call(Ba,n)?!0:Tt.call(ea,n)?!1:Zr.test(n)?Ba[n]=!0:(ea[n]=!0,!1)}function la(n,i,c){if(Zt(i))if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+c)}}function Ca(n,i,c){if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+c)}}function ur(n,i,c,h){if(h===null)n.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(i,c,""+h)}}var ca,Oa;function fa(n){if(ca===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);ca=i&&i[1]||"",Oa=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+n+Oa}var Ya=!1;function Oe(n,i){if(!n||Ya)return"";Ya=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(He){var Fe=He}Reflect.construct(n,[],ot)}else{try{ot.call()}catch(He){Fe=He}n.call(ot.prototype)}}else{try{throw Error()}catch(He){Fe=He}(ot=n())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(He){if(He&&Fe&&typeof He.stack=="string")return[He.stack,Fe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=h.DetermineComponentFrameRoot(),L=j[0],K=j[1];if(L&&K){var ge=L.split(`
`),Ie=K.split(`
`);for(x=h=0;h<ge.length&&!ge[h].includes("DetermineComponentFrameRoot");)h++;for(;x<Ie.length&&!Ie[x].includes("DetermineComponentFrameRoot");)x++;if(h===ge.length||x===Ie.length)for(h=ge.length-1,x=Ie.length-1;1<=h&&0<=x&&ge[h]!==Ie[x];)x--;for(;1<=h&&0<=x;h--,x--)if(ge[h]!==Ie[x]){if(h!==1||x!==1)do if(h--,x--,0>x||ge[h]!==Ie[x]){var Je=`
`+ge[h].replace(" at new "," at ");return n.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",n.displayName)),Je}while(1<=h&&0<=x);break}}}finally{Ya=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?fa(c):""}function nt(n){switch(n.tag){case 26:case 27:case 5:return fa(n.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 15:return Oe(n.type,!1);case 11:return Oe(n.type.render,!1);case 1:return Oe(n.type,!0);case 31:return fa("Activity");default:return""}}function kt(n){try{var i="";do i+=nt(n),n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Et(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lt(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ar(n){var i=Lt(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,j=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return x.call(this)},set:function(L){h=""+L,j.call(this,L)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Wt(n){n._valueTracker||(n._valueTracker=ar(n))}function _r(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return n&&(h=Lt(n)?n.checked?"true":"false":n.value),n=h,n!==c?(i.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(i){return n.body}}var ra=/[\n"\\]/g;function Br(n){return n.replace(ra,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Aa(n,i,c,h,x,j,L,K){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Et(i)):n.value!==""+Et(i)&&(n.value=""+Et(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?oo(n,L,Et(i)):c!=null?oo(n,L,Et(c)):h!=null&&n.removeAttribute("value"),x==null&&j!=null&&(n.defaultChecked=!!j),x!=null&&(n.checked=x&&typeof x!="function"&&typeof x!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?n.name=""+Et(K):n.removeAttribute("name")}function ds(n,i,c,h,x,j,L,K){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(n.type=j),i!=null||c!=null){if(!(j!=="submit"&&j!=="reset"||i!=null))return;c=c!=null?""+Et(c):"",i=i!=null?""+Et(i):c,K||i===n.value||(n.value=i),n.defaultValue=i}h=h!=null?h:x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=K?n.checked:!!h,n.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function oo(n,i,c){i==="number"&&Dr(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function Pn(n,i,c,h){if(n=n.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<n.length;c++)x=i.hasOwnProperty("$"+n[c].value),n[c].selected!==x&&(n[c].selected=x),x&&h&&(n[c].defaultSelected=!0)}else{for(c=""+Et(c),i=null,x=0;x<n.length;x++){if(n[x].value===c){n[x].selected=!0,h&&(n[x].defaultSelected=!0);return}i!==null||n[x].disabled||(i=n[x])}i!==null&&(i.selected=!0)}}function io(n,i,c){if(i!=null&&(i=""+Et(i),i!==n.value&&(n.value=i),c==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=c!=null?""+Et(c):""}function Bi(n,i,c,h){if(i==null){if(h!=null){if(c!=null)throw Error(s(92));if(pe(h)){if(1<h.length)throw Error(s(93));h=h[0]}c=h}c==null&&(c=""),i=c}c=Et(i),n.defaultValue=c,h=n.textContent,h===c&&h!==""&&h!==null&&(n.value=h)}function Us(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var Ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(n,i,c){var h=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":h?n.setProperty(i,c):typeof c!="number"||c===0||Ll.has(i)?i==="float"?n.cssFloat=c:n[i]=(""+c).trim():n[i]=c+"px"}function qi(n,i,c){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var x in i)h=i[x],i.hasOwnProperty(x)&&c[x]!==h&&Ul(n,x,h)}else for(var j in i)i.hasOwnProperty(j)&&Ul(n,j,i[j])}function lo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(n){return cd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hi=null;function co(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var us=null,Fs=null;function Gi(n){var i=Rr(n);if(i&&(n=i.stateNode)){var c=n[Ae]||null;e:switch(n=i.stateNode,i.type){case"input":if(Aa(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Br(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==n&&h.form===n.form){var x=h[Ae]||null;if(!x)throw Error(s(90));Aa(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<c.length;i++)h=c[i],h.form===n.form&&_r(h)}break e;case"textarea":io(n,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&Pn(n,!!c.multiple,i,!1)}}}var wn=!1;function Vi(n,i,c){if(wn)return n(i,c);wn=!0;try{var h=n(i);return h}finally{if(wn=!1,(us!==null||Fs!==null)&&(Gf(),us&&(i=us,n=Fs,Fs=us=null,Gi(i),n)))for(i=0;i<n.length;i++)Gi(n[i])}}function Yn(n,i){var c=n.stateNode;if(c===null)return null;var h=c[Ae]||null;if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var Qa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ko=!1;if(Qa)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch(n){Ko=!1}var dn=null,Xa=null,hs=null;function uo(){if(hs)return hs;var n,i=Xa,c=i.length,h,x="value"in dn?dn.value:dn.textContent,j=x.length;for(n=0;n<c&&i[n]===x[n];n++);var L=c-n;for(h=1;h<=L&&i[c-h]===x[j-h];h++);return hs=x.slice(n,1<h?1-h:void 0)}function Mn(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fo(){return!0}function Ki(){return!1}function Ra(n){function i(c,h,x,j,L){this._reactName=c,this._targetInst=x,this.type=h,this.nativeEvent=j,this.target=L,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(c=n[K],this[K]=c?c(j):j[K]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?fo:Ki,this.isPropagationStopped=Ki,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),i}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Ra(un),zs=y({},un,{view:0,detail:0}),Lr=Ra(zs),P,F,Q,Z=y({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Q&&(Q&&n.type==="mousemove"?(P=n.screenX-Q.screenX,F=n.screenY-Q.screenY):F=P=0,Q=n),P)},movementY:function(n){return"movementY"in n?n.movementY:F}}),Se=Ra(Z),Pe=y({},Z,{dataTransfer:0}),$e=Ra(Pe),mt=y({},zs,{relatedTarget:0}),_t=Ra(mt),gt=y({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),St=Ra(gt),Bt=y({},un,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hr=Ra(Bt),or=y({},un,{data:0}),Vt=Ra(or),At={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aa(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=da[n])?!!i[n]:!1}function Za(){return aa}var ms=y({},zs,{key:function(n){if(n.key){var i=At[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Mn(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wa[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(n){return n.type==="keypress"?Mn(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mn(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Dn=Ra(ms),gs=y({},Z,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Ra(gs),ho=y({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),Fl=Ra(ho),zl=y({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lh=Ra(zl),Bl=y({},Z,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Uh=Ra(Bl),Fh=y({},un,{newState:0,oldState:0}),tf=Ra(Fh),ql=[9,13,27,32],dd=Qa&&"CompositionEvent"in window,Wi=null;Qa&&"documentMode"in document&&(Wi=document.documentMode);var rf=Qa&&"TextEvent"in window&&!Wi,af=Qa&&(!dd||Wi&&8<Wi&&11>=Wi),nf=" ",sf=!1;function ud(n,i){switch(n){case"keyup":return ql.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bs=!1;function lf(n,i){switch(n){case"compositionend":return of(i);case"keypress":return i.which!==32?null:(sf=!0,nf);case"textInput":return n=i.data,n===nf&&sf?null:n;default:return null}}function cf(n,i){if(Bs)return n==="compositionend"||!dd&&ud(n,i)?(n=uo(),hs=Xa=dn=null,Bs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return af&&i.locale!=="ko"?null:i.data;default:return null}}var df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hl(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!df[n.type]:i==="textarea"}function uf(n,i,c,h){us?Fs?Fs.push(h):Fs=[h]:us=h,i=Xf(i,"onChange"),0<i.length&&(c=new Pa("onChange","change",null,c,h),n.push({event:c,listeners:i}))}var Yi=null,Yo=null;function zh(n){ev(n,0)}function Qi(n){var i=qr(n);if(_r(i))return n}function fd(n,i){if(n==="change")return i}var ps=!1;if(Qa){var hd;if(Qa){var Gl="oninput"in document;if(!Gl){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),Gl=typeof ff.oninput=="function"}hd=Gl}else hd=!1;ps=hd&&(!document.documentMode||9<document.documentMode)}function hf(){Yi&&(Yi.detachEvent("onpropertychange",md),Yo=Yi=null)}function md(n){if(n.propertyName==="value"&&Qi(Yo)){var i=[];uf(i,Yo,n,co(n)),Vi(zh,i)}}function Bh(n,i,c){n==="focusin"?(hf(),Yi=i,Yo=c,Yi.attachEvent("onpropertychange",md)):n==="focusout"&&hf()}function mf(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qi(Yo)}function qh(n,i){if(n==="click")return Qi(i)}function gf(n,i){if(n==="input"||n==="change")return Qi(i)}function Xi(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Ja=typeof Object.is=="function"?Object.is:Xi;function Zi(n,i){if(Ja(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var x=c[h];if(!Tt.call(i,x)||!Ja(n[x],i[x]))return!1}return!0}function gd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function pd(n,i){var c=gd(n);n=0;for(var h;c;){if(c.nodeType===3){if(h=n+c.textContent.length,n<=i&&h>=i)return{node:c,offset:i-n};n=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=gd(c)}}function Vl(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Vl(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function yd(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Dr(n.document);i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch(h){c=!1}if(c)n=i.contentWindow;else break;i=Dr(n.document)}return i}function xd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var pf=Qa&&"documentMode"in document&&11>=document.documentMode,mo=null,bd=null,Qo=null,Xo=!1;function Ji(n,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xo||mo==null||mo!==Dr(h)||(h=mo,"selectionStart"in h&&xd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qo&&Zi(Qo,h)||(Qo=h,h=Xf(bd,"onSelect"),0<h.length&&(i=new Pa("onSelect","select",null,i,c),n.push({event:i,listeners:h}),i.target=mo)))}function Qn(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Zo={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},Kl={},Jo={};Qa&&(Jo=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function ys(n){if(Kl[n])return Kl[n];if(!Zo[n])return n;var i=Zo[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Jo)return Kl[n]=i[c];return n}var qs=ys("animationend"),yf=ys("animationiteration"),xf=ys("animationstart"),Hh=ys("transitionrun"),Gh=ys("transitionstart"),Vh=ys("transitioncancel"),bf=ys("transitionend"),Wl=new Map,Yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yl.push("scrollEnd");function In(n,i){Wl.set(n,i),zr(i,[n])}var vd=new WeakMap;function ja(n,i){if(typeof n=="object"&&n!==null){var c=vd.get(n);return c!==void 0?c:(i={value:n,source:i,stack:kt(i)},vd.set(n,i),i)}return{value:n,source:i,stack:kt(i)}}var jn=[],go=0,Ql=0;function Xl(){for(var n=go,i=Ql=go=0;i<n;){var c=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var x=jn[i];jn[i++]=null;var j=jn[i];if(jn[i++]=null,h!==null&&x!==null){var L=h.pending;L===null?x.next=x:(x.next=L.next,L.next=x),h.pending=x}j!==0&&jd(c,x,j)}}function el(n,i,c,h){jn[go++]=n,jn[go++]=i,jn[go++]=c,jn[go++]=h,Ql|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function wd(n,i,c,h){return el(n,i,c,h),tl(n)}function ei(n,i){return el(n,null,null,i),tl(n)}function jd(n,i,c){n.lanes|=c;var h=n.alternate;h!==null&&(h.lanes|=c);for(var x=!1,j=n.return;j!==null;)j.childLanes|=c,h=j.alternate,h!==null&&(h.childLanes|=c),j.tag===22&&(n=j.stateNode,n===null||n._visibility&1||(x=!0)),n=j,j=j.return;return n.tag===3?(j=n.stateNode,x&&i!==null&&(x=31-ve(c),n=j.hiddenUpdates,h=n[x],h===null?n[x]=[i]:h.push(i),i.lane=c|536870912),j):null}function tl(n){if(50<Vd)throw Vd=0,Rm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ti={};function vf(n,i,c,h){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(n,i,c,h){return new vf(n,i,c,h)}function po(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Nn(n,i){var c=n.alternate;return c===null?(c=Ma(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function Nd(n,i){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,i=c.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Zl(n,i,c,h,x,j){var L=0;if(h=n,typeof n=="function")po(n)&&(L=1);else if(typeof n=="string")L=bk(n,c,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ee:return n=Ma(31,c,i,x),n.elementType=ee,n.lanes=j,n;case T:return Hs(c.children,x,j,i);case E:L=8,x|=24;break;case A:return n=Ma(12,c,i,x|2),n.elementType=A,n.lanes=j,n;case z:return n=Ma(13,c,i,x),n.elementType=z,n.lanes=j,n;case q:return n=Ma(19,c,i,x),n.elementType=q,n.lanes=j,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case H:L=10;break e;case B:L=9;break e;case O:L=11;break e;case ae:L=14;break e;case he:L=16,h=null;break e}L=29,c=Error(s(130,n===null?"null":typeof n,"")),h=null}return i=Ma(L,c,i,x),i.elementType=n,i.type=h,i.lanes=j,i}function Hs(n,i,c,h){return n=Ma(7,n,h,i),n.lanes=c,n}function Jl(n,i,c){return n=Ma(6,n,null,i),n.lanes=c,n}function kd(n,i,c){return i=Ma(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var xs=[],yo=0,ec=null,tc=0,kn=[],_n=0,xo=null,bs=1,Xn="";function bo(n,i){xs[yo++]=tc,xs[yo++]=ec,ec=n,tc=i}function wf(n,i,c){kn[_n++]=bs,kn[_n++]=Xn,kn[_n++]=xo,xo=n;var h=bs;n=Xn;var x=32-ve(h)-1;h&=~(1<<x),c+=1;var j=32-ve(i)+x;if(30<j){var L=x-x%5;j=(h&(1<<L)-1).toString(32),h>>=L,x-=L,bs=1<<32-ve(i)+x|c<<x|h,Xn=j+n}else bs=1<<j|c<<x|h,Xn=n}function rc(n){n.return!==null&&(bo(n,1),wf(n,1,0))}function _d(n){for(;n===ec;)ec=xs[--yo],xs[yo]=null,tc=xs[--yo],xs[yo]=null;for(;n===xo;)xo=kn[--_n],kn[_n]=null,Xn=kn[--_n],kn[_n]=null,bs=kn[--_n],kn[_n]=null}var Na=null,Sr=null,Ir=!1,fn=null,ka=!1,rl=Error(s(519));function Da(n){var i=Error(s(418,""));throw ha(ja(i,n)),rl}function al(n){var i=n.stateNode,c=n.type,h=n.memoizedProps;switch(i[Ke]=n,i[Ae]=h,c){case"dialog":$r("cancel",i),$r("close",i);break;case"iframe":case"object":case"embed":$r("load",i);break;case"video":case"audio":for(c=0;c<Wd.length;c++)$r(Wd[c],i);break;case"source":$r("error",i);break;case"img":case"image":case"link":$r("error",i),$r("load",i);break;case"details":$r("toggle",i);break;case"input":$r("invalid",i),ds(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Wt(i);break;case"select":$r("invalid",i);break;case"textarea":$r("invalid",i),Bi(i,h.value,h.defaultValue,h.children),Wt(i)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||h.suppressHydrationWarning===!0||nv(i.textContent,c)?(h.popover!=null&&($r("beforetoggle",i),$r("toggle",i)),h.onScroll!=null&&$r("scroll",i),h.onScrollEnd!=null&&$r("scrollend",i),h.onClick!=null&&(i.onclick=Zf),i=!0):i=!1,i||Da(n)}function vo(n){for(Na=n.return;Na;)switch(Na.tag){case 5:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:Na=Na.return}}function oa(n){if(n!==Na)return!1;if(!Ir)return vo(n),Ir=!0,!1;var i=n.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||Ym(n.type,n.memoizedProps)),c=!c),c&&Sr&&Da(n),vo(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(c=n.data,c==="/$"){if(i===0){Sr=Ns(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;n=n.nextSibling}Sr=null}}else i===27?(i=Sr,gi(n.type)?(n=Jm,Jm=null,Sr=n):Sr=i):Sr=Na?Ns(n.stateNode.nextSibling):null;return!0}function Sn(){Sr=Na=null,Ir=!1}function Ln(){var n=fn;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),fn=null),n}function ha(n){fn===null?fn=[n]:fn.push(n)}var wo=U(null),Gs=null,vs=null;function hn(n,i,c){me(wo,i._currentValue),i._currentValue=c}function qa(n){n._currentValue=wo.current,ne(wo)}function Sd(n,i,c){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===c)break;n=n.return}}function Cd(n,i,c,h){var x=n.child;for(x!==null&&(x.return=n);x!==null;){var j=x.dependencies;if(j!==null){var L=x.child;j=j.firstContext;e:for(;j!==null;){var K=j;j=x;for(var ge=0;ge<i.length;ge++)if(K.context===i[ge]){j.lanes|=c,K=j.alternate,K!==null&&(K.lanes|=c),Sd(j.return,c,n),h||(L=null);break e}j=K.next}}else if(x.tag===18){if(L=x.return,L===null)throw Error(s(341));L.lanes|=c,j=L.alternate,j!==null&&(j.lanes|=c),Sd(L,c,n),L=null}else L=x.child;if(L!==null)L.return=x;else for(L=x;L!==null;){if(L===n){L=null;break}if(x=L.sibling,x!==null){x.return=L.return,L=x;break}L=L.return}x=L}}function nl(n,i,c,h){n=null;for(var x=i,j=!1;x!==null;){if(!j){if((x.flags&524288)!==0)j=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var L=x.alternate;if(L===null)throw Error(s(387));if(L=L.memoizedProps,L!==null){var K=x.type;Ja(x.pendingProps.value,L.value)||(n!==null?n.push(K):n=[K])}}else if(x===Ue.current){if(L=x.alternate,L===null)throw Error(s(387));L.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(n!==null?n.push(eu):n=[eu])}x=x.return}n!==null&&Cd(i,n,c,h),i.flags|=262144}function ac(n){for(n=n.firstContext;n!==null;){if(!Ja(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function jo(n){Gs=n,vs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ia(n){return jf(Gs,n)}function nc(n,i){return Gs===null&&jo(n),jf(n,i)}function jf(n,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},vs===null){if(n===null)throw Error(s(308));vs=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else vs=vs.next=i;return c}var Nf=typeof AbortController!="undefined"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(c,h){n.push(h)}};this.abort=function(){i.aborted=!0,n.forEach(function(c){return c()})}},Kh=e.unstable_scheduleCallback,kf=e.unstable_NormalPriority,ma={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new Nf,data:new Map,refCount:0}}function ri(n){n.refCount--,n.refCount===0&&Kh(kf,function(){n.controller.abort()})}var Vs=null,Cn=0,ai=0,ni=null;function Wh(n,i){if(Vs===null){var c=Vs=[];Cn=0,ai=Fm(),ni={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Cn++,i.then(Ed,Ed),i}function Ed(){if(--Cn===0&&Vs!==null){ni!==null&&(ni.status="fulfilled");var n=Vs;Vs=null,ai=0,ni=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _f(n,i){var c=[],h={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return n.then(function(){h.status="fulfilled",h.value=i;for(var x=0;x<c.length;x++)(0,c[x])(i)},function(x){for(h.status="rejected",h.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),h}var Sf=ie.S;ie.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Wh(n,i),Sf!==null&&Sf(n,i)};var Ks=U(null);function Zn(){var n=Ks.current;return n!==null?n:ta.pooledCache}function Ws(n,i){i===null?me(Ks,Ks.current):me(Ks,i.pool)}function Td(){var n=Zn();return n===null?null:{parent:ma._currentValue,pool:n}}var p=Error(s(460)),v=Error(s(474)),g=Error(s(542)),b={then:function(){}};function w(n){return n=n.status,n==="fulfilled"||n==="rejected"}function N(){}function $(n,i,c){switch(c=n[c],c===void 0?n.push(i):c!==i&&(i.then(N,N),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,D(n),n;default:if(typeof i.status=="string")i.then(N,N);else{if(n=ta,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(h){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=h}},function(h){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,D(n),n}throw R=i,p}}var R=null;function I(){if(R===null)throw Error(s(459));var n=R;return R=null,n}function D(n){if(n===p||n===g)throw Error(s(483))}var G=!1;function re(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function we(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ke(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Be(n,i,c){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Kr&2)!==0){var x=h.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),h.pending=i,i=tl(n),jd(n,null,c),i}return el(n,h,i,c),tl(n)}function je(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,ze(n,c)}}function Le(n,i){var c=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var x=null,j=null;if(c=c.firstBaseUpdate,c!==null){do{var L={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};j===null?x=j=L:j=j.next=L,c=c.next}while(c!==null);j===null?x=j=i:j=j.next=i}else x=j=i;c={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:h.shared,callbacks:h.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}var We=!1;function Qe(){if(We){var n=ni;if(n!==null)throw n}}function Ct(n,i,c,h){We=!1;var x=n.updateQueue;G=!1;var j=x.firstBaseUpdate,L=x.lastBaseUpdate,K=x.shared.pending;if(K!==null){x.shared.pending=null;var ge=K,Ie=ge.next;ge.next=null,L===null?j=Ie:L.next=Ie,L=ge;var Je=n.alternate;Je!==null&&(Je=Je.updateQueue,K=Je.lastBaseUpdate,K!==L&&(K===null?Je.firstBaseUpdate=Ie:K.next=Ie,Je.lastBaseUpdate=ge))}if(j!==null){var ot=x.baseState;L=0,Je=Ie=ge=null,K=j;do{var Fe=K.lane&-536870913,He=Fe!==K.lane;if(He?(Mr&Fe)===Fe:(h&Fe)===Fe){Fe!==0&&Fe===ai&&(We=!0),Je!==null&&(Je=Je.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var ir=n,Jt=K;Fe=i;var Xr=c;switch(Jt.tag){case 1:if(ir=Jt.payload,typeof ir=="function"){ot=ir.call(Xr,ot,Fe);break e}ot=ir;break e;case 3:ir.flags=ir.flags&-65537|128;case 0:if(ir=Jt.payload,Fe=typeof ir=="function"?ir.call(Xr,ot,Fe):ir,Fe==null)break e;ot=y({},ot,Fe);break e;case 2:G=!0}}Fe=K.callback,Fe!==null&&(n.flags|=64,He&&(n.flags|=8192),He=x.callbacks,He===null?x.callbacks=[Fe]:He.push(Fe))}else He={lane:Fe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Je===null?(Ie=Je=He,ge=ot):Je=Je.next=He,L|=Fe;if(K=K.next,K===null){if(K=x.shared.pending,K===null)break;He=K,K=He.next,He.next=null,x.lastBaseUpdate=He,x.shared.pending=null}}while(!0);Je===null&&(ge=ot),x.baseState=ge,x.firstBaseUpdate=Ie,x.lastBaseUpdate=Je,j===null&&(x.shared.lanes=0),ui|=L,n.lanes=L,n.memoizedState=ot}}function wt(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Xt(n,i){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)wt(c[n],i)}var cr=U(null),lr=U(0);function vr(n,i){n=Eo,me(lr,n),me(cr,i),Eo=n|i.baseLanes}function en(){me(lr,Eo),me(cr,cr.current)}function mn(){Eo=lr.current,ne(cr),ne(lr)}var Yr=0,fr=null,jr=null,Vr=null,Un=!1,tn=!1,Pr=!1,rn=0,ws=0,gn=null,Jn=0;function Qt(){throw Error(s(321))}function ba(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!Ja(n[c],i[c]))return!1;return!0}function Od(n,i,c,h,x,j){return Yr=j,fr=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ie.H=n===null||n.memoizedState===null?Lx:Ux,Pr=!1,j=c(h,x),Pr=!1,tn&&(j=Rd(i,c,h,x)),Ad(n),j}function Ad(n){ie.H=Af;var i=jr!==null&&jr.next!==null;if(Yr=0,Vr=jr=fr=null,Un=!1,ws=0,gn=null,i)throw Error(s(300));n===null||La||(n=n.dependencies,n!==null&&ac(n)&&(La=!0))}function Rd(n,i,c,h){fr=n;var x=0;do{if(tn&&(gn=null),ws=0,tn=!1,25<=x)throw Error(s(301));if(x+=1,Vr=jr=null,n.updateQueue!=null){var j=n.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}ie.H=TN,j=i(c,h)}while(tn);return j}function kN(){var n=ie.H,i=n.useState()[0];return i=typeof i.then=="function"?Pd(i):i,n=n.useState()[0],(jr!==null?jr.memoizedState:null)!==n&&(fr.flags|=1024),i}function Yh(){var n=rn!==0;return rn=0,n}function Qh(n,i,c){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c}function Xh(n){if(Un){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Un=!1}Yr=0,Vr=jr=fr=null,tn=!1,ws=rn=0,gn=null}function $n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?fr.memoizedState=Vr=n:Vr=Vr.next=n,Vr}function _a(){if(jr===null){var n=fr.alternate;n=n!==null?n.memoizedState:null}else n=jr.next;var i=Vr===null?fr.memoizedState:Vr.next;if(i!==null)Vr=i,jr=n;else{if(n===null)throw fr.alternate===null?Error(s(467)):Error(s(310));jr=n,n={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Vr===null?fr.memoizedState=Vr=n:Vr=Vr.next=n}return Vr}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pd(n){var i=ws;return ws+=1,gn===null&&(gn=[]),n=$(gn,n,i),i=fr,(Vr===null?i.memoizedState:Vr.next)===null&&(i=i.alternate,ie.H=i===null||i.memoizedState===null?Lx:Ux),n}function Cf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Pd(n);if(n.$$typeof===H)return Ia(n)}throw Error(s(438,String(n)))}function Jh(n){var i=null,c=fr.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var h=fr.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Zh(),fr.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(n),h=0;h<n;h++)c[h]=Ee;return i.index++,c}function No(n,i){return typeof i=="function"?i(n):i}function $f(n){var i=_a();return em(i,jr,n)}function em(n,i,c){var h=n.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=c;var x=n.baseQueue,j=h.pending;if(j!==null){if(x!==null){var L=x.next;x.next=j.next,j.next=L}i.baseQueue=x=j,h.pending=null}if(j=n.baseState,x===null)n.memoizedState=j;else{i=x.next;var K=L=null,ge=null,Ie=i,Je=!1;do{var ot=Ie.lane&-536870913;if(ot!==Ie.lane?(Mr&ot)===ot:(Yr&ot)===ot){var Fe=Ie.revertLane;if(Fe===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),ot===ai&&(Je=!0);else if((Yr&Fe)===Fe){Ie=Ie.next,Fe===ai&&(Je=!0);continue}else ot={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ge===null?(K=ge=ot,L=j):ge=ge.next=ot,fr.lanes|=Fe,ui|=Fe;ot=Ie.action,Pr&&c(j,ot),j=Ie.hasEagerState?Ie.eagerState:c(j,ot)}else Fe={lane:ot,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ge===null?(K=ge=Fe,L=j):ge=ge.next=Fe,fr.lanes|=ot,ui|=ot;Ie=Ie.next}while(Ie!==null&&Ie!==i);if(ge===null?L=j:ge.next=K,!Ja(j,n.memoizedState)&&(La=!0,Je&&(c=ni,c!==null)))throw c;n.memoizedState=j,n.baseState=L,n.baseQueue=ge,h.lastRenderedState=j}return x===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function tm(n){var i=_a(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=n;var h=c.dispatch,x=c.pending,j=i.memoizedState;if(x!==null){c.pending=null;var L=x=x.next;do j=n(j,L.action),L=L.next;while(L!==x);Ja(j,i.memoizedState)||(La=!0),i.memoizedState=j,i.baseQueue===null&&(i.baseState=j),c.lastRenderedState=j}return[j,h]}function nx(n,i,c){var h=fr,x=_a(),j=Ir;if(j){if(c===void 0)throw Error(s(407));c=c()}else c=i();var L=!Ja((jr||x).memoizedState,c);L&&(x.memoizedState=c,La=!0),x=x.queue;var K=ix.bind(null,h,x,n);if(Md(2048,8,K,[n]),x.getSnapshot!==i||L||Vr!==null&&Vr.memoizedState.tag&1){if(h.flags|=2048,sc(9,Ef(),ox.bind(null,h,x,c,i),null),ta===null)throw Error(s(349));j||(Yr&124)!==0||sx(h,i,c)}return c}function sx(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=fr.updateQueue,i===null?(i=Zh(),fr.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function ox(n,i,c,h){i.value=c,i.getSnapshot=h,lx(i)&&cx(n)}function ix(n,i,c){return c(function(){lx(i)&&cx(n)})}function lx(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!Ja(n,c)}catch(h){return!0}}function cx(n){var i=ei(n,2);i!==null&&Hn(i,n,2)}function rm(n){var i=$n();if(typeof n=="function"){var c=n;if(n=c(),Pr){ut(!0);try{c()}finally{ut(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:n},i}function dx(n,i,c,h){return n.baseState=c,em(n,jr,typeof h=="function"?h:No)}function _N(n,i,c,h,x){if(Of(n))throw Error(s(485));if(n=i.action,n!==null){var j={payload:x,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){j.listeners.push(L)}};ie.T!==null?c(!0):j.isTransition=!1,h(j),c=i.pending,c===null?(j.next=i.pending=j,ux(i,j)):(j.next=c.next,i.pending=c.next=j)}}function ux(n,i){var c=i.action,h=i.payload,x=n.state;if(i.isTransition){var j=ie.T,L={};ie.T=L;try{var K=c(x,h),ge=ie.S;ge!==null&&ge(L,K),fx(n,i,K)}catch(Ie){am(n,i,Ie)}finally{ie.T=j}}else try{j=c(x,h),fx(n,i,j)}catch(Ie){am(n,i,Ie)}}function fx(n,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){hx(n,i,h)},function(h){return am(n,i,h)}):hx(n,i,c)}function hx(n,i,c){i.status="fulfilled",i.value=c,mx(i),n.state=c,i=n.pending,i!==null&&(c=i.next,c===i?n.pending=null:(c=c.next,i.next=c,ux(n,c)))}function am(n,i,c){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=c,mx(i),i=i.next;while(i!==h)}n.action=null}function mx(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function gx(n,i){return i}function px(n,i){if(Ir){var c=ta.formState;if(c!==null){e:{var h=fr;if(Ir){if(Sr){t:{for(var x=Sr,j=ka;x.nodeType!==8;){if(!j){x=null;break t}if(x=Ns(x.nextSibling),x===null){x=null;break t}}j=x.data,x=j==="F!"||j==="F"?x:null}if(x){Sr=Ns(x.nextSibling),h=x.data==="F!";break e}}Da(h)}h=!1}h&&(i=c[0])}}return c=$n(),c.memoizedState=c.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gx,lastRenderedState:i},c.queue=h,c=Mx.bind(null,fr,h),h.dispatch=c,h=rm(!1),j=lm.bind(null,fr,!1,h.queue),h=$n(),x={state:i,dispatch:null,action:n,pending:null},h.queue=x,c=_N.bind(null,fr,x,j,c),x.dispatch=c,h.memoizedState=n,[i,c,!1]}function yx(n){var i=_a();return xx(i,jr,n)}function xx(n,i,c){if(i=em(n,i,gx)[0],n=$f(No)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Pd(i)}catch(L){throw L===p?g:L}else h=i;i=_a();var x=i.queue,j=x.dispatch;return c!==i.memoizedState&&(fr.flags|=2048,sc(9,Ef(),SN.bind(null,x,c),null)),[h,j,n]}function SN(n,i){n.action=i}function bx(n){var i=_a(),c=jr;if(c!==null)return xx(i,c,n);_a(),i=i.memoizedState,c=_a();var h=c.queue.dispatch;return c.memoizedState=n,[i,h,!1]}function sc(n,i,c,h){return n={tag:n,create:c,deps:h,inst:i,next:null},i=fr.updateQueue,i===null&&(i=Zh(),fr.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=n.next=n:(h=c.next,c.next=n,n.next=h,i.lastEffect=n),n}function Ef(){return{destroy:void 0,resource:void 0}}function vx(){return _a().memoizedState}function Tf(n,i,c,h){var x=$n();h=h===void 0?null:h,fr.flags|=n,x.memoizedState=sc(1|i,Ef(),c,h)}function Md(n,i,c,h){var x=_a();h=h===void 0?null:h;var j=x.memoizedState.inst;jr!==null&&h!==null&&ba(h,jr.memoizedState.deps)?x.memoizedState=sc(i,j,c,h):(fr.flags|=n,x.memoizedState=sc(1|i,j,c,h))}function wx(n,i){Tf(8390656,8,n,i)}function jx(n,i){Md(2048,8,n,i)}function Nx(n,i){return Md(4,2,n,i)}function kx(n,i){return Md(4,4,n,i)}function _x(n,i){if(typeof i=="function"){n=n();var c=i(n);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Sx(n,i,c){c=c!=null?c.concat([n]):null,Md(4,4,_x.bind(null,i,n),c)}function nm(){}function Cx(n,i){var c=_a();i=i===void 0?null:i;var h=c.memoizedState;return i!==null&&ba(i,h[1])?h[0]:(c.memoizedState=[n,i],n)}function $x(n,i){var c=_a();i=i===void 0?null:i;var h=c.memoizedState;if(i!==null&&ba(i,h[1]))return h[0];if(h=n(),Pr){ut(!0);try{n()}finally{ut(!1)}}return c.memoizedState=[h,i],h}function sm(n,i,c){return c===void 0||(Yr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=c,n=Ob(),fr.lanes|=n,ui|=n,c)}function Ex(n,i,c,h){return Ja(c,i)?c:cr.current!==null?(n=sm(n,c,h),Ja(n,i)||(La=!0),n):(Yr&42)===0?(La=!0,n.memoizedState=c):(n=Ob(),fr.lanes|=n,ui|=n,i)}function Tx(n,i,c,h,x){var j=te.p;te.p=j!==0&&8>j?j:8;var L=ie.T,K={};ie.T=K,lm(n,!1,i,c);try{var ge=x(),Ie=ie.S;if(Ie!==null&&Ie(K,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Je=_f(ge,h);Dd(n,i,Je,qn(n))}else Dd(n,i,h,qn(n))}catch(ot){Dd(n,i,{then:function(){},status:"rejected",reason:ot},qn())}finally{te.p=j,ie.T=L}}function CN(){}function om(n,i,c,h){if(n.tag!==5)throw Error(s(476));var x=Ox(n).queue;Tx(n,x,i,W,c===null?CN:function(){return Ax(n),c(h)})}function Ox(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:W},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:c},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ax(n){var i=Ox(n).next.queue;Dd(n,i,{},qn())}function im(){return Ia(eu)}function Rx(){return _a().memoizedState}function Px(){return _a().memoizedState}function $N(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var c=qn();n=ke(c);var h=Be(i,n,c);h!==null&&(Hn(h,i,c),je(h,i,c)),i={cache:$d()},n.payload=i;return}i=i.return}}function EN(n,i,c){var h=qn();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Of(n)?Dx(i,c):(c=wd(n,i,c,h),c!==null&&(Hn(c,n,h),Ix(c,i,h)))}function Mx(n,i,c){var h=qn();Dd(n,i,c,h)}function Dd(n,i,c,h){var x={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Of(n))Dx(i,x);else{var j=n.alternate;if(n.lanes===0&&(j===null||j.lanes===0)&&(j=i.lastRenderedReducer,j!==null))try{var L=i.lastRenderedState,K=j(L,c);if(x.hasEagerState=!0,x.eagerState=K,Ja(K,L))return el(n,i,x,0),ta===null&&Xl(),!1}catch(ge){}finally{}if(c=wd(n,i,x,h),c!==null)return Hn(c,n,h),Ix(c,i,h),!0}return!1}function lm(n,i,c,h){if(h={lane:2,revertLane:Fm(),action:h,hasEagerState:!1,eagerState:null,next:null},Of(n)){if(i)throw Error(s(479))}else i=wd(n,c,h,2),i!==null&&Hn(i,n,2)}function Of(n){var i=n.alternate;return n===fr||i!==null&&i===fr}function Dx(n,i){tn=Un=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function Ix(n,i,c){if((c&4194048)!==0){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,ze(n,c)}}var Af={readContext:Ia,use:Cf,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Lx={readContext:Ia,use:Cf,useCallback:function(n,i){return $n().memoizedState=[n,i===void 0?null:i],n},useContext:Ia,useEffect:wx,useImperativeHandle:function(n,i,c){c=c!=null?c.concat([n]):null,Tf(4194308,4,_x.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Tf(4194308,4,n,i)},useInsertionEffect:function(n,i){Tf(4,2,n,i)},useMemo:function(n,i){var c=$n();i=i===void 0?null:i;var h=n();if(Pr){ut(!0);try{n()}finally{ut(!1)}}return c.memoizedState=[h,i],h},useReducer:function(n,i,c){var h=$n();if(c!==void 0){var x=c(i);if(Pr){ut(!0);try{c(i)}finally{ut(!1)}}}else x=i;return h.memoizedState=h.baseState=x,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:x},h.queue=n,n=n.dispatch=EN.bind(null,fr,n),[h.memoizedState,n]},useRef:function(n){var i=$n();return n={current:n},i.memoizedState=n},useState:function(n){n=rm(n);var i=n.queue,c=Mx.bind(null,fr,i);return i.dispatch=c,[n.memoizedState,c]},useDebugValue:nm,useDeferredValue:function(n,i){var c=$n();return sm(c,n,i)},useTransition:function(){var n=rm(!1);return n=Tx.bind(null,fr,n.queue,!0,!1),$n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,c){var h=fr,x=$n();if(Ir){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),ta===null)throw Error(s(349));(Mr&124)!==0||sx(h,i,c)}x.memoizedState=c;var j={value:c,getSnapshot:i};return x.queue=j,wx(ix.bind(null,h,j,n),[n]),h.flags|=2048,sc(9,Ef(),ox.bind(null,h,j,c,i),null),c},useId:function(){var n=$n(),i=ta.identifierPrefix;if(Ir){var c=Xn,h=bs;c=(h&~(1<<32-ve(h)-1)).toString(32)+c,i=""+i+"R"+c,c=rn++,0<c&&(i+="H"+c.toString(32)),i+=""}else c=Jn++,i=""+i+"r"+c.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:im,useFormState:px,useActionState:px,useOptimistic:function(n){var i=$n();i.memoizedState=i.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=lm.bind(null,fr,!0,c),c.dispatch=i,[n,i]},useMemoCache:Jh,useCacheRefresh:function(){return $n().memoizedState=$N.bind(null,fr)}},Ux={readContext:Ia,use:Cf,useCallback:Cx,useContext:Ia,useEffect:jx,useImperativeHandle:Sx,useInsertionEffect:Nx,useLayoutEffect:kx,useMemo:$x,useReducer:$f,useRef:vx,useState:function(){return $f(No)},useDebugValue:nm,useDeferredValue:function(n,i){var c=_a();return Ex(c,jr.memoizedState,n,i)},useTransition:function(){var n=$f(No)[0],i=_a().memoizedState;return[typeof n=="boolean"?n:Pd(n),i]},useSyncExternalStore:nx,useId:Rx,useHostTransitionStatus:im,useFormState:yx,useActionState:yx,useOptimistic:function(n,i){var c=_a();return dx(c,jr,n,i)},useMemoCache:Jh,useCacheRefresh:Px},TN={readContext:Ia,use:Cf,useCallback:Cx,useContext:Ia,useEffect:jx,useImperativeHandle:Sx,useInsertionEffect:Nx,useLayoutEffect:kx,useMemo:$x,useReducer:tm,useRef:vx,useState:function(){return tm(No)},useDebugValue:nm,useDeferredValue:function(n,i){var c=_a();return jr===null?sm(c,n,i):Ex(c,jr.memoizedState,n,i)},useTransition:function(){var n=tm(No)[0],i=_a().memoizedState;return[typeof n=="boolean"?n:Pd(n),i]},useSyncExternalStore:nx,useId:Rx,useHostTransitionStatus:im,useFormState:bx,useActionState:bx,useOptimistic:function(n,i){var c=_a();return jr!==null?dx(c,jr,n,i):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:Px},oc=null,Id=0;function Rf(n){var i=Id;return Id+=1,oc===null&&(oc=[]),$(oc,n,i)}function Ld(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Pf(n,i){throw i.$$typeof===k?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Fx(n){var i=n._init;return i(n._payload)}function zx(n){function i(Re,Ce){if(n){var Me=Re.deletions;Me===null?(Re.deletions=[Ce],Re.flags|=16):Me.push(Ce)}}function c(Re,Ce){if(!n)return null;for(;Ce!==null;)i(Re,Ce),Ce=Ce.sibling;return null}function h(Re){for(var Ce=new Map;Re!==null;)Re.key!==null?Ce.set(Re.key,Re):Ce.set(Re.index,Re),Re=Re.sibling;return Ce}function x(Re,Ce){return Re=Nn(Re,Ce),Re.index=0,Re.sibling=null,Re}function j(Re,Ce,Me){return Re.index=Me,n?(Me=Re.alternate,Me!==null?(Me=Me.index,Me<Ce?(Re.flags|=67108866,Ce):Me):(Re.flags|=67108866,Ce)):(Re.flags|=1048576,Ce)}function L(Re){return n&&Re.alternate===null&&(Re.flags|=67108866),Re}function K(Re,Ce,Me,rt){return Ce===null||Ce.tag!==6?(Ce=Jl(Me,Re.mode,rt),Ce.return=Re,Ce):(Ce=x(Ce,Me),Ce.return=Re,Ce)}function ge(Re,Ce,Me,rt){var Pt=Me.type;return Pt===T?Je(Re,Ce,Me.props.children,rt,Me.key):Ce!==null&&(Ce.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===he&&Fx(Pt)===Ce.type)?(Ce=x(Ce,Me.props),Ld(Ce,Me),Ce.return=Re,Ce):(Ce=Zl(Me.type,Me.key,Me.props,null,Re.mode,rt),Ld(Ce,Me),Ce.return=Re,Ce)}function Ie(Re,Ce,Me,rt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Me.containerInfo||Ce.stateNode.implementation!==Me.implementation?(Ce=kd(Me,Re.mode,rt),Ce.return=Re,Ce):(Ce=x(Ce,Me.children||[]),Ce.return=Re,Ce)}function Je(Re,Ce,Me,rt,Pt){return Ce===null||Ce.tag!==7?(Ce=Hs(Me,Re.mode,rt,Pt),Ce.return=Re,Ce):(Ce=x(Ce,Me),Ce.return=Re,Ce)}function ot(Re,Ce,Me){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=Jl(""+Ce,Re.mode,Me),Ce.return=Re,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return Me=Zl(Ce.type,Ce.key,Ce.props,null,Re.mode,Me),Ld(Me,Ce),Me.return=Re,Me;case C:return Ce=kd(Ce,Re.mode,Me),Ce.return=Re,Ce;case he:var rt=Ce._init;return Ce=rt(Ce._payload),ot(Re,Ce,Me)}if(pe(Ce)||ue(Ce))return Ce=Hs(Ce,Re.mode,Me,null),Ce.return=Re,Ce;if(typeof Ce.then=="function")return ot(Re,Rf(Ce),Me);if(Ce.$$typeof===H)return ot(Re,nc(Re,Ce),Me);Pf(Re,Ce)}return null}function Fe(Re,Ce,Me,rt){var Pt=Ce!==null?Ce.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Pt!==null?null:K(Re,Ce,""+Me,rt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return Me.key===Pt?ge(Re,Ce,Me,rt):null;case C:return Me.key===Pt?Ie(Re,Ce,Me,rt):null;case he:return Pt=Me._init,Me=Pt(Me._payload),Fe(Re,Ce,Me,rt)}if(pe(Me)||ue(Me))return Pt!==null?null:Je(Re,Ce,Me,rt,null);if(typeof Me.then=="function")return Fe(Re,Ce,Rf(Me),rt);if(Me.$$typeof===H)return Fe(Re,Ce,nc(Re,Me),rt);Pf(Re,Me)}return null}function He(Re,Ce,Me,rt,Pt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Re=Re.get(Me)||null,K(Ce,Re,""+rt,Pt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case _:return Re=Re.get(rt.key===null?Me:rt.key)||null,ge(Ce,Re,rt,Pt);case C:return Re=Re.get(rt.key===null?Me:rt.key)||null,Ie(Ce,Re,rt,Pt);case he:var Nr=rt._init;return rt=Nr(rt._payload),He(Re,Ce,Me,rt,Pt)}if(pe(rt)||ue(rt))return Re=Re.get(Me)||null,Je(Ce,Re,rt,Pt,null);if(typeof rt.then=="function")return He(Re,Ce,Me,Rf(rt),Pt);if(rt.$$typeof===H)return He(Re,Ce,Me,nc(Ce,rt),Pt);Pf(Ce,rt)}return null}function ir(Re,Ce,Me,rt){for(var Pt=null,Nr=null,Gt=Ce,rr=Ce=0,Fa=null;Gt!==null&&rr<Me.length;rr++){Gt.index>rr?(Fa=Gt,Gt=null):Fa=Gt.sibling;var Ur=Fe(Re,Gt,Me[rr],rt);if(Ur===null){Gt===null&&(Gt=Fa);break}n&&Gt&&Ur.alternate===null&&i(Re,Gt),Ce=j(Ur,Ce,rr),Nr===null?Pt=Ur:Nr.sibling=Ur,Nr=Ur,Gt=Fa}if(rr===Me.length)return c(Re,Gt),Ir&&bo(Re,rr),Pt;if(Gt===null){for(;rr<Me.length;rr++)Gt=ot(Re,Me[rr],rt),Gt!==null&&(Ce=j(Gt,Ce,rr),Nr===null?Pt=Gt:Nr.sibling=Gt,Nr=Gt);return Ir&&bo(Re,rr),Pt}for(Gt=h(Gt);rr<Me.length;rr++)Fa=He(Gt,Re,rr,Me[rr],rt),Fa!==null&&(n&&Fa.alternate!==null&&Gt.delete(Fa.key===null?rr:Fa.key),Ce=j(Fa,Ce,rr),Nr===null?Pt=Fa:Nr.sibling=Fa,Nr=Fa);return n&&Gt.forEach(function(vi){return i(Re,vi)}),Ir&&bo(Re,rr),Pt}function Jt(Re,Ce,Me,rt){if(Me==null)throw Error(s(151));for(var Pt=null,Nr=null,Gt=Ce,rr=Ce=0,Fa=null,Ur=Me.next();Gt!==null&&!Ur.done;rr++,Ur=Me.next()){Gt.index>rr?(Fa=Gt,Gt=null):Fa=Gt.sibling;var vi=Fe(Re,Gt,Ur.value,rt);if(vi===null){Gt===null&&(Gt=Fa);break}n&&Gt&&vi.alternate===null&&i(Re,Gt),Ce=j(vi,Ce,rr),Nr===null?Pt=vi:Nr.sibling=vi,Nr=vi,Gt=Fa}if(Ur.done)return c(Re,Gt),Ir&&bo(Re,rr),Pt;if(Gt===null){for(;!Ur.done;rr++,Ur=Me.next())Ur=ot(Re,Ur.value,rt),Ur!==null&&(Ce=j(Ur,Ce,rr),Nr===null?Pt=Ur:Nr.sibling=Ur,Nr=Ur);return Ir&&bo(Re,rr),Pt}for(Gt=h(Gt);!Ur.done;rr++,Ur=Me.next())Ur=He(Gt,Re,rr,Ur.value,rt),Ur!==null&&(n&&Ur.alternate!==null&&Gt.delete(Ur.key===null?rr:Ur.key),Ce=j(Ur,Ce,rr),Nr===null?Pt=Ur:Nr.sibling=Ur,Nr=Ur);return n&&Gt.forEach(function(Ok){return i(Re,Ok)}),Ir&&bo(Re,rr),Pt}function Xr(Re,Ce,Me,rt){if(typeof Me=="object"&&Me!==null&&Me.type===T&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:e:{for(var Pt=Me.key;Ce!==null;){if(Ce.key===Pt){if(Pt=Me.type,Pt===T){if(Ce.tag===7){c(Re,Ce.sibling),rt=x(Ce,Me.props.children),rt.return=Re,Re=rt;break e}}else if(Ce.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===he&&Fx(Pt)===Ce.type){c(Re,Ce.sibling),rt=x(Ce,Me.props),Ld(rt,Me),rt.return=Re,Re=rt;break e}c(Re,Ce);break}else i(Re,Ce);Ce=Ce.sibling}Me.type===T?(rt=Hs(Me.props.children,Re.mode,rt,Me.key),rt.return=Re,Re=rt):(rt=Zl(Me.type,Me.key,Me.props,null,Re.mode,rt),Ld(rt,Me),rt.return=Re,Re=rt)}return L(Re);case C:e:{for(Pt=Me.key;Ce!==null;){if(Ce.key===Pt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Me.containerInfo&&Ce.stateNode.implementation===Me.implementation){c(Re,Ce.sibling),rt=x(Ce,Me.children||[]),rt.return=Re,Re=rt;break e}else{c(Re,Ce);break}else i(Re,Ce);Ce=Ce.sibling}rt=kd(Me,Re.mode,rt),rt.return=Re,Re=rt}return L(Re);case he:return Pt=Me._init,Me=Pt(Me._payload),Xr(Re,Ce,Me,rt)}if(pe(Me))return ir(Re,Ce,Me,rt);if(ue(Me)){if(Pt=ue(Me),typeof Pt!="function")throw Error(s(150));return Me=Pt.call(Me),Jt(Re,Ce,Me,rt)}if(typeof Me.then=="function")return Xr(Re,Ce,Rf(Me),rt);if(Me.$$typeof===H)return Xr(Re,Ce,nc(Re,Me),rt);Pf(Re,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,Ce!==null&&Ce.tag===6?(c(Re,Ce.sibling),rt=x(Ce,Me),rt.return=Re,Re=rt):(c(Re,Ce),rt=Jl(Me,Re.mode,rt),rt.return=Re,Re=rt),L(Re)):c(Re,Ce)}return function(Re,Ce,Me,rt){try{Id=0;var Pt=Xr(Re,Ce,Me,rt);return oc=null,Pt}catch(Gt){if(Gt===p||Gt===g)throw Gt;var Nr=Ma(29,Gt,null,Re.mode);return Nr.lanes=rt,Nr.return=Re,Nr}finally{}}}var ic=zx(!0),Bx=zx(!1),es=U(null),Ys=null;function si(n){var i=n.alternate;me($a,$a.current&1),me(es,n),Ys===null&&(i===null||cr.current!==null||i.memoizedState!==null)&&(Ys=n)}function qx(n){if(n.tag===22){if(me($a,$a.current),me(es,n),Ys===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Ys=n)}}else oi()}function oi(){me($a,$a.current),me(es,es.current)}function ko(n){ne(es),Ys===n&&(Ys=null),ne($a)}var $a=U(0);function Mf(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Zm(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function cm(n,i,c,h){i=n.memoizedState,c=c(h,i),c=c==null?i:y({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var dm={enqueueSetState:function(n,i,c){n=n._reactInternals;var h=qn(),x=ke(h);x.payload=i,c!=null&&(x.callback=c),i=Be(n,x,h),i!==null&&(Hn(i,n,h),je(i,n,h))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var h=qn(),x=ke(h);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Be(n,x,h),i!==null&&(Hn(i,n,h),je(i,n,h))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=qn(),h=ke(c);h.tag=2,i!=null&&(h.callback=i),i=Be(n,h,c),i!==null&&(Hn(i,n,c),je(i,n,c))}};function Hx(n,i,c,h,x,j,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,j,L):i.prototype&&i.prototype.isPureReactComponent?!Zi(c,h)||!Zi(x,j):!0}function Gx(n,i,c,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==n&&dm.enqueueReplaceState(i,i.state,null)}function sl(n,i){var c=i;if("ref"in i){c={};for(var h in i)h!=="ref"&&(c[h]=i[h])}if(n=n.defaultProps){c===i&&(c=y({},c));for(var x in n)c[x]===void 0&&(c[x]=n[x])}return c}var Df=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Vx(n){Df(n)}function Kx(n){console.error(n)}function Wx(n){Df(n)}function If(n,i){try{var c=n.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function Yx(n,i,c){try{var h=n.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function um(n,i,c){return c=ke(c),c.tag=3,c.payload={element:null},c.callback=function(){If(n,i)},c}function Qx(n){return n=ke(n),n.tag=3,n}function Xx(n,i,c,h){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var j=h.value;n.payload=function(){return x(j)},n.callback=function(){Yx(i,c,h)}}var L=c.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){Yx(i,c,h),typeof x!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})})}function ON(n,i,c,h,x){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=c.alternate,i!==null&&nl(i,c,x,!0),c=es.current,c!==null){switch(c.tag){case 13:return Ys===null?Mm():c.alternate===null&&ga===0&&(ga=3),c.flags&=-257,c.flags|=65536,c.lanes=x,h===b?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([h]):i.add(h),Im(n,h,x)),!1;case 22:return c.flags|=65536,h===b?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([h]):c.add(h)),Im(n,h,x)),!1}throw Error(s(435,c.tag))}return Im(n,h,x),Mm(),!1}if(Ir)return i=es.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,h!==rl&&(n=Error(s(422),{cause:h}),ha(ja(n,c)))):(h!==rl&&(i=Error(s(423),{cause:h}),ha(ja(i,c))),n=n.current.alternate,n.flags|=65536,x&=-x,n.lanes|=x,h=ja(h,c),x=um(n.stateNode,h,x),Le(n,x),ga!==4&&(ga=2)),!1;var j=Error(s(520),{cause:h});if(j=ja(j,c),Gd===null?Gd=[j]:Gd.push(j),ga!==4&&(ga=2),i===null)return!0;h=ja(h,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,n=x&-x,c.lanes|=n,n=um(c.stateNode,h,n),Le(c,n),!1;case 1:if(i=c.type,j=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(fi===null||!fi.has(j))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Qx(x),Xx(x,n,c,h),Le(c,x),!1}c=c.return}while(c!==null);return!1}var Zx=Error(s(461)),La=!1;function Ha(n,i,c,h){i.child=n===null?Bx(i,null,c,h):ic(i,n.child,c,h)}function Jx(n,i,c,h,x){c=c.render;var j=i.ref;if("ref"in h){var L={};for(var K in h)K!=="ref"&&(L[K]=h[K])}else L=h;return jo(i),h=Od(n,i,c,L,j,x),K=Yh(),n!==null&&!La?(Qh(n,i,x),_o(n,i,x)):(Ir&&K&&rc(i),i.flags|=1,Ha(n,i,h,x),i.child)}function eb(n,i,c,h,x){if(n===null){var j=c.type;return typeof j=="function"&&!po(j)&&j.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=j,tb(n,i,j,h,x)):(n=Zl(c.type,null,h,i,i.mode,x),n.ref=i.ref,n.return=i,i.child=n)}if(j=n.child,!bm(n,x)){var L=j.memoizedProps;if(c=c.compare,c=c!==null?c:Zi,c(L,h)&&n.ref===i.ref)return _o(n,i,x)}return i.flags|=1,n=Nn(j,h),n.ref=i.ref,n.return=i,i.child=n}function tb(n,i,c,h,x){if(n!==null){var j=n.memoizedProps;if(Zi(j,h)&&n.ref===i.ref)if(La=!1,i.pendingProps=h=j,bm(n,x))(n.flags&131072)!==0&&(La=!0);else return i.lanes=n.lanes,_o(n,i,x)}return fm(n,i,c,h,x)}function rb(n,i,c){var h=i.pendingProps,x=h.children,j=n!==null?n.memoizedState:null;if(h.mode==="hidden"){if((i.flags&128)!==0){if(h=j!==null?j.baseLanes|c:c,n!==null){for(x=i.child=n.child,j=0;x!==null;)j=j|x.lanes|x.childLanes,x=x.sibling;i.childLanes=j&~h}else i.childLanes=0,i.child=null;return ab(n,i,h,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ws(i,j!==null?j.cachePool:null),j!==null?vr(i,j):en(),qx(i);else return i.lanes=i.childLanes=536870912,ab(n,i,j!==null?j.baseLanes|c:c,c)}else j!==null?(Ws(i,j.cachePool),vr(i,j),oi(),i.memoizedState=null):(n!==null&&Ws(i,null),en(),oi());return Ha(n,i,x,c),i.child}function ab(n,i,c,h){var x=Zn();return x=x===null?null:{parent:ma._currentValue,pool:x},i.memoizedState={baseLanes:c,cachePool:x},n!==null&&Ws(i,null),en(),qx(i),n!==null&&nl(n,i,h,!0),null}function Lf(n,i){var c=i.ref;if(c===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(n===null||n.ref!==c)&&(i.flags|=4194816)}}function fm(n,i,c,h,x){return jo(i),c=Od(n,i,c,h,void 0,x),h=Yh(),n!==null&&!La?(Qh(n,i,x),_o(n,i,x)):(Ir&&h&&rc(i),i.flags|=1,Ha(n,i,c,x),i.child)}function nb(n,i,c,h,x,j){return jo(i),i.updateQueue=null,c=Rd(i,h,c,x),Ad(n),h=Yh(),n!==null&&!La?(Qh(n,i,j),_o(n,i,j)):(Ir&&h&&rc(i),i.flags|=1,Ha(n,i,c,j),i.child)}function sb(n,i,c,h,x){if(jo(i),i.stateNode===null){var j=ti,L=c.contextType;typeof L=="object"&&L!==null&&(j=Ia(L)),j=new c(h,j),i.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=dm,i.stateNode=j,j._reactInternals=i,j=i.stateNode,j.props=h,j.state=i.memoizedState,j.refs={},re(i),L=c.contextType,j.context=typeof L=="object"&&L!==null?Ia(L):ti,j.state=i.memoizedState,L=c.getDerivedStateFromProps,typeof L=="function"&&(cm(i,c,L,h),j.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(L=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),L!==j.state&&dm.enqueueReplaceState(j,j.state,null),Ct(i,h,j,x),Qe(),j.state=i.memoizedState),typeof j.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(n===null){j=i.stateNode;var K=i.memoizedProps,ge=sl(c,K);j.props=ge;var Ie=j.context,Je=c.contextType;L=ti,typeof Je=="object"&&Je!==null&&(L=Ia(Je));var ot=c.getDerivedStateFromProps;Je=typeof ot=="function"||typeof j.getSnapshotBeforeUpdate=="function",K=i.pendingProps!==K,Je||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(K||Ie!==L)&&Gx(i,j,h,L),G=!1;var Fe=i.memoizedState;j.state=Fe,Ct(i,h,j,x),Qe(),Ie=i.memoizedState,K||Fe!==Ie||G?(typeof ot=="function"&&(cm(i,c,ot,h),Ie=i.memoizedState),(ge=G||Hx(i,c,ge,h,Fe,Ie,L))?(Je||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(i.flags|=4194308)):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=Ie),j.props=h,j.state=Ie,j.context=L,h=ge):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{j=i.stateNode,we(n,i),L=i.memoizedProps,Je=sl(c,L),j.props=Je,ot=i.pendingProps,Fe=j.context,Ie=c.contextType,ge=ti,typeof Ie=="object"&&Ie!==null&&(ge=Ia(Ie)),K=c.getDerivedStateFromProps,(Ie=typeof K=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(L!==ot||Fe!==ge)&&Gx(i,j,h,ge),G=!1,Fe=i.memoizedState,j.state=Fe,Ct(i,h,j,x),Qe();var He=i.memoizedState;L!==ot||Fe!==He||G||n!==null&&n.dependencies!==null&&ac(n.dependencies)?(typeof K=="function"&&(cm(i,c,K,h),He=i.memoizedState),(Je=G||Hx(i,c,Je,h,Fe,He,ge)||n!==null&&n.dependencies!==null&&ac(n.dependencies))?(Ie||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(h,He,ge),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(h,He,ge)),typeof j.componentDidUpdate=="function"&&(i.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof j.componentDidUpdate!="function"||L===n.memoizedProps&&Fe===n.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Fe===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=He),j.props=h,j.state=He,j.context=ge,h=Je):(typeof j.componentDidUpdate!="function"||L===n.memoizedProps&&Fe===n.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Fe===n.memoizedState||(i.flags|=1024),h=!1)}return j=h,Lf(n,i),h=(i.flags&128)!==0,j||h?(j=i.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:j.render(),i.flags|=1,n!==null&&h?(i.child=ic(i,n.child,null,x),i.child=ic(i,null,c,x)):Ha(n,i,c,x),i.memoizedState=j.state,n=i.child):n=_o(n,i,x),n}function ob(n,i,c,h){return Sn(),i.flags|=256,Ha(n,i,c,h),i.child}var hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(n){return{baseLanes:n,cachePool:Td()}}function gm(n,i,c){return n=n!==null?n.childLanes&~c:0,i&&(n|=ts),n}function ib(n,i,c){var h=i.pendingProps,x=!1,j=(i.flags&128)!==0,L;if((L=j)||(L=n!==null&&n.memoizedState===null?!1:($a.current&2)!==0),L&&(x=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ir){if(x?si(i):oi(),Ir){var K=Sr,ge;if(ge=K){e:{for(ge=K,K=ka;ge.nodeType!==8;){if(!K){K=null;break e}if(ge=Ns(ge.nextSibling),ge===null){K=null;break e}}K=ge}K!==null?(i.memoizedState={dehydrated:K,treeContext:xo!==null?{id:bs,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},ge=Ma(18,null,null,0),ge.stateNode=K,ge.return=i,i.child=ge,Na=i,Sr=null,ge=!0):ge=!1}ge||Da(i)}if(K=i.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return Zm(K)?i.lanes=32:i.lanes=536870912,null;ko(i)}return K=h.children,h=h.fallback,x?(oi(),x=i.mode,K=Uf({mode:"hidden",children:K},x),h=Hs(h,x,c,null),K.return=i,h.return=i,K.sibling=h,i.child=K,x=i.child,x.memoizedState=mm(c),x.childLanes=gm(n,L,c),i.memoizedState=hm,h):(si(i),pm(i,K))}if(ge=n.memoizedState,ge!==null&&(K=ge.dehydrated,K!==null)){if(j)i.flags&256?(si(i),i.flags&=-257,i=ym(n,i,c)):i.memoizedState!==null?(oi(),i.child=n.child,i.flags|=128,i=null):(oi(),x=h.fallback,K=i.mode,h=Uf({mode:"visible",children:h.children},K),x=Hs(x,K,c,null),x.flags|=2,h.return=i,x.return=i,h.sibling=x,i.child=h,ic(i,n.child,null,c),h=i.child,h.memoizedState=mm(c),h.childLanes=gm(n,L,c),i.memoizedState=hm,i=x);else if(si(i),Zm(K)){if(L=K.nextSibling&&K.nextSibling.dataset,L)var Ie=L.dgst;L=Ie,h=Error(s(419)),h.stack="",h.digest=L,ha({value:h,source:null,stack:null}),i=ym(n,i,c)}else if(La||nl(n,i,c,!1),L=(c&n.childLanes)!==0,La||L){if(L=ta,L!==null&&(h=c&-c,h=(h&42)!==0?1:tt(h),h=(h&(L.suspendedLanes|c))!==0?0:h,h!==0&&h!==ge.retryLane))throw ge.retryLane=h,ei(n,h),Hn(L,n,h),Zx;K.data==="$?"||Mm(),i=ym(n,i,c)}else K.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=ge.treeContext,Sr=Ns(K.nextSibling),Na=i,Ir=!0,fn=null,ka=!1,n!==null&&(kn[_n++]=bs,kn[_n++]=Xn,kn[_n++]=xo,bs=n.id,Xn=n.overflow,xo=i),i=pm(i,h.children),i.flags|=4096);return i}return x?(oi(),x=h.fallback,K=i.mode,ge=n.child,Ie=ge.sibling,h=Nn(ge,{mode:"hidden",children:h.children}),h.subtreeFlags=ge.subtreeFlags&65011712,Ie!==null?x=Nn(Ie,x):(x=Hs(x,K,c,null),x.flags|=2),x.return=i,h.return=i,h.sibling=x,i.child=h,h=x,x=i.child,K=n.child.memoizedState,K===null?K=mm(c):(ge=K.cachePool,ge!==null?(Ie=ma._currentValue,ge=ge.parent!==Ie?{parent:Ie,pool:Ie}:ge):ge=Td(),K={baseLanes:K.baseLanes|c,cachePool:ge}),x.memoizedState=K,x.childLanes=gm(n,L,c),i.memoizedState=hm,h):(si(i),c=n.child,n=c.sibling,c=Nn(c,{mode:"visible",children:h.children}),c.return=i,c.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=c,i.memoizedState=null,c)}function pm(n,i){return i=Uf({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Uf(n,i){return n=Ma(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ym(n,i,c){return ic(i,n.child,null,c),n=pm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function lb(n,i,c){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),Sd(n.return,i,c)}function xm(n,i,c,h,x){var j=n.memoizedState;j===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:x}:(j.isBackwards=i,j.rendering=null,j.renderingStartTime=0,j.last=h,j.tail=c,j.tailMode=x)}function cb(n,i,c){var h=i.pendingProps,x=h.revealOrder,j=h.tail;if(Ha(n,i,h.children,c),h=$a.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lb(n,c,i);else if(n.tag===19)lb(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}switch(me($a,h),x){case"forwards":for(c=i.child,x=null;c!==null;)n=c.alternate,n!==null&&Mf(n)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),xm(i,!1,x,c,j);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(n=x.alternate,n!==null&&Mf(n)===null){i.child=x;break}n=x.sibling,x.sibling=c,c=x,x=n}xm(i,!0,c,null,j);break;case"together":xm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _o(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),ui|=i.lanes,(c&i.childLanes)===0)if(n!==null){if(nl(n,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,c=Nn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Nn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function bm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ac(n)))}function AN(n,i,c){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),hn(i,ma,n.memoizedState.cache),Sn();break;case 27:case 5:et(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:hn(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(si(i),i.flags|=128,null):(c&i.child.childLanes)!==0?ib(n,i,c):(si(i),n=_o(n,i,c),n!==null?n.sibling:null);si(i);break;case 19:var x=(n.flags&128)!==0;if(h=(c&i.childLanes)!==0,h||(nl(n,i,c,!1),h=(c&i.childLanes)!==0),x){if(h)return cb(n,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),me($a,$a.current),h)break;return null;case 22:case 23:return i.lanes=0,rb(n,i,c);case 24:hn(i,ma,n.memoizedState.cache)}return _o(n,i,c)}function db(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps)La=!0;else{if(!bm(n,c)&&(i.flags&128)===0)return La=!1,AN(n,i,c);La=(n.flags&131072)!==0}else La=!1,Ir&&(i.flags&1048576)!==0&&wf(i,tc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var h=i.elementType,x=h._init;if(h=x(h._payload),i.type=h,typeof h=="function")po(h)?(n=sl(h,n),i.tag=1,i=sb(null,i,h,n,c)):(i.tag=0,i=fm(null,i,h,n,c));else{if(h!=null){if(x=h.$$typeof,x===O){i.tag=11,i=Jx(null,i,h,n,c);break e}else if(x===ae){i.tag=14,i=eb(null,i,h,n,c);break e}}throw i=de(h)||h,Error(s(306,i,""))}}return i;case 0:return fm(n,i,i.type,i.pendingProps,c);case 1:return h=i.type,x=sl(h,i.pendingProps),sb(n,i,h,x,c);case 3:e:{if(it(i,i.stateNode.containerInfo),n===null)throw Error(s(387));h=i.pendingProps;var j=i.memoizedState;x=j.element,we(n,i),Ct(i,h,null,c);var L=i.memoizedState;if(h=L.cache,hn(i,ma,h),h!==j.cache&&Cd(i,[ma],c,!0),Qe(),h=L.element,j.isDehydrated)if(j={element:h,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=j,i.memoizedState=j,i.flags&256){i=ob(n,i,h,c);break e}else if(h!==x){x=ja(Error(s(424)),i),ha(x),i=ob(n,i,h,c);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Sr=Ns(n.firstChild),Na=i,Ir=!0,fn=null,ka=!0,c=Bx(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Sn(),h===x){i=_o(n,i,c);break e}Ha(n,i,h,c)}i=i.child}return i;case 26:return Lf(n,i),n===null?(c=mv(i.type,null,i.pendingProps,null))?i.memoizedState=c:Ir||(c=i.type,n=i.pendingProps,h=Jf(oe.current).createElement(c),h[Ke]=i,h[Ae]=n,Va(h,c,n),Yt(h),i.stateNode=h):i.memoizedState=mv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return et(i),n===null&&Ir&&(h=i.stateNode=uv(i.type,i.pendingProps,oe.current),Na=i,ka=!0,x=Sr,gi(i.type)?(Jm=x,Sr=Ns(h.firstChild)):Sr=x),Ha(n,i,i.pendingProps.children,c),Lf(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ir&&((x=h=Sr)&&(h=ok(h,i.type,i.pendingProps,ka),h!==null?(i.stateNode=h,Na=i,Sr=Ns(h.firstChild),ka=!1,x=!0):x=!1),x||Da(i)),et(i),x=i.type,j=i.pendingProps,L=n!==null?n.memoizedProps:null,h=j.children,Ym(x,j)?h=null:L!==null&&Ym(x,L)&&(i.flags|=32),i.memoizedState!==null&&(x=Od(n,i,kN,null,null,c),eu._currentValue=x),Lf(n,i),Ha(n,i,h,c),i.child;case 6:return n===null&&Ir&&((n=c=Sr)&&(c=ik(c,i.pendingProps,ka),c!==null?(i.stateNode=c,Na=i,Sr=null,n=!0):n=!1),n||Da(i)),null;case 13:return ib(n,i,c);case 4:return it(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=ic(i,null,h,c):Ha(n,i,h,c),i.child;case 11:return Jx(n,i,i.type,i.pendingProps,c);case 7:return Ha(n,i,i.pendingProps,c),i.child;case 8:return Ha(n,i,i.pendingProps.children,c),i.child;case 12:return Ha(n,i,i.pendingProps.children,c),i.child;case 10:return h=i.pendingProps,hn(i,i.type,h.value),Ha(n,i,h.children,c),i.child;case 9:return x=i.type._context,h=i.pendingProps.children,jo(i),x=Ia(x),h=h(x),i.flags|=1,Ha(n,i,h,c),i.child;case 14:return eb(n,i,i.type,i.pendingProps,c);case 15:return tb(n,i,i.type,i.pendingProps,c);case 19:return cb(n,i,c);case 31:return h=i.pendingProps,c=i.mode,h={mode:h.mode,children:h.children},n===null?(c=Uf(h,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=Nn(n.child,h),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return rb(n,i,c);case 24:return jo(i),h=Ia(ma),n===null?(x=Zn(),x===null&&(x=ta,j=$d(),x.pooledCache=j,j.refCount++,j!==null&&(x.pooledCacheLanes|=c),x=j),i.memoizedState={parent:h,cache:x},re(i),hn(i,ma,x)):((n.lanes&c)!==0&&(we(n,i),Ct(i,null,null,c),Qe()),x=n.memoizedState,j=i.memoizedState,x.parent!==h?(x={parent:h,cache:h},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),hn(i,ma,h)):(h=j.cache,hn(i,ma,h),h!==x.cache&&Cd(i,[ma],c,!0))),Ha(n,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function So(n){n.flags|=4}function ub(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!bv(i)){if(i=es.current,i!==null&&((Mr&4194048)===Mr?Ys!==null:(Mr&62914560)!==Mr&&(Mr&536870912)===0||i!==Ys))throw R=b,v;n.flags|=8192}}function Ff(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?yr():536870912,n.lanes|=i,uc|=i)}function Ud(n,i){if(!Ir)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function ua(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,h=0;if(i)for(var x=n.child;x!==null;)c|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)c|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=h,n.childLanes=c,i}function RN(n,i,c){var h=i.pendingProps;switch(_d(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(i),null;case 1:return ua(i),null;case 3:return c=i.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),qa(ma),yt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(oa(i)?So(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln())),ua(i),null;case 26:return c=i.memoizedState,n===null?(So(i),c!==null?(ua(i),ub(i,c)):(ua(i),i.flags&=-16777217)):c?c!==n.memoizedState?(So(i),ua(i),ub(i,c)):(ua(i),i.flags&=-16777217):(n.memoizedProps!==h&&So(i),ua(i),i.flags&=-16777217),null;case 27:xt(i),c=oe.current;var x=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==h&&So(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return ua(i),null}n=le.current,oa(i)?al(i):(n=uv(x,h,c),i.stateNode=n,So(i))}return ua(i),null;case 5:if(xt(i),c=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==h&&So(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return ua(i),null}if(n=le.current,oa(i))al(i);else{switch(x=Jf(oe.current),n){case 1:n=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:n=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":n=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":n=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?n.multiple=!0:h.size&&(n.size=h.size);break;default:n=typeof h.is=="string"?x.createElement(c,{is:h.is}):x.createElement(c)}}n[Ke]=i,n[Ae]=h;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)n.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=n;e:switch(Va(n,c,h),c){case"button":case"input":case"select":case"textarea":n=!!h.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&So(i)}}return ua(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==h&&So(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(s(166));if(n=oe.current,oa(i)){if(n=i.stateNode,c=i.memoizedProps,h=null,x=Na,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}n[Ke]=i,n=!!(n.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||nv(n.nodeValue,c)),n||Da(i)}else n=Jf(n).createTextNode(h),n[Ke]=i,i.stateNode=n}return ua(i),null;case 13:if(h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(x=oa(i),h!==null&&h.dehydrated!==null){if(n===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Ke]=i}else Sn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ua(i),x=!1}else x=Ln(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(ko(i),i):(ko(i),null)}if(ko(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=h!==null,n=n!==null&&n.memoizedState!==null,c){h=i.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool);var j=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(j=h.memoizedState.cachePool.pool),j!==x&&(h.flags|=2048)}return c!==n&&c&&(i.child.flags|=8192),Ff(i,i.updateQueue),ua(i),null;case 4:return yt(),n===null&&Hm(i.stateNode.containerInfo),ua(i),null;case 10:return qa(i.type),ua(i),null;case 19:if(ne($a),x=i.memoizedState,x===null)return ua(i),null;if(h=(i.flags&128)!==0,j=x.rendering,j===null)if(h)Ud(x,!1);else{if(ga!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(j=Mf(n),j!==null){for(i.flags|=128,Ud(x,!1),n=j.updateQueue,i.updateQueue=n,Ff(i,n),i.subtreeFlags=0,n=c,c=i.child;c!==null;)Nd(c,n),c=c.sibling;return me($a,$a.current&1|2),i.child}n=n.sibling}x.tail!==null&&ye()>qf&&(i.flags|=128,h=!0,Ud(x,!1),i.lanes=4194304)}else{if(!h)if(n=Mf(j),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,Ff(i,n),Ud(x,!0),x.tail===null&&x.tailMode==="hidden"&&!j.alternate&&!Ir)return ua(i),null}else 2*ye()-x.renderingStartTime>qf&&c!==536870912&&(i.flags|=128,h=!0,Ud(x,!1),i.lanes=4194304);x.isBackwards?(j.sibling=i.child,i.child=j):(n=x.last,n!==null?n.sibling=j:i.child=j,x.last=j)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=ye(),i.sibling=null,n=$a.current,me($a,h?n&1|2:n&1),i):(ua(i),null);case 22:case 23:return ko(i),mn(),h=i.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(c&536870912)!==0&&(i.flags&128)===0&&(ua(i),i.subtreeFlags&6&&(i.flags|=8192)):ua(i),c=i.updateQueue,c!==null&&Ff(i,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==c&&(i.flags|=2048),n!==null&&ne(Ks),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),qa(ma),ua(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function PN(n,i){switch(_d(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qa(ma),yt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return xt(i),null;case 13:if(ko(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Sn()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ne($a),null;case 4:return yt(),null;case 10:return qa(i.type),null;case 22:case 23:return ko(i),mn(),n!==null&&ne(Ks),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return qa(ma),null;case 25:return null;default:return null}}function fb(n,i){switch(_d(i),i.tag){case 3:qa(ma),yt();break;case 26:case 27:case 5:xt(i);break;case 4:yt();break;case 13:ko(i);break;case 19:ne($a);break;case 10:qa(i.type);break;case 22:case 23:ko(i),mn(),n!==null&&ne(Ks);break;case 24:qa(ma)}}function Fd(n,i){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var x=h.next;c=x;do{if((c.tag&n)===n){h=void 0;var j=c.create,L=c.inst;h=j(),L.destroy=h}c=c.next}while(c!==x)}}catch(K){Jr(i,i.return,K)}}function ii(n,i,c){try{var h=i.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var j=x.next;h=j;do{if((h.tag&n)===n){var L=h.inst,K=L.destroy;if(K!==void 0){L.destroy=void 0,x=i;var ge=c,Ie=K;try{Ie()}catch(Je){Jr(x,ge,Je)}}}h=h.next}while(h!==j)}}catch(Je){Jr(i,i.return,Je)}}function hb(n){var i=n.updateQueue;if(i!==null){var c=n.stateNode;try{Xt(i,c)}catch(h){Jr(n,n.return,h)}}}function mb(n,i,c){c.props=sl(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(h){Jr(n,i,h)}}function zd(n,i){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof c=="function"?n.refCleanup=c(h):c.current=h}}catch(x){Jr(n,i,x)}}function Qs(n,i){var c=n.ref,h=n.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(x){Jr(n,i,x)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){Jr(n,i,x)}else c.current=null}function gb(n){var i=n.type,c=n.memoizedProps,h=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(x){Jr(n,n.return,x)}}function vm(n,i,c){try{var h=n.stateNode;tk(h,n.type,c,i),h[Ae]=i}catch(x){Jr(n,n.return,x)}}function pb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gi(n.type)||n.tag===4}function wm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jm(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(n),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Zf));else if(h!==4&&(h===27&&gi(n.type)&&(c=n.stateNode,i=null),n=n.child,n!==null))for(jm(n,i,c),n=n.sibling;n!==null;)jm(n,i,c),n=n.sibling}function zf(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(h!==4&&(h===27&&gi(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(zf(n,i,c),n=n.sibling;n!==null;)zf(n,i,c),n=n.sibling}function yb(n){var i=n.stateNode,c=n.memoizedProps;try{for(var h=n.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Va(i,h,c),i[Ke]=n,i[Ae]=c}catch(j){Jr(n,n.return,j)}}var Co=!1,va=!1,Nm=!1,xb=typeof WeakSet=="function"?WeakSet:Set,Ua=null;function MN(n,i){if(n=n.containerInfo,Km=s0,n=yd(n),xd(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var x=h.anchorOffset,j=h.focusNode;h=h.focusOffset;try{c.nodeType,j.nodeType}catch(Jt){c=null;break e}var L=0,K=-1,ge=-1,Ie=0,Je=0,ot=n,Fe=null;t:for(;;){for(var He;ot!==c||x!==0&&ot.nodeType!==3||(K=L+x),ot!==j||h!==0&&ot.nodeType!==3||(ge=L+h),ot.nodeType===3&&(L+=ot.nodeValue.length),(He=ot.firstChild)!==null;)Fe=ot,ot=He;for(;;){if(ot===n)break t;if(Fe===c&&++Ie===x&&(K=L),Fe===j&&++Je===h&&(ge=L),(He=ot.nextSibling)!==null)break;ot=Fe,Fe=ot.parentNode}ot=He}c=K===-1||ge===-1?null:{start:K,end:ge}}else c=null}c=c||{start:0,end:0}}else c=null;for(Wm={focusedElem:n,selectionRange:c},s0=!1,Ua=i;Ua!==null;)if(i=Ua,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ua=n;else for(;Ua!==null;){switch(i=Ua,j=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&j!==null){n=void 0,c=i,x=j.memoizedProps,j=j.memoizedState,h=c.stateNode;try{var ir=sl(c.type,x,c.elementType===c.type);n=h.getSnapshotBeforeUpdate(ir,j),h.__reactInternalSnapshotBeforeUpdate=n}catch(Jt){Jr(c,c.return,Jt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,c=n.nodeType,c===9)Xm(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ua=n;break}Ua=i.return}}function bb(n,i,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:li(n,c),h&4&&Fd(5,c);break;case 1:if(li(n,c),h&4)if(n=c.stateNode,i===null)try{n.componentDidMount()}catch(L){Jr(c,c.return,L)}else{var x=sl(c.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(x,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Jr(c,c.return,L)}}h&64&&hb(c),h&512&&zd(c,c.return);break;case 3:if(li(n,c),h&64&&(n=c.updateQueue,n!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{Xt(n,i)}catch(L){Jr(c,c.return,L)}}break;case 27:i===null&&h&4&&yb(c);case 26:case 5:li(n,c),i===null&&h&4&&gb(c),h&512&&zd(c,c.return);break;case 12:li(n,c);break;case 13:li(n,c),h&4&&jb(n,c),h&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=HN.bind(null,c),lk(n,c))));break;case 22:if(h=c.memoizedState!==null||Co,!h){i=i!==null&&i.memoizedState!==null||va,x=Co;var j=va;Co=h,(va=i)&&!j?ci(n,c,(c.subtreeFlags&8772)!==0):li(n,c),Co=x,va=j}break;case 30:break;default:li(n,c)}}function vb(n){var i=n.alternate;i!==null&&(n.alternate=null,vb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&tr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ia=null,En=!1;function $o(n,i,c){for(c=c.child;c!==null;)wb(n,i,c),c=c.sibling}function wb(n,i,c){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ht,c)}catch(j){}switch(c.tag){case 26:va||Qs(c,i),$o(n,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:va||Qs(c,i);var h=ia,x=En;gi(c.type)&&(ia=c.stateNode,En=!1),$o(n,i,c),Qd(c.stateNode),ia=h,En=x;break;case 5:va||Qs(c,i);case 6:if(h=ia,x=En,ia=null,$o(n,i,c),ia=h,En=x,ia!==null)if(En)try{(ia.nodeType===9?ia.body:ia.nodeName==="HTML"?ia.ownerDocument.body:ia).removeChild(c.stateNode)}catch(j){Jr(c,i,j)}else try{ia.removeChild(c.stateNode)}catch(j){Jr(c,i,j)}break;case 18:ia!==null&&(En?(n=ia,cv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),nu(n)):cv(ia,c.stateNode));break;case 4:h=ia,x=En,ia=c.stateNode.containerInfo,En=!0,$o(n,i,c),ia=h,En=x;break;case 0:case 11:case 14:case 15:va||ii(2,c,i),va||ii(4,c,i),$o(n,i,c);break;case 1:va||(Qs(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"&&mb(c,i,h)),$o(n,i,c);break;case 21:$o(n,i,c);break;case 22:va=(h=va)||c.memoizedState!==null,$o(n,i,c),va=h;break;default:$o(n,i,c)}}function jb(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nu(n)}catch(c){Jr(i,i.return,c)}}function DN(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new xb),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new xb),i;default:throw Error(s(435,n.tag))}}function km(n,i){var c=DN(n);i.forEach(function(h){var x=GN.bind(null,n,h);c.has(h)||(c.add(h),h.then(x,x))})}function Fn(n,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var x=c[h],j=n,L=i,K=L;e:for(;K!==null;){switch(K.tag){case 27:if(gi(K.type)){ia=K.stateNode,En=!1;break e}break;case 5:ia=K.stateNode,En=!1;break e;case 3:case 4:ia=K.stateNode.containerInfo,En=!0;break e}K=K.return}if(ia===null)throw Error(s(160));wb(j,L,x),ia=null,En=!1,j=x.alternate,j!==null&&(j.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Nb(i,n),i=i.sibling}var js=null;function Nb(n,i){var c=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Fn(i,n),zn(n),h&4&&(ii(3,n,n.return),Fd(3,n),ii(5,n,n.return));break;case 1:Fn(i,n),zn(n),h&512&&(va||c===null||Qs(c,c.return)),h&64&&Co&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var x=js;if(Fn(i,n),zn(n),h&512&&(va||c===null||Qs(c,c.return)),h&4){var j=c!==null?c.memoizedState:null;if(h=n.memoizedState,c===null)if(h===null)if(n.stateNode===null){e:{h=n.type,c=n.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":j=x.getElementsByTagName("title")[0],(!j||j[Ft]||j[Ke]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=x.createElement(h),x.head.insertBefore(j,x.querySelector("head > title"))),Va(j,h,c),j[Ke]=n,Yt(j),h=j;break e;case"link":var L=yv("link","href",x).get(h+(c.href||""));if(L){for(var K=0;K<L.length;K++)if(j=L[K],j.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&j.getAttribute("rel")===(c.rel==null?null:c.rel)&&j.getAttribute("title")===(c.title==null?null:c.title)&&j.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){L.splice(K,1);break t}}j=x.createElement(h),Va(j,h,c),x.head.appendChild(j);break;case"meta":if(L=yv("meta","content",x).get(h+(c.content||""))){for(K=0;K<L.length;K++)if(j=L[K],j.getAttribute("content")===(c.content==null?null:""+c.content)&&j.getAttribute("name")===(c.name==null?null:c.name)&&j.getAttribute("property")===(c.property==null?null:c.property)&&j.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&j.getAttribute("charset")===(c.charSet==null?null:c.charSet)){L.splice(K,1);break t}}j=x.createElement(h),Va(j,h,c),x.head.appendChild(j);break;default:throw Error(s(468,h))}j[Ke]=n,Yt(j),h=j}n.stateNode=h}else xv(x,n.type,n.stateNode);else n.stateNode=pv(x,h,n.memoizedProps);else j!==h?(j===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):j.count--,h===null?xv(x,n.type,n.stateNode):pv(x,h,n.memoizedProps)):h===null&&n.stateNode!==null&&vm(n,n.memoizedProps,c.memoizedProps)}break;case 27:Fn(i,n),zn(n),h&512&&(va||c===null||Qs(c,c.return)),c!==null&&h&4&&vm(n,n.memoizedProps,c.memoizedProps);break;case 5:if(Fn(i,n),zn(n),h&512&&(va||c===null||Qs(c,c.return)),n.flags&32){x=n.stateNode;try{Us(x,"")}catch(He){Jr(n,n.return,He)}}h&4&&n.stateNode!=null&&(x=n.memoizedProps,vm(n,x,c!==null?c.memoizedProps:x)),h&1024&&(Nm=!0);break;case 6:if(Fn(i,n),zn(n),h&4){if(n.stateNode===null)throw Error(s(162));h=n.memoizedProps,c=n.stateNode;try{c.nodeValue=h}catch(He){Jr(n,n.return,He)}}break;case 3:if(r0=null,x=js,js=e0(i.containerInfo),Fn(i,n),js=x,zn(n),h&4&&c!==null&&c.memoizedState.isDehydrated)try{nu(i.containerInfo)}catch(He){Jr(n,n.return,He)}Nm&&(Nm=!1,kb(n));break;case 4:h=js,js=e0(n.stateNode.containerInfo),Fn(i,n),zn(n),js=h;break;case 12:Fn(i,n),zn(n);break;case 13:Fn(i,n),zn(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Tm=ye()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,km(n,h)));break;case 22:x=n.memoizedState!==null;var ge=c!==null&&c.memoizedState!==null,Ie=Co,Je=va;if(Co=Ie||x,va=Je||ge,Fn(i,n),va=Je,Co=Ie,zn(n),h&8192)e:for(i=n.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(c===null||ge||Co||va||ol(n)),c=null,i=n;;){if(i.tag===5||i.tag===26){if(c===null){ge=c=i;try{if(j=ge.stateNode,x)L=j.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{K=ge.stateNode;var ot=ge.memoizedProps.style,Fe=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;K.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(He){Jr(ge,ge.return,He)}}}else if(i.tag===6){if(c===null){ge=i;try{ge.stateNode.nodeValue=x?"":ge.memoizedProps}catch(He){Jr(ge,ge.return,He)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=n.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,km(n,c))));break;case 19:Fn(i,n),zn(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,km(n,h)));break;case 30:break;case 21:break;default:Fn(i,n),zn(n)}}function zn(n){var i=n.flags;if(i&2){try{for(var c,h=n.return;h!==null;){if(pb(h)){c=h;break}h=h.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var x=c.stateNode,j=wm(n);zf(n,j,x);break;case 5:var L=c.stateNode;c.flags&32&&(Us(L,""),c.flags&=-33);var K=wm(n);zf(n,K,L);break;case 3:case 4:var ge=c.stateNode.containerInfo,Ie=wm(n);jm(n,Ie,ge);break;default:throw Error(s(161))}}catch(Je){Jr(n,n.return,Je)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function kb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;kb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function li(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)bb(n,i.alternate,i),i=i.sibling}function ol(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ii(4,i,i.return),ol(i);break;case 1:Qs(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&mb(i,i.return,c),ol(i);break;case 27:Qd(i.stateNode);case 26:case 5:Qs(i,i.return),ol(i);break;case 22:i.memoizedState===null&&ol(i);break;case 30:ol(i);break;default:ol(i)}n=n.sibling}}function ci(n,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,x=n,j=i,L=j.flags;switch(j.tag){case 0:case 11:case 15:ci(x,j,c),Fd(4,j);break;case 1:if(ci(x,j,c),h=j,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Ie){Jr(h,h.return,Ie)}if(h=j,x=h.updateQueue,x!==null){var K=h.stateNode;try{var ge=x.shared.hiddenCallbacks;if(ge!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ge.length;x++)wt(ge[x],K)}catch(Ie){Jr(h,h.return,Ie)}}c&&L&64&&hb(j),zd(j,j.return);break;case 27:yb(j);case 26:case 5:ci(x,j,c),c&&h===null&&L&4&&gb(j),zd(j,j.return);break;case 12:ci(x,j,c);break;case 13:ci(x,j,c),c&&L&4&&jb(x,j);break;case 22:j.memoizedState===null&&ci(x,j,c),zd(j,j.return);break;case 30:break;default:ci(x,j,c)}i=i.sibling}}function _m(n,i){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&ri(c))}function Sm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ri(n))}function Xs(n,i,c,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_b(n,i,c,h),i=i.sibling}function _b(n,i,c,h){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Xs(n,i,c,h),x&2048&&Fd(9,i);break;case 1:Xs(n,i,c,h);break;case 3:Xs(n,i,c,h),x&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ri(n)));break;case 12:if(x&2048){Xs(n,i,c,h),n=i.stateNode;try{var j=i.memoizedProps,L=j.id,K=j.onPostCommit;typeof K=="function"&&K(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ge){Jr(i,i.return,ge)}}else Xs(n,i,c,h);break;case 13:Xs(n,i,c,h);break;case 23:break;case 22:j=i.stateNode,L=i.alternate,i.memoizedState!==null?j._visibility&2?Xs(n,i,c,h):Bd(n,i):j._visibility&2?Xs(n,i,c,h):(j._visibility|=2,lc(n,i,c,h,(i.subtreeFlags&10256)!==0)),x&2048&&_m(L,i);break;case 24:Xs(n,i,c,h),x&2048&&Sm(i.alternate,i);break;default:Xs(n,i,c,h)}}function lc(n,i,c,h,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var j=n,L=i,K=c,ge=h,Ie=L.flags;switch(L.tag){case 0:case 11:case 15:lc(j,L,K,ge,x),Fd(8,L);break;case 23:break;case 22:var Je=L.stateNode;L.memoizedState!==null?Je._visibility&2?lc(j,L,K,ge,x):Bd(j,L):(Je._visibility|=2,lc(j,L,K,ge,x)),x&&Ie&2048&&_m(L.alternate,L);break;case 24:lc(j,L,K,ge,x),x&&Ie&2048&&Sm(L.alternate,L);break;default:lc(j,L,K,ge,x)}i=i.sibling}}function Bd(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=n,h=i,x=h.flags;switch(h.tag){case 22:Bd(c,h),x&2048&&_m(h.alternate,h);break;case 24:Bd(c,h),x&2048&&Sm(h.alternate,h);break;default:Bd(c,h)}i=i.sibling}}var qd=8192;function cc(n){if(n.subtreeFlags&qd)for(n=n.child;n!==null;)Sb(n),n=n.sibling}function Sb(n){switch(n.tag){case 26:cc(n),n.flags&qd&&n.memoizedState!==null&&wk(js,n.memoizedState,n.memoizedProps);break;case 5:cc(n);break;case 3:case 4:var i=js;js=e0(n.stateNode.containerInfo),cc(n),js=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=qd,qd=16777216,cc(n),qd=i):cc(n));break;default:cc(n)}}function Cb(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Hd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];Ua=h,Eb(h,n)}Cb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$b(n),n=n.sibling}function $b(n){switch(n.tag){case 0:case 11:case 15:Hd(n),n.flags&2048&&ii(9,n,n.return);break;case 3:Hd(n);break;case 12:Hd(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Bf(n)):Hd(n);break;default:Hd(n)}}function Bf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];Ua=h,Eb(h,n)}Cb(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ii(8,i,i.return),Bf(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Bf(i));break;default:Bf(i)}n=n.sibling}}function Eb(n,i){for(;Ua!==null;){var c=Ua;switch(c.tag){case 0:case 11:case 15:ii(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ri(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Ua=h;else e:for(c=n;Ua!==null;){h=Ua;var x=h.sibling,j=h.return;if(vb(h),h===c){Ua=null;break e}if(x!==null){x.return=j,Ua=x;break e}Ua=j}}}var IN={getCacheForType:function(n){var i=Ia(ma),c=i.data.get(n);return c===void 0&&(c=n(),i.data.set(n,c)),c}},LN=typeof WeakMap=="function"?WeakMap:Map,Kr=0,ta=null,Cr=null,Mr=0,Wr=0,Bn=null,di=!1,dc=!1,Cm=!1,Eo=0,ga=0,ui=0,il=0,$m=0,ts=0,uc=0,Gd=null,Tn=null,Em=!1,Tm=0,qf=1/0,Hf=null,fi=null,Ga=0,hi=null,fc=null,hc=0,Om=0,Am=null,Tb=null,Vd=0,Rm=null;function qn(){if((Kr&2)!==0&&Mr!==0)return Mr&-Mr;if(ie.T!==null){var n=ai;return n!==0?n:Fm()}return fe()}function Ob(){ts===0&&(ts=(Mr&536870912)===0||Ir?na():536870912);var n=es.current;return n!==null&&(n.flags|=32),ts}function Hn(n,i,c){(n===ta&&(Wr===2||Wr===9)||n.cancelPendingCommit!==null)&&(mc(n,0),mi(n,Mr,ts,!1)),Ka(n,c),((Kr&2)===0||n!==ta)&&(n===ta&&((Kr&2)===0&&(il|=c),ga===4&&mi(n,Mr,ts,!1)),Zs(n))}function Ab(n,i,c){if((Kr&6)!==0)throw Error(s(327));var h=!c&&(i&124)===0&&(i&n.expiredLanes)===0||nr(n,i),x=h?zN(n,i):Dm(n,i,!0),j=h;do{if(x===0){dc&&!h&&mi(n,i,0,!1);break}else{if(c=n.current.alternate,j&&!UN(c)){x=Dm(n,i,!1),j=!1;continue}if(x===2){if(j=i,n.errorRecoveryDisabledLanes&j)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var K=n;x=Gd;var ge=K.current.memoizedState.isDehydrated;if(ge&&(mc(K,L).flags|=256),L=Dm(K,L,!1),L!==2){if(Cm&&!ge){K.errorRecoveryDisabledLanes|=j,il|=j,x=4;break e}j=Tn,Tn=x,j!==null&&(Tn===null?Tn=j:Tn.push.apply(Tn,j))}x=L}if(j=!1,x!==2)continue}}if(x===1){mc(n,0),mi(n,i,0,!0);break}e:{switch(h=n,j=x,j){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:mi(h,i,ts,!di);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=Tm+300-ye(),10<x)){if(mi(h,i,ts,!di),er(h,0,!0)!==0)break e;h.timeoutHandle=iv(Rb.bind(null,h,c,Tn,Hf,Em,i,ts,il,uc,di,j,2,-0,0),x);break e}Rb(h,c,Tn,Hf,Em,i,ts,il,uc,di,j,0,-0,0)}}break}while(!0);Zs(n)}function Rb(n,i,c,h,x,j,L,K,ge,Ie,Je,ot,Fe,He){if(n.timeoutHandle=-1,ot=i.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(Jd={stylesheets:null,count:0,unsuspend:vk},Sb(i),ot=jk(),ot!==null)){n.cancelPendingCommit=ot(Fb.bind(null,n,i,j,c,h,x,L,K,ge,Je,1,Fe,He)),mi(n,j,L,!Ie);return}Fb(n,i,j,c,h,x,L,K,ge)}function UN(n){for(var i=n;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var x=c[h],j=x.getSnapshot;x=x.value;try{if(!Ja(j(),x))return!1}catch(L){return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(n,i,c,h){i&=~$m,i&=~il,n.suspendedLanes|=i,n.pingedLanes&=~i,h&&(n.warmLanes|=i),h=n.expirationTimes;for(var x=i;0<x;){var j=31-ve(x),L=1<<j;h[j]=-1,x&=~L}c!==0&&Wa(n,c,i)}function Gf(){return(Kr&6)===0?(Kd(0),!1):!0}function Pm(){if(Cr!==null){if(Wr===0)var n=Cr.return;else n=Cr,vs=Gs=null,Xh(n),oc=null,Id=0,n=Cr;for(;n!==null;)fb(n.alternate,n),n=n.return;Cr=null}}function mc(n,i){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,ak(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Pm(),ta=n,Cr=c=Nn(n.current,null),Mr=i,Wr=0,Bn=null,di=!1,dc=nr(n,i),Cm=!1,uc=ts=$m=il=ui=ga=0,Tn=Gd=null,Em=!1,(i&8)!==0&&(i|=i&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=i;0<h;){var x=31-ve(h),j=1<<x;i|=n[x],h&=~j}return Eo=i,Xl(),c}function Pb(n,i){fr=null,ie.H=Af,i===p||i===g?(i=I(),Wr=3):i===v?(i=I(),Wr=4):Wr=i===Zx?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bn=i,Cr===null&&(ga=1,If(n,ja(i,n.current)))}function Mb(){var n=ie.H;return ie.H=Af,n===null?Af:n}function Db(){var n=ie.A;return ie.A=IN,n}function Mm(){ga=4,di||(Mr&4194048)!==Mr&&es.current!==null||(dc=!0),(ui&134217727)===0&&(il&134217727)===0||ta===null||mi(ta,Mr,ts,!1)}function Dm(n,i,c){var h=Kr;Kr|=2;var x=Mb(),j=Db();(ta!==n||Mr!==i)&&(Hf=null,mc(n,i)),i=!1;var L=ga;e:do try{if(Wr!==0&&Cr!==null){var K=Cr,ge=Bn;switch(Wr){case 8:Pm(),L=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(i=!0);var Ie=Wr;if(Wr=0,Bn=null,gc(n,K,ge,Ie),c&&dc){L=0;break e}break;default:Ie=Wr,Wr=0,Bn=null,gc(n,K,ge,Ie)}}FN(),L=ga;break}catch(Je){Pb(n,Je)}while(!0);return i&&n.shellSuspendCounter++,vs=Gs=null,Kr=h,ie.H=x,ie.A=j,Cr===null&&(ta=null,Mr=0,Xl()),L}function FN(){for(;Cr!==null;)Ib(Cr)}function zN(n,i){var c=Kr;Kr|=2;var h=Mb(),x=Db();ta!==n||Mr!==i?(Hf=null,qf=ye()+500,mc(n,i)):dc=nr(n,i);e:do try{if(Wr!==0&&Cr!==null){i=Cr;var j=Bn;t:switch(Wr){case 1:Wr=0,Bn=null,gc(n,i,j,1);break;case 2:case 9:if(w(j)){Wr=0,Bn=null,Lb(i);break}i=function(){Wr!==2&&Wr!==9||ta!==n||(Wr=7),Zs(n)},j.then(i,i);break e;case 3:Wr=7;break e;case 4:Wr=5;break e;case 7:w(j)?(Wr=0,Bn=null,Lb(i)):(Wr=0,Bn=null,gc(n,i,j,7));break;case 5:var L=null;switch(Cr.tag){case 26:L=Cr.memoizedState;case 5:case 27:var K=Cr;if(!L||bv(L)){Wr=0,Bn=null;var ge=K.sibling;if(ge!==null)Cr=ge;else{var Ie=K.return;Ie!==null?(Cr=Ie,Vf(Ie)):Cr=null}break t}}Wr=0,Bn=null,gc(n,i,j,5);break;case 6:Wr=0,Bn=null,gc(n,i,j,6);break;case 8:Pm(),ga=6;break e;default:throw Error(s(462))}}BN();break}catch(Je){Pb(n,Je)}while(!0);return vs=Gs=null,ie.H=h,ie.A=x,Kr=c,Cr!==null?0:(ta=null,Mr=0,Xl(),ga)}function BN(){for(;Cr!==null&&!st();)Ib(Cr)}function Ib(n){var i=db(n.alternate,n,Eo);n.memoizedProps=n.pendingProps,i===null?Vf(n):Cr=i}function Lb(n){var i=n,c=i.alternate;switch(i.tag){case 15:case 0:i=nb(c,i,i.pendingProps,i.type,void 0,Mr);break;case 11:i=nb(c,i,i.pendingProps,i.type.render,i.ref,Mr);break;case 5:Xh(i);default:fb(c,i),i=Cr=Nd(i,Eo),i=db(c,i,Eo)}n.memoizedProps=n.pendingProps,i===null?Vf(n):Cr=i}function gc(n,i,c,h){vs=Gs=null,Xh(i),oc=null,Id=0;var x=i.return;try{if(ON(n,x,i,c,Mr)){ga=1,If(n,ja(c,n.current)),Cr=null;return}}catch(j){if(x!==null)throw Cr=x,j;ga=1,If(n,ja(c,n.current)),Cr=null;return}i.flags&32768?(Ir||h===1?n=!0:dc||(Mr&536870912)!==0?n=!1:(di=n=!0,(h===2||h===9||h===3||h===6)&&(h=es.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ub(i,n)):Vf(i)}function Vf(n){var i=n;do{if((i.flags&32768)!==0){Ub(i,di);return}n=i.return;var c=RN(i.alternate,i,Eo);if(c!==null){Cr=c;return}if(i=i.sibling,i!==null){Cr=i;return}Cr=i=n}while(i!==null);ga===0&&(ga=5)}function Ub(n,i){do{var c=PN(n.alternate,n);if(c!==null){c.flags&=32767,Cr=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(n=n.sibling,n!==null)){Cr=n;return}Cr=n=c}while(n!==null);ga=6,Cr=null}function Fb(n,i,c,h,x,j,L,K,ge){n.cancelPendingCommit=null;do Kf();while(Ga!==0);if((Kr&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(j=i.lanes|i.childLanes,j|=Ql,vn(n,c,j,L,K,ge),n===ta&&(Cr=ta=null,Mr=0),fc=i,hi=n,hc=c,Om=j,Am=x,Tb=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,VN(Kt,function(){return Gb(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=ie.T,ie.T=null,x=te.p,te.p=2,L=Kr,Kr|=4;try{MN(n,i,c)}finally{Kr=L,te.p=x,ie.T=h}}Ga=1,zb(),Bb(),qb()}}function zb(){if(Ga===1){Ga=0;var n=hi,i=fc,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=ie.T,ie.T=null;var h=te.p;te.p=2;var x=Kr;Kr|=4;try{Nb(i,n);var j=Wm,L=yd(n.containerInfo),K=j.focusedElem,ge=j.selectionRange;if(L!==K&&K&&K.ownerDocument&&Vl(K.ownerDocument.documentElement,K)){if(ge!==null&&xd(K)){var Ie=ge.start,Je=ge.end;if(Je===void 0&&(Je=Ie),"selectionStart"in K)K.selectionStart=Ie,K.selectionEnd=Math.min(Je,K.value.length);else{var ot=K.ownerDocument||document,Fe=ot&&ot.defaultView||window;if(Fe.getSelection){var He=Fe.getSelection(),ir=K.textContent.length,Jt=Math.min(ge.start,ir),Xr=ge.end===void 0?Jt:Math.min(ge.end,ir);!He.extend&&Jt>Xr&&(L=Xr,Xr=Jt,Jt=L);var Re=pd(K,Jt),Ce=pd(K,Xr);if(Re&&Ce&&(He.rangeCount!==1||He.anchorNode!==Re.node||He.anchorOffset!==Re.offset||He.focusNode!==Ce.node||He.focusOffset!==Ce.offset)){var Me=ot.createRange();Me.setStart(Re.node,Re.offset),He.removeAllRanges(),Jt>Xr?(He.addRange(Me),He.extend(Ce.node,Ce.offset)):(Me.setEnd(Ce.node,Ce.offset),He.addRange(Me))}}}}for(ot=[],He=K;He=He.parentNode;)He.nodeType===1&&ot.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<ot.length;K++){var rt=ot[K];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}s0=!!Km,Wm=Km=null}finally{Kr=x,te.p=h,ie.T=c}}n.current=i,Ga=2}}function Bb(){if(Ga===2){Ga=0;var n=hi,i=fc,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=ie.T,ie.T=null;var h=te.p;te.p=2;var x=Kr;Kr|=4;try{bb(n,i.alternate,i)}finally{Kr=x,te.p=h,ie.T=c}}Ga=3}}function qb(){if(Ga===4||Ga===3){Ga=0,Ot();var n=hi,i=fc,c=hc,h=Tb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ga=5:(Ga=0,fc=hi=null,Hb(n,n.pendingLanes));var x=n.pendingLanes;if(x===0&&(fi=null),Er(c),i=i.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch(ge){}if(h!==null){i=ie.T,x=te.p,te.p=2,ie.T=null;try{for(var j=n.onRecoverableError,L=0;L<h.length;L++){var K=h[L];j(K.value,{componentStack:K.stack})}}finally{ie.T=i,te.p=x}}(hc&3)!==0&&Kf(),Zs(n),x=n.pendingLanes,(c&4194090)!==0&&(x&42)!==0?n===Rm?Vd++:(Vd=0,Rm=n):Vd=0,Kd(0)}}function Hb(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ri(i)))}function Kf(n){return zb(),Bb(),qb(),Gb()}function Gb(){if(Ga!==5)return!1;var n=hi,i=Om;Om=0;var c=Er(hc),h=ie.T,x=te.p;try{te.p=32>c?32:c,ie.T=null,c=Am,Am=null;var j=hi,L=hc;if(Ga=0,fc=hi=null,hc=0,(Kr&6)!==0)throw Error(s(331));var K=Kr;if(Kr|=4,$b(j.current),_b(j,j.current,L,c),Kr=K,Kd(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ht,j)}catch(ge){}return!0}finally{te.p=x,ie.T=h,Hb(n,i)}}function Vb(n,i,c){i=ja(c,i),i=um(n.stateNode,i,2),n=Be(n,i,2),n!==null&&(Ka(n,2),Zs(n))}function Jr(n,i,c){if(n.tag===3)Vb(n,n,c);else for(;i!==null;){if(i.tag===3){Vb(i,n,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(fi===null||!fi.has(h))){n=ja(c,n),c=Qx(2),h=Be(i,c,2),h!==null&&(Xx(c,h,i,n),Ka(h,2),Zs(h));break}}i=i.return}}function Im(n,i,c){var h=n.pingCache;if(h===null){h=n.pingCache=new LN;var x=new Set;h.set(i,x)}else x=h.get(i),x===void 0&&(x=new Set,h.set(i,x));x.has(c)||(Cm=!0,x.add(c),n=qN.bind(null,n,i,c),i.then(n,n))}function qN(n,i,c){var h=n.pingCache;h!==null&&h.delete(i),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,ta===n&&(Mr&c)===c&&(ga===4||ga===3&&(Mr&62914560)===Mr&&300>ye()-Tm?(Kr&2)===0&&mc(n,0):$m|=c,uc===Mr&&(uc=0)),Zs(n)}function Kb(n,i){i===0&&(i=yr()),n=ei(n,i),n!==null&&(Ka(n,i),Zs(n))}function HN(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),Kb(n,c)}function GN(n,i){var c=0;switch(n.tag){case 13:var h=n.stateNode,x=n.memoizedState;x!==null&&(c=x.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(i),Kb(n,c)}function VN(n,i){return gr(n,i)}var Wf=null,pc=null,Lm=!1,Yf=!1,Um=!1,ll=0;function Zs(n){n!==pc&&n.next===null&&(pc===null?Wf=pc=n:pc=pc.next=n),Yf=!0,Lm||(Lm=!0,WN())}function Kd(n,i){if(!Um&&Yf){Um=!0;do for(var c=!1,h=Wf;h!==null;){if(n!==0){var x=h.pendingLanes;if(x===0)var j=0;else{var L=h.suspendedLanes,K=h.pingedLanes;j=(1<<31-ve(42|n)+1)-1,j&=x&~(L&~K),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(c=!0,Xb(h,j))}else j=Mr,j=er(h,h===ta?j:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(j&3)===0||nr(h,j)||(c=!0,Xb(h,j));h=h.next}while(c);Um=!1}}function KN(){Wb()}function Wb(){Yf=Lm=!1;var n=0;ll!==0&&(rk()&&(n=ll),ll=0);for(var i=ye(),c=null,h=Wf;h!==null;){var x=h.next,j=Yb(h,i);j===0?(h.next=null,c===null?Wf=x:c.next=x,x===null&&(pc=c)):(c=h,(n!==0||(j&3)!==0)&&(Yf=!0)),h=x}Kd(n)}function Yb(n,i){for(var c=n.suspendedLanes,h=n.pingedLanes,x=n.expirationTimes,j=n.pendingLanes&-62914561;0<j;){var L=31-ve(j),K=1<<L,ge=x[L];ge===-1?((K&c)===0||(K&h)!==0)&&(x[L]=br(K,i)):ge<=i&&(n.expiredLanes|=K),j&=~K}if(i=ta,c=Mr,c=er(n,n===i?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,c===0||n===i&&(Wr===2||Wr===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&xe(h),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||nr(n,c)){if(i=c&-c,i===n.callbackPriority)return i;switch(h!==null&&xe(h),Er(c)){case 2:case 8:c=mr;break;case 32:c=Kt;break;case 268435456:c=qe;break;default:c=Kt}return h=Qb.bind(null,n),c=gr(c,h),n.callbackPriority=i,n.callbackNode=c,i}return h!==null&&h!==null&&xe(h),n.callbackPriority=2,n.callbackNode=null,2}function Qb(n,i){if(Ga!==0&&Ga!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(Kf()&&n.callbackNode!==c)return null;var h=Mr;return h=er(n,n===ta?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(Ab(n,h,i),Yb(n,ye()),n.callbackNode!=null&&n.callbackNode===c?Qb.bind(null,n):null)}function Xb(n,i){if(Kf())return null;Ab(n,i,!0)}function WN(){nk(function(){(Kr&6)!==0?gr(lt,KN):Wb()})}function Fm(){return ll===0&&(ll=na()),ll}function Zb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Vo(""+n)}function Jb(n,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,n.id&&c.setAttribute("form",n.id),i.parentNode.insertBefore(c,i),n=new FormData(n),c.parentNode.removeChild(c),n}function YN(n,i,c,h,x){if(i==="submit"&&c&&c.stateNode===x){var j=Zb((x[Ae]||null).action),L=h.submitter;L&&(i=(i=L[Ae]||null)?Zb(i.formAction):L.getAttribute("formAction"),i!==null&&(j=i,L=null));var K=new Pa("action","action",null,h,x);n.push({event:K,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ll!==0){var ge=L?Jb(x,L):new FormData(x);om(c,{pending:!0,data:ge,method:x.method,action:j},null,ge)}}else typeof j=="function"&&(K.preventDefault(),ge=L?Jb(x,L):new FormData(x),om(c,{pending:!0,data:ge,method:x.method,action:j},j,ge))},currentTarget:x}]})}}for(var zm=0;zm<Yl.length;zm++){var Bm=Yl[zm],QN=Bm.toLowerCase(),XN=Bm[0].toUpperCase()+Bm.slice(1);In(QN,"on"+XN)}In(qs,"onAnimationEnd"),In(yf,"onAnimationIteration"),In(xf,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Hh,"onTransitionRun"),In(Gh,"onTransitionStart"),In(Vh,"onTransitionCancel"),In(bf,"onTransitionEnd"),sa("onMouseEnter",["mouseout","mouseover"]),sa("onMouseLeave",["mouseout","mouseover"]),sa("onPointerEnter",["pointerout","pointerover"]),sa("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wd));function ev(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var h=n[c],x=h.event;h=h.listeners;e:{var j=void 0;if(i)for(var L=h.length-1;0<=L;L--){var K=h[L],ge=K.instance,Ie=K.currentTarget;if(K=K.listener,ge!==j&&x.isPropagationStopped())break e;j=K,x.currentTarget=Ie;try{j(x)}catch(Je){Df(Je)}x.currentTarget=null,j=ge}else for(L=0;L<h.length;L++){if(K=h[L],ge=K.instance,Ie=K.currentTarget,K=K.listener,ge!==j&&x.isPropagationStopped())break e;j=K,x.currentTarget=Ie;try{j(x)}catch(Je){Df(Je)}x.currentTarget=null,j=ge}}}}function $r(n,i){var c=i[It];c===void 0&&(c=i[It]=new Set);var h=n+"__bubble";c.has(h)||(tv(i,n,2,!1),c.add(h))}function qm(n,i,c){var h=0;i&&(h|=4),tv(c,n,h,i)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function Hm(n){if(!n[Qf]){n[Qf]=!0,Ht.forEach(function(c){c!=="selectionchange"&&(ZN.has(c)||qm(c,!1,n),qm(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qf]||(i[Qf]=!0,qm("selectionchange",!1,i))}}function tv(n,i,c,h){switch(_v(i)){case 2:var x=_k;break;case 8:x=Sk;break;default:x=ng}c=x.bind(null,i,c,n),x=void 0,!Ko||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),h?x!==void 0?n.addEventListener(i,c,{capture:!0,passive:x}):n.addEventListener(i,c,!0):x!==void 0?n.addEventListener(i,c,{passive:x}):n.addEventListener(i,c,!1)}function Gm(n,i,c,h,x){var j=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var K=h.stateNode.containerInfo;if(K===x)break;if(L===4)for(L=h.return;L!==null;){var ge=L.tag;if((ge===3||ge===4)&&L.stateNode.containerInfo===x)return;L=L.return}for(;K!==null;){if(L=dr(K),L===null)return;if(ge=L.tag,ge===5||ge===6||ge===26||ge===27){h=j=L;continue e}K=K.parentNode}}h=h.return}Vi(function(){var Ie=j,Je=co(c),ot=[];e:{var Fe=Wl.get(n);if(Fe!==void 0){var He=Pa,ir=n;switch(n){case"keypress":if(Mn(c)===0)break e;case"keydown":case"keyup":He=Dn;break;case"focusin":ir="focus",He=_t;break;case"focusout":ir="blur",He=_t;break;case"beforeblur":case"afterblur":He=_t;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Se;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=$e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Fl;break;case qs:case yf:case xf:He=St;break;case bf:He=Lh;break;case"scroll":case"scrollend":He=Lr;break;case"wheel":He=Uh;break;case"copy":case"cut":case"paste":He=Hr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=Wo;break;case"toggle":case"beforetoggle":He=tf}var Jt=(i&4)!==0,Xr=!Jt&&(n==="scroll"||n==="scrollend"),Re=Jt?Fe!==null?Fe+"Capture":null:Fe;Jt=[];for(var Ce=Ie,Me;Ce!==null;){var rt=Ce;if(Me=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Me===null||Re===null||(rt=Yn(Ce,Re),rt!=null&&Jt.push(Yd(Ce,rt,Me))),Xr)break;Ce=Ce.return}0<Jt.length&&(Fe=new He(Fe,ir,null,c,Je),ot.push({event:Fe,listeners:Jt}))}}if((i&7)===0){e:{if(Fe=n==="mouseover"||n==="pointerover",He=n==="mouseout"||n==="pointerout",Fe&&c!==Hi&&(ir=c.relatedTarget||c.fromElement)&&(dr(ir)||ir[jt]))break e;if((He||Fe)&&(Fe=Je.window===Je?Je:(Fe=Je.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,He?(ir=c.relatedTarget||c.toElement,He=Ie,ir=ir?dr(ir):null,ir!==null&&(Xr=l(ir),Jt=ir.tag,ir!==Xr||Jt!==5&&Jt!==27&&Jt!==6)&&(ir=null)):(He=null,ir=Ie),He!==ir)){if(Jt=Se,rt="onMouseLeave",Re="onMouseEnter",Ce="mouse",(n==="pointerout"||n==="pointerover")&&(Jt=Wo,rt="onPointerLeave",Re="onPointerEnter",Ce="pointer"),Xr=He==null?Fe:qr(He),Me=ir==null?Fe:qr(ir),Fe=new Jt(rt,Ce+"leave",He,c,Je),Fe.target=Xr,Fe.relatedTarget=Me,rt=null,dr(Je)===Ie&&(Jt=new Jt(Re,Ce+"enter",ir,c,Je),Jt.target=Me,Jt.relatedTarget=Xr,rt=Jt),Xr=rt,He&&ir)t:{for(Jt=He,Re=ir,Ce=0,Me=Jt;Me;Me=yc(Me))Ce++;for(Me=0,rt=Re;rt;rt=yc(rt))Me++;for(;0<Ce-Me;)Jt=yc(Jt),Ce--;for(;0<Me-Ce;)Re=yc(Re),Me--;for(;Ce--;){if(Jt===Re||Re!==null&&Jt===Re.alternate)break t;Jt=yc(Jt),Re=yc(Re)}Jt=null}else Jt=null;He!==null&&rv(ot,Fe,He,Jt,!1),ir!==null&&Xr!==null&&rv(ot,Xr,ir,Jt,!0)}}e:{if(Fe=Ie?qr(Ie):window,He=Fe.nodeName&&Fe.nodeName.toLowerCase(),He==="select"||He==="input"&&Fe.type==="file")var Pt=fd;else if(Hl(Fe))if(ps)Pt=gf;else{Pt=mf;var Nr=Bh}else He=Fe.nodeName,!He||He.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Ie&&lo(Ie.elementType)&&(Pt=fd):Pt=qh;if(Pt&&(Pt=Pt(n,Ie))){uf(ot,Pt,c,Je);break e}Nr&&Nr(n,Fe,Ie),n==="focusout"&&Ie&&Fe.type==="number"&&Ie.memoizedProps.value!=null&&oo(Fe,"number",Fe.value)}switch(Nr=Ie?qr(Ie):window,n){case"focusin":(Hl(Nr)||Nr.contentEditable==="true")&&(mo=Nr,bd=Ie,Qo=null);break;case"focusout":Qo=bd=mo=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,Ji(ot,c,Je);break;case"selectionchange":if(pf)break;case"keydown":case"keyup":Ji(ot,c,Je)}var Gt;if(dd)e:{switch(n){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else Bs?ud(n,c)&&(rr="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(rr="onCompositionStart");rr&&(af&&c.locale!=="ko"&&(Bs||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&Bs&&(Gt=uo()):(dn=Je,Xa="value"in dn?dn.value:dn.textContent,Bs=!0)),Nr=Xf(Ie,rr),0<Nr.length&&(rr=new Vt(rr,n,null,c,Je),ot.push({event:rr,listeners:Nr}),Gt?rr.data=Gt:(Gt=of(c),Gt!==null&&(rr.data=Gt)))),(Gt=rf?lf(n,c):cf(n,c))&&(rr=Xf(Ie,"onBeforeInput"),0<rr.length&&(Nr=new Vt("onBeforeInput","beforeinput",null,c,Je),ot.push({event:Nr,listeners:rr}),Nr.data=Gt)),YN(ot,n,Ie,c,Je)}ev(ot,i)})}function Yd(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Xf(n,i){for(var c=i+"Capture",h=[];n!==null;){var x=n,j=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||j===null||(x=Yn(n,c),x!=null&&h.unshift(Yd(n,x,j)),x=Yn(n,i),x!=null&&h.push(Yd(n,x,j))),n.tag===3)return h;n=n.return}return[]}function yc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function rv(n,i,c,h,x){for(var j=i._reactName,L=[];c!==null&&c!==h;){var K=c,ge=K.alternate,Ie=K.stateNode;if(K=K.tag,ge!==null&&ge===h)break;K!==5&&K!==26&&K!==27||Ie===null||(ge=Ie,x?(Ie=Yn(c,j),Ie!=null&&L.unshift(Yd(c,Ie,ge))):x||(Ie=Yn(c,j),Ie!=null&&L.push(Yd(c,Ie,ge)))),c=c.return}L.length!==0&&n.push({event:i,listeners:L})}var JN=/\r\n?/g,ek=/\u0000|\uFFFD/g;function av(n){return(typeof n=="string"?n:""+n).replace(JN,`
`).replace(ek,"")}function nv(n,i){return i=av(i),av(n)===i}function Zf(){}function Qr(n,i,c,h,x,j){switch(c){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Us(n,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Us(n,""+h);break;case"className":Ca(n,"class",h);break;case"tabIndex":Ca(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(n,c,h);break;case"style":qi(n,h,j);break;case"data":if(i!=="object"){Ca(n,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||c!=="href")){n.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=Vo(""+h),n.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(c==="formAction"?(i!=="input"&&Qr(n,i,"name",x.name,x,null),Qr(n,i,"formEncType",x.formEncType,x,null),Qr(n,i,"formMethod",x.formMethod,x,null),Qr(n,i,"formTarget",x.formTarget,x,null)):(Qr(n,i,"encType",x.encType,x,null),Qr(n,i,"method",x.method,x,null),Qr(n,i,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=Vo(""+h),n.setAttribute(c,h);break;case"onClick":h!=null&&(n.onclick=Zf);break;case"onScroll":h!=null&&$r("scroll",n);break;case"onScrollEnd":h!=null&&$r("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(x.children!=null)throw Error(s(60));n.innerHTML=c}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}c=Vo(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""+h):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":h===!0?n.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,h):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(c,h):n.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(c):n.setAttribute(c,h);break;case"popover":$r("beforetoggle",n),$r("toggle",n),la(n,"popover",h);break;case"xlinkActuate":ur(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ur(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ur(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ur(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ur(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ur(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ur(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ur(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ur(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":la(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Go.get(c)||c,la(n,c,h))}}function Vm(n,i,c,h,x,j){switch(c){case"style":qi(n,h,j);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(x.children!=null)throw Error(s(60));n.innerHTML=c}}break;case"children":typeof h=="string"?Us(n,h):(typeof h=="number"||typeof h=="bigint")&&Us(n,""+h);break;case"onScroll":h!=null&&$r("scroll",n);break;case"onScrollEnd":h!=null&&$r("scrollend",n);break;case"onClick":h!=null&&(n.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),i=c.slice(2,x?c.length-7:void 0),j=n[Ae]||null,j=j!=null?j[c]:null,typeof j=="function"&&n.removeEventListener(i,j,x),typeof h=="function")){typeof j!="function"&&j!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(i,h,x);break e}c in n?n[c]=h:h===!0?n.setAttribute(c,""):la(n,c,h)}}}function Va(n,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$r("error",n),$r("load",n);var h=!1,x=!1,j;for(j in c)if(c.hasOwnProperty(j)){var L=c[j];if(L!=null)switch(j){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qr(n,i,j,L,c,null)}}x&&Qr(n,i,"srcSet",c.srcSet,c,null),h&&Qr(n,i,"src",c.src,c,null);return;case"input":$r("invalid",n);var K=j=L=x=null,ge=null,Ie=null;for(h in c)if(c.hasOwnProperty(h)){var Je=c[h];if(Je!=null)switch(h){case"name":x=Je;break;case"type":L=Je;break;case"checked":ge=Je;break;case"defaultChecked":Ie=Je;break;case"value":j=Je;break;case"defaultValue":K=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(s(137,i));break;default:Qr(n,i,h,Je,c,null)}}ds(n,j,K,ge,Ie,L,x,!1),Wt(n);return;case"select":$r("invalid",n),h=L=j=null;for(x in c)if(c.hasOwnProperty(x)&&(K=c[x],K!=null))switch(x){case"value":j=K;break;case"defaultValue":L=K;break;case"multiple":h=K;default:Qr(n,i,x,K,c,null)}i=j,c=L,n.multiple=!!h,i!=null?Pn(n,!!h,i,!1):c!=null&&Pn(n,!!h,c,!0);return;case"textarea":$r("invalid",n),j=x=h=null;for(L in c)if(c.hasOwnProperty(L)&&(K=c[L],K!=null))switch(L){case"value":h=K;break;case"defaultValue":x=K;break;case"children":j=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(91));break;default:Qr(n,i,L,K,c,null)}Bi(n,h,x,j),Wt(n);return;case"option":for(ge in c)if(c.hasOwnProperty(ge)&&(h=c[ge],h!=null))switch(ge){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Qr(n,i,ge,h,c,null)}return;case"dialog":$r("beforetoggle",n),$r("toggle",n),$r("cancel",n),$r("close",n);break;case"iframe":case"object":$r("load",n);break;case"video":case"audio":for(h=0;h<Wd.length;h++)$r(Wd[h],n);break;case"image":$r("error",n),$r("load",n);break;case"details":$r("toggle",n);break;case"embed":case"source":case"link":$r("error",n),$r("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in c)if(c.hasOwnProperty(Ie)&&(h=c[Ie],h!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qr(n,i,Ie,h,c,null)}return;default:if(lo(i)){for(Je in c)c.hasOwnProperty(Je)&&(h=c[Je],h!==void 0&&Vm(n,i,Je,h,c,void 0));return}}for(K in c)c.hasOwnProperty(K)&&(h=c[K],h!=null&&Qr(n,i,K,h,c,null))}function tk(n,i,c,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,j=null,L=null,K=null,ge=null,Ie=null,Je=null;for(He in c){var ot=c[He];if(c.hasOwnProperty(He)&&ot!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":ge=ot;default:h.hasOwnProperty(He)||Qr(n,i,He,null,h,ot)}}for(var Fe in h){var He=h[Fe];if(ot=c[Fe],h.hasOwnProperty(Fe)&&(He!=null||ot!=null))switch(Fe){case"type":j=He;break;case"name":x=He;break;case"checked":Ie=He;break;case"defaultChecked":Je=He;break;case"value":L=He;break;case"defaultValue":K=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(s(137,i));break;default:He!==ot&&Qr(n,i,Fe,He,h,ot)}}Aa(n,L,K,ge,Ie,Je,j,x);return;case"select":He=L=K=Fe=null;for(j in c)if(ge=c[j],c.hasOwnProperty(j)&&ge!=null)switch(j){case"value":break;case"multiple":He=ge;default:h.hasOwnProperty(j)||Qr(n,i,j,null,h,ge)}for(x in h)if(j=h[x],ge=c[x],h.hasOwnProperty(x)&&(j!=null||ge!=null))switch(x){case"value":Fe=j;break;case"defaultValue":K=j;break;case"multiple":L=j;default:j!==ge&&Qr(n,i,x,j,h,ge)}i=K,c=L,h=He,Fe!=null?Pn(n,!!c,Fe,!1):!!h!=!!c&&(i!=null?Pn(n,!!c,i,!0):Pn(n,!!c,c?[]:"",!1));return;case"textarea":He=Fe=null;for(K in c)if(x=c[K],c.hasOwnProperty(K)&&x!=null&&!h.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Qr(n,i,K,null,h,x)}for(L in h)if(x=h[L],j=c[L],h.hasOwnProperty(L)&&(x!=null||j!=null))switch(L){case"value":Fe=x;break;case"defaultValue":He=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==j&&Qr(n,i,L,x,h,j)}io(n,Fe,He);return;case"option":for(var ir in c)if(Fe=c[ir],c.hasOwnProperty(ir)&&Fe!=null&&!h.hasOwnProperty(ir))switch(ir){case"selected":n.selected=!1;break;default:Qr(n,i,ir,null,h,Fe)}for(ge in h)if(Fe=h[ge],He=c[ge],h.hasOwnProperty(ge)&&Fe!==He&&(Fe!=null||He!=null))switch(ge){case"selected":n.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:Qr(n,i,ge,Fe,h,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in c)Fe=c[Jt],c.hasOwnProperty(Jt)&&Fe!=null&&!h.hasOwnProperty(Jt)&&Qr(n,i,Jt,null,h,Fe);for(Ie in h)if(Fe=h[Ie],He=c[Ie],h.hasOwnProperty(Ie)&&Fe!==He&&(Fe!=null||He!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(s(137,i));break;default:Qr(n,i,Ie,Fe,h,He)}return;default:if(lo(i)){for(var Xr in c)Fe=c[Xr],c.hasOwnProperty(Xr)&&Fe!==void 0&&!h.hasOwnProperty(Xr)&&Vm(n,i,Xr,void 0,h,Fe);for(Je in h)Fe=h[Je],He=c[Je],!h.hasOwnProperty(Je)||Fe===He||Fe===void 0&&He===void 0||Vm(n,i,Je,Fe,h,He);return}}for(var Re in c)Fe=c[Re],c.hasOwnProperty(Re)&&Fe!=null&&!h.hasOwnProperty(Re)&&Qr(n,i,Re,null,h,Fe);for(ot in h)Fe=h[ot],He=c[ot],!h.hasOwnProperty(ot)||Fe===He||Fe==null&&He==null||Qr(n,i,ot,Fe,h,He)}var Km=null,Wm=null;function Jf(n){return n.nodeType===9?n:n.ownerDocument}function sv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ym(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qm=null;function rk(){var n=window.event;return n&&n.type==="popstate"?n===Qm?!1:(Qm=n,!0):(Qm=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,ak=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof lv!="undefined"?function(n){return lv.resolve(null).then(n).catch(sk)}:iv;function sk(n){setTimeout(function(){throw n})}function gi(n){return n==="head"}function cv(n,i){var c=i,h=0,x=0;do{var j=c.nextSibling;if(n.removeChild(c),j&&j.nodeType===8)if(c=j.data,c==="/$"){if(0<h&&8>h){c=h;var L=n.ownerDocument;if(c&1&&Qd(L.documentElement),c&2&&Qd(L.body),c&4)for(c=L.head,Qd(c),L=c.firstChild;L;){var K=L.nextSibling,ge=L.nodeName;L[Ft]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&L.rel.toLowerCase()==="stylesheet"||c.removeChild(L),L=K}}if(x===0){n.removeChild(j),nu(i);return}x--}else c==="$"||c==="$?"||c==="$!"?x++:h=c.charCodeAt(0)-48;else h=0;c=j}while(c);nu(i)}function Xm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Xm(c),tr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function ok(n,i,c,h){for(;n.nodeType===1;){var x=c;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Ft])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(j=n.getAttribute("rel"),j==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(j!==x.rel||n.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||n.getAttribute("title")!==(x.title==null?null:x.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(j=n.getAttribute("src"),(j!==(x.src==null?null:x.src)||n.getAttribute("type")!==(x.type==null?null:x.type)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&j&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var j=x.name==null?null:""+x.name;if(x.type==="hidden"&&n.getAttribute("name")===j)return n}else return n;if(n=Ns(n.nextSibling),n===null)break}return null}function ik(n,i,c){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=Ns(n.nextSibling),n===null))return null;return n}function Zm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function lk(n,i){var c=n.ownerDocument;if(n.data!=="$?"||c.readyState==="complete")i();else{var h=function(){i(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Ns(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Jm=null;function dv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}function uv(n,i,c){switch(i=Jf(c),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Qd(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);tr(n)}var rs=new Map,fv=new Set;function e0(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var To=te.d;te.d={f:ck,r:dk,D:uk,C:fk,L:hk,m:mk,X:pk,S:gk,M:yk};function ck(){var n=To.f(),i=Gf();return n||i}function dk(n){var i=Rr(n);i!==null&&i.tag===5&&i.type==="form"?Ax(i):To.r(n)}var xc=typeof document=="undefined"?null:document;function hv(n,i,c){var h=xc;if(h&&typeof i=="string"&&i){var x=Br(i);x='link[rel="'+n+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),fv.has(x)||(fv.add(x),n={rel:n,crossOrigin:c,href:i},h.querySelector(x)===null&&(i=h.createElement("link"),Va(i,"link",n),Yt(i),h.head.appendChild(i)))}}function uk(n){To.D(n),hv("dns-prefetch",n,null)}function fk(n,i){To.C(n,i),hv("preconnect",n,i)}function hk(n,i,c){To.L(n,i,c);var h=xc;if(h&&n&&i){var x='link[rel="preload"][as="'+Br(i)+'"]';i==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Br(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Br(c.imageSizes)+'"]')):x+='[href="'+Br(n)+'"]';var j=x;switch(i){case"style":j=bc(n);break;case"script":j=vc(n)}rs.has(j)||(n=y({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:n,as:i},c),rs.set(j,n),h.querySelector(x)!==null||i==="style"&&h.querySelector(Xd(j))||i==="script"&&h.querySelector(Zd(j))||(i=h.createElement("link"),Va(i,"link",n),Yt(i),h.head.appendChild(i)))}}function mk(n,i){To.m(n,i);var c=xc;if(c&&n){var h=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+Br(h)+'"][href="'+Br(n)+'"]',j=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=vc(n)}if(!rs.has(j)&&(n=y({rel:"modulepreload",href:n},i),rs.set(j,n),c.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Zd(j)))return}h=c.createElement("link"),Va(h,"link",n),Yt(h),c.head.appendChild(h)}}}function gk(n,i,c){To.S(n,i,c);var h=xc;if(h&&n){var x=Tr(h).hoistableStyles,j=bc(n);i=i||"default";var L=x.get(j);if(!L){var K={loading:0,preload:null};if(L=h.querySelector(Xd(j)))K.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},c),(c=rs.get(j))&&eg(n,c);var ge=L=h.createElement("link");Yt(ge),Va(ge,"link",n),ge._p=new Promise(function(Ie,Je){ge.onload=Ie,ge.onerror=Je}),ge.addEventListener("load",function(){K.loading|=1}),ge.addEventListener("error",function(){K.loading|=2}),K.loading|=4,t0(L,i,h)}L={type:"stylesheet",instance:L,count:1,state:K},x.set(j,L)}}}function pk(n,i){To.X(n,i);var c=xc;if(c&&n){var h=Tr(c).hoistableScripts,x=vc(n),j=h.get(x);j||(j=c.querySelector(Zd(x)),j||(n=y({src:n,async:!0},i),(i=rs.get(x))&&tg(n,i),j=c.createElement("script"),Yt(j),Va(j,"link",n),c.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},h.set(x,j))}}function yk(n,i){To.M(n,i);var c=xc;if(c&&n){var h=Tr(c).hoistableScripts,x=vc(n),j=h.get(x);j||(j=c.querySelector(Zd(x)),j||(n=y({src:n,async:!0,type:"module"},i),(i=rs.get(x))&&tg(n,i),j=c.createElement("script"),Yt(j),Va(j,"link",n),c.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},h.set(x,j))}}function mv(n,i,c,h){var x=(x=oe.current)?e0(x):null;if(!x)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=bc(c.href),c=Tr(x).hoistableStyles,h=c.get(i),h||(h={type:"style",instance:null,count:0,state:null},c.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=bc(c.href);var j=Tr(x).hoistableStyles,L=j.get(n);if(L||(x=x.ownerDocument||x,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(n,L),(j=x.querySelector(Xd(n)))&&!j._p&&(L.instance=j,L.state.loading=5),rs.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},rs.set(n,c),j||xk(x,n,c,L.state))),i&&h===null)throw Error(s(528,""));return L}if(i&&h!==null)throw Error(s(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vc(c),c=Tr(x).hoistableScripts,h=c.get(i),h||(h={type:"script",instance:null,count:0,state:null},c.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function bc(n){return'href="'+Br(n)+'"'}function Xd(n){return'link[rel="stylesheet"]['+n+"]"}function gv(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function xk(n,i,c,h){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=n.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Va(i,"link",c),Yt(i),n.head.appendChild(i))}function vc(n){return'[src="'+Br(n)+'"]'}function Zd(n){return"script[async]"+n}function pv(n,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var h=n.querySelector('style[data-href~="'+Br(c.href)+'"]');if(h)return i.instance=h,Yt(h),h;var x=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Yt(h),Va(h,"style",x),t0(h,c.precedence,n),i.instance=h;case"stylesheet":x=bc(c.href);var j=n.querySelector(Xd(x));if(j)return i.state.loading|=4,i.instance=j,Yt(j),j;h=gv(c),(x=rs.get(x))&&eg(h,x),j=(n.ownerDocument||n).createElement("link"),Yt(j);var L=j;return L._p=new Promise(function(K,ge){L.onload=K,L.onerror=ge}),Va(j,"link",h),i.state.loading|=4,t0(j,c.precedence,n),i.instance=j;case"script":return j=vc(c.src),(x=n.querySelector(Zd(j)))?(i.instance=x,Yt(x),x):(h=c,(x=rs.get(j))&&(h=y({},c),tg(h,x)),n=n.ownerDocument||n,x=n.createElement("script"),Yt(x),Va(x,"link",h),n.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,t0(h,c.precedence,n));return i.instance}function t0(n,i,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,j=x,L=0;L<h.length;L++){var K=h[L];if(K.dataset.precedence===i)j=K;else if(j!==x)break}j?j.parentNode.insertBefore(n,j.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(n,i.firstChild))}function eg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function tg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var r0=null;function yv(n,i,c){if(r0===null){var h=new Map,x=r0=new Map;x.set(c,h)}else x=r0,h=x.get(c),h||(h=new Map,x.set(c,h));if(h.has(n))return h;for(h.set(n,null),c=c.getElementsByTagName(n),x=0;x<c.length;x++){var j=c[x];if(!(j[Ft]||j[Ke]||n==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var L=j.getAttribute(i)||"";L=n+L;var K=h.get(L);K?K.push(j):h.set(L,[j])}}return h}function xv(n,i,c){n=n.ownerDocument||n,n.head.insertBefore(c,i==="title"?n.querySelector("head > title"):null)}function bk(n,i,c){if(c===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Jd=null;function vk(){}function wk(n,i,c){if(Jd===null)throw Error(s(475));var h=Jd;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=bc(c.href),j=n.querySelector(Xd(x));if(j){n=j._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(h.count++,h=a0.bind(h),n.then(h,h)),i.state.loading|=4,i.instance=j,Yt(j);return}j=n.ownerDocument||n,c=gv(c),(x=rs.get(x))&&eg(c,x),j=j.createElement("link"),Yt(j);var L=j;L._p=new Promise(function(K,ge){L.onload=K,L.onerror=ge}),Va(j,"link",c),i.instance=j}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=a0.bind(h),n.addEventListener("load",i),n.addEventListener("error",i))}}function jk(){if(Jd===null)throw Error(s(475));var n=Jd;return n.stylesheets&&n.count===0&&rg(n,n.stylesheets),0<n.count?function(i){var c=setTimeout(function(){if(n.stylesheets&&rg(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(c)}}:null}function a0(){if(this.count--,this.count===0){if(this.stylesheets)rg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var n0=null;function rg(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,n0=new Map,i.forEach(Nk,n),n0=null,a0.call(n))}function Nk(n,i){if(!(i.state.loading&4)){var c=n0.get(n);if(c)var h=c.get(null);else{c=new Map,n0.set(n,c);for(var x=n.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<x.length;j++){var L=x[j];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(c.set(L.dataset.precedence,L),h=L)}h&&c.set(null,h)}x=i.instance,L=x.getAttribute("data-precedence"),j=c.get(L)||h,j===h&&c.set(null,x),c.set(L,x),this.count++,h=a0.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),j?j.parentNode.insertBefore(x,j.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(x,n.firstChild)),i.state.loading|=4}}var eu={$$typeof:H,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function kk(n,i,c,h,x,j,L,K){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=j,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function vv(n,i,c,h,x,j,L,K,ge,Ie,Je,ot){return n=new kk(n,i,c,L,K,ge,Ie,ot),i=1,j===!0&&(i|=24),j=Ma(3,null,null,i),n.current=j,j.stateNode=n,i=$d(),i.refCount++,n.pooledCache=i,i.refCount++,j.memoizedState={element:h,isDehydrated:c,cache:i},re(j),n}function wv(n){return n?(n=ti,n):ti}function jv(n,i,c,h,x,j){x=wv(x),h.context===null?h.context=x:h.pendingContext=x,h=ke(i),h.payload={element:c},j=j===void 0?null:j,j!==null&&(h.callback=j),c=Be(n,h,i),c!==null&&(Hn(c,n,i),je(c,n,i))}function Nv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function ag(n,i){Nv(n,i),(n=n.alternate)&&Nv(n,i)}function kv(n){if(n.tag===13){var i=ei(n,67108864);i!==null&&Hn(i,n,67108864),ag(n,67108864)}}var s0=!0;function _k(n,i,c,h){var x=ie.T;ie.T=null;var j=te.p;try{te.p=2,ng(n,i,c,h)}finally{te.p=j,ie.T=x}}function Sk(n,i,c,h){var x=ie.T;ie.T=null;var j=te.p;try{te.p=8,ng(n,i,c,h)}finally{te.p=j,ie.T=x}}function ng(n,i,c,h){if(s0){var x=sg(h);if(x===null)Gm(n,i,h,o0,c),Sv(n,h);else if($k(x,n,i,c,h))h.stopPropagation();else if(Sv(n,h),i&4&&-1<Ck.indexOf(n)){for(;x!==null;){var j=Rr(x);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var L=qt(j.pendingLanes);if(L!==0){var K=j;for(K.pendingLanes|=2,K.entangledLanes|=2;L;){var ge=1<<31-ve(L);K.entanglements[1]|=ge,L&=~ge}Zs(j),(Kr&6)===0&&(qf=ye()+500,Kd(0))}}break;case 13:K=ei(j,2),K!==null&&Hn(K,j,2),Gf(),ag(j,2)}if(j=sg(h),j===null&&Gm(n,i,h,o0,c),j===x)break;x=j}x!==null&&h.stopPropagation()}else Gm(n,i,h,null,c)}}function sg(n){return n=co(n),og(n)}var o0=null;function og(n){if(o0=null,n=dr(n),n!==null){var i=l(n);if(i===null)n=null;else{var c=i.tag;if(c===13){if(n=d(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return o0=n,null}function _v(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case lt:return 2;case mr:return 8;case Kt:case J:return 32;case qe:return 268435456;default:return 32}default:return 32}}var ig=!1,pi=null,yi=null,xi=null,tu=new Map,ru=new Map,bi=[],Ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(n,i){switch(n){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function au(n,i,c,h,x,j){return n===null||n.nativeEvent!==j?(n={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:j,targetContainers:[x]},i!==null&&(i=Rr(i),i!==null&&kv(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),n)}function $k(n,i,c,h,x){switch(i){case"focusin":return pi=au(pi,n,i,c,h,x),!0;case"dragenter":return yi=au(yi,n,i,c,h,x),!0;case"mouseover":return xi=au(xi,n,i,c,h,x),!0;case"pointerover":var j=x.pointerId;return tu.set(j,au(tu.get(j)||null,n,i,c,h,x)),!0;case"gotpointercapture":return j=x.pointerId,ru.set(j,au(ru.get(j)||null,n,i,c,h,x)),!0}return!1}function Cv(n){var i=dr(n.target);if(i!==null){var c=l(i);if(c!==null){if(i=c.tag,i===13){if(i=d(c),i!==null){n.blockedOn=i,Te(n.priority,function(){if(c.tag===13){var h=qn();h=tt(h);var x=ei(c,h);x!==null&&Hn(x,c,h),ag(c,h)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function i0(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=sg(n.nativeEvent);if(c===null){c=n.nativeEvent;var h=new c.constructor(c.type,c);Hi=h,c.target.dispatchEvent(h),Hi=null}else return i=Rr(c),i!==null&&kv(i),n.blockedOn=c,!1;i.shift()}return!0}function $v(n,i,c){i0(n)&&c.delete(i)}function Ek(){ig=!1,pi!==null&&i0(pi)&&(pi=null),yi!==null&&i0(yi)&&(yi=null),xi!==null&&i0(xi)&&(xi=null),tu.forEach($v),ru.forEach($v)}function l0(n,i){n.blockedOn===i&&(n.blockedOn=null,ig||(ig=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ek)))}var c0=null;function Ev(n){c0!==n&&(c0=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){c0===n&&(c0=null);for(var i=0;i<n.length;i+=3){var c=n[i],h=n[i+1],x=n[i+2];if(typeof h!="function"){if(og(h||c)===null)continue;break}var j=Rr(c);j!==null&&(n.splice(i,3),i-=3,om(j,{pending:!0,data:x,method:c.method,action:h},h,x))}}))}function nu(n){function i(ge){return l0(ge,n)}pi!==null&&l0(pi,n),yi!==null&&l0(yi,n),xi!==null&&l0(xi,n),tu.forEach(i),ru.forEach(i);for(var c=0;c<bi.length;c++){var h=bi[c];h.blockedOn===n&&(h.blockedOn=null)}for(;0<bi.length&&(c=bi[0],c.blockedOn===null);)Cv(c),c.blockedOn===null&&bi.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var x=c[h],j=c[h+1],L=x[Ae]||null;if(typeof j=="function")L||Ev(c);else if(L){var K=null;if(j&&j.hasAttribute("formAction")){if(x=j,L=j[Ae]||null)K=L.formAction;else if(og(x)!==null)continue}else K=L.action;typeof K=="function"?c[h+1]=K:(c.splice(h,3),h-=3),Ev(c)}}}function lg(n){this._internalRoot=n}d0.prototype.render=lg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var c=i.current,h=qn();jv(c,h,n,i,null,null)},d0.prototype.unmount=lg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;jv(n.current,2,null,n,null,null),Gf(),i[jt]=null}};function d0(n){this._internalRoot=n}d0.prototype.unstable_scheduleHydration=function(n){if(n){var i=fe();n={blockedOn:null,target:n,priority:i};for(var c=0;c<bi.length&&i!==0&&i<bi[c].priority;c++);bi.splice(c,0,n),c===0&&Cv(n)}};var Tv=r.version;if(Tv!=="19.1.0")throw Error(s(527,Tv,"19.1.0"));te.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var Tk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{ht=u0.inject(Tk),vt=u0}catch(n){}}return ou.createRoot=function(n,i){if(!o(n))throw Error(s(299));var c=!1,h="",x=Vx,j=Kx,L=Wx,K=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(j=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(K=i.unstable_transitionCallbacks)),i=vv(n,1,!1,null,null,c,h,x,j,L,K,null),n[jt]=i.current,Hm(n),new lg(i)},ou.hydrateRoot=function(n,i,c){if(!o(n))throw Error(s(299));var h=!1,x="",j=Vx,L=Kx,K=Wx,ge=null,Ie=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(L=c.onCaughtError),c.onRecoverableError!==void 0&&(K=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ge=c.unstable_transitionCallbacks),c.formState!==void 0&&(Ie=c.formState)),i=vv(n,1,!0,i,c!=null?c:null,h,x,j,L,K,ge,Ie),i.context=wv(null),c=i.current,h=qn(),h=tt(h),x=ke(h),x.callback=null,Be(c,x,h),c=h,i.current.lanes=c,Ka(i,c),Zs(i),n[jt]=i.current,Hm(n),new d0(i)},ou.version="19.1.0",ou}var Hv;function Hk(){if(Hv)return yg.exports;Hv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),yg.exports=qk(),yg.exports}var Gk=Hk();const Vk=Pl(Gk);var iu={},Gv;function Kk(){if(Gv)return iu;Gv=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.parse=d,iu.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function d(_,C){const T=new l,E=_.length;if(E<2)return T;const A=(C==null?void 0:C.decode)||y;let M=0;do{const B=_.indexOf("=",M);if(B===-1)break;const H=_.indexOf(";",M),O=H===-1?E:H;if(B>O){M=_.lastIndexOf(";",B-1)+1;continue}const z=u(_,M,B),q=f(_,B,z),ae=_.slice(z,q);if(T[ae]===void 0){let he=u(_,B+1,O),ee=f(_,O,he);const Ee=A(_.slice(he,ee));T[ae]=Ee}M=O+1}while(M<E);return T}function u(_,C,T){do{const E=_.charCodeAt(C);if(E!==32&&E!==9)return C}while(++C<T);return T}function f(_,C,T){for(;C>T;){const E=_.charCodeAt(--C);if(E!==32&&E!==9)return C+1}return T}function m(_,C,T){const E=(T==null?void 0:T.encode)||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=E(C);if(!r.test(A))throw new TypeError(`argument val is invalid: ${C}`);let M=_+"="+A;if(!T)return M;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);M+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);M+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);M+="; Path="+T.path}if(T.expires){if(!k(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);M+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(M+="; HttpOnly"),T.secure&&(M+="; Secure"),T.partitioned&&(M+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return M}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch(C){return _}}function k(_){return o.call(_)==="[object Date]"}return iu}Kk();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ww=e=>{throw TypeError(e)},Wk=(e,r,t)=>r.has(e)||Ww("Cannot "+t),wg=(e,r,t)=>(Wk(e,r,"read from private field"),t?t.call(e):r.get(e)),Yk=(e,r,t)=>r.has(e)?Ww("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),Vv="popstate";function Qk(e={}){function r(s,o){let{pathname:l,search:d,hash:u}=s.location;return bu("",{pathname:l,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Mi(o)}return Zk(r,t,null,e)}function kr(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function ya(e,r){if(!e){typeof console!="undefined"&&console.warn(r);try{throw new Error(r)}catch(t){}}}function Xk(){return Math.random().toString(36).substring(2,10)}function Kv(e,r){return{usr:e.state,key:e.key,idx:r}}function bu(e,r,t=null,s){return _e(Y({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Li(r):r),{state:t,key:r&&r.key||s||Xk()})}function Mi({pathname:e="/",search:r="",hash:t=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Li(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substring(t),e=e.substring(0,t));let s=e.indexOf("?");s>=0&&(r.search=e.substring(s),e=e.substring(0,s)),e&&(r.pathname=e)}return r}function Zk(e,r,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,d=o.history,u="POP",f=null,m=y();m==null&&(m=0,d.replaceState(_e(Y({},d.state),{idx:m}),""));function y(){return(d.state||{idx:null}).idx}function k(){u="POP";let A=y(),M=A==null?null:A-m;m=A,f&&f({action:u,location:E.location,delta:M})}function _(A,M){u="PUSH";let B=bu(E.location,A,M);m=y()+1;let H=Kv(B,m),O=E.createHref(B);try{d.pushState(H,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(O)}l&&f&&f({action:u,location:E.location,delta:1})}function C(A,M){u="REPLACE";let B=bu(E.location,A,M);m=y();let H=Kv(B,m),O=E.createHref(B);d.replaceState(H,"",O),l&&f&&f({action:u,location:E.location,delta:0})}function T(A){return Yw(A)}let E={get action(){return u},get location(){return e(o,d)},listen(A){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,k),f=A,()=>{o.removeEventListener(Vv,k),f=null}},createHref(A){return r(o,A)},createURL:T,encodeLocation(A){let M=T(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:C,go(A){return d.go(A)}};return E}function Yw(e,r=!1){let t="http://localhost";typeof window!="undefined"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kr(t,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Mi(e);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var mu,Wv=class{constructor(e){if(Yk(this,mu,new Map),e)for(let[r,t]of e)this.set(r,t)}get(e){if(wg(this,mu).has(e))return wg(this,mu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,r){wg(this,mu).set(e,r)}};mu=new WeakMap;var Jk=new Set(["lazy","caseSensitive","path","id","index","children"]);function e_(e){return Jk.has(e)}var t_=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function r_(e){return t_.has(e)}function a_(e){return e.index===!0}function G0(e,r,t=[],s={}){return e.map((o,l)=>{let d=[...t,String(l)],u=typeof o.id=="string"?o.id:d.join("-");if(kr(o.index!==!0||!o.children,"Cannot specify children on an index route"),kr(!s[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),a_(o)){let f=_e(Y(Y({},o),r(o)),{id:u});return s[u]=f,f}else{let f=_e(Y(Y({},o),r(o)),{id:u,children:void 0});return s[u]=f,o.children&&(f.children=G0(o.children,r,d,s)),f}})}function _i(e,r,t="/"){return R0(e,r,t,!1)}function R0(e,r,t,s){let o=typeof r=="string"?Li(r):r,l=ls(o.pathname||"/",t);if(l==null)return null;let d=Qw(e);s_(d);let u=null;for(let f=0;u==null&&f<d.length;++f){let m=p_(l);u=m_(d[f],m,s)}return u}function n_(e,r){let{route:t,pathname:s,params:o}=e;return{id:t.id,pathname:s,params:o,data:r[t.id],handle:t.handle}}function Qw(e,r=[],t=[],s=""){let o=(l,d,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};f.relativePath.startsWith("/")&&(kr(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let m=no([s,f.relativePath]),y=t.concat(f);l.children&&l.children.length>0&&(kr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Qw(l.children,r,y,m)),!(l.path==null&&!l.index)&&r.push({path:m,score:f_(m,l.index),routesMeta:y})};return e.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,d);else for(let f of Xw(l.path))o(l,d,f)}),r}function Xw(e){let r=e.split("/");if(r.length===0)return[];let[t,...s]=r,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let d=Xw(s.join("/")),u=[];return u.push(...d.map(f=>f===""?l:[l,f].join("/"))),o&&u.push(...d),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function s_(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:h_(r.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var o_=/^:[\w-]+$/,i_=3,l_=2,c_=1,d_=10,u_=-2,Yv=e=>e==="*";function f_(e,r){let t=e.split("/"),s=t.length;return t.some(Yv)&&(s+=u_),r&&(s+=l_),t.filter(o=>!Yv(o)).reduce((o,l)=>o+(o_.test(l)?i_:l===""?c_:d_),s)}function h_(e,r){return e.length===r.length&&e.slice(0,-1).every((s,o)=>s===r[o])?e[e.length-1]-r[r.length-1]:0}function m_(e,r,t=!1){let{routesMeta:s}=e,o={},l="/",d=[];for(let u=0;u<s.length;++u){let f=s[u],m=u===s.length-1,y=l==="/"?r:r.slice(l.length)||"/",k=V0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),_=f.route;if(!k&&m&&t&&!s[s.length-1].route.index&&(k=V0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!k)return null;Object.assign(o,k.params),d.push({params:o,pathname:no([l,k.pathname]),pathnameBase:b_(no([l,k.pathnameBase])),route:_}),k.pathnameBase!=="/"&&(l=no([l,k.pathnameBase]))}return d}function V0(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,s]=g_(e.path,e.caseSensitive,e.end),o=r.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:k},_)=>{if(y==="*"){let T=u[_]||"";d=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const C=u[_];return k&&!C?m[y]=void 0:m[y]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:e}}function g_(e,r=!1,t=!0){ya(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]}function p_(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ya(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function ls(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,s=e.charAt(t);return s&&s!=="/"?null:e.slice(t)||"/"}function y_(e,r="/"){let{pathname:t,search:s="",hash:o=""}=typeof e=="string"?Li(e):e;return{pathname:t?t.startsWith("/")?t:x_(t,r):r,search:v_(s),hash:w_(o)}}function x_(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jg(e,r,t,s){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zw(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function oh(e){let r=Zw(e);return r.map((t,s)=>s===r.length-1?t.pathname:t.pathnameBase)}function ih(e,r,t,s=!1){let o;typeof e=="string"?o=Li(e):(o=Y({},e),kr(!o.pathname||!o.pathname.includes("?"),jg("?","pathname","search",o)),kr(!o.pathname||!o.pathname.includes("#"),jg("#","pathname","hash",o)),kr(!o.search||!o.search.includes("#"),jg("#","search","hash",o)));let l=e===""||o.pathname==="",d=l?"/":o.pathname,u;if(d==null)u=t;else{let k=r.length-1;if(!s&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),k-=1;o.pathname=_.join("/")}u=k>=0?r[k]:"/"}let f=y_(o,u),m=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var no=e=>e.join("/").replace(/\/\/+/g,"/"),b_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,w_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,K0=class{constructor(e,r,t,s=!1){this.status=e,this.statusText=r||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function vu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Jw=["POST","PUT","PATCH","DELETE"],j_=new Set(Jw),N_=["GET",...Jw],k_=new Set(N_),__=new Set([301,302,303,307,308]),S_=new Set([307,308]),Ng={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},C_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),e3="remix-router-transitions",t3=Symbol("ResetLoaderData");function E_(e){const r=e.window?e.window:typeof window!="undefined"?window:void 0,t=typeof r!="undefined"&&typeof r.document!="undefined"&&typeof r.document.createElement!="undefined";kr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],o=e.mapRouteProperties||$_,l={},d=G0(e.routes,o,void 0,l),u,f=e.basename||"/",m=e.dataStrategy||P_,y=Y({unstable_middleware:!1},e.future),k=null,_=new Set,C=null,T=null,E=null,A=e.hydrationData!=null,M=_i(d,e.history.location,f),B=!1,H=null,O;if(M==null&&!e.patchRoutesOnNavigation){let fe=ns(404,{pathname:e.history.location.pathname}),{matches:Te,route:De}=i1(d);O=!0,M=Te,H={[De.id]:fe}}else if(M&&!e.hydrationData&&Wa(M,d,e.history.location.pathname).active&&(M=null),M)if(M.some(fe=>fe.route.lazy))O=!1;else if(!M.some(fe=>fe.route.loader))O=!0;else{let fe=e.hydrationData?e.hydrationData.loaderData:null,Te=e.hydrationData?e.hydrationData.errors:null;if(Te){let De=M.findIndex(Ke=>Te[Ke.route.id]!==void 0);O=M.slice(0,De+1).every(Ke=>!cp(Ke.route,fe,Te))}else O=M.every(De=>!cp(De.route,fe,Te))}else{O=!1,M=[];let fe=Wa(null,d,e.history.location.pathname);fe.active&&fe.matches&&(B=!0,M=fe.matches)}let z,q={historyAction:e.history.action,location:e.history.location,matches:M,initialized:O,navigation:Ng,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||H,fetchers:new Map,blockers:new Map},ae="POP",he=!1,ee,Ee=!1,ce=new Map,ue=null,se=!1,de=!1,pe=new Set,ie=new Map,te=0,W=-1,be=new Map,V=new Set,U=new Map,ne=new Map,me=new Set,le=new Map,X,oe=null;function Ue(){if(k=e.history.listen(({action:fe,location:Te,delta:De})=>{if(X){X(),X=void 0;return}ya(le.size===0||De!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ke=br({currentLocation:q.location,nextLocation:Te,historyAction:fe});if(Ke&&De!=null){let Ae=new Promise(jt=>{X=jt});e.history.go(De*-1),nr(Ke,{state:"blocked",location:Te,proceed(){nr(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Ae.then(()=>e.history.go(De))},reset(){let jt=new Map(q.blockers);jt.set(Ke,lu),et({blockers:jt})}});return}return xe(fe,Te)}),t){G_(r,ce);let fe=()=>V_(r,ce);r.addEventListener("pagehide",fe),ue=()=>r.removeEventListener("pagehide",fe)}return q.initialized||xe("POP",q.location,{initialHydration:!0}),z}function it(){k&&k(),ue&&ue(),_.clear(),ee&&ee.abort(),q.fetchers.forEach((fe,Te)=>ve(Te)),q.blockers.forEach((fe,Te)=>er(Te))}function yt(fe){return _.add(fe),()=>_.delete(fe)}function et(fe,Te={}){q=Y(Y({},q),fe);let De=[],Ke=[];q.fetchers.forEach((Ae,jt)=>{Ae.state==="idle"&&(me.has(jt)?De.push(jt):Ke.push(jt))}),me.forEach(Ae=>{!q.fetchers.has(Ae)&&!ie.has(Ae)&&De.push(Ae)}),[..._].forEach(Ae=>Ae(q,{deletedFetchers:De,viewTransitionOpts:Te.viewTransitionOpts,flushSync:Te.flushSync===!0})),De.forEach(Ae=>ve(Ae)),Ke.forEach(Ae=>q.fetchers.delete(Ae))}function xt(fe,Te,{flushSync:De}={}){var sr,Ft;let Ke=q.actionData!=null&&q.navigation.formMethod!=null&&Vn(q.navigation.formMethod)&&q.navigation.state==="loading"&&((sr=fe.state)==null?void 0:sr._isRedirect)!==!0,Ae;Te.actionData?Object.keys(Te.actionData).length>0?Ae=Te.actionData:Ae=null:Ke?Ae=q.actionData:Ae=null;let jt=Te.loaderData?s1(q.loaderData,Te.loaderData,Te.matches||[],Te.errors):q.loaderData,It=q.blockers;It.size>0&&(It=new Map(It),It.forEach((tr,dr)=>It.set(dr,lu)));let zt=he===!0||q.navigation.formMethod!=null&&Vn(q.navigation.formMethod)&&((Ft=fe.state)==null?void 0:Ft._isRedirect)!==!0;u&&(d=u,u=void 0),se||ae==="POP"||(ae==="PUSH"?e.history.push(fe,fe.state):ae==="REPLACE"&&e.history.replace(fe,fe.state));let Rt;if(ae==="POP"){let tr=ce.get(q.location.pathname);tr&&tr.has(fe.pathname)?Rt={currentLocation:q.location,nextLocation:fe}:ce.has(fe.pathname)&&(Rt={currentLocation:fe,nextLocation:q.location})}else if(Ee){let tr=ce.get(q.location.pathname);tr?tr.add(fe.pathname):(tr=new Set([fe.pathname]),ce.set(q.location.pathname,tr)),Rt={currentLocation:q.location,nextLocation:fe}}et(_e(Y({},Te),{actionData:Ae,loaderData:jt,historyAction:ae,location:fe,initialized:!0,navigation:Ng,revalidation:"idle",restoreScrollPosition:vn(fe,Te.matches||q.matches),preventScrollReset:zt,blockers:It}),{viewTransitionOpts:Rt,flushSync:De===!0}),ae="POP",he=!1,Ee=!1,se=!1,de=!1,oe==null||oe.resolve(),oe=null}function Tt(fe,Te){return Ne(this,null,function*(){if(typeof fe=="number"){e.history.go(fe);return}let De=lp(q.location,q.matches,f,fe,Te==null?void 0:Te.fromRouteId,Te==null?void 0:Te.relative),{path:Ke,submission:Ae,error:jt}=Qv(!1,De,Te),It=q.location,zt=bu(q.location,Ke,Te&&Te.state);zt=Y(Y({},zt),e.history.encodeLocation(zt));let Rt=Te&&Te.replace!=null?Te.replace:void 0,sr="PUSH";Rt===!0?sr="REPLACE":Rt===!1||Ae!=null&&Vn(Ae.formMethod)&&Ae.formAction===q.location.pathname+q.location.search&&(sr="REPLACE");let Ft=Te&&"preventScrollReset"in Te?Te.preventScrollReset===!0:void 0,tr=(Te&&Te.flushSync)===!0,dr=br({currentLocation:It,nextLocation:zt,historyAction:sr});if(dr){nr(dr,{state:"blocked",location:zt,proceed(){nr(dr,{state:"proceeding",proceed:void 0,reset:void 0,location:zt}),Tt(fe,Te)},reset(){let Rr=new Map(q.blockers);Rr.set(dr,lu),et({blockers:Rr})}});return}yield xe(sr,zt,{submission:Ae,pendingError:jt,preventScrollReset:Ft,replace:Te&&Te.replace,enableViewTransition:Te&&Te.viewTransition,flushSync:tr})})}function gr(){oe||(oe=K_()),dt(),et({revalidation:"loading"});let fe=oe.promise;return q.navigation.state==="submitting"?fe:q.navigation.state==="idle"?(xe(q.historyAction,q.location,{startUninterruptedRevalidation:!0}),fe):(xe(ae||q.historyAction,q.navigation.location,{overrideNavigation:q.navigation,enableViewTransition:Ee===!0}),fe)}function xe(fe,Te,De){return Ne(this,null,function*(){ee&&ee.abort(),ee=null,ae=fe,se=(De&&De.startUninterruptedRevalidation)===!0,Ka(q.location,q.matches),he=(De&&De.preventScrollReset)===!0,Ee=(De&&De.enableViewTransition)===!0;let Ke=u||d,Ae=De&&De.overrideNavigation,jt=De!=null&&De.initialHydration&&q.matches&&q.matches.length>0&&!B?q.matches:_i(Ke,Te,f),It=(De&&De.flushSync)===!0;if(jt&&q.initialized&&!de&&F_(q.location,Te)&&!(De&&De.submission&&Vn(De.submission.formMethod))){xt(Te,{matches:jt},{flushSync:It});return}let zt=Wa(jt,Ke,Te.pathname);if(zt.active&&zt.matches&&(jt=zt.matches),!jt){let{error:Tr,notFoundMatches:Yt,route:Ht}=na(Te.pathname);xt(Te,{matches:Yt,loaderData:{},errors:{[Ht.id]:Tr}},{flushSync:It});return}ee=new AbortController;let Rt=Tc(e.history,Te,ee.signal,De&&De.submission),sr=new Wv(e.unstable_getContext?yield e.unstable_getContext():void 0),Ft;if(De&&De.pendingError)Ft=[fl(jt).route.id,{type:"error",error:De.pendingError}];else if(De&&De.submission&&Vn(De.submission.formMethod)){let Tr=yield st(Rt,Te,De.submission,jt,sr,zt.active,De&&De.initialHydration===!0,{replace:De.replace,flushSync:It});if(Tr.shortCircuited)return;if(Tr.pendingActionResult){let[Yt,Ht]=Tr.pendingActionResult;if(Gn(Ht)&&vu(Ht.error)&&Ht.error.status===404){ee=null,xt(Te,{matches:Tr.matches,loaderData:{},errors:{[Yt]:Ht.error}});return}}jt=Tr.matches||jt,Ft=Tr.pendingActionResult,Ae=kg(Te,De.submission),It=!1,zt.active=!1,Rt=Tc(e.history,Rt.url,Rt.signal)}let{shortCircuited:tr,matches:dr,loaderData:Rr,errors:qr}=yield Ot(Rt,Te,jt,sr,zt.active,Ae,De&&De.submission,De&&De.fetcherSubmission,De&&De.replace,De&&De.initialHydration===!0,It,Ft);tr||(ee=null,xt(Te,_e(Y({matches:dr||jt},o1(Ft)),{loaderData:Rr,errors:qr})))})}function st(Rt,sr,Ft,tr,dr,Rr,qr){return Ne(this,arguments,function*(fe,Te,De,Ke,Ae,jt,It,zt={}){dt();let Tr=q_(Te,De);if(et({navigation:Tr},{flushSync:zt.flushSync===!0}),jt){let Or=yield ze(Ke,Te.pathname,fe.signal);if(Or.type==="aborted")return{shortCircuited:!0};if(Or.type==="error"){let zr=fl(Or.partialMatches).route.id;return{matches:Or.partialMatches,pendingActionResult:[zr,{type:"error",error:Or.error}]}}else if(Or.matches)Ke=Or.matches;else{let{notFoundMatches:zr,error:sa,route:Zr}=na(Te.pathname);return{matches:zr,pendingActionResult:[Zr.id,{type:"error",error:sa}]}}}let Yt,Ht=gu(Ke,Te);if(!Ht.route.action&&!Ht.route.lazy)Yt={type:"error",error:ns(405,{method:fe.method,pathname:Te.pathname,routeId:Ht.route.id})};else{let Or=Mc(o,l,fe,Ke,Ht,It?[]:s,Ae),zr=yield qe(fe,Or,Ae,null);if(Yt=zr[Ht.route.id],!Yt){for(let sa of Ke)if(zr[sa.route.id]){Yt=zr[sa.route.id];break}}if(fe.signal.aborted)return{shortCircuited:!0}}if(hl(Yt)){let Or;return zt&&zt.replace!=null?Or=zt.replace:Or=r1(Yt.response.headers.get("Location"),new URL(fe.url),f)===q.location.pathname+q.location.search,yield J(fe,Yt,!0,{submission:De,replace:Or}),{shortCircuited:!0}}if(Gn(Yt)){let Or=fl(Ke,Ht.route.id);return(zt&&zt.replace)!==!0&&(ae="PUSH"),{matches:Ke,pendingActionResult:[Or.route.id,Yt,Ht.route.id]}}return{matches:Ke,pendingActionResult:[Ht.route.id,Yt]}})}function Ot(fe,Te,De,Ke,Ae,jt,It,zt,Rt,sr,Ft,tr){return Ne(this,null,function*(){let dr=jt||kg(Te,It),Rr=It||zt||c1(dr),qr=!se&&!sr;if(Ae){if(qr){let ca=ye(tr);et(Y({navigation:dr},ca!==void 0?{actionData:ca}:{}),{flushSync:Ft})}let ur=yield ze(De,Te.pathname,fe.signal);if(ur.type==="aborted")return{shortCircuited:!0};if(ur.type==="error"){let ca=fl(ur.partialMatches).route.id;return{matches:ur.partialMatches,loaderData:{},errors:{[ca]:ur.error}}}else if(ur.matches)De=ur.matches;else{let{error:ca,notFoundMatches:Oa,route:fa}=na(Te.pathname);return{matches:Oa,loaderData:{},errors:{[fa.id]:ca}}}}let Tr=u||d,{dsMatches:Yt,revalidatingFetchers:Ht}=Xv(fe,Ke,o,l,e.history,q,De,Rr,Te,sr?[]:s,sr===!0,de,pe,me,U,V,Tr,f,e.patchRoutesOnNavigation!=null,tr);if(W=++te,!e.dataStrategy&&!Yt.some(ur=>ur.shouldLoad)&&Ht.length===0){let ur=ct();return xt(Te,Y(Y({matches:De,loaderData:{},errors:tr&&Gn(tr[1])?{[tr[0]]:tr[1].error}:null},o1(tr)),ur?{fetchers:new Map(q.fetchers)}:{}),{flushSync:Ft}),{shortCircuited:!0}}if(qr){let ur={};if(!Ae){ur.navigation=dr;let ca=ye(tr);ca!==void 0&&(ur.actionData=ca)}Ht.length>0&&(ur.fetchers=Xe(Ht)),et(ur,{flushSync:Ft})}Ht.forEach(ur=>{Ge(ur.key),ur.controller&&ie.set(ur.key,ur.controller)});let Or=()=>Ht.forEach(ur=>Ge(ur.key));ee&&ee.signal.addEventListener("abort",Or);let{loaderResults:zr,fetcherResults:sa}=yield Ve(Yt,Ht,fe,Ke);if(fe.signal.aborted)return{shortCircuited:!0};ee&&ee.signal.removeEventListener("abort",Or),Ht.forEach(ur=>ie.delete(ur.key));let Zr=m0(zr);if(Zr)return yield J(fe,Zr.result,!0,{replace:Rt}),{shortCircuited:!0};if(Zr=m0(sa),Zr)return V.add(Zr.key),yield J(fe,Zr.result,!0,{replace:Rt}),{shortCircuited:!0};let{loaderData:ea,errors:Ba}=n1(q,De,zr,tr,Ht,sa);sr&&q.errors&&(Ba=Y(Y({},q.errors),Ba));let Zt=ct(),la=Ut(W),Ca=Zt||la||Ht.length>0;return Y({matches:De,loaderData:ea,errors:Ba},Ca?{fetchers:new Map(q.fetchers)}:{})})}function ye(fe){if(fe&&!Gn(fe[1]))return{[fe[0]]:fe[1].data};if(q.actionData)return Object.keys(q.actionData).length===0?null:q.actionData}function Xe(fe){return fe.forEach(Te=>{let De=q.fetchers.get(Te.key),Ke=cu(void 0,De?De.data:void 0);q.fetchers.set(Te.key,Ke)}),new Map(q.fetchers)}function lt(fe,Te,De,Ke){return Ne(this,null,function*(){Ge(fe);let Ae=(Ke&&Ke.flushSync)===!0,jt=u||d,It=lp(q.location,q.matches,f,De,Te,Ke==null?void 0:Ke.relative),zt=_i(jt,It,f),Rt=Wa(zt,jt,It);if(Rt.active&&Rt.matches&&(zt=Rt.matches),!zt){vt(fe,Te,ns(404,{pathname:It}),{flushSync:Ae});return}let{path:sr,submission:Ft,error:tr}=Qv(!0,It,Ke);if(tr){vt(fe,Te,tr,{flushSync:Ae});return}let dr=gu(zt,sr),Rr=new Wv(e.unstable_getContext?yield e.unstable_getContext():void 0),qr=(Ke&&Ke.preventScrollReset)===!0;if(Ft&&Vn(Ft.formMethod)){yield mr(fe,Te,sr,dr,zt,Rr,Rt.active,Ae,qr,Ft);return}U.set(fe,{routeId:Te,path:sr}),yield Kt(fe,Te,sr,dr,zt,Rr,Rt.active,Ae,qr,Ft)})}function mr(fe,Te,De,Ke,Ae,jt,It,zt,Rt,sr){return Ne(this,null,function*(){dt(),U.delete(fe);function Ft(Oe){if(!Oe.route.action&&!Oe.route.lazy){let nt=ns(405,{method:sr.formMethod,pathname:De,routeId:Te});return vt(fe,Te,nt,{flushSync:zt}),!0}return!1}if(!It&&Ft(Ke))return;let tr=q.fetchers.get(fe);ht(fe,H_(sr,tr),{flushSync:zt});let dr=new AbortController,Rr=Tc(e.history,De,dr.signal,sr);if(It){let Oe=yield ze(Ae,De,Rr.signal,fe);if(Oe.type==="aborted")return;if(Oe.type==="error"){vt(fe,Te,Oe.error,{flushSync:zt});return}else if(Oe.matches){if(Ae=Oe.matches,Ke=gu(Ae,De),Ft(Ke))return}else{vt(fe,Te,ns(404,{pathname:De}),{flushSync:zt});return}}ie.set(fe,dr);let qr=te,Tr=Mc(o,l,Rr,Ae,Ke,s,jt),Ht=(yield qe(Rr,Tr,jt,fe))[Ke.route.id];if(Rr.signal.aborted){ie.get(fe)===dr&&ie.delete(fe);return}if(me.has(fe)){if(hl(Ht)||Gn(Ht)){ht(fe,ji(void 0));return}}else{if(hl(Ht))if(ie.delete(fe),W>qr){ht(fe,ji(void 0));return}else return V.add(fe),ht(fe,cu(sr)),J(Rr,Ht,!1,{fetcherSubmission:sr,preventScrollReset:Rt});if(Gn(Ht)){vt(fe,Te,Ht.error);return}}let Or=q.navigation.location||q.location,zr=Tc(e.history,Or,dr.signal),sa=u||d,Zr=q.navigation.state!=="idle"?_i(sa,q.navigation.location,f):q.matches;kr(Zr,"Didn't find any matches after fetcher action");let ea=++te;be.set(fe,ea);let Ba=cu(sr,Ht.data);q.fetchers.set(fe,Ba);let{dsMatches:Zt,revalidatingFetchers:la}=Xv(zr,jt,o,l,e.history,q,Zr,sr,Or,s,!1,de,pe,me,U,V,sa,f,e.patchRoutesOnNavigation!=null,[Ke.route.id,Ht]);la.filter(Oe=>Oe.key!==fe).forEach(Oe=>{let nt=Oe.key,kt=q.fetchers.get(nt),Et=cu(void 0,kt?kt.data:void 0);q.fetchers.set(nt,Et),Ge(nt),Oe.controller&&ie.set(nt,Oe.controller)}),et({fetchers:new Map(q.fetchers)});let Ca=()=>la.forEach(Oe=>Ge(Oe.key));dr.signal.addEventListener("abort",Ca);let{loaderResults:ur,fetcherResults:ca}=yield Ve(Zt,la,zr,jt);if(dr.signal.aborted)return;if(dr.signal.removeEventListener("abort",Ca),be.delete(fe),ie.delete(fe),la.forEach(Oe=>ie.delete(Oe.key)),q.fetchers.has(fe)){let Oe=ji(Ht.data);q.fetchers.set(fe,Oe)}let Oa=m0(ur);if(Oa)return J(zr,Oa.result,!1,{preventScrollReset:Rt});if(Oa=m0(ca),Oa)return V.add(Oa.key),J(zr,Oa.result,!1,{preventScrollReset:Rt});let{loaderData:fa,errors:Ya}=n1(q,Zr,ur,void 0,la,ca);Ut(ea),q.navigation.state==="loading"&&ea>W?(kr(ae,"Expected pending action"),ee&&ee.abort(),xt(q.navigation.location,{matches:Zr,loaderData:fa,errors:Ya,fetchers:new Map(q.fetchers)})):(et({errors:Ya,loaderData:s1(q.loaderData,fa,Zr,Ya),fetchers:new Map(q.fetchers)}),de=!1)})}function Kt(fe,Te,De,Ke,Ae,jt,It,zt,Rt,sr){return Ne(this,null,function*(){let Ft=q.fetchers.get(fe);ht(fe,cu(sr,Ft?Ft.data:void 0),{flushSync:zt});let tr=new AbortController,dr=Tc(e.history,De,tr.signal);if(It){let Ht=yield ze(Ae,De,dr.signal,fe);if(Ht.type==="aborted")return;if(Ht.type==="error"){vt(fe,Te,Ht.error,{flushSync:zt});return}else if(Ht.matches)Ae=Ht.matches,Ke=gu(Ae,De);else{vt(fe,Te,ns(404,{pathname:De}),{flushSync:zt});return}}ie.set(fe,tr);let Rr=te,qr=Mc(o,l,dr,Ae,Ke,s,jt),Yt=(yield qe(dr,qr,jt,fe))[Ke.route.id];if(ie.get(fe)===tr&&ie.delete(fe),!dr.signal.aborted){if(me.has(fe)){ht(fe,ji(void 0));return}if(hl(Yt))if(W>Rr){ht(fe,ji(void 0));return}else{V.add(fe),yield J(dr,Yt,!1,{preventScrollReset:Rt});return}if(Gn(Yt)){vt(fe,Te,Yt.error);return}ht(fe,ji(Yt.data))}})}function J(zt,Rt,sr){return Ne(this,arguments,function*(fe,Te,De,{submission:Ke,fetcherSubmission:Ae,preventScrollReset:jt,replace:It}={}){Te.response.headers.has("X-Remix-Revalidate")&&(de=!0);let Ft=Te.response.headers.get("Location");kr(Ft,"Expected a Location header on the redirect Response"),Ft=r1(Ft,new URL(fe.url),f);let tr=bu(q.location,Ft,{_isRedirect:!0});if(t){let Ht=!1;if(Te.response.headers.has("X-Remix-Reload-Document"))Ht=!0;else if(uy.test(Ft)){const Or=Yw(Ft,!0);Ht=Or.origin!==r.location.origin||ls(Or.pathname,f)==null}if(Ht){It?r.location.replace(Ft):r.location.assign(Ft);return}}ee=null;let dr=It===!0||Te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Rr,formAction:qr,formEncType:Tr}=q.navigation;!Ke&&!Ae&&Rr&&qr&&Tr&&(Ke=c1(q.navigation));let Yt=Ke||Ae;if(S_.has(Te.response.status)&&Yt&&Vn(Yt.formMethod))yield xe(dr,tr,{submission:_e(Y({},Yt),{formAction:Ft}),preventScrollReset:jt||he,enableViewTransition:De?Ee:void 0});else{let Ht=kg(tr,Ke);yield xe(dr,tr,{overrideNavigation:Ht,fetcherSubmission:Ae,preventScrollReset:jt||he,enableViewTransition:De?Ee:void 0})}})}function qe(fe,Te,De,Ke){return Ne(this,null,function*(){let Ae,jt={};try{Ae=yield M_(m,fe,Te,Ke,De,!1)}catch(It){return Te.filter(zt=>zt.shouldLoad).forEach(zt=>{jt[zt.route.id]={type:"error",error:It}}),jt}if(fe.signal.aborted)return jt;for(let[It,zt]of Object.entries(Ae))if(z_(zt)){let Rt=zt.result;jt[It]={type:"redirect",response:L_(Rt,fe,It,Te,f)}}else jt[It]=yield I_(zt);return jt})}function Ve(fe,Te,De,Ke){return Ne(this,null,function*(){let Ae=qe(De,fe,Ke,null),jt=Promise.all(Te.map(Rt=>Ne(null,null,function*(){if(Rt.matches&&Rt.match&&Rt.request&&Rt.controller){let Ft=(yield qe(Rt.request,Rt.matches,Ke,Rt.key))[Rt.match.route.id];return{[Rt.key]:Ft}}else return Promise.resolve({[Rt.key]:{type:"error",error:ns(404,{pathname:Rt.path})}})}))),It=yield Ae,zt=(yield jt).reduce((Rt,sr)=>Object.assign(Rt,sr),{});return{loaderResults:It,fetcherResults:zt}})}function dt(){de=!0,U.forEach((fe,Te)=>{ie.has(Te)&&pe.add(Te),Ge(Te)})}function ht(fe,Te,De={}){q.fetchers.set(fe,Te),et({fetchers:new Map(q.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function vt(fe,Te,De,Ke={}){let Ae=fl(q.matches,Te);ve(fe),et({errors:{[Ae.route.id]:De},fetchers:new Map(q.fetchers)},{flushSync:(Ke&&Ke.flushSync)===!0})}function ut(fe){return ne.set(fe,(ne.get(fe)||0)+1),me.has(fe)&&me.delete(fe),q.fetchers.get(fe)||C_}function ve(fe){let Te=q.fetchers.get(fe);ie.has(fe)&&!(Te&&Te.state==="loading"&&be.has(fe))&&Ge(fe),U.delete(fe),be.delete(fe),V.delete(fe),me.delete(fe),pe.delete(fe),q.fetchers.delete(fe)}function Ze(fe){let Te=(ne.get(fe)||0)-1;Te<=0?(ne.delete(fe),me.add(fe)):ne.set(fe,Te),et({fetchers:new Map(q.fetchers)})}function Ge(fe){let Te=ie.get(fe);Te&&(Te.abort(),ie.delete(fe))}function pt(fe){for(let Te of fe){let De=ut(Te),Ke=ji(De.data);q.fetchers.set(Te,Ke)}}function ct(){let fe=[],Te=!1;for(let De of V){let Ke=q.fetchers.get(De);kr(Ke,`Expected fetcher: ${De}`),Ke.state==="loading"&&(V.delete(De),fe.push(De),Te=!0)}return pt(fe),Te}function Ut(fe){let Te=[];for(let[De,Ke]of be)if(Ke<fe){let Ae=q.fetchers.get(De);kr(Ae,`Expected fetcher: ${De}`),Ae.state==="loading"&&(Ge(De),be.delete(De),Te.push(De))}return pt(Te),Te.length>0}function qt(fe,Te){let De=q.blockers.get(fe)||lu;return le.get(fe)!==Te&&le.set(fe,Te),De}function er(fe){q.blockers.delete(fe),le.delete(fe)}function nr(fe,Te){let De=q.blockers.get(fe)||lu;kr(De.state==="unblocked"&&Te.state==="blocked"||De.state==="blocked"&&Te.state==="blocked"||De.state==="blocked"&&Te.state==="proceeding"||De.state==="blocked"&&Te.state==="unblocked"||De.state==="proceeding"&&Te.state==="unblocked",`Invalid blocker state transition: ${De.state} -> ${Te.state}`);let Ke=new Map(q.blockers);Ke.set(fe,Te),et({blockers:Ke})}function br({currentLocation:fe,nextLocation:Te,historyAction:De}){if(le.size===0)return;le.size>1&&ya(!1,"A router only supports one blocker at a time");let Ke=Array.from(le.entries()),[Ae,jt]=Ke[Ke.length-1],It=q.blockers.get(Ae);if(!(It&&It.state==="proceeding")&&jt({currentLocation:fe,nextLocation:Te,historyAction:De}))return Ae}function na(fe){let Te=ns(404,{pathname:fe}),De=u||d,{matches:Ke,route:Ae}=i1(De);return{notFoundMatches:Ke,route:Ae,error:Te}}function yr(fe,Te,De){if(C=fe,E=Te,T=De||null,!A&&q.navigation===Ng){A=!0;let Ke=vn(q.location,q.matches);Ke!=null&&et({restoreScrollPosition:Ke})}return()=>{C=null,E=null,T=null}}function Gr(fe,Te){return T&&T(fe,Te.map(Ke=>n_(Ke,q.loaderData)))||fe.key}function Ka(fe,Te){if(C&&E){let De=Gr(fe,Te);C[De]=E()}}function vn(fe,Te){if(C){let De=Gr(fe,Te),Ke=C[De];if(typeof Ke=="number")return Ke}return null}function Wa(fe,Te,De){if(e.patchRoutesOnNavigation)if(fe){if(Object.keys(fe[0].params).length>0)return{active:!0,matches:R0(Te,De,f,!0)}}else return{active:!0,matches:R0(Te,De,f,!0)||[]};return{active:!1,matches:null}}function ze(fe,Te,De,Ke){return Ne(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:fe};let Ae=fe;for(;;){let jt=u==null,It=u||d,zt=l;try{yield e.patchRoutesOnNavigation({signal:De,path:Te,matches:Ae,fetcherKey:Ke,patch:(Ft,tr)=>{De.aborted||Zv(Ft,tr,It,zt,o)}})}catch(Ft){return{type:"error",error:Ft,partialMatches:Ae}}finally{jt&&!De.aborted&&(d=[...d])}if(De.aborted)return{type:"aborted"};let Rt=_i(It,Te,f);if(Rt)return{type:"success",matches:Rt};let sr=R0(It,Te,f,!0);if(!sr||Ae.length===sr.length&&Ae.every((Ft,tr)=>Ft.route.id===sr[tr].route.id))return{type:"success",matches:null};Ae=sr}})}function tt(fe){l={},u=G0(fe,o,void 0,l)}function Er(fe,Te){let De=u==null;Zv(fe,Te,u||d,l,o),De&&(d=[...d],et({}))}return z={get basename(){return f},get future(){return y},get state(){return q},get routes(){return d},get window(){return r},initialize:Ue,subscribe:yt,enableScrollRestoration:yr,navigate:Tt,fetch:lt,revalidate:gr,createHref:fe=>e.history.createHref(fe),encodeLocation:fe=>e.history.encodeLocation(fe),getFetcher:ut,deleteFetcher:Ze,dispose:it,getBlocker:qt,deleteBlocker:er,patchRoutes:Er,_internalFetchControllers:ie,_internalSetRoutes:tt},z}function T_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function lp(e,r,t,s,o,l){let d,u;if(o){d=[];for(let m of r)if(d.push(m),m.route.id===o){u=m;break}}else d=r,u=r[r.length-1];let f=ih(s||".",oh(d),ls(e.pathname,t)||e.pathname,l==="path");if(s==null&&(f.search=e.search,f.hash=e.hash),(s==null||s===""||s===".")&&u){let m=fy(f.search);if(u.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&m){let y=new URLSearchParams(f.search),k=y.getAll("index");y.delete("index"),k.filter(C=>C).forEach(C=>y.append("index",C));let _=y.toString();f.search=_?`?${_}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:no([t,f.pathname])),Mi(f)}function Qv(e,r,t){if(!t||!T_(t))return{path:r};if(t.formMethod&&!B_(t.formMethod))return{path:r,error:ns(405,{method:t.formMethod})};let s=()=>({path:r,error:ns(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),d=i3(r);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vn(l))return s();let k=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[C,T])=>`${_}${C}=${T}
`,""):String(t.body);return{path:r,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:void 0,text:k}}}else if(t.formEncType==="application/json"){if(!Vn(l))return s();try{let k=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:r,submission:{formMethod:l,formAction:d,formEncType:t.formEncType,formData:void 0,json:k,text:void 0}}}catch(k){return s()}}}kr(typeof FormData=="function","FormData is not available in this environment");let u,f;if(t.formData)u=up(t.formData),f=t.formData;else if(t.body instanceof FormData)u=up(t.body),f=t.body;else if(t.body instanceof URLSearchParams)u=t.body,f=a1(u);else if(t.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(t.body),f=a1(u)}catch(k){return s()}let m={formMethod:l,formAction:d,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vn(m.formMethod))return{path:r,submission:m};let y=Li(r);return e&&y.search&&fy(y.search)&&u.append("index",""),y.search=`?${u}`,{path:Mi(y),submission:m}}function Xv(e,r,t,s,o,l,d,u,f,m,y,k,_,C,T,E,A,M,B,H){var se;let O=H?Gn(H[1])?H[1].error:H[1].data:void 0,z=o.createURL(l.location),q=o.createURL(f),ae;if(y&&l.errors){let de=Object.keys(l.errors)[0];ae=d.findIndex(pe=>pe.route.id===de)}else if(H&&Gn(H[1])){let de=H[0];ae=d.findIndex(pe=>pe.route.id===de)-1}let he=H?H[1].statusCode:void 0,ee=he&&he>=400,Ee=_e(Y({currentUrl:z,currentParams:((se=l.matches[0])==null?void 0:se.params)||{},nextUrl:q,nextParams:d[0].params},u),{actionResult:O,actionStatus:he}),ce=d.map((de,pe)=>{let{route:ie}=de,te=null;if(ae!=null&&pe>ae?te=!1:ie.lazy?te=!0:ie.loader==null?te=!1:y?te=cp(ie,l.loaderData,l.errors):O_(l.loaderData,l.matches[pe],de)&&(te=!0),te!==null)return dp(t,s,e,de,m,r,te);let W=ee?!1:k||z.pathname+z.search===q.pathname+q.search||z.search!==q.search||A_(l.matches[pe],de),be=_e(Y({},Ee),{defaultShouldRevalidate:W}),V=W0(de,be);return dp(t,s,e,de,m,r,V,be)}),ue=[];return T.forEach((de,pe)=>{if(y||!d.some(me=>me.route.id===de.routeId)||C.has(pe))return;let ie=l.fetchers.get(pe),te=ie&&ie.state!=="idle"&&ie.data===void 0,W=_i(A,de.path,M);if(!W){if(B&&te)return;ue.push({key:pe,routeId:de.routeId,path:de.path,matches:null,match:null,request:null,controller:null});return}if(E.has(pe))return;let be=gu(W,de.path),V=new AbortController,U=Tc(o,de.path,V.signal),ne=null;if(_.has(pe))_.delete(pe),ne=Mc(t,s,U,W,be,m,r);else if(te)k&&(ne=Mc(t,s,U,W,be,m,r));else{let me=_e(Y({},Ee),{defaultShouldRevalidate:ee?!1:k});W0(be,me)&&(ne=Mc(t,s,U,W,be,m,r,me))}ne&&ue.push({key:pe,routeId:de.routeId,path:de.path,matches:ne,match:be,request:U,controller:V})}),{dsMatches:ce,revalidatingFetchers:ue}}function cp(e,r,t){if(e.lazy)return!0;if(!e.loader)return!1;let s=r!=null&&e.id in r,o=t!=null&&t[e.id]!==void 0;return!s&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!o}function O_(e,r,t){let s=!r||t.route.id!==r.route.id,o=!e.hasOwnProperty(t.route.id);return s||o}function A_(e,r){let t=e.route.path;return e.pathname!==r.pathname||t!=null&&t.endsWith("*")&&e.params["*"]!==r.params["*"]}function W0(e,r){if(e.route.shouldRevalidate){let t=e.route.shouldRevalidate(r);if(typeof t=="boolean")return t}return r.defaultShouldRevalidate}function Zv(e,r,t,s,o){let l;if(e){let f=s[e];kr(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),l=f.children}else l=t;let d=r.filter(f=>!l.some(m=>r3(f,m))),u=G0(d,o,[e||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...u)}function r3(e,r){return"id"in e&&"id"in r&&e.id===r.id?!0:e.index===r.index&&e.path===r.path&&e.caseSensitive===r.caseSensitive?(!e.children||e.children.length===0)&&(!r.children||r.children.length===0)?!0:e.children.every((t,s)=>{var o;return(o=r.children)==null?void 0:o.some(l=>r3(t,l))}):!1}var Jv=new WeakMap,a3=({key:e,route:r,manifest:t,mapRouteProperties:s})=>{let o=t[r.id];if(kr(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[e];if(!l)return;let d=Jv.get(o);d||(d={},Jv.set(o,d));let u=d[e];if(u)return u;let f=Ne(null,null,function*(){let m=e_(e),k=o[e]!==void 0&&e!=="hasErrorBoundary";if(m)ya(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),d[e]=Promise.resolve();else if(k)ya(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let _=yield l();_!=null&&(Object.assign(o,{[e]:_}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(_=>_===void 0)&&(o.lazy=void 0))});return d[e]=f,f},e1=new WeakMap;function R_(e,r,t,s,o){let l=t[e.id];if(kr(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let y=e1.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let k=Ne(null,null,function*(){kr(typeof e.lazy=="function","No lazy route function found");let _=yield e.lazy(),C={};for(let T in _){let E=_[T];if(E===void 0)continue;let A=r_(T),B=l[T]!==void 0&&T!=="hasErrorBoundary";A?ya(!A,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?ya(!B,`Route "${l.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):C[T]=E}Object.assign(l,C),Object.assign(l,_e(Y({},s(l)),{lazy:void 0}))});return e1.set(l,k),k.catch(()=>{}),{lazyRoutePromise:k,lazyHandlerPromise:k}}let d=Object.keys(e.lazy),u=[],f;for(let y of d){if(o&&o.includes(y))continue;let k=a3({key:y,route:e,manifest:t,mapRouteProperties:s});k&&(u.push(k),y===r&&(f=k))}let m=u.length>0?Promise.all(u).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}function t1(e){return Ne(this,null,function*(){let r=e.matches.filter(o=>o.shouldLoad),t={};return(yield Promise.all(r.map(o=>o.resolve()))).forEach((o,l)=>{t[r[l].route.id]=o}),t})}function P_(e){return Ne(this,null,function*(){return e.matches.some(r=>r.route.unstable_middleware)?n3(e,!1,()=>t1(e),(r,t)=>({[t]:{type:"error",result:r}})):t1(e)})}function n3(e,r,t,s){return Ne(this,null,function*(){let{matches:o,request:l,params:d,context:u}=e,f={handlerResult:void 0};try{let m=o.flatMap(k=>k.route.unstable_middleware?k.route.unstable_middleware.map(_=>[k.route.id,_]):[]),y=yield s3({request:l,params:d,context:u},m,r,f,t);return r?y:f.handlerResult}catch(m){if(!f.middlewareError)throw m;let y=yield s(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}})}function s3(e,r,t,s,o,l=0){return Ne(this,null,function*(){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let u=r[l];if(!u)return s.handlerResult=yield o(),s.handlerResult;let[f,m]=u,y=!1,k,_=()=>Ne(null,null,function*(){if(y)throw new Error("You may only call `next()` once per middleware");y=!0,yield s3(e,r,t,s,o,l+1)});try{let C=yield m({request:e.request,params:e.params,context:e.context},_);return y?C===void 0?k:C:_()}catch(C){throw s.middlewareError?s.middlewareError.error!==C&&(s.middlewareError={routeId:f,error:C}):s.middlewareError={routeId:f,error:C},C}})}function o3(e,r,t,s,o){let l=a3({key:"unstable_middleware",route:s.route,manifest:r,mapRouteProperties:e}),d=R_(s.route,Vn(t.method)?"action":"loader",r,e,o);return{middleware:l,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function dp(e,r,t,s,o,l,d,u=null){let f=!1,m=o3(e,r,t,s,o);return _e(Y({},s),{_lazyPromises:m,shouldLoad:d,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(y){return f=!0,u?typeof y=="boolean"?W0(s,_e(Y({},u),{defaultShouldRevalidate:y})):W0(s,u):d},resolve(y){return f||d||y&&t.method==="GET"&&(s.route.lazy||s.route.loader)?D_({request:t,match:s,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}})}function Mc(e,r,t,s,o,l,d,u=null){return s.map(f=>f.route.id!==o.route.id?_e(Y({},f),{shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:o3(e,r,t,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}):dp(e,r,t,f,l,d,!0,u))}function M_(e,r,t,s,o,l){return Ne(this,null,function*(){t.some(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})&&(yield Promise.all(t.map(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})));let d={request:r,params:t[0].params,context:o,matches:t},u=m=>{let y=d;return n3(y,!1,()=>m(_e(Y({},y),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(k,_)=>({[_]:{type:"error",result:k}}))},f=yield e(_e(Y({},d),{fetcherKey:s,unstable_runClientMiddleware:u}));try{yield Promise.all(t.flatMap(m=>{var y,k;return[(y=m._lazyPromises)==null?void 0:y.handler,(k=m._lazyPromises)==null?void 0:k.route]}))}catch(m){}return f})}function D_(d){return Ne(this,arguments,function*({request:e,match:r,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:o,scopedContext:l}){let u,f,m=Vn(e.method),y=m?"action":"loader",k=_=>{let C,T=new Promise((M,B)=>C=B);f=()=>C(),e.signal.addEventListener("abort",f);let E=M=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${r.route.id}]`)):_({request:e,params:r.params,context:l},...M!==void 0?[M]:[]),A=Ne(null,null,function*(){try{return{type:"data",result:yield o?o(B=>E(B)):E()}}catch(M){return{type:"error",result:M}}});return Promise.race([A,T])};try{let _=m?r.route.action:r.route.loader;if(t||s)if(_){let C,[T]=yield Promise.all([k(_).catch(E=>{C=E}),t,s]);if(C!==void 0)throw C;u=T}else{yield t;let C=m?r.route.action:r.route.loader;if(C)[u]=yield Promise.all([k(C),s]);else if(y==="action"){let T=new URL(e.url),E=T.pathname+T.search;throw ns(405,{method:e.method,pathname:E,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(_)u=yield k(_);else{let C=new URL(e.url),T=C.pathname+C.search;throw ns(404,{pathname:T})}}catch(_){return{type:"error",result:_}}finally{f&&e.signal.removeEventListener("abort",f)}return u})}function I_(e){return Ne(this,null,function*(){var s,o,l,d,u,f;let{result:r,type:t}=e;if(l3(r)){let m;try{let y=r.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?r.body==null?m=null:m=yield r.json():m=yield r.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new K0(r.status,r.statusText,m),statusCode:r.status,headers:r.headers}:{type:"data",data:m,statusCode:r.status,headers:r.headers}}return t==="error"?l1(r)?r.data instanceof Error?{type:"error",error:r.data,statusCode:(s=r.init)==null?void 0:s.status,headers:(o=r.init)!=null&&o.headers?new Headers(r.init.headers):void 0}:{type:"error",error:new K0(((l=r.init)==null?void 0:l.status)||500,void 0,r.data),statusCode:vu(r)?r.status:void 0,headers:(d=r.init)!=null&&d.headers?new Headers(r.init.headers):void 0}:{type:"error",error:r,statusCode:vu(r)?r.status:void 0}:l1(r)?{type:"data",data:r.data,statusCode:(u=r.init)==null?void 0:u.status,headers:(f=r.init)!=null&&f.headers?new Headers(r.init.headers):void 0}:{type:"data",data:r}})}function L_(e,r,t,s,o){let l=e.headers.get("Location");if(kr(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!uy.test(l)){let d=s.slice(0,s.findIndex(u=>u.route.id===t)+1);l=lp(new URL(r.url),d,o,l),e.headers.set("Location",l)}return e}function r1(e,r,t){if(uy.test(e)){let s=e,o=s.startsWith("//")?new URL(r.protocol+s):new URL(s),l=ls(o.pathname,t)!=null;if(o.origin===r.origin&&l)return o.pathname+o.search+o.hash}return e}function Tc(e,r,t,s){let o=e.createURL(i3(r)).toString(),l={signal:t};if(s&&Vn(s.formMethod)){let{formMethod:d,formEncType:u}=s;l.method=d.toUpperCase(),u==="application/json"?(l.headers=new Headers({"Content-Type":u}),l.body=JSON.stringify(s.json)):u==="text/plain"?l.body=s.text:u==="application/x-www-form-urlencoded"&&s.formData?l.body=up(s.formData):l.body=s.formData}return new Request(o,l)}function up(e){let r=new URLSearchParams;for(let[t,s]of e.entries())r.append(t,typeof s=="string"?s:s.name);return r}function a1(e){let r=new FormData;for(let[t,s]of e.entries())r.append(t,s);return r}function U_(e,r,t,s=!1,o=!1){let l={},d=null,u,f=!1,m={},y=t&&Gn(t[1])?t[1].error:void 0;return e.forEach(k=>{if(!(k.route.id in r))return;let _=k.route.id,C=r[_];if(kr(!hl(C),"Cannot handle redirect results in processLoaderData"),Gn(C)){let T=C.error;if(y!==void 0&&(T=y,y=void 0),d=d||{},o)d[_]=T;else{let E=fl(e,_);d[E.route.id]==null&&(d[E.route.id]=T)}s||(l[_]=t3),f||(f=!0,u=vu(C.error)?C.error.status:500),C.headers&&(m[_]=C.headers)}else l[_]=C.data,C.statusCode&&C.statusCode!==200&&!f&&(u=C.statusCode),C.headers&&(m[_]=C.headers)}),y!==void 0&&t&&(d={[t[0]]:y},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:d,statusCode:u||200,loaderHeaders:m}}function n1(e,r,t,s,o,l){let{loaderData:d,errors:u}=U_(r,t,s);return o.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:y,controller:k}=f,_=l[m];if(kr(_,"Did not find corresponding fetcher result"),!(k&&k.signal.aborted))if(Gn(_)){let C=fl(e.matches,y==null?void 0:y.route.id);u&&u[C.route.id]||(u=_e(Y({},u),{[C.route.id]:_.error})),e.fetchers.delete(m)}else if(hl(_))kr(!1,"Unhandled fetcher revalidation redirect");else{let C=ji(_.data);e.fetchers.set(m,C)}}),{loaderData:d,errors:u}}function s1(e,r,t,s){let o=Object.entries(r).filter(([,l])=>l!==t3).reduce((l,[d,u])=>(l[d]=u,l),{});for(let l of t){let d=l.route.id;if(!r.hasOwnProperty(d)&&e.hasOwnProperty(d)&&l.route.loader&&(o[d]=e[d]),s&&s.hasOwnProperty(d))break}return o}function o1(e){return e?Gn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function fl(e,r){return(r?e.slice(0,e.findIndex(s=>s.route.id===r)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function i1(e){let r=e.length===1?e[0]:e.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function ns(e,{pathname:r,routeId:t,method:s,type:o,message:l}={}){let d="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(d="Bad Request",s&&r&&t?u=`You made a ${s} request to "${r}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(u="Unable to encode submission body")):e===403?(d="Forbidden",u=`Route "${t}" does not match URL "${r}"`):e===404?(d="Not Found",u=`No route matches URL "${r}"`):e===405&&(d="Method Not Allowed",s&&r&&t?u=`You made a ${s.toUpperCase()} request to "${r}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(u=`Invalid request method "${s.toUpperCase()}"`)),new K0(e||500,d,new Error(u),!0)}function m0(e){let r=Object.entries(e);for(let t=r.length-1;t>=0;t--){let[s,o]=r[t];if(hl(o))return{key:s,result:o}}}function i3(e){let r=typeof e=="string"?Li(e):e;return Mi(_e(Y({},r),{hash:""}))}function F_(e,r){return e.pathname!==r.pathname||e.search!==r.search?!1:e.hash===""?r.hash!=="":e.hash===r.hash?!0:r.hash!==""}function z_(e){return l3(e.result)&&__.has(e.result.status)}function Gn(e){return e.type==="error"}function hl(e){return(e&&e.type)==="redirect"}function l1(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function l3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function B_(e){return k_.has(e.toUpperCase())}function Vn(e){return j_.has(e.toUpperCase())}function fy(e){return new URLSearchParams(e).getAll("index").some(r=>r==="")}function gu(e,r){let t=typeof r=="string"?Li(r).search:r.search;if(e[e.length-1].route.index&&fy(t||""))return e[e.length-1];let s=Zw(e);return s[s.length-1]}function c1(e){let{formMethod:r,formAction:t,formEncType:s,text:o,formData:l,json:d}=e;if(!(!r||!t||!s)){if(o!=null)return{formMethod:r,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:r,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(d!==void 0)return{formMethod:r,formAction:t,formEncType:s,formData:void 0,json:d,text:void 0}}}function kg(e,r){return r?{state:"loading",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function q_(e,r){return{state:"submitting",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function cu(e,r){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function H_(e,r){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r?r.data:void 0}}function ji(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function G_(e,r){try{let t=e.sessionStorage.getItem(e3);if(t){let s=JSON.parse(t);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&r.set(o,new Set(l||[]))}}catch(t){}}function V_(e,r){if(r.size>0){let t={};for(let[s,o]of r)t[s]=[...o];try{e.sessionStorage.setItem(e3,JSON.stringify(t))}catch(s){ya(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function K_(){let e,r,t=new Promise((s,o)=>{e=l=>Ne(null,null,function*(){s(l);try{yield t}catch(d){}}),r=l=>Ne(null,null,function*(){o(l);try{yield t}catch(d){}})});return{promise:t,resolve:e,reject:r}}var Ml=S.createContext(null);Ml.displayName="DataRouter";var Yu=S.createContext(null);Yu.displayName="DataRouterState";var hy=S.createContext({isTransitioning:!1});hy.displayName="ViewTransition";var c3=S.createContext(new Map);c3.displayName="Fetchers";var W_=S.createContext(null);W_.displayName="Await";var Ds=S.createContext(null);Ds.displayName="Navigation";var lh=S.createContext(null);lh.displayName="Location";var cs=S.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var my=S.createContext(null);my.displayName="RouteError";function Y_(e,{relative:r}={}){kr(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=S.useContext(Ds),{hash:o,pathname:l,search:d}=Qu(e,{relative:r}),u=l;return t!=="/"&&(u=l==="/"?t:no([t,l])),s.createHref({pathname:u,search:d,hash:o})}function ad(){return S.useContext(lh)!=null}function Rn(){return kr(ad(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(lh).location}var d3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u3(e){S.useContext(Ds).static||S.useLayoutEffect(e)}function xa(){let{isDataRoute:e}=S.useContext(cs);return e?d6():Q_()}function Q_(){kr(ad(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Ml),{basename:r,navigator:t}=S.useContext(Ds),{matches:s}=S.useContext(cs),{pathname:o}=Rn(),l=JSON.stringify(oh(s)),d=S.useRef(!1);return u3(()=>{d.current=!0}),S.useCallback((f,m={})=>{if(ya(d.current,d3),!d.current)return;if(typeof f=="number"){t.go(f);return}let y=ih(f,JSON.parse(l),o,m.relative==="path");e==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:no([r,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[r,t,l,o,e])}var X_=S.createContext(null);function Z_(e){let r=S.useContext(cs).outlet;return r&&S.createElement(X_.Provider,{value:e},r)}function gy(){let{matches:e}=S.useContext(cs),r=e[e.length-1];return r?r.params:{}}function Qu(e,{relative:r}={}){let{matches:t}=S.useContext(cs),{pathname:s}=Rn(),o=JSON.stringify(oh(t));return S.useMemo(()=>ih(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function J_(e,r,t,s){kr(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Ds),{matches:l}=S.useContext(cs),d=l[l.length-1],u=d?d.params:{},f=d?d.pathname:"/",m=d?d.pathnameBase:"/",y=d&&d.route;{let M=y&&y.path||"";f3(f,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let k=Rn(),_;_=k;let C=_.pathname||"/",T=C;if(m!=="/"){let M=m.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=_i(e,{pathname:T});return ya(y||E!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ya(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),n6(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:no([m,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:no([m,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,s)}function e6(){let e=c6(),r=vu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},r),t?S.createElement("pre",{style:o},t):null,d)}var t6=S.createElement(e6,null),r6=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(cs.Provider,{value:this.props.routeContext},S.createElement(my.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a6({routeContext:e,match:r,children:t}){let s=S.useContext(Ml);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(cs.Provider,{value:e},t)}function n6(e,r=[],t=null,s=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let o=e,l=t==null?void 0:t.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);kr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,u=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:y,errors:k}=t,_=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!k||k[m.route.id]===void 0);if(m.route.lazy||_){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,y)=>{let k,_=!1,C=null,T=null;t&&(k=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||t6,d&&(u<0&&y===0?(f3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):u===y&&(_=!0,T=m.route.hydrateFallbackElement||null)));let E=r.concat(o.slice(0,y+1)),A=()=>{let M;return k?M=C:_?M=T:m.route.Component?M=S.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,S.createElement(a6,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:t!=null},children:M})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?S.createElement(r6,{location:t.location,revalidation:t.revalidation,component:C,error:k,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):A()},null)}function py(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s6(e){let r=S.useContext(Ml);return kr(r,py(e)),r}function o6(e){let r=S.useContext(Yu);return kr(r,py(e)),r}function i6(e){let r=S.useContext(cs);return kr(r,py(e)),r}function yy(e){let r=i6(e),t=r.matches[r.matches.length-1];return kr(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function l6(){return yy("useRouteId")}function c6(){var s;let e=S.useContext(my),r=o6("useRouteError"),t=yy("useRouteError");return e!==void 0?e:(s=r.errors)==null?void 0:s[t]}function d6(){let{router:e}=s6("useNavigate"),r=yy("useNavigate"),t=S.useRef(!1);return u3(()=>{t.current=!0}),S.useCallback((d,...u)=>Ne(null,[d,...u],function*(o,l={}){ya(t.current,d3),t.current&&(typeof o=="number"?e.navigate(o):yield e.navigate(o,Y({fromRouteId:r},l)))}),[e,r])}var d1={};function f3(e,r,t){!r&&!d1[e]&&(d1[e]=!0,ya(!1,t))}var u1={};function f1(e,r){!e&&!u1[r]&&(u1[r]=!0,console.warn(r))}function u6(e){let r={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&ya(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(r,{element:S.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&ya(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(r,{hydrateFallbackElement:S.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&ya(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(r,{errorElement:S.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),r}var f6=["HydrateFallback","hydrateFallbackElement"],h6=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",e(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",r(t))}})}};function m6({router:e,flushSync:r}){let[t,s]=S.useState(e.state),[o,l]=S.useState(),[d,u]=S.useState({isTransitioning:!1}),[f,m]=S.useState(),[y,k]=S.useState(),[_,C]=S.useState(),T=S.useRef(new Map),E=S.useCallback((H,{deletedFetchers:O,flushSync:z,viewTransitionOpts:q})=>{H.fetchers.forEach((he,ee)=>{he.data!==void 0&&T.current.set(ee,he.data)}),O.forEach(he=>T.current.delete(he)),f1(z===!1||r!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ae=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(f1(q==null||ae,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!q||!ae){r&&z?r(()=>s(H)):S.startTransition(()=>s(H));return}if(r&&z){r(()=>{y&&(f&&f.resolve(),y.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let he=e.window.document.startViewTransition(()=>{r(()=>s(H))});he.finished.finally(()=>{r(()=>{m(void 0),k(void 0),l(void 0),u({isTransitioning:!1})})}),r(()=>k(he));return}y?(f&&f.resolve(),y.skipTransition(),C({state:H,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(l(H),u({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[e.window,r,y,f]);S.useLayoutEffect(()=>e.subscribe(E),[e,E]),S.useEffect(()=>{d.isTransitioning&&!d.flushSync&&m(new h6)},[d]),S.useEffect(()=>{if(f&&o&&e.window){let H=o,O=f.promise,z=e.window.document.startViewTransition(()=>Ne(null,null,function*(){S.startTransition(()=>s(H)),yield O}));z.finished.finally(()=>{m(void 0),k(void 0),l(void 0),u({isTransitioning:!1})}),k(z)}},[o,f,e.window]),S.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,y,t.location,o]),S.useEffect(()=>{!d.isTransitioning&&_&&(l(_.state),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),C(void 0))},[d.isTransitioning,_]);let A=S.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:H=>e.navigate(H),push:(H,O,z)=>e.navigate(H,{state:O,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(H,O,z)=>e.navigate(H,{replace:!0,state:O,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[e]),M=e.basename||"/",B=S.useMemo(()=>({router:e,navigator:A,static:!1,basename:M}),[e,A,M]);return S.createElement(S.Fragment,null,S.createElement(Ml.Provider,{value:B},S.createElement(Yu.Provider,{value:t},S.createElement(c3.Provider,{value:T.current},S.createElement(hy.Provider,{value:d},S.createElement(b6,{basename:M,location:t.location,navigationType:t.historyAction,navigator:A},S.createElement(g6,{routes:e.routes,future:e.future,state:t})))))),null)}var g6=S.memo(p6);function p6({routes:e,future:r,state:t}){return J_(e,void 0,t,r)}function y6({to:e,replace:r,state:t,relative:s}){kr(ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Ds);ya(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(cs),{pathname:d}=Rn(),u=xa(),f=ih(e,oh(l),d,s==="path"),m=JSON.stringify(f);return S.useEffect(()=>{u(JSON.parse(m),{replace:r,state:t,relative:s})},[u,m,s,r,t]),null}function x6(e){return Z_(e.context)}function b6({basename:e="/",children:r=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){kr(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Li(t));let{pathname:f="/",search:m="",hash:y="",state:k=null,key:_="default"}=t,C=S.useMemo(()=>{let T=ls(f,d);return T==null?null:{location:{pathname:T,search:m,hash:y,state:k,key:_},navigationType:s}},[d,f,m,y,k,_,s]);return ya(C!=null,`<Router basename="${d}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:S.createElement(Ds.Provider,{value:u},S.createElement(lh.Provider,{children:r,value:C}))}var P0="get",M0="application/x-www-form-urlencoded";function ch(e){return e!=null&&typeof e.tagName=="string"}function v6(e){return ch(e)&&e.tagName.toLowerCase()==="button"}function w6(e){return ch(e)&&e.tagName.toLowerCase()==="form"}function j6(e){return ch(e)&&e.tagName.toLowerCase()==="input"}function N6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k6(e,r){return e.button===0&&(!r||r==="_self")&&!N6(e)}function fp(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let s=e[t];return r.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function _6(e,r){let t=fp(e);return r&&r.forEach((s,o)=>{t.has(o)||r.getAll(o).forEach(l=>{t.append(o,l)})}),t}var g0=null;function S6(){if(g0===null)try{new FormData(document.createElement("form"),0),g0=!1}catch(e){g0=!0}return g0}var C6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _g(e){return e!=null&&!C6.has(e)?(ya(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${M0}"`),null):e}function $6(e,r){let t,s,o,l,d;if(w6(e)){let u=e.getAttribute("action");s=u?ls(u,r):null,t=e.getAttribute("method")||P0,o=_g(e.getAttribute("enctype"))||M0,l=new FormData(e)}else if(v6(e)||j6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(s=f?ls(f,r):null,t=e.getAttribute("formmethod")||u.getAttribute("method")||P0,o=_g(e.getAttribute("formenctype"))||_g(u.getAttribute("enctype"))||M0,l=new FormData(u,e),!S6()){let{name:m,type:y,value:k}=e;if(y==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,k)}}else{if(ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=P0,s=null,o=M0,d=e}return l&&o==="text/plain"&&(d=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:d}}function xy(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function E6(e,r){return Ne(this,null,function*(){if(e.id in r)return r[e.id];try{let t=yield import(e.module);return r[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function T6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function O6(e,r,t){return Ne(this,null,function*(){let s=yield Promise.all(e.map(o=>Ne(null,null,function*(){let l=r.routes[o.route.id];if(l){let d=yield E6(l,t);return d.links?d.links():[]}return[]})));return M6(s.flat(1).filter(T6).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?_e(Y({},o),{rel:"prefetch",as:"style"}):_e(Y({},o),{rel:"prefetch"})))})}function h1(e,r,t,s,o,l){let d=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,u=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return l==="assets"?r.filter((f,m)=>d(f,m)||u(f,m)):l==="data"?r.filter((f,m)=>{var k;let y=s.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(d(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((k=t[0])==null?void 0:k.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function A6(e,r,{includeHydrateFallback:t}={}){return R6(e.map(s=>{let o=r.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function R6(e){return[...new Set(e)]}function P6(e){let r={},t=Object.keys(e).sort();for(let s of t)r[s]=e[s];return r}function M6(e,r){let t=new Set;return new Set(r),e.reduce((s,o)=>{let l=JSON.stringify(P6(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D6=new Set([100,101,204,205]);function I6(e,r){let t=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":r&&ls(t.pathname,r)==="/"?t.pathname=`${r.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function h3(){let e=S.useContext(Ml);return xy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function L6(){let e=S.useContext(Yu);return xy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var by=S.createContext(void 0);by.displayName="FrameworkContext";function m3(){let e=S.useContext(by);return xy(e,"You must render this element inside a <HydratedRouter> element"),e}function U6(e,r){let t=S.useContext(by),[s,o]=S.useState(!1),[l,d]=S.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:k}=r,_=S.useRef(null);S.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let E=M=>{M.forEach(B=>{d(B.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[e]),S.useEffect(()=>{if(s){let E=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(E)}}},[s]);let C=()=>{o(!0)},T=()=>{o(!1),d(!1)};return t?e!=="intent"?[l,_,{}]:[l,_,{onFocus:du(u,C),onBlur:du(f,T),onMouseEnter:du(m,C),onMouseLeave:du(y,T),onTouchStart:du(k,C)}]:[!1,_,{}]}function du(e,r){return t=>{e&&e(t),t.defaultPrevented||r(t)}}function F6(t){var s=t,{page:e}=s,r=hr(s,["page"]);let{router:o}=h3(),l=S.useMemo(()=>_i(o.routes,e,o.basename),[o.routes,e,o.basename]);return l?S.createElement(B6,Y({page:e,matches:l},r)):null}function z6(e){let{manifest:r,routeModules:t}=m3(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return O6(e,r,t).then(d=>{l||o(d)}),()=>{l=!0}},[e,r,t]),s}function B6(s){var o=s,{page:e,matches:r}=o,t=hr(o,["page","matches"]);let l=Rn(),{manifest:d,routeModules:u}=m3(),{basename:f}=h3(),{loaderData:m,matches:y}=L6(),k=S.useMemo(()=>h1(e,r,y,d,l,"data"),[e,r,y,d,l]),_=S.useMemo(()=>h1(e,r,y,d,l,"assets"),[e,r,y,d,l]),C=S.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let A=new Set,M=!1;if(r.forEach(H=>{var z;let O=d.routes[H.route.id];!O||!O.hasLoader||(!k.some(q=>q.route.id===H.route.id)&&H.route.id in m&&((z=u[H.route.id])!=null&&z.shouldRevalidate)||O.hasClientLoader?M=!0:A.add(H.route.id))}),A.size===0)return[];let B=I6(e,f);return M&&A.size>0&&B.searchParams.set("_routes",r.filter(H=>A.has(H.route.id)).map(H=>H.route.id).join(",")),[B.pathname+B.search]},[f,m,l,d,k,r,e,u]),T=S.useMemo(()=>A6(_,d),[_,d]),E=z6(_);return S.createElement(S.Fragment,null,C.map(A=>S.createElement("link",Y({key:A,rel:"prefetch",as:"fetch",href:A},t))),T.map(A=>S.createElement("link",Y({key:A,rel:"modulepreload",href:A},t))),E.map(({key:A,link:M})=>S.createElement("link",Y({key:A},M))))}function q6(...e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}var g3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{g3&&(window.__reactRouterVersion="7.6.2")}catch(e){}function H6(e,r){return E_({basename:r==null?void 0:r.basename,unstable_getContext:r==null?void 0:r.unstable_getContext,future:r==null?void 0:r.future,history:Qk({window:r==null?void 0:r.window}),hydrationData:(r==null?void 0:r.hydrationData)||G6(),routes:e,mapRouteProperties:u6,hydrationRouteProperties:f6,dataStrategy:r==null?void 0:r.dataStrategy,patchRoutesOnNavigation:r==null?void 0:r.patchRoutesOnNavigation,window:r==null?void 0:r.window}).initialize()}function G6(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=_e(Y({},e),{errors:V6(e.errors)})),e}function V6(e){if(!e)return null;let r=Object.entries(e),t={};for(let[s,o]of r)if(o&&o.__type==="RouteErrorResponse")t[s]=new K0(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let d=new l(o.message);d.stack="",t[s]=d}catch(d){}}if(t[s]==null){let l=new Error(o.message);l.stack="",t[s]=l}}else t[s]=o;return t}var p3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xu=S.forwardRef(function(T,C){var E=T,{onClick:r,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:d,state:u,target:f,to:m,preventScrollReset:y,viewTransition:k}=E,_=hr(E,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:A}=S.useContext(Ds),M=typeof m=="string"&&p3.test(m),B,H=!1;if(typeof m=="string"&&M&&(B=m,g3))try{let ce=new URL(window.location.href),ue=m.startsWith("//")?new URL(ce.protocol+m):new URL(m),se=ls(ue.pathname,A);ue.origin===ce.origin&&se!=null?m=se+ue.search+ue.hash:H=!0}catch(ce){ya(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Y_(m,{relative:o}),[z,q,ae]=U6(s,_),he=Q6(m,{replace:d,state:u,target:f,preventScrollReset:y,relative:o,viewTransition:k});function ee(ce){r&&r(ce),ce.defaultPrevented||he(ce)}let Ee=S.createElement("a",_e(Y(Y({},_),ae),{href:B||O,onClick:H||l?r:ee,ref:q6(C,q),target:f,"data-discover":!M&&t==="render"?"true":void 0}));return z&&!M?S.createElement(S.Fragment,null,Ee,S.createElement(F6,{page:O})):Ee});Xu.displayName="Link";var K6=S.forwardRef(function(k,y){var _=k,{"aria-current":r="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:d,viewTransition:u,children:f}=_,m=hr(_,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let C=Qu(d,{relative:m.relative}),T=Rn(),E=S.useContext(Yu),{navigator:A,basename:M}=S.useContext(Ds),B=E!=null&&rS(C)&&u===!0,H=A.encodeLocation?A.encodeLocation(C).pathname:C.pathname,O=T.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(O=O.toLowerCase(),z=z?z.toLowerCase():null,H=H.toLowerCase()),z&&M&&(z=ls(z,M)||z);const q=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ae=O===H||!o&&O.startsWith(H)&&O.charAt(q)==="/",he=z!=null&&(z===H||!o&&z.startsWith(H)&&z.charAt(H.length)==="/"),ee={isActive:ae,isPending:he,isTransitioning:B},Ee=ae?r:void 0,ce;typeof s=="function"?ce=s(ee):ce=[s,ae?"active":null,he?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let ue=typeof l=="function"?l(ee):l;return S.createElement(Xu,_e(Y({},m),{"aria-current":Ee,className:ce,ref:y,style:ue,to:d,viewTransition:u}),typeof f=="function"?f(ee):f)});K6.displayName="NavLink";var W6=S.forwardRef((T,C)=>{var E=T,{discover:e="render",fetcherKey:r,navigate:t,reloadDocument:s,replace:o,state:l,method:d=P0,action:u,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:k}=E,_=hr(E,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let A=eS(),M=tS(u,{relative:m}),B=d.toLowerCase()==="get"?"get":"post",H=typeof u=="string"&&p3.test(u),O=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let q=z.nativeEvent.submitter,ae=(q==null?void 0:q.getAttribute("formmethod"))||d;A(q||z.currentTarget,{fetcherKey:r,method:ae,navigate:t,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:k})};return S.createElement("form",_e(Y({ref:C,method:B,action:M,onSubmit:s?f:O},_),{"data-discover":!H&&e==="render"?"true":void 0}))});W6.displayName="Form";function Y6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y3(e){let r=S.useContext(Ml);return kr(r,Y6(e)),r}function Q6(e,{target:r,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:d}={}){let u=xa(),f=Rn(),m=Qu(e,{relative:l});return S.useCallback(y=>{if(k6(y,r)){y.preventDefault();let k=t!==void 0?t:Mi(f)===Mi(m);u(e,{replace:k,state:s,preventScrollReset:o,relative:l,viewTransition:d})}},[f,u,m,t,s,r,e,o,l,d])}function X6(e){ya(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=S.useRef(fp(e)),t=S.useRef(!1),s=Rn(),o=S.useMemo(()=>_6(s.search,t.current?null:r.current),[s.search]),l=xa(),d=S.useCallback((u,f)=>{const m=fp(typeof u=="function"?u(o):u);t.current=!0,l("?"+m,f)},[l,o]);return[o,d]}var Z6=0,J6=()=>`__${String(++Z6)}__`;function eS(){let{router:e}=y3("useSubmit"),{basename:r}=S.useContext(Ds),t=l6();return S.useCallback((l,...d)=>Ne(null,[l,...d],function*(s,o={}){let{action:u,method:f,encType:m,formData:y,body:k}=$6(s,r);if(o.navigate===!1){let _=o.fetcherKey||J6();yield e.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:k,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else yield e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:k,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,r,t])}function tS(e,{relative:r}={}){let{basename:t}=S.useContext(Ds),s=S.useContext(cs);kr(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l=Y({},Qu(e||".",{relative:r})),d=Rn();if(e==null){l.search=d.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(y=>y==="")){u.delete("index"),f.filter(k=>k).forEach(k=>u.append("index",k));let y=u.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:no([t,l.pathname])),Mi(l)}function rS(e,r={}){let t=S.useContext(hy);kr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y3("useViewTransitionState"),o=Qu(e,{relative:r.relative});if(!t.isTransitioning)return!1;let l=ls(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=ls(t.nextLocation.pathname,s)||t.nextLocation.pathname;return V0(o.pathname,d)!=null||V0(o.pathname,l)!=null}[...D6];var vy=Kw();const aS=Pl(vy);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nS(e){return S.createElement(m6,Y({flushSync:vy.flushSync},e))}const jc={};class sS{constructor(){ug(this,"config");ug(this,"sessionId",null);const r=window.location.pathname.startsWith("/klik_pos"),t="";this.config={baseUrl:t,apiKey:(jc==null?void 0:jc.VITE_API_KEY)||"",apiSecret:(jc==null?void 0:jc.VITE_API_SECRET)||""}}getHeaders(r=!0){const t={"Content-Type":"application/json",Accept:"application/json"};if(r&&this.config.apiKey&&this.config.apiSecret){const s=btoa(`${this.config.apiKey}:${this.config.apiSecret}`);t.Authorization=`Basic ${s}`}return this.sessionId&&(t.Cookie=`sid=${this.sessionId}`),t}login(r,t){return Ne(this,null,function*(){var s,o;try{console.log("Attempting login to:",this.config.baseUrl);let l=yield fetch(`${this.config.baseUrl}/api/method/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:r,pwd:t}),credentials:"include"});if(console.log("Login response status:",l.status),console.log("Login response headers:",Object.fromEntries(l.headers.entries())),l.status===404&&(console.log("Trying alternative login endpoint..."),l=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:r,pwd:t}),credentials:"include"}),console.log("Alternative login response status:",l.status)),!l.ok){console.error("Login failed with status:",l.status);const u=yield l.text();console.error("Error response body:",u);let f=`HTTP ${l.status}: ${l.statusText}`;try{const m=JSON.parse(u);m.message?f=m.message:m.exc&&(f=m.exc)}catch(m){u&&u.trim()&&(f=u)}return{success:!1,message:f}}const d=yield l.json();if(console.log("Login response data:",d),d.message==="Logged In"||(s=d.message)!=null&&s.name||(o=d.message)!=null&&o.email){const u=l.headers.get("set-cookie");if(u){const m=u.match(/sid=([^;]+)/);m&&m[1]&&(this.sessionId=m[1],localStorage.setItem("erpnext_sid",this.sessionId),console.log("Session ID stored:",this.sessionId))}try{console.log("Fetching user profile data...");const m=yield this.getCurrentUserProfile();if(console.log("User profile fetched:",m),m)return{success:!0,message:"Login successful",user:{name:m.name||r,email:m.email||m.name||r,full_name:m.full_name||m.first_name+" "+(m.last_name||"")||r,role:m.role_profile_name||m.role||"User",first_name:m.first_name,last_name:m.last_name,user_image:m.user_image},sid:this.sessionId||void 0}}catch(m){console.warn("Failed to fetch user profile, using basic data:",m)}let f;return typeof d.message=="string"&&d.message==="Logged In"?f={name:r,email:r,full_name:r,role:"User"}:d.message&&typeof d.message=="object"?f={name:d.message.name||r,email:d.message.email||d.message.name||r,full_name:d.message.full_name||d.message.name||r,role:d.message.role||"User"}:f={name:r,email:r,full_name:r,role:"User"},{success:!0,message:"Login successful",user:f,sid:this.sessionId||void 0}}else return{success:!1,message:d.message||d.exc||"Login failed"}}catch(l){if(console.error("Login error details:",l),l instanceof TypeError&&l.message.includes("fetch"))return{success:!1,message:"Network error. Please check if the ERPNext server is accessible."};if(l instanceof Error){if(l.message.includes("timeout"))return{success:!1,message:"Connection timeout. Please try again."};if(l.message.includes("Failed to fetch"))return{success:!1,message:"Unable to connect to the server. Please check your internet connection."}}return{success:!1,message:"An unexpected error occurred. Please try again."}}})}logout(){return Ne(this,null,function*(){try{yield fetch(`${this.config.baseUrl}/api/method/logout`,{method:"POST",headers:this.getHeaders(),credentials:"include"})}catch(r){console.error("Logout error:",r)}finally{this.sessionId=null,localStorage.removeItem("erpnext_sid")}})}getCurrentUser(){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).message}catch(r){return console.error("Get current user error:",r),null}})}getCurrentUserProfile(){return Ne(this,null,function*(){try{const r=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!r.ok)throw new Error(`Failed to fetch logged user: ${r.status}`);const s=(yield r.json()).message;if(!s)throw new Error("No logged user found");const o=yield fetch(`${this.config.baseUrl}/api/resource/User/${s}`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!o.ok)throw new Error(`Failed to fetch user profile: ${o.status}`);return(yield o.json()).data}catch(r){throw console.error("Get user profile error:",r),r}})}testConnection(){return Ne(this,null,function*(){try{console.log("Testing connection to:",this.config.baseUrl);let r=yield fetch(`${this.config.baseUrl}/api/method/ping`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});return console.log("Ping response:",{status:r.status,statusText:r.statusText,headers:Object.fromEntries(r.headers.entries())}),r.status===404&&(console.log("Ping failed, trying version endpoint..."),r=yield fetch(`${this.config.baseUrl}/api/method/frappe.utils.get_site_info`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"})),r.ok?{success:!0,message:"Connection successful",details:yield r.json()}:{success:!1,message:`Server responded with status: ${r.status} - ${r.statusText}`,details:{status:r.status,statusText:r.statusText}}}catch(r){console.error("Connection test error details:",r);let t="Unknown error";return r instanceof Error&&(r.name==="AbortError"?t="Connection timeout - server took too long to respond":r.message.includes("CORS")?t="CORS error - server may not allow cross-origin requests":r.message.includes("Failed to fetch")?t="Network error - server may be unreachable or blocked":t=r.message),{success:!1,message:`Connection failed: ${t}`,details:r}}})}makeAPICall(s){return Ne(this,arguments,function*(r,t={}){const o=Y({method:"GET",headers:this.getHeaders(),credentials:"include"},t);try{console.log("Making API call:",{url:r,options:o});const l=yield fetch(r,o);return l.ok||console.error("API call failed:",{url:r,status:l.status,statusText:l.statusText,headers:Object.fromEntries(l.headers.entries())}),l}catch(l){throw console.error("API call error:",{url:r,error:l}),l}})}apiCall(s){return Ne(this,arguments,function*(r,t={}){try{return yield(yield this.makeAPICall(`${this.config.baseUrl}/api/method/${r}`,{method:"POST",body:JSON.stringify(t)})).json()}catch(o){throw console.error(`API call error (${r}):`,o),o}})}getDocList(o){return Ne(this,arguments,function*(r,t=["*"],s={}){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}?${new URLSearchParams({fields:JSON.stringify(t),filters:JSON.stringify(s)})}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(l){throw console.error(`Get ${r} list error:`,l),l}})}getDoc(r,t){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}/${t}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(s){throw console.error(`Get ${r} document error:`,s),s}})}createDoc(r,t){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t),credentials:"include"})).json()).data}catch(s){throw console.error(`Create ${r} document error:`,s),s}})}updateDoc(r,t,s){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}/${t}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(s),credentials:"include"})).json()).data}catch(o){throw console.error(`Update ${r} document error:`,o),o}})}validateSession(){return Ne(this,null,function*(){try{const r=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});return r.ok?!!(yield r.json()).message:!1}catch(r){return console.error("Session validation failed:",r),!1}})}initializeSession(){const r=localStorage.getItem("erpnext_sid");r&&(this.sessionId=r,console.log("Session restored from localStorage:",r))}}const ss=new sS,x3=S.createContext(void 0);function oS({children:e}){const[r,t]=S.useState(null),[s,o]=S.useState(!0),[l,d]=S.useState(!1);S.useEffect(()=>{d(!0)},[]),S.useEffect(()=>{if(!l)return;ss.initializeSession();const y=localStorage.getItem("erpnext_token"),k=localStorage.getItem("user_data");if(y&&k)try{const _=JSON.parse(k);t(_),Ne(null,null,function*(){try{if(!(yield ss.validateSession())){console.warn("Session is invalid, clearing auth data"),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid"),t(null);return}const E=yield ss.getCurrentUserProfile();if(E){const A={name:E.name||_.name,email:E.email||E.name||_.email,full_name:E.full_name||E.first_name+" "+(E.last_name||"")||_.full_name,role:E.role_profile_name||E.role||_.role||"User",first_name:E.first_name,last_name:E.last_name,user_image:E.user_image};t(A),localStorage.setItem("user_data",JSON.stringify(A))}}catch(T){console.warn("Failed to refresh user data, using cached data:",T)}})}catch(_){console.error("Error parsing user data:",_),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}o(!1)},[l]);const u=(y,k)=>Ne(null,null,function*(){try{o(!0);const _=yield ss.login(y,k);if(_.success&&_.user){console.log("Login successful:",_.user);const C={name:_.user.name||y,email:_.user.email||y,full_name:_.user.full_name||_.user.name||y,role:_.user.role||"User"};return t(C),localStorage.setItem("erpnext_token","authenticated"),localStorage.setItem("user_data",JSON.stringify(C)),{success:!0,message:_.message}}else return{success:!1,message:_.message}}catch(_){return console.error("Login error:",_),{success:!1,message:"Login failed. Please try again."}}finally{o(!1)}}),f=()=>Ne(null,null,function*(){yield ss.logout(),t(null),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}),m=()=>Ne(null,null,function*(){if(!r)return!1;try{return(yield ss.validateSession())?!0:(console.log("Session expired, logging out"),yield f(),!1)}catch(y){return console.error("Session check failed:",y),!1}});return a.jsx(x3.Provider,{value:{user:r,login:u,logout:f,checkSession:m,loading:s,isAuthenticated:!!r},children:e})}function Ui(){const e=S.useContext(x3);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function iS(){const[e,r]=S.useState(""),[t,s]=S.useState(""),[o,l]=S.useState(""),[d,u]=S.useState(!1),f=xa(),m=Rn(),{login:y}=Ui(),k=C=>Ne(null,null,function*(){var T,E;C.preventDefault(),u(!0),l("");try{const A=yield y(e,t);if(A.success){const M=((E=(T=m.state)==null?void 0:T.from)==null?void 0:E.pathname)||"/pos";f(M,{replace:!0})}else l(_(A.message))}catch(A){l("An unexpected error occurred. Please try again."),console.error("Login error:",A)}finally{u(!1)}}),_=C=>C.includes("HTTP 401")||C.includes("401")?"Invalid username or password. Please check your credentials and try again.":C.includes("HTTP 403")||C.includes("403")?"Access denied. Please contact your administrator.":C.includes("HTTP 404")||C.includes("404")?"Login service not available. Please contact your administrator.":C.includes("HTTP 500")||C.includes("500")?"Server error. Please try again later or contact your administrator.":C.includes("Network error")||C.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":C.includes("timeout")?"Connection timeout. Please try again.":C.includes("Invalid credentials")||C.includes("incorrect")?"Invalid username or password. Please check your credentials and try again.":C.includes("User not found")?"User not found. Please check your username and try again.":C.includes("Account disabled")?"Your account has been disabled. Please contact your administrator.":C.includes("Too many attempts")?"Too many login attempts. Please wait a few minutes before trying again.":C&&!C.includes("HTTP")&&!C.includes("Error:")?C:"Login failed. Please check your credentials and try again.";return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),a.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[a.jsxs("div",{className:"bg-white/95 rounded-2xl shadow-2xl p-6 backdrop-blur-sm",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"https://beverensoftware.com/wp-content/uploads/2023/06/cropped-15-1-180x180.png",alt:"KLiK PoS",className:"w-16 h-16 rounded-full shadow-lg"})}),a.jsx("h1",{className:"text-3xl font-bold text-beveren-800",children:"KLiK PoS"})]}),a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"username",type:"text",value:e,onChange:C=>r(C.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Username or Email",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:"password",value:t,onChange:C=>s(C.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Password",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),o&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:a.jsx("p",{className:"text-sm text-red-600 font-medium text-center",children:o})}),a.jsx("button",{type:"submit",disabled:d,className:"w-full bg-beveren-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-beveren-700 focus:outline-none focus:ring-4 focus:ring-beveren-300 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-beveren-400 disabled:cursor-not-allowed",children:d?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),a.jsx("span",{className:"ml-2",children:"Signing In..."})]}):"Sign In"})]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs("p",{className:"text-sm text-beveren-600",children:["Powered by"," ",a.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline",children:"Beveren Software"})]})})]})]})}const b3=S.createContext(void 0),lS={en:{LOGIN_TITLE:"Login",USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"Login",LOGGING_IN:"Logging in...",INVALID_CREDENTIALS:"Invalid credentials",LOGIN_ERROR:"Login error",PROFILE:"Profile",LOGOUT:"Logout",PAYMENT_TITLE:"Payment",SEARCH_PLACEHOLDER:"Search products",CART:"Cart",CART_EMPTY:"Your cart is empty",SUBTOTAL:"Subtotal",VAT:"VAT",TOTAL:"Total",PROMO_CODE_PLACEHOLDER:"Enter promo code",PROCEED_TO_CHECKOUT:"Proceed to Checkout",BACK_TO_CART:"Back to Cart",INVOICE_SUMMARY:"Invoice Summary",INVOICE_ID:"Invoice ID",DATE_TIME:"Date & Time",SCAN_TO_VERIFY:"Scan to Verify",PAYMENT_METHODS:"Payment Methods",CASH:"Cash",CARD:"Card",DIGITAL_WALLET:"Digital Wallet",AMOUNT_RECEIVED:"Amount Received",CHANGE:"Change",INSERT_OR_TAP_CARD:"Insert or Tap Card",SCAN_WITH_STC_PAY:"Scan with STC Pay",CONFIRM_PAYMENT:"Confirm Payment",OFFLINE_MESSAGE:"You are offline. New orders will sync when you're back online.",INVOICE_NOT_FOUND:"Invoice not found"},ar:{LOGIN_TITLE:" ",USERNAME:" ",PASSWORD:" ",LOGIN_BUTTON:"",LOGGING_IN:"  ...",INVALID_CREDENTIALS:"   ",LOGIN_ERROR:"   ",PROFILE:" ",LOGOUT:" ",PAYMENT_TITLE:"",SEARCH_PLACEHOLDER:"  ",CART:"",CART_EMPTY:" ",SUBTOTAL:" ",VAT:"  ",TOTAL:"",PROMO_CODE_PLACEHOLDER:"  ",PROCEED_TO_CHECKOUT:" ",BACK_TO_CART:" ",INVOICE_SUMMARY:" ",INVOICE_ID:" ",DATE_TIME:" ",SCAN_TO_VERIFY:" ",PAYMENT_METHODS:" ",CASH:"",CARD:"",DIGITAL_WALLET:" ",AMOUNT_RECEIVED:" ",CHANGE:"",INSERT_OR_TAP_CARD:"   ",SCAN_WITH_STC_PAY:"  STC Pay",CONFIRM_PAYMENT:" ",OFFLINE_MESSAGE:"  .      .",INVOICE_NOT_FOUND:"  "}};function cS({children:e}){const[r,t]=S.useState("en"),[s,o]=S.useState(!1);S.useEffect(()=>{o(!0)},[]),S.useEffect(()=>{if(!s)return;const f=localStorage.getItem("language")||"en";t(f),document.documentElement.dir=f==="ar"?"rtl":"ltr",document.documentElement.lang=f},[s]);const l=f=>{s&&(t(f),localStorage.setItem("language",f),document.documentElement.dir=f==="ar"?"rtl":"ltr",document.documentElement.lang=f)},d=f=>{var m;return((m=lS[r])==null?void 0:m[f])||f},u=r==="ar";return a.jsx(b3.Provider,{value:{language:r,setLanguage:l,t:d,isRTL:u},children:e})}function Dl(){const e=S.useContext(b3);if(e===void 0)throw new Error("useI18n must be used within an I18nProvider");return e}function v3(){const[e,r]=S.useState(null),[t,s]=S.useState(!0),[o,l]=S.useState(null),d=S.useCallback(()=>Ne(null,null,function*(){s(!0);try{const f=yield(yield fetch("/api/method/klik_pos.api.pos_entry.open_pos")).json();if(typeof f.message=="boolean")r(f.message);else throw new Error("Unexpected response")}catch(u){console.error("Error checking POS Opening Entry:",u),l(u.message||"Failed to check opening entry status")}finally{s(!1)}}),[]);return S.useEffect(()=>{d()},[d]),{hasOpenEntry:e,isLoading:t,error:o,refetch:d}}const w3=S.createContext(void 0),m1=1e3,g1=500;function dS({children:e}){const{isAuthenticated:r,loading:t}=Ui(),[s,o]=S.useState([]),[l,d]=S.useState(!0),[u,f]=S.useState(!1),[m,y]=S.useState(!1),[k,_]=S.useState(!1),[C,T]=S.useState(null),[E,A]=S.useState(null),[M,B]=S.useState(0),[H,O]=S.useState(!1),[z,q]=S.useState(0),[ae,he]=S.useState(""),ee=S.useRef(null),Ee=(...it)=>Ne(null,[...it],function*(le=m1,X=0,oe="",Ue=""){var yt,et,xt,Tt,gr,xe,st,Ot,ye,Xe,lt,mr;try{const Kt=new URLSearchParams({limit:le.toString(),offset:X.toString()});oe&&Kt.append("search",oe),Ue&&Ue!=="all"&&Kt.append("category",Ue);const J=yield fetch(`/api/method/klik_pos.api.item.get_items_with_balance_and_price?${Kt.toString()}`);if(!J.ok)throw new Error(`HTTP ${J.status}: ${J.statusText}`);const qe=yield J.json();console.log("[Products] Raw response payload",qe);const Ve=(yt=qe==null?void 0:qe.message)!=null?yt:qe;if(Ve&&typeof Ve=="object"){const dt=(Tt=(xt=(et=Ve.items)!=null?et:Ve.data)!=null?xt:Ve.results)!=null?Tt:qe.items;if(dt!==void 0){const ht=Array.isArray(dt)?dt:Object.values(dt);return console.log("[Products] Parsed items array length",ht.length,{total_count:Ve.total_count,has_more:Ve.has_more,offset:X,limit:le,search:oe}),{items:ht,total_count:(xe=(gr=Ve.total_count)!=null?gr:ht.length)!=null?xe:0,has_more:!!Ve.has_more}}if(Ve.total_count!==void 0||Ve.has_more!==void 0)return console.warn("[Products] No items but counts present",{total_count:Ve.total_count,has_more:Ve.has_more,offset:X,limit:le,search:oe}),{items:[],total_count:(st=Ve.total_count)!=null?st:0,has_more:!!Ve.has_more}}if(Array.isArray(Ve))return{items:Ve,total_count:Ve.length,has_more:!1};if(Ve!=null&&Ve.message){const dt=Ve.message,ht=(ye=(Ot=dt.items)!=null?Ot:dt.data)!=null?ye:dt.results;if(ht!==void 0){const vt=Array.isArray(ht)?ht:Object.values(ht);return console.log("[Products] Parsed inner items array length",vt.length,{total_count:dt.total_count,has_more:dt.has_more,offset:X,limit:le,search:oe}),{items:vt,total_count:(lt=(Xe=dt.total_count)!=null?Xe:vt.length)!=null?lt:0,has_more:!!dt.has_more}}if(dt.total_count!==void 0||dt.has_more!==void 0)return console.warn("[Products] No inner items but counts present",{total_count:dt.total_count,has_more:dt.has_more,offset:X,limit:le,search:oe}),{items:[],total_count:(mr=dt.total_count)!=null?mr:0,has_more:!!dt.has_more}}return console.error("Invalid response format:",qe,{offset:X,limit:le,search:oe,category:Ue}),{items:[],total_count:0,has_more:!1}}catch(Kt){return console.error("[Products] fetchProductsFromAPI error (fail-open)",Kt,{offset:X,limit:le,search:oe,category:Ue}),{items:[],total_count:0,has_more:!1}}}),ce=()=>Ne(null,null,function*(){try{const le=s.map(oe=>oe.id).join(",");if(!le)return{};const X=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(le)}`);if(X.ok){const oe=yield X.json();if(oe!=null&&oe.message&&typeof oe.message=="object")return oe.message}return{}}catch(le){return console.error("Error fetching stock updates:",le),{}}}),ue=(le=!1)=>Ne(null,null,function*(){d(!0),T(null),he(""),se.current=!1;try{const X=yield Ee(m1,0);o(X.items),B(X.total_count),O(X.has_more),q(X.items.length),A(new Date),console.log(`Products loaded: ${X.items.length} of ${X.total_count} items`)}catch(X){console.error("Error fetching products:",X),X.message&&X.message.includes("Invalid response format")?T(null):T(X.message||"Unknown error occurred")}finally{d(!1)}}),se=S.useRef(!1);S.useEffect(()=>{if(l||u||ae||!H||se.current)return;se.current=!0;const le=setTimeout(()=>{Ne(null,null,function*(){let oe=z,Ue=H,it=M;for(;Ue&&!ae;)try{if(oe>=it)break;console.log(`[Background] Loading more items from offset ${oe}...`);const yt=yield Ee(g1,oe);if(yt.items.length===0)break;o(et=>{const xt=new Set(et.map(gr=>gr.id)),Tt=yt.items.filter(gr=>!xt.has(gr.id));return[...et,...Tt]}),oe+=yt.items.length,Ue=yt.has_more,O(yt.has_more),q(oe),yt.total_count>it&&(it=yt.total_count),console.log(`[Background] Loaded ${yt.items.length} more items. Total: ${oe} of ${it}`),yield new Promise(et=>setTimeout(et,100))}catch(yt){console.error("[Background] Error loading more items:",yt);break}console.log(`[Background] Finished loading all items. Total: ${oe}`)})},500);return()=>{clearTimeout(le)}},[l,H,ae,z,M]),S.useEffect(()=>{ae&&(se.current=!1)},[ae]);const de=S.useCallback(()=>Ne(null,null,function*(){if(!(u||!H||ae)){f(!0);try{const le=yield Ee(g1,z);o(X=>{const oe=new Set(X.map(it=>it.id)),Ue=le.items.filter(it=>!oe.has(it.id));return[...X,...Ue]}),q(X=>X+le.items.length),O(le.has_more),console.log(`Loaded ${le.items.length} more products. Total: ${z+le.items.length}`)}catch(le){console.error("Error loading more products:",le)}finally{f(!1)}}}),[u,H,z,ae]),pe=S.useCallback(le=>Ne(null,null,function*(){ee.current&&ee.current.abort();const X=le.trim();if(he(X),!X){_(!1),ue();return}_(!0),ee.current=new AbortController;try{const oe=yield Ee(500,0,X);o(oe.items),B(oe.total_count),O(!1),q(oe.items.length),console.log(`Search "${X}" found ${oe.items.length} items`)}catch(oe){oe.name!=="AbortError"&&console.error("Error searching products:",oe)}finally{_(!1)}}),[]),ie=S.useCallback(()=>{he(""),ue()},[]),te=()=>Ne(null,null,function*(){try{const le=yield ce();Object.keys(le).length>0&&o(X=>X.map(oe=>{var Ue;return _e(Y({},oe),{available:(Ue=le[oe.id])!=null?Ue:oe.available})}))}catch(le){console.error("Background stock update failed:",le)}}),W=S.useCallback((le,X)=>{o(oe=>oe.map(Ue=>Ue.id===le?_e(Y({},Ue),{available:X}):Ue)),console.log(`Updated stock for ${le} to ${X}`)},[]),be=S.useCallback(le=>Ne(null,null,function*(){if(le.length!==0)try{const X=le.join(","),oe=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(X)}`);if(!oe.ok)throw new Error(`HTTP ${oe.status}: ${oe.statusText}`);const Ue=yield oe.json();if(Ue!=null&&Ue.message&&typeof Ue.message=="object"){const it=Ue.message;o(yt=>yt.map(et=>{var xt;return _e(Y({},et),{available:(xt=it[et.id])!=null?xt:et.available})}))}}catch(X){console.error("Failed to update stock for items:",X)}}),[]),V=S.useCallback(le=>Ne(null,null,function*(){if(le.length!==0)try{const X=le.map(it=>Ne(null,null,function*(){try{const et=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(it)}`)).json();return et!=null&&et.message&&Array.isArray(et.message)?{itemCode:it,batches:et.message}:(console.log(`No valid batch data for ${it}`),null)}catch(yt){return console.error(`Failed to update batch quantities for ${it}:`,yt),null}})),Ue=(yield Promise.all(X)).filter(it=>it!==null);Ue.length>0?window.dispatchEvent(new CustomEvent("batchQuantitiesUpdated",{detail:{updatedItems:Ue}})):console.log("No valid batch results to dispatch")}catch(X){console.error("Failed to update batch quantities for items:",X)}}),[]),U=()=>Ne(null,null,function*(){yield ue(!0)}),ne=()=>Ne(null,null,function*(){y(!0);try{const le=yield ce();return Object.keys(le).length>0?(o(X=>X.map(oe=>{var Ue;return _e(Y({},oe),{available:(Ue=le[oe.id])!=null?Ue:oe.available})})),A(new Date),!0):(console.log("No stock updates needed - all items are current"),!1)}catch(le){return console.error(" Stock-only refresh failed:",le),console.log("Stock refresh failed - user can manually refresh if needed"),!1}finally{y(!1)}});S.useEffect(()=>{if(t)return;if(!r){d(!1),T("Authentication required to load products");return}ue();const le=setInterval(te,3e4);return()=>{clearInterval(le)}},[r,t]);const me={products:s,isLoading:l,isLoadingMore:u,isRefreshingStock:m,isSearching:k,error:C,refetchProducts:U,refreshStockOnly:ne,updateStockOnly:W,updateStockForItems:be,updateBatchQuantitiesForItems:V,loadMoreProducts:de,searchProducts:pe,clearSearch:ie,count:s.length,totalCount:M,hasMore:H,lastUpdated:E,searchQuery:ae};return a.jsx(w3.Provider,{value:me,children:e})}function uS(){const e=S.useContext(w3);if(e===void 0)throw new Error("useProducts must be used within a ProductProvider");return e}function dh(){const e=uS();return{products:e.products,isLoading:e.isLoading,isLoadingMore:e.isLoadingMore,isRefreshingStock:e.isRefreshingStock,isSearching:e.isSearching,error:e.error,refetch:e.refetchProducts,refreshStockOnly:e.refreshStockOnly,updateStockOnly:e.updateStockOnly,updateStockForItems:e.updateStockForItems,updateBatchQuantitiesForItems:e.updateBatchQuantitiesForItems,loadMoreProducts:e.loadMoreProducts,searchProducts:e.searchProducts,clearSearch:e.clearSearch,count:e.products.length,totalCount:e.totalCount,hasMore:e.hasMore,lastUpdated:e.lastUpdated,searchQuery:e.searchQuery}}var fS=Object.defineProperty,hS=(e,r,t)=>r in e?fS(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,dl=(e,r,t)=>hS(e,typeof r!="symbol"?r+"":r,t),mS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nc={},uu={},ks={},p1;function j3(){if(p1)return ks;p1=1;var e=ks&&ks.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,u=arguments.length;d<u;d++){l=arguments[d];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)},r=ks&&ks.__awaiter||function(o,l,d,u){function f(m){return m instanceof d?m:new d(function(y){y(m)})}return new(d||(d=Promise))(function(m,y){function k(T){try{C(u.next(T))}catch(E){y(E)}}function _(T){try{C(u.throw(T))}catch(E){y(E)}}function C(T){T.done?m(T.value):f(T.value).then(k,_)}C((u=u.apply(o,l||[])).next())})},t=ks&&ks.__generator||function(o,l){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},u,f,m,y;return y={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function k(C){return function(T){return _([C,T])}}function _(C){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(d=0)),d;)try{if(u=1,f&&(m=C[0]&2?f.return:C[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,C[1])).done)return m;switch(f=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return d.label++,{value:C[1],done:!1};case 5:d.label++,f=C[1],C=[0];continue;case 7:C=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){d=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){d.label=C[1];break}if(C[0]===6&&d.label<m[1]){d.label=m[1],m=C;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(C);break}m[2]&&d.ops.pop(),d.trys.pop();continue}C=l.call(o,d)}catch(T){C=[6,T],f=0}finally{u=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(ks,"__esModule",{value:!0}),ks.FrappeCall=void 0;var s=function(){function o(l,d,u,f,m){this.appURL=l,this.axios=d,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=m}return o.prototype.get=function(l,d){return r(this,void 0,void 0,function(){var u;return t(this,function(f){return u=new URLSearchParams,d&&Object.entries(d).forEach(function(m){var y=m[0],k=m[1];if(k!=null){var _=typeof k=="object"?JSON.stringify(k):k;u.set(y,_)}}),[2,this.axios.get("/api/method/".concat(l),{params:u}).then(function(m){return m.data}).catch(function(m){var y,k;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(y=m.response.data.message)!==null&&y!==void 0?y:"There was an error.",exception:(k=m.response.data.exception)!==null&&k!==void 0?k:""})})]})})},o.prototype.post=function(l,d){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.post("/api/method/".concat(l),e({},d)).then(function(f){return f.data}).catch(function(f){var m,y;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=f.response.data.exception)!==null&&y!==void 0?y:""})})]})})},o.prototype.put=function(l,d){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.put("/api/method/".concat(l),e({},d)).then(function(f){return f.data}).catch(function(f){var m,y;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=f.response.data.exception)!==null&&y!==void 0?y:""})})]})})},o.prototype.delete=function(l,d){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.delete("/api/method/".concat(l),{params:d}).then(function(f){return f.data}).catch(function(f){var m,y;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=f.response.data.exception)!==null&&y!==void 0?y:""})})]})})},o}();return ks.FrappeCall=s,ks}var _s={},y1;function N3(){if(y1)return _s;y1=1;var e=_s&&_s.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,u=arguments.length;d<u;d++){l=arguments[d];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)},r=_s&&_s.__awaiter||function(o,l,d,u){function f(m){return m instanceof d?m:new d(function(y){y(m)})}return new(d||(d=Promise))(function(m,y){function k(T){try{C(u.next(T))}catch(E){y(E)}}function _(T){try{C(u.throw(T))}catch(E){y(E)}}function C(T){T.done?m(T.value):f(T.value).then(k,_)}C((u=u.apply(o,l||[])).next())})},t=_s&&_s.__generator||function(o,l){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},u,f,m,y;return y={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function k(C){return function(T){return _([C,T])}}function _(C){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(d=0)),d;)try{if(u=1,f&&(m=C[0]&2?f.return:C[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,C[1])).done)return m;switch(f=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return d.label++,{value:C[1],done:!1};case 5:d.label++,f=C[1],C=[0];continue;case 7:C=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){d=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){d.label=C[1];break}if(C[0]===6&&d.label<m[1]){d.label=m[1],m=C;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(C);break}m[2]&&d.ops.pop(),d.trys.pop();continue}C=l.call(o,d)}catch(T){C=[6,T],f=0}finally{u=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(_s,"__esModule",{value:!0}),_s.FrappeDB=void 0;var s=function(){function o(l,d,u,f,m){this.appURL=l,this.axios=d,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=m}return o.prototype.getDoc=function(l,d){return d===void 0&&(d=""),r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.get("/api/resource/".concat(l,"/").concat(encodeURIComponent(d))).then(function(f){return f.data.data}).catch(function(f){var m,y;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while fetching the document.",exception:(y=(m=f.response.data.exception)!==null&&m!==void 0?m:f.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},o.prototype.getDocList=function(l,d){var u;return r(this,void 0,void 0,function(){var f,m,y,k,_,C,T,E,A,M,B;return t(this,function(H){return f={},d&&(m=d.fields,y=d.filters,k=d.orFilters,_=d.orderBy,C=d.limit,T=d.limit_start,E=d.groupBy,A=d.asDict,M=A===void 0?!0:A,B=_?"".concat(String(_==null?void 0:_.field)," ").concat((u=_==null?void 0:_.order)!==null&&u!==void 0?u:"asc"):"",f={fields:m?JSON.stringify(m):void 0,filters:y?JSON.stringify(y):void 0,or_filters:k?JSON.stringify(k):void 0,order_by:B,group_by:E,limit:C,limit_start:T,as_dict:M}),[2,this.axios.get("/api/resource/".concat(l),{params:f}).then(function(O){return O.data.data}).catch(function(O){var z,q;throw e(e({},O.response.data),{httpStatus:O.response.status,httpStatusText:O.response.statusText,message:"There was an error while fetching the documents.",exception:(q=(z=O.response.data.exception)!==null&&z!==void 0?z:O.response.data.exc_type)!==null&&q!==void 0?q:""})})]})})},o.prototype.createDoc=function(l,d){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.post("/api/resource/".concat(l),e({},d)).then(function(f){return f.data.data}).catch(function(f){var m,y,k;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(m=f.response.data.message)!==null&&m!==void 0?m:"There was an error while creating the document.",exception:(k=(y=f.response.data.exception)!==null&&y!==void 0?y:f.response.data.exc_type)!==null&&k!==void 0?k:""})})]})})},o.prototype.updateDoc=function(l,d,u){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.put("/api/resource/".concat(l,"/").concat(d&&encodeURIComponent(d)),e({},u)).then(function(m){return m.data.data}).catch(function(m){var y,k,_;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(y=m.response.data.message)!==null&&y!==void 0?y:"There was an error while updating the document.",exception:(_=(k=m.response.data.exception)!==null&&k!==void 0?k:m.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},o.prototype.deleteDoc=function(l,d){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.delete("/api/resource/".concat(l,"/").concat(d&&encodeURIComponent(d))).then(function(f){return f.data}).catch(function(f){var m,y;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while deleting the document.",exception:(y=(m=f.response.data.exception)!==null&&m!==void 0?m:f.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},o.prototype.getCount=function(l,d,u,f){return u===void 0&&(u=!1),f===void 0&&(f=!1),r(this,void 0,void 0,function(){var m;return t(this,function(y){return m={doctype:l,filters:[]},u&&(m.cache=u),f&&(m.debug=f),d&&(m.filters=d?JSON.stringify(d):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:m}).then(function(k){return k.data.message}).catch(function(k){var _,C;throw e(e({},k.response.data),{httpStatus:k.response.status,httpStatusText:k.response.statusText,message:"There was an error while getting the count.",exception:(C=(_=k.response.data.exception)!==null&&_!==void 0?_:k.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},o.prototype.getLastDoc=function(l,d){return r(this,void 0,void 0,function(){var u,f;return t(this,function(m){switch(m.label){case 0:return u={orderBy:{field:"creation",order:"desc"}},d&&(u=e(e({},u),d)),[4,this.getDocList(l,e(e({},u),{limit:1,fields:["name"]}))];case 1:return f=m.sent(),f.length>0?[2,this.getDoc(l,f[0].name)]:[2,{}]}})})},o.prototype.renameDoc=function(l,d,u,f){return f===void 0&&(f=!1),r(this,void 0,void 0,function(){return t(this,function(m){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:l,old_name:d,new_name:u,merge:f}).then(function(y){return y.data}).catch(function(y){var k,_,C;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:(k=y.response.data.message)!==null&&k!==void 0?k:"There was an error while renaming the document.",exception:(C=(_=y.response.data.exception)!==null&&_!==void 0?_:y.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},o.prototype.getValue=function(l,d,u,f,m,y){return f===void 0&&(f=!0),m===void 0&&(m=!1),y===void 0&&(y=null),r(this,void 0,void 0,function(){var k;return t(this,function(_){return k={doctype:l,fieldname:"[]",filters:[],as_dict:f,debug:m,parent:null},d&&(k.fieldname=typeof d=="object"?JSON.stringify(d):d),u&&(k.filters=u?JSON.stringify(u):void 0),y&&(k.parent=y),[2,this.axios.get("/api/method/frappe.client.get_value",{params:k}).then(function(C){return C.data}).catch(function(C){var T,E;throw e(e({},C.response.data),{httpStatus:C.response.status,httpStatusText:C.response.statusText,message:"There was an error while getting the value.",exception:(E=(T=C.response.data.exception)!==null&&T!==void 0?T:C.response.data.exc_type)!==null&&E!==void 0?E:""})})]})})},o.prototype.setValue=function(l,d,u,f){return r(this,void 0,void 0,function(){return t(this,function(m){return u!==null&&typeof u=="object"&&!Array.isArray(u)&&(f=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:l,name:d,fieldname:u,value:f}).then(function(y){return y.data}).catch(function(y){var k,_;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while setting the value.",exception:(_=(k=y.response.data.exception)!==null&&k!==void 0?k:y.response.data.exc_type)!==null&&_!==void 0?_:""})})]})})},o.prototype.getSingleValue=function(l,d){return r(this,void 0,void 0,function(){var u;return t(this,function(f){return u={doctype:l,field:d},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:u}).then(function(m){return m.data}).catch(function(m){var y,k;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(k=(y=m.response.data.exception)!==null&&y!==void 0?y:m.response.data.exc_type)!==null&&k!==void 0?k:""})})]})})},o.prototype.submit=function(l){return r(this,void 0,void 0,function(){return t(this,function(d){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:l}).then(function(u){return u.data.message}).catch(function(u){var f,m;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while submitting the document.",exception:(m=(f=u.response.data.exception)!==null&&f!==void 0?f:u.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},o.prototype.cancel=function(l,d){return r(this,void 0,void 0,function(){return t(this,function(u){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:l,name:d}).then(function(f){return f.data}).catch(function(f){var m,y;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while cancelling the document.",exception:(y=(m=f.response.data.exception)!==null&&m!==void 0?m:f.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},o}();return _s.FrappeDB=s,_s}var Ss={},Oo={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Sg,x1;function gS(){if(x1)return Sg;x1=1;function e(P,F){return function(){return P.apply(F,arguments)}}const{toString:r}=Object.prototype,{getPrototypeOf:t}=Object,s=(P=>F=>{const Q=r.call(F);return P[Q]||(P[Q]=Q.slice(8,-1).toLowerCase())})(Object.create(null)),o=P=>(P=P.toLowerCase(),F=>s(F)===P),l=P=>F=>typeof F===P,{isArray:d}=Array,u=l("undefined");function f(P){return P!==null&&!u(P)&&P.constructor!==null&&!u(P.constructor)&&_(P.constructor.isBuffer)&&P.constructor.isBuffer(P)}const m=o("ArrayBuffer");function y(P){let F;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?F=ArrayBuffer.isView(P):F=P&&P.buffer&&m(P.buffer),F}const k=l("string"),_=l("function"),C=l("number"),T=P=>P!==null&&typeof P=="object",E=P=>P===!0||P===!1,A=P=>{if(s(P)!=="object")return!1;const F=t(P);return(F===null||F===Object.prototype||Object.getPrototypeOf(F)===null)&&!(Symbol.toStringTag in P)&&!(Symbol.iterator in P)},M=o("Date"),B=o("File"),H=o("Blob"),O=o("FileList"),z=P=>T(P)&&_(P.pipe),q=P=>{let F;return P&&(typeof FormData=="function"&&P instanceof FormData||_(P.append)&&((F=s(P))==="formdata"||F==="object"&&_(P.toString)&&P.toString()==="[object FormData]"))},ae=o("URLSearchParams"),[he,ee,Ee,ce]=["ReadableStream","Request","Response","Headers"].map(o),ue=P=>P.trim?P.trim():P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function se(P,F,{allOwnKeys:Q=!1}={}){if(P===null||typeof P>"u")return;let Z,Se;if(typeof P!="object"&&(P=[P]),d(P))for(Z=0,Se=P.length;Z<Se;Z++)F.call(null,P[Z],Z,P);else{const Pe=Q?Object.getOwnPropertyNames(P):Object.keys(P),$e=Pe.length;let mt;for(Z=0;Z<$e;Z++)mt=Pe[Z],F.call(null,P[mt],mt,P)}}function de(P,F){F=F.toLowerCase();const Q=Object.keys(P);let Z=Q.length,Se;for(;Z-- >0;)if(Se=Q[Z],F===Se.toLowerCase())return Se;return null}const pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:mS,ie=P=>!u(P)&&P!==pe;function te(){const{caseless:P}=ie(this)&&this||{},F={},Q=(Z,Se)=>{const Pe=P&&de(F,Se)||Se;A(F[Pe])&&A(Z)?F[Pe]=te(F[Pe],Z):A(Z)?F[Pe]=te({},Z):d(Z)?F[Pe]=Z.slice():F[Pe]=Z};for(let Z=0,Se=arguments.length;Z<Se;Z++)arguments[Z]&&se(arguments[Z],Q);return F}const W=(P,F,Q,{allOwnKeys:Z}={})=>(se(F,(Se,Pe)=>{Q&&_(Se)?P[Pe]=e(Se,Q):P[Pe]=Se},{allOwnKeys:Z}),P),be=P=>(P.charCodeAt(0)===65279&&(P=P.slice(1)),P),V=(P,F,Q,Z)=>{P.prototype=Object.create(F.prototype,Z),P.prototype.constructor=P,Object.defineProperty(P,"super",{value:F.prototype}),Q&&Object.assign(P.prototype,Q)},U=(P,F,Q,Z)=>{let Se,Pe,$e;const mt={};if(F=F||{},P==null)return F;do{for(Se=Object.getOwnPropertyNames(P),Pe=Se.length;Pe-- >0;)$e=Se[Pe],(!Z||Z($e,P,F))&&!mt[$e]&&(F[$e]=P[$e],mt[$e]=!0);P=Q!==!1&&t(P)}while(P&&(!Q||Q(P,F))&&P!==Object.prototype);return F},ne=(P,F,Q)=>{P=String(P),(Q===void 0||Q>P.length)&&(Q=P.length),Q-=F.length;const Z=P.indexOf(F,Q);return Z!==-1&&Z===Q},me=P=>{if(!P)return null;if(d(P))return P;let F=P.length;if(!C(F))return null;const Q=new Array(F);for(;F-- >0;)Q[F]=P[F];return Q},le=(P=>F=>P&&F instanceof P)(typeof Uint8Array<"u"&&t(Uint8Array)),X=(P,F)=>{const Q=(P&&P[Symbol.iterator]).call(P);let Z;for(;(Z=Q.next())&&!Z.done;){const Se=Z.value;F.call(P,Se[0],Se[1])}},oe=(P,F)=>{let Q;const Z=[];for(;(Q=P.exec(F))!==null;)Z.push(Q);return Z},Ue=o("HTMLFormElement"),it=P=>P.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(F,Q,Z){return Q.toUpperCase()+Z}),yt=(({hasOwnProperty:P})=>(F,Q)=>P.call(F,Q))(Object.prototype),et=o("RegExp"),xt=(P,F)=>{const Q=Object.getOwnPropertyDescriptors(P),Z={};se(Q,(Se,Pe)=>{let $e;($e=F(Se,Pe,P))!==!1&&(Z[Pe]=$e||Se)}),Object.defineProperties(P,Z)},Tt=P=>{xt(P,(F,Q)=>{if(_(P)&&["arguments","caller","callee"].indexOf(Q)!==-1)return!1;const Z=P[Q];if(_(Z)){if(F.enumerable=!1,"writable"in F){F.writable=!1;return}F.set||(F.set=()=>{throw Error("Can not rewrite read-only method '"+Q+"'")})}})},gr=(P,F)=>{const Q={},Z=Se=>{Se.forEach(Pe=>{Q[Pe]=!0})};return d(P)?Z(P):Z(String(P).split(F)),Q},xe=()=>{},st=(P,F)=>P!=null&&Number.isFinite(P=+P)?P:F;function Ot(P){return!!(P&&_(P.append)&&P[Symbol.toStringTag]==="FormData"&&P[Symbol.iterator])}const ye=P=>{const F=new Array(10),Q=(Z,Se)=>{if(T(Z)){if(F.indexOf(Z)>=0)return;if(!("toJSON"in Z)){F[Se]=Z;const Pe=d(Z)?[]:{};return se(Z,($e,mt)=>{const _t=Q($e,Se+1);!u(_t)&&(Pe[mt]=_t)}),F[Se]=void 0,Pe}}return Z};return Q(P,0)},Xe=o("AsyncFunction"),lt=P=>P&&(T(P)||_(P))&&_(P.then)&&_(P.catch),mr=((P,F)=>P?setImmediate:F?((Q,Z)=>(pe.addEventListener("message",({source:Se,data:Pe})=>{Se===pe&&Pe===Q&&Z.length&&Z.shift()()},!1),Se=>{Z.push(Se),pe.postMessage(Q,"*")}))(`axios@${Math.random()}`,[]):Q=>setTimeout(Q))(typeof setImmediate=="function",_(pe.postMessage)),Kt=typeof queueMicrotask<"u"?queueMicrotask.bind(pe):typeof process<"u"&&process.nextTick||mr;var J={isArray:d,isArrayBuffer:m,isBuffer:f,isFormData:q,isArrayBufferView:y,isString:k,isNumber:C,isBoolean:E,isObject:T,isPlainObject:A,isReadableStream:he,isRequest:ee,isResponse:Ee,isHeaders:ce,isUndefined:u,isDate:M,isFile:B,isBlob:H,isRegExp:et,isFunction:_,isStream:z,isURLSearchParams:ae,isTypedArray:le,isFileList:O,forEach:se,merge:te,extend:W,trim:ue,stripBOM:be,inherits:V,toFlatObject:U,kindOf:s,kindOfTest:o,endsWith:ne,toArray:me,forEachEntry:X,matchAll:oe,isHTMLForm:Ue,hasOwnProperty:yt,hasOwnProp:yt,reduceDescriptors:xt,freezeMethods:Tt,toObjectSet:gr,toCamelCase:it,noop:xe,toFiniteNumber:st,findKey:de,global:pe,isContextDefined:ie,isSpecCompliantForm:Ot,toJSONObject:ye,isAsyncFn:Xe,isThenable:lt,setImmediate:mr,asap:Kt};function qe(P,F,Q,Z,Se){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=P,this.name="AxiosError",F&&(this.code=F),Q&&(this.config=Q),Z&&(this.request=Z),Se&&(this.response=Se,this.status=Se.status?Se.status:null)}J.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const Ve=qe.prototype,dt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(P=>{dt[P]={value:P}}),Object.defineProperties(qe,dt),Object.defineProperty(Ve,"isAxiosError",{value:!0}),qe.from=(P,F,Q,Z,Se,Pe)=>{const $e=Object.create(Ve);return J.toFlatObject(P,$e,function(mt){return mt!==Error.prototype},mt=>mt!=="isAxiosError"),qe.call($e,P.message,F,Q,Z,Se),$e.cause=P,$e.name=P.name,Pe&&Object.assign($e,Pe),$e};var ht=null;function vt(P){return J.isPlainObject(P)||J.isArray(P)}function ut(P){return J.endsWith(P,"[]")?P.slice(0,-2):P}function ve(P,F,Q){return P?P.concat(F).map(function(Z,Se){return Z=ut(Z),!Q&&Se?"["+Z+"]":Z}).join(Q?".":""):F}function Ze(P){return J.isArray(P)&&!P.some(vt)}const Ge=J.toFlatObject(J,{},null,function(P){return/^is[A-Z]/.test(P)});function pt(P,F,Q){if(!J.isObject(P))throw new TypeError("target must be an object");F=F||new FormData,Q=J.toFlatObject(Q,{metaTokens:!0,dots:!1,indexes:!1},!1,function(or,Vt){return!J.isUndefined(Vt[or])});const Z=Q.metaTokens,Se=Q.visitor||gt,Pe=Q.dots,$e=Q.indexes,mt=(Q.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(F);if(!J.isFunction(Se))throw new TypeError("visitor must be a function");function _t(or){if(or===null)return"";if(J.isDate(or))return or.toISOString();if(!mt&&J.isBlob(or))throw new qe("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(or)||J.isTypedArray(or)?mt&&typeof Blob=="function"?new Blob([or]):Buffer.from(or):or}function gt(or,Vt,At){let wa=or;if(or&&!At&&typeof or=="object"){if(J.endsWith(Vt,"{}"))Vt=Z?Vt:Vt.slice(0,-2),or=JSON.stringify(or);else if(J.isArray(or)&&Ze(or)||(J.isFileList(or)||J.endsWith(Vt,"[]"))&&(wa=J.toArray(or)))return Vt=ut(Vt),wa.forEach(function(da,aa){!(J.isUndefined(da)||da===null)&&F.append($e===!0?ve([Vt],aa,Pe):$e===null?Vt:Vt+"[]",_t(da))}),!1}return vt(or)?!0:(F.append(ve(At,Vt,Pe),_t(or)),!1)}const St=[],Bt=Object.assign(Ge,{defaultVisitor:gt,convertValue:_t,isVisitable:vt});function Hr(or,Vt){if(!J.isUndefined(or)){if(St.indexOf(or)!==-1)throw Error("Circular reference detected in "+Vt.join("."));St.push(or),J.forEach(or,function(At,wa){(!(J.isUndefined(At)||At===null)&&Se.call(F,At,J.isString(wa)?wa.trim():wa,Vt,Bt))===!0&&Hr(At,Vt?Vt.concat(wa):[wa])}),St.pop()}}if(!J.isObject(P))throw new TypeError("data must be an object");return Hr(P),F}function ct(P){const F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(P).replace(/[!'()~]|%20|%00/g,function(Q){return F[Q]})}function Ut(P,F){this._pairs=[],P&&pt(P,this,F)}const qt=Ut.prototype;qt.append=function(P,F){this._pairs.push([P,F])},qt.toString=function(P){const F=P?function(Q){return P.call(this,Q,ct)}:ct;return this._pairs.map(function(Q){return F(Q[0])+"="+F(Q[1])},"").join("&")};function er(P){return encodeURIComponent(P).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nr(P,F,Q){if(!F)return P;const Z=Q&&Q.encode||er;J.isFunction(Q)&&(Q={serialize:Q});const Se=Q&&Q.serialize;let Pe;if(Se?Pe=Se(F,Q):Pe=J.isURLSearchParams(F)?F.toString():new Ut(F,Q).toString(Z),Pe){const $e=P.indexOf("#");$e!==-1&&(P=P.slice(0,$e)),P+=(P.indexOf("?")===-1?"?":"&")+Pe}return P}class br{constructor(){this.handlers=[]}use(F,Q,Z){return this.handlers.push({fulfilled:F,rejected:Q,synchronous:Z?Z.synchronous:!1,runWhen:Z?Z.runWhen:null}),this.handlers.length-1}eject(F){this.handlers[F]&&(this.handlers[F]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(F){J.forEach(this.handlers,function(Q){Q!==null&&F(Q)})}}var na=br,yr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gr=typeof URLSearchParams<"u"?URLSearchParams:Ut,Ka=typeof FormData<"u"?FormData:null,vn=typeof Blob<"u"?Blob:null,Wa={isBrowser:!0,classes:{URLSearchParams:Gr,FormData:Ka,Blob:vn},protocols:["http","https","file","blob","url","data"]};const ze=typeof window<"u"&&typeof document<"u",tt=typeof navigator=="object"&&navigator||void 0,Er=ze&&(!tt||["ReactNative","NativeScript","NS"].indexOf(tt.product)<0),fe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Te=ze&&window.location.href||"http://localhost";var De=Object.freeze({__proto__:null,hasBrowserEnv:ze,hasStandardBrowserWebWorkerEnv:fe,hasStandardBrowserEnv:Er,navigator:tt,origin:Te}),Ke=Y(Y({},De),Wa);function Ae(P,F){return pt(P,new Ke.classes.URLSearchParams,Object.assign({visitor:function(Q,Z,Se,Pe){return Ke.isNode&&J.isBuffer(Q)?(this.append(Z,Q.toString("base64")),!1):Pe.defaultVisitor.apply(this,arguments)}},F))}function jt(P){return J.matchAll(/\w+|\[(\w*)]/g,P).map(F=>F[0]==="[]"?"":F[1]||F[0])}function It(P){const F={},Q=Object.keys(P);let Z;const Se=Q.length;let Pe;for(Z=0;Z<Se;Z++)Pe=Q[Z],F[Pe]=P[Pe];return F}function zt(P){function F(Q,Z,Se,Pe){let $e=Q[Pe++];if($e==="__proto__")return!0;const mt=Number.isFinite(+$e),_t=Pe>=Q.length;return $e=!$e&&J.isArray(Se)?Se.length:$e,_t?(J.hasOwnProp(Se,$e)?Se[$e]=[Se[$e],Z]:Se[$e]=Z,!mt):((!Se[$e]||!J.isObject(Se[$e]))&&(Se[$e]=[]),F(Q,Z,Se[$e],Pe)&&J.isArray(Se[$e])&&(Se[$e]=It(Se[$e])),!mt)}if(J.isFormData(P)&&J.isFunction(P.entries)){const Q={};return J.forEachEntry(P,(Z,Se)=>{F(jt(Z),Se,Q,0)}),Q}return null}function Rt(P,F,Q){if(J.isString(P))try{return(F||JSON.parse)(P),J.trim(P)}catch(Z){if(Z.name!=="SyntaxError")throw Z}return(Q||JSON.stringify)(P)}const sr={transitional:yr,adapter:["xhr","http","fetch"],transformRequest:[function(P,F){const Q=F.getContentType()||"",Z=Q.indexOf("application/json")>-1,Se=J.isObject(P);if(Se&&J.isHTMLForm(P)&&(P=new FormData(P)),J.isFormData(P))return Z?JSON.stringify(zt(P)):P;if(J.isArrayBuffer(P)||J.isBuffer(P)||J.isStream(P)||J.isFile(P)||J.isBlob(P)||J.isReadableStream(P))return P;if(J.isArrayBufferView(P))return P.buffer;if(J.isURLSearchParams(P))return F.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),P.toString();let Pe;if(Se){if(Q.indexOf("application/x-www-form-urlencoded")>-1)return Ae(P,this.formSerializer).toString();if((Pe=J.isFileList(P))||Q.indexOf("multipart/form-data")>-1){const $e=this.env&&this.env.FormData;return pt(Pe?{"files[]":P}:P,$e&&new $e,this.formSerializer)}}return Se||Z?(F.setContentType("application/json",!1),Rt(P)):P}],transformResponse:[function(P){const F=this.transitional||sr.transitional,Q=F&&F.forcedJSONParsing,Z=this.responseType==="json";if(J.isResponse(P)||J.isReadableStream(P))return P;if(P&&J.isString(P)&&(Q&&!this.responseType||Z)){const Se=!(F&&F.silentJSONParsing)&&Z;try{return JSON.parse(P)}catch(Pe){if(Se)throw Pe.name==="SyntaxError"?qe.from(Pe,qe.ERR_BAD_RESPONSE,this,null,this.response):Pe}}return P}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(P){return P>=200&&P<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],P=>{sr.headers[P]={}});var Ft=sr;const tr=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var dr=P=>{const F={};let Q,Z,Se;return P&&P.split(`
`).forEach(function(Pe){Se=Pe.indexOf(":"),Q=Pe.substring(0,Se).trim().toLowerCase(),Z=Pe.substring(Se+1).trim(),!(!Q||F[Q]&&tr[Q])&&(Q==="set-cookie"?F[Q]?F[Q].push(Z):F[Q]=[Z]:F[Q]=F[Q]?F[Q]+", "+Z:Z)}),F};const Rr=Symbol("internals");function qr(P){return P&&String(P).trim().toLowerCase()}function Tr(P){return P===!1||P==null?P:J.isArray(P)?P.map(Tr):String(P)}function Yt(P){const F=Object.create(null),Q=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Z;for(;Z=Q.exec(P);)F[Z[1]]=Z[2];return F}const Ht=P=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(P.trim());function Or(P,F,Q,Z,Se){if(J.isFunction(Z))return Z.call(this,F,Q);if(Se&&(F=Q),!!J.isString(F)){if(J.isString(Z))return F.indexOf(Z)!==-1;if(J.isRegExp(Z))return Z.test(F)}}function zr(P){return P.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(F,Q,Z)=>Q.toUpperCase()+Z)}function sa(P,F){const Q=J.toCamelCase(" "+F);["get","set","has"].forEach(Z=>{Object.defineProperty(P,Z+Q,{value:function(Se,Pe,$e){return this[Z].call(this,F,Se,Pe,$e)},configurable:!0})})}class Zr{constructor(F){F&&this.set(F)}set(F,Q,Z){const Se=this;function Pe(mt,_t,gt){const St=qr(_t);if(!St)throw new Error("header name must be a non-empty string");const Bt=J.findKey(Se,St);(!Bt||Se[Bt]===void 0||gt===!0||gt===void 0&&Se[Bt]!==!1)&&(Se[Bt||_t]=Tr(mt))}const $e=(mt,_t)=>J.forEach(mt,(gt,St)=>Pe(gt,St,_t));if(J.isPlainObject(F)||F instanceof this.constructor)$e(F,Q);else if(J.isString(F)&&(F=F.trim())&&!Ht(F))$e(dr(F),Q);else if(J.isHeaders(F))for(const[mt,_t]of F.entries())Pe(_t,mt,Z);else F!=null&&Pe(Q,F,Z);return this}get(F,Q){if(F=qr(F),F){const Z=J.findKey(this,F);if(Z){const Se=this[Z];if(!Q)return Se;if(Q===!0)return Yt(Se);if(J.isFunction(Q))return Q.call(this,Se,Z);if(J.isRegExp(Q))return Q.exec(Se);throw new TypeError("parser must be boolean|regexp|function")}}}has(F,Q){if(F=qr(F),F){const Z=J.findKey(this,F);return!!(Z&&this[Z]!==void 0&&(!Q||Or(this,this[Z],Z,Q)))}return!1}delete(F,Q){const Z=this;let Se=!1;function Pe($e){if($e=qr($e),$e){const mt=J.findKey(Z,$e);mt&&(!Q||Or(Z,Z[mt],mt,Q))&&(delete Z[mt],Se=!0)}}return J.isArray(F)?F.forEach(Pe):Pe(F),Se}clear(F){const Q=Object.keys(this);let Z=Q.length,Se=!1;for(;Z--;){const Pe=Q[Z];(!F||Or(this,this[Pe],Pe,F,!0))&&(delete this[Pe],Se=!0)}return Se}normalize(F){const Q=this,Z={};return J.forEach(this,(Se,Pe)=>{const $e=J.findKey(Z,Pe);if($e){Q[$e]=Tr(Se),delete Q[Pe];return}const mt=F?zr(Pe):String(Pe).trim();mt!==Pe&&delete Q[Pe],Q[mt]=Tr(Se),Z[mt]=!0}),this}concat(...F){return this.constructor.concat(this,...F)}toJSON(F){const Q=Object.create(null);return J.forEach(this,(Z,Se)=>{Z!=null&&Z!==!1&&(Q[Se]=F&&J.isArray(Z)?Z.join(", "):Z)}),Q}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([F,Q])=>F+": "+Q).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(F){return F instanceof this?F:new this(F)}static concat(F,...Q){const Z=new this(F);return Q.forEach(Se=>Z.set(Se)),Z}static accessor(F){const Q=(this[Rr]=this[Rr]={accessors:{}}).accessors,Z=this.prototype;function Se(Pe){const $e=qr(Pe);Q[$e]||(sa(Z,Pe),Q[$e]=!0)}return J.isArray(F)?F.forEach(Se):Se(F),this}}Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),J.reduceDescriptors(Zr.prototype,({value:P},F)=>{let Q=F[0].toUpperCase()+F.slice(1);return{get:()=>P,set(Z){this[Q]=Z}}}),J.freezeMethods(Zr);var ea=Zr;function Ba(P,F){const Q=this||Ft,Z=F||Q,Se=ea.from(Z.headers);let Pe=Z.data;return J.forEach(P,function($e){Pe=$e.call(Q,Pe,Se.normalize(),F?F.status:void 0)}),Se.normalize(),Pe}function Zt(P){return!!(P&&P.__CANCEL__)}function la(P,F,Q){qe.call(this,P!=null?P:"canceled",qe.ERR_CANCELED,F,Q),this.name="CanceledError"}J.inherits(la,qe,{__CANCEL__:!0});function Ca(P,F,Q){const Z=Q.config.validateStatus;!Q.status||!Z||Z(Q.status)?P(Q):F(new qe("Request failed with status code "+Q.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(Q.status/100)-4],Q.config,Q.request,Q))}function ur(P){const F=/^([-+\w]{1,25})(:?\/\/|:)/.exec(P);return F&&F[1]||""}function ca(P,F){P=P||10;const Q=new Array(P),Z=new Array(P);let Se=0,Pe=0,$e;return F=F!==void 0?F:1e3,function(mt){const _t=Date.now(),gt=Z[Pe];$e||($e=_t),Q[Se]=mt,Z[Se]=_t;let St=Pe,Bt=0;for(;St!==Se;)Bt+=Q[St++],St=St%P;if(Se=(Se+1)%P,Se===Pe&&(Pe=(Pe+1)%P),_t-$e<F)return;const Hr=gt&&_t-gt;return Hr?Math.round(Bt*1e3/Hr):void 0}}function Oa(P,F){let Q=0,Z=1e3/F,Se,Pe;const $e=(mt,_t=Date.now())=>{Q=_t,Se=null,Pe&&(clearTimeout(Pe),Pe=null),P.apply(null,mt)};return[(...mt)=>{const _t=Date.now(),gt=_t-Q;gt>=Z?$e(mt,_t):(Se=mt,Pe||(Pe=setTimeout(()=>{Pe=null,$e(Se)},Z-gt)))},()=>Se&&$e(Se)]}const fa=(P,F,Q=3)=>{let Z=0;const Se=ca(50,250);return Oa(Pe=>{const $e=Pe.loaded,mt=Pe.lengthComputable?Pe.total:void 0,_t=$e-Z,gt=Se(_t),St=$e<=mt;Z=$e;const Bt={loaded:$e,total:mt,progress:mt?$e/mt:void 0,bytes:_t,rate:gt||void 0,estimated:gt&&mt&&St?(mt-$e)/gt:void 0,event:Pe,lengthComputable:mt!=null,[F?"download":"upload"]:!0};P(Bt)},Q)},Ya=(P,F)=>{const Q=P!=null;return[Z=>F[0]({lengthComputable:Q,total:P,loaded:Z}),F[1]]},Oe=P=>(...F)=>J.asap(()=>P(...F));var nt=Ke.hasStandardBrowserEnv?((P,F)=>Q=>(Q=new URL(Q,Ke.origin),P.protocol===Q.protocol&&P.host===Q.host&&(F||P.port===Q.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,kt=Ke.hasStandardBrowserEnv?{write(P,F,Q,Z,Se,Pe){const $e=[P+"="+encodeURIComponent(F)];J.isNumber(Q)&&$e.push("expires="+new Date(Q).toGMTString()),J.isString(Z)&&$e.push("path="+Z),J.isString(Se)&&$e.push("domain="+Se),Pe===!0&&$e.push("secure"),document.cookie=$e.join("; ")},read(P){const F=document.cookie.match(new RegExp("(^|;\\s*)("+P+")=([^;]*)"));return F?decodeURIComponent(F[3]):null},remove(P){this.write(P,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Et(P){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(P)}function Lt(P,F){return F?P.replace(/\/?\/$/,"")+"/"+F.replace(/^\/+/,""):P}function ar(P,F,Q){let Z=!Et(F);return P&&Z||Q==!1?Lt(P,F):F}const Wt=P=>P instanceof ea?Y({},P):P;function _r(P,F){F=F||{};const Q={};function Z(gt,St,Bt,Hr){return J.isPlainObject(gt)&&J.isPlainObject(St)?J.merge.call({caseless:Hr},gt,St):J.isPlainObject(St)?J.merge({},St):J.isArray(St)?St.slice():St}function Se(gt,St,Bt,Hr){if(J.isUndefined(St)){if(!J.isUndefined(gt))return Z(void 0,gt,Bt,Hr)}else return Z(gt,St,Bt,Hr)}function Pe(gt,St){if(!J.isUndefined(St))return Z(void 0,St)}function $e(gt,St){if(J.isUndefined(St)){if(!J.isUndefined(gt))return Z(void 0,gt)}else return Z(void 0,St)}function mt(gt,St,Bt){if(Bt in F)return Z(gt,St);if(Bt in P)return Z(void 0,gt)}const _t={url:Pe,method:Pe,data:Pe,baseURL:$e,transformRequest:$e,transformResponse:$e,paramsSerializer:$e,timeout:$e,timeoutMessage:$e,withCredentials:$e,withXSRFToken:$e,adapter:$e,responseType:$e,xsrfCookieName:$e,xsrfHeaderName:$e,onUploadProgress:$e,onDownloadProgress:$e,decompress:$e,maxContentLength:$e,maxBodyLength:$e,beforeRedirect:$e,transport:$e,httpAgent:$e,httpsAgent:$e,cancelToken:$e,socketPath:$e,responseEncoding:$e,validateStatus:mt,headers:(gt,St,Bt)=>Se(Wt(gt),Wt(St),Bt,!0)};return J.forEach(Object.keys(Object.assign({},P,F)),function(gt){const St=_t[gt]||Se,Bt=St(P[gt],F[gt],gt);J.isUndefined(Bt)&&St!==mt||(Q[gt]=Bt)}),Q}var Dr=P=>{const F=_r({},P);let{data:Q,withXSRFToken:Z,xsrfHeaderName:Se,xsrfCookieName:Pe,headers:$e,auth:mt}=F;F.headers=$e=ea.from($e),F.url=nr(ar(F.baseURL,F.url),P.params,P.paramsSerializer),mt&&$e.set("Authorization","Basic "+btoa((mt.username||"")+":"+(mt.password?unescape(encodeURIComponent(mt.password)):"")));let _t;if(J.isFormData(Q)){if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)$e.setContentType(void 0);else if((_t=$e.getContentType())!==!1){const[gt,...St]=_t?_t.split(";").map(Bt=>Bt.trim()).filter(Boolean):[];$e.setContentType([gt||"multipart/form-data",...St].join("; "))}}if(Ke.hasStandardBrowserEnv&&(Z&&J.isFunction(Z)&&(Z=Z(F)),Z||Z!==!1&&nt(F.url))){const gt=Se&&Pe&&kt.read(Pe);gt&&$e.set(Se,gt)}return F},ra=typeof XMLHttpRequest<"u"&&function(P){return new Promise(function(F,Q){const Z=Dr(P);let Se=Z.data;const Pe=ea.from(Z.headers).normalize();let{responseType:$e,onUploadProgress:mt,onDownloadProgress:_t}=Z,gt,St,Bt,Hr,or;function Vt(){Hr&&Hr(),or&&or(),Z.cancelToken&&Z.cancelToken.unsubscribe(gt),Z.signal&&Z.signal.removeEventListener("abort",gt)}let At=new XMLHttpRequest;At.open(Z.method.toUpperCase(),Z.url,!0),At.timeout=Z.timeout;function wa(){if(!At)return;const aa=ea.from("getAllResponseHeaders"in At&&At.getAllResponseHeaders()),Za={data:!$e||$e==="text"||$e==="json"?At.responseText:At.response,status:At.status,statusText:At.statusText,headers:aa,config:P,request:At};Ca(function(ms){F(ms),Vt()},function(ms){Q(ms),Vt()},Za),At=null}"onloadend"in At?At.onloadend=wa:At.onreadystatechange=function(){!At||At.readyState!==4||At.status===0&&!(At.responseURL&&At.responseURL.indexOf("file:")===0)||setTimeout(wa)},At.onabort=function(){At&&(Q(new qe("Request aborted",qe.ECONNABORTED,P,At)),At=null)},At.onerror=function(){Q(new qe("Network Error",qe.ERR_NETWORK,P,At)),At=null},At.ontimeout=function(){let aa=Z.timeout?"timeout of "+Z.timeout+"ms exceeded":"timeout exceeded";const Za=Z.transitional||yr;Z.timeoutErrorMessage&&(aa=Z.timeoutErrorMessage),Q(new qe(aa,Za.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,P,At)),At=null},Se===void 0&&Pe.setContentType(null),"setRequestHeader"in At&&J.forEach(Pe.toJSON(),function(aa,Za){At.setRequestHeader(Za,aa)}),J.isUndefined(Z.withCredentials)||(At.withCredentials=!!Z.withCredentials),$e&&$e!=="json"&&(At.responseType=Z.responseType),_t&&([Bt,or]=fa(_t,!0),At.addEventListener("progress",Bt)),mt&&At.upload&&([St,Hr]=fa(mt),At.upload.addEventListener("progress",St),At.upload.addEventListener("loadend",Hr)),(Z.cancelToken||Z.signal)&&(gt=aa=>{At&&(Q(!aa||aa.type?new la(null,P,At):aa),At.abort(),At=null)},Z.cancelToken&&Z.cancelToken.subscribe(gt),Z.signal&&(Z.signal.aborted?gt():Z.signal.addEventListener("abort",gt)));const da=ur(Z.url);if(da&&Ke.protocols.indexOf(da)===-1){Q(new qe("Unsupported protocol "+da+":",qe.ERR_BAD_REQUEST,P));return}At.send(Se||null)})},Br=(P,F)=>{const{length:Q}=P=P?P.filter(Boolean):[];if(F||Q){let Z=new AbortController,Se;const Pe=function(gt){if(!Se){Se=!0,mt();const St=gt instanceof Error?gt:this.reason;Z.abort(St instanceof qe?St:new la(St instanceof Error?St.message:St))}};let $e=F&&setTimeout(()=>{$e=null,Pe(new qe(`timeout ${F} of ms exceeded`,qe.ETIMEDOUT))},F);const mt=()=>{P&&($e&&clearTimeout($e),$e=null,P.forEach(gt=>{gt.unsubscribe?gt.unsubscribe(Pe):gt.removeEventListener("abort",Pe)}),P=null)};P.forEach(gt=>gt.addEventListener("abort",Pe));const{signal:_t}=Z;return _t.unsubscribe=()=>J.asap(mt),_t}};const Aa=function*(P,F){let Q=P.byteLength;if(Q<F){yield P;return}let Z=0,Se;for(;Z<Q;)Se=Z+F,yield P.slice(Z,Se),Z=Se},ds=function(P,F){return hg(this,null,function*(){try{for(var Q=Pv(oo(P)),Z,Se,Pe;Z=!(Se=yield new cl(Q.next())).done;Z=!1){const $e=Se.value;yield*mg(Aa($e,F))}}catch(Se){Pe=[Se]}finally{try{Z&&(Se=Q.return)&&(yield new cl(Se.call(Q)))}finally{if(Pe)throw Pe[0]}}})},oo=function(P){return hg(this,null,function*(){if(P[Symbol.asyncIterator]){yield*mg(P);return}const F=P.getReader();try{for(;;){const{done:Q,value:Z}=yield new cl(F.read());if(Q)break;yield Z}}finally{yield new cl(F.cancel())}})},Pn=(P,F,Q,Z)=>{const Se=ds(P,F);let Pe=0,$e,mt=gt=>{$e||($e=!0,Z&&Z(gt))};return new ReadableStream({pull(gt){return Ne(this,null,function*(){try{const{done:St,value:Bt}=yield Se.next();if(St){mt(),gt.close();return}let Hr=Bt.byteLength;if(Q){let or=Pe+=Hr;Q(or)}gt.enqueue(new Uint8Array(Bt))}catch(St){throw mt(St),St}})},cancel(gt){return mt(gt),Se.return()}},{highWaterMark:2})},io=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Bi=io&&typeof ReadableStream=="function",Us=io&&(typeof TextEncoder=="function"?(P=>F=>P.encode(F))(new TextEncoder):P=>Ne(null,null,function*(){return new Uint8Array(yield new Response(P).arrayBuffer())})),Ll=(P,...F)=>{try{return!!P(...F)}catch(Q){return!1}},Ul=Bi&&Ll(()=>{let P=!1;const F=new Request(Ke.origin,{body:new ReadableStream,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!F}),qi=64*1024,lo=Bi&&Ll(()=>J.isReadableStream(new Response("").body)),Go={stream:lo&&(P=>P.body)};io&&(P=>{["text","arrayBuffer","blob","formData","stream"].forEach(F=>{!Go[F]&&(Go[F]=J.isFunction(P[F])?Q=>Q[F]():(Q,Z)=>{throw new qe(`Response type '${F}' is not supported`,qe.ERR_NOT_SUPPORT,Z)})})})(new Response);const cd=P=>Ne(null,null,function*(){if(P==null)return 0;if(J.isBlob(P))return P.size;if(J.isSpecCompliantForm(P))return(yield new Request(Ke.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(J.isArrayBufferView(P)||J.isArrayBuffer(P))return P.byteLength;if(J.isURLSearchParams(P)&&(P=P+""),J.isString(P))return(yield Us(P)).byteLength}),Vo=(P,F)=>Ne(null,null,function*(){const Q=J.toFiniteNumber(P.getContentLength());return Q!=null?Q:cd(F)});var Hi=io&&(P=>Ne(null,null,function*(){let{url:F,method:Q,data:Z,signal:Se,cancelToken:Pe,timeout:$e,onDownloadProgress:mt,onUploadProgress:_t,responseType:gt,headers:St,withCredentials:Bt="same-origin",fetchOptions:Hr}=Dr(P);gt=gt?(gt+"").toLowerCase():"text";let or=Br([Se,Pe&&Pe.toAbortSignal()],$e),Vt;const At=or&&or.unsubscribe&&(()=>{or.unsubscribe()});let wa;try{if(_t&&Ul&&Q!=="get"&&Q!=="head"&&(wa=yield Vo(St,Z))!==0){let Dn=new Request(F,{method:"POST",body:Z,duplex:"half"}),gs;if(J.isFormData(Z)&&(gs=Dn.headers.get("content-type"))&&St.setContentType(gs),Dn.body){const[Wo,ho]=Ya(wa,fa(Oe(_t)));Z=Pn(Dn.body,qi,Wo,ho)}}J.isString(Bt)||(Bt=Bt?"include":"omit");const da="credentials"in Request.prototype;Vt=new Request(F,_e(Y({},Hr),{signal:or,method:Q.toUpperCase(),headers:St.normalize().toJSON(),body:Z,duplex:"half",credentials:da?Bt:void 0}));let aa=yield fetch(Vt);const Za=lo&&(gt==="stream"||gt==="response");if(lo&&(mt||Za&&At)){const Dn={};["status","statusText","headers"].forEach(Fl=>{Dn[Fl]=aa[Fl]});const gs=J.toFiniteNumber(aa.headers.get("content-length")),[Wo,ho]=mt&&Ya(gs,fa(Oe(mt),!0))||[];aa=new Response(Pn(aa.body,qi,Wo,()=>{ho&&ho(),At&&At()}),Dn)}gt=gt||"text";let ms=yield Go[J.findKey(Go,gt)||"text"](aa,P);return!Za&&At&&At(),yield new Promise((Dn,gs)=>{Ca(Dn,gs,{data:ms,headers:ea.from(aa.headers),status:aa.status,statusText:aa.statusText,config:P,request:Vt})})}catch(da){throw At&&At(),da&&da.name==="TypeError"&&/fetch/i.test(da.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,P,Vt),{cause:da.cause||da}):qe.from(da,da&&da.code,P,Vt)}}));const co={http:ht,xhr:ra,fetch:Hi};J.forEach(co,(P,F)=>{if(P){try{Object.defineProperty(P,"name",{value:F})}catch(Q){}Object.defineProperty(P,"adapterName",{value:F})}});const us=P=>`- ${P}`,Fs=P=>J.isFunction(P)||P===null||P===!1;var Gi={getAdapter:P=>{P=J.isArray(P)?P:[P];const{length:F}=P;let Q,Z;const Se={};for(let Pe=0;Pe<F;Pe++){Q=P[Pe];let $e;if(Z=Q,!Fs(Q)&&(Z=co[($e=String(Q)).toLowerCase()],Z===void 0))throw new qe(`Unknown adapter '${$e}'`);if(Z)break;Se[$e||"#"+Pe]=Z}if(!Z){const Pe=Object.entries(Se).map(([mt,_t])=>`adapter ${mt} `+(_t===!1?"is not supported by the environment":"is not available in the build"));let $e=F?Pe.length>1?`since :
`+Pe.map(us).join(`
`):" "+us(Pe[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+$e,"ERR_NOT_SUPPORT")}return Z},adapters:co};function wn(P){if(P.cancelToken&&P.cancelToken.throwIfRequested(),P.signal&&P.signal.aborted)throw new la(null,P)}function Vi(P){return wn(P),P.headers=ea.from(P.headers),P.data=Ba.call(P,P.transformRequest),["post","put","patch"].indexOf(P.method)!==-1&&P.headers.setContentType("application/x-www-form-urlencoded",!1),Gi.getAdapter(P.adapter||Ft.adapter)(P).then(function(F){return wn(P),F.data=Ba.call(P,P.transformResponse,F),F.headers=ea.from(F.headers),F},function(F){return Zt(F)||(wn(P),F&&F.response&&(F.response.data=Ba.call(P,P.transformResponse,F.response),F.response.headers=ea.from(F.response.headers))),Promise.reject(F)})}const Yn="1.8.2",Qa={};["object","boolean","number","function","string","symbol"].forEach((P,F)=>{Qa[P]=function(Q){return typeof Q===P||"a"+(F<1?"n ":" ")+P}});const Ko={};Qa.transitional=function(P,F,Q){function Z(Se,Pe){return"[Axios v"+Yn+"] Transitional option '"+Se+"'"+Pe+(Q?". "+Q:"")}return(Se,Pe,$e)=>{if(P===!1)throw new qe(Z(Pe," has been removed"+(F?" in "+F:"")),qe.ERR_DEPRECATED);return F&&!Ko[Pe]&&(Ko[Pe]=!0,console.warn(Z(Pe," has been deprecated since v"+F+" and will be removed in the near future"))),P?P(Se,Pe,$e):!0}},Qa.spelling=function(P){return(F,Q)=>(console.warn(`${Q} is likely a misspelling of ${P}`),!0)};function fs(P,F,Q){if(typeof P!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const Z=Object.keys(P);let Se=Z.length;for(;Se-- >0;){const Pe=Z[Se],$e=F[Pe];if($e){const mt=P[Pe],_t=mt===void 0||$e(mt,Pe,P);if(_t!==!0)throw new qe("option "+Pe+" must be "+_t,qe.ERR_BAD_OPTION_VALUE);continue}if(Q!==!0)throw new qe("Unknown option "+Pe,qe.ERR_BAD_OPTION)}}var dn={assertOptions:fs,validators:Qa};const Xa=dn.validators;class hs{constructor(F){this.defaults=F,this.interceptors={request:new na,response:new na}}request(F,Q){return Ne(this,null,function*(){try{return yield this._request(F,Q)}catch(Z){if(Z instanceof Error){let Se={};Error.captureStackTrace?Error.captureStackTrace(Se):Se=new Error;const Pe=Se.stack?Se.stack.replace(/^.+\n/,""):"";try{Z.stack?Pe&&!String(Z.stack).endsWith(Pe.replace(/^.+\n.+\n/,""))&&(Z.stack+=`
`+Pe):Z.stack=Pe}catch($e){}}throw Z}})}_request(F,Q){typeof F=="string"?(Q=Q||{},Q.url=F):Q=F||{},Q=_r(this.defaults,Q);const{transitional:Z,paramsSerializer:Se,headers:Pe}=Q;Z!==void 0&&dn.assertOptions(Z,{silentJSONParsing:Xa.transitional(Xa.boolean),forcedJSONParsing:Xa.transitional(Xa.boolean),clarifyTimeoutError:Xa.transitional(Xa.boolean)},!1),Se!=null&&(J.isFunction(Se)?Q.paramsSerializer={serialize:Se}:dn.assertOptions(Se,{encode:Xa.function,serialize:Xa.function},!0)),Q.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?Q.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:Q.allowAbsoluteUrls=!0),dn.assertOptions(Q,{baseUrl:Xa.spelling("baseURL"),withXsrfToken:Xa.spelling("withXSRFToken")},!0),Q.method=(Q.method||this.defaults.method||"get").toLowerCase();let $e=Pe&&J.merge(Pe.common,Pe[Q.method]);Pe&&J.forEach(["delete","get","head","post","put","patch","common"],Vt=>{delete Pe[Vt]}),Q.headers=ea.concat($e,Pe);const mt=[];let _t=!0;this.interceptors.request.forEach(function(Vt){typeof Vt.runWhen=="function"&&Vt.runWhen(Q)===!1||(_t=_t&&Vt.synchronous,mt.unshift(Vt.fulfilled,Vt.rejected))});const gt=[];this.interceptors.response.forEach(function(Vt){gt.push(Vt.fulfilled,Vt.rejected)});let St,Bt=0,Hr;if(!_t){const Vt=[Vi.bind(this),void 0];for(Vt.unshift.apply(Vt,mt),Vt.push.apply(Vt,gt),Hr=Vt.length,St=Promise.resolve(Q);Bt<Hr;)St=St.then(Vt[Bt++],Vt[Bt++]);return St}Hr=mt.length;let or=Q;for(Bt=0;Bt<Hr;){const Vt=mt[Bt++],At=mt[Bt++];try{or=Vt(or)}catch(wa){At.call(this,wa);break}}try{St=Vi.call(this,or)}catch(Vt){return Promise.reject(Vt)}for(Bt=0,Hr=gt.length;Bt<Hr;)St=St.then(gt[Bt++],gt[Bt++]);return St}getUri(F){F=_r(this.defaults,F);const Q=ar(F.baseURL,F.url,F.allowAbsoluteUrls);return nr(Q,F.params,F.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(P){hs.prototype[P]=function(F,Q){return this.request(_r(Q||{},{method:P,url:F,data:(Q||{}).data}))}}),J.forEach(["post","put","patch"],function(P){function F(Q){return function(Z,Se,Pe){return this.request(_r(Pe||{},{method:P,headers:Q?{"Content-Type":"multipart/form-data"}:{},url:Z,data:Se}))}}hs.prototype[P]=F(),hs.prototype[P+"Form"]=F(!0)});var uo=hs;class Mn{constructor(F){if(typeof F!="function")throw new TypeError("executor must be a function.");let Q;this.promise=new Promise(function(Se){Q=Se});const Z=this;this.promise.then(Se=>{if(!Z._listeners)return;let Pe=Z._listeners.length;for(;Pe-- >0;)Z._listeners[Pe](Se);Z._listeners=null}),this.promise.then=Se=>{let Pe;const $e=new Promise(mt=>{Z.subscribe(mt),Pe=mt}).then(Se);return $e.cancel=function(){Z.unsubscribe(Pe)},$e},F(function(Se,Pe,$e){Z.reason||(Z.reason=new la(Se,Pe,$e),Q(Z.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(F){if(this.reason){F(this.reason);return}this._listeners?this._listeners.push(F):this._listeners=[F]}unsubscribe(F){if(!this._listeners)return;const Q=this._listeners.indexOf(F);Q!==-1&&this._listeners.splice(Q,1)}toAbortSignal(){const F=new AbortController,Q=Z=>{F.abort(Z)};return this.subscribe(Q),F.signal.unsubscribe=()=>this.unsubscribe(Q),F.signal}static source(){let F;return{token:new Mn(function(Q){F=Q}),cancel:F}}}var fo=Mn;function Ki(P){return function(F){return P.apply(null,F)}}function Ra(P){return J.isObject(P)&&P.isAxiosError===!0}const un={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(un).forEach(([P,F])=>{un[F]=P});var Pa=un;function zs(P){const F=new uo(P),Q=e(uo.prototype.request,F);return J.extend(Q,uo.prototype,F,{allOwnKeys:!0}),J.extend(Q,F,null,{allOwnKeys:!0}),Q.create=function(Z){return zs(_r(P,Z))},Q}const Lr=zs(Ft);return Lr.Axios=uo,Lr.CanceledError=la,Lr.CancelToken=fo,Lr.isCancel=Zt,Lr.VERSION=Yn,Lr.toFormData=pt,Lr.AxiosError=qe,Lr.Cancel=Lr.CanceledError,Lr.all=function(P){return Promise.all(P)},Lr.spread=Ki,Lr.isAxiosError=Ra,Lr.mergeConfig=_r,Lr.AxiosHeaders=ea,Lr.formToJSON=P=>zt(J.isHTMLForm(P)?new FormData(P):P),Lr.getAdapter=Gi.getAdapter,Lr.HttpStatusCode=Pa,Lr.default=Lr,Sg=Lr,Sg}var b1;function k3(){if(b1)return Oo;b1=1;var e=Oo&&Oo.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,u=arguments.length;d<u;d++){l=arguments[d];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.getRequestHeaders=Oo.getAxiosClient=void 0;var r=gS();function t(o,l,d,u,f){var m=r.default.create({baseURL:o,headers:s(l,u,d,o,f),withCredentials:!0});return m.interceptors.request.use(function(y){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(y.headers["X-Frappe-CSRF-Token"]=window.csrf_token),l&&u&&d&&(y.headers.Authorization="".concat(u," ").concat(d())),y}),m}Oo.getAxiosClient=t;function s(o,l,d,u,f){o===void 0&&(o=!1);var m={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return o&&l&&d&&(m.Authorization="".concat(l," ").concat(d())),typeof window<"u"&&typeof document<"u"&&(window.location&&(u&&u!==window.location.origin||(m["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(m["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},m),f!=null?f:{})}return Oo.getRequestHeaders=s,Oo}var v1;function _3(){if(v1)return Ss;v1=1;var e=Ss&&Ss.__assign||function(){return e=Object.assign||function(l){for(var d,u=1,f=arguments.length;u<f;u++){d=arguments[u];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(l[m]=d[m])}return l},e.apply(this,arguments)},r=Ss&&Ss.__awaiter||function(l,d,u,f){function m(y){return y instanceof u?y:new u(function(k){k(y)})}return new(u||(u=Promise))(function(y,k){function _(E){try{T(f.next(E))}catch(A){k(A)}}function C(E){try{T(f.throw(E))}catch(A){k(A)}}function T(E){E.done?y(E.value):m(E.value).then(_,C)}T((f=f.apply(l,d||[])).next())})},t=Ss&&Ss.__generator||function(l,d){var u={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},f,m,y,k;return k={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function _(T){return function(E){return C([T,E])}}function C(T){if(f)throw new TypeError("Generator is already executing.");for(;k&&(k=0,T[0]&&(u=0)),u;)try{if(f=1,m&&(y=T[0]&2?m.return:T[0]?m.throw||((y=m.return)&&y.call(m),0):m.next)&&!(y=y.call(m,T[1])).done)return y;switch(m=0,y&&(T=[T[0]&2,y.value]),T[0]){case 0:case 1:y=T;break;case 4:return u.label++,{value:T[1],done:!1};case 5:u.label++,m=T[1],T=[0];continue;case 7:T=u.ops.pop(),u.trys.pop();continue;default:if(y=u.trys,!(y=y.length>0&&y[y.length-1])&&(T[0]===6||T[0]===2)){u=0;continue}if(T[0]===3&&(!y||T[1]>y[0]&&T[1]<y[3])){u.label=T[1];break}if(T[0]===6&&u.label<y[1]){u.label=y[1],y=T;break}if(y&&u.label<y[2]){u.label=y[2],u.ops.push(T);break}y[2]&&u.ops.pop(),u.trys.pop();continue}T=d.call(l,u)}catch(E){T=[6,E],m=0}finally{f=y=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.FrappeFileUpload=void 0;var s=k3(),o=function(){function l(d,u,f,m,y,k){this.appURL=d,this.axios=u,this.useToken=f!=null?f:!1,this.token=m,this.tokenType=y,this.customHeaders=k}return l.prototype.uploadFile=function(d,u,f,m){return m===void 0&&(m="upload_file"),r(this,void 0,void 0,function(){var y,k,_,C,T,E,A,M;return t(this,function(B){return y=new FormData,d&&y.append("file",d,d.name),k=u.isPrivate,_=u.folder,C=u.file_url,T=u.doctype,E=u.docname,A=u.fieldname,M=u.otherData,k&&y.append("is_private","1"),_&&y.append("folder",_),C&&y.append("file_url",C),T&&E&&(y.append("doctype",T),y.append("docname",E),A&&y.append("fieldname",A)),M&&Object.keys(M).forEach(function(H){var O=M[H];y.append(H,O)}),[2,this.axios.post("/api/method/".concat(m),y,{onUploadProgress:function(H){f&&f(H.loaded,H.total,H)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(H){var O,z;throw e(e({},H.response.data),{httpStatus:H.response.status,httpStatusText:H.response.statusText,message:(O=H.response.data.message)!==null&&O!==void 0?O:"There was an error while uploading the file.",exception:(z=H.response.data.exception)!==null&&z!==void 0?z:""})})]})})},l}();return Ss.FrappeFileUpload=o,Ss}var w1;function pS(){if(w1)return uu;w1=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.FrappeApp=void 0;var e=S3(),r=j3(),t=N3(),s=_3(),o=k3(),l=function(){function d(u,f,m,y){var k,_;this.url=u,this.name=m!=null?m:"FrappeApp",this.useToken=(k=f==null?void 0:f.useToken)!==null&&k!==void 0?k:!1,this.token=f==null?void 0:f.token,this.tokenType=(_=f==null?void 0:f.type)!==null&&_!==void 0?_:"Bearer",this.customHeaders=y,this.axios=(0,o.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return d.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},d.prototype.db=function(){return new t.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},d.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},d.prototype.call=function(){return new r.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},d}();return uu.FrappeApp=l,uu}var Cs={},j1;function yS(){if(j1)return Cs;j1=1;var e=Cs&&Cs.__assign||function(){return e=Object.assign||function(o){for(var l,d=1,u=arguments.length;d<u;d++){l=arguments[d];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])}return o},e.apply(this,arguments)},r=Cs&&Cs.__awaiter||function(o,l,d,u){function f(m){return m instanceof d?m:new d(function(y){y(m)})}return new(d||(d=Promise))(function(m,y){function k(T){try{C(u.next(T))}catch(E){y(E)}}function _(T){try{C(u.throw(T))}catch(E){y(E)}}function C(T){T.done?m(T.value):f(T.value).then(k,_)}C((u=u.apply(o,l||[])).next())})},t=Cs&&Cs.__generator||function(o,l){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},u,f,m,y;return y={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function k(C){return function(T){return _([C,T])}}function _(C){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(d=0)),d;)try{if(u=1,f&&(m=C[0]&2?f.return:C[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,C[1])).done)return m;switch(f=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return d.label++,{value:C[1],done:!1};case 5:d.label++,f=C[1],C=[0];continue;case 7:C=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){d=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){d.label=C[1];break}if(C[0]===6&&d.label<m[1]){d.label=m[1],m=C;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(C);break}m[2]&&d.ops.pop(),d.trys.pop();continue}C=l.call(o,d)}catch(T){C=[6,T],f=0}finally{u=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.FrappeAuth=void 0;var s=function(){function o(l,d,u,f,m){this.appURL=l,this.axios=d,this.useToken=u!=null?u:!1,this.token=f,this.tokenType=m}return o.prototype.loginWithUsernamePassword=function(l){return r(this,void 0,void 0,function(){return t(this,function(d){return[2,this.axios.post("/api/method/login",{usr:l.username,pwd:l.password,otp:l.otp,tmp_id:l.tmp_id,device:l.device}).then(function(u){return u.data}).catch(function(u){var f,m;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error while logging in",exception:(m=u.response.data.exception)!==null&&m!==void 0?m:""})})]})})},o.prototype.getLoggedInUser=function(){return r(this,void 0,void 0,function(){return t(this,function(l){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(d){return d.data.message}).catch(function(d){var u;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while fetching the logged in user",exception:(u=d.response.data.exception)!==null&&u!==void 0?u:""})})]})})},o.prototype.logout=function(){return r(this,void 0,void 0,function(){return t(this,function(l){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(d){var u,f;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(u=d.response.data.message)!==null&&u!==void 0?u:"There was an error while logging out",exception:(f=d.response.data.exception)!==null&&f!==void 0?f:""})})]})})},o.prototype.forgetPassword=function(l){return r(this,void 0,void 0,function(){return t(this,function(d){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:l}).then(function(){}).catch(function(u){var f,m;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error sending password reset email.",exception:(m=u.response.data.exception)!==null&&m!==void 0?m:""})})]})})},o}();return Cs.FrappeAuth=s,Cs}var N1;function S3(){return N1||(N1=1,function(e){var r=Nc&&Nc.__createBinding||(Object.create?function(s,o,l,d){d===void 0&&(d=l);var u=Object.getOwnPropertyDescriptor(o,l);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(s,d,u)}:function(s,o,l,d){d===void 0&&(d=l),s[d]=o[l]}),t=Nc&&Nc.__exportStar||function(s,o){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&r(o,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),t(pS(),e),t(yS(),e),t(N3(),e),t(_3(),e),t(j3(),e)}(Nc)),Nc}var xS=S3(),k1={exports:{}},Cg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function bS(){if(_1)return Cg;_1=1;var e=bt;function r(k,_){return k===_&&(k!==0||1/k===1/_)||k!==k&&_!==_}var t=typeof Object.is=="function"?Object.is:r,s=e.useState,o=e.useEffect,l=e.useLayoutEffect,d=e.useDebugValue;function u(k,_){var C=_(),T=s({inst:{value:C,getSnapshot:_}}),E=T[0].inst,A=T[1];return l(function(){E.value=C,E.getSnapshot=_,f(E)&&A({inst:E})},[k,C,_]),o(function(){return f(E)&&A({inst:E}),k(function(){f(E)&&A({inst:E})})},[k]),d(C),C}function f(k){var _=k.getSnapshot;k=k.value;try{var C=_();return!t(k,C)}catch(T){return!0}}function m(k,_){return _()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Cg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Cg}var S1;function vS(){return S1||(S1=1,k1.exports=bS()),k1.exports}vS();const wS=0,jS=1,NS=2;var C1=Object.prototype.hasOwnProperty;function hp(e,r){var t,s;if(e===r)return!0;if(e&&r&&(t=e.constructor)===r.constructor){if(t===Date)return e.getTime()===r.getTime();if(t===RegExp)return e.toString()===r.toString();if(t===Array){if((s=e.length)===r.length)for(;s--&&hp(e[s],r[s]););return s===-1}if(!t||typeof e=="object"){s=0;for(t in e)if(C1.call(e,t)&&++s&&!C1.call(r,t)||!(t in r)||!hp(e[t],r[t]))return!1;return Object.keys(r).length===s}}return e!==e&&r!==r}const Si=new WeakMap,Ri=()=>{},Kn=Ri(),Y0=Object,Ps=e=>e===Kn,Ci=e=>typeof e=="function",jl=(e,r)=>Y(Y({},e),r),kS=e=>Ci(e.then),$g={},p0={},C3="undefined",uh=typeof window!=C3,mp=typeof document!=C3,_S=uh&&"Deno"in window,SS=(e,r)=>{const t=Si.get(e);return[()=>!Ps(r)&&e.get(r)||$g,s=>{if(!Ps(r)){const o=e.get(r);r in p0||(p0[r]=o),t[5](r,jl(o,s),o||$g)}},t[6],()=>!Ps(r)&&r in p0?p0[r]:!Ps(r)&&e.get(r)||$g]};let gp=!0;const CS=()=>gp,[pp,yp]=uh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ri,Ri],$S=()=>{const e=mp&&document.visibilityState;return Ps(e)||e!=="hidden"},ES=e=>(mp&&document.addEventListener("visibilitychange",e),pp("focus",e),()=>{mp&&document.removeEventListener("visibilitychange",e),yp("focus",e)}),TS=e=>{const r=()=>{gp=!0,e()},t=()=>{gp=!1};return pp("online",r),pp("offline",t),()=>{yp("online",r),yp("offline",t)}},OS={isOnline:CS,isVisible:$S},AS={initFocus:ES,initReconnect:TS};bt.useId;const wy=!uh||_S,RS=wy?S.useEffect:S.useLayoutEffect,Eg=typeof navigator<"u"&&navigator.connection,$1=!wy&&Eg&&(["slow-2g","2g"].includes(Eg.effectiveType)||Eg.saveData),y0=new WeakMap,Tg=(e,r)=>Y0.prototype.toString.call(e)===`[object ${r}]`;let PS=0;const xp=e=>{const r=typeof e,t=Tg(e,"Date"),s=Tg(e,"RegExp"),o=Tg(e,"Object");let l,d;if(Y0(e)===e&&!t&&!s){if(l=y0.get(e),l)return l;if(l=++PS+"~",y0.set(e,l),Array.isArray(e)){for(l="@",d=0;d<e.length;d++)l+=xp(e[d])+",";y0.set(e,l)}if(o){l="#";const u=Y0.keys(e).sort();for(;!Ps(d=u.pop());)Ps(e[d])||(l+=d+":"+xp(e[d])+",");y0.set(e,l)}}else l=t?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return l},$3=e=>{if(Ci(e))try{e=e()}catch(t){e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?xp(e):"",[e,r]};let MS=0;const E1=()=>++MS;function DS(...e){return Ne(this,null,function*(){const[r,t,s,o]=e,l=jl({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let d=l.populateCache;const u=l.rollbackOnError;let f=l.optimisticData;const m=_=>typeof u=="function"?u(_):u!==!1,y=l.throwOnError;if(Ci(t)){const _=t,C=[],T=r.keys();for(const E of T)!/^\$(inf|sub)\$/.test(E)&&_(r.get(E)._k)&&C.push(E);return Promise.all(C.map(k))}return k(t);function k(_){return Ne(this,null,function*(){const[C]=$3(_);if(!C)return;const[T,E]=SS(r,C),[A,M,B,H]=Si.get(r),O=()=>{const se=A[C];return(Ci(l.revalidate)?l.revalidate(T().data,_):l.revalidate!==!1)&&(delete B[C],delete H[C],se&&se[0])?se[0](NS).then(()=>T().data):T().data};if(e.length<3)return O();let z=s,q;const ae=E1();M[C]=[ae,0];const he=!Ps(f),ee=T(),Ee=ee.data,ce=ee._c,ue=Ps(ce)?Ee:ce;if(he&&(f=Ci(f)?f(ue,Ee):f,E({data:f,_c:ue})),Ci(z))try{z=z(ue)}catch(se){q=se}if(z&&kS(z))if(z=yield z.catch(se=>{q=se}),ae!==M[C][0]){if(q)throw q;return z}else q&&he&&m(q)&&(d=!0,E({data:ue,_c:Kn}));if(d&&!q)if(Ci(d)){const se=d(z,ue);E({data:se,error:Kn,_c:Kn})}else E({data:z,error:Kn,_c:Kn});if(M[C][1]=E1(),Promise.resolve(O()).then(()=>{E({_c:Kn})}),q){if(y)throw q;return}return z})}})}const T1=(e,r)=>{for(const t in e)e[t][0]&&e[t][0](r)},E3=(e,r)=>{if(!Si.has(e)){const t=jl(AS,r),s=Object.create(null),o=DS.bind(Kn,e);let l=Ri;const d=Object.create(null),u=(y,k)=>{const _=d[y]||[];return d[y]=_,_.push(k),()=>_.splice(_.indexOf(k),1)},f=(y,k,_)=>{e.set(y,k);const C=d[y];if(C)for(const T of C)T(k,_)},m=()=>{if(!Si.has(e)&&(Si.set(e,[s,Object.create(null),Object.create(null),Object.create(null),o,f,u]),!wy)){const y=t.initFocus(setTimeout.bind(Kn,T1.bind(Kn,s,wS))),k=t.initReconnect(setTimeout.bind(Kn,T1.bind(Kn,s,jS)));l=()=>{y&&y(),k&&k(),Si.delete(e)}}};return m(),[e,o,m,l]}return[e,Si.get(e)[4]]},IS=(e,r,t,s,o)=>{const l=t.errorRetryCount,d=o.retryCount,u=~~((Math.random()+.5)*(1<<(d<8?d:8)))*t.errorRetryInterval;!Ps(l)&&d>l||setTimeout(s,u,o)},LS=hp,[jy,US]=E3(new Map),FS=jl({onLoadingSlow:Ri,onSuccess:Ri,onError:Ri,onErrorRetry:IS,onDiscarded:Ri,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:$1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:$1?5e3:3e3,compare:LS,isPaused:()=>!1,cache:jy,mutate:US,fallback:{}},OS),zS=(e,r)=>{const t=jl(e,r);if(r){const{use:s,fallback:o}=e,{use:l,fallback:d}=r;s&&l&&(t.use=s.concat(l)),o&&d&&(t.fallback=jl(o,d))}return t},O1=S.createContext({}),BS=e=>{const{value:r}=e,t=S.useContext(O1),s=Ci(r),o=S.useMemo(()=>s?r(t):r,[s,t,r]),l=S.useMemo(()=>s?o:zS(t,o),[s,t,o]),d=o&&o.provider,u=S.useRef(Kn);d&&!u.current&&(u.current=E3(d(l.cache||jy),o));const f=u.current;return f&&(l.cache=f[0],l.mutate=f[1]),RS(()=>{if(f)return f[2]&&f[2](),f[3]},[]),S.createElement(O1.Provider,jl(e,{value:l}))},qS="$inf$",T3=uh&&window.__SWR_DEVTOOLS_USE__,HS=T3?window.__SWR_DEVTOOLS_USE__:[],GS=()=>{T3&&(window.__SWR_DEVTOOLS_REACT__=bt)},VS=e=>(r,t,s)=>e(r,t&&((...o)=>{const[l]=$3(r),[,,,d]=Si.get(jy);if(l.startsWith(qS))return t(...o);const u=d[l];return Ps(u)?t(...o):(delete d[l],u)}),s);HS.concat(VS);GS();bt.use;const KS=Y0.defineProperty(BS,"defaultValue",{value:FS});Promise.resolve();const so=Object.create(null);so.open="0";so.close="1";so.ping="2";so.pong="3";so.message="4";so.upgrade="5";so.noop="6";const D0=Object.create(null);Object.keys(so).forEach(e=>{D0[so[e]]=e});const bp={type:"error",data:"parser error"},O3=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",A3=typeof ArrayBuffer=="function",R3=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ny=({type:e,data:r},t,s)=>O3&&r instanceof Blob?t?s(r):A1(r,s):A3&&(r instanceof ArrayBuffer||R3(r))?t?s(r):A1(new Blob([r]),s):s(so[e]+(r||"")),A1=(e,r)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];r("b"+(s||""))},t.readAsDataURL(e)};function R1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Og;function WS(e,r){if(O3&&e.data instanceof Blob)return e.data.arrayBuffer().then(R1).then(r);if(A3&&(e.data instanceof ArrayBuffer||R3(e.data)))return r(R1(e.data));Ny(e,!1,t=>{Og||(Og=new TextEncoder),r(Og.encode(t))})}const P1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<P1.length;e++)pu[P1.charCodeAt(e)]=e;const YS=e=>{let r=e.length*.75,t=e.length,s,o=0,l,d,u,f;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);const m=new ArrayBuffer(r),y=new Uint8Array(m);for(s=0;s<t;s+=4)l=pu[e.charCodeAt(s)],d=pu[e.charCodeAt(s+1)],u=pu[e.charCodeAt(s+2)],f=pu[e.charCodeAt(s+3)],y[o++]=l<<2|d>>4,y[o++]=(d&15)<<4|u>>2,y[o++]=(u&3)<<6|f&63;return m},QS=typeof ArrayBuffer=="function",ky=(e,r)=>{if(typeof e!="string")return{type:"message",data:P3(e,r)};const t=e.charAt(0);return t==="b"?{type:"message",data:XS(e.substring(1),r)}:D0[t]?e.length>1?{type:D0[t],data:e.substring(1)}:{type:D0[t]}:bp},XS=(e,r)=>{if(QS){const t=YS(e);return P3(t,r)}else return{base64:!0,data:e}},P3=(e,r)=>{switch(r){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},M3="",ZS=(e,r)=>{const t=e.length,s=new Array(t);let o=0;e.forEach((l,d)=>{Ny(l,!1,u=>{s[d]=u,++o===t&&r(s.join(M3))})})},JS=(e,r)=>{const t=e.split(M3),s=[];for(let o=0;o<t.length;o++){const l=ky(t[o],r);if(s.push(l),l.type==="error")break}return s};function e5(){return new TransformStream({transform(e,r){WS(e,t=>{const s=t.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(o[0]|=128),r.enqueue(o),r.enqueue(t)})}})}let Ag;function x0(e){return e.reduce((r,t)=>r+t.length,0)}function b0(e,r){if(e[0].length===r)return e.shift();const t=new Uint8Array(r);let s=0;for(let o=0;o<r;o++)t[o]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),t}function t5(e,r){Ag||(Ag=new TextDecoder);const t=[];let s=0,o=-1,l=!1;return new TransformStream({transform(d,u){for(t.push(d);;){if(s===0){if(x0(t)<1)break;const f=b0(t,1);l=(f[0]&128)===128,o=f[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(x0(t)<2)break;const f=b0(t,2);o=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(x0(t)<8)break;const f=b0(t,8),m=new DataView(f.buffer,f.byteOffset,f.length),y=m.getUint32(0);if(y>Math.pow(2,21)-1){u.enqueue(bp);break}o=y*Math.pow(2,32)+m.getUint32(4),s=3}else{if(x0(t)<o)break;const f=b0(t,o);u.enqueue(ky(l?f:Ag.decode(f),r)),s=0}if(o===0||o>e){u.enqueue(bp);break}}}})}const D3=4;function Sa(e){if(e)return r5(e)}function r5(e){for(var r in Sa.prototype)e[r]=Sa.prototype[r];return e}Sa.prototype.on=Sa.prototype.addEventListener=function(e,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(r),this};Sa.prototype.once=function(e,r){function t(){this.off(e,t),r.apply(this,arguments)}return t.fn=r,this.on(e,t),this};Sa.prototype.off=Sa.prototype.removeListener=Sa.prototype.removeAllListeners=Sa.prototype.removeEventListener=function(e,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,o=0;o<t.length;o++)if(s=t[o],s===r||s.fn===r){t.splice(o,1);break}return t.length===0&&delete this._callbacks["$"+e],this};Sa.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+e],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,o=t.length;s<o;++s)t[s].apply(this,r)}return this};Sa.prototype.emitReserved=Sa.prototype.emit;Sa.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Sa.prototype.hasListeners=function(e){return!!this.listeners(e).length};const os=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function I3(e,...r){return r.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{})}const a5=os.setTimeout,n5=os.clearTimeout;function fh(e,r){r.useNativeTimers?(e.setTimeoutFn=a5.bind(os),e.clearTimeoutFn=n5.bind(os)):(e.setTimeoutFn=os.setTimeout.bind(os),e.clearTimeoutFn=os.clearTimeout.bind(os))}const s5=1.33;function o5(e){return typeof e=="string"?i5(e):Math.ceil((e.byteLength||e.size)*s5)}function i5(e){let r=0,t=0;for(let s=0,o=e.length;s<o;s++)r=e.charCodeAt(s),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(s++,t+=4);return t}function l5(e){let r="";for(let t in e)e.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r}function c5(e){let r={},t=e.split("&");for(let s=0,o=t.length;s<o;s++){let l=t[s].split("=");r[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return r}class d5 extends Error{constructor(r,t,s){super(r),this.description=t,this.context=s,this.type="TransportError"}}class _y extends Sa{constructor(r){super(),this.writable=!1,fh(this,r),this.opts=r,this.query=r.query,this.socket=r.socket}onError(r,t,s){return super.emitReserved("error",new d5(r,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=ky(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const t=l5(r);return t.length?"?"+t:""}}const L3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),vp=64,u5={};let M1=0,v0=0,D1;function I1(e){let r="";do r=L3[e%vp]+r,e=Math.floor(e/vp);while(e>0);return r}function U3(){const e=I1(+new Date);return e!==D1?(M1=0,D1=e):e+"."+I1(M1++)}for(;v0<vp;v0++)u5[L3[v0]]=v0;let F3=!1;try{F3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const f5=F3;function z3(e){const r=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||f5))return new XMLHttpRequest}catch(t){}if(!r)try{return new os[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}function h5(){}const m5=function(){return new z3({xdomain:!1}).responseType!=null}();class g5 extends _y{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let o=location.port;o||(o=s?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||o!==r.port}const t=r&&r.forceBase64;this.supportsBinary=m5&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};JS(r,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,ZS(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=U3()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}request(r={}){return Object.assign(r,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Dc(this.uri(),r)}doWrite(r,t){const s=this.request({method:"POST",data:r});s.on("success",t),s.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=r}}let Dc=class I0 extends Sa{constructor(r,t){super(),fh(this,t),this.opts=t,this.method=t.method||"GET",this.uri=r,this.data=t.data!==void 0?t.data:null,this.create()}create(){var r;const t=I3(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const s=this.xhr=new z3(t);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch(o){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{s.setRequestHeader("Accept","*/*")}catch(o){}(r=this.opts.cookieJar)===null||r===void 0||r.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=I0.requestsCount++,I0.requests[this.index]=this)}onError(r){this.emitReserved("error",r,this.xhr),this.cleanup(!0)}cleanup(r){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=h5,r)try{this.xhr.abort()}catch(t){}typeof document<"u"&&delete I0.requests[this.index],this.xhr=null}}onLoad(){const r=this.xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Dc.requestsCount=0;Dc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",L1);else if(typeof addEventListener=="function"){const e="onpagehide"in os?"pagehide":"unload";addEventListener(e,L1,!1)}}function L1(){for(let e in Dc.requests)Dc.requests.hasOwnProperty(e)&&Dc.requests[e].abort()}const Sy=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),w0=os.WebSocket||os.MozWebSocket,U1=!0,p5="arraybuffer",F1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class y5 extends _y{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const r=this.uri(),t=this.opts.protocols,s=F1?{}:I3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=U1&&!F1?t?new w0(r,t):new w0(r):new w0(r,t,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const s=r[t],o=t===r.length-1;Ny(s,this.supportsBinary,l=>{try{U1&&this.ws.send(l)}catch(d){}o&&Sy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=U3()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}check(){return!!w0}}class x5 extends _y{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(r=>{const t=t5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=r.readable.pipeThrough(t).getReader(),o=e5();o.readable.pipeTo(r.writable),this.writer=o.writable.getWriter();const l=()=>{s.read().then(({done:u,value:f})=>{u||(this.onPacket(f),l())}).catch(u=>{})};l();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this.writer.write(d).then(()=>this.onOpen())})}))}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const s=r[t],o=t===r.length-1;this.writer.write(s).then(()=>{o&&Sy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this.transport)===null||r===void 0||r.close()}}const b5={websocket:y5,webtransport:x5,polling:g5},v5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wp(e){if(e.length>2e3)throw"URI too long";const r=e,t=e.indexOf("["),s=e.indexOf("]");t!=-1&&s!=-1&&(e=e.substring(0,t)+e.substring(t,s).replace(/:/g,";")+e.substring(s,e.length));let o=v5.exec(e||""),l={},d=14;for(;d--;)l[w5[d]]=o[d]||"";return t!=-1&&s!=-1&&(l.source=r,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=j5(l,l.path),l.queryKey=N5(l,l.query),l}function j5(e,r){const t=/\/{2,9}/g,s=r.replace(t,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&s.splice(0,1),r.slice(-1)=="/"&&s.splice(s.length-1,1),s}function N5(e,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,l){o&&(t[o]=l)}),t}let B3=class Oc extends Sa{constructor(r,t={}){super(),this.binaryType=p5,this.writeBuffer=[],r&&typeof r=="object"&&(t=r,r=null),r?(r=wp(r),t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)):t.host&&(t.hostname=wp(t.host).host),fh(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=c5(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(r){const t=Object.assign({},this.opts.query);t.EIO=D3,t.transport=r,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new b5[r](s)}open(){let r;if(this.opts.rememberUpgrade&&Oc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch(t){this.transports.shift(),this.open();return}r.open(),this.setTransport(r)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(r){let t=this.createTransport(r),s=!1;Oc.priorWebsocketSuccess=!1;const o=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",k=>{if(!s)if(k.type==="pong"&&k.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Oc.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=t.name,this.emitReserved("upgradeError",_)}}))};function l(){s||(s=!0,y(),t.close(),t=null)}const d=k=>{const _=new Error("probe error: "+k);_.transport=t.name,l(),this.emitReserved("upgradeError",_)};function u(){d("transport closed")}function f(){d("socket closed")}function m(k){t&&k.name!==t.name&&l()}const y=()=>{t.removeListener("open",o),t.removeListener("error",d),t.removeListener("close",u),this.off("close",f),this.off("upgrading",m)};t.once("open",o),t.once("error",d),t.once("close",u),this.once("close",f),this.once("upgrading",m),this.upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Oc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let r=0;const t=this.upgrades.length;for(;r<t;r++)this.probe(this.upgrades[r])}}onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),this.resetPingTimeout(),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=r.data,this.onError(t);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this.getWritablePackets();this.transport.send(r),this.prevBufferLen=r.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let t=0;t<this.writeBuffer.length;t++){const s=this.writeBuffer[t].data;if(s&&(r+=o5(s)),t>0&&r>this.maxPayload)return this.writeBuffer.slice(0,t);r+=2}return this.writeBuffer}write(r,t,s){return this.sendPacket("message",r,t,s),this}send(r,t,s){return this.sendPacket("message",r,t,s),this}sendPacket(r,t,s,o){if(typeof t=="function"&&(o=t,t=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:r,data:t,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const r=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),r()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():r()}):this.upgrading?s():r()),this}onError(r){Oc.priorWebsocketSuccess=!1,this.emitReserved("error",r),this.onClose("transport error",r)}onClose(r,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",r,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(r){const t=[];let s=0;const o=r.length;for(;s<o;s++)~this.transports.indexOf(r[s])&&t.push(r[s]);return t}};B3.protocol=D3;function k5(e,r="",t){let s=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),s=wp(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+r,s.href=s.protocol+"://"+o+(t&&t.port===s.port?"":":"+s.port),s}const _5=typeof ArrayBuffer=="function",S5=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,q3=Object.prototype.toString,C5=typeof Blob=="function"||typeof Blob<"u"&&q3.call(Blob)==="[object BlobConstructor]",$5=typeof File=="function"||typeof File<"u"&&q3.call(File)==="[object FileConstructor]";function Cy(e){return _5&&(e instanceof ArrayBuffer||S5(e))||C5&&e instanceof Blob||$5&&e instanceof File}function L0(e,r){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,s=e.length;t<s;t++)if(L0(e[t]))return!0;return!1}if(Cy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return L0(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&L0(e[t]))return!0;return!1}function E5(e){const r=[],t=e.data,s=e;return s.data=jp(t,r),s.attachments=r.length,{packet:s,buffers:r}}function jp(e,r){if(!e)return e;if(Cy(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let s=0;s<e.length;s++)t[s]=jp(e[s],r);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=jp(e[s],r));return t}return e}function T5(e,r){return e.data=Np(e.data,r),delete e.attachments,e}function Np(e,r){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<r.length)return r[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=Np(e[t],r);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=Np(e[t],r));return e}const O5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],A5=5;var Ar;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ar||(Ar={}));class R5{constructor(r){this.replacer=r}encode(r){return(r.type===Ar.EVENT||r.type===Ar.ACK)&&L0(r)?this.encodeAsBinary({type:r.type===Ar.EVENT?Ar.BINARY_EVENT:Ar.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t=""+r.type;return(r.type===Ar.BINARY_EVENT||r.type===Ar.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t+=r.nsp+","),r.id!=null&&(t+=r.id),r.data!=null&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=E5(r),s=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(s),o}}function z1(e){return Object.prototype.toString.call(e)==="[object Object]"}class $y extends Sa{constructor(r){super(),this.reviver=r}add(r){let t;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const s=t.type===Ar.BINARY_EVENT;s||t.type===Ar.BINARY_ACK?(t.type=s?Ar.EVENT:Ar.ACK,this.reconstructor=new P5(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Cy(r)||r.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let t=0;const s={type:Number(r.charAt(0))};if(Ar[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ar.BINARY_EVENT||s.type===Ar.BINARY_ACK){const l=t+1;for(;r.charAt(++t)!=="-"&&t!=r.length;);const d=r.substring(l,t);if(d!=Number(d)||r.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(d)}if(r.charAt(t+1)==="/"){const l=t+1;for(;++t&&!(r.charAt(t)===","||t===r.length););s.nsp=r.substring(l,t)}else s.nsp="/";const o=r.charAt(t+1);if(o!==""&&Number(o)==o){const l=t+1;for(;++t;){const d=r.charAt(t);if(d==null||Number(d)!=d){--t;break}if(t===r.length)break}s.id=Number(r.substring(l,t+1))}if(r.charAt(++t)){const l=this.tryParse(r.substr(t));if($y.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(r){try{return JSON.parse(r,this.reviver)}catch(t){return!1}}static isPayloadValid(r,t){switch(r){case Ar.CONNECT:return z1(t);case Ar.DISCONNECT:return t===void 0;case Ar.CONNECT_ERROR:return typeof t=="string"||z1(t);case Ar.EVENT:case Ar.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&O5.indexOf(t[0])===-1);case Ar.ACK:case Ar.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class P5{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=T5(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const M5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:$y,Encoder:R5,get PacketType(){return Ar},protocol:A5},Symbol.toStringTag,{value:"Module"}));function Rs(e,r,t){return e.on(r,t),function(){e.off(r,t)}}const D5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class H3 extends Sa{constructor(r,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[Rs(r,"open",this.onopen.bind(this)),Rs(r,"packet",this.onpacket.bind(this)),Rs(r,"error",this.onerror.bind(this)),Rs(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){if(D5.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:Ar.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const l=this.ids++,d=t.pop();this._registerAckCallback(l,d),s.id=l}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(r,t){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[r]=t;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===r&&this.sendBuffer.splice(d,1);t.call(this,new Error("operation has timed out"))},o);this.acks[r]=(...d)=>{this.io.clearTimeoutFn(l),t.apply(this,[null,...d])}}emitWithAck(r,...t){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((o,l)=>{t.push((d,u)=>s?d?l(d):o(u):o(d)),this.emit(r,...t)})}_addToQueue(r){let t;typeof r[r.length-1]=="function"&&(t=r.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((o,...l)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(o)):(this._queue.shift(),t&&t(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Ar.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t)}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ar.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ar.EVENT:case Ar.BINARY_EVENT:this.onevent(r);break;case Ar.ACK:case Ar.BINARY_ACK:this.onack(r);break;case Ar.DISCONNECT:this.ondisconnect();break;case Ar.CONNECT_ERROR:this.destroy();const t=new Error(r.data.message);t.data=r.data.data,this.emitReserved("connect_error",t);break}}onevent(r){const t=r.data||[];r.id!=null&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let s=!1;return function(...o){s||(s=!0,t.packet({type:Ar.ACK,id:r,data:o}))}}onack(r){const t=this.acks[r.id];typeof t=="function"&&(t.apply(this,r.data),delete this.acks[r.id])}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ar.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(r===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(r===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,r.data)}}}function nd(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}nd.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*e);e=(Math.floor(r*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0};nd.prototype.reset=function(){this.attempts=0};nd.prototype.setMin=function(e){this.ms=e};nd.prototype.setMax=function(e){this.max=e};nd.prototype.setJitter=function(e){this.jitter=e};class kp extends Sa{constructor(r,t){var s;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t=r,r=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,fh(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new nd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=r;const o=t.parser||M5;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t=this.backoff)===null||t===void 0||t.setMin(r),this)}randomizationFactor(r){var t;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t=this.backoff)===null||t===void 0||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t=this.backoff)===null||t===void 0||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new B3(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=Rs(t,"open",function(){s.onopen(),r&&r()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),r?r(u):this.maybeReconnectOnOpen()},d=Rs(t,"error",l);if(this._timeout!==!1){const u=this._timeout,f=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),t.close()},u);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(o),this.subs.push(d),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(Rs(r,"ping",this.onping.bind(this)),Rs(r,"data",this.ondata.bind(this)),Rs(r,"error",this.onerror.bind(this)),Rs(r,"close",this.onclose.bind(this)),Rs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){Sy(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let s=this.nsps[r];return s?this._autoConnect&&!s.active&&s.connect():(s=new H3(this,r,t),this.nsps[r]=s),s}_destroy(r){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let s=0;s<t.length;s++)this.engine.write(t[s],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(o=>{o?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",o)):r.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const fu={};function U0(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};const t=k5(e,r.path||"/socket.io"),s=t.source,o=t.id,l=t.path,d=fu[o]&&l in fu[o].nsps,u=r.forceNew||r["force new connection"]||r.multiplex===!1||d;let f;return u?f=new kp(s,r):(fu[o]||(fu[o]=new kp(s,r)),f=fu[o]),t.query&&!r.query&&(r.query=t.queryKey),f.socket(t.path,r)}Object.assign(U0,{Manager:kp,Socket:H3,io:U0,connect:U0});class I5{constructor(r,t,s,o){dl(this,"socket_port"),dl(this,"host"),dl(this,"port"),dl(this,"protocol"),dl(this,"url"),dl(this,"site_name"),dl(this,"socket");var l,d,u,f;if(this.socket_port=s!=null?s:"9000",this.host=(l=window.location)==null?void 0:l.hostname,this.port=(d=window.location)!=null&&d.port?`:${this.socket_port}`:"",this.protocol=((u=window.location)==null?void 0:u.protocol)==="https:"?"https":"http",r){let m=new URL(r);m.port="",s?(m.port=s,this.url=m.toString()):this.url=m.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;t&&(this.url=`${this.url}${t}`),this.site_name=t,this.socket=U0(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:o&&o.useToken===!0?{Authorization:`${o.type} ${(f=o.token)==null?void 0:f.call(o)}`}:{}})}}const L5=S.createContext(null),U5=({url:e="",tokenParams:r,socketPort:t,swrConfig:s,siteName:o,enableSocket:l=!0,children:d,customHeaders:u})=>{const f=S.useMemo(()=>{const m=new xS.FrappeApp(e,r,void 0,u);return{url:e,tokenParams:r,app:m,auth:m.auth(),db:m.db(),call:m.call(),file:m.file(),socket:l?new I5(e,o,t,r).socket:void 0,enableSocket:l,socketPort:t}},[e,r,t,l,u]);return a.jsx(L5.Provider,{value:f,children:a.jsx(KS,{value:s,children:d})})};function F5(){const[e,r]=S.useState([]),[t,s]=S.useState(!0),[o,l]=S.useState(null);return S.useEffect(()=>{Ne(null,null,function*(){try{s(!0);const u=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_profiles_for_user",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),f=yield u.json();if(u.ok&&f.message)r(f.message);else throw new Error(f._server_messages||"Failed to fetch POS Profiles")}catch(u){console.error("Error loading POS Profiles:",u),l(u instanceof Error?u.message:"Unknown error")}finally{s(!1)}})},[]),{profiles:e,loading:t,error:o}}function cn(){const[e,r]=S.useState(null),[t,s]=S.useState(!0),[o,l]=S.useState(null);return S.useEffect(()=>{Ne(null,null,function*(){try{s(!0);const u=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),f=yield u.json();if(u.ok&&f.message)r(f.message);else throw new Error(f._server_messages||"Failed to fetch POS details")}catch(u){console.error("Error loading POS details:",u),l(u instanceof Error?u.message:"Unknown error")}finally{s(!1)}})},[]),{posDetails:e,loading:t,error:o}}const G3=S.createContext(void 0);function z5({children:e}){const[r,t]=S.useState("light"),[s,o]=S.useState(!1);S.useEffect(()=>{o(!0)},[]),S.useEffect(()=>{if(!s)return;const d=localStorage.getItem("theme");d?t(d):window.matchMedia("(prefers-color-scheme: dark)").matches&&t("dark")},[s]),S.useEffect(()=>{s&&(localStorage.setItem("theme",r),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[r,s]);const l=()=>{t(r==="light"?"dark":"light")};return a.jsx(G3.Provider,{value:{theme:r,setTheme:t,toggleTheme:l},children:e})}function hh(){const e=S.useContext(G3);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,t,s)=>s?s.toUpperCase():t.toLowerCase()),B1=e=>{const r=q5(e);return r.charAt(0).toUpperCase()+r.slice(1)},V3=(...e)=>e.filter((r,t,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===t).join(" ").trim(),H5=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=S.forwardRef((m,f)=>{var y=m,{color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:d}=y,u=hr(y,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return S.createElement("svg",Y(Y(_e(Y({ref:f},G5),{width:r,height:r,stroke:e,strokeWidth:s?Number(t)*24/Number(r):t,className:V3("lucide",o)}),!l&&!H5(u)&&{"aria-hidden":"true"}),u),[...d.map(([k,_])=>S.createElement(k,_)),...Array.isArray(l)?l:[l]])});/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(e,r)=>{const t=S.forwardRef((d,l)=>{var u=d,{className:s}=u,o=hr(u,["className"]);return S.createElement(V5,Y({ref:l,iconNode:r,className:V3(`lucide-${B5(B1(e))}`,`lucide-${e}`,s)},o))});return t.displayName=B1(e),t};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],q1=$t("activity",K5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uo=$t("arrow-left",W5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],K3=$t("banknote",Y5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],H1=$t("barcode",Q5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],yu=$t("building",X5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],G1=$t("calculator",Z5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ey=$t("calendar",J5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ty=$t("camera",eC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Rc=$t("chart-column",tC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],V1=$t("chart-pie",rC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ic=$t("check",aC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_p=$t("chevron-down",nC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oC=$t("chevron-right",sC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nl=$t("circle-alert",iC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kl=$t("circle-check-big",lC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dC=$t("circle-check",cC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ac=$t("circle-x",uC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qc=$t("clock",fC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],is=$t("credit-card",hC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xc=$t("dollar-sign",mC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Sp=$t("download",gC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_l=$t("eye",pC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]],Q0=$t("file-minus",yC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],bC=$t("file-plus",xC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sl=$t("file-text",vC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]],jC=$t("flashlight",wC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cp=$t("funnel",NC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],W3=$t("gift",kC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],K1=$t("globe",_C);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Zu=$t("grid-3x3",SC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],W1=$t("image-plus",CC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Oy=$t("list",$C);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Js=$t("loader-circle",EC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mh=$t("log-out",TC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],$p=$t("mail-plus",OC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cl=$t("mail",AC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wu=$t("map-pin",RC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ep=$t("message-circle-plus",PC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Tp=$t("message-square-plus",MC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ay=$t("minus",DC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],xu=$t("monitor-x",IC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],gh=$t("moon",LC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$l=$t("package",UC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],zC=$t("palette",FC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Y1=$t("pencil",BC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],HC=$t("percent",qC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ju=$t("phone",GC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Di=$t("plus",VC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Nu=$t("printer",KC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Y3=$t("receipt",WC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ii=$t("refresh-cw",YC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],El=$t("rotate-ccw",QC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q3=$t("save",XC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],X3=$t("scan",ZC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],za=$t("search",JC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ph=$t("settings",e9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ku=$t("shopping-cart",t9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],a9=$t("smartphone",r9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Tl=$t("square-pen",n9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Ry=$t("store",s9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yh=$t("sun",o9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],l9=$t("tag",i9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],d9=$t("trash-2",c9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Q1=$t("trending-down",u9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Po=$t("trending-up",f9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_u=$t("triangle-alert",h9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]],g9=$t("usb",m9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],X1=$t("user-plus",p9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wn=$t("user",y9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pi=$t("users",x9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],v9=$t("wallet",b9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ln=$t("x",w9),Z1=e=>{let r;const t=new Set,s=(m,y)=>{const k=typeof m=="function"?m(r):m;if(!Object.is(k,r)){const _=r;r=(y!=null?y:typeof k!="object"||k===null)?k:Object.assign({},r,k),t.forEach(C=>C(r,_))}},o=()=>r,u={setState:s,getState:o,getInitialState:()=>f,subscribe:m=>(t.add(m),()=>t.delete(m))},f=r=e(s,o,u);return u},j9=e=>e?Z1(e):Z1,N9=e=>e;function k9(e,r=N9){const t=bt.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState()));return bt.useDebugValue(t),t}const _9=e=>{const r=j9(e),t=s=>k9(r,s);return Object.assign(t,r),t},S9=e=>_9;function C9(e,r){let t;try{t=e()}catch(o){return}return{getItem:o=>{var l;const d=f=>f===null?null:JSON.parse(f,void 0),u=(l=t.getItem(o))!=null?l:null;return u instanceof Promise?u.then(d):d(u)},setItem:(o,l)=>t.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>t.removeItem(o)}}const Op=e=>r=>{try{const t=e(r);return t instanceof Promise?t:{then(s){return Op(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return Op(s)(t)}}}},$9=(e,r)=>(t,s,o)=>{let l=Y({storage:C9(()=>localStorage),partialize:E=>E,version:0,merge:(E,A)=>Y(Y({},A),E)},r),d=!1;const u=new Set,f=new Set;let m=l.storage;if(!m)return e((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...E)},s,o);const y=()=>{const E=l.partialize(Y({},s()));return m.setItem(l.name,{state:E,version:l.version})},k=o.setState;o.setState=(E,A)=>{k(E,A),y()};const _=e((...E)=>{t(...E),y()},s,o);o.getInitialState=()=>_;let C;const T=()=>{var E,A;if(!m)return;d=!1,u.forEach(B=>{var H;return B((H=s())!=null?H:_)});const M=((A=l.onRehydrateStorage)==null?void 0:A.call(l,(E=s())!=null?E:_))||void 0;return Op(m.getItem.bind(m))(l.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==l.version){if(l.migrate){const H=l.migrate(B.state,B.version);return H instanceof Promise?H.then(O=>[!0,O]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var H;const[O,z]=B;if(C=l.merge(z,(H=s())!=null?H:_),t(C,!0),O)return y()}).then(()=>{M==null||M(C,void 0),C=s(),d=!0,f.forEach(B=>B(C))}).catch(B=>{M==null||M(void 0,B)})};return o.persist={setOptions:E=>{l=Y(Y({},l),E),E.storage&&(m=E.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>T(),hasHydrated:()=>d,onHydrate:E=>(u.add(E),()=>{u.delete(E)}),onFinishHydration:E=>(f.add(E),()=>{f.delete(E)})},l.skipHydration||T(),C||_},E9=$9;function Z3(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=Z3(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function vl(){for(var e,r,t=0,s="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=Z3(e))&&(s&&(s+=" "),s+=r);return s}function T9(e){if(typeof document=="undefined")return;let r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}T9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ju=e=>typeof e=="number"&&!isNaN(e),Ol=e=>typeof e=="string",Fo=e=>typeof e=="function",O9=e=>Ol(e)||Ju(e),Ap=e=>Ol(e)||Fo(e)?e:null,A9=(e,r)=>e===!1||Ju(e)&&e>0?e:r,Rp=e=>S.isValidElement(e)||Ol(e)||Fo(e)||Ju(e);function R9(e,r,t=300){let{scrollHeight:s,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(r,t)})})}function P9({enter:e,exit:r,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:d,preventExitTransition:u,done:f,nodeRef:m,isIn:y,playToast:k}){let _=t?`${e}--${d}`:e,C=t?`${r}--${d}`:r,T=S.useRef(0);return S.useLayoutEffect(()=>{let E=m.current,A=_.split(" "),M=B=>{B.target===m.current&&(k(),E.removeEventListener("animationend",M),E.removeEventListener("animationcancel",M),T.current===0&&B.type!=="animationcancel"&&E.classList.remove(...A))};E.classList.add(...A),E.addEventListener("animationend",M),E.addEventListener("animationcancel",M)},[]),S.useEffect(()=>{let E=m.current,A=()=>{E.removeEventListener("animationend",A),s?R9(E,f,o):f()};y||(u?A():(T.current=1,E.className+=` ${C}`,E.addEventListener("animationend",A)))},[y]),bt.createElement(bt.Fragment,null,l)}}function J1(e,r){return{content:J3(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:r}}function J3(e,r,t=!1){return S.isValidElement(e)&&!Ol(e.type)?S.cloneElement(e,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:t}):Fo(e)?e({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:t}):e}function M9({closeToast:e,theme:r,ariaLabel:t="close"}){return bt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":t},bt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},bt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function D9({delay:e,isRunning:r,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:d,progress:u,rtl:f,isIn:m,theme:y}){let k=o||d&&u===0,_={animationDuration:`${e}ms`,animationPlayState:r?"running":"paused"};d&&(_.transform=`scaleX(${u})`);let C=vl("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":f}),T=Fo(l)?l({rtl:f,type:s,defaultClassName:C}):vl(C,l),E={[d&&u>=1?"onTransitionEnd":"onAnimationEnd"]:d&&u<1?null:()=>{m&&t()}};return bt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":k},bt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${s}`}),bt.createElement("div",Y({role:"progressbar","aria-hidden":k?"true":"false","aria-label":"notification timer",className:T,style:_},E)))}var I9=1,e4=()=>`${I9++}`;function L9(e,r,t){let s=1,o=0,l=[],d=[],u=r,f=new Map,m=new Set,y=B=>(m.add(B),()=>m.delete(B)),k=()=>{d=Array.from(f.values()),m.forEach(B=>B())},_=({containerId:B,toastId:H,updateId:O})=>{let z=B?B!==e:e!==1,q=f.has(H)&&O==null;return z||q},C=(B,H)=>{f.forEach(O=>{var z;(H==null||H===O.props.toastId)&&((z=O.toggle)==null||z.call(O,B))})},T=B=>{var H,O;(O=(H=B.props)==null?void 0:H.onClose)==null||O.call(H,B.removalReason),B.isActive=!1},E=B=>{if(B==null)f.forEach(T);else{let H=f.get(B);H&&T(H)}k()},A=()=>{o-=l.length,l=[]},M=B=>{var H,O;let{toastId:z,updateId:q}=B.props,ae=q==null;B.staleId&&f.delete(B.staleId),B.isActive=!0,f.set(z,B),k(),t(J1(B,ae?"added":"updated")),ae&&((O=(H=B.props).onOpen)==null||O.call(H))};return{id:e,props:u,observe:y,toggle:C,removeToast:E,toasts:f,clearQueue:A,buildToast:(B,H)=>{if(_(H))return;let{toastId:O,updateId:z,data:q,staleId:ae,delay:he}=H,ee=z==null;ee&&o++;let Ee=_e(Y(_e(Y({},u),{style:u.toastStyle,key:s++}),Object.fromEntries(Object.entries(H).filter(([ue,se])=>se!=null))),{toastId:O,updateId:z,data:q,isIn:!1,className:Ap(H.className||u.toastClassName),progressClassName:Ap(H.progressClassName||u.progressClassName),autoClose:H.isLoading?!1:A9(H.autoClose,u.autoClose),closeToast(ue){f.get(O).removalReason=ue,E(O)},deleteToast(){let ue=f.get(O);if(ue!=null){if(t(J1(ue,"removed")),f.delete(O),o--,o<0&&(o=0),l.length>0){M(l.shift());return}k()}}});Ee.closeButton=u.closeButton,H.closeButton===!1||Rp(H.closeButton)?Ee.closeButton=H.closeButton:H.closeButton===!0&&(Ee.closeButton=Rp(u.closeButton)?u.closeButton:!0);let ce={content:B,props:Ee,staleId:ae};u.limit&&u.limit>0&&o>u.limit&&ee?l.push(ce):Ju(he)?setTimeout(()=>{M(ce)},he):M(ce)},setProps(B){u=B},setToggle:(B,H)=>{let O=f.get(B);O&&(O.toggle=H)},isToastActive:B=>{var H;return(H=f.get(B))==null?void 0:H.isActive},getSnapshot:()=>d}}var xn=new Map,Su=[],Pp=new Set,U9=e=>Pp.forEach(r=>r(e)),t4=()=>xn.size>0;function F9(){Su.forEach(e=>a4(e.content,e.options)),Su=[]}var z9=(e,{containerId:r})=>{var t;return(t=xn.get(r||1))==null?void 0:t.toasts.get(e)};function r4(e,r){var t;if(r)return!!((t=xn.get(r))!=null&&t.isToastActive(e));let s=!1;return xn.forEach(o=>{o.isToastActive(e)&&(s=!0)}),s}function B9(e){if(!t4()){Su=Su.filter(r=>e!=null&&r.options.toastId!==e);return}if(e==null||O9(e))xn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let r=xn.get(e.containerId);r?r.removeToast(e.id):xn.forEach(t=>{t.removeToast(e.id)})}}var q9=(e={})=>{xn.forEach(r=>{r.props.limit&&(!e.containerId||r.id===e.containerId)&&r.clearQueue()})};function a4(e,r){Rp(e)&&(t4()||Su.push({content:e,options:r}),xn.forEach(t=>{t.buildToast(e,r)}))}function H9(e){var r;(r=xn.get(e.containerId||1))==null||r.setToggle(e.id,e.fn)}function n4(e,r){xn.forEach(t=>{(r==null||!(r!=null&&r.containerId)||(r==null?void 0:r.containerId)===t.id)&&t.toggle(e,r==null?void 0:r.id)})}function G9(e){let r=e.containerId||1;return{subscribe(t){let s=L9(r,e,U9);xn.set(r,s);let o=s.observe(t);return F9(),()=>{o(),xn.delete(r)}},setProps(t){var s;(s=xn.get(r))==null||s.setProps(t)},getSnapshot(){var t;return(t=xn.get(r))==null?void 0:t.getSnapshot()}}}function V9(e){return Pp.add(e),()=>{Pp.delete(e)}}function K9(e){return e&&(Ol(e.toastId)||Ju(e.toastId))?e.toastId:e4()}function ef(e,r){return a4(e,r),r.toastId}function xh(e,r){return _e(Y({},r),{type:r&&r.type||e,toastId:K9(r)})}function bh(e){return(r,t)=>ef(r,xh(e,t))}function Ye(e,r){return ef(e,xh("default",r))}Ye.loading=(e,r)=>ef(e,xh("default",Y({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},r)));function W9(e,{pending:r,error:t,success:s},o){let l;r&&(l=Ol(r)?Ye.loading(r,o):Ye.loading(r.render,Y(Y({},o),r)));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(m,y,k)=>{if(y==null){Ye.dismiss(l);return}let _=_e(Y(Y({type:m},d),o),{data:k}),C=Ol(y)?{render:y}:y;return l?Ye.update(l,Y(Y({},_),C)):Ye(C.render,Y(Y({},_),C)),k},f=Fo(e)?e():e;return f.then(m=>u("success",s,m)).catch(m=>u("error",t,m)),f}Ye.promise=W9;Ye.success=bh("success");Ye.info=bh("info");Ye.error=bh("error");Ye.warning=bh("warning");Ye.warn=Ye.warning;Ye.dark=(e,r)=>ef(e,xh("default",Y({theme:"dark"},r)));function Y9(e){B9(e)}Ye.dismiss=Y9;Ye.clearWaitingQueue=q9;Ye.isActive=r4;Ye.update=(e,r={})=>{let t=z9(e,r);if(t){let{props:s,content:o}=t,l=_e(Y(Y({delay:100},s),r),{toastId:r.toastId||e,updateId:e4()});l.toastId!==e&&(l.staleId=e);let d=l.render||o;delete l.render,ef(d,l)}};Ye.done=e=>{Ye.update(e,{progress:1})};Ye.onChange=V9;Ye.play=e=>n4(!0,e);Ye.pause=e=>n4(!1,e);function Q9(e){var r;let{subscribe:t,getSnapshot:s,setProps:o}=S.useRef(G9(e)).current;o(e);let l=(r=S.useSyncExternalStore(t,s,s))==null?void 0:r.slice();function d(u){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:y}=m.props;f.has(y)||f.set(y,[]),f.get(y).push(m)}),Array.from(f,m=>u(m[0],m[1]))}return{getToastToRender:d,isToastActive:r4,count:l==null?void 0:l.length}}function X9(e){let[r,t]=S.useState(!1),[s,o]=S.useState(!1),l=S.useRef(null),d=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:f,closeToast:m,onClick:y,closeOnClick:k}=e;H9({id:e.toastId,containerId:e.containerId,fn:t}),S.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{C()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||M(),window.addEventListener("focus",A),window.addEventListener("blur",M)}function C(){window.removeEventListener("focus",A),window.removeEventListener("blur",M)}function T(ae){if(e.draggable===!0||e.draggable===ae.pointerType){B();let he=l.current;d.canCloseOnClick=!0,d.canDrag=!0,he.style.transition="none",e.draggableDirection==="x"?(d.start=ae.clientX,d.removalDistance=he.offsetWidth*(e.draggablePercent/100)):(d.start=ae.clientY,d.removalDistance=he.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function E(ae){let{top:he,bottom:ee,left:Ee,right:ce}=l.current.getBoundingClientRect();ae.nativeEvent.type!=="touchend"&&e.pauseOnHover&&ae.clientX>=Ee&&ae.clientX<=ce&&ae.clientY>=he&&ae.clientY<=ee?M():A()}function A(){t(!0)}function M(){t(!1)}function B(){d.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",z)}function H(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}function O(ae){let he=l.current;if(d.canDrag&&he){d.didMove=!0,r&&M(),e.draggableDirection==="x"?d.delta=ae.clientX-d.start:d.delta=ae.clientY-d.start,d.start!==ae.clientX&&(d.canCloseOnClick=!1);let ee=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;he.style.transform=`translate3d(${ee},0)`,he.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function z(){H();let ae=l.current;if(d.canDrag&&d.didMove&&ae){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}ae.style.transition="transform 0.2s, opacity 0.2s",ae.style.removeProperty("transform"),ae.style.removeProperty("opacity")}}let q={onPointerDown:T,onPointerUp:E};return u&&f&&(q.onMouseEnter=M,e.stacked||(q.onMouseLeave=A)),k&&(q.onClick=ae=>{y&&y(ae),d.canCloseOnClick&&m(!0)}),{playToast:A,pauseToast:M,isRunning:r,preventExitTransition:s,toastRef:l,eventHandlers:q}}var Z9=typeof window!="undefined"?S.useLayoutEffect:S.useEffect,vh=o=>{var l=o,{theme:e,type:r,isLoading:t}=l,s=hr(l,["theme","type","isLoading"]);return bt.createElement("svg",Y({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`},s))};function J9(e){return bt.createElement(vh,Y({},e),bt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function e8(e){return bt.createElement(vh,Y({},e),bt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function t8(e){return bt.createElement(vh,Y({},e),bt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function r8(e){return bt.createElement(vh,Y({},e),bt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function a8(){return bt.createElement("div",{className:"Toastify__spinner"})}var Mp={info:e8,warning:J9,success:t8,error:r8,spinner:a8},n8=e=>e in Mp;function s8({theme:e,type:r,isLoading:t,icon:s}){let o=null,l={theme:e,type:r};return s===!1||(Fo(s)?o=s(_e(Y({},l),{isLoading:t})):S.isValidElement(s)?o=S.cloneElement(s,l):t?o=Mp.spinner():n8(r)&&(o=Mp[r](l))),o}var o8=e=>{let{isRunning:r,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=X9(e),{closeButton:d,children:u,autoClose:f,onClick:m,type:y,hideProgressBar:k,closeToast:_,transition:C,position:T,className:E,style:A,progressClassName:M,updateId:B,role:H,progress:O,rtl:z,toastId:q,deleteToast:ae,isIn:he,isLoading:ee,closeOnClick:Ee,theme:ce,ariaLabel:ue}=e,se=vl("Toastify__toast",`Toastify__toast-theme--${ce}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":Ee}),de=Fo(E)?E({rtl:z,position:T,type:y,defaultClassName:se}):vl(se,E),pe=s8(e),ie=!!O||!f,te={closeToast:_,type:y,theme:ce},W=null;return d===!1||(Fo(d)?W=d(te):S.isValidElement(d)?W=S.cloneElement(d,te):W=M9(te)),bt.createElement(C,{isIn:he,done:ae,position:T,preventExitTransition:t,nodeRef:s,playToast:l},bt.createElement("div",Y(_e(Y({id:q,tabIndex:0,onClick:m,"data-in":he,className:de},o),{style:A,ref:s}),he&&{role:H,"aria-label":ue}),pe!=null&&bt.createElement("div",{className:vl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ee})},pe),J3(u,e,!r),W,!e.customProgressBar&&bt.createElement(D9,_e(Y({},B&&!ie?{key:`p-${B}`}:{}),{rtl:z,theme:ce,delay:f,isRunning:r,isIn:he,closeToast:_,hide:k,type:y,className:M,controlledProgress:ie,progress:O||0}))))},i8=(e,r=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:r}),l8=P9(i8("bounce",!0)),c8={position:"top-right",transition:l8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function d8(e){let r=Y(Y({},c8),e),t=e.stacked,[s,o]=S.useState(!0),l=S.useRef(null),{getToastToRender:d,isToastActive:u,count:f}=Q9(r),{className:m,style:y,rtl:k,containerId:_,hotKeys:C}=r;function T(A){let M=vl("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":k});return Fo(m)?m({position:A,rtl:k,defaultClassName:M}):vl(M,Ap(m))}function E(){t&&(o(!0),Ye.play())}return Z9(()=>{var A;if(t){let M=l.current.querySelectorAll('[data-in="true"]'),B=12,H=(A=r.position)==null?void 0:A.includes("top"),O=0,z=0;Array.from(M).reverse().forEach((q,ae)=>{let he=q;he.classList.add("Toastify__toast--stacked"),ae>0&&(he.dataset.collapsed=`${s}`),he.dataset.pos||(he.dataset.pos=H?"top":"bot");let ee=O*(s?.2:1)+(s?0:B*ae);he.style.setProperty("--y",`${H?ee:ee*-1}px`),he.style.setProperty("--g",`${B}`),he.style.setProperty("--s",`${1-(s?z:0)}`),O+=he.offsetHeight,z+=.025})}},[s,f,t]),S.useEffect(()=>{function A(M){var B;let H=l.current;C(M)&&((B=H.querySelector('[tabIndex="0"]'))==null||B.focus(),o(!1),Ye.pause()),M.key==="Escape"&&(document.activeElement===H||H!=null&&H.contains(document.activeElement))&&(o(!0),Ye.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[C]),bt.createElement("section",{ref:l,className:"Toastify",id:_,onMouseEnter:()=>{t&&(o(!1),Ye.pause())},onMouseLeave:E,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},d((A,M)=>{let B=M.length?Y({},y):_e(Y({},y),{pointerEvents:"none"});return bt.createElement("div",{tabIndex:-1,className:T(A),"data-stacked":t,style:B,key:`c-${A}`},M.map(({content:H,props:O})=>bt.createElement(o8,_e(Y({},O),{stacked:t,collapseAll:E,isIn:u(O.toastId,O.containerId),key:`t-${O.key}`}),H)))}))}const wh="draft-invoice-cache",s4=5*60*1e3;function u8(e,r,t){const s={items:r,timestamp:Date.now(),invoiceId:e,customer:t,originalDraftInvoiceId:e};console.log("cacheDraftInvoiceItems - storing cache:",s),localStorage.setItem(wh,JSON.stringify(s))}function o4(){try{const e=localStorage.getItem(wh);if(!e)return null;const r=JSON.parse(e);return Date.now()-r.timestamp>s4?(Zc(),null):r}catch(e){return console.error("Error retrieving cached draft invoice items:",e),Zc(),null}}function Zc(){localStorage.removeItem(wh)}function f8(){return Ne(this,null,function*(){const e=o4();if(!e||e.items.length===0)return!1;const{setSelectedCustomer:r,addToCartWithQuantity:t}=Il.getState();e.customer&&r(e.customer);for(const s of e.items){const o={id:s.id,name:s.name,category:s.category,price:s.price,image:s.image,available:s.available,uom:s.uom,item_code:s.id};yield t(o,s.quantity)}return!0})}function h8(){const e=localStorage.getItem(wh);if(!e)return!1;try{const r=JSON.parse(e);return Date.now()-r.timestamp<=s4}catch(r){return console.error("Error checking cache validity:",r),!1}}function m8(){const e=o4();return(e==null?void 0:e.originalDraftInvoiceId)||null}function Dp(e,r,t){return Ne(this,null,function*(){try{const s=r?`&customer=${r}`:"",o=t?`&uom=${encodeURIComponent(t)}`:"",l=yield fetch(`/api/method/klik_pos.api.item.get_item_price_for_customer?item_code=${e}${s}${o}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const d=yield l.json();return d.message||d}catch(s){return console.error("Error fetching item price for customer:",s),{success:!1,price:0,currency:"SAR",currency_symbol:"SAR",error:s instanceof Error?s.message:"Unknown error"}}})}function g8(e,r){return Ne(this,null,function*(){const t={},s=e.map(o=>Ne(null,null,function*(){const l=o.item_code||o.id,d=yield Dp(l,r,o.uom);t[o.id]=d}));return yield Promise.all(s),t})}function e2(e,r){return Ne(this,null,function*(){try{const t=r?`&customer=${r}`:"",s=yield fetch(`/api/method/klik_pos.api.item.apply_pricing_rules_to_cart?cart_items=${encodeURIComponent(JSON.stringify(e))}${t}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return(yield s.json()).message||e}catch(t){return console.error("Error applying pricing rules to cart:",t),e}})}const Il=S9()(E9((e,r)=>({cartItems:[],appliedCoupons:[],selectedCustomer:null,addToCart:t=>Ne(null,null,function*(){const s=r(),o=s.cartItems.find(l=>l.id===t.id);if(t.available!==void 0&&t.available<=0){Ye.error(`${t.name} is out of stock`);return}if(o){if(t.available!==void 0&&o.quantity>=t.available){Ye.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}e(l=>({cartItems:l.cartItems.map(d=>d.id===t.id?_e(Y({},d),{quantity:d.quantity+1}):d)}))}else{let l=t.price;if(s.selectedCustomer)try{const f=yield Dp(t.id,s.selectedCustomer.id,t.uom);f.success&&(l=f.price)}catch(f){console.error(" Error fetching price for customer:",f)}const d=[...s.cartItems,_e(Y({},t),{price:l,quantity:1})];e(f=>({cartItems:d}));const u=r();u.cartItems.length>0&&(yield u.applyPricingRules())}}),addToCartWithQuantity:(t,s)=>Ne(null,null,function*(){const o=r(),l=o.cartItems.find(d=>d.id===t.id);if(t.available!==void 0&&t.available<s){Ye.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}if(l){if(t.available!==void 0&&l.quantity+s>t.available){Ye.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}e(d=>({cartItems:d.cartItems.map(u=>u.id===t.id?_e(Y({},u),{quantity:u.quantity+s}):u)}))}else{let d=t.price;if(o.selectedCustomer)try{const m=yield Dp(t.id,o.selectedCustomer.id,t.uom);m.success&&(d=m.price)}catch(m){console.error(" Error fetching price for customer:",m)}const u=[...o.cartItems,_e(Y({},t),{price:d,quantity:s})];e(m=>({cartItems:u}));const f=r();f.cartItems.length>0&&(yield f.applyPricingRules())}}),updateQuantity:(t,s)=>Ne(null,null,function*(){const o=r();if(s<=0){e({cartItems:o.cartItems.filter(f=>f.id!==t)});const u=r();u.cartItems.length>0&&(yield u.applyPricingRules());return}const l=o.cartItems.find(u=>u.id===t);if(l&&l.available!==void 0&&s>l.available){Ye.error(`Only ${l.available} ${l.uom||"units"} of ${l.name} available`);return}e({cartItems:o.cartItems.map(u=>u.id===t?_e(Y({},u),{quantity:s}):u)});const d=r();d.cartItems.length>0&&(yield d.applyPricingRules())}),updateUOM:(t,s,o)=>Ne(null,null,function*(){console.log(` Cart Store: Updating UOM for item ${t} to ${s} with price ${o}`),e(d=>{const u=d.cartItems.map(f=>f.id===t?(console.log(` Cart Store: Item ${t} updated:`,{before:{uom:f.uom,price:f.price},after:{uom:s,price:o}}),_e(Y({},f),{uom:s,price:o})):f);return console.log(" Cart Store: All items after update:",u),{cartItems:u}});const l=r();if(l.cartItems.length>0){console.log(" Cart Store: Applying pricing rules after UOM update"),yield l.applyPricingRules();const u=r().cartItems.find(f=>f.id===t);console.log(` Cart Store: Item ${t} after pricing rules:`,{uom:u==null?void 0:u.uom,price:u==null?void 0:u.price})}}),removeItem:t=>e(s=>({cartItems:s.cartItems.filter(o=>o.id!==t)})),clearCart:()=>{Zc(),e(()=>({cartItems:[],appliedCoupons:[],selectedCustomer:null}))},applyCoupon:t=>e(s=>s.appliedCoupons.some(o=>o.code===t.code)?s:{appliedCoupons:[...s.appliedCoupons,t]}),removeCoupon:t=>e(s=>({appliedCoupons:s.appliedCoupons.filter(o=>o.code!==t)})),setSelectedCustomer:t=>Ne(null,null,function*(){e(()=>({selectedCustomer:t}));const s=r();s.cartItems.length>0&&(yield s.updatePricesForCustomer(t==null?void 0:t.id))}),updatePricesForCustomer:t=>Ne(null,null,function*(){const s=r();if(s.cartItems.length!==0)try{const o=yield g8(s.cartItems,t);let l=s.cartItems.map(u=>{const f=o[u.id];if(f&&f.success&&f.price>0){const m=u.price||0,y=f.price;return u.uom&&m>0&&y<m*.5&&m>10?(console.log(`Preserving price for ${u.id}: current=${m}, new=${y}, UOM=${u.uom}`),u):_e(Y({},u),{price:y})}return u});const d=yield e2(l,t);e(u=>({cartItems:u.cartItems.map(f=>{const m=d.find(y=>y.id===f.id);return m?_e(Y({},f),{price:m.price,original_price:m.original_price||f.price,discount_percentage:m.discount_percentage,discount_amount:m.discount_amount,pricing_rules:m.pricing_rules,has_pricing_rule:m.has_pricing_rule}):f})}))}catch(o){console.error(" Error updating prices for customer:",o),Ye.error("Failed to update prices for customer")}}),applyPricingRules:()=>Ne(null,null,function*(){var s;const t=r();if(t.cartItems.length!==0)try{const o=(s=t.selectedCustomer)==null?void 0:s.id,l=yield e2(t.cartItems,o);e(d=>({cartItems:d.cartItems.map(u=>{const f=l.find(m=>m.id===u.id);if(f){const m=u.price||0,y=f.price||0;return!f.has_pricing_rule&&u.uom&&m>0&&y>0&&y<m*.5&&m>10?(console.log(`Preserving price in pricing rules for ${u.id}: current=${m}, new=${y}, UOM=${u.uom}`),_e(Y({},u),{price:m,original_price:f.original_price||m,discount_percentage:f.discount_percentage,discount_amount:f.discount_amount,pricing_rules:f.pricing_rules,has_pricing_rule:f.has_pricing_rule})):_e(Y({},u),{price:y,original_price:f.original_price||u.price,discount_percentage:f.discount_percentage,discount_amount:f.discount_amount,pricing_rules:f.pricing_rules,has_pricing_rule:f.has_pricing_rule})}return u})}))}catch(o){console.error(" Error applying pricing rules:",o)}})}),{name:"beveren-cart-storage"})),Rg={PRODUCTS:"klik_pos_products_cache",PRODUCTS_EXPIRY:"klik_pos_products_cache_expiry",DRAFT_INVOICE:"draft-invoice-cache",CART:"beveren-cart-storage"};function Py(){try{console.log(" Clearing all application cache..."),localStorage.removeItem(Rg.PRODUCTS),localStorage.removeItem(Rg.PRODUCTS_EXPIRY),console.log(" Product cache cleared"),Zc(),console.log(" Draft invoice cache cleared"),localStorage.removeItem(Rg.CART),console.log(" Cart cache cleared");const{clearCart:e}=Il.getState();e(),console.log(" Cart state cleared");const r=["theme","language","i18n","auth-token","user-session"];Object.keys(localStorage).filter(o=>o.startsWith("klik_pos_")||o.startsWith("beveren-")||o.startsWith("draft-")||o.includes("cache")&&!r.includes(o)).forEach(o=>{localStorage.removeItem(o),console.log(` Cleared cache key: ${o}`)}),console.log(" All cache cleared successfully!")}catch(e){throw console.error(" Error clearing cache:",e),e}}function p8(){return Ne(this,null,function*(){var e,r;try{console.log(" Clearing backend cache...");const s=yield(yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"})).json();(e=s.message)!=null&&e.success?console.log(" Backend cache cleared successfully"):console.warn(" Backend cache clear failed:",((r=s.message)==null?void 0:r.error)||"Unknown error")}catch(t){console.error(" Error clearing backend cache:",t)}})}function i4(){return Ne(this,null,function*(){try{Py(),yield p8(),console.log(" Reloading page with fresh data..."),setTimeout(()=>{window.location.reload()},100)}catch(e){console.error(" Error during cache clear and reload:",e),window.location.reload()}})}const t2={Coffee:"",Tea:"",Mocktail:"",Rice:"",Pasta:"",Burger:"",Bakery:"",Fruits:"",Vegetables:"",Dairy:"",Meat:"",Seafood:"",Snacks:"",Dessert:"","All Items":""};function y8(){const[e,r]=S.useState([]),[t,s]=S.useState(!0),[o,l]=S.useState(null),[d,u]=S.useState(0),f=()=>Ne(null,null,function*(){s(!0);try{const y=yield(yield fetch("/api/method/klik_pos.api.item.get_item_groups_for_pos")).json();if(y!=null&&y.message&&Array.isArray(y.message.groups)&&typeof y.message.total_items=="number")r(y.message.groups),u(y.message.total_items);else throw new Error("Invalid response format")}catch(m){console.error("Error fetching item groups:",m),l(m.message||"Unknown error occurred")}finally{s(!1)}});return S.useEffect(()=>{f()},[]),{itemGroups:e,isLoading:t,total_item_count:d,error:o,refetch:f,count:e.length}}function l4({selectedCategory:e,onCategoryChange:r,isMobile:t=!1}){const{itemGroups:s,isLoading:o,error:l,total_item_count:d}=y8();if(o)return a.jsx("div",{children:"Loading categories..."});if(l)return console.error(" Error fetching item groups:",l),a.jsxs("div",{className:"text-red-600",children:[a.jsx("p",{children:"Error loading categories:"}),a.jsx("pre",{className:"text-xs bg-red-100 p-2 rounded",children:l})]});if(!s||s.length===0)return a.jsx("div",{children:"No item groups found."});const u=[{id:"all",name:"All Items",icon:t2["All Items"],count:d},...s.map(f=>{var m,y;return{id:f.id,name:f.name,icon:(m=t2[f.name])!=null?m:"",count:(y=f.count)!=null?y:1}})];return a.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2 scrollbar-hide",children:u.map(f=>a.jsx("button",{onClick:()=>r(f.id),className:`flex items-center justify-center px-3 py-2 rounded-xl whitespace-nowrap transition-all duration-200 flex-shrink-0 min-w-fit ${e===f.id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 border border-beveren-200 dark:border-beveren-800 shadow-sm":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:`font-semibold ${t?"text-xs":"text-sm"}`,children:f.name}),a.jsxs("span",{className:"text-xs font-medium opacity-70",children:[f.count," Item",f.count!==1?"s":""]})]})},f.id))})}function x8({item:e,onAddToCart:r,isMobile:t=!1,scannerOnly:s=!1}){const o=e.available<=0,l=o||s,d=`${e.currency_symbol}${e.price.toFixed(2)}`;return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-200 ${l?"opacity-70 cursor-not-allowed":"hover:shadow-lg hover:scale-105 cursor-pointer active:scale-95"} ${t?"touch-manipulation":""}`,onClick:()=>!l&&r(e),children:[a.jsxs("div",{className:"relative",children:[e.image?a.jsx("img",{src:e.image,alt:e.name,className:`w-full object-cover ${t?"h-24":"h-32"}`,crossOrigin:"anonymous"}):a.jsx("div",{className:`w-full ${t?"h-24":"h-32"} bg-gray-100 dark:bg-gray-700 flex items-center justify-center`,children:a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No Image"})}),e.discount&&a.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-1.5 py-0.5 rounded-md text-xs font-bold",children:["-",e.discount,"%"]}),!o&&a.jsx("div",{className:"absolute top-2 right-2 bg-slate-600 text-white px-1.5 py-0.5 rounded-md text-xs font-medium",children:e.available}),o&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xs",children:"Out of Stock"})}),s&&!o&&a.jsx("div",{className:"absolute inset-0  flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-md shadow-sm border border-blue-200 dark:border-blue-700",children:"Scan Only"})})]}),a.jsxs("div",{className:`${t?"p-2 h-12":"p-3 h-16"} flex flex-col justify-between`,children:[a.jsx("div",{children:a.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white truncate ${t?"text-xs":"text-sm"}`,children:e.name})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize text-xs",children:e.category}),a.jsx("span",{className:`font-bold text-beveren-600 dark:text-beveren-400 ${t?"text-xs":"text-sm"}`,children:d})]})]})]})}function b8({items:e,onAddToCart:r,isMobile:t=!1,scannerOnly:s=!1}){return e.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):a.jsx("div",{className:`${t?"p-4":"p-2"} bg-gray-50 dark:bg-gray-900`,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-4 overflow-hidden",children:[a.jsxs("div",{className:`${t?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600`,children:[a.jsx("div",{className:`${t?"col-span-3":"col-span-4"}`,children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Product"})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Rate"})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Qty"})}),!t&&a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"UOM"})}),a.jsx("div",{className:`${t?"col-span-1":"col-span-2"} text-center`,children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})})]}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:e.map(o=>{const l=o.available<=0,d=l||s,u=`${o.currency_symbol}${o.price.toFixed(2)}`;return a.jsxs("div",{className:`${t?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${d?"opacity-60":"cursor-pointer"}`,onClick:()=>!d&&r(o),children:[a.jsx("div",{className:`${t?"col-span-3":"col-span-4"} flex items-start`,children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${t?"text-xs leading-tight":"text-sm"} ${t?"break-words":"truncate"}`,children:o.name}),a.jsx("p",{className:`text-gray-500 dark:text-gray-400 ${t?"text-xs leading-tight":"text-sm"} ${t?"break-words":"truncate"}`,children:o.category})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`font-semibold text-beveren-600 dark:text-beveren-400 ${t?"text-xs":"text-sm"}`,children:u})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`font-medium ${t?"text-xs":"text-sm"} ${l?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:l?"0":o.available})}),!t&&a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.uom||"Nos"})}),a.jsx("div",{className:`${t?"col-span-1":"col-span-2"} flex items-center justify-center`,children:d?a.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:l?"0":"S"}):a.jsx("button",{onClick:f=>{f.stopPropagation(),r(o)},className:`bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-md transition-colors hover:bg-slate-200 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-500 ${t?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:t?"+":"Add"})})]},o.id)})})]})})}function c4({items:e,onAddToCart:r,isMobile:t=!1,scannerOnly:s=!1,viewMode:o="grid",hasMore:l=!1,isLoadingMore:d=!1,onLoadMore:u,totalCount:f=0}){const m=S.useRef(null),y=S.useCallback(k=>{k[0].isIntersecting&&l&&!d&&u&&u()},[l,d,u]);return S.useEffect(()=>{const k={root:null,rootMargin:"200px",threshold:0},_=new IntersectionObserver(y,k);return m.current&&_.observe(m.current),()=>{m.current&&_.unobserve(m.current)}},[y]),o==="list"?a.jsxs("div",{className:"flex flex-col",children:[a.jsx(b8,{items:e,onAddToCart:r,isMobile:t,scannerOnly:s}),u&&a.jsxs("div",{ref:m,className:"py-4 flex justify-center",children:[d&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading more items..."})]}),!d&&l&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["Showing ",e.length," of ",f," items"]}),!l&&e.length>0&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["All ",e.length," items loaded"]})]})]}):e.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):a.jsxs("div",{className:`${t?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:[a.jsx("div",{className:`grid gap-4 ${t?"grid-cols-2 sm:grid-cols-3":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}`,children:e.map(k=>a.jsx(x8,{item:k,onAddToCart:r,isMobile:t,scannerOnly:s},k.id))}),u&&a.jsxs("div",{ref:m,className:"py-6 flex justify-center",children:[d&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading more items..."})]}),!d&&l&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["Showing ",e.length," of ",f," items  Scroll for more"]}),!l&&e.length>0&&f>0&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["All ",e.length," items loaded"]})]})]})}function v8({searchQuery:e,onSearchChange:r,onScanBarcode:t,onSearchKeyPress:s,isMobile:o=!1}){const[l,d]=S.useState(!1),u=()=>o?"Search menu...":"Search by product, category, item code, barcode, batch or serial...";return a.jsx("div",{className:`relative ${o?"w-full":"w-full max-w-3xl"}`,children:a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("input",{type:"text",value:e,onChange:f=>r(f.target.value),onKeyPress:s,placeholder:u(),className:`flex-1 px-4 py-3 pl-12 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 ${l?"shadow-lg":"shadow-sm"}`,onFocus:()=>d(!0),onBlur:()=>d(!1)}),a.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t&&a.jsx("button",{onClick:t,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:a.jsx(X3,{size:20})}),e&&!t&&a.jsx("button",{onClick:()=>r(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function w8({items:e,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:o,onSearchKeyPress:l,onAddToCart:d,onScanBarcode:u,scannerOnly:f=!1,hasMore:m=!1,isLoadingMore:y=!1,onLoadMore:k,totalCount:_=0,isSearching:C=!1}){const{user:T,logout:E}=Ui(),{theme:A,toggleTheme:M}=hh(),{posDetails:B,loading:H}=cn(),[O,z]=S.useState(!1),[q,ae]=S.useState("grid"),he=S.useRef(null);S.useEffect(()=>{if(!H&&B){const de=B.custom_default_view;de==="List View"?ae("list"):de==="Grid View"&&ae("grid")}},[B,H]),S.useEffect(()=>{function de(pe){he.current&&!he.current.contains(pe.target)&&z(!1)}return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[he]);const ee=()=>Ne(null,null,function*(){try{yield E(),window.location.href="/klik_pos/login"}catch(de){console.error("Logout error:",de),window.location.href="/klik_pos/login"}}),Ee=de=>de.split(" ").map(pe=>pe.charAt(0).toUpperCase()).join("").substring(0,2),ce=(T==null?void 0:T.full_name)||(T==null?void 0:T.name)||"Guest User",ue=(B==null?void 0:B.name)||"POS Profile",se=Ee(ce);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 max-w-md",children:[a.jsx(v8,{searchQuery:s,onSearchChange:o,onSearchKeyPress:l,onScanBarcode:u}),a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>ae("grid"),className:`p-2 rounded-md transition-colors ${q==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:a.jsx(Zu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ae("list"),className:`p-2 rounded-md transition-colors ${q==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:a.jsx(Oy,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 ml-6 relative",ref:he,children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ue}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ce})]}),a.jsx("button",{onClick:()=>z(!O),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white text-sm font-medium pointer-events-none",children:se})}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-base",children:se})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:ue}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(Ry,{size:14,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:ce})]})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(Xu,{to:"/settings",onClick:()=>z(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(ph,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{M(),z(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[A==="dark"?a.jsx(yh,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}):a.jsx(gh,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:A==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>Ne(null,null,function*(){yield i4(),z(!1)}),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[a.jsx(Ii,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Clear Cache"})]}),a.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:()=>{ee(),z(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[a.jsx(mh,{size:16,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"px-6",children:a.jsx(l4,{selectedCategory:r,onCategoryChange:t})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:H?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):C?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Searching..."})]})}):a.jsx(c4,{items:e,onAddToCart:d,scannerOnly:f,viewMode:q,hasMore:m,isLoadingMore:y,onLoadMore:k,totalCount:_})})]})}function Cu(e){return Math.round(e*100)}function My(e){return e/100}function r2(e,r){const t=Cu(e),s=Cu(r);return My(t-s)}function a2(e){return Math.round(e*100)/100}function j8(e,r){const t=Cu(e),o=r.map(Cu).reduce((l,d)=>l+d,0);return My(Math.max(0,t-o))}function N8(e){const t=e.map(Cu).reduce((s,o)=>s+o,0);return My(t)}function k8(e){return e.includes("401")||e.includes("Unauthorized")?"WhatsApp service is not properly configured. Please contact your administrator to set up WhatsApp Business API credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to WhatsApp service. Please check your WhatsApp Business API permissions.":e.includes("404")||e.includes("Not Found")?"WhatsApp service not found. Please contact your administrator to verify WhatsApp Business API setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many WhatsApp messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"WhatsApp service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Template not found")||e.includes("template")?"WhatsApp message template not found. Please contact your administrator to set up message templates.":e.includes("Business account")||e.includes("business")?"WhatsApp Business account not properly configured. Please contact your administrator.":e.includes("Access token")||e.includes("token")?"WhatsApp access token expired or invalid. Please contact your administrator to refresh the token.":e.includes("Rate limit")||e.includes("rate")?"WhatsApp message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to WhatsApp service. Please check your internet connection and try again.":e.includes("timeout")?"WhatsApp service request timed out. Please try again.":"Failed to send WhatsApp message. Please try again or contact your administrator if the problem persists."}function _8(e){return e.includes("401")||e.includes("Unauthorized")?"Email service authentication failed. Please contact your administrator to check email server credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to email service. Please check email server permissions.":e.includes("404")||e.includes("Not Found")?"Email service not found. Please contact your administrator to verify email server configuration.":e.includes("500")||e.includes("Internal Server Error")?"Email service is temporarily unavailable. Please try again later.":e.includes("Invalid email")||e.includes("invalid email")?"Invalid email address format. Please enter a valid email address.":e.includes("SMTP")||e.includes("smtp")?"Email server connection failed. Please contact your administrator to check email server settings.":e.includes("Authentication failed")||e.includes("auth")?"Email authentication failed. Please contact your administrator to verify email credentials.":e.includes("Quota exceeded")||e.includes("quota")?"Email sending quota exceeded. Please contact your administrator or try again later.":e.includes("Spam")||e.includes("spam")?"Email was rejected as spam. Please try with a different message or contact your administrator.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to email service. Please check your internet connection and try again.":e.includes("timeout")?"Email service request timed out. Please try again.":"Failed to send email. Please try again or contact your administrator if the problem persists."}function S8(e){return e.includes("401")||e.includes("Unauthorized")?"SMS service is not properly configured. Please contact your administrator to set up SMS service credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to SMS service. Please check your SMS service permissions.":e.includes("404")||e.includes("Not Found")?"SMS service not found. Please contact your administrator to verify SMS service setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many SMS messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"SMS service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Insufficient balance")||e.includes("balance")?"SMS service account has insufficient balance. Please contact your administrator to add credits.":e.includes("Blocked")||e.includes("blocked")?"Phone number is blocked or invalid. Please check the phone number and try again.":e.includes("Rate limit")||e.includes("rate")?"SMS message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to SMS service. Please check your internet connection and try again.":e.includes("timeout")?"SMS service request timed out. Please try again.":"Failed to send SMS message. Please try again or contact your administrator if the problem persists."}function Pg(e,r="generic"){switch(r){case"whatsapp":return k8(e);case"email":return _8(e);case"sms":return S8(e);default:return e.includes("401")||e.includes("Unauthorized")?"Access denied. Please contact your administrator.":e.includes("403")||e.includes("Forbidden")?"Access denied. Please check your permissions.":e.includes("404")||e.includes("Not Found")?"Service not found. Please contact your administrator.":e.includes("500")||e.includes("Internal Server Error")?"Service is temporarily unavailable. Please try again later.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to the service. Please check your internet connection.":e.includes("timeout")?"Request timed out. Please try again.":"An error occurred. Please try again or contact your administrator if the problem persists."}}function d4(e){if(!e||typeof e!="string")return e;let r=e.replace(/<strong>(.*?)<\/strong>/gi,"$1").replace(/<a[^>]*>(.*?)<\/a>/gi,"$1").replace(/<[^>]*>/g,"").replace(/\s+/g," ").trim();if(r.includes("units of")&&r.includes("needed in")&&r.includes("to complete this transaction")){const t=r.match(/(\d+(?:\.\d+)?)\s+units?\s+of\s+(.+?)\s+needed\s+in\s+(.+?)\s+to\s+complete\s+this\s+transaction/i);if(t){const[,s,o,l]=t;r=`${s} units of ${o} needed in ${l} to complete this transaction.`}}return r}function jh(e,r="Operation failed"){let t=r;if(e&&typeof e=="object"&&"_server_messages"in e){const s=e._server_messages;if(s&&typeof s=="string")try{const o=JSON.parse(s);if(Array.isArray(o)&&o.length>0){const l=o[0];if(typeof l=="string"){const d=JSON.parse(l);d&&typeof d.message=="string"&&(t=d.message)}}}catch(o){console.error("Error parsing server messages:",o);try{const l=JSON.parse(s)[0];typeof l=="string"&&(t=l)}catch(l){console.error("Fallback error parsing failed:",l),t=r}}}return d4(t)}function Jc(e,r="Operation failed"){let t=r;if(e&&typeof e=="object"&&"message"in e){const s=e.message;if(typeof s=="string"&&s.includes("{"))try{const o=JSON.parse(s);o&&typeof o.message=="string"&&(t=o.message)}catch(o){t=s}else typeof s=="string"&&(t=s)}return d4(t)}function Nh(e){const[r,t]=S.useState([]),[s,o]=S.useState(!1),[l,d]=S.useState(null);return S.useEffect(()=>{if(!e)return;Ne(null,null,function*(){o(!0);try{const m=yield(yield fetch(`/api/method/klik_pos.api.payment.get_payment_modes?pos_profile=${encodeURIComponent(e)}`)).json();if(!m.message.success)throw new Error(m.message.error||"Failed to fetch payment modes");const y=m.message.data||[];t(y),d(null)}catch(f){d(f.message),t([])}finally{o(!1)}})},[e]),{modes:r,isLoading:s,error:l}}function Dy(){const[e,r]=S.useState([]),[t,s]=S.useState(!1),[o,l]=S.useState(null);return S.useEffect(()=>{Ne(null,null,function*(){s(!0);try{const f=yield(yield fetch("/api/method/klik_pos.api.payment.get_opening_entry_payment_summary")).json();if(!f.message.data)throw new Error(f.message.error||"Failed to fetch payment modes");r(f.message.data||[]),l(null)}catch(u){l(u.message),r([])}finally{s(!1)}})},[]),{modes:e,isLoading:t,error:o}}function C8(){const[e,r]=S.useState([]),[t,s]=S.useState(null),[o,l]=S.useState(!1),[d,u]=S.useState(null);return S.useEffect(()=>{Ne(null,null,function*(){var m,y;l(!0);try{const _=yield(yield fetch("/api/method/klik_pos.api.tax.get_sales_tax_categories")).json();if(!((m=_.message)!=null&&m.success))throw new Error(((y=_.message)==null?void 0:y.error)||"Failed to fetch tax categories");r(_.message.data||[]),s(_.message.default||null)}catch(k){u(k.message)}finally{l(!1)}})},[]),{salesTaxCharges:e,defaultTax:t,isLoading:o,error:d}}function u4(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({data:e}),credentials:"include"}),s=yield t.json();if(!t.ok||!s.message||s.message.success===!1){const o=jh(s,"Failed to create invoice");throw new Error(o)}return s.message})}function $8(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_and_submit_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({data:e}),credentials:"include"}),s=yield t.json();if(!t.ok||!s.message||s.message.success===!1){const o=jh(s,"Failed to create invoice");throw new Error(o)}return s.message})}function kh(e){return Ne(this,null,function*(){var o;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.return_sales_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_name:e}),credentials:"include"}),s=yield t.json();if(console.log("Return Invoice result:",s),!t.ok||!s.message||s.message.success===!1){const l=s._server_messages?JSON.parse(s._server_messages)[0]:((o=s.message)==null?void 0:o.message)||"Failed to return invoice";throw new Error(l)}return s.message})}function E8(e){return Ne(this,null,function*(){try{const r=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield r.json();if(!r.ok)throw new Error(t.message||"Failed to get invoice details");return{success:!0,data:t.message}}catch(r){return console.error("Error getting invoice details:",r),{success:!1,error:r.message||"Failed to get invoice details"}}})}function Iy(e){return Ne(this,null,function*(){var o;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.delete_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield t.json();if(!t.ok||!s.message||s.message.success===!1){const l=s._server_messages?JSON.parse(s._server_messages)[0]:((o=s.message)==null?void 0:o.error)||"Failed to delete invoice";throw new Error(l)}return s.message})}function T8(e){return Ne(this,null,function*(){var s;const r=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message){const o=jh(t,((s=t.message)==null?void 0:s.error)||"Failed to fetch draft invoice items");throw new Error(o)}if(t.message.success&&t.message.data)return t.message.data;throw new Error(t.message.error||"Failed to fetch draft invoice items")})}function f4(e){return Ne(this,null,function*(){var o;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.submit_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield t.json();if(console.log("Submit draft invoice result:",s),!t.ok||!s.message||s.message.success===!1){const l=jh(s,((o=s.message)==null?void 0:o.error)||"Failed to submit draft invoice");throw new Error(l)}return s.message})}function O8(e,r){return Ne(this,null,function*(){return(yield(yield fetch(`/api/method/frappe.www.printview.get_html_and_style?doc=${e.doctype}&name=${e.name}&print_format=${r}&no_letterhead=0`,{method:"GET",headers:{Accept:"application/json"}})).json()).message})}function A8({invoice:e}){var y;const[r,t]=S.useState(""),[s,o]=S.useState(""),[l,d]=S.useState(!0),{posDetails:u,loading:f}=cn(),m=(y=u==null?void 0:u.print_format)!=null?y:"Sales Invoice";return S.useEffect(()=>{Ne(null,null,function*(){if(!(f||!u)){d(!0);try{const _=typeof e.name=="string"?e.name:"",C=_e(Y({},e),{doctype:"Sales Invoice",name:_}),{html:T,style:E}=yield O8(C,m);t(T),o(E)}catch(_){console.error("Error loading print format:",_)}finally{d(!1)}}})},[e,u,f,m]),l?a.jsx("p",{children:"Loading Print Preview..."}):a.jsxs("div",{className:"print-preview-container p-4 bg-white shadow overflow-auto max-h-[90vh]",children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:s}}),a.jsx("div",{className:"print-preview-content",dangerouslySetInnerHTML:{__html:r}})]})}function F0({invoice:e}){const r=Y({pos_profile:(typeof e.pos_profile=="string"?e.pos_profile:"")||"",name:(typeof e.name=="string"?e.name:e.id)||""},e);return a.jsx(A8,{invoice:r})}function z0(e){if(console.log("Print function called with:",e),!e){Ye.error("No invoice data available for printing");return}const r=document.querySelector(".print-preview-container");if(!r){Ye.error("Print preview not found");return}console.log("Print element found:",r);const t=e.name||e.id||"Invoice",s=document.title;document.title=`${t}`,console.log("Setting title to:",t);const o=document.body.style.cssText,l=r.style.cssText,d=document.createElement("div");d.innerHTML=r.innerHTML,d.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 9999;
    padding: 20px;
    overflow: auto;
  `,document.body.style.cssText=`
    overflow: hidden;
  `;const u=Array.from(document.body.children);u.forEach(k=>{k!==d&&(k.style.display="none")}),document.body.appendChild(d);const f=document.createElement("style");f.textContent=`
    @media print {
      body * {
        visibility: hidden;
      }
      .print-overlay, .print-overlay * {
        visibility: visible;
      }
      .print-overlay {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
    }
    @page {
      size: A4;
      margin: 1cm;
    }
  `,d.className="print-overlay",document.head.appendChild(f),console.log("Print overlay created and added");const m=()=>{console.log("Restoring page..."),d.parentNode&&d.parentNode.removeChild(d),f.parentNode&&f.parentNode.removeChild(f),document.body.style.cssText=o,r.style.cssText=l,u.forEach(k=>{k.style.display=""}),document.title=s,console.log("Page restored successfully")},y=()=>{console.log("After print event fired"),m(),window.removeEventListener("afterprint",y)};window.addEventListener("afterprint",y),console.log("Triggering print..."),window.print(),setTimeout(()=>{console.log("Fallback timeout triggered"),m(),window.removeEventListener("afterprint",y)},2e3)}function R8(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.email.send_invoice_email",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),s=yield t.json();if(console.log("Send email result:",s),!t.ok||!s.message||s.message.status!=="success"){const o=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send email";throw new Error(o)}return s.message})}function P8(e){return Ne(this,null,function*(){const r=window.csrf_token;console.log("Simple WhatsApp data",e);const t=yield fetch("/api/method/klik_pos.api.whatsapp.deliver_invoice_via_whatsapp",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),s=yield t.json();if(console.log("Send Simple WhatsApp result:",s),!t.ok||!s.message||s.message.status!=="success"){const o=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send WhatsApp message";throw new Error(o)}return s.message})}function M8(e){return Ne(this,null,function*(){const r=window.csrf_token;console.log("SMS data",e);const t=yield fetch("/api/method/klik_pos.api.sms.send_sms_message",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),s=yield t.json();if(console.log("Send SMS result:",s),!t.ok||!s.message||s.message.status!=="success"){const o=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send SMS message";throw new Error(o)}return s.message})}function D8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.whatsapp.get_whatsapp_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch WhatsApp templates");return t.message}catch(r){throw console.error("Error fetching WhatsApp templates:",r),r}})}function I8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch POS profile details");return t.message.custom_whatsap_template||null}catch(r){return console.error("Error fetching default WhatsApp template:",r),null}})}function L8(e,r={}){let t=e;const s={"{{customer_name}}":r.customer_name||"there","{{invoice_total}}":r.invoice_total||"0","{{invoice_number}}":r.invoice_number||"","{{company_name}}":r.company_name||"KLiK PoS","{{date}}":r.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([o,l])=>{t=t.replace(new RegExp(o,"g"),String(l))}),t}function n2(){return`Hi {{customer_name}}!

Thank you for shopping with us at {{company_name}}!

Invoice Total: *{{invoice_total}}*

We appreciate your business!`}function U8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.email.get_email_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch Email templates");return t.message}catch(r){throw console.error("Error fetching Email templates:",r),r}})}function F8(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch POS profile details");return t.message.custom_email_template||null}catch(r){return console.error("Error fetching default Email template:",r),null}})}function z8(e,r={}){let t=e;const s={"{{customer_name}}":r.customer_name||"Customer","{{customer}}":r.customer_name||"Customer","{{first_name}}":r.first_name||"","{{last_name}}":r.last_name||"","{{address}}":r.address||"","{{customer_address}}":r.customer_address||"","{{delivery_note}}":r.delivery_note||r.invoice_number||"","{{grand_total}}":r.invoice_total||"0","{{departure_time}}":r.departure_time||"","{{estimated_arrival}}":r.estimated_arrival||"","{{driver_name}}":r.driver_name||"","{{cell_number}}":r.cell_number||"","{{vehicle}}":r.vehicle||"","{{invoice_total}}":r.invoice_total||"0","{{invoice_number}}":r.invoice_number||"","{{company_name}}":r.company_name||"KLiK PoS","{{date}}":r.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([o,l])=>{t=t.replace(new RegExp(o,"g"),String(l))}),t}function s2(){return`Dear {{customer_name}},

Thank you for your purchase. Here are your invoice details:

Invoice Total: {{invoice_total}}

Thank you for your business!

Best regards,
{{company_name}} Team`}function h4(){const[e,r]=S.useState([]),[t,s]=S.useState(!0),[o,l]=S.useState(null);return S.useEffect(()=>{Ne(null,null,function*(){var u;try{s(!0);const f=yield fetch("/api/method/klik_pos.api.delivery_personnel.get_delivery_personnel_list",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),m=yield f.json();if(f.ok&&m.message&&m.message.success)r(m.message.data||[]);else throw new Error(((u=m.message)==null?void 0:u.error)||"Failed to fetch delivery personnel")}catch(f){console.error("Error loading delivery personnel:",f),l(f instanceof Error?f.message:"Unknown error")}finally{s(!1)}})},[]),{personnel:e,loading:t,error:o}}function B8({isOpen:e,onClose:r,onSelect:t}){const{personnel:s,loading:o,error:l}=h4(),[d,u]=S.useState(""),[f,m]=S.useState(""),[y,k]=S.useState(!1);S.useEffect(()=>{e&&(u(""),m(""),k(!1))},[e]),S.useMemo(()=>{if(!d)return"";const B=s.find(H=>H.name===d);return(B==null?void 0:B.delivery_personnel)||""},[d,s]);const _=S.useMemo(()=>{if(!f.trim())return s;const B=f.toLowerCase();return s.filter(H=>H.delivery_personnel.toLowerCase().includes(B)||H.name.toLowerCase().includes(B))},[s,f]);if(!e)return null;const C=(B,H)=>{u(B),m(H),k(!1)},T=()=>{d&&(t(d),r())},E=B=>{var O;m(B),k(!0);const H=((O=s.find(z=>z.name===d))==null?void 0:O.delivery_personnel)||"";B!==H&&u("")},A=()=>{k(!0)},M=()=>{setTimeout(()=>{k(!1)},200)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 bg-opacity-50",onClick:r,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4 delivery-personnel-modal-content",onClick:B=>B.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Delivery Personnel"}),a.jsx("button",{onClick:r,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:a.jsx(ln,{size:20})})]}),a.jsx("div",{className:"p-4",children:o?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Js,{size:24,className:"animate-spin text-beveren-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]}):l?a.jsx("div",{className:"text-red-600 dark:text-red-400 text-center py-8",children:l}):s.length===0?a.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No delivery personnel available"}):a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:18}),a.jsx("input",{type:"text",placeholder:"Search delivery personnel...",value:f,onChange:B=>E(B.target.value),onFocus:A,onBlur:M,className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",autoFocus:!0}),a.jsx(_p,{className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 transition-transform ${y?"rotate-180":""}`,size:18})]}),y&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-64 overflow-hidden",children:a.jsx("div",{className:"max-h-64 overflow-y-auto",children:_.length>0?_.map(B=>a.jsx("button",{type:"button",onClick:()=>C(B.name,B.delivery_personnel),className:`w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${d===B.name?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:a.jsx("div",{className:"font-medium",children:B.delivery_personnel})},B.name)):a.jsx("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-center",children:"No matches found"})})})]})}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:T,disabled:!d||o,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Confirm"})]})]})})}const q8=e=>{const r=e.toLowerCase();return r.includes("cash")?{icon:a.jsx(K3,{size:24}),color:"bg-beveren-600"}:r.includes("card")||r.includes("credit")||r.includes("debit")||r.includes("bank")?{icon:a.jsx(is,{size:24}),color:"bg-beveren-600"}:r.includes("phone")||r.includes("mpesa")?{icon:a.jsx(a9,{size:24}),color:"bg-beveren--600"}:r.includes("gift")?{icon:a.jsx(W3,{size:24}),color:"bg-beveren--600"}:r.includes("cheque")||r.includes("check")?{icon:a.jsx(Ic,{size:24}),color:"bg-beveren--600"}:{icon:a.jsx(is,{size:24}),color:"bg-beveren--600"}};function Ly({isOpen:e,onClose:r,cartItems:t,appliedCoupons:s,selectedCustomer:o,onHoldOrder:l,isMobile:d=!1,isFullPage:u=!1,initialSharingMode:f=null,externalInvoiceData:m=null,itemDiscounts:y={}}){var ca,Oa,fa,Ya;const[k,_]=S.useState(""),[C,T]=S.useState({}),[E,A]=S.useState(null),[M,B]=S.useState(null),[H,O]=S.useState(0),[z,q]=S.useState(!1),[ae,he]=S.useState(!1),[ee,Ee]=S.useState(!1),[ce,ue]=S.useState(null),[se,de]=S.useState(null),[pe,ie]=S.useState(H.toFixed(2)),[te,W]=S.useState(!1),[be,V]=S.useState(f),[U,ne]=S.useState({email:(o==null?void 0:o.email)||"",phone:(o==null?void 0:o.phone)||"",name:(o==null?void 0:o.name)||""}),[me,le]=S.useState(!1),[X,oe]=S.useState(!1),[Ue,it]=S.useState([]),[yt,et]=S.useState(null),[xt,Tt]=S.useState(""),[gr,xe]=S.useState(!1),[st,Ot]=S.useState(!1),[ye,Xe]=S.useState([]),[lt,mr]=S.useState(null),[Kt,J]=S.useState(""),[qe,Ve]=S.useState(!1),[dt,ht]=S.useState(!1),[vt,ut]=S.useState(!1),[ve,Ze]=S.useState(null),{posDetails:Ge,loading:pt}=cn(),{modes:ct,isLoading:Ut,error:qt}=Nh(typeof(Ge==null?void 0:Ge.name)=="string"?Ge.name:""),{salesTaxCharges:er,defaultTax:nr}=C8(),{personnel:br}=h4(),na=xa(),yr=(Ge==null?void 0:Ge.business_type)==="B2B",Gr=(Ge==null?void 0:Ge.business_type)==="B2C",Ka=(Ge==null?void 0:Ge.business_type)==="B2B & B2C",vn=Ge==null?void 0:Ge.print_receipt_on_order_complete,Wa=Ge==null?void 0:Ge.currency_symbol,ze=Ge==null?void 0:Ge.custom_delivery_required,tt=ze===1||ze===!0||ze==="1";S.useEffect(()=>{Ge&&console.log("POS Details - custom_delivery_required:",ze,"isDeliveryRequired:",tt)},[Ge,ze,tt]),S.useEffect(()=>{var Oe,nt,kt;if(m&&be){console.log("External invoice data:",m),console.log("Customer address doc:",m.customer_address_doc);const Et=((Oe=m.customer_address_doc)==null?void 0:Oe.email_id)||m.customer_email||m.email_id||"",Lt=m.mobile_no||((nt=m.customer_address_doc)==null?void 0:nt.mobile_no)||((kt=m.customer_address_doc)==null?void 0:kt.phone)||m.customer_phone||"",ar=m.customer_name||m.customer||"";(!Et||!Lt)&&m.customer?Er(m.customer,Et,Lt,ar):(ne({email:Et,phone:Lt,name:ar}),console.log("Updated sharing data:",{email:Et,phone:Lt,name:ar}))}},[m,be]);const Er=(Oe,nt,kt,Et)=>Ne(null,null,function*(){try{console.log("Fetching customer details for:",Oe);const ar=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${Oe}`)).json();if(ar.message){const Wt=ar.message;console.log("Customer details fetched:",Wt),ne({email:nt||Wt.email_id||"",phone:kt||Wt.mobile_no||"",name:Et||Wt.customer_name||Wt.name||""}),console.log("Updated sharing data with customer details:",{email:nt||Wt.email_id||"",phone:kt||Wt.mobile_no||"",name:Et||Wt.customer_name||Wt.name||""})}else ne({email:nt,phone:kt,name:Et})}catch(Lt){console.error("Error fetching customer details:",Lt),ne({email:nt,phone:kt,name:Et})}});S.useEffect(()=>{Ne(null,null,function*(){if(be==="whatsapp"&&Ue.length===0){xe(!0);try{const[nt,kt]=yield Promise.all([D8(),I8()]);if(it(nt),kt){const Et=nt.find(Lt=>Lt.name===kt);Et&&(et(Et),Tt(Et.template))}else Tt(n2())}catch(nt){console.error("Error loading WhatsApp templates:",nt),Tt(n2())}finally{xe(!1)}}})},[be,Ue.length]),S.useEffect(()=>{Ne(null,null,function*(){if(be==="email"&&ye.length===0){Ve(!0);try{const[nt,kt]=yield Promise.all([U8(),F8()]);if(Xe(nt),kt){const Et=nt.find(Lt=>Lt.name===kt);Et&&(mr(Et),J(Et.response_html||Et.response))}else J(s2())}catch(nt){console.error("Error loading Email templates:",nt),J(s2())}finally{Ve(!1)}}})},[be,ye.length]);const fe=()=>{const Oe={customer_name:U.name||"there",invoice_total:Zt(Ae.grandTotal),invoice_number:(se==null?void 0:se.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return L8(xt,Oe)},Te=()=>{var nt,kt;const Oe={customer_name:U.name||"Customer",customer:U.name||"Customer",first_name:((nt=U.name)==null?void 0:nt.split(" ")[0])||"",last_name:((kt=U.name)==null?void 0:kt.split(" ").slice(1).join(" "))||"",address:typeof(o==null?void 0:o.address)=="string"?o.address:JSON.stringify((o==null?void 0:o.address)||{}),customer_address:typeof(o==null?void 0:o.address)=="string"?o.address:JSON.stringify((o==null?void 0:o.address)||{}),delivery_note:(se==null?void 0:se.name)||"",grand_total:Zt(Ae.grandTotal),departure_time:new Date().toLocaleTimeString(),estimated_arrival:new Date(Date.now()+18e5).toLocaleTimeString(),driver_name:"Delivery Driver",cell_number:"+1234567890",vehicle:"Delivery Vehicle",invoice_total:Zt(Ae.grandTotal),invoice_number:(se==null?void 0:se.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return z8(Kt,Oe)},De=Oe=>{const nt=Ue.find(kt=>kt.name===Oe);nt&&(et(nt),Tt(nt.template))},Ke=Oe=>{const nt=ye.find(kt=>kt.name===Oe);nt&&(mr(nt),J(nt.response_html||nt.response))},Ae=S.useMemo(()=>{const Oe=t.reduce((Dr,ra)=>{const Br=ra.discountedPrice||ra.price;return Dr+Br*ra.quantity},0),nt=s.reduce((Dr,ra)=>Dr+ra.value,0),kt=Math.max(0,Oe-nt),Et=er.find(Dr=>Dr.id===k),Lt=(Et==null?void 0:Et.rate)||0,ar=(Et==null?void 0:Et.is_inclusive)||!1;let Wt,_r;return ar?(Wt=kt*Lt/(100+Lt),Wt=parseFloat(Wt.toFixed(2)),_r=kt):(Wt=kt*Lt/100,Wt=parseFloat(Wt.toFixed(2)),_r=kt+Wt),{subtotal:Oe,couponDiscount:nt,taxableAmount:kt,taxAmount:Wt,grandTotal:_r+H,selectedTax:Et,isInclusive:ar}},[t,s,k,er,H]),jt=N8(Object.values(C)),It=j8(Ae.grandTotal,Object.values(C));S.useEffect(()=>{e&&nr&&!k&&_(nr)},[e,nr,k]),S.useEffect(()=>{if(e&&ct.length>0){const Oe=ct.find(nt=>nt.default===1);if(Oe&&Object.keys(C).length===0){const nt=parseFloat(Ae.grandTotal.toFixed(2));B(Oe.mode_of_payment),T({[Oe.mode_of_payment]:nt})}}},[e,ct,Ae.grandTotal,yr,Gr]),S.useEffect(()=>{if(ct.length>0&&Object.keys(C).length>0&&ct.find(nt=>nt.default===1)){const kt=Object.values(C).reduce((_r,Dr)=>_r+(Dr||0),0)-Ae.grandTotal,Lt=Object.entries(C).reduce((_r,Dr)=>(Dr[1]||0)>(_r[1]||0)?Dr:_r),[ar,Wt]=Lt;if(Wt>0&&kt>0){const _r=Math.max(0,Wt-kt);T(Dr=>_e(Y({},Dr),{[ar]:_r}))}}},[Ae.grandTotal,ct,Gr,yr,Ka,C]),S.useEffect(()=>{ee&&se&&vn&&(W(!0),setTimeout(()=>{z0(se),W(!1)},500))},[ee,se,vn]);const Rt=Ge!=null&&Ge.custom_allow_write_off?ct.filter(kt=>kt.type==="Cash").filter(kt=>(C[kt.mode_of_payment]||0)>0).length>0:!1;if(S.useEffect(()=>{!Rt&&H!==0&&(O(0),ie("0.00"))},[Rt,H]),!e)return null;if(Ut||pt)return a.jsx("div",{className:"p-6",children:"Loading..."});if(qt)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error: ",qt]});const Ft=[...ct].sort((Oe,nt)=>Oe.default===1&&nt.default!==1?-1:Oe.default!==1&&nt.default===1?1:0).map(Oe=>{const{icon:nt,color:kt}=q8(Oe.type||"Default");return{id:Oe.mode_of_payment,name:Oe.mode_of_payment,icon:nt,color:kt,enabled:!0,amount:C[Oe.mode_of_payment]||0}}),tr=()=>{var Et,Lt;if(E&&E in C)return E;const Oe=Object.entries(C).filter(([,ar])=>(ar||0)>0).map(([ar])=>ar);if(Oe.length===1)return(Et=Oe[0])!=null?Et:null;const nt=((Lt=ct.find(ar=>ar.default===1))==null?void 0:Lt.mode_of_payment)||null,kt=Oe.find(ar=>ar!==nt);return kt||nt},dr=(Oe,nt)=>{if(ee||z)return;const kt=a2(parseFloat(nt)||0);B(Oe),T(Et=>_e(Y({},Et),{[Oe]:kt}))},Rr=Oe=>{if(ee||z)return;const nt=Ae.grandTotal,kt={};Ft.forEach(Et=>{kt[Et.id]=0}),kt[Oe]=nt,B(Oe),T(kt),A(Oe)},qr=(Oe,nt)=>{if(ee||z)return;const kt=a2(parseFloat(nt)||0);B(Oe),T(Et=>_e(Y({},Et),{[Oe]:kt}))},Tr=()=>{var _r,Dr;if(ee||z)return;if(!(Ge!=null&&Ge.custom_allow_write_off)){Ye.error(`Writeoff not allowed.
 Ask your administrator to enable it in POS profile.`);return}const nt=ct.filter(ra=>ra.type==="Cash").filter(ra=>(C[ra.mode_of_payment]||0)>0);if(nt.length===0){Ye.error("Writeoff is only allowed for cash payment methods");return}if(nt.reduce((ra,Br)=>ra+(C[Br.mode_of_payment]||0),0)===0){Ye.error("Cash payment method must have an amount to apply writeoff");return}const Et=Ae.isInclusive?Ae.taxableAmount:Ae.taxableAmount+Ae.taxAmount,Lt=(Ge==null?void 0:Ge.write_off_limit)||1;let ar,Wt;if(Lt<=1?(ar=Math.floor(Et),Wt=ar-Et):(ar=Math.floor(Et/Lt)*Lt,Wt=ar-Et),O(Wt),ie(Wt.toFixed(2)),!(yr&&!Gr)){let Br=tr();if(!Br&&Ft.length>0){const Aa=Ft[0];Aa&&(Br=Aa.id)}if(!Br){const Aa=((_r=ct.find(ds=>ds.default===1))==null?void 0:_r.mode_of_payment)||((Dr=ct[0])==null?void 0:Dr.mode_of_payment);Aa&&(Br=Aa)}if(Br){const Aa={};Aa[Br]=ar,T(Aa)}else console.error("No payment methods available for roundoff!")}},Yt=Oe=>{ee||z||_(Oe)},Ht=Oe=>{if(!Rt)return;let nt=Oe;Oe&&!Oe.startsWith("-")&&!isNaN(parseFloat(Oe))&&(nt="-"+Oe);const kt=parseFloat(nt);if(!isNaN(kt)){const Et=(Ge==null?void 0:Ge.write_off_limit)||1,Lt=Et<=1?.99:Et-.01;if(Math.abs(kt)>Lt){Ye.error(`Roundoff amount cannot exceed ${Lt.toFixed(2)}. Write-off limit is ${Et}.`);return}ie(nt),O(kt);const ar=(Ae.isInclusive?Ae.taxableAmount:Ae.taxableAmount+Ae.taxAmount)+kt,Wt=tr();if(Wt){const _r=Object.entries(C).filter(([ra])=>ra!==Wt).reduce((ra,[,Br])=>ra+(Br||0),0),Dr=Math.max(0,parseFloat((ar-_r).toFixed(2)));T(ra=>_e(Y({},ra),{[Wt]:Dr}))}}},Or=(Oe=null)=>Ne(null,null,function*(){if(!o||!o.name){Ye.error("Kindly select a customer");return}if(Gr){if(Object.entries(C).filter(([,ar])=>ar>0).map(([ar,Wt])=>({method:ar,amount:Wt})).length===0){Ye.error("Please enter payment amounts");return}if(It>0){Ye.error("Please complete the payment before proceeding");return}}q(!0);const nt=yr?jt:Ae.grandTotal,kt=yr?Object.entries(C).filter(([,Lt])=>Lt>0):(()=>{const Lt=Object.entries(C).filter(([,Wt])=>Wt>0);if(Lt.length===0)return[];const ar=Lt.reduce((Wt,[,_r])=>Wt+_r,0);if(ar>Ae.grandTotal){const Wt=ar-Ae.grandTotal,_r=Lt.length-1,Dr=Lt[_r];if(!Dr)return;const[ra,Br]=Dr,Aa=parseFloat(Math.max(0,Br-Wt).toFixed(2));return Lt.map(([ds,oo],Pn)=>Pn===_r?[ds,Aa]:[ds,oo])}return Lt})(),Et={items:t.map(Lt=>{var ar,Wt,_r,Dr;return _e(Y({},Lt),{price:Lt.discountedPrice||Lt.price,batchNumber:((ar=y[Lt.id])==null?void 0:ar.batchNumber)||null,serialNumber:((Wt=y[Lt.id])==null?void 0:Wt.serialNumber)||null,uom:Lt.uom||"Nos",discountPercentage:((_r=y[Lt.id])==null?void 0:_r.discountPercentage)||0,discountAmount:((Dr=y[Lt.id])==null?void 0:Dr.discountAmount)||0})}),customer:o,paymentMethods:(kt!=null?kt:[]).map(([Lt,ar])=>({method:Lt,amount:parseFloat((Number(ar)||0).toFixed(2))})),subtotal:Ae.subtotal,SalesTaxCharges:k,taxAmount:Ae.taxAmount,taxType:Ae.isInclusive?"inclusive":"exclusive",couponDiscount:Ae.couponDiscount,roundOffAmount:H,grandTotal:Ae.grandTotal,amountPaid:nt,outstandingAmount:It,appliedCoupons:s,businessType:Ge==null?void 0:Ge.business_type,deliveryPersonnel:Oe||null};try{const Lt=yield $8(Et);Ee(!0),ue(Lt),de(Lt.invoice);const ar=yr?"Invoice submitted successfully!":"Payment completed successfully!";Ye.success(ar),m8()||console.log(),Zc()}catch(Lt){const Wt=Jc(Lt,yr?"Failed to submit invoice":"Failed to process payment");Ye.error(Wt)}finally{q(!1)}}),zr=()=>Ne(null,null,function*(){console.log("handleCompletePayment called - selectedDeliveryPersonnel:",ve),yield Or(ve)}),sa=Oe=>{Ze(Oe),ut(!1)},Zr=()=>{if(!ve)return null;const Oe=br.find(nt=>nt.name===ve);return(Oe==null?void 0:Oe.delivery_personnel)||ve},ea=Oe=>{na(`/invoice/${Oe.name}`)},Ba=()=>Ne(null,null,function*(){if(!o){Ye.error("Kindly select a customer");return}he(!0);const Oe={items:t,customer:o,subtotal:Ae.subtotal,SalesTaxCharges:k,taxAmount:Ae.taxAmount,taxType:Ae.isInclusive?"inclusive":"exclusive",couponDiscount:Ae.couponDiscount,roundOffAmount:H,grandTotal:Ae.grandTotal,appliedCoupons:s,status:"held",businessType:Ge==null?void 0:Ge.business_type};try{yield u4(Oe),Zc(),l(Oe)}catch(nt){const kt=Jc(nt,"Failed to hold order");Ye.error(kt)}finally{he(!1)}}),Zt=Oe=>`${Wa} ${Oe.toLocaleString(void 0,{minimumFractionDigits:2})}`,la=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ca=()=>z?yr?"Submitting Invoice...":"Processing Payment...":yr?jt===0?"Submit Invoice (Pay Later)":It>0?"Submit Invoice (Partial Payment)":"Submit Invoice (Paid)":"Complete Payment",ur=()=>ee||z?!0:Gr?It>0:!1;return d?a.jsx("div",{className:u?"h-full bg-white dark:bg-gray-900 overflow-y-auto custom-scrollbar":"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"min-h-screen",children:[!u&&a.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:a.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:ee?"Invoice Complete":yr?"Submit Invoice":"Payment"})}),a.jsx("div",{className:"p-4 space-y-6",children:ee?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"text-green-600 dark:text-green-400 text-center",children:[a.jsx("p",{className:"font-semibold",children:yr?"Invoice Submitted Successfully!":"Payment Completed Successfully!"}),a.jsxs("p",{className:"text-sm opacity-75",children:["Total: ",Zt(Ae.grandTotal)]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[te&&a.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx(Js,{size:16,className:"animate-spin"}),a.jsx("span",{className:"text-sm",children:"Printing..."})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Print",onClick:()=>{z0(se)},children:[a.jsx(Nu,{size:18}),a.jsx("span",{children:"Print"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Email",onClick:()=>{const Oe=encodeURIComponent("Your Invoice"),nt=encodeURIComponent(`Dear ${o==null?void 0:o.name},

Here is your invoice total: ${Zt(Ae.grandTotal)}

Thank you.`);window.open(`mailto:${o==null?void 0:o.email}?subject=${Oe}&body=${nt}`)},children:[a.jsx($p,{size:18}),a.jsx("span",{children:"Email"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 dark:bg-green-900/20 text-beveren-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/30 transition-colors",title:"WhatsApp",onClick:()=>{const Oe=encodeURIComponent(`Here is your invoice total: ${Zt(Ae.grandTotal)}`);window.open(`https://wa.me/${o==null?void 0:o.phone}?text=${Oe}`,"_blank")},children:[a.jsx(Ep,{size:18}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-teal-900/20 text-teal-500 dark:text-teal-400 rounded-lg hover:bg-teal-200 dark:hover:bg-purple-900/30 transition-colors",title:"Text Message",onClick:()=>window.open(`tel:${o==null?void 0:o.phone}`),children:[a.jsx(Tp,{size:18}),a.jsx("span",{children:"SMS"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/20 text-p-600 dark:text-purple-400 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/30 transition-colors",title:"View Full Invoice",onClick:()=>ea(se),children:[a.jsx(_l,{size:18}),a.jsx("span",{children:"View"})]})]}),se&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-center",children:"Invoice Preview:"}),a.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-3 bg-gray-50 dark:bg-gray-700 max-h-64 overflow-y-auto",children:a.jsx(F0,{invoice:se})})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>{r(!0)},className:"w-full py-3 bg-beveren-600 text-white rounded-lg font-medium hover:bg-beveren-700 transition-colors",children:"Start New Order"})})]}):a.jsxs(a.Fragment,{children:[(Gr||yr)&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),a.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:Ft.map(Oe=>a.jsxs("div",{className:`${Ft.length<=3?"flex-1 min-w-0":"min-w-[280px] max-w-[280px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${ee||z?"bg-gray-50 dark:bg-gray-800":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${Oe.color} text-white flex items-center justify-center`,children:a.jsx("div",{className:"scale-75",children:Oe.icon})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Oe.name})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),a.jsx("input",{type:"number",value:Oe.amount.toFixed(2)||"",onChange:nt=>dr(Oe.id,nt.target.value),placeholder:"0.00",disabled:ee||z,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${ee||z?"cursor-not-allowed opacity-50":""}`})]})]},Oe.id))})]}),a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"number",value:pe,onChange:Oe=>Ht(Oe.target.value),disabled:ee||z||!Rt,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${ee||z||!Rt?"cursor-not-allowed opacity-50":""}`}),a.jsx("button",{onClick:Tr,disabled:ee||z||!Rt,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${ee||z||!Rt?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:a.jsx(G1,{size:16})})]})]})})}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(Ae.subtotal)})]}),Ae.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{children:["-",Zt(Ae.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(ca=Ae.selectedTax)==null?void 0:ca.rate,"%"," ",Ae.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`font-medium ${Ae.isInclusive?"text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:Ae.isInclusive?`(${Zt(Ae.taxAmount)})`:Zt(Ae.taxAmount)})]}),H!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(H)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Grand Total"}),a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Zt(Ae.grandTotal)})]})}),(Gr||yr)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),a.jsx("span",{className:"font-medium text-beveren-600 dark:text-blue-400",children:Zt(jt)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:Zt(It)})]}),jt>Ae.grandTotal&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),a.jsx("span",{className:"font-medium text-beveren-600 dark:text-beveren-400",children:Zt(r2(jt,Ae.grandTotal))})]})]}),yr&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:Zt(Ae.grandTotal)})]})]}),a.jsxs("div",{className:"space-y-3 pt-6",children:[a.jsx("button",{onClick:zr,disabled:ur(),className:`w-full py-4 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${yr?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:z?a.jsxs(a.Fragment,{children:[a.jsx(Js,{size:20,className:"animate-spin"}),a.jsx("span",{children:Ca()})]}):a.jsx("span",{children:Ca()})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.jsx("button",{onClick:Ba,disabled:ee||z||ae,className:`py-3 px-4 border border-orange-500 text-orange-600 dark:text-orange-400 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center justify-center space-x-2 ${ee||z||ae?"cursor-not-allowed opacity-50":""}`,children:ae?a.jsxs(a.Fragment,{children:[a.jsx(Js,{size:16,className:"animate-spin"}),a.jsx("span",{children:"Holding..."})]}):a.jsx("span",{children:"Hold Order"})})})]})]})})]})}):a.jsxs("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:yr?"Invoice Submission":"Payment Processing"}),ee?a.jsxs("div",{className:"flex items-center space-x-3",children:[te&&a.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[a.jsx(Js,{size:16,className:"animate-spin"}),a.jsx("span",{className:"text-sm",children:"Printing..."})]}),a.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg",title:"Print",onClick:()=>{z0(se),na("/")},children:a.jsx(Nu,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${be==="email"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"Email",onClick:()=>V(be==="email"?null:"email"),children:a.jsx($p,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${be==="whatsapp"?"bg-blue-100 text-green-700":"text-green-600 hover:bg-green-100"} dark:text-green-400 dark:hover:bg-green-900`,title:"WhatsApp",onClick:()=>V(be==="whatsapp"?null:"whatsapp"),style:{display:Ge!=null&&Ge.custom_enable_whatsapp?"block":"none"},children:a.jsx(Ep,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${be==="sms"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"SMS",onClick:()=>V(be==="sms"?null:"sms"),style:{display:Ge!=null&&Ge.custom_enable_sms?"block":"none"},children:a.jsx(Tp,{size:20})}),a.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-100 dark:text-purple-400 dark:hover:bg-purple-900 rounded-lg",title:"View Full",onClick:()=>ea(se),children:a.jsx(_l,{size:20})})]}):a.jsx("button",{onClick:()=>r(ee),disabled:z||ae,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(ln,{size:24})})]}),a.jsxs("div",{className:"flex flex-1 min-h-0",children:[a.jsx("div",{className:"w-2/3 p-6 overflow-y-auto custom-scrollbar space-y-6",children:ee&&be||m&&be?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:["Share via ",be]}),a.jsx("button",{onClick:()=>V(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(ln,{size:20})})]}),be==="email"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:U.name,onChange:Oe=>ne(nt=>_e(Y({},nt),{name:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:U.email,onChange:Oe=>ne(nt=>_e(Y({},nt),{email:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"customer@email.com"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Message Preview"}),a.jsx("button",{type:"button",onClick:()=>ht(!dt),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:dt?a.jsx(Ic,{className:"w-4 h-4"}):a.jsx(Y1,{className:"w-4 h-4"})})]}),dt&&a.jsxs("div",{className:"space-y-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Template"}),qe?a.jsxs("div",{className:"flex items-center justify-center p-4",children:[a.jsx(Js,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):a.jsxs("select",{value:(lt==null?void 0:lt.name)||"",onChange:Oe=>Ke(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Select a template (optional)"}),ye.map(Oe=>{const nt=(Ge==null?void 0:Ge.custom_email_template)===Oe.name;return a.jsxs("option",{value:Oe.name,children:[Oe.name,nt?" [Default]":""]},Oe.name)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),a.jsx("textarea",{value:Kt,onChange:Oe=>J(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:6,placeholder:"Enter your email message..."})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Subject: Your Invoice from KLiK PoS"}),a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Te()}})})]})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){le(!0);try{yield R8({email:U.email,customer_name:U.name,invoice_data:(se==null?void 0:se.name)||"",message:Te()}),Ye.success("Email sent successfully!"),V(null)}catch(Oe){const nt=Pg(Oe.message,"email");Ye.error(nt)}finally{le(!1)}}),disabled:!U.email||me,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:me?"Sending...":"Send Email"})]}),be==="whatsapp"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:U.name,onChange:Oe=>ne(nt=>_e(Y({},nt),{name:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:U.phone,onChange:Oe=>ne(nt=>_e(Y({},nt),{phone:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"WhatsApp Message Preview"}),a.jsx("button",{type:"button",onClick:()=>Ot(!st),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:st?a.jsx(Ic,{className:"w-4 h-4"}):a.jsx(Y1,{className:"w-4 h-4"})})]}),st&&a.jsxs("div",{className:"space-y-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Template"}),gr?a.jsxs("div",{className:"flex items-center justify-center p-4",children:[a.jsx(Js,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):a.jsxs("select",{value:(yt==null?void 0:yt.name)||"",onChange:Oe=>De(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Select a template (optional)"}),Ue.map(Oe=>{const nt=(Ge==null?void 0:Ge.custom_whatsap_template)===Oe.name;return a.jsxs("option",{value:Oe.name,children:[Oe.template_name," - ",Oe.category," (",Oe.status,")",nt?" [Default]":""]},Oe.name)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),a.jsx("textarea",{value:xt,onChange:Oe=>Tt(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:4,placeholder:"Enter your WhatsApp message..."})]})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"whitespace-pre-wrap",children:fe()})})})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){oe(!0);try{yield P8({mobile_no:U.phone,customer_name:U.name,invoice_data:(se==null?void 0:se.name)||"",message:fe()}),Ye.success("Whatsap message sent successfully!"),V(null)}catch(Oe){const nt=Pg(Oe.message,"whatsapp");Ye.error(nt)}finally{oe(!1)}}),disabled:!U.phone||X,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:X?"Sending...":"Send Whatsap Message"})]}),be==="sms"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:U.name,onChange:Oe=>ne(nt=>_e(Y({},nt),{name:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:U.phone,onChange:Oe=>ne(nt=>_e(Y({},nt),{phone:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMS Message Preview"}),a.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-4 border border-teal-200 dark:border-teal-800",children:a.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[a.jsxs("p",{children:["Hi ",U.name||"Customer","!"]}),a.jsx("p",{className:"mt-1",children:"Thank you for your purchase at KLiK PoS."}),a.jsxs("p",{className:"mt-1",children:["Invoice Total:"," ",Zt(Ae.grandTotal)]}),a.jsx("p",{className:"mt-1",children:"Thank you!"})]})})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){try{yield M8({mobile_no:U.phone,customer_name:U.name,message:`Thank you for your purchase at KLiK PoS.
Invoice Total: ${Zt(Ae.grandTotal)}
Thank you!`}),Ye.success("SMS sent successfully!"),V(null)}catch(Oe){const nt=Pg(Oe.message,"sms");Ye.error(nt)}}),disabled:!U.phone,className:"w-full py-3 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send SMS"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),a.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:Ft.map(Oe=>a.jsxs("div",{className:`${Ft.length<=3?"flex-1 min-w-0":"min-w-[300px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${ee||z?"bg-gray-50 dark:bg-gray-800":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`w-8 h-6 rounded-md ${Oe.color} text-white flex items-center justify-center`,children:a.jsx("div",{className:"scale-75",children:Oe.icon})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Oe.name})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),a.jsx("div",{className:"flex space-x-1",children:a.jsx("button",{onClick:()=>Rr(Oe.id),disabled:ee||z,className:`p-1 rounded text-xs ${ee||z?"cursor-not-allowed opacity-50":"hover:bg-beveren-100 text-beveren-600"}`,title:"Auto-fill with grand total",children:a.jsx(kl,{size:16})})})]}),a.jsx("input",{type:"number",step:"0.01",value:Oe.amount||"",onChange:nt=>{A(Oe.id);const kt=nt.target.value,Et=kt===""?0:parseFloat(kt);qr(Oe.id,isNaN(Et)?"0":Et.toString())},onBlur:nt=>{A(Oe.id);const kt=parseFloat(nt.target.value);if(!isNaN(kt)){const Et=parseFloat(kt.toFixed(2));qr(Oe.id,Et.toString())}},placeholder:"0.00",disabled:ee||z,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm ${ee||z?"cursor-not-allowed opacity-50":""}`})]})]},Oe.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sales & Tax Charges"}),a.jsx("select",{value:k,onChange:Oe=>Yt(Oe.target.value),disabled:ee||z,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${ee||z?"cursor-not-allowed opacity-50":""}`,children:er.map(Oe=>a.jsxs("option",{value:Oe.id,children:[Oe.name," (",Oe.rate,"%"," ",Oe.is_inclusive?"Incl.":"Excl.",")"]},Oe.id))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tax Amount ",Ae.isInclusive&&"(Included)"]}),a.jsx("div",{className:`px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg font-medium ${Ae.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ae.isInclusive?`(${Zt(Ae.taxAmount)})`:Zt(Ae.taxAmount)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:yr?"Invoice Summary":"Payment Summary"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"number",value:pe,onChange:Oe=>Ht(Oe.target.value),disabled:ee||z||!Rt,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${ee||z?"cursor-not-allowed opacity-50":""}`}),a.jsx("button",{onClick:Tr,disabled:ee||z||!Rt,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${ee||z||!Rt?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:a.jsx(G1,{size:16})})]})]})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(Ae.subtotal)})]}),Ae.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Coupon Discount"}),a.jsxs("span",{children:["-",Zt(Ae.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Oa=Ae.selectedTax)==null?void 0:Oa.rate,"%"," ",Ae.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`font-medium ${Ae.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ae.isInclusive?`(${Zt(Ae.taxAmount)})`:Zt(Ae.taxAmount)})]}),H!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(H)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Grand Total"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Zt(Ae.grandTotal)})]})}),(Gr||yr)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),a.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:Zt(jt)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("span",{className:`font-bold ${It>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Zt(It)})]}),jt>Ae.grandTotal&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:Zt(r2(jt,Ae.grandTotal))})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-600 flex-1 overflow-y-auto custom-scrollbar",children:ee&&se?a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Print Format Preview:"}),a.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-gray-50 dark:bg-gray-700",children:a.jsx(F0,{invoice:se})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"KLiK PoS"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sales Invoice"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:la}),yr&&a.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mt-1",children:"Payment Pending"})]}),o&&a.jsxs("div",{className:"mb-4 pb-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.email}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.phone})]}),a.jsx("div",{className:"space-y-2 mb-4",children:t.length>0?t.map((Oe,nt)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Oe.name}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[Oe.quantity," x ",Zt(Oe.price)]})]}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Zt(Oe.quantity*Oe.price)})]},nt)):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Invoice #:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(m==null?void 0:m.name)||(o==null?void 0:o.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(m==null?void 0:m.customer)||(o==null?void 0:o.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt((m==null?void 0:m.grand_total)||Ae.grandTotal)})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:a.jsx(F0,{invoice:m||ce||{}})})]})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(Ae.subtotal)})]}),Ae.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{children:["-",Zt(Ae.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(fa=Ae.selectedTax)==null?void 0:fa.rate,"%"," ",Ae.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`${Ae.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ae.isInclusive?`(${Zt(Ae.taxAmount)})`:Zt(Ae.taxAmount)})]}),H!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(H)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(Ae.grandTotal)})]})}),(Gr||yr)&&Object.entries(C).filter(([,Oe])=>Oe>0).length>0&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Methods:"}),Object.entries(C).filter(([,Oe])=>Oe>0).map(([Oe,nt])=>a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:Oe}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(nt)})]},Oe))]}),yr&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"Outstanding Amount:"}),a.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:Zt(Ae.grandTotal)})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Payment to be collected separately"})]}),Ae.selectedTax&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:a.jsxs("p",{className:`text-xs ${Ae.isInclusive?"text-blue-500 dark:text-blue-400":"text-orange-500 dark:text-orange-400"}`,children:["Tax is"," ",Ae.isInclusive?"inclusive":"exclusive"," ","of item prices"]})}),ee&&((Ya=ce==null?void 0:ce.invoice)==null?void 0:Ya.custom_invoice_qr_code)&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("img",{src:ce.invoice.custom_invoice_qr_code,alt:"Invoice QR Code",className:"mx-auto w-20 h-20 object-contain border border-gray-200 dark:border-gray-600 rounded-lg"})})]}),a.jsxs("div",{className:"text-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Thank you for your business!"}),yr&&a.jsx("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:"Invoice will be sent for payment processing"})]})]})})]}),ee||m?a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[tt&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Personnel"}),a.jsxs("button",{type:"button",onClick:()=>ut(!0),disabled:ee||z,className:`w-full max-w-xs px-4 py-2 text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center justify-between ${ee||z?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[a.jsx("span",{children:Zr()||a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Select Delivery Personnel"})}),a.jsx(_p,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2"})]})]}),a.jsxs("div",{className:`flex justify-end space-x-4 ${tt?"":"w-full"}`,children:[ee&&a.jsx("button",{onClick:()=>r(!0),className:"bg-beveren-500 px-6 py-2 border border-gray-300 dark:border-gray-600 text-white dark:text-gray-300 rounded-lg font-medium hover:bg-green-700 dark:hover:bg-gray-800 transition-colors",children:"New Order"}),m&&a.jsx("button",{onClick:()=>r(),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Close"})]})]})}):a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[tt&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Personnel"}),a.jsxs("button",{type:"button",onClick:()=>ut(!0),disabled:ee||z,className:`w-full max-w-xs px-4 py-2 text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center justify-between ${ee||z?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[a.jsx("span",{children:Zr()||a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Select Delivery Personnel"})}),a.jsx(_p,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2"})]})]}),a.jsxs("div",{className:`flex justify-end space-x-4 ${tt?"":"w-full"}`,children:[a.jsx("button",{onClick:Ba,disabled:ee||z||ae,className:`px-6 py-2 border  border-gray-300 dark:border-gray-600 text-gray-700 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center space-x-2 ${ee||z||ae?"cursor-not-allowed opacity-50":""}`,children:ae?a.jsxs(a.Fragment,{children:[a.jsx(Js,{size:16,className:"animate-spin"}),a.jsx("span",{children:"Holding..."})]}):a.jsx("span",{children:"Hold Order"})}),a.jsx("button",{onClick:zr,disabled:ur(),className:`px-8 py-2 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 ${yr?"bg-beveren-500 hover:bg-blue-700 text-white":"bg-beveren-600 hover:bg-beveren-700 text-white"}`,children:z?a.jsxs(a.Fragment,{children:[a.jsx(Js,{size:16,className:"animate-spin"}),a.jsx("span",{children:Ca()})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ic,{size:16}),a.jsx("span",{children:Ca()})]})})]})]})})]}),a.jsx(B8,{isOpen:vt,onClose:()=>ut(!1),onSelect:sa})]})}const o2=()=>{const e=window.csrf_token;return{createCustomer:l=>Ne(null,null,function*(){var d;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.create_or_update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_data:l}),credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((d=f.message)==null?void 0:d.error)||"Customer creation failed");return f.message}catch(u){throw console.error(" Error creating customer:",u),u}}),updateCustomer:(l,d)=>Ne(null,null,function*(){var u;try{const m=yield(yield fetch("/api/method/klik_pos.api.customer.update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_id:l,customer_data:d}),credentials:"include"})).json();if(!m.message||!m.message.success)throw new Error(((u=m.message)==null?void 0:u.error)||"Customer update failed");return m.message}catch(f){throw console.error(" Error updating customer:",f),f}}),getCustomerGroups:()=>Ne(null,null,function*(){var l;try{const u=yield(yield fetch("/api/method/klik_pos.api.customer.get_customer_groups",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!u.message||!u.message.success)throw new Error(((l=u.message)==null?void 0:l.error)||"Failed to fetch customer groups");return u.message.data}catch(d){throw console.error(" Error fetching customer groups:",d),d}}),getTerritories:()=>Ne(null,null,function*(){var l;try{const u=yield(yield fetch("/api/method/klik_pos.api.customer.get_territories",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!u.message||!u.message.success)throw new Error(((l=u.message)==null?void 0:l.error)||"Failed to fetch territories");return u.message.data}catch(d){throw console.error(" Error fetching territories:",d),d}})}},H8={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var Mg={exports:{}},Dg,i2;function G8(){if(i2)return Dg;i2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dg=e,Dg}var Ig,l2;function V8(){if(l2)return Ig;l2=1;var e=G8();function r(){}function t(){}return t.resetWarningCache=r,Ig=function(){function s(d,u,f,m,y,k){if(k!==e){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:r};return l.PropTypes=l,l},Ig}var c2;function K8(){return c2||(c2=1,Mg.exports=V8()()),Mg.exports}var W8=K8();const ft=Pl(W8);var Lg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var d2;function Y8(){return d2||(d2=1,function(e){(function(){var r={}.hasOwnProperty;function t(){for(var l="",d=0;d<arguments.length;d++){var u=arguments[d];u&&(l=o(l,s(u)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var d="";for(var u in l)r.call(l,u)&&l[u]&&(d=o(d,u));return d}function o(l,d){return d?l?l+" "+d:l+d:l}e.exports?(t.default=t,e.exports=t):window.classNames=t})()}(Lg)),Lg.exports}var Q8=Y8();const X0=Pl(Q8);function X8(e,r,t){switch(t){case"Backspace":r>0&&(e=e.slice(0,r-1)+e.slice(r),r--);break;case"Delete":e=e.slice(0,r)+e.slice(r+1);break}return{value:e,caret:r}}function Z8(e,r,t){for(var s={},o="",l=0,d=0;d<e.length;){var u=t(e[d],o,s);u!==void 0&&(o+=u,r!==void 0&&(r===d?l=o.length-1:r>d&&(l=o.length))),d++}r===void 0&&(l=o.length);var f={value:o,caret:l};return f}function J8(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=e$(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$(e,r){if(e){if(typeof e=="string")return u2(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u2(e,r)}}function u2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function Ip(e,r){for(var t=0,s=J8(r.split("")),o;!(o=s()).done;){var l=o.value;l===e&&t++}return t}function t$(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=e.length,l=Ip("(",e),d=Ip(")",e),u=l-d;u>0&&o<r.length;)e+=r[o].replace(t,s),r[o]===")"&&u--,o++;return e}function r$(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=a$(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a$(e,r){if(e){if(typeof e=="string")return f2(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f2(e,r)}}function f2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function n$(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",t=arguments.length>2?arguments[2]:void 0;if(!e)return function(o){return{text:o}};var s=Ip(r,e);return function(o){if(!o)return{text:"",template:e};for(var l=0,d="",u=r$(e.split("")),f;!(f=u()).done;){var m=f.value;if(m!==r){d+=m;continue}if(d+=o[l],l++,l===o.length&&o.length<s)break}return t&&(d=t$(d,e)),{text:d,template:e}}}function s$(e,r,t){typeof t=="string"&&(t=n$(t));var s=t(e)||{},o=s.text,l=s.template;if(o===void 0&&(o=e),l)if(r===void 0)r=o.length;else{for(var d=0,u=!1,f=-1;d<o.length&&d<l.length;){if(o[d]!==l[d]){if(r===0){u=!0,r=d;break}f=d,r--}d++}u||(r=f+1)}return{text:o,caret:r}}function o$(e){return e.hasAttribute("readonly")}function i$(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var h2={Backspace:8,Delete:46};function l$(e){switch(e.keyCode){case h2.Backspace:return"Backspace";case h2.Delete:return"Delete"}}function c$(e){return e.selectionStart}function m4(e,r){r!==void 0&&(d$()?setTimeout(function(){return e.setSelectionRange(r,r)},0):e.setSelectionRange(r,r))}function d$(){if(typeof navigator!="undefined")return u$.test(navigator.userAgent)}var u$=/Android/i;function f$(e,r,t,s,o){Lp(r,t,s,void 0,o)}function h$(e,r,t,s,o){if(!o$(r)){var l=l$(e);switch(l){case"Delete":case"Backspace":e.preventDefault();var d=i$(r);return d?(m$(r,d),Lp(r,t,s,void 0,o)):Lp(r,t,s,l,o)}}}function m$(e,r){var t=e.value;t=t.slice(0,r.start)+t.slice(r.end),e.value=t,m4(e,r.start)}function Lp(e,r,t,s,o){var l=Z8(e.value,c$(e),r),d=l.value,u=l.caret;if(s){var f=X8(d,u,s);d=f.value,u=f.caret}var m=s$(d,u,t),y=m.text;u=m.caret,e.value=y,m4(e,u),o&&o(d)}var g$=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function m2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function kc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?m2(Object(t),!0).forEach(function(s){p$(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function p$(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function y$(e,r){if(e==null)return{};var t=x$(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function x$(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function b$(e){var r=e.ref,t=e.parse,s=e.format,o=e.value,l=e.defaultValue,d=e.controlled,u=d===void 0?!0:d,f=e.onChange,m=e.onKeyDown,y=y$(e,g$),k=S.useRef(),_=S.useCallback(function(A){k.current=A,r&&(typeof r=="function"?r(A):r.current=A)},[r]),C=S.useCallback(function(A){return f$(A,k.current,t,s,f)},[k,t,s,f]),T=S.useCallback(function(A){if(m&&m(A),!A.defaultPrevented)return h$(A,k.current,t,s,f)},[k,t,s,f,m]),E=kc(kc({},y),{},{ref:_,onChange:C,onKeyDown:T});return u?kc(kc({},E),{},{value:s(g2(o)?"":o).text}):kc(kc({},E),{},{defaultValue:s(g2(l)?"":l).text})}function g2(e){return e==null}var v$=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function p2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function w$(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?p2(Object(t),!0).forEach(function(s){j$(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function j$(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function N$(e,r){if(e==null)return{};var t=k$(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function k$(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Z0(e,r){var t=e.inputComponent,s=t===void 0?"input":t,o=e.parse,l=e.format,d=e.value,u=e.defaultValue,f=e.onChange,m=e.controlled,y=e.onKeyDown,k=e.type,_=k===void 0?"text":k,C=N$(e,v$),T=b$(w$({ref:r,parse:o,format:l,value:d,defaultValue:u,onChange:f,controlled:m,onKeyDown:y,type:_},C));return bt.createElement(s,T)}Z0=bt.forwardRef(Z0);Z0.propTypes={parse:ft.func.isRequired,format:ft.func.isRequired,inputComponent:ft.elementType,type:ft.string,value:ft.string,defaultValue:ft.string,onChange:ft.func,controlled:ft.bool,onKeyDown:ft.func,onCut:ft.func,onPaste:ft.func};function y2(e,r){e=e.split("-"),r=r.split("-");for(var t=e[0].split("."),s=r[0].split("."),o=0;o<3;o++){var l=Number(t[o]),d=Number(s[o]);if(l>d)return 1;if(d>l)return-1;if(!isNaN(l)&&isNaN(d))return 1;if(isNaN(l)&&!isNaN(d))return-1}return e[1]&&r[1]?e[1]>r[1]?1:e[1]<r[1]?-1:0:!e[1]&&r[1]?1:e[1]&&!r[1]?-1:0}var _$={}.constructor;function wl(e){return e!=null&&e.constructor===_$}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ed(e)}function _h(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function S$(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,C$(s.key),s)}}function Sh(e,r,t){return r&&S$(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C$(e){var r=$$(e,"string");return ed(r)=="symbol"?r:r+""}function $$(e,r){if(ed(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(ed(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E$="1.2.0",T$="1.7.35",x2=" ext. ",O$=/^\d+$/,Ta=function(){function e(r){_h(this,e),g4(r),this.metadata=r,y4.call(this,r)}return Sh(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(t){return t!=="001"})}},{key:"getCountryMetadata",value:function(t){return this.metadata.countries[t]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(t){return this.getCountryMetadata(t)!==void 0}},{key:"hasCallingCode",value:function(t){if(this.getCountryCodesForCallingCode(t))return!0;if(this.nonGeographic()){if(this.nonGeographic()[t])return!0}else{var s=this.countryCallingCodes()[t];if(s&&s.length===1&&s[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(t){return this.nonGeographic()?!!this.nonGeographic()[t]:!this.getCountryCodesForCallingCode(t)}},{key:"country",value:function(t){return this.selectNumberingPlan(t)}},{key:"selectNumberingPlan",value:function(t,s){if(t&&O$.test(t)&&(s=t,t=null),t&&t!=="001"){if(!this.hasCountry(t))throw new Error("Unknown country: ".concat(t));this.numberingPlan=new b2(this.getCountryMetadata(t),this)}else if(s){if(!this.hasCallingCode(s))throw new Error("Unknown calling code: ".concat(s));this.numberingPlan=new b2(this.getNumberingPlanMetadata(s),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(t){var s=this.countryCallingCodes()[t];if(s)return s.length===1&&s[0].length===3?void 0:s}},{key:"getCountryCodeForCallingCode",value:function(t){var s=this.getCountryCodesForCallingCode(t);if(s)return s[0]}},{key:"getNumberingPlanMetadata",value:function(t){var s=this.getCountryCodeForCallingCode(t);if(s)return this.getCountryMetadata(s);if(this.nonGeographic()){var o=this.nonGeographic()[t];if(o)return o}else{var l=this.countryCallingCodes()[t];if(l&&l.length===1&&l[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(t){return this.numberingPlan.type(t)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(t){return this.selectNumberingPlan(t)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),b2=function(){function e(r,t){_h(this,e),this.globalMetadataObject=t,this.metadata=r,y4.call(this,t.metadata)}return Sh(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(t){return t[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var t=this,s=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return s.map(function(o){return new A$(o,t)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(t){return t[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(t){if(this.hasTypes()&&v2(this.types(),t))return new P$(v2(this.types(),t),this)}},{key:"ext",value:function(){return this.v1||this.v2?x2:this.metadata[13]||x2}}])}(),A$=function(){function e(r,t){_h(this,e),this._format=r,this.metadata=t}return Sh(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!R$.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),R$=/^\(?\$1\)?$/,P$=function(){function e(r,t){_h(this,e),this.type=r,this.metadata=t}return Sh(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function v2(e,r){switch(r){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function g4(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!wl(e)||!wl(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(wl(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+M$(e)+": "+e,"."))}var M$=function(r){return ed(r)};function Fi(e,r){if(r=new Ta(r),r.hasCountry(e))return r.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function p4(e,r){return r.countries.hasOwnProperty(e)}function y4(e){var r=e.version;typeof r=="number"?(this.v1=r===1,this.v2=r===2,this.v3=r===3,this.v4=r===4):r?y2(r,E$)===-1?this.v2=!0:y2(r,T$)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function Ch(e,r){return D$(e,void 0,r)}function D$(e,r,t){var s=t.type(r),o=s&&s.possibleLengths()||t.possibleLengths();if(!o)return"IS_POSSIBLE";var l=e.length,d=o[0];return d===l?"IS_POSSIBLE":d>l?"TOO_SHORT":o[o.length-1]<l?"TOO_LONG":o.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function I$(e,r,t){if(r===void 0&&(r={}),t=new Ta(t),r.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!t.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));t.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(e.countryCallingCode)}}if(t.possibleLengths())return x4(e.phone||e.nationalNumber,t);if(e.countryCallingCode&&t.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function x4(e,r){switch(Ch(e,r)){case"IS_POSSIBLE":return!0;default:return!1}}function zo(e,r){return e=e||"",new RegExp("^(?:"+r+")$").test(e)}function L$(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=U$(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U$(e,r){if(e){if(typeof e=="string")return w2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w2(e,r):void 0}}function w2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}var F$=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Uy(e,r,t){if(r=r||{},!(!e.country&&!e.countryCallingCode)){t=new Ta(t),t.selectNumberingPlan(e.country,e.countryCallingCode);var s=r.v2?e.nationalNumber:e.phone;if(zo(s,t.nationalNumberPattern())){if(Ug(s,"FIXED_LINE",t))return t.type("MOBILE")&&t.type("MOBILE").pattern()===""||!t.type("MOBILE")||Ug(s,"MOBILE",t)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var o=L$(F$),l;!(l=o()).done;){var d=l.value;if(Ug(s,d,t))return d}}}}function Ug(e,r,t){return r=t.type(r),!r||!r.pattern()||r.possibleLengths()&&r.possibleLengths().indexOf(e.length)<0?!1:zo(e,r.pattern())}function z$(e,r,t){if(r=r||{},t=new Ta(t),t.selectNumberingPlan(e.country,e.countryCallingCode),t.hasTypes())return Uy(e,r,t.metadata)!==void 0;var s=r.v2?e.nationalNumber:e.phone;return zo(s,t.nationalNumberPattern())}function B$(e,r,t){var s=new Ta(t),o=s.getCountryCodesForCallingCode(e);return o?o.filter(function(l){return q$(r,l,t)}):[]}function q$(e,r,t){var s=new Ta(t);return s.selectNumberingPlan(r),s.numberingPlan.possibleLengths().indexOf(e.length)>=0}var Fy=2,H$=17,G$=3,bn="0-9---",V$="--",K$="/",W$=".",Y$=" ",Q$="()\\[\\]",X$="~",Ms="".concat(V$).concat(K$).concat(W$).concat(Y$).concat(Q$).concat(X$),$h="+",Z$=new RegExp("(["+bn+"])");function b4(e,r,t,s){if(r){var o=new Ta(s);o.selectNumberingPlan(r,t);var l=new RegExp(o.IDDPrefix());if(e.search(l)===0){e=e.slice(e.match(l)[0].length);var d=e.match(Z$);if(!(d&&d[1]!=null&&d[1].length>0&&d[1]==="0"))return e}}}function Up(e,r){if(e&&r.numberingPlan.nationalPrefixForParsing()){var t=new RegExp("^(?:"+r.numberingPlan.nationalPrefixForParsing()+")"),s=t.exec(e);if(s){var o,l,d=s.length-1,u=d>0&&s[d];if(r.nationalPrefixTransformRule()&&u)o=e.replace(t,r.nationalPrefixTransformRule()),d>1&&(l=s[1]);else{var f=s[0];o=e.slice(f.length),u&&(l=s[1])}var m;if(u){var y=e.indexOf(s[1]),k=e.slice(0,y);k===r.numberingPlan.nationalPrefix()&&(m=r.numberingPlan.nationalPrefix())}else m=s[0];return{nationalNumber:o,nationalPrefix:m,carrierCode:l}}}return{nationalNumber:e}}function Fp(e,r){var t=Up(e,r),s=t.carrierCode,o=t.nationalNumber;if(o!==e){if(!J$(e,o,r))return{nationalNumber:e};if(r.possibleLengths()&&!e7(o,r))return{nationalNumber:e}}return{nationalNumber:o,carrierCode:s}}function J$(e,r,t){return!(zo(e,t.nationalNumberPattern())&&!zo(r,t.nationalNumberPattern()))}function e7(e,r){switch(Ch(e,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function v4(e,r,t,s){var o=r?Fi(r,s):t;if(e.indexOf(o)===0){s=new Ta(s),s.selectNumberingPlan(r,t);var l=e.slice(o.length),d=Fp(l,s),u=d.nationalNumber,f=Fp(e,s),m=f.nationalNumber;if(!zo(m,s.nationalNumberPattern())&&zo(u,s.nationalNumberPattern())||Ch(m,s)==="TOO_LONG")return{countryCallingCode:o,number:l}}return{number:e}}function zy(e,r,t,s){if(!e)return{};var o;if(e[0]!=="+"){var l=b4(e,r,t,s);if(l&&l!==e)o=!0,e="+"+l;else{if(r||t){var d=v4(e,r,t,s),u=d.countryCallingCode,f=d.number;if(u)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:u,number:f}}return{number:e}}}if(e[1]==="0")return{};s=new Ta(s);for(var m=2;m-1<=G$&&m<=e.length;){var y=e.slice(1,m);if(s.hasCallingCode(y))return s.selectNumberingPlan(y),{countryCallingCodeSource:o?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:y,number:e.slice(m)};m++}return{}}function w4(e){return e.replace(new RegExp("[".concat(Ms,"]+"),"g")," ").trim()}var j4=/(\$\d)/;function N4(e,r,t){var s=t.useInternationalFormat,o=t.withNationalPrefix;t.carrierCode,t.metadata;var l=e.replace(new RegExp(r.pattern()),s?r.internationalFormat():o&&r.nationalPrefixFormattingRule()?r.format().replace(j4,r.nationalPrefixFormattingRule()):r.format());return s?w4(l):l}var t7=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function r7(e,r,t){var s=new Ta(t);if(s.selectNumberingPlan(e,r),s.defaultIDDPrefix())return s.defaultIDDPrefix();if(t7.test(s.IDDPrefix()))return s.IDDPrefix()}var a7=";ext=",_c=function(r){return"([".concat(bn,"]{1,").concat(r,"})")};function k4(e){var r="20",t="15",s="9",o="6",l="[ \\t,]*",d="[:\\.]?[ \\t,-]*",u="#?",f="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",m="(?:[x#~]|int|)",y="[- ]+",k="[ \\t]*",_="(?:,{2}|;)",C=a7+_c(r),T=l+f+d+_c(r)+u,E=l+m+d+_c(s)+u,A=y+_c(o)+"#",M=k+_+d+_c(t)+u,B=k+"(?:,)+"+d+_c(s)+u;return C+"|"+T+"|"+E+"|"+A+"|"+M+"|"+B}var n7="["+bn+"]{"+Fy+"}",s7="["+$h+"]{0,1}(?:["+Ms+"]*["+bn+"]){3,}["+Ms+bn+"]*",o7=new RegExp("^["+$h+"]{0,1}(?:["+Ms+"]*["+bn+"]){1,2}$","i"),i7=s7+"(?:"+k4()+")?",l7=new RegExp("^"+n7+"$|^"+i7+"$","i");function c7(e){return e.length>=Fy&&l7.test(e)}function d7(e){return o7.test(e)}function u7(e){var r=e.number,t=e.ext;if(!r)return"";if(r[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(r).concat(t?";ext="+t:"")}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$u(e)}function f7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=h7(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(e,r){if(e){if(typeof e=="string")return j2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j2(e,r):void 0}}function j2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function N2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function k2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?N2(Object(t),!0).forEach(function(s){m7(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function m7(e,r,t){return(r=g7(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function g7(e){var r=p7(e,"string");return $u(r)=="symbol"?r:r+""}function p7(e,r){if($u(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if($u(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var _2={formatExtension:function(r,t,s){return"".concat(r).concat(s.ext()).concat(t)}};function y7(e,r,t,s){if(t?t=k2(k2({},_2),t):t=_2,s=new Ta(s),e.country&&e.country!=="001"){if(!s.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));s.country(e.country)}else if(e.countryCallingCode)s.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var o=s.countryCallingCode(),l=t.v2?e.nationalNumber:e.phone,d;switch(r){case"NATIONAL":return l?(d=J0(l,e.carrierCode,"NATIONAL",s,t),Fg(d,e.ext,s,t.formatExtension)):"";case"INTERNATIONAL":return l?(d=J0(l,null,"INTERNATIONAL",s,t),d="+".concat(o," ").concat(d),Fg(d,e.ext,s,t.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(l);case"RFC3966":return u7({number:"+".concat(o).concat(l),ext:e.ext});case"IDD":if(!t.fromCountry)return;var u=b7(l,e.carrierCode,o,t.fromCountry,s);return Fg(u,e.ext,s,t.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(r,'"'))}}function J0(e,r,t,s,o){var l=x7(s.formats(),e);return l?N4(e,l,{useInternationalFormat:t==="INTERNATIONAL",withNationalPrefix:!(l.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&o&&o.nationalPrefix===!1),carrierCode:r,metadata:s}):e}function x7(e,r){for(var t=f7(e),s;!(s=t()).done;){var o=s.value;if(o.leadingDigitsPatterns().length>0){var l=o.leadingDigitsPatterns()[o.leadingDigitsPatterns().length-1];if(r.search(l)!==0)continue}if(zo(r,o.pattern()))return o}}function Fg(e,r,t,s){return r?s(e,r,t):e}function b7(e,r,t,s,o){var l=Fi(s,o.metadata);if(l===t){var d=J0(e,r,"NATIONAL",o);return t==="1"?t+" "+d:d}var u=r7(s,void 0,o.metadata);if(u)return"".concat(u," ").concat(t," ").concat(J0(e,null,"INTERNATIONAL",o))}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Eu(e)}function S2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function C2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?S2(Object(t),!0).forEach(function(s){v7(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function v7(e,r,t){return(r=_4(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w7(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function j7(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_4(s.key),s)}}function N7(e,r,t){return r&&j7(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _4(e){var r=k7(e,"string");return Eu(r)=="symbol"?r:r+""}function k7(e,r){if(Eu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Eu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S4=function(){function e(r,t,s){if(w7(this,e),!r)throw new TypeError("First argument is required");if(typeof r!="string")throw new TypeError("First argument must be a string");if(r[0]==="+"&&!t)throw new TypeError("`metadata` argument not passed");if(wl(t)&&wl(t.countries)){s=t;var o=r;if(!C7.test(o))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var l=zy(o,void 0,void 0,s),d=l.countryCallingCode,u=l.number;if(t=u,r=d,!t)throw new Error("Invalid `number` argument passed: too short")}if(!t)throw new TypeError("`nationalNumber` argument is required");if(typeof t!="string")throw new TypeError("`nationalNumber` argument must be a string");g4(s);var f=S7(r,s),m=f.country,y=f.countryCallingCode;this.country=m,this.countryCallingCode=y,this.nationalNumber=t,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return s}}return N7(e,[{key:"setExt",value:function(t){this.ext=t}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:B$(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return I$(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return z$(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var t=new Ta(this.getMetadata());return t.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(t){return this.number===t.number&&this.ext===t.ext}},{key:"getType",value:function(){return Uy(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(t,s){return y7(this,t,s?C2(C2({},s),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(t){return this.format("NATIONAL",t)}},{key:"formatInternational",value:function(t){return this.format("INTERNATIONAL",t)}},{key:"getURI",value:function(t){return this.format("RFC3966",t)}}])}(),_7=function(r){return/^[A-Z]{2}$/.test(r)};function S7(e,r){var t,s,o=new Ta(r);return _7(e)?(t=e,o.selectNumberingPlan(t),s=o.countryCallingCode()):s=e,{country:t,countryCallingCode:s}}var C7=/^\+\d+$/;function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zp(e)}function $7(e,r,t){return Object.defineProperty(e,"prototype",{writable:!1}),e}function E7(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function T7(e,r,t){return r=Ou(r),O7(e,By()?Reflect.construct(r,t||[],Ou(e).constructor):r.apply(e,t))}function O7(e,r){if(r&&(zp(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A7(e)}function A7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R7(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Tu(e,r)}function Bp(e){var r=typeof Map=="function"?new Map:void 0;return Bp=function(s){if(s===null||!M7(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(s))return r.get(s);r.set(s,o)}function o(){return P7(s,arguments,Ou(this).constructor)}return o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Tu(o,s)},Bp(e)}function P7(e,r,t){if(By())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,r);var o=new(e.bind.apply(e,s));return t&&Tu(o,t.prototype),o}function By(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(By=function(){return!!e})()}function M7(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(r){return typeof e=="function"}}function Tu(e,r){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Tu(e,r)}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ou(e)}var Mo=function(e){function r(t){var s;return E7(this,r),s=T7(this,r,[t]),Object.setPrototypeOf(s,r.prototype),s.name=s.constructor.name,s}return R7(r,e),$7(r)}(Bp(Error)),$2=new RegExp("(?:"+k4()+")$","i");function D7(e){var r=e.search($2);if(r<0)return{};for(var t=e.slice(0,r),s=e.match($2),o=1;o<s.length;){if(s[o])return{number:t,ext:s[o]};o++}}function I7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=L7(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L7(e,r){if(e){if(typeof e=="string")return E2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E2(e,r):void 0}}function E2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}var U7={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function C4(e){return U7[e]}function eh(e){for(var r="",t=I7(e.split("")),s;!(s=t()).done;){var o=s.value,l=C4(o);l&&(r+=l)}return r}function F7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=z7(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7(e,r){if(e){if(typeof e=="string")return T2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T2(e,r):void 0}}function T2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function qp(e){for(var r="",t=F7(e.split("")),s;!(s=t()).done;){var o=s.value;r+=$4(o,r)||""}return r}function $4(e,r,t){if(e==="+"){if(r){typeof t=="function"&&t("end");return}return"+"}return C4(e)}function B7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=q7(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(e,r){if(e){if(typeof e=="string")return O2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O2(e,r):void 0}}function O2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function E4(e,r){var t=r.countries;r.defaultCountry;var s=r.metadata;s=new Ta(s);for(var o=B7(t),l;!(l=o()).done;){var d=l.value;if(s.country(d),s.leadingDigits()){if(e&&e.search(s.leadingDigits())===0)return d}else if(Uy({phone:e,country:d},void 0,s.metadata))return d}}function T4(e,r){var t=r.nationalNumber,s=r.defaultCountry,o=r.metadata,l=o.getCountryCodesForCallingCode(e);if(l)return l.length===1?l[0]:E4(t,{countries:l,defaultCountry:s,metadata:o.metadata})}var O4="+",H7="[\\-\\.\\(\\)]?",A2="(["+bn+"]|"+H7+")",G7="^\\"+O4+A2+"*["+bn+"]"+A2+"*$",V7=new RegExp(G7,"g"),Hp=bn,K7="["+Hp+"]+((\\-)*["+Hp+"])*",W7="a-zA-Z",Y7="["+W7+"]+((\\-)*["+Hp+"])*",Q7="^("+K7+"\\.)*"+Y7+"\\.?$",X7=new RegExp(Q7,"g"),R2="tel:",Gp=";phone-context=",Z7=";isub=";function J7(e){var r=e.indexOf(Gp);if(r<0)return null;var t=r+Gp.length;if(t>=e.length)return"";var s=e.indexOf(";",t);return s>=0?e.substring(t,s):e.substring(t)}function eE(e){return e===null?!0:e.length===0?!1:V7.test(e)||X7.test(e)}function tE(e,r){var t=r.extractFormattedPhoneNumber,s=J7(e);if(!eE(s))throw new Mo("NOT_A_NUMBER");var o;if(s===null)o=t(e)||"";else{o="",s.charAt(0)===O4&&(o+=s);var l=e.indexOf(R2),d;l>=0?d=l+R2.length:d=0;var u=e.indexOf(Gp);o+=e.substring(d,u)}var f=o.indexOf(Z7);if(f>0&&(o=o.substring(0,f)),o!=="")return o}var rE=250,aE=new RegExp("["+$h+bn+"]"),nE=new RegExp("[^"+bn+"#]+$");function sE(e,r,t){if(r=r||{},t=new Ta(t),r.defaultCountry&&!t.hasCountry(r.defaultCountry))throw r.v2?new Mo("INVALID_COUNTRY"):new Error("Unknown country: ".concat(r.defaultCountry));var s=iE(e,r.v2,r.extract),o=s.number,l=s.ext,d=s.error;if(!o){if(r.v2)throw d==="TOO_SHORT"?new Mo("TOO_SHORT"):new Mo("NOT_A_NUMBER");return{}}var u=cE(o,r.defaultCountry,r.defaultCallingCode,t),f=u.country,m=u.nationalNumber,y=u.countryCallingCode,k=u.countryCallingCodeSource,_=u.carrierCode;if(!t.hasSelectedNumberingPlan()){if(r.v2)throw new Mo("INVALID_COUNTRY");return{}}if(!m||m.length<Fy){if(r.v2)throw new Mo("TOO_SHORT");return{}}if(m.length>H$){if(r.v2)throw new Mo("TOO_LONG");return{}}if(r.v2){var C=new S4(y,m,t.metadata);return f&&(C.country=f),_&&(C.carrierCode=_),l&&(C.ext=l),C.__countryCallingCodeSource=k,C}var T=(r.extended?t.hasSelectedNumberingPlan():f)?zo(m,t.nationalNumberPattern()):!1;return r.extended?{country:f,countryCallingCode:y,carrierCode:_,valid:T,possible:T?!0:!!(r.extended===!0&&t.possibleLengths()&&x4(m,t)),phone:m,ext:l}:T?lE(f,m,l):{}}function oE(e,r,t){if(e){if(e.length>rE){if(t)throw new Mo("TOO_LONG");return}if(r===!1)return e;var s=e.search(aE);if(!(s<0))return e.slice(s).replace(nE,"")}}function iE(e,r,t){var s=tE(e,{extractFormattedPhoneNumber:function(d){return oE(d,t,r)}});if(!s)return{};if(!c7(s))return d7(s)?{error:"TOO_SHORT"}:{};var o=D7(s);return o.ext?o:{number:s}}function lE(e,r,t){var s={country:e,phone:r};return t&&(s.ext=t),s}function cE(e,r,t,s){var o=zy(qp(e),r,t,s.metadata),l=o.countryCallingCodeSource,d=o.countryCallingCode,u=o.number,f;if(d)s.selectNumberingPlan(d);else if(u&&(r||t))s.selectNumberingPlan(r,t),r&&(f=r),d=t||Fi(r,s.metadata);else return{};if(!u)return{countryCallingCodeSource:l,countryCallingCode:d};var m=Fp(qp(u),s),y=m.nationalNumber,k=m.carrierCode,_=T4(d,{nationalNumber:y,defaultCountry:r,metadata:s});return _&&(f=_,_==="001"||s.country(f)),{country:f,countryCallingCode:d,countryCallingCodeSource:l,nationalNumber:y,carrierCode:k}}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Au(e)}function P2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function M2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?P2(Object(t),!0).forEach(function(s){dE(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function dE(e,r,t){return(r=uE(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function uE(e){var r=fE(e,"string");return Au(r)=="symbol"?r:r+""}function fE(e,r){if(Au(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Au(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hE(e,r,t){return sE(e,M2(M2({},r),{},{v2:!0}),t)}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ru(e)}function D2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function mE(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?D2(Object(t),!0).forEach(function(s){gE(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function gE(e,r,t){return(r=pE(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pE(e){var r=yE(e,"string");return Ru(r)=="symbol"?r:r+""}function yE(e,r){if(Ru(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Ru(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function xE(e,r){return jE(e)||wE(e,r)||vE(e,r)||bE()}function bE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vE(e,r){if(e){if(typeof e=="string")return I2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I2(e,r):void 0}}function I2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function wE(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,l,d,u=[],f=!0,m=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(f=(s=l.call(t)).done)&&(u.push(s.value),u.length!==r);f=!0);}catch(y){m=!0,o=y}finally{try{if(!f&&t.return!=null&&(d=t.return(),Object(d)!==d))return}finally{if(m)throw o}}return u}}function jE(e){if(Array.isArray(e))return e}function NE(e){var r=Array.prototype.slice.call(e),t=xE(r,4),s=t[0],o=t[1],l=t[2],d=t[3],u,f,m;if(typeof s=="string")u=s;else throw new TypeError("A text for parsing must be a string.");if(!o||typeof o=="string")d?(f=l,m=d):(f=void 0,m=l),o&&(f=mE({defaultCountry:o},f));else if(wl(o))l?(f=o,m=l):m=o;else throw new Error("Invalid second argument: ".concat(o));return{text:u,options:f,metadata:m}}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pu(e)}function L2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function U2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?L2(Object(t),!0).forEach(function(s){kE(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L2(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function kE(e,r,t){return(r=_E(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _E(e){var r=SE(e,"string");return Pu(r)=="symbol"?r:r+""}function SE(e,r){if(Pu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Pu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function CE(e,r,t){r&&r.defaultCountry&&!p4(r.defaultCountry,t)&&(r=U2(U2({},r),{},{defaultCountry:void 0}));try{return hE(e,r,t)}catch(s){if(!(s instanceof Mo))throw s}}function $E(){var e=NE(arguments),r=e.text,t=e.options,s=e.metadata;return CE(r,t,s)}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mu(e)}function EE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function TE(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AE(s.key),s)}}function OE(e,r,t){return r&&TE(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AE(e){var r=RE(e,"string");return Mu(r)=="symbol"?r:r+""}function RE(e,r){if(Mu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Mu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PE=function(){function e(r){var t=r.onCountryChange,s=r.onCallingCodeChange;EE(this,e),this.onCountryChange=t,this.onCallingCodeChange=s}return OE(e,[{key:"reset",value:function(t){var s=t.country,o=t.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(s,o)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(t){for(var s=0,o=Object.keys(t);s<o.length;s++){var l=o[s];this[l]=t[l]}}},{key:"initCountryAndCallingCode",value:function(t,s){this.setCountry(t),this.setCallingCode(s)}},{key:"setCountry",value:function(t){this.country=t,this.onCountryChange(t)}},{key:"setCallingCode",value:function(t){this.callingCode=t,this.onCallingCodeChange(t,this.country)}},{key:"startInternationalNumber",value:function(t,s){this.international=!0,this.initCountryAndCallingCode(t,s)}},{key:"appendDigits",value:function(t){this.digits+=t}},{key:"appendNationalSignificantNumberDigits",value:function(t){this.nationalSignificantNumber+=t}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function ME(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=DE(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DE(e,r){if(e){if(typeof e=="string")return F2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F2(e,r):void 0}}function F2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}var Es="x",zg=new RegExp(Es);function B0(e,r){if(r<1)return"";for(var t="";r>1;)r&1&&(t+=e),r>>=1,e+=e;return t+e}function z2(e,r){return e[r]===")"&&r++,IE(e.slice(0,r))}function IE(e){for(var r=[],t=0;t<e.length;)e[t]==="("?r.push(t):e[t]===")"&&r.pop(),t++;var s=0,o="";r.push(e.length);for(var l=0,d=r;l<d.length;l++){var u=d[l];o+=e.slice(s,u),s=u+1}return o}function LE(e,r,t){for(var s=ME(t.split("")),o;!(o=s()).done;){var l=o.value;if(e.slice(r+1).search(zg)<0)return;r=e.search(zg),e=e.replace(zg,l)}return[e,r]}function UE(e,r,t){var s=t.metadata,o=t.shouldTryNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix,d=new RegExp("^(?:".concat(r.pattern(),")$"));if(d.test(e.nationalSignificantNumber))return zE(e,r,{metadata:s,shouldTryNationalPrefixFormattingRule:o,getSeparatorAfterNationalPrefix:l})}function FE(e,r){return Ch(e,r)==="IS_POSSIBLE"}function zE(e,r,t){var s=t.metadata,o=t.shouldTryNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,o(r)){var d=B2(e,r,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:l,metadata:s});if(d)return d}return B2(e,r,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:l,metadata:s})}function B2(e,r,t){var s=t.metadata,o=t.useNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix,d=N4(e.nationalSignificantNumber,r,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:o,metadata:s});if(o||(e.nationalPrefix?d=e.nationalPrefix+l(r)+d:e.complexPrefixBeforeNationalSignificantNumber&&(d=e.complexPrefixBeforeNationalSignificantNumber+" "+d)),BE(d,e))return d}function BE(e,r){return eh(e)===r.getNationalDigits()}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Du(e)}function qE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function HE(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,VE(s.key),s)}}function GE(e,r,t){return r&&HE(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VE(e){var r=KE(e,"string");return Du(r)=="symbol"?r:r+""}function KE(e,r){if(Du(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Du(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WE=function(){function e(){qE(this,e)}return GE(e,[{key:"parse",value:function(t){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(t),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var s=this.context[0],o=s.branches,l=s.instructions;if(o)return{op:"|",args:o.concat([Bg(l)])};if(l.length===0)throw new Error("Pattern is required");return l.length===1?l[0]:l}},{key:"startContext",value:function(t){this.context.push(t)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(t){if(!t)throw new Error("Pattern is required");var s=t.match(XE);if(!s){if(QE.test(t))throw new Error("Illegal characters found in a pattern: ".concat(t));this.getContext().instructions=this.getContext().instructions.concat(t.split(""));return}var o=s[1],l=t.slice(0,s.index),d=t.slice(s.index+o.length);switch(o){case"(?:":l&&this.parsePattern(l),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(l&&this.parsePattern(l),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var u=this.getContext(),f=u.branches;f.push(Bg(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:f});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(l&&this.parsePattern(l),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Bg(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":l&&this.parsePattern(l),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:YE(l)});break;default:throw new Error("Unknown operator: ".concat(o))}d&&this.parsePattern(d)}}])}();function YE(e){for(var r=[],t=0;t<e.length;){if(e[t]==="-"){if(t===0||t===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var s=e[t-1].charCodeAt(0)+1,o=e[t+1].charCodeAt(0)-1,l=s;l<=o;)r.push(String.fromCharCode(l)),l++}else r.push(e[t]);t++}return r}var QE=/[\(\)\[\]\?\:\|]/,XE=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Bg(e){return e.length===1?e[0]:e}function q2(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=ZE(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZE(e,r){if(e){if(typeof e=="string")return H2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H2(e,r):void 0}}function H2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Iu(e)}function JE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function eT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rT(s.key),s)}}function tT(e,r,t){return r&&eT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rT(e){var r=aT(e,"string");return Iu(r)=="symbol"?r:r+""}function aT(e,r){if(Iu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Iu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nT=function(){function e(r){JE(this,e),this.matchTree=new WE().parse(r)}return tT(e,[{key:"match",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.allowOverflow;if(!t)throw new Error("String is required");var l=Vp(t.split(""),this.matchTree,!0);if(l&&l.match&&delete l.matchedChars,!(l&&l.overflow&&!o))return l}}])}();function Vp(e,r,t){if(typeof r=="string"){var s=e.join("");return r.indexOf(s)===0?e.length===r.length?{match:!0,matchedChars:e}:{partialMatch:!0}:s.indexOf(r)===0?t&&e.length>r.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,r.length)}:void 0}if(Array.isArray(r)){for(var o=e.slice(),l=0;l<r.length;){var d=r[l],u=Vp(o,d,t&&l===r.length-1);if(u){if(u.overflow)return u;if(u.match){if(o=o.slice(u.matchedChars.length),o.length===0)return l===r.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(u.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(u,null,2)))}}else return;l++}return t?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-o.length)}}switch(r.op){case"|":for(var f,m=q2(r.args),y;!(y=m()).done;){var k=y.value,_=Vp(e,k,t);if(_){if(_.overflow)return _;if(_.match)return{match:!0,matchedChars:_.matchedChars};if(_.partialMatch)f=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(_,null,2)))}}return f?{partialMatch:!0}:void 0;case"[]":for(var C=q2(r.args),T;!(T=C()).done;){var E=T.value;if(e[0]===E)return e.length===1?{match:!0,matchedChars:e}:t?{overflow:!0}:{match:!0,matchedChars:[E]}}return;default:throw new Error("Unsupported instruction tree: ".concat(r))}}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lu(e)}function G2(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=sT(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sT(e,r){if(e){if(typeof e=="string")return V2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V2(e,r):void 0}}function V2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function oT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cT(s.key),s)}}function lT(e,r,t){return r&&iT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cT(e){var r=dT(e,"string");return Lu(r)=="symbol"?r:r+""}function dT(e,r){if(Lu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Lu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kp="9",uT=15,fT=B0(Kp,uT),hT=/[- ]/,mT=function(){return/\[([^\[\]])*\]/g},gT=function(){return/\d(?=[^,}][^,}])/g},pT=new RegExp("["+Ms+"]*\\$1["+Ms+"]*(\\$\\d["+Ms+"]*)*$"),K2=3,yT=function(){function e(r){r.state;var t=r.metadata;oT(this,e),this.metadata=t,this.resetFormat()}return lT(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(t,s){this.resetFormat(),t?(this.isNANP=t.callingCode()==="1",this.matchingFormats=t.formats(),s.nationalSignificantNumber&&this.narrowDownMatchingFormats(s)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(t,s){var o=this;if(FE(s.nationalSignificantNumber,this.metadata))for(var l=G2(this.matchingFormats),d;!(d=l()).done;){var u=d.value,f=UE(s,u,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(y){return o.shouldTryNationalPrefixFormattingRule(y,{international:s.international,nationalPrefix:s.nationalPrefix})},getSeparatorAfterNationalPrefix:function(y){return o.getSeparatorAfterNationalPrefix(y)}});if(f)return this.resetFormat(),this.chosenFormat=u,this.setNationalNumberTemplate(f.replace(/\d/g,Es),s),this.populatedNationalNumberTemplate=f,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Es),f}return this.formatNationalNumberWithNextDigits(t,s)}},{key:"formatNationalNumberWithNextDigits",value:function(t,s){var o=this.chosenFormat,l=this.chooseFormat(s);if(l)return l===o?this.formatNextNationalNumberDigits(t):this.formatNextNationalNumberDigits(s.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(t){var s=this,o=t.nationalSignificantNumber,l=t.nationalPrefix,d=t.international,u=o,f=u.length-K2;f<0&&(f=0),this.matchingFormats=this.matchingFormats.filter(function(m){return s.formatSuits(m,d,l)&&s.formatMatches(m,u,f)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(t,s,o){return!(o&&!t.usesNationalPrefix()&&!t.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!s&&!o&&t.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(t,s,o){var l=t.leadingDigitsPatterns().length;if(l===0)return!0;o=Math.min(o,l-1);var d=t.leadingDigitsPatterns()[o];if(s.length<K2)try{return new nT(d).match(s,{allowOverflow:!0})!==void 0}catch(u){return console.error(u),!0}return new RegExp("^(".concat(d,")")).test(s)}},{key:"getFormatFormat",value:function(t,s){return s?t.internationalFormat():t.format()}},{key:"chooseFormat",value:function(t){for(var s=this,o=function(){var m=u.value;return s.chosenFormat===m?0:pT.test(s.getFormatFormat(m,t.international))?s.createTemplateForFormat(m,t)?(s.chosenFormat=m,0):(s.matchingFormats=s.matchingFormats.filter(function(y){return y!==m}),1):1},l,d=G2(this.matchingFormats.slice()),u;!(u=d()).done&&(l=o(),l!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(t,s){if(!(t.pattern().indexOf("|")>=0)){var o=this.getTemplateForFormat(t,s);if(o)return this.setNationalNumberTemplate(o,s),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(t){return this.isNANP||t&&t.nationalPrefixFormattingRule()&&hT.test(t.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(t,s){var o=t.IDDPrefix,l=t.missingPlus;return o?s&&s.spacing===!1?o:o+" ":l?"":"+"}},{key:"getTemplate",value:function(t){if(this.template){for(var s=-1,o=0,l=t.international?this.getInternationalPrefixBeforeCountryCallingCode(t,{spacing:!1}):"";o<l.length+t.getDigitsWithoutInternationalPrefix().length;)s=this.template.indexOf(Es,s+1),o++;return z2(this.template,s+1)}}},{key:"setNationalNumberTemplate",value:function(t,s){this.nationalNumberTemplate=t,this.populatedNationalNumberTemplate=t,this.populatedNationalNumberTemplatePosition=-1,s.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(s).replace(/[\d\+]/g,Es)+B0(Es,s.callingCode.length)+" "+t:this.template=t}},{key:"getTemplateForFormat",value:function(t,s){var o=s.nationalSignificantNumber,l=s.international,d=s.nationalPrefix,u=s.complexPrefixBeforeNationalSignificantNumber,f=t.pattern();f=f.replace(mT(),"\\d").replace(gT(),"\\d");var m=fT.match(f)[0];if(!(o.length>m.length)){var y=new RegExp("^"+f+"$"),k=o.replace(/\d/g,Kp);y.test(k)&&(m=k);var _=this.getFormatFormat(t,l),C;if(this.shouldTryNationalPrefixFormattingRule(t,{international:l,nationalPrefix:d})){var T=_.replace(j4,t.nationalPrefixFormattingRule());if(eh(t.nationalPrefixFormattingRule())===(d||"")+eh("$1")&&(_=T,C=!0,d))for(var E=d.length;E>0;)_=_.replace(/\d/,Es),E--}var A=m.replace(new RegExp(f),_).replace(new RegExp(Kp,"g"),Es);return C||(u?A=B0(Es,u.length)+" "+A:d&&(A=B0(Es,d.length)+this.getSeparatorAfterNationalPrefix(t)+A)),l&&(A=w4(A)),A}}},{key:"formatNextNationalNumberDigits",value:function(t){var s=LE(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,t);if(!s){this.resetFormat();return}return this.populatedNationalNumberTemplate=s[0],this.populatedNationalNumberTemplatePosition=s[1],z2(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(t,s){var o=s.international,l=s.nationalPrefix;if(t.nationalPrefixFormattingRule()){var d=t.usesNationalPrefix();if(d&&l||!d&&!o)return!0}}}])}();function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uu(e)}function A4(e,r){return wT(e)||vT(e,r)||bT(e,r)||xT()}function xT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bT(e,r){if(e){if(typeof e=="string")return W2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W2(e,r):void 0}}function W2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function vT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,l,d,u=[],f=!0,m=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(f=(s=l.call(t)).done)&&(u.push(s.value),u.length!==r);f=!0);}catch(y){m=!0,o=y}finally{try{if(!f&&t.return!=null&&(d=t.return(),Object(d)!==d))return}finally{if(m)throw o}}return u}}function wT(e){if(Array.isArray(e))return e}function jT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function NT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_T(s.key),s)}}function kT(e,r,t){return r&&NT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _T(e){var r=ST(e,"string");return Uu(r)=="symbol"?r:r+""}function ST(e,r){if(Uu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Uu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CT="["+Ms+bn+"]+",$T=new RegExp("^"+CT+"$","i"),ET="(?:["+$h+"]["+Ms+bn+"]*|["+Ms+bn+"]+)",TT=new RegExp("[^"+Ms+bn+"]+.*$"),OT=/[^\d\[\]]/,AT=function(){function e(r){var t=r.defaultCountry,s=r.defaultCallingCode,o=r.metadata,l=r.onNationalSignificantNumberChange;jT(this,e),this.defaultCountry=t,this.defaultCallingCode=s,this.metadata=o,this.onNationalSignificantNumberChange=l}return kT(e,[{key:"input",value:function(t,s){var o=MT(t),l=A4(o,2),d=l[0],u=l[1],f=eh(d),m;return u&&(s.digits||(s.startInternationalNumber(),f||(m=!0))),f&&this.inputDigits(f,s),{digits:f,justLeadingPlus:m}}},{key:"inputDigits",value:function(t,s){var o=s.digits,l=o.length<3&&o.length+t.length>=3;if(s.appendDigits(t),l&&this.extractIddPrefix(s),this.isWaitingForCountryCallingCode(s)){if(!this.extractCountryCallingCode(s))return}else s.appendNationalSignificantNumberDigits(t);s.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(s.getNationalDigits(),function(d){return s.update(d)})}},{key:"isWaitingForCountryCallingCode",value:function(t){var s=t.international,o=t.callingCode;return s&&!o}},{key:"extractCountryCallingCode",value:function(t){var s=zy("+"+t.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),o=s.countryCallingCode,l=s.number;if(o)return t.setCallingCode(o),t.update({nationalSignificantNumber:l}),!0}},{key:"reset",value:function(t){if(t){this.hasSelectedNumberingPlan=!0;var s=t._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=s&&OT.test(s)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(t,s){if(this.hasSelectedNumberingPlan){var o=Up(t,this.metadata),l=o.nationalPrefix,d=o.nationalNumber,u=o.carrierCode;if(d!==t)return this.onExtractedNationalNumber(l,u,d,t,s),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(t,s,o){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(t,o);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var l=Up(t,this.metadata),d=l.nationalPrefix,u=l.nationalNumber,f=l.carrierCode;if(u!==s)return this.onExtractedNationalNumber(d,f,u,t,o),!0}}},{key:"onExtractedNationalNumber",value:function(t,s,o,l,d){var u,f,m=l.lastIndexOf(o);if(m>=0&&m===l.length-o.length){f=!0;var y=l.slice(0,m);y!==t&&(u=y)}d({nationalPrefix:t,carrierCode:s,nationalSignificantNumber:o,nationalSignificantNumberMatchesInput:f,complexPrefixBeforeNationalSignificantNumber:u}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(t){if(this.extractAnotherNationalSignificantNumber(t.getNationalDigits(),t.nationalSignificantNumber,function(s){return t.update(s)}))return!0;if(this.extractIddPrefix(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0;if(this.fixMissingPlus(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0}},{key:"extractIddPrefix",value:function(t){var s=t.international,o=t.IDDPrefix,l=t.digits;if(t.nationalSignificantNumber,!(s||o)){var d=b4(l,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(d!==void 0&&d!==l)return t.update({IDDPrefix:l.slice(0,l.length-d.length)}),this.startInternationalNumber(t,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(t){if(!t.international){var s=v4(t.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),o=s.countryCallingCode;if(s.number,o)return t.update({missingPlus:!0}),this.startInternationalNumber(t,{country:t.country,callingCode:o}),!0}}},{key:"startInternationalNumber",value:function(t,s){var o=s.country,l=s.callingCode;t.startInternationalNumber(o,l),t.nationalSignificantNumber&&(t.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(t){this.extractCountryCallingCode(t)&&this.extractNationalSignificantNumber(t.getNationalDigits(),function(s){return t.update(s)})}}])}();function RT(e){var r=e.search(ET);if(!(r<0)){e=e.slice(r);var t;return e[0]==="+"&&(t=!0,e=e.slice(1)),e=e.replace(TT,""),t&&(e="+"+e),e}}function PT(e){var r=RT(e)||"";return r[0]==="+"?[r.slice(1),!0]:[r]}function MT(e){var r=PT(e),t=A4(r,2),s=t[0],o=t[1];return $T.test(s)||(s=""),[s,o]}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fu(e)}function DT(e,r){return FT(e)||UT(e,r)||LT(e,r)||IT()}function IT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LT(e,r){if(e){if(typeof e=="string")return Y2(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y2(e,r):void 0}}function Y2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=Array(r);t<r;t++)s[t]=e[t];return s}function UT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,l,d,u=[],f=!0,m=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(f=(s=l.call(t)).done)&&(u.push(s.value),u.length!==r);f=!0);}catch(y){m=!0,o=y}finally{try{if(!f&&t.return!=null&&(d=t.return(),Object(d)!==d))return}finally{if(m)throw o}}return u}}function FT(e){if(Array.isArray(e))return e}function zT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function BT(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,HT(s.key),s)}}function qT(e,r,t){return r&&BT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HT(e){var r=GT(e,"string");return Fu(r)=="symbol"?r:r+""}function GT(e,r){if(Fu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(Fu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sd=function(){function e(r,t){zT(this,e),this.metadata=new Ta(t);var s=this.getCountryAndCallingCode(r),o=DT(s,2),l=o[0],d=o[1];this.defaultCountry=l,this.defaultCallingCode=d,this.reset()}return qT(e,[{key:"getCountryAndCallingCode",value:function(t){var s,o;return t&&(wl(t)?(s=t.defaultCountry,o=t.defaultCallingCode):s=t),s&&!this.metadata.hasCountry(s)&&(s=void 0),[s,o]}},{key:"input",value:function(t){var s=this.parser.input(t,this.state),o=s.digits,l=s.justLeadingPlus;if(l)this.formattedOutput="+";else if(o){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var d;if(this.metadata.hasSelectedNumberingPlan()&&(d=this.formatter.format(o,this.state)),d===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var u=this.state.getNationalDigits();u&&(d=this.formatter.format(u,this.state))}this.formattedOutput=d?this.getFullNumber(d):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var t=this;return this.state=new PE({onCountryChange:function(o){t.country=o},onCallingCodeChange:function(o,l){t.metadata.selectNumberingPlan(l,o),t.formatter.reset(t.metadata.numberingPlan,t.state),t.parser.reset(t.metadata.numberingPlan)}}),this.formatter=new yT({state:this.state,metadata:this.metadata}),this.parser=new AT({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){t.determineTheCountryIfNeeded(),t.formatter.reset(t.metadata.numberingPlan,t.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var t=this.state.digits;if(t)return this._getCountry()}},{key:"_getCountry",value:function(){var t=this.state.country;return t}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(t){var s=this;if(this.isInternational()){var o=function(u){return s.formatter.getInternationalPrefixBeforeCountryCallingCode(s.state,{spacing:!!u})+u},l=this.state.callingCode;return o(l?t?"".concat(l," ").concat(t):l:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return t}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var t=this.state,s=t.nationalSignificantNumber,o=t.complexPrefixBeforeNationalSignificantNumber,l=t.nationalPrefix,d=s,u=o||l;return u&&(d=u+d),d}},{key:"getNonFormattedNumber",value:function(){var t=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(t?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var t=this.getNonFormattedNumber();if(t)return t.replace(/[\+\d]/g,Es)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var t=this.state.callingCode,s=this.metadata.getCountryCodesForCallingCode(t);return s&&s.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(T4(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var t=this.state,s=t.digits,o=t.callingCode,l=t.country,d=t.nationalSignificantNumber;if(s){if(this.isInternational())return o?"+"+o+d:"+"+s;if(l||o){var u=l?this.metadata.countryCallingCode():o;return"+"+u+d}}}},{key:"getNumber",value:function(){var t=this.state,s=t.nationalSignificantNumber,o=t.carrierCode,l=t.callingCode,d=this._getCountry();if(s&&!(!d&&!l)){if(d&&d===this.defaultCountry){var u=new Ta(this.metadata.metadata);u.selectNumberingPlan(d);var f=u.numberingPlan.callingCode(),m=this.metadata.getCountryCodesForCallingCode(f);if(m.length>1){var y=E4(s,{countries:m,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});y&&(d=y)}}var k=new S4(d||l,s,this.metadata.metadata);return o&&(k.carrierCode=o),k}}},{key:"isPossible",value:function(){var t=this.getNumber();return t?t.isPossible():!1}},{key:"isValid",value:function(){var t=this.getNumber();return t?t.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function Q2(e){return new Ta(e).getCountries()}function VT(e,r,t){return t||(t=r,r=void 0),new sd(r,t).input(e)}function R4(e){var r=e.inputFormat,t=e.country,s=e.metadata;return r==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Fi(t,s)):""}function Wp(e,r){return r&&(e=e.slice(r.length),e[0]===" "&&(e=e.slice(1))),e}function KT(e,r,t){if(!(t&&t.ignoreRest)){var s=function(l){if(t)switch(l){case"end":t.ignoreRest=!0;break}};return $4(e,r,s)}}function P4(e){var r=e.onKeyDown,t=e.inputFormat;return S.useCallback(function(s){if(s.keyCode===YT&&t==="INTERNATIONAL"&&s.target instanceof HTMLInputElement&&WT(s.target)===QT.length){s.preventDefault();return}r&&r(s)},[r,t])}function WT(e){return e.selectionStart}var YT=8,QT="+",XT=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yp.apply(this,arguments)}function ZT(e,r){if(e==null)return{};var t=JT(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function JT(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function eO(e){function r(t,s){var o=t.onKeyDown,l=t.country,d=t.inputFormat,u=t.metadata,f=u===void 0?e:u;t.international,t.withCountryCallingCode;var m=ZT(t,XT),y=S.useCallback(function(_){var C=new sd(l,f),T=R4({inputFormat:d,country:l,metadata:f}),E=C.input(T+_),A=C.getTemplate();return T&&(E=Wp(E,T),A&&(A=Wp(A,T))),{text:E,template:A}},[l,f]),k=P4({onKeyDown:o,inputFormat:d});return bt.createElement(Z0,Yp({},m,{ref:s,parse:KT,format:y,onKeyDown:k}))}return r=bt.forwardRef(r),r.propTypes={value:ft.string.isRequired,onChange:ft.func.isRequired,onKeyDown:ft.func,country:ft.string,inputFormat:ft.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ft.object},r}const tO=eO();var rO=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qp.apply(this,arguments)}function aO(e,r){if(e==null)return{};var t=nO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function nO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function sO(e){function r(t,s){var o=t.value,l=t.onChange,d=t.onKeyDown,u=t.country,f=t.inputFormat,m=t.metadata,y=m===void 0?e:m,k=t.inputComponent,_=k===void 0?"input":k;t.international,t.withCountryCallingCode;var C=aO(t,rO),T=R4({inputFormat:f,country:u,metadata:y}),E=S.useCallback(function(M){var B=qp(M.target.value);if(B===o){var H=X2(T,B,u,y);H.indexOf(M.target.value)===0&&(B=B.slice(0,-1))}l(B)},[T,o,l,u,y]),A=P4({onKeyDown:d,inputFormat:f});return bt.createElement(_,Qp({},C,{ref:s,value:X2(T,o,u,y),onChange:E,onKeyDown:A}))}return r=bt.forwardRef(r),r.propTypes={value:ft.string.isRequired,onChange:ft.func.isRequired,onKeyDown:ft.func,country:ft.string,inputFormat:ft.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ft.object,inputComponent:ft.elementType},r}const oO=sO();function X2(e,r,t,s){return Wp(VT(e+r,t,s),e)}function iO(e){return Z2(e[0])+Z2(e[1])}function Z2(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var lO=["value","onChange","options","disabled","readOnly"],cO=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function dO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=uO(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uO(e,r){if(e){if(typeof e=="string")return J2(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J2(e,r)}}function J2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},th.apply(this,arguments)}function M4(e,r){if(e==null)return{};var t=fO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function fO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function D4(e){var r=e.value,t=e.onChange,s=e.options,o=e.disabled,l=e.readOnly,d=M4(e,lO),u=S.useCallback(function(f){var m=f.target.value;t(m==="ZZ"?void 0:m)},[t]);return S.useMemo(function(){return L4(s,r)},[s,r]),bt.createElement("select",th({},d,{disabled:o||l,readOnly:l,value:r||"ZZ",onChange:u}),s.map(function(f){var m=f.value,y=f.label,k=f.divider;return bt.createElement("option",{key:k?"|":m||"ZZ",value:k?"|":m||"ZZ",disabled:!!k,style:k?hO:void 0},y)}))}D4.propTypes={value:ft.string,onChange:ft.func.isRequired,options:ft.arrayOf(ft.shape({value:ft.string,label:ft.string,divider:ft.bool})).isRequired,disabled:ft.bool,readOnly:ft.bool};var hO={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function I4(e){var r=e.value,t=e.options,s=e.className,o=e.iconComponent;e.getIconAspectRatio;var l=e.arrowComponent,d=l===void 0?mO:l,u=e.unicodeFlags,f=M4(e,cO),m=S.useMemo(function(){return L4(t,r)},[t,r]);return bt.createElement("div",{className:"PhoneInputCountry"},bt.createElement(D4,th({},f,{value:r,options:t,className:X0("PhoneInputCountrySelect",s)})),m&&(u&&r?bt.createElement("div",{className:"PhoneInputCountryIconUnicode"},iO(r)):bt.createElement(o,{"aria-hidden":!0,country:r,label:m.label,aspectRatio:u?1:void 0})),bt.createElement(d,null))}I4.propTypes={iconComponent:ft.elementType,arrowComponent:ft.elementType,unicodeFlags:ft.bool};function mO(){return bt.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function L4(e,r){for(var t=dO(e),s;!(s=t()).done;){var o=s.value;if(!o.divider&&gO(o.value,r))return o}}function gO(e,r){return e==null?r==null:e===r}var pO=["country","countryName","flags","flagUrl"];function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Xp.apply(this,arguments)}function yO(e,r){if(e==null)return{};var t=xO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function xO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function qy(e){var r=e.country,t=e.countryName,s=e.flags,o=e.flagUrl,l=yO(e,pO);return s&&s[r]?s[r]({title:t}):bt.createElement("img",Xp({},l,{alt:t,role:t?void 0:"presentation",src:o.replace("{XX}",r).replace("{xx}",r.toLowerCase())}))}qy.propTypes={country:ft.string.isRequired,countryName:ft.string.isRequired,flags:ft.objectOf(ft.elementType),flagUrl:ft.string.isRequired};var bO=["aspectRatio"],vO=["title"],wO=["title"];function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},rh.apply(this,arguments)}function Hy(e,r){if(e==null)return{};var t=jO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function jO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Eh(e){var r=e.aspectRatio,t=Hy(e,bO);return r===1?bt.createElement(F4,t):bt.createElement(U4,t)}Eh.propTypes={title:ft.string.isRequired,aspectRatio:ft.number};function U4(e){var r=e.title,t=Hy(e,vO);return bt.createElement("svg",rh({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),bt.createElement("title",null,r),bt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},bt.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),bt.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),bt.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),bt.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),bt.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),bt.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),bt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}U4.propTypes={title:ft.string.isRequired};function F4(e){var r=e.title,t=Hy(e,wO);return bt.createElement("svg",rh({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),bt.createElement("title",null,r),bt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},bt.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),bt.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),bt.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),bt.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),bt.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),bt.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),bt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}F4.propTypes={title:ft.string.isRequired};function NO(e){if(e.length<2||e[0]!=="+")return!1;for(var r=1;r<e.length;){var t=e.charCodeAt(r);if(!(t>=48&&t<=57))return!1;r++}return!0}function z4(e){NO(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function kO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=_O(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _O(e,r){if(e){if(typeof e=="string")return ew(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ew(e,r)}}function ew(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function SO(e,r){if(!r)return e;for(var t=[],s=[],o=t,l=function(){var m=u.value;if(m==="|")o.push({divider:!0});else if(m==="..."||m==="")o=s;else{var y;m===""?y=void 0:y=m;var k=e.indexOf(e.filter(function(C){return C.value===y})[0]),_=e[k];e.splice(k,1),o.push(_)}},d=kO(r),u;!(u=d()).done;)l();return t.concat(e).concat(s)}function CO(e,r){if(e&&(e=e.filter(function(t){switch(t){case"":case"|":case"...":case"":return!0;default:return Th(t,r)}}),e.length>0))return e}function Th(e,r){return p4(e,r)?!0:(console.error("Country not found: ".concat(e)),!1)}function B4(e,r){return e&&(e=e.filter(function(t){return Th(t,r)}),e.length===0&&(e=void 0)),e}var $O=["country","label","aspectRatio"];function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Zp.apply(this,arguments)}function EO(e,r){if(e==null)return{};var t=TO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function TO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function q4(e){var r=e.flags,t=e.flagUrl,s=e.flagComponent,o=e.internationalIcon;function l(d){var u=d.country,f=d.label,m=d.aspectRatio,y=EO(d,$O),k=o===Eh?m:void 0;return bt.createElement("div",Zp({},y,{className:X0("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":k===1,"PhoneInputCountryIcon--border":u})}),u?bt.createElement(s,{country:u,countryName:f,flags:r,flagUrl:t,className:"PhoneInputCountryIconImg"}):bt.createElement(o,{title:f,aspectRatio:k,className:"PhoneInputCountryIconImg"}))}return l.propTypes={country:ft.string,label:ft.string.isRequired,aspectRatio:ft.number},l}q4({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:qy,internationalIcon:Eh});function OO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=AO(e))||r){t&&(e=t);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AO(e,r){if(e){if(typeof e=="string")return tw(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tw(e,r)}}function tw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function RO(e,r){for(var t=OO(e),s;!(s=t()).done;){var o=s.value;o&&PO(o,r)}}function PO(e,r){typeof e=="function"?e(r):e.current=r}var H4=ft.shape({country_calling_codes:ft.object.isRequired,countries:ft.object.isRequired}),G4=ft.objectOf(ft.string);function Io(e,r){var t="+"+Fi(e,r);return t}function MO(e){var r=e.value,t=e.phoneNumber,s=e.defaultCountry,o=e.getAnyCountry,l=e.countries,d=e.required,u=e.metadata,f;return t&&t.country?f=t.country:s&&(!r||Lc(r,s,u))&&(f=s),l&&l.indexOf(f)<0&&(f=void 0),!f&&d&&l&&l.length>0&&(f=o()),f}function DO(e){var r=e.countries,t=e.countryNames,s=e.addInternationalOption,o=e.compareStringsLocales,l=e.compareStrings;l||(l=qO);var d=r.map(function(u){return{value:u,label:t[u]||u}});return d.sort(function(u,f){return l(u.label,f.label,o)}),s&&d.unshift({label:t.ZZ}),d}function V4(e,r){return $E(e||"",r)}function IO(e){return e.formatNational().replace(/\D/g,"")}function LO(e,r){var t=r.prevCountry,s=r.newCountry,o=r.metadata,l=r.useNationalFormat;if(t===s)return e;if(!e)return l?"":s?Io(s,o):"";if(s){if(e[0]==="+"){if(l)return e.indexOf("+"+Fi(s,o))===0?HO(e,s,o):"";if(t){var d=Io(s,o);return e.indexOf(d)===0?e:d}else{var u=Io(s,o);return e.indexOf(u)===0?e:u}}}else if(e[0]!=="+")return Pc(e,t,o)||"";return e}function Pc(e,r,t){if(e){if(e[0]==="+"){if(e==="+")return;var s=new sd(r,t);return s.input(e),s.getNumberValue()}if(r){var o=W4(e,r,t);return"+".concat(Fi(r,t)).concat(o||"")}}}function UO(e,r,t){var s=W4(e,r,t);if(s){var o=s.length-FO(r,t);if(o>0)return e.slice(0,e.length-o)}return e}function FO(e,r){return r=new Ta(r),r.selectNumberingPlan(e),r.numberingPlan.possibleLengths()[r.numberingPlan.possibleLengths().length-1]}function K4(e,r){var t=r.country,s=r.countries,o=r.defaultCountry,l=r.latestCountrySelectedByUser,d=r.required,u=r.metadata;if(e==="+")return t;var f=BO(e,u);if(f)return!s||s.indexOf(f)>=0?f:void 0;if(t){if(Lc(e,t,u)){if(l&&Lc(e,l,u))return l;if(o&&Lc(e,o,u))return o;if(!d)return}else if(!d)return}return t}function zO(e,r){var t=r.prevPhoneDigits,s=r.country,o=r.defaultCountry,l=r.latestCountrySelectedByUser,d=r.countryRequired,u=r.getAnyCountry,f=r.countries,m=r.international,y=r.limitMaxLength,k=r.countryCallingCodeEditable,_=r.metadata;if(m&&k===!1&&s){var C=Io(s,_);if(e.indexOf(C)!==0){var T,E=e&&e[0]!=="+";return E?(e=C+e,T=Pc(e,s,_)):e=C,{phoneDigits:e,value:T,country:s}}}m===!1&&s&&e&&e[0]==="+"&&(e=rw(e,s,_)),e&&s&&y&&(e=UO(e,s,_)),e&&e[0]!=="+"&&(!s||m)&&(e="+"+e),!e&&t&&t[0]==="+"&&(m?s=void 0:s=o),e==="+"&&t&&t[0]==="+"&&t.length>1&&(s=void 0);var A;return e&&(e[0]==="+"&&(e==="+"||s&&Io(s,_).indexOf(e)===0)?A=void 0:A=Pc(e,s,_)),A&&(s=K4(A,{country:s,countries:f,defaultCountry:o,latestCountrySelectedByUser:l,required:!1,metadata:_}),m===!1&&s&&e&&e[0]==="+"&&(e=rw(e,s,_),A=Pc(e,s,_))),!s&&d&&(s=o||u()),{phoneDigits:e,country:s,value:A}}function rw(e,r,t){if(e.indexOf(Io(r,t))===0){var s=new sd(r,t);s.input(e);var o=s.getNumber();return o?o.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function BO(e,r){var t=new sd(null,r);return t.input(e),t.getCountry()}function qO(e,r,t){return String.prototype.localeCompare?e.localeCompare(r,t):e<r?-1:e>r?1:0}function HO(e,r,t){if(r){var s="+"+Fi(r,t);if(e.length<s.length){if(s.indexOf(e)===0)return""}else if(e.indexOf(s)===0)return e.slice(s.length)}for(var o=0,l=Object.keys(t.country_calling_codes);o<l.length;o++){var d=l[o];if(e.indexOf(d)===1)return e.slice(1+d.length)}return""}function W4(e,r,t){var s=new sd(r,t);s.input(e);var o=s.getNumber();return o&&o.nationalNumber}function Lc(e,r,t){for(var s=Io(r,t),o=0;o<e.length&&o<s.length;){if(e[o]!==s[o])return!1;o++}return!0}function Y4(e){var r=e.value,t=e.phoneNumber,s=e.defaultCountry,o=e.international,l=e.useNationalFormat,d=e.metadata;return(o===!1||l)&&t&&t.country?IO(t):!r&&o&&s?Io(s,d):r}function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zu(e)}function aw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function j0(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?aw(Object(t),!0).forEach(function(s){GO(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):aw(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function GO(e,r,t){return r=VO(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function VO(e){var r=KO(e,"string");return zu(r)=="symbol"?r:r+""}function KO(e,r){if(zu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(zu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function WO(e,r,t){var s=e.metadata,o=e.countries,l=e.defaultCountry,d=e.value,u=e.reset,f=e.international,m=e.displayInitialValueAsLocalNumber,y=e.initialValueFormat,k=r.defaultCountry,_=r.value,C=r.reset;t.country;var T=t.value,E=t.hasUserSelectedACountry,A=t.latestCountrySelectedByUser,M=function(ce){return Y4(j0(j0({},ce),{},{international:f,useNationalFormat:m||y==="national",metadata:s}))};if(u!==C)return{phoneDigits:M({value:void 0,defaultCountry:l}),value:void 0,country:l,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(l!==k){var B=!l||Th(l,s),H=!T||f&&T===M({value:void 0,defaultCountry:k}),O=!d&&H;if(!E&&B&&O)return{country:l,phoneDigits:M({value:void 0,defaultCountry:l}),value:void 0}}if(!nw(d,_)&&!nw(d,T)){var z,q;if(d){d&&z4(d),z=V4(d,s);var ae=B4(o,s);z&&z.country?(!ae||ae.indexOf(z.country)>=0)&&(q=z.country):(q=K4(d,{country:void 0,countries:ae,metadata:s}),q||l&&d.indexOf(Io(l,s))===0&&(q=l))}var he;if(d){if(A){var ee=q?A===q:Lc(d,A,s);ee?q||(q=A):he={latestCountrySelectedByUser:void 0}}}else he={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return j0(j0({},he),{},{phoneDigits:M({phoneNumber:z,value:d,defaultCountry:l}),value:d,country:d?q:l})}}function nw(e,r){return e===null&&(e=void 0),r===null&&(r=void 0),e===r}var YO=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},td(e)}function sw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,s)}return t}function Q4(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?sw(Object(t),!0).forEach(function(s){$s(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sw(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Uc.apply(this,arguments)}function QO(e,r){if(e==null)return{};var t=XO(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function XO(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function ZO(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ow(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Z4(s.key),s)}}function JO(e,r,t){return r&&ow(e.prototype,r),t&&ow(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eA(e,r,t){return r=ah(r),tA(e,X4()?Reflect.construct(r,t||[],ah(e).constructor):r.apply(e,t))}function tA(e,r){if(r&&(td(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rA(e)}function rA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(X4=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ah(e)}function aA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Jp(e,r)}function Jp(e,r){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},Jp(e,r)}function $s(e,r,t){return r=Z4(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Z4(e){var r=nA(e,"string");return td(r)=="symbol"?r:r+""}function nA(e,r){if(td(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(td(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var sA=function(e){function r(t){var s;ZO(this,r),s=eA(this,r,[t]),$s(s,"setInputRef",function(A){RO([s.props.inputRef,s.inputRef],A)}),$s(s,"isCountrySupportedWithError",function(A){var M=s.props.metadata;return Th(A,M)}),$s(s,"onCountryChange",function(A){var M=s.props,B=M.international,H=M.metadata,O=M.onChange,z=M.focusInputOnCountrySelection,q=s.state,ae=q.phoneDigits,he=q.country,ee=LO(ae,{prevCountry:he,newCountry:A,metadata:H,useNationalFormat:!B}),Ee=Pc(ee,A,H);z&&s.inputRef.current.focus(),s.setState({country:A,latestCountrySelectedByUser:A,hasUserSelectedACountry:!0,phoneDigits:ee,value:Ee},function(){O(Ee)})}),$s(s,"onChange",function(A){var M=s.props,B=M.defaultCountry,H=M.onChange,O=M.addInternationalOption,z=M.international,q=M.limitMaxLength,ae=M.countryCallingCodeEditable,he=M.metadata,ee=s.state,Ee=ee.countries,ce=ee.phoneDigits,ue=ee.country,se=ee.latestCountrySelectedByUser,de=zO(A,{prevPhoneDigits:ce,country:ue,countryRequired:!O,defaultCountry:B,latestCountrySelectedByUser:se,getAnyCountry:function(){return s.getFirstSupportedCountry({countries:Ee})},countries:Ee,international:z,limitMaxLength:q,countryCallingCodeEditable:ae,metadata:he}),pe=de.phoneDigits,ie=de.country,te=de.value,W={phoneDigits:pe,value:te,country:ie};se&&te&&!Lc(te,se,he)&&(W.latestCountrySelectedByUser=void 0),ae===!1&&!te&&pe===s.state.phoneDigits&&(W.forceRerender={}),s.setState(W,function(){return H(te)})}),$s(s,"_onFocus",function(){return s.setState({isFocused:!0})}),$s(s,"_onBlur",function(){return s.setState({isFocused:!1})}),$s(s,"onFocus",function(A){s._onFocus();var M=s.props.onFocus;M&&M(A)}),$s(s,"onBlur",function(A){var M=s.props.onBlur;s._onBlur(),M&&M(A)}),$s(s,"onCountryFocus",function(A){s._onFocus();var M=s.props.countrySelectProps;if(M){var B=M.onFocus;B&&B(A)}}),$s(s,"onCountryBlur",function(A){s._onBlur();var M=s.props.countrySelectProps;if(M){var B=M.onBlur;B&&B(A)}}),s.inputRef=bt.createRef();var o=s.props,l=o.value;o.labels;var d=o.international,u=o.addInternationalOption,f=o.displayInitialValueAsLocalNumber,m=o.initialValueFormat,y=o.metadata,k=s.props,_=k.defaultCountry,C=k.countries;_&&(s.isCountrySupportedWithError(_)||(_=void 0)),l&&z4(l),C=B4(C,y);var T=V4(l,y);s.CountryIcon=q4(s.props);var E=MO({value:l,phoneNumber:T,defaultCountry:_,required:!u,countries:C||Q2(y),getAnyCountry:function(){return s.getFirstSupportedCountry({countries:C})},metadata:y});return s.state={props:s.props,country:E,countries:C,phoneDigits:Y4({value:l,phoneNumber:T,defaultCountry:_,international:d,useNationalFormat:f||m==="national",metadata:y}),value:l},s}return aA(r,e),JO(r,[{key:"componentDidMount",value:function(){var s=this.props.onCountryChange,o=this.props.defaultCountry,l=this.state.country;s&&(o&&(this.isCountrySupportedWithError(o)||(o=void 0)),l!==o&&s(l))}},{key:"componentDidUpdate",value:function(s,o){var l=this.props.onCountryChange,d=this.state.country;l&&d!==o.country&&l(d)}},{key:"getCountrySelectOptions",value:function(s){var o=s.countries,l=this.props,d=l.international,u=l.countryCallingCodeEditable,f=l.countryOptionsOrder,m=l.addInternationalOption,y=l.labels,k=l.locales,_=l.metadata;return this.useMemoCountrySelectOptions(function(){return SO(DO({countries:o||Q2(_),countryNames:y,addInternationalOption:d&&u===!1?!1:m,compareStringsLocales:k}),CO(f,_))},[o,f,m,y,_])}},{key:"useMemoCountrySelectOptions",value:function(s,o){return(!this.countrySelectOptionsMemoDependencies||!iA(o,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=s(),this.countrySelectOptionsMemoDependencies=o),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(s){var o=s.countries,l=this.getCountrySelectOptions({countries:o});return l[0].value}},{key:"render",value:function(){var s=this.props,o=s.name,l=s.disabled,d=s.readOnly,u=s.autoComplete,f=s.style,m=s.className;s.inputRef;var y=s.inputComponent,k=s.numberInputProps,_=s.smartCaret,C=s.countrySelectComponent,T=s.countrySelectProps,E=s.containerComponent,A=s.containerComponentProps;s.defaultCountry,s.countries,s.countryOptionsOrder;var M=s.labels;s.flags,s.flagComponent,s.flagUrl,s.addInternationalOption,s.internationalIcon,s.displayInitialValueAsLocalNumber,s.initialValueFormat,s.onCountryChange,s.limitMaxLength,s.countryCallingCodeEditable,s.focusInputOnCountrySelection,s.reset;var B=s.metadata,H=s.international;s.locales;var O=QO(s,YO),z=this.state,q=z.country,ae=z.countries,he=z.phoneDigits,ee=z.isFocused,Ee=_?tO:oO,ce=this.getCountrySelectOptions({countries:ae});return bt.createElement(E,Uc({style:f,className:X0(m,"PhoneInput",{"PhoneInput--focus":ee,"PhoneInput--disabled":l,"PhoneInput--readOnly":d})},A),bt.createElement(C,Uc({name:o?"".concat(o,"Country"):void 0,"aria-label":M.country},T,{value:q,options:ce,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:l||T&&T.disabled,readOnly:d||T&&T.readOnly,iconComponent:this.CountryIcon})),bt.createElement(Ee,Uc({ref:this.setInputRef,type:"tel",autoComplete:u},k,O,{inputFormat:H===!0?"INTERNATIONAL":H===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:H?!0:void 0,withCountryCallingCode:H?!0:void 0,name:o,metadata:B,country:q,value:he||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:l,readOnly:d,inputComponent:y,className:X0("PhoneInputInput",k&&k.className,O.className)})))}}],[{key:"getDerivedStateFromProps",value:function(s,o){return Q4({props:s},WO(s,o.props,o))}}])}(bt.PureComponent),J4=bt.forwardRef(function(e,r){return bt.createElement(sA,Uc({},oA(e),{inputRef:r}))});J4.propTypes={value:ft.string,onChange:ft.func.isRequired,onFocus:ft.func,onBlur:ft.func,disabled:ft.bool,readOnly:ft.bool,autoComplete:ft.string,initialValueFormat:ft.oneOf(["national"]),displayInitialValueAsLocalNumber:ft.bool,defaultCountry:ft.string,countries:ft.arrayOf(ft.string),labels:G4,locales:ft.oneOfType([ft.string,ft.arrayOf(ft.string)]),flagUrl:ft.string,flags:ft.objectOf(ft.elementType),flagComponent:ft.elementType,addInternationalOption:ft.bool,internationalIcon:ft.elementType,countryOptionsOrder:ft.arrayOf(ft.string),style:ft.object,className:ft.string,countrySelectComponent:ft.elementType,countrySelectProps:ft.object,inputComponent:ft.elementType,numberInputProps:ft.object,containerComponent:ft.elementType,containerComponentProps:ft.object,smartCaret:ft.bool,international:ft.bool,limitMaxLength:ft.bool,countryCallingCodeEditable:ft.bool,metadata:H4,onCountryChange:ft.func,focusInputOnCountrySelection:ft.bool};var iw={autoComplete:"tel",countrySelectComponent:I4,flagComponent:qy,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:Eh,inputComponent:"input",containerComponent:"div",reset:ft.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function oA(e){e=Q4({},e);for(var r in iw)e[r]===void 0&&(e[r]=iw[r]);return e}function iA(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;){if(e[t]!==r[t])return!1;t++}return!0}const lA={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var cA=["metadata","labels"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ey.apply(this,arguments)}function dA(e,r){if(e==null)return{};var t=uA(e,r),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function uA(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function ej(e){var r=bt.forwardRef(function(t,s){var o=t.metadata,l=o===void 0?e:o,d=t.labels,u=d===void 0?lA:d,f=dA(t,cA);return bt.createElement(J4,ey({},f,{ref:s,metadata:l,labels:u}))});return r.propTypes={metadata:H4,labels:G4},r}ej();const lw=ej(H8),fA=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Runion"},{"value":"BL","label":"Saint Barthlemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),hA=JSON.parse(`[{"value":"AF","label":""},{"value":"AX","label":"land"},{"value":"AL","label":"Shqipria"},{"value":"DZ","label":""},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":""},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"sterreich"},{"value":"AZ","label":"Azrbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":""},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":""},{"value":"BE","label":"Belgi"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bnin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"brug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":""},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kmpcha"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Kdrsse t Bafrka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":""},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"Rpublique du Congo"},{"value":"CD","label":"Rpublique dmocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":""},{"value":"CZ","label":"esk republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Repblica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":""},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":""},{"value":"EE","label":"Eesti"},{"value":"ET","label":""},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Froyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane franaise"},{"value":"PF","label":"Polynsie franaise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":""},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":""},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guine"},{"value":"GW","label":"Guin-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Hati"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":""},{"value":"HU","label":"Magyarorszg"},{"value":"IS","label":"sland"},{"value":"IN","label":""},{"value":"ID","label":"Indonesia"},{"value":"IR","label":""},{"value":"IQ","label":""},{"value":"IE","label":"ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":""},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":""},{"value":"JE","label":"Jersey"},{"value":"JO","label":""},{"value":"KZ","label":""},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":""},{"value":"KR","label":""},{"value":"KW","label":""},{"value":"KG","label":""},{"value":"LA","label":""},{"value":"LV","label":"Latvija"},{"value":"LB","label":""},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":""},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":""},{"value":"MK","label":" "},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Maje"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":""},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mxico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":" "},{"value":"ME","label":" "},{"value":"MS","label":"Montserrat"},{"value":"MA","label":""},{"value":"MZ","label":"Moambique"},{"value":"MM","label":""},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":""},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Caldonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":""},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":""},{"value":"PA","label":"Panam"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":""},{"value":"RE","label":"La Runion"},{"value":"RO","label":"Romnia"},{"value":"RU","label":""},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthlemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"So Tom e Prncipe"},{"value":"SA","label":" "},{"value":"SN","label":"Sngal"},{"value":"RS","label":""},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espaa"},{"value":"LK","label":"r lakva"},{"value":"SD","label":""},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":""},{"value":"TW","label":""},{"value":"TJ","label":""},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":""},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":""},{"value":"TR","label":"Trkiye"},{"value":"TM","label":"Trkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":""},{"value":"AE","label":"   "},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Ozbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vit Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":" "},{"value":"YE","label":""},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var qg,cw;function mA(){if(cw)return qg;cw=1;class e{constructor(){this.data=fA,this.labelMap={},this.valueMap={},this.data.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label})}getValue(s){return this.labelMap[s.toLowerCase()]}getLabel(s){return this.valueMap[s.toLowerCase()]}getLabels(){return this.data.map(s=>s.label)}getValues(){return this.data.map(s=>s.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(s,o){return this.data.forEach(l=>{l.value===s&&(l.label=o,this.valueMap[l.value.toLowerCase()]=l.label)}),this}setEmpty(s){return this.data.unshift({value:"",label:s}),this.valueMap[""]=s,this.labelMap[s]="",this}native(){return this.nativeData=hA,this.nativeData.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label}),this}}return qg=()=>{if(!(this instanceof e))return new e},qg}var gA=mA();const pA=Pl(gA);function Al({customer:e,onClose:r,onSave:t,isFullPage:s=!1,prefilledName:o="",prefilledData:l={}}){const{createCustomer:d,updateCustomer:u}=o2(),f=!!e,[m,y]=S.useState(!1),[k,_]=S.useState(null),{posDetails:C}=cn(),T=pA().getData(),[E,A]=S.useState({customer_type:"individual",name:"",contactName:"",email:"",phone:"",address:{addressType:"Billing",street:"",buildingNumber:"",city:"",state:"",zipCode:"",country:"Nepal"},status:"active",vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",customer_group:"All Customer Groups",territory:"All Territories"});S.useEffect(()=>{if(C&&!f){let X="individual";C.business_type==="B2B"?X="company":(C.business_type==="B2C"||C.business_type==="B2B & B2C")&&(X="individual"),A(oe=>_e(Y({},oe),{customer_type:X}))}},[C,f]);const[M,B]=S.useState({}),[H,O]=S.useState([]),[z,q]=S.useState(!0),[ae,he]=S.useState([]),[ee,Ee]=S.useState(!0),{getCustomerGroups:ce,getTerritories:ue}=o2(),se=S.useRef(!1);S.useEffect(()=>{Ne(null,null,function*(){try{const oe=yield ce();O(oe),q(!1);const Ue=yield ue();he(Ue),Ee(!1)}catch(oe){console.error("Error fetching customer groups or territories:",oe),q(!1),Ee(!1)}})},[]),S.useEffect(()=>{var X,oe,Ue,it,yt,et,xt;if(e&&!se.current){const Tt={customer_type:e.type||"individual",name:e.name,contactName:e.contactPerson||"",email:e.email,phone:e.phone,address:{addressType:((X=e.address)==null?void 0:X.addressType)||"Billing",street:((oe=e.address)==null?void 0:oe.street)||"",buildingNumber:((Ue=e.address)==null?void 0:Ue.buildingNumber)||"",city:((it=e.address)==null?void 0:it.city)||"",state:((yt=e.address)==null?void 0:yt.state)||"",zipCode:((et=e.address)==null?void 0:et.zipCode)||"",country:((xt=e.address)==null?void 0:xt.country)||"Nepal"},status:e.status,vatNumber:e.taxId||"",registrationScheme:e.registrationScheme||"",registrationNumber:e.registrationNumber||"",preferredPaymentMethod:e.preferredPaymentMethod||"Cash",customer_group:e.customer_group||"All Customer Groups",territory:e.territory||"All Territories"};A(Tt),se.current=!0}else l&&Object.keys(l).length>0&&!se.current?(A(Tt=>_e(Y({},Tt),{name:l.name||Tt.name,email:l.email||Tt.email,phone:l.phone||Tt.phone})),se.current=!0):o&&!se.current&&(A(Tt=>_e(Y({},Tt),{name:o})),se.current=!0)},[e==null?void 0:e.id,e==null?void 0:e.name,o,l,e]),S.useEffect(()=>{se.current=!1},[e==null?void 0:e.id]);const de=(C==null?void 0:C.business_type)==="B2B",pe=(C==null?void 0:C.business_type)==="B2C",ie=(C==null?void 0:C.business_type)==="B2B & B2C",te=()=>de?[{value:"company",label:"Company",icon:yu,desc:"Business customer"}]:pe?[{value:"individual",label:"Individual",icon:Wn,desc:"Personal customer"}]:ie?[{value:"individual",label:"Individual",icon:Wn,desc:"Personal customer"},{value:"company",label:"Company",icon:yu,desc:"Business customer"}]:[{value:"individual",label:"Individual",icon:Wn,desc:"Personal customer"},{value:"company",label:"Company",icon:yu,desc:"Business customer"}],W=()=>{const X={},oe=Ue=>Ue.trim()?Ue.replace(/\D/g,"").length>=10:!1;if(E.customer_type==="company"?(E.name.trim()||(X.name="Customer name is required"),E.contactName.trim()||(X.contactName="Contact name is required"),!E.email.trim()&&!E.phone.trim()&&(X.contact="Either email or phone number must be provided"),E.phone.trim()&&!oe(E.phone)&&(X.phone="Phone number must have at least 10 digits including country code")):E.customer_type==="individual"&&(!E.email.trim()&&!E.phone.trim()?X.contact="Either email or phone number must be provided":E.phone.trim()&&!oe(E.phone)&&(X.phone="Phone number must have at least 10 digits including country code")),E.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.email)&&(X.email="Please enter a valid email address"),E.customer_type==="company"&&(C!=null&&C.is_zatca_enabled)&&(!E.vatNumber.trim()&&!E.registrationNumber.trim()&&(X.vatOrRegistration="Either VAT number or Registration number must be provided"),E.registrationScheme&&E.registrationScheme!==""&&!E.registrationNumber.trim()&&(X.registrationNumber="Registration number is required when registration scheme is selected"),E.vatNumber.trim()&&(/^[3]\d{13}[3]$/.test(E.vatNumber.trim())||(X.vatNumber="VAT number must be 15 digits, start with 3 and end with 3 (ZATCA format)"))),E.customer_type==="company"&&C&&C.is_zatca_enabled===!0&&(E.address.street.trim()||(X.street="Street address is required for company"),E.address.buildingNumber.trim()?E.address.buildingNumber.trim().length!==4&&(X.buildingNumber="Building number must be exactly 4 digits"):X.buildingNumber="Building number is required for company",E.address.city.trim()||(X.city="City is required for company"),E.address.state.trim()||(X.state="State/Province is required for company"),E.address.zipCode.trim()||(X.zipCode="Zip code is required for company")),B(X),Object.keys(X).length>0){const Ue=Object.keys(X)[0];return Ue&&Ye.error(X[Ue]),!1}return!0},be=X=>Ne(null,null,function*(){if(X.preventDefault(),_(null),!!W()){y(!0);try{const oe=Y({name:E.name,customer_type:E.customer_type==="individual"?"Individual":"Company",email:E.email,phone:E.phone,address:E.address,preferredPaymentMethod:E.preferredPaymentMethod,customer_group:E.customer_group,territory:E.territory},E.customer_type==="company"&&{contactName:E.contactName,vatNumber:E.vatNumber||void 0,registrationScheme:E.registrationScheme||void 0,registrationNumber:E.registrationNumber||void 0});if(f&&(e!=null&&e.id)){const Ue=yield u(e.id,oe);t(_e(Y({},Ue),{id:e.id}))}else{const Ue=yield d(oe);t(_e(Y({},Ue),{id:Ue.customer_name,name:E.name,type:E.customer_type,email:E.email,phone:E.phone,address:E.address,preferredPaymentMethod:E.preferredPaymentMethod,customer_group:E.customer_group,territory:E.territory}))}r()}catch(oe){console.error("Customer save error:",oe),_(oe instanceof Error?oe.message:"Failed to save customer. Please try again.")}finally{y(!1)}}}),V=[{value:"Commercial Registration number(CRN)",label:"Commercial Registration number(CRN)"},{value:"MOMRAH(MOM)",label:"MOMRAH(MOM)"},{value:"MHRSD(MLS)",label:"MHRSD(MLS)"},{value:"700(700)",label:"700(700)"},{value:"MISA(SAG)",label:"MISA(SAG)"},{value:"Other OD(OTH)",label:"Other OD(OTH)"}],U=[{value:"Cash",label:"Cash"},{value:"Bank Card",label:"Bank Card"},{value:"Bank Payment",label:"Bank Payment"},{value:"Credit",label:"Credit"}],ne=[{value:"Billing",label:"Billing"},{value:"Shipping",label:"Shipping"},{value:"Office",label:"Office"},{value:"Personal",label:"Personal"},{value:"Plant",label:"Plant"},{value:"Postal",label:"Postal"},{value:"Shop",label:"Shop"},{value:"Subsidiary",label:"Subsidiary"},{value:"Warehouse",label:"Warehouse"},{value:"Current",label:"Current"},{value:"Permanent",label:"Permanent"},{value:"Other",label:"Other"}],me=te(),le=()=>{const X=oe=>oe.trim()?oe.replace(/\D/g,"").length>=10:!1;if(E.customer_type==="individual"){const oe=E.email.trim()!=="",Ue=X(E.phone);return oe||Ue}else if(E.customer_type==="company"){const oe=E.name.trim()!==""&&E.contactName.trim()!==""&&(E.email.trim()!==""||X(E.phone)),Ue=!(C!=null&&C.is_zatca_enabled)||E.address.street.trim()!==""&&E.address.buildingNumber.trim()!==""&&E.address.buildingNumber.trim().length===4&&E.address.city.trim()!==""&&E.address.state.trim()!==""&&E.address.zipCode.trim()!=="",it=oe&&Ue;if(C&&C.is_zatca_enabled===!0){const yt=E.vatNumber.trim()!==""||E.registrationNumber.trim()!=="";return it&&yt}return it}return!1};return a.jsx("div",{className:s?"h-full":"fixed inset-0 bg-black/70 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:s?"h-full bg-white dark:bg-gray-800 flex flex-col":"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[!s&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f?"Edit Customer":"Add New Customer"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx(ln,{size:24})})]}),a.jsxs("form",{onSubmit:be,className:s?"flex-1 flex flex-col":"flex flex-col h-full",children:[a.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[a.jsxs("div",{children:[(C==null?void 0:C.business_type)==="B2B & B2C"?a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:me.map(X=>{const oe=X.icon;return a.jsxs("label",{className:`relative flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700 ${E.customer_type===X.value?"border-beveren-500 bg-beveren-50 dark:bg-beveren-900/20":"border-gray-200 dark:border-gray-600"}`,children:[a.jsx("input",{type:"radio",name:"customerType",value:X.value,checked:E.customer_type===X.value,onChange:Ue=>{A(it=>_e(Y({},it),{customer_type:Ue.target.value}))},className:"sr-only"}),a.jsx(oe,{size:24,className:`mb-2 ${E.customer_type===X.value?"text-beveren-600":"text-gray-400"}`}),a.jsx("span",{className:`font-medium text-sm ${E.customer_type===X.value?"text-beveren-900 dark:text-beveren-100":"text-gray-900 dark:text-white"}`,children:X.label}),a.jsx("span",{className:`text-xs text-center mt-1 ${E.customer_type===X.value?"text-beveren-700 dark:text-beveren-300":"text-gray-500 dark:text-gray-400"}`,children:X.desc})]},X.value)})})]}):a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),a.jsx("div",{className:"bg-beveren-50 dark:bg-beveren-900/20 border-2 border-beveren-500 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[E.customer_type==="company"?a.jsx(yu,{size:24,className:"text-beveren-600 mr-3"}):a.jsx(Wn,{size:24,className:"text-beveren-600 mr-3"}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-beveren-900 dark:text-beveren-100",children:[E.customer_type==="company"?"Company":"Individual"," ","Customer"]}),a.jsx("p",{className:"text-sm text-beveren-700 dark:text-beveren-300 mt-1",children:E.customer_type==="company"?"Business customer (B2B)":"Personal customer (B2C)"})]})]})})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Wn,{size:20,className:"mr-2"}),"Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Customer Name",E.customer_type==="company"&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",value:E.name,onChange:X=>A(oe=>_e(Y({},oe),{name:X.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${M.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),M.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.name})]}),E.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Country"}),a.jsx("input",{list:"country-list",id:"country",value:E.address.country,onChange:X=>A(oe=>_e(Y({},oe),{address:_e(Y({},oe.address),{country:X.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),a.jsx("datalist",{id:"country-list",children:T.map(X=>a.jsx("option",{value:X.label},X.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customer_group",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Group"}),a.jsx("select",{id:"customer_group",value:E.customer_group,onChange:X=>A(oe=>_e(Y({},oe),{customer_group:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:z,children:z?a.jsx("option",{children:"Loading..."}):H.map(X=>a.jsx("option",{value:X.name,children:X.customer_group_name},X.name))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"territory",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Territory"}),a.jsxs("select",{id:"territory",value:E.territory,onChange:X=>A(oe=>_e(Y({},oe),{territory:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:ee,children:[a.jsx("option",{value:"All Territories",children:"All Territories"}),ae.map(X=>a.jsx("option",{value:X.name,children:X.territory_name||X.name},X.name))]}),ee&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading territories..."})]})]})]}),E.customer_type==="individual"&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mt-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Cl,{size:20,className:"mr-2"}),"Contact Information",a.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:E.email,onChange:X=>A(oe=>_e(Y({},oe),{email:X.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${M.email||M.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),M.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.email})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx(lw,{id:"phone",international:!0,defaultCountry:"NP",value:E.phone,onChange:X=>A(oe=>_e(Y({},oe),{phone:X||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${M.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),M.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.phone})]})})]}),M.contact&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.contact})]})]}),E.customer_type==="company"&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Cl,{size:20,className:"mr-2"}),"Contact Information",E.customer_type==="company"&&a.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Contact Name"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"contactName",value:E.contactName,onChange:X=>A(oe=>_e(Y({},oe),{contactName:X.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${M.contactName?"border-red-500":"border-gray-300"}`,placeholder:"Enter contact person name"}),M.contactName&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.contactName})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:E.email,onChange:X=>A(oe=>_e(Y({},oe),{email:X.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${M.email||M.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),M.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx(lw,{id:"phone",international:!0,defaultCountry:"NP",value:E.phone,onChange:X=>A(oe=>_e(Y({},oe),{phone:X||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${M.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),M.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.phone})]}),M.contact&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.contact})]}),E.customer_type==="company"&&C&&C.is_zatca_enabled===!0&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(is,{size:20,className:"mr-2"}),"ZATCA Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),a.jsx("select",{id:"paymentMethod",value:E.preferredPaymentMethod,onChange:X=>A(oe=>_e(Y({},oe),{preferredPaymentMethod:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:U.map(X=>a.jsx("option",{value:X.value,children:X.label},X.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Number"}),a.jsx("input",{type:"text",id:"vatNumber",value:E.vatNumber,onChange:X=>A(oe=>_e(Y({},oe),{vatNumber:X.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${M.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter VAT number"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationScheme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Scheme"}),a.jsxs("select",{id:"registrationScheme",value:E.registrationScheme,onChange:X=>A(oe=>_e(Y({},oe),{registrationScheme:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Registration Scheme"}),V.map(X=>a.jsx("option",{value:X.value,children:X.label},X.value))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Registration Number"," ",E.registrationScheme&&E.registrationScheme!==""?"*":""]}),a.jsx("input",{type:"text",id:"registrationNumber",value:E.registrationNumber,onChange:X=>A(oe=>_e(Y({},oe),{registrationNumber:X.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${M.registrationNumber||M.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter registration number"}),M.registrationNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.registrationNumber})]})]}),M.vatOrRegistration&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.vatOrRegistration})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(wu,{size:20,className:"mr-2"}),"Address",E.customer_type==="company"?"":" (Optional)"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"addressType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Type"}),a.jsx("select",{id:"addressType",value:E.address.addressType,onChange:X=>A(oe=>_e(Y({},oe),{address:_e(Y({},oe.address),{addressType:X.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:ne.map(X=>a.jsx("option",{value:X.value,children:X.label},X.value))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address",E.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"street",value:E.address.street,onChange:X=>A(oe=>_e(Y({},oe),{address:_e(Y({},oe.address),{street:X.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${M.street?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter street address"}),M.street&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.street})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"buildingNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Building Number (4 digits)",E.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"buildingNumber",value:E.address.buildingNumber,onChange:X=>{const oe=X.target.value.replace(/\D/g,"");oe.length<=4&&A(Ue=>_e(Y({},Ue),{address:_e(Y({},Ue.address),{buildingNumber:oe})}))},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${M.buildingNumber?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"1234",maxLength:4}),M.buildingNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.buildingNumber})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["City",E.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"city",value:E.address.city,onChange:X=>A(oe=>_e(Y({},oe),{address:_e(Y({},oe.address),{city:X.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${M.city?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter city"}),M.city&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.city})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["State/Province",E.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"state",value:E.address.state,onChange:X=>A(oe=>_e(Y({},oe),{address:_e(Y({},oe.address),{state:X.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${M.state?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter state/province"}),M.state&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.state})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Zip Code",E.customer_type==="company"&&(C==null?void 0:C.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"zipCode",value:E.address.zipCode,onChange:X=>A(oe=>_e(Y({},oe),{address:_e(Y({},oe.address),{zipCode:X.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${M.zipCode?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter zip code"}),M.zipCode&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.zipCode})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),a.jsx("input",{list:"country-list",id:"country",value:E.address.country,onChange:X=>A(oe=>_e(Y({},oe),{address:_e(Y({},oe.address),{country:X.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),a.jsx("datalist",{id:"country-list",children:T.map(X=>a.jsx("option",{value:X.label},X.value))})]})]})]})]}),k&&a.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:k})]}),a.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:m||!le(),className:`px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 ${m||!le()?"opacity-50 cursor-not-allowed":""}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),a.jsx("span",{children:f?"Updating...":"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Q3,{size:18}),a.jsx("span",{children:f?"Update Customer":"Save Customer"})]})})})})]})]})})}function Oh(e){const[r,t]=S.useState([]),[s,o]=S.useState(!0),[l,d]=S.useState(null),[u,f]=S.useState(0),[m,y]=S.useState(!1),[k,_]=S.useState(0),C=(A,M=!1)=>Ne(null,null,function*(){o(!0);try{const B=new URLSearchParams;A&&B.set("search",A),B.set("limit","100"),B.set("start",String(M?u:0));const H=`?${B.toString()}`,z=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customers${H}`)).json();if(!z.message.success)throw new Error(z.error||"Failed to fetch customers");const ae=z.message.data.map(Ee=>{var ce,ue,se,de,pe,ie,te,W;return{id:Ee.name,type:Ee.customer_type==="Company"?"company":"individual",name:Ee.customer_name||`Customer ${Ee.name.slice(0,5)}`,email:((ce=Ee.contact)==null?void 0:ce.email_id)||"",phone:((ue=Ee.contact)==null?void 0:ue.mobile_no)||((se=Ee.contact)==null?void 0:se.phone)||"",address:{street:((de=Ee.address)==null?void 0:de.address_line1)||"",city:((pe=Ee.address)==null?void 0:pe.city)||"",state:((ie=Ee.address)==null?void 0:ie.state)||"",zipCode:((te=Ee.address)==null?void 0:te.pincode)||"",country:((W=Ee.address)==null?void 0:W.country)||""},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:Ee.custom_total_spent||0,totalOrders:Ee.custom_total_orders||0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),lastVisit:Ee.custom_last_visit||void 0,avatar:void 0,defaultCurrency:Ee.default_currency,companyCurrency:Ee.company_currency}});t(Ee=>M?[...Ee,...ae]:ae);const he=z.message.total_count||0;_(he);const ee=(M?u:0)+ae.length;f(ee),y(ee<he)}catch(B){d(B)}finally{o(!1)}});return S.useEffect(()=>{f(0),y(!1),_(0);const A=setTimeout(()=>{C(e,!1)},e?300:0);return()=>clearTimeout(A)},[e]),{customers:r,isLoading:s,error:l,refetch:C,addCustomer:A=>{t(M=>[A,...M])},hasMore:m,totalCount:k,loadMore:()=>Ne(null,null,function*(){m&&(yield C(e,!0))})}}function yA(e){const[r,t]=S.useState(null),[s,o]=S.useState(!1),[l,d]=S.useState(null);return S.useEffect(()=>{if(!e)return;Ne(null,null,function*(){var f,m,y,k,_,C,T,E,A,M;o(!0);try{console.log("Fetching customer details for ID:",e);const H=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(e)}`)).json();if(console.log("Customer API response:",H),!H.message||H.message.success===!1)throw new Error(((f=H.message)==null?void 0:f.error)||"Failed to fetch customer");const O=H.message,z={id:O.name,type:O.customer_type==="Company"?"company":"individual",name:O.customer_name||`Customer ${O.name.slice(0,5)}`,email:((m=O.contact_data)==null?void 0:m.email_id)||O.email_id||"",phone:((y=O.contact_data)==null?void 0:y.mobile_no)||((k=O.contact_data)==null?void 0:k.phone)||O.mobile_no||"",address:{addressType:"Billing",street:((_=O.address_data)==null?void 0:_.address_line1)||"",buildingNumber:((C=O.address_data)==null?void 0:C.address_line2)||"",city:((T=O.address_data)==null?void 0:T.city)||"",state:((E=O.address_data)==null?void 0:E.state)||"",zipCode:((A=O.address_data)==null?void 0:A.pincode)||"",country:((M=O.address_data)==null?void 0:M.country)||"Saudi Arabia"},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:O.payment_method||"Cash",notes:"",tags:[],status:"active",createdAt:O.creation||new Date().toISOString(),lastVisit:void 0,avatar:void 0,defaultCurrency:void 0,companyCurrency:void 0,customer_group:O.customer_group||"All Customer Groups",territory:O.territory||"All Territories",contactPerson:O.contact_data?`${O.contact_data.first_name||""} ${O.contact_data.last_name||""}`.trim()||O.customer_name:O.customer_name||"",companyName:O.customer_type==="Company"?O.customer_name:void 0,taxId:O.vat_number||"",industry:O.industry||"",employeeCount:O.employee_count||"",registrationScheme:O.registration_scheme||"",registrationNumber:O.registration_number||""};t(z)}catch(B){B instanceof Error?d(B.message):d("Unknown error")}finally{o(!1)}})},[e]),{customer:r,isLoading:s,error:l}}function xA(e){return Ne(this,null,function*(){const t=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(e)}`)).json();if(t!=null&&t.message&&Array.isArray(t.message))return t.message;throw new Error("Invalid response format")})}function bA(e){return Ne(this,null,function*(){try{const r=yield fetch(`/api/method/klik_pos.api.item.get_serial_nos_for_item?item_code=${encodeURIComponent(e)}`);if(!r.ok)return[];const t=yield r.json();return Array.isArray(t==null?void 0:t.message)?t.message.map(s=>typeof s.serial_no=="string"?s.serial_no:"").filter(Boolean):[]}catch(r){return[]}})}function tj(e){const[r,t]=S.useState(null),[s,o]=S.useState(!1),[l,d]=S.useState(null),u=()=>Ne(null,null,function*(){var f,m;if(!e){t(null);return}o(!0),d(null);try{const y=yield fetch(`/api/method/klik_pos.api.customer.get_customer_statistics?customer_id=${encodeURIComponent(e)}`);if(!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const k=yield y.json();if((f=k==null?void 0:k.message)!=null&&f.success)t(k.message.data);else throw new Error(((m=k==null?void 0:k.message)==null?void 0:m.error)||"Failed to fetch customer statistics")}catch(y){console.error("Error fetching customer statistics:",y),d(y.message||"Failed to fetch customer statistics"),t(null)}finally{o(!1)}});return S.useEffect(()=>{u()},[e]),{statistics:r,isLoading:s,error:l,refetch:u}}function vA(){const[e,r]=S.useState(!1);return{checkCustomerPermission:S.useCallback(s=>Ne(null,null,function*(){var o;if(!s)return{success:!1,has_permission:!1,customer_name:"",business_type:"",customer_groups:[],user_permissions:0,error:"Customer name is required"};r(!0);try{const l=yield fetch(`/api/method/klik_pos.api.customer.check_customer_permission?customer_name=${encodeURIComponent(s)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const d=yield l.json();if(!d.message||d.message.success===!1)throw new Error(((o=d.message)==null?void 0:o.error)||"Failed to check customer permission");return d.message}catch(l){return console.error("Error checking customer permission:",l),{success:!1,has_permission:!1,customer_name:s,business_type:"",customer_groups:[],user_permissions:0,error:l.message||"Failed to check customer permission"}}finally{r(!1)}}),[]),isChecking:e}}const wA=({item:e,onUpdateQuantity:r,isMobile:t})=>{const[s,o]=S.useState(e.quantity.toString()),[l,d]=S.useState(!1);S.useEffect(()=>{l||o(e.quantity.toString())},[e.quantity,l]);const u=y=>{const k=y.target.value;o(k)},f=()=>{d(!1);const y=Number(s);isNaN(y)||y<=0?(o(e.quantity.toString()),y<=0&&r(e.id,0)):(o(y.toString()),r(e.id,y))},m=()=>{d(!0)};return a.jsx("input",{type:"number",step:"0.01",min:"0",value:s,onChange:u,onFocus:m,onBlur:f,className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})},jA=({item:e,onUOMChange:r,isMobile:t,selectedCustomer:s})=>{const[o,l]=S.useState(["Nos"]),[d,u]=S.useState(e.uom||"Nos"),[f,m]=S.useState(""),[y,k]=S.useState(!1);S.useEffect(()=>{Ne(null,null,function*(){var E;try{const A=e.item_code||e.id;if(A){const M=s!=null&&s.id?`&customer=${s.id}`:"",B=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${A}${M}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(B.ok){const H=yield B.json();if((E=H==null?void 0:H.message)!=null&&E.uoms){const O=H.message.uoms.map(z=>z.uom);l(O)}else l(["Nos"])}else l(["Nos"])}else l(["Nos"])}catch(A){console.error(" Error loading item-specific UOMs:",A),l(["Nos"])}})},[e.id,e.item_code,s==null?void 0:s.id]),S.useEffect(()=>{u(e.uom||"Nos")},[e.uom]);const _=o.filter(T=>T.toLowerCase().includes(f.toLowerCase())),C=T=>Ne(null,null,function*(){var E,A;u(T),k(!1),m("");try{const M=e.item_code||e.id;if(M){const B=s!=null&&s.id?`&customer=${s.id}`:"",H=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${M}${B}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(H.ok){const O=yield H.json();if((E=O==null?void 0:O.message)!=null&&E.uoms){const z=O.message.uoms.find(q=>q.uom===T);if(z&&z.price!==void 0)console.log(` Found UOM data for ${T}:`,z),r(e.id,T,z.price);else{console.warn(` UOM data not found for ${T}. Available UOMs:`,O.message.uoms.map(q=>q.uom));try{const q=e.item_code||e.id,ae=s!=null&&s.id?`&customer=${s.id}`:"",he=yield fetch(`/api/method/klik_pos.api.item.get_item_price_for_customer?item_code=${q}&uom=${encodeURIComponent(T)}${ae}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(he.ok){const ee=yield he.json();(A=ee==null?void 0:ee.message)!=null&&A.success&&ee.message.price>0?(console.log(` Got price from fallback API for ${T}:`,ee.message.price),r(e.id,T,ee.message.price)):console.error(` Fallback API returned invalid price for ${T}`)}}catch(q){console.error(` Error in fallback price fetch for ${T}:`,q)}}}else console.error(" No UOMs data in API response")}}}catch(M){console.error(" Error fetching UOM pricing:",M)}});return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>k(!y),className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{children:d}),a.jsx("svg",{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Search UOM...",value:f,onChange:T=>m(T.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-48 overflow-y-auto",children:_.length>0?_.map(T=>a.jsx("button",{type:"button",onClick:()=>C(T),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${T===d?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:T},T)):a.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No UOMs found"})})]})]})},NA=({itemId:e,itemCode:r,options:t,value:s,onChange:o,isMobile:l})=>{const[d,u]=S.useState(!1),[f,m]=S.useState(""),y=t.filter(_=>_.batch_id.toLowerCase().includes(f.toLowerCase())),k=_=>{var T;const C=((T=t.find(E=>E.batch_id===_))==null?void 0:T.qty)||0;o(_,C),u(!1),m("")};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>u(!d),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:s||"Select Batch"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[a.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Filter batch...",value:f,onChange:_=>m(_.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-36 overflow-y-auto",children:y.length>0?y.map(_=>a.jsxs("button",{type:"button",onClick:()=>k(_.batch_id),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===_.batch_id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:[_.batch_id," - ",_.qty]},_.batch_id)):a.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})},kA=({itemId:e,itemCode:r,options:t,value:s,onChange:o,isMobile:l})=>{const[d,u]=S.useState(!1),[f,m]=S.useState(""),y=t.filter(_=>_.toLowerCase().includes(f.toLowerCase())),k=_=>{o(_),u(!1),m("")};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>u(!d),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:s||"Select Serial"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[a.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Filter serial...",value:f,onChange:_=>m(_.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-36 overflow-y-auto",children:y.length>0?y.map(_=>a.jsx("button",{type:"button",onClick:()=>k(_),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===_?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:_},_)):a.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})};function rj({cartItems:e,onUpdateQuantity:r,onRemoveItem:t,onClearCart:s,appliedCoupons:o,onRemoveCoupon:l,isMobile:d=!1}){const{selectedCustomer:u,setSelectedCustomer:f,updateUOM:m,updatePricesForCustomer:y}=Il(),[k,_]=S.useState(!1),[C,T]=S.useState(!0);S.useEffect(()=>{const ve=setTimeout(()=>{T(!1)},2e3);return()=>clearTimeout(ve)},[]),S.useEffect(()=>{!C&&u&&e.length>0&&y(u.id)},[u==null?void 0:u.id,e.length,C,y]);const[E,A]=S.useState(""),[M,B]=S.useState(!1),[H,O]=S.useState(!1),[z,q]=S.useState(!1),{customers:ae,isLoading:he,refetch:ee}=Oh(E),{refreshStockOnly:Ee,updateBatchQuantitiesForItems:ce}=dh(),{posDetails:ue,loading:se}=cn(),{checkCustomerPermission:de}=vA(),{statistics:pe}=tj((u==null?void 0:u.id)||null),[ie,te]=S.useState(""),[W,be]=S.useState({}),V=ue==null?void 0:ue.currency_symbol,U=S.useCallback((ve,Ze,Ge)=>{const pt=e.find(ct=>ct.id===ve);pt&&console.log("  Before Update:",{name:pt.name,uom:pt.uom,price:pt.price,quantity:pt.quantity}),m(ve,Ze,Ge),setTimeout(()=>{},100)},[m,e]),[ne,me]=S.useState({}),[le,X]=S.useState({}),[oe,Ue]=S.useState({}),[it,yt]=S.useState({}),[et,xt]=S.useState(new Set),Tt=ve=>{const Ze=ne[ve.id]||{discountPercentage:0,discountAmount:0};let Ge=ve.price;return Ze.discountPercentage>0&&(Ge=ve.price*(1-Ze.discountPercentage/100)),Ze.discountAmount>0&&(Ge=Math.max(0,Ge-Ze.discountAmount)),Math.max(0,Ge)},gr=e.reduce((ve,Ze)=>{const Ge=Tt(Ze);return ve+Ge*Ze.quantity},0),xe=e.reduce((ve,Ze)=>{const Ge=Ze.price*Ze.quantity,pt=Tt(Ze)*Ze.quantity;return ve+(Ge-pt)},0),st=o.reduce((ve,Ze)=>ve+Ze.value,0),Ot=Math.max(0,gr-st),ye=ve=>{if(ve.key==="Enter"&&E.trim()!=="")if(lt.length===0){const Ze=E.trim();let Ge={};if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ze))Ge={email:Ze};else if(/^[\d\s+()-]+$/.test(Ze)&&Ze.replace(/[\s+()-]/g,"").length>=7){let pt=Ze;const ct=Ze.replace(/[\s+()-]/g,"");!ct.startsWith("966")&&!ct.startsWith("+966")?ct.startsWith("0")?pt="+966"+ct.substring(1):pt="+966"+ct:ct.startsWith("966")&&!ct.startsWith("+966")&&(pt="+"+ct),Ge={phone:pt}}else console.log("Detected name:",Ze),Ge={name:Ze};be(Ge),te(Ze),O(!0),B(!1)}else lt.length===1&&!k&&lt[0]&&Kt(lt[0])},Xe=(ve,Ze,Ge)=>{me(pt=>_e(Y({},pt),{[ve]:_e(Y({},pt[ve]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:150}),{[Ze]:typeof Ge=="string"?Ge:Math.max(0,Ge)})}))},lt=E.trim()===""?ae:ae.filter(ve=>ve.name.toLowerCase().includes(E.toLowerCase())||ve.email.toLowerCase().includes(E.toLowerCase())||ve.phone.includes(E)||ve.tags.some(Ze=>Ze.toLowerCase().includes(E.toLowerCase()))),mr=()=>u?!0:(Ye.error("Kindly choose customer"),!1),Kt=ve=>{f(ve),A(ve.name),B(!1),_(!1)},J=ve=>Ne(null,null,function*(){var Ze;if(ve&&ve.customer_name)try{const Ge=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(ve.customer_name)}`);if(!Ge.ok)throw new Error(`HTTP ${Ge.status}: ${Ge.statusText}`);const pt=yield Ge.json();if(pt.message){const ct=pt.message,Ut={id:ct.name,name:ct.customer_name||ct.name,email:ct.email_id||"",phone:ct.mobile_no||"",type:ct.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:ct.custom_loyalty_points||0,totalSpent:ct.custom_total_spent||0,totalOrders:ct.custom_total_orders||0,preferredPaymentMethod:"Cash",tags:((Ze=ct.custom_tags)==null?void 0:Ze.split(",").filter(Boolean))||[],status:ct.custom_status||"active",createdAt:ct.creation||new Date().toISOString()};f(Ut),A(""),ee&&ee()}}catch(Ge){console.error("Error fetching customer details:",Ge);const pt={id:ve.customer_name||"",name:ve.customer_name||"",email:"",phone:"",type:"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",tags:[],status:"active",createdAt:new Date().toISOString()};f(pt),A("")}O(!1),te(""),be({})}),qe=ve=>Ne(null,null,function*(){console.log("OrderSummary: Payment completed, invoice created - modal stays open for preview",ve)}),Ve=ve=>Ne(null,null,function*(){q(!1),ve?ht():console.log("OrderSummary: Payment was not completed - keeping cart items");try{(yield Ee())||console.log("OrderSummary: No stock updates needed");const Ge=e.map(pt=>pt.item_code||pt.id);if(Ge.length>0)try{yield ce(Ge)}catch(pt){console.error("OrderSummary: Failed to update batch quantities:",pt)}}catch(Ze){console.error("OrderSummary: Failed to refresh stock:",Ze);const Ge=(Ze==null?void 0:Ze.message)||"Unknown error";Ye.error(`Failed to update stock: ${Ge}`)}}),dt=ve=>Ne(null,null,function*(){if(!u){Ye.error("Kindly select a customer");return}try{q(!1);const Ze=yield u4(ve);Ze&&Ze.success?(ht(),Ye.success("Draft invoice created and order held successfully!")):Ye.error("Failed to create draft invoice")}catch(Ze){console.error("Error creating draft invoice:",Ze);const Ge=Jc(Ze,"Failed to create draft invoice");Ye.error(Ge)}}),ht=()=>{if(e.length===0)return;s&&s(),[...e].forEach(Ze=>{t&&t(Ze.id)}),o.forEach(Ze=>{l(Ze.code)}),me({}),f(null),A("")},vt=ve=>{switch(ve.type){case"company":return a.jsx(yu,{size:14,className:"text-purple-600"});case"walk-in":return a.jsx(Wn,{size:14,className:"text-gray-600"});default:return a.jsx(Wn,{size:14,className:"text-blue-600"})}},ut=ve=>{const Ze=new Set(et);Ze.has(ve)?Ze.delete(ve):Ze.add(ve),xt(Ze)};return S.useEffect(()=>{if(ae.length===1&&!u&&!he){const ve=ae[0];ve&&(f(ve),A(ve.name)),B(!1)}},[ae,u,he]),S.useEffect(()=>{if(ue!=null&&ue.default_customer&&!u&&!se&&!k){const ve=ue.default_customer;de(ve.id).then(Ze=>{if(Ze.success&&Ze.has_permission){const Ge={id:ve.id,name:ve.name,email:ve.email||"",phone:ve.phone||"",type:ve.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),defaultCurrency:ve.default_currency||void 0};f(Ge),A(Ge.name),B(!1)}else console.log("User does not have permission to access default customer:",ve.id,Ze)}).catch(Ze=>{console.error("Error checking default customer permission:",Ze)})}},[ue,u,se,k,de]),S.useEffect(()=>{const ve=()=>Ne(null,null,function*(){const Ze=Y({},le),Ge=Y({},oe);for(const pt of e){const ct=pt.item_code||pt.id;if(ct&&ct!=="undefined"){if(!Ze[ct])try{const Ut=yield xA(pt.id);Array.isArray(Ut)&&(Ze[ct]=Ut)}catch(Ut){console.error("Error fetching batches",Ut)}if(!Ge[ct])try{const Ut=yield bA(ct);Array.isArray(Ut)&&(Ge[ct]=Ut)}catch(Ut){console.error("Error fetching serials",Ut)}}else console.log(`OrderSummary: Skipping initial info loading for key "${ct}"`)}X(Ze),Ue(Ge)});e.length&&ve()},[e]),S.useEffect(()=>{const ve=pt=>{const{updatedItems:ct}=pt.detail;X(Ut=>{const qt=Y({},Ut);ct.forEach(({itemCode:nr,batches:br})=>{nr&&nr!=="undefined"?qt[nr]=br:console.log(`OrderSummary: Skipping invalid itemCode: "${nr}"`)}),qt.undefined!==void 0&&delete qt.undefined;const er=void 0;return qt[er]!==void 0&&delete qt[er],qt})};window.addEventListener("batchQuantitiesUpdated",ve);const Ze=pt=>{var er,nr;const{itemCode:ct,batchId:Ut}=pt.detail,qt=e.find(br=>(br.item_code||br.id)===ct);if(qt){const br=((nr=(er=le[qt.item_code||qt.id])==null?void 0:er.find(na=>na.batch_id===Ut))==null?void 0:nr.qty)||0;me(na=>_e(Y({},na),{[qt.id]:_e(Y({},na[qt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:Ut||"",availableQuantity:br})}))}else yt(br=>_e(Y({},br),{[ct]:_e(Y({},br[ct]||{}),{batchId:Ut})}))},Ge=pt=>{const{itemCode:ct,serialNo:Ut}=pt.detail,qt=e.find(er=>(er.item_code||er.id)===ct);qt?(me(er=>_e(Y({},er),{[qt.id]:_e(Y({},er[qt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:Ut||""})})),Ue(er=>{const nr=qt.item_code||qt.id,br=new Set(er[nr]||[]);return br.has(Ut)?er:_e(Y({},er),{[nr]:[...br,Ut]})})):yt(er=>_e(Y({},er),{[ct]:_e(Y({},er[ct]||{}),{serialNo:Ut})}))};return window.addEventListener("cart:setBatchForItem",Ze),window.addEventListener("cart:setSerialForItem",Ge),()=>{window.removeEventListener("batchQuantitiesUpdated",ve),window.removeEventListener("cart:setBatchForItem",Ze),window.removeEventListener("cart:setSerialForItem",Ge)}},[e,le]),S.useEffect(()=>{if(!e.length)return;const ve=Y({},it);e.forEach(Ze=>{var ct,Ut;const Ge=Ze.item_code||Ze.id,pt=ve[Ge];if(pt){if(pt.batchId){const qt=((Ut=(ct=le[Ge])==null?void 0:ct.find(er=>er.batch_id===pt.batchId))==null?void 0:Ut.qty)||0;me(er=>_e(Y({},er),{[Ze.id]:_e(Y({},er[Ze.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:pt.batchId||"",availableQuantity:qt})}))}pt.serialNo&&(me(qt=>_e(Y({},qt),{[Ze.id]:_e(Y({},qt[Ze.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:pt.serialNo||""})})),Ue(qt=>{const er=new Set(qt[Ge]||[]);return er.has(pt.serialNo)?qt:_e(Y({},qt),{[Ge]:[...er,pt.serialNo]})})),delete ve[Ge]}}),Object.keys(ve).length!==Object.keys(it).length&&yt(ve)},[e,le,it]),a.jsxs("div",{className:`h-full flex flex-col bg-white dark:bg-gray-800 ${d?"":"border-l"} border-gray-200 dark:border-gray-700`,children:[!d&&a.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:E,onChange:ve=>{A(ve.target.value),B(ve.target.value.length>0)},onKeyDown:ye,onFocus:()=>B(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),M&&lt.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:lt.slice(0,8).map(ve=>a.jsx("button",{onClick:()=>Kt(ve),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[vt(ve),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:ve.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[ve.phone,"  ",ve.email]})]})]})},ve.id))})]}),a.jsx("button",{onClick:()=>O(!0),className:"ml-2 p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",title:"Add New Customer",children:a.jsx(X1,{size:16})})]}),u&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[u&&vt(u),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:u==null?void 0:u.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&a.jsx("span",{children:u.phone}),u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&a.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&a.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!u.phone||u.phone==="N/A"||u.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&a.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),a.jsx("button",{onClick:()=>{f(null),A(""),_(!0)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(ln,{size:14})})]})})]})}),d&&a.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:E,onChange:ve=>{A(ve.target.value),B(ve.target.value.length>0)},onKeyPress:ye,onFocus:()=>B(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),M&&lt.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:lt.slice(0,8).map(ve=>a.jsx("button",{onClick:()=>Kt(ve),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[vt(ve),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:ve.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[ve.email,"  ",ve.phone]})]})]})},ve.id))})]}),a.jsx("button",{onClick:()=>O(!0),className:"p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:a.jsx(X1,{size:16})})]}),u&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[u&&vt(u),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:u==null?void 0:u.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&a.jsx("span",{children:u.phone}),u.phone&&u.phone!=="N/A"&&u.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&a.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&a.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!u.phone||u.phone==="N/A"||u.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&a.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),a.jsx("button",{onClick:()=>{f(null),A(""),_(!0)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(ln,{size:14})})]})})]}),a.jsx("div",{className:`${d?"flex-1 overflow-y-auto custom-scrollbar p-4":"flex-1 overflow-y-auto p-6 cart-scroll"}`,children:a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add some items to get started!"})]}):e.map(ve=>{const Ze=Tt(ve),Ge=ve.price*ve.quantity,pt=Ze*ve.quantity,ct=ne[ve.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:""};return a.jsxs("div",{className:`${d?"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden":""}`,children:[a.jsxs("div",{className:`flex items-center ${d?"p-3":"py-2"}`,children:[a.jsx("div",{className:"flex-shrink-0 mr-2",children:a.jsx("button",{onClick:()=>ut(ve.id),className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-500 transition-all duration-200",title:"Show/Hide Details",children:a.jsx("svg",{className:`${d?"w-3 h-3":"w-4 h-4"} text-beveren-500 dark:text-gray-400 transform transition-transform duration-200 ${et.has(ve.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),ve.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:ve.image,alt:ve.name,className:`${d?"w-16 h-16":"w-12 h-12"} rounded-lg object-cover`,crossOrigin:"anonymous"})}),a.jsxs("div",{className:"flex-1 min-w-0 px-3",children:[a.jsx("h4",{className:`font-semibold text-gray-900 dark:text-white ${d?"text-base":"text-sm"} truncate`,children:ve.name}),a.jsx("p",{className:`text-gray-500 dark:text-gray-400 capitalize font-medium ${d?"text-sm":"text-xs"}`,children:ve.category}),a.jsx("div",{className:`${d?"text-base":"text-sm"}`,children:Ze<ve.price?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-gray-400 line-through text-xs",children:[V,ve.price.toFixed(2)]}),a.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[V,Ze.toFixed(2)]})]}):a.jsxs("div",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[V,ve.price.toFixed(2)]})})]}),a.jsxs("div",{className:"flex-shrink-0 flex items-center ml-10 space-x-1 min-w-[70px] justify-center",children:[a.jsx("button",{onClick:()=>r(ve.id,ve.quantity-1),className:`${d?"w-8 h-8":"w-5 h-5"} rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors`,children:a.jsx(Ay,{size:d?16:14,className:"text-gray-600 dark:text-gray-400"})}),a.jsx("span",{className:`${d?"w-10":"w-8"} text-center font-semibold text-gray-900 dark:text-white text-sm`,children:ve.quantity}),a.jsx("button",{onClick:()=>r(ve.id,ve.quantity+1),className:`${d?"w-8 h-8":"w-7 h-7"} rounded-full bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 flex items-center justify-center hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors`,children:a.jsx(Di,{size:d?16:14,className:"text-blue-600 dark:text-blue-400"})})]}),a.jsx("div",{className:"flex-shrink-0 text-right min-w-[80px] px-2",children:pt<Ge?a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-400 line-through text-xs",children:[V,Ge.toFixed(2)]}),a.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${d?"text-base":"text-sm"}`,children:[V,pt.toFixed(2)]})]}):a.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${d?"text-base":"text-sm"}`,children:[V,pt.toFixed(2)]})}),a.jsx("div",{className:"flex-shrink-0 ml-2",children:a.jsx("button",{onClick:()=>t?t(ve.id):r(ve.id,0),className:`${d?"w-8 h-8":"w-6 h-6"} rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500 flex items-center justify-center hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-200 dark:hover:border-red-800 hover:text-red-600 dark:hover:text-red-400 transition-colors`,title:"Remove item",children:a.jsx(ln,{size:d?16:12})})})]}),et.has(ve.id)&&a.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 ${d?"px-3 pb-3":"px-6 py-3 ml-7"} bg-gray-25 dark:bg-gray-750`,children:[a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Quantity"}),a.jsx(wA,{item:ve,onUpdateQuantity:r,isMobile:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"UOM"}),a.jsx(jA,{item:ve,onUOMChange:U,isMobile:d,selectedCustomer:u})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount Amount"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:ct.discountAmount||"",onChange:Ut=>Xe(ve.id,"discountAmount",parseFloat(Ut.target.value)||0),placeholder:"0.00",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:ct.discountPercentage||"",onChange:Ut=>Xe(ve.id,"discountPercentage",parseFloat(Ut.target.value)||0),placeholder:"0.0",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Batch"}),a.jsx(NA,{itemId:ve.id,itemCode:ve.item_code||ve.id,options:le[ve.item_code||ve.id]||[],value:ct.batchNumber||"",onChange:(Ut,qt)=>{Xe(ve.id,"batchNumber",Ut),Xe(ve.id,"availableQuantity",qt)},isMobile:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Serial No"}),a.jsx(kA,{itemId:ve.id,itemCode:ve.item_code||ve.id,options:oe[ve.item_code||ve.id]||[],value:ct.serialNumber||"",onChange:Ut=>Xe(ve.id,"serialNumber",Ut),isMobile:d})]})]})]}),(ct.discountPercentage>0||ct.discountAmount>0)&&a.jsxs("div",{className:"mt-3 p-2 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:[a.jsx("div",{className:"text-xs text-green-800 dark:text-green-300 font-medium",children:"Discount Applied:"}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400",children:[ct.discountPercentage>0&&`${ct.discountPercentage}% off`,ct.discountPercentage>0&&ct.discountAmount>0&&" + ",ct.discountAmount>0&&`${ct.discountAmount.toFixed(2)} off`]}),a.jsxs("span",{className:"text-xs font-semibold text-green-800 dark:text-green-300",children:["Save $",(Ge-pt).toFixed(2)]})]})]})]})]},ve.id)})})}),e.length>0&&a.jsxs("div",{className:`${d?"flex-shrink-0 p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 shadow-lg":"p-4 border-t border-gray-100 dark:border-gray-700"} space-y-3`,children:[a.jsxs("div",{className:`grid grid-cols-2 gap-3 ${d?"mb-3":""}`,children:[a.jsx("button",{onClick:()=>{if(!mr())return;const ve=u;if(!ve)return;const Ze={items:e.map(Ge=>({id:Ge.id,quantity:Ge.quantity,price:Tt(Ge)})),customer:{id:ve.id},subtotal:gr,total:Ot,appliedCoupons:o,itemDiscounts:ne,totalItemDiscount:xe,totalSavings:xe+st,status:"held"};dt(Ze)},className:"px-3 py-2 border border-beveren-600 text-beveren-600 dark:text-beveren-400 rounded-lg font-medium hover:bg-beveren-600 hover:text-white transition-colors text-sm",children:"Hold"}),a.jsx("button",{onClick:ht,className:"px-3 py-2 border border-red-500 text-red-600 dark:text-red-400 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm",children:"Clear Cart"})]}),a.jsxs("button",{onClick:()=>{mr()&&q(!0)},className:`w-full bg-beveren-600 text-white rounded-xl font-semibold hover:bg-beveren-700 transition-colors ${d?"py-3 text-base":"py-2 text-sm"}`,children:["Checkout ",V,Ot.toFixed(2)]})]}),H&&a.jsx(Al,{customer:null,onClose:()=>{O(!1),te(""),be({})},onSave:J,prefilledName:ie,prefilledData:W}),z&&a.jsx(Ly,{isOpen:z,onClose:Ve,cartItems:e.map(ve=>_e(Y({},ve),{discountedPrice:Tt(ve),itemDiscount:ne[ve.id]||{},originalPrice:ve.price,finalAmount:Tt(ve)*ve.quantity})),appliedCoupons:o,selectedCustomer:u,onCompletePayment:qe,onHoldOrder:dt,isMobile:d,itemDiscounts:ne,totalItemDiscount:xe})]})}const _A={USD:"$",SAR:".",AED:".",EUR:"",GBP:"",JPY:"",CAD:"C$",AUD:"A$",CHF:"CHF",CNY:"",INR:"",KRW:"",MXN:"$",NZD:"NZ$",SGD:"S$",THB:"",TRY:"",ZAR:"R",BRL:"R$",RUB:"",SEK:"kr",NOK:"kr",DKK:"kr",PLN:"z",CZK:"K",HUF:"Ft",ILS:"",EGP:"",QAR:".",KWD:".",BHD:".",OMR:".",JOD:".",LBP:".",PKR:"",BDT:"",LKR:"",NPR:"",AFN:"",IRR:"",IQD:".",SYP:"",YER:"",MAD:".",TND:".",DZD:".",LYD:".",ETB:"Br",KES:"KSh",UGX:"USh",TZS:"TSh",ZMW:"ZK",BWP:"P",SZL:"L",LSL:"L",NAD:"N$",MUR:"",SCR:"",MVR:"",NIO:"C$",GTQ:"Q",HNL:"L",SVC:"$",BZD:"BZ$",JMD:"J$",TTD:"TT$",BBD:"Bds$",XCD:"$",AWG:"",ANG:"",SRD:"$",GYD:"G$",VEF:"Bs",COP:"$",PEN:"S/",BOB:"Bs",CLP:"$",ARS:"$",UYU:"$U",PYG:"",FKP:"",FJD:"FJ$",PGK:"K",SBD:"SI$",VUV:"Vt",WST:"WS$",TOP:"T$",PHP:"",IDR:"Rp",MYR:"RM",VND:"",LAK:"",KHR:"",MMK:"K",BND:"B$"},Gy=e=>e?_A[e.toUpperCase()]||e:"$",Nt=(e,r)=>!e&&e!==0?"0.00":`${Gy(r||"USD")} ${e.toFixed(2)}`;function Is(){const e=xa(),r=Rn(),t=[{icon:Zu,path:"/pos",label:"POS"},{icon:Y3,path:"/invoice",label:"Invoice"},{icon:$l,path:"/items",label:"Items"},{icon:Pi,path:"/customers",label:"Customers"},{icon:Rc,path:"/dashboard",label:"Dashboard"},{icon:Sl,path:"/closing_shift",label:"Closing"}],s=o=>o==="/pos"?r.pathname==="/"||r.pathname==="/pos":r.pathname.startsWith(o);return a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 safe-area-pb",children:a.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:t.map((o,l)=>a.jsxs("button",{onClick:()=>e(o.path),className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 transition-colors ${s(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:[a.jsx(o.icon,{size:20,className:`mb-1 ${s(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`}),a.jsx("span",{className:`text-xs font-medium truncate ${s(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:o.label})]},l))})})}function SA({items:e,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:o,onScanBarcode:l,scannerOnly:d=!1,hasMore:u=!1,isLoadingMore:f=!1,onLoadMore:m,totalCount:y=0,isSearching:k=!1}){const{t:_}=Dl(),{user:C,logout:T}=Ui(),{theme:E,toggleTheme:A}=hh(),{posDetails:M,loading:B}=cn(),{cartItems:H,addToCart:O}=Il(),z=xa(),[q,ae]=S.useState(!1),[he,ee]=S.useState("grid"),Ee=S.useRef(null);S.useEffect(()=>{if(!B&&M){const W=M.custom_default_view;W==="List View"?ee("list"):W==="Grid View"&&ee("grid")}},[M,B]),S.useEffect(()=>{function W(be){Ee.current&&!Ee.current.contains(be.target)&&ae(!1)}return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[Ee]);const ce=()=>Ne(null,null,function*(){try{yield T(),window.location.href="/klik_pos/login"}catch(W){console.error("Logout error:",W),window.location.href="/klik_pos/login"}}),ue=W=>W.split(" ").map(be=>be.charAt(0).toUpperCase()).join("").substring(0,2),se=(C==null?void 0:C.full_name)||(C==null?void 0:C.name)||"Guest User",de=(M==null?void 0:M.name)||"POS Profile",pe=ue(se),ie=H.reduce((W,be)=>W+be.quantity,0),te=H.reduce((W,be)=>W+be.price*be.quantity,0);return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[a.jsxs("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-beveren-600 dark:text-beveren-400",children:"KLiK PoS"}),d&&a.jsx("div",{className:"bg-blue-600/90 text-white px-2 py-1 rounded-md text-xs font-medium",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),a.jsx("span",{children:"Scan Only"})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 relative",ref:Ee,children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:de}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:se})]}),a.jsx("button",{onClick:()=>ae(!q),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white text-xs font-medium pointer-events-none",children:pe})}),q&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:pe})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:de}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(Ry,{size:12,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:se})]}),a.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:(C==null?void 0:C.role)||"User"})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(Xu,{to:"/settings",onClick:()=>ae(!1),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(ph,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{A(),ae(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[E==="dark"?a.jsx(yh,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}):a.jsx(gh,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:E==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>Ne(null,null,function*(){yield i4(),ae(!1)}),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[a.jsx(Ii,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Clear Cache"})]}),a.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:()=>{ce(),ae(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[a.jsx(mh,{size:14,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"px-4 pb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:_("SEARCH_PRODUCTS"),value:s,onChange:W=>o(W.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),l&&a.jsx("button",{onClick:l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:a.jsx(X3,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>ee("grid"),className:`p-2 rounded-md transition-colors ${he==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:a.jsx(Zu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ee("list"),className:`p-2 rounded-md transition-colors ${he==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:a.jsx(Oy,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"px-4 pb-2",children:a.jsx(l4,{selectedCategory:r,onCategoryChange:t,isMobile:!0})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:B?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):k?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Searching..."})]})}):a.jsx(c4,{items:e,onAddToCart:O,isMobile:!0,scannerOnly:d,viewMode:he,hasMore:u,isLoadingMore:f,onLoadMore:m,totalCount:y})}),ie>0&&a.jsx("button",{onClick:()=>z("/cart"),className:"fixed bottom-20 right-6 bg-beveren-600 text-white rounded-full p-4 shadow-lg hover:bg-beveren-700 transition-colors z-30",children:a.jsxs("div",{className:"relative",children:[a.jsx(ku,{className:"w-6 h-6"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:ie})]})}),ie>0&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 z-40",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ie," items"]}),a.jsx("div",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:Nt(te,(M==null?void 0:M.currency)||"USD")}),a.jsx("button",{onClick:()=>z("/cart"),className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors font-medium",children:"View Cart"})]})}),a.jsx(Is,{})]})}function CA({message:e="Loading..."}){return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:e})]})})}var Hg={exports:{}},dw;function $A(){return dw||(dw=1,function(e,r){(function(t,s){e.exports=s()})(window,function(){return function(t){var s={};function o(l){if(s[l])return s[l].exports;var d=s[l]={i:l,l:!1,exports:{}};return t[l].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=t,o.c=s,o.d=function(l,d,u){o.o(l,d)||Object.defineProperty(l,d,{enumerable:!0,get:u})},o.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,d){if(1&d&&(l=o(l)),8&d||4&d&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&d&&typeof l!="string")for(var f in l)o.d(u,f,function(m){return l[m]}.bind(null,f));return u},o.n=function(l){var d=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(d,"a",d),d},o.o=function(l,d){return Object.prototype.hasOwnProperty.call(l,d)},o.p="/",o(o.s=90)}([function(t,s,o){var l=o(68);t.exports=function(d,u,f){return(u=l(u))in d?Object.defineProperty(d,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[u]=f,d},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){function o(l){return t.exports=o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},t.exports.__esModule=!0,t.exports.default=t.exports,o(l)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(68);function d(u,f){for(var m=0;m<f.length;m++){var y=f[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,l(y.key),y)}}t.exports=function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),Object.defineProperty(u,"prototype",{writable:!1}),u},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default,d=o(150);t.exports=function(u,f){if(f&&(l(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(u)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(38);t.exports=function(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),u&&l(d,u)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(146)();t.exports=l;try{regeneratorRuntime=l}catch(d){typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}},function(t,s){function o(l,d,u,f,m,y,k){try{var _=l[y](k),C=_.value}catch(T){return void u(T)}_.done?d(C):Promise.resolve(C).then(f,m)}t.exports=function(l){return function(){var d=this,u=arguments;return new Promise(function(f,m){var y=l.apply(d,u);function k(C){o(y,f,m,k,_,"next",C)}function _(C){o(y,f,m,k,_,"throw",C)}k(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(46),d=typeof self=="object"&&self&&self.Object===Object&&self,u=l||d||Function("return this")();t.exports=u},function(t,s){function o(l){return t.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t.exports.__esModule=!0,t.exports.default=t.exports,o(l)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}},function(t,s){t.exports=function(o){return o!=null&&typeof o=="object"}},function(t,s){var o=Array.isArray;t.exports=o},function(t,s,o){var l=o(151);function d(){return t.exports=d=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(u,f,m){var y=l(u,f);if(y){var k=Object.getOwnPropertyDescriptor(y,f);return k.get?k.get.call(arguments.length<3?u:m):k.value}},t.exports.__esModule=!0,t.exports.default=t.exports,d.apply(null,arguments)}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(102),d=o(108);t.exports=function(u,f){var m=d(u,f);return l(m)?m:void 0}},function(t,s,o){var l=o(91),d=o(134)(function(u,f,m){l(u,f,m)});t.exports=d},function(t,s,o){var l=o(152),d=o(153),u=o(66),f=o(154);t.exports=function(m){return l(m)||d(m)||u(m)||f()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(19),d=o(104),u=o(105),f=l?l.toStringTag:void 0;t.exports=function(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":f&&f in Object(m)?d(m):u(m)}},function(t,s,o){var l=o(60),d=o(29);t.exports=function(u,f,m,y){var k=!m;m||(m={});for(var _=-1,C=f.length;++_<C;){var T=f[_],E=y?y(m[T],u[T],T,m,u):void 0;E===void 0&&(E=u[T]),k?d(m,T,E):l(m,T,E)}return m}},function(t,s,o){var l=o(8).Symbol;t.exports=l},function(t,s,o){var l=o(61),d=o(132),u=o(26);t.exports=function(f){return u(f)?l(f,!0):d(f)}},function(t,s,o){var l=o(92),d=o(93),u=o(94),f=o(95),m=o(96);function y(k){var _=-1,C=k==null?0:k.length;for(this.clear();++_<C;){var T=k[_];this.set(T[0],T[1])}}y.prototype.clear=l,y.prototype.delete=d,y.prototype.get=u,y.prototype.has=f,y.prototype.set=m,t.exports=y},function(t,s,o){var l=o(23);t.exports=function(d,u){for(var f=d.length;f--;)if(l(d[f][0],u))return f;return-1}},function(t,s){t.exports=function(o,l){return o===l||o!=o&&l!=l}},function(t,s,o){var l=o(14)(Object,"create");t.exports=l},function(t,s,o){var l=o(117);t.exports=function(d,u){var f=d.__data__;return l(u)?f[typeof u=="string"?"string":"hash"]:f.map}},function(t,s,o){var l=o(28),d=o(56);t.exports=function(u){return u!=null&&d(u.length)&&!l(u)}},function(t,s,o){var l=o(14)(o(8),"Map");t.exports=l},function(t,s,o){var l=o(17),d=o(10);t.exports=function(u){if(!d(u))return!1;var f=l(u);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},function(t,s,o){var l=o(50);t.exports=function(d,u,f){u=="__proto__"&&l?l(d,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):d[u]=f}},function(t,s){t.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(t,s,o){var l=o(124);t.exports=function(d){var u=new d.constructor(d.byteLength);return new l(u).set(new l(d)),u}},function(t,s,o){var l=o(55)(Object.getPrototypeOf,Object);t.exports=l},function(t,s){var o=Object.prototype;t.exports=function(l){var d=l&&l.constructor;return l===(typeof d=="function"&&d.prototype||o)}},function(t,s,o){var l=o(126),d=o(11),u=Object.prototype,f=u.hasOwnProperty,m=u.propertyIsEnumerable,y=l(function(){return arguments}())?l:function(k){return d(k)&&f.call(k,"callee")&&!m.call(k,"callee")};t.exports=y},function(t,s,o){(function(l){var d=o(8),u=o(128),f=s&&!s.nodeType&&s,m=f&&typeof l=="object"&&l&&!l.nodeType&&l,y=m&&m.exports===f?d.Buffer:void 0,k=(y?y.isBuffer:void 0)||u;l.exports=k}).call(this,o(30)(t))},function(t,s){t.exports=function(o){return function(l){return o(l)}}},function(t,s,o){(function(l){var d=o(46),u=s&&!s.nodeType&&s,f=u&&typeof l=="object"&&l&&!l.nodeType&&l,m=f&&f.exports===u&&d.process,y=function(){try{var k=f&&f.require&&f.require("util").types;return k||m&&m.binding&&m.binding("util")}catch(_){}}();l.exports=y}).call(this,o(30)(t))},function(t,s){function o(l,d){return t.exports=o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,f){return u.__proto__=f,u},t.exports.__esModule=!0,t.exports.default=t.exports,o(l,d)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(61),d=o(159),u=o(26);t.exports=function(f){return u(f)?l(f):d(f)}},function(t,s,o){var l=o(163),d=o(75),u=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols,m=f?function(y){return y==null?[]:(y=Object(y),l(f(y),function(k){return u.call(y,k)}))}:d;t.exports=m},function(t,s){t.exports=function(o,l){for(var d=-1,u=l.length,f=o.length;++d<u;)o[f+d]=l[d];return o}},function(t,s,o){var l=o(166),d=o(27),u=o(167),f=o(168),m=o(169),y=o(17),k=o(47),_=k(l),C=k(d),T=k(u),E=k(f),A=k(m),M=y;(l&&M(new l(new ArrayBuffer(1)))!="[object DataView]"||d&&M(new d)!="[object Map]"||u&&M(u.resolve())!="[object Promise]"||f&&M(new f)!="[object Set]"||m&&M(new m)!="[object WeakMap]")&&(M=function(B){var H=y(B),O=H=="[object Object]"?B.constructor:void 0,z=O?k(O):"";if(z)switch(z){case _:return"[object DataView]";case C:return"[object Map]";case T:return"[object Promise]";case E:return"[object Set]";case A:return"[object WeakMap]"}return H}),t.exports=M},function(t,s,o){var l=o(12),d=o(180),u=o(181),f=o(184);t.exports=function(m,y){return l(m)?m:d(m,y)?[m]:u(f(m))}},function(t,s,o){var l=o(17),d=o(11);t.exports=function(u){return typeof u=="symbol"||d(u)&&l(u)=="[object Symbol]"}},function(t,s,o){var l=o(21),d=o(97),u=o(98),f=o(99),m=o(100),y=o(101);function k(_){var C=this.__data__=new l(_);this.size=C.size}k.prototype.clear=d,k.prototype.delete=u,k.prototype.get=f,k.prototype.has=m,k.prototype.set=y,t.exports=k},function(t,s,o){(function(l){var d=typeof l=="object"&&l&&l.Object===Object&&l;t.exports=d}).call(this,o(103))},function(t,s){var o=Function.prototype.toString;t.exports=function(l){if(l!=null){try{return o.call(l)}catch(d){}try{return l+""}catch(d){}}return""}},function(t,s,o){var l=o(109),d=o(116),u=o(118),f=o(119),m=o(120);function y(k){var _=-1,C=k==null?0:k.length;for(this.clear();++_<C;){var T=k[_];this.set(T[0],T[1])}}y.prototype.clear=l,y.prototype.delete=d,y.prototype.get=u,y.prototype.has=f,y.prototype.set=m,t.exports=y},function(t,s,o){var l=o(29),d=o(23);t.exports=function(u,f,m){(m!==void 0&&!d(u[f],m)||m===void 0&&!(f in u))&&l(u,f,m)}},function(t,s,o){var l=o(14),d=function(){try{var u=l(Object,"defineProperty");return u({},"",{}),u}catch(f){}}();t.exports=d},function(t,s,o){(function(l){var d=o(8),u=s&&!s.nodeType&&s,f=u&&typeof l=="object"&&l&&!l.nodeType&&l,m=f&&f.exports===u?d.Buffer:void 0,y=m?m.allocUnsafe:void 0;l.exports=function(k,_){if(_)return k.slice();var C=k.length,T=y?y(C):new k.constructor(C);return k.copy(T),T}}).call(this,o(30)(t))},function(t,s,o){var l=o(31);t.exports=function(d,u){var f=u?l(d.buffer):d.buffer;return new d.constructor(f,d.byteOffset,d.length)}},function(t,s){t.exports=function(o,l){var d=-1,u=o.length;for(l||(l=Array(u));++d<u;)l[d]=o[d];return l}},function(t,s,o){var l=o(125),d=o(32),u=o(33);t.exports=function(f){return typeof f.constructor!="function"||u(f)?{}:l(d(f))}},function(t,s){t.exports=function(o,l){return function(d){return o(l(d))}}},function(t,s){t.exports=function(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=9007199254740991}},function(t,s,o){var l=o(17),d=o(32),u=o(11),f=Function.prototype,m=Object.prototype,y=f.toString,k=m.hasOwnProperty,_=y.call(Object);t.exports=function(C){if(!u(C)||l(C)!="[object Object]")return!1;var T=d(C);if(T===null)return!0;var E=k.call(T,"constructor")&&T.constructor;return typeof E=="function"&&E instanceof E&&y.call(E)==_}},function(t,s,o){var l=o(129),d=o(36),u=o(37),f=u&&u.isTypedArray,m=f?d(f):l;t.exports=m},function(t,s){t.exports=function(o,l){if((l!=="constructor"||typeof o[l]!="function")&&l!="__proto__")return o[l]}},function(t,s,o){var l=o(29),d=o(23),u=Object.prototype.hasOwnProperty;t.exports=function(f,m,y){var k=f[m];u.call(f,m)&&d(k,y)&&(y!==void 0||m in f)||l(f,m,y)}},function(t,s,o){var l=o(131),d=o(34),u=o(12),f=o(35),m=o(62),y=o(58),k=Object.prototype.hasOwnProperty;t.exports=function(_,C){var T=u(_),E=!T&&d(_),A=!T&&!E&&f(_),M=!T&&!E&&!A&&y(_),B=T||E||A||M,H=B?l(_.length,String):[],O=H.length;for(var z in _)!C&&!k.call(_,z)||B&&(z=="length"||A&&(z=="offset"||z=="parent")||M&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||m(z,O))||H.push(z);return H}},function(t,s){var o=/^(?:0|[1-9]\d*)$/;t.exports=function(l,d){var u=typeof l;return!!(d=d==null?9007199254740991:d)&&(u=="number"||u!="symbol"&&o.test(l))&&l>-1&&l%1==0&&l<d}},function(t,s){t.exports=function(o){return o}},function(t,s,o){var l=o(136),d=Math.max;t.exports=function(u,f,m){return f=d(f===void 0?u.length-1:f,0),function(){for(var y=arguments,k=-1,_=d(y.length-f,0),C=Array(_);++k<_;)C[k]=y[f+k];k=-1;for(var T=Array(f+1);++k<f;)T[k]=y[k];return T[f]=m(C),l(u,this,T)}}},function(t,s,o){var l=o(137),d=o(139)(l);t.exports=d},function(t,s,o){var l=o(67);t.exports=function(d,u){if(d){if(typeof d=="string")return l(d,u);var f={}.toString.call(d).slice(8,-1);return f==="Object"&&d.constructor&&(f=d.constructor.name),f==="Map"||f==="Set"?Array.from(d):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?l(d,u):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){(l==null||l>o.length)&&(l=o.length);for(var d=0,u=Array(l);d<l;d++)u[d]=o[d];return u},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default,d=o(145);t.exports=function(u){var f=d(u,"string");return l(f)=="symbol"?f:f+""},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){this.v=o,this.k=l},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(71);function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var u,f,m=typeof Symbol=="function"?Symbol:{},y=m.iterator||"@@iterator",k=m.toStringTag||"@@toStringTag";function _(O,z,q,ae){var he=z&&z.prototype instanceof T?z:T,ee=Object.create(he.prototype);return l(ee,"_invoke",function(Ee,ce,ue){var se,de,pe,ie=0,te=ue||[],W=!1,be={p:0,n:0,v:u,a:V,f:V.bind(u,4),d:function(U,ne){return se=U,de=0,pe=u,be.n=ne,C}};function V(U,ne){for(de=U,pe=ne,f=0;!W&&ie&&!me&&f<te.length;f++){var me,le=te[f],X=be.p,oe=le[2];U>3?(me=oe===ne)&&(pe=le[(de=le[4])?5:(de=3,3)],le[4]=le[5]=u):le[0]<=X&&((me=U<2&&X<le[1])?(de=0,be.v=ne,be.n=le[1]):X<oe&&(me=U<3||le[0]>ne||ne>oe)&&(le[4]=U,le[5]=ne,be.n=oe,de=0))}if(me||U>1)return C;throw W=!0,ne}return function(U,ne,me){if(ie>1)throw TypeError("Generator is already running");for(W&&ne===1&&V(ne,me),de=ne,pe=me;(f=de<2?u:pe)||!W;){se||(de?de<3?(de>1&&(be.n=-1),V(de,pe)):be.n=pe:be.v=pe);try{if(ie=2,se){if(de||(U="next"),f=se[U]){if(!(f=f.call(se,pe)))throw TypeError("iterator result is not an object");if(!f.done)return f;pe=f.value,de<2&&(de=0)}else de===1&&(f=se.return)&&f.call(se),de<2&&(pe=TypeError("The iterator does not provide a '"+U+"' method"),de=1);se=u}else if((f=(W=be.n<0)?pe:Ee.call(ce,be))!==C)break}catch(le){se=u,de=1,pe=le}finally{ie=1}}return{value:f,done:W}}}(O,q,ae),!0),ee}var C={};function T(){}function E(){}function A(){}f=Object.getPrototypeOf;var M=[][y]?f(f([][y]())):(l(f={},y,function(){return this}),f),B=A.prototype=T.prototype=Object.create(M);function H(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,A):(O.__proto__=A,l(O,k,"GeneratorFunction")),O.prototype=Object.create(B),O}return E.prototype=A,l(B,"constructor",A),l(A,"constructor",E),E.displayName="GeneratorFunction",l(A,k,"GeneratorFunction"),l(B),l(B,k,"Generator"),l(B,y,function(){return this}),l(B,"toString",function(){return"[object Generator]"}),(t.exports=d=function(){return{w:_,m:H}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){function o(l,d,u,f){var m=Object.defineProperty;try{m({},"",{})}catch(y){m=0}t.exports=o=function(y,k,_,C){function T(E,A){o(y,E,function(M){return this._invoke(E,A,M)})}k?m?m(y,k,{value:_,enumerable:!C,configurable:!C,writable:!C}):y[k]=_:(T("next",0),T("throw",1),T("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,o(l,d,u,f)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(70),d=o(73);t.exports=function(u,f,m,y,k){return new d(l().w(u,f,m,y),k||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(69),d=o(71);t.exports=function u(f,m){function y(_,C,T,E){try{var A=f[_](C),M=A.value;return M instanceof l?m.resolve(M.v).then(function(B){y("next",B,T,E)},function(B){y("throw",B,T,E)}):m.resolve(M).then(function(B){A.value=B,T(A)},function(B){return y("throw",B,T,E)})}catch(B){E(B)}}var k;this.next||(d(u.prototype),d(u.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),d(this,"_invoke",function(_,C,T){function E(){return new m(function(A,M){y(_,T,A,M)})}return k=k?k.then(E,E):E()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){for(var d=-1,u=o==null?0:o.length,f=Array(u);++d<u;)f[d]=l(o[d],d,o);return f}},function(t,s){t.exports=function(){return[]}},function(t,s,o){var l=o(41),d=o(32),u=o(40),f=o(75),m=Object.getOwnPropertySymbols?function(y){for(var k=[];y;)l(k,u(y)),y=d(y);return k}:f;t.exports=m},function(t,s,o){var l=o(41),d=o(12);t.exports=function(u,f,m){var y=f(u);return d(u)?y:l(y,m(u))}},function(t,s,o){var l=o(77),d=o(76),u=o(20);t.exports=function(f){return l(f,u,d)}},function(t,s,o){var l=o(44);t.exports=function(d){if(typeof d=="string"||l(d))return d;var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}},function(t,s,o){var l=o(142),d=o(143),u=o(66),f=o(144);t.exports=function(m,y){return l(m)||d(m,y)||u(m,y)||f()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(155);t.exports=function(d,u){if(d==null)return{};var f,m,y=l(d,u);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(d);for(m=0;m<k.length;m++)f=k[m],u.indexOf(f)===-1&&{}.propertyIsEnumerable.call(d,f)&&(y[f]=d[f])}return y},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(74),d=o(156),u=o(179),f=o(43),m=o(18),y=o(190),k=o(191),_=o(78),C=k(function(T,E){var A={};if(T==null)return A;var M=!1;E=l(E,function(H){return H=f(H,T),M||(M=H.length>1),H}),m(T,_(T),A),M&&(A=d(A,7,y));for(var B=E.length;B--;)u(A,E[B]);return A});t.exports=C},function(t,s,o){var l=o(1),d=o(38),u=o(195),f=o(196);function m(y){var k=typeof Map=="function"?new Map:void 0;return t.exports=m=function(_){if(_===null||!u(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(k!==void 0){if(k.has(_))return k.get(_);k.set(_,C)}function C(){return f(_,arguments,l(this).constructor)}return C.prototype=Object.create(_.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),d(C,_)},t.exports.__esModule=!0,t.exports.default=t.exports,m(y)}t.exports=m,t.exports.__esModule=!0,t.exports.default=t.exports},,,,,,,function(t,s,o){t.exports=o(198)},function(t,s,o){var l=o(45),d=o(49),u=o(121),f=o(123),m=o(10),y=o(20),k=o(59);t.exports=function _(C,T,E,A,M){C!==T&&u(T,function(B,H){if(M||(M=new l),m(B))f(C,T,H,E,_,A,M);else{var O=A?A(k(C,H),B,H+"",C,T,M):void 0;O===void 0&&(O=B),d(C,H,O)}},y)}},function(t,s){t.exports=function(){this.__data__=[],this.size=0}},function(t,s,o){var l=o(22),d=Array.prototype.splice;t.exports=function(u){var f=this.__data__,m=l(f,u);return!(m<0)&&(m==f.length-1?f.pop():d.call(f,m,1),--this.size,!0)}},function(t,s,o){var l=o(22);t.exports=function(d){var u=this.__data__,f=l(u,d);return f<0?void 0:u[f][1]}},function(t,s,o){var l=o(22);t.exports=function(d){return l(this.__data__,d)>-1}},function(t,s,o){var l=o(22);t.exports=function(d,u){var f=this.__data__,m=l(f,d);return m<0?(++this.size,f.push([d,u])):f[m][1]=u,this}},function(t,s,o){var l=o(21);t.exports=function(){this.__data__=new l,this.size=0}},function(t,s){t.exports=function(o){var l=this.__data__,d=l.delete(o);return this.size=l.size,d}},function(t,s){t.exports=function(o){return this.__data__.get(o)}},function(t,s){t.exports=function(o){return this.__data__.has(o)}},function(t,s,o){var l=o(21),d=o(27),u=o(48);t.exports=function(f,m){var y=this.__data__;if(y instanceof l){var k=y.__data__;if(!d||k.length<199)return k.push([f,m]),this.size=++y.size,this;y=this.__data__=new u(k)}return y.set(f,m),this.size=y.size,this}},function(t,s,o){var l=o(28),d=o(106),u=o(10),f=o(47),m=/^\[object .+?Constructor\]$/,y=Function.prototype,k=Object.prototype,_=y.toString,C=k.hasOwnProperty,T=RegExp("^"+_.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(E){return!(!u(E)||d(E))&&(l(E)?T:m).test(f(E))}},function(t,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(l){typeof window=="object"&&(o=window)}t.exports=o},function(t,s,o){var l=o(19),d=Object.prototype,u=d.hasOwnProperty,f=d.toString,m=l?l.toStringTag:void 0;t.exports=function(y){var k=u.call(y,m),_=y[m];try{y[m]=void 0;var C=!0}catch(E){}var T=f.call(y);return C&&(k?y[m]=_:delete y[m]),T}},function(t,s){var o=Object.prototype.toString;t.exports=function(l){return o.call(l)}},function(t,s,o){var l,d=o(107),u=(l=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";t.exports=function(f){return!!u&&u in f}},function(t,s,o){var l=o(8)["__core-js_shared__"];t.exports=l},function(t,s){t.exports=function(o,l){return o==null?void 0:o[l]}},function(t,s,o){var l=o(110),d=o(21),u=o(27);t.exports=function(){this.size=0,this.__data__={hash:new l,map:new(u||d),string:new l}}},function(t,s,o){var l=o(111),d=o(112),u=o(113),f=o(114),m=o(115);function y(k){var _=-1,C=k==null?0:k.length;for(this.clear();++_<C;){var T=k[_];this.set(T[0],T[1])}}y.prototype.clear=l,y.prototype.delete=d,y.prototype.get=u,y.prototype.has=f,y.prototype.set=m,t.exports=y},function(t,s,o){var l=o(24);t.exports=function(){this.__data__=l?l(null):{},this.size=0}},function(t,s){t.exports=function(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}},function(t,s,o){var l=o(24),d=Object.prototype.hasOwnProperty;t.exports=function(u){var f=this.__data__;if(l){var m=f[u];return m==="__lodash_hash_undefined__"?void 0:m}return d.call(f,u)?f[u]:void 0}},function(t,s,o){var l=o(24),d=Object.prototype.hasOwnProperty;t.exports=function(u){var f=this.__data__;return l?f[u]!==void 0:d.call(f,u)}},function(t,s,o){var l=o(24);t.exports=function(d,u){var f=this.__data__;return this.size+=this.has(d)?0:1,f[d]=l&&u===void 0?"__lodash_hash_undefined__":u,this}},function(t,s,o){var l=o(25);t.exports=function(d){var u=l(this,d).delete(d);return this.size-=u?1:0,u}},function(t,s){t.exports=function(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}},function(t,s,o){var l=o(25);t.exports=function(d){return l(this,d).get(d)}},function(t,s,o){var l=o(25);t.exports=function(d){return l(this,d).has(d)}},function(t,s,o){var l=o(25);t.exports=function(d,u){var f=l(this,d),m=f.size;return f.set(d,u),this.size+=f.size==m?0:1,this}},function(t,s,o){var l=o(122)();t.exports=l},function(t,s){t.exports=function(o){return function(l,d,u){for(var f=-1,m=Object(l),y=u(l),k=y.length;k--;){var _=y[o?k:++f];if(d(m[_],_,m)===!1)break}return l}}},function(t,s,o){var l=o(49),d=o(51),u=o(52),f=o(53),m=o(54),y=o(34),k=o(12),_=o(127),C=o(35),T=o(28),E=o(10),A=o(57),M=o(58),B=o(59),H=o(130);t.exports=function(O,z,q,ae,he,ee,Ee){var ce=B(O,q),ue=B(z,q),se=Ee.get(ue);if(se)l(O,q,se);else{var de=ee?ee(ce,ue,q+"",O,z,Ee):void 0,pe=de===void 0;if(pe){var ie=k(ue),te=!ie&&C(ue),W=!ie&&!te&&M(ue);de=ue,ie||te||W?k(ce)?de=ce:_(ce)?de=f(ce):te?(pe=!1,de=d(ue,!0)):W?(pe=!1,de=u(ue,!0)):de=[]:A(ue)||y(ue)?(de=ce,y(ce)?de=H(ce):E(ce)&&!T(ce)||(de=m(ue))):pe=!1}pe&&(Ee.set(ue,de),he(de,ue,ae,ee,Ee),Ee.delete(ue)),l(O,q,de)}}},function(t,s,o){var l=o(8).Uint8Array;t.exports=l},function(t,s,o){var l=o(10),d=Object.create,u=function(){function f(){}return function(m){if(!l(m))return{};if(d)return d(m);f.prototype=m;var y=new f;return f.prototype=void 0,y}}();t.exports=u},function(t,s,o){var l=o(17),d=o(11);t.exports=function(u){return d(u)&&l(u)=="[object Arguments]"}},function(t,s,o){var l=o(26),d=o(11);t.exports=function(u){return d(u)&&l(u)}},function(t,s){t.exports=function(){return!1}},function(t,s,o){var l=o(17),d=o(56),u=o(11),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,t.exports=function(m){return u(m)&&d(m.length)&&!!f[l(m)]}},function(t,s,o){var l=o(18),d=o(20);t.exports=function(u){return l(u,d(u))}},function(t,s){t.exports=function(o,l){for(var d=-1,u=Array(o);++d<o;)u[d]=l(d);return u}},function(t,s,o){var l=o(10),d=o(33),u=o(133),f=Object.prototype.hasOwnProperty;t.exports=function(m){if(!l(m))return u(m);var y=d(m),k=[];for(var _ in m)(_!="constructor"||!y&&f.call(m,_))&&k.push(_);return k}},function(t,s){t.exports=function(o){var l=[];if(o!=null)for(var d in Object(o))l.push(d);return l}},function(t,s,o){var l=o(135),d=o(140);t.exports=function(u){return l(function(f,m){var y=-1,k=m.length,_=k>1?m[k-1]:void 0,C=k>2?m[2]:void 0;for(_=u.length>3&&typeof _=="function"?(k--,_):void 0,C&&d(m[0],m[1],C)&&(_=k<3?void 0:_,k=1),f=Object(f);++y<k;){var T=m[y];T&&u(f,T,y,_)}return f})}},function(t,s,o){var l=o(63),d=o(64),u=o(65);t.exports=function(f,m){return u(d(f,m,l),f+"")}},function(t,s){t.exports=function(o,l,d){switch(d.length){case 0:return o.call(l);case 1:return o.call(l,d[0]);case 2:return o.call(l,d[0],d[1]);case 3:return o.call(l,d[0],d[1],d[2])}return o.apply(l,d)}},function(t,s,o){var l=o(138),d=o(50),u=o(63),f=d?function(m,y){return d(m,"toString",{configurable:!0,enumerable:!1,value:l(y),writable:!0})}:u;t.exports=f},function(t,s){t.exports=function(o){return function(){return o}}},function(t,s){var o=Date.now;t.exports=function(l){var d=0,u=0;return function(){var f=o(),m=16-(f-u);if(u=f,m>0){if(++d>=800)return arguments[0]}else d=0;return l.apply(void 0,arguments)}}},function(t,s,o){var l=o(23),d=o(26),u=o(62),f=o(10);t.exports=function(m,y,k){if(!f(k))return!1;var _=typeof y;return!!(_=="number"?d(k)&&u(y,k.length):_=="string"&&y in k)&&l(k[y],m)}},function(t,s){typeof window!="undefined"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){window.setTimeout(o,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(o,l){var d=65535&o,u=65535&l;return d*u+((o>>>16&65535)*u+d*(l>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(o){if(o===null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(o),d=1;d<arguments.length;d++){var u=arguments[d];if(u!==null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l})},function(t,s){t.exports=function(o){if(Array.isArray(o))return o},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){var d=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(d!=null){var u,f,m,y,k=[],_=!0,C=!1;try{if(m=(d=d.call(o)).next,l===0){if(Object(d)!==d)return;_=!1}else for(;!(_=(u=m.call(d)).done)&&(k.push(u.value),k.length!==l);_=!0);}catch(T){C=!0,f=T}finally{try{if(!_&&d.return!=null&&(y=d.return(),Object(y)!==y))return}finally{if(C)throw f}}return k}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default;t.exports=function(d,u){if(l(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,u||"default");if(l(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(d)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(69),d=o(70),u=o(147),f=o(72),m=o(73),y=o(148),k=o(149);function _(){var C=d(),T=C.m(_),E=(Object.getPrototypeOf?Object.getPrototypeOf(T):T.__proto__).constructor;function A(H){var O=typeof H=="function"&&H.constructor;return!!O&&(O===E||(O.displayName||O.name)==="GeneratorFunction")}var M={throw:1,return:2,break:3,continue:3};function B(H){var O,z;return function(q){O||(O={stop:function(){return z(q.a,2)},catch:function(){return q.v},abrupt:function(ae,he){return z(q.a,M[ae],he)},delegateYield:function(ae,he,ee){return O.resultName=he,z(q.d,k(ae),ee)},finish:function(ae){return z(q.f,ae)}},z=function(ae,he,ee){q.p=O.prev,q.n=O.next;try{return ae(he,ee)}finally{O.next=q.n}}),O.resultName&&(O[O.resultName]=q.v,O.resultName=void 0),O.sent=q.v,O.next=q.n;try{return H.call(this,O)}finally{q.p=O.prev,q.n=O.next}}}return(t.exports=_=function(){return{wrap:function(H,O,z,q){return C.w(B(H),O,z,q&&q.reverse())},isGeneratorFunction:A,mark:C.m,awrap:function(H,O){return new l(H,O)},AsyncIterator:m,async:function(H,O,z,q,ae){return(A(O)?f:u)(B(H),O,z,q,ae)},keys:y,values:k}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=_,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(72);t.exports=function(d,u,f,m,y){var k=l(d,u,f,m,y);return k.next().then(function(_){return _.done?_.value:k.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){var l=Object(o),d=[];for(var u in l)d.unshift(u);return function f(){for(;d.length;)if((u=d.pop())in l)return f.value=u,f.done=!1,f;return f.done=!0,f}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(9).default;t.exports=function(d){if(d!=null){var u=d[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],f=0;if(u)return u.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length))return{next:function(){return d&&f>=d.length&&(d=void 0),{value:d&&d[f++],done:!d}}}}throw new TypeError(l(d)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(1);t.exports=function(d,u){for(;!{}.hasOwnProperty.call(d,u)&&(d=l(d))!==null;);return d},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(67);t.exports=function(d){if(Array.isArray(d))return l(d)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){t.exports=function(o,l){if(o==null)return{};var d={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;d[u]=o[u]}return d},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(45),d=o(157),u=o(60),f=o(158),m=o(161),y=o(51),k=o(53),_=o(162),C=o(164),T=o(165),E=o(78),A=o(42),M=o(170),B=o(171),H=o(54),O=o(12),z=o(35),q=o(175),ae=o(10),he=o(177),ee=o(39),Ee=o(20),ce={};ce["[object Arguments]"]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object DataView]"]=ce["[object Boolean]"]=ce["[object Date]"]=ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Map]"]=ce["[object Number]"]=ce["[object Object]"]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object Symbol]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Error]"]=ce["[object Function]"]=ce["[object WeakMap]"]=!1,t.exports=function ue(se,de,pe,ie,te,W){var be,V=1&de,U=2&de,ne=4&de;if(pe&&(be=te?pe(se,ie,te,W):pe(se)),be!==void 0)return be;if(!ae(se))return se;var me=O(se);if(me){if(be=M(se),!V)return k(se,be)}else{var le=A(se),X=le=="[object Function]"||le=="[object GeneratorFunction]";if(z(se))return y(se,V);if(le=="[object Object]"||le=="[object Arguments]"||X&&!te){if(be=U||X?{}:H(se),!V)return U?C(se,m(be,se)):_(se,f(be,se))}else{if(!ce[le])return te?se:{};be=B(se,le,V)}}W||(W=new l);var oe=W.get(se);if(oe)return oe;W.set(se,be),he(se)?se.forEach(function(it){be.add(ue(it,de,pe,it,se,W))}):q(se)&&se.forEach(function(it,yt){be.set(yt,ue(it,de,pe,yt,se,W))});var Ue=me?void 0:(ne?U?E:T:U?Ee:ee)(se);return d(Ue||se,function(it,yt){Ue&&(it=se[yt=it]),u(be,yt,ue(it,de,pe,yt,se,W))}),be}},function(t,s){t.exports=function(o,l){for(var d=-1,u=o==null?0:o.length;++d<u&&l(o[d],d,o)!==!1;);return o}},function(t,s,o){var l=o(18),d=o(39);t.exports=function(u,f){return u&&l(f,d(f),u)}},function(t,s,o){var l=o(33),d=o(160),u=Object.prototype.hasOwnProperty;t.exports=function(f){if(!l(f))return d(f);var m=[];for(var y in Object(f))u.call(f,y)&&y!="constructor"&&m.push(y);return m}},function(t,s,o){var l=o(55)(Object.keys,Object);t.exports=l},function(t,s,o){var l=o(18),d=o(20);t.exports=function(u,f){return u&&l(f,d(f),u)}},function(t,s,o){var l=o(18),d=o(40);t.exports=function(u,f){return l(u,d(u),f)}},function(t,s){t.exports=function(o,l){for(var d=-1,u=o==null?0:o.length,f=0,m=[];++d<u;){var y=o[d];l(y,d,o)&&(m[f++]=y)}return m}},function(t,s,o){var l=o(18),d=o(76);t.exports=function(u,f){return l(u,d(u),f)}},function(t,s,o){var l=o(77),d=o(40),u=o(39);t.exports=function(f){return l(f,u,d)}},function(t,s,o){var l=o(14)(o(8),"DataView");t.exports=l},function(t,s,o){var l=o(14)(o(8),"Promise");t.exports=l},function(t,s,o){var l=o(14)(o(8),"Set");t.exports=l},function(t,s,o){var l=o(14)(o(8),"WeakMap");t.exports=l},function(t,s){var o=Object.prototype.hasOwnProperty;t.exports=function(l){var d=l.length,u=new l.constructor(d);return d&&typeof l[0]=="string"&&o.call(l,"index")&&(u.index=l.index,u.input=l.input),u}},function(t,s,o){var l=o(31),d=o(172),u=o(173),f=o(174),m=o(52);t.exports=function(y,k,_){var C=y.constructor;switch(k){case"[object ArrayBuffer]":return l(y);case"[object Boolean]":case"[object Date]":return new C(+y);case"[object DataView]":return d(y,_);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return m(y,_);case"[object Map]":return new C;case"[object Number]":case"[object String]":return new C(y);case"[object RegExp]":return u(y);case"[object Set]":return new C;case"[object Symbol]":return f(y)}}},function(t,s,o){var l=o(31);t.exports=function(d,u){var f=u?l(d.buffer):d.buffer;return new d.constructor(f,d.byteOffset,d.byteLength)}},function(t,s){var o=/\w*$/;t.exports=function(l){var d=new l.constructor(l.source,o.exec(l));return d.lastIndex=l.lastIndex,d}},function(t,s,o){var l=o(19),d=l?l.prototype:void 0,u=d?d.valueOf:void 0;t.exports=function(f){return u?Object(u.call(f)):{}}},function(t,s,o){var l=o(176),d=o(36),u=o(37),f=u&&u.isMap,m=f?d(f):l;t.exports=m},function(t,s,o){var l=o(42),d=o(11);t.exports=function(u){return d(u)&&l(u)=="[object Map]"}},function(t,s,o){var l=o(178),d=o(36),u=o(37),f=u&&u.isSet,m=f?d(f):l;t.exports=m},function(t,s,o){var l=o(42),d=o(11);t.exports=function(u){return d(u)&&l(u)=="[object Set]"}},function(t,s,o){var l=o(43),d=o(186),u=o(187),f=o(79);t.exports=function(m,y){return y=l(y,m),(m=u(m,y))==null||delete m[f(d(y))]}},function(t,s,o){var l=o(12),d=o(44),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;t.exports=function(m,y){if(l(m))return!1;var k=typeof m;return!(k!="number"&&k!="symbol"&&k!="boolean"&&m!=null&&!d(m))||f.test(m)||!u.test(m)||y!=null&&m in Object(y)}},function(t,s,o){var l=o(182),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,f=l(function(m){var y=[];return m.charCodeAt(0)===46&&y.push(""),m.replace(d,function(k,_,C,T){y.push(C?T.replace(u,"$1"):_||k)}),y});t.exports=f},function(t,s,o){var l=o(183);t.exports=function(d){var u=l(d,function(m){return f.size===500&&f.clear(),m}),f=u.cache;return u}},function(t,s,o){var l=o(48);function d(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var m=function(){var y=arguments,k=f?f.apply(this,y):y[0],_=m.cache;if(_.has(k))return _.get(k);var C=u.apply(this,y);return m.cache=_.set(k,C)||_,C};return m.cache=new(d.Cache||l),m}d.Cache=l,t.exports=d},function(t,s,o){var l=o(185);t.exports=function(d){return d==null?"":l(d)}},function(t,s,o){var l=o(19),d=o(74),u=o(12),f=o(44),m=l?l.prototype:void 0,y=m?m.toString:void 0;t.exports=function k(_){if(typeof _=="string")return _;if(u(_))return d(_,k)+"";if(f(_))return y?y.call(_):"";var C=_+"";return C=="0"&&1/_==-1/0?"-0":C}},function(t,s){t.exports=function(o){var l=o==null?0:o.length;return l?o[l-1]:void 0}},function(t,s,o){var l=o(188),d=o(189);t.exports=function(u,f){return f.length<2?u:l(u,d(f,0,-1))}},function(t,s,o){var l=o(43),d=o(79);t.exports=function(u,f){for(var m=0,y=(f=l(f,u)).length;u!=null&&m<y;)u=u[d(f[m++])];return m&&m==y?u:void 0}},function(t,s){t.exports=function(o,l,d){var u=-1,f=o.length;l<0&&(l=-l>f?0:f+l),(d=d>f?f:d)<0&&(d+=f),f=l>d?0:d-l>>>0,l>>>=0;for(var m=Array(f);++u<f;)m[u]=o[u+l];return m}},function(t,s,o){var l=o(57);t.exports=function(d){return l(d)?void 0:d}},function(t,s,o){var l=o(192),d=o(64),u=o(65);t.exports=function(f){return u(d(f,void 0,l),f+"")}},function(t,s,o){var l=o(193);t.exports=function(d){return d!=null&&d.length?l(d,1):[]}},function(t,s,o){var l=o(41),d=o(194);t.exports=function u(f,m,y,k,_){var C=-1,T=f.length;for(y||(y=d),_||(_=[]);++C<T;){var E=f[C];m>0&&y(E)?m>1?u(E,m-1,y,k,_):l(_,E):k||(_[_.length]=E)}return _}},function(t,s,o){var l=o(19),d=o(34),u=o(12),f=l?l.isConcatSpreadable:void 0;t.exports=function(m){return u(m)||d(m)||!!(f&&m&&m[f])}},function(t,s){t.exports=function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch(l){return typeof o=="function"}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){var l=o(197),d=o(38);t.exports=function(u,f,m){if(l())return Reflect.construct.apply(null,arguments);var y=[null];y.push.apply(y,f);var k=new(u.bind.apply(u,y));return m&&d(k,m.prototype),k},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s){function o(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(d){}return(t.exports=o=function(){return!!l},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,s,o){o.r(s),o.d(s,"BarcodeDecoder",function(){return ys}),o.d(s,"Readers",function(){return f}),o.d(s,"CameraAccess",function(){return Nn}),o.d(s,"ImageDebug",function(){return Q}),o.d(s,"ImageWrapper",function(){return Pa}),o.d(s,"ResultCollector",function(){return Nd});var l={};o.r(l),o.d(l,"create",function(){return he}),o.d(l,"clone",function(){return ee}),o.d(l,"copy",function(){return Ee}),o.d(l,"identity",function(){return ce}),o.d(l,"fromValues",function(){return ue}),o.d(l,"set",function(){return se}),o.d(l,"transpose",function(){return de}),o.d(l,"invert",function(){return pe}),o.d(l,"adjoint",function(){return ie}),o.d(l,"determinant",function(){return te}),o.d(l,"multiply",function(){return W}),o.d(l,"rotate",function(){return be}),o.d(l,"scale",function(){return V}),o.d(l,"fromRotation",function(){return U}),o.d(l,"fromScaling",function(){return ne}),o.d(l,"str",function(){return me}),o.d(l,"frob",function(){return le}),o.d(l,"LDU",function(){return X}),o.d(l,"add",function(){return oe}),o.d(l,"subtract",function(){return Ue}),o.d(l,"exactEquals",function(){return it}),o.d(l,"equals",function(){return yt}),o.d(l,"multiplyScalar",function(){return et}),o.d(l,"multiplyScalarAndAdd",function(){return xt}),o.d(l,"mul",function(){return Tt}),o.d(l,"sub",function(){return gr});var d={};o.r(d),o.d(d,"create",function(){return xe}),o.d(d,"clone",function(){return st}),o.d(d,"fromValues",function(){return Ot}),o.d(d,"copy",function(){return ye}),o.d(d,"set",function(){return Xe}),o.d(d,"add",function(){return lt}),o.d(d,"subtract",function(){return mr}),o.d(d,"multiply",function(){return Kt}),o.d(d,"divide",function(){return J}),o.d(d,"ceil",function(){return qe}),o.d(d,"floor",function(){return Ve}),o.d(d,"min",function(){return dt}),o.d(d,"max",function(){return ht}),o.d(d,"round",function(){return vt}),o.d(d,"scale",function(){return ut}),o.d(d,"scaleAndAdd",function(){return ve}),o.d(d,"distance",function(){return Ze}),o.d(d,"squaredDistance",function(){return Ge}),o.d(d,"length",function(){return pt}),o.d(d,"squaredLength",function(){return ct}),o.d(d,"negate",function(){return Ut}),o.d(d,"inverse",function(){return qt}),o.d(d,"normalize",function(){return er}),o.d(d,"dot",function(){return nr}),o.d(d,"cross",function(){return br}),o.d(d,"lerp",function(){return na}),o.d(d,"random",function(){return yr}),o.d(d,"transformMat2",function(){return Gr}),o.d(d,"transformMat2d",function(){return Ka}),o.d(d,"transformMat3",function(){return vn}),o.d(d,"transformMat4",function(){return Wa}),o.d(d,"rotate",function(){return ze}),o.d(d,"angle",function(){return tt}),o.d(d,"signedAngle",function(){return Er}),o.d(d,"zero",function(){return fe}),o.d(d,"str",function(){return Te}),o.d(d,"exactEquals",function(){return De}),o.d(d,"equals",function(){return Ke}),o.d(d,"len",function(){return jt}),o.d(d,"sub",function(){return It}),o.d(d,"mul",function(){return zt}),o.d(d,"div",function(){return Rt}),o.d(d,"dist",function(){return sr}),o.d(d,"sqrDist",function(){return Ft}),o.d(d,"sqrLen",function(){return tr}),o.d(d,"forEach",function(){return dr});var u={};o.r(u),o.d(u,"create",function(){return Rr}),o.d(u,"clone",function(){return qr}),o.d(u,"length",function(){return Tr}),o.d(u,"fromValues",function(){return Yt}),o.d(u,"copy",function(){return Ht}),o.d(u,"set",function(){return Or}),o.d(u,"add",function(){return zr}),o.d(u,"subtract",function(){return sa}),o.d(u,"multiply",function(){return Zr}),o.d(u,"divide",function(){return ea}),o.d(u,"ceil",function(){return Ba}),o.d(u,"floor",function(){return Zt}),o.d(u,"min",function(){return la}),o.d(u,"max",function(){return Ca}),o.d(u,"round",function(){return ur}),o.d(u,"scale",function(){return ca}),o.d(u,"scaleAndAdd",function(){return Oa}),o.d(u,"distance",function(){return fa}),o.d(u,"squaredDistance",function(){return Ya}),o.d(u,"squaredLength",function(){return Oe}),o.d(u,"negate",function(){return nt}),o.d(u,"inverse",function(){return kt}),o.d(u,"normalize",function(){return Et}),o.d(u,"dot",function(){return Lt}),o.d(u,"cross",function(){return ar}),o.d(u,"lerp",function(){return Wt}),o.d(u,"slerp",function(){return _r}),o.d(u,"hermite",function(){return Dr}),o.d(u,"bezier",function(){return ra}),o.d(u,"random",function(){return Br}),o.d(u,"transformMat4",function(){return Aa}),o.d(u,"transformMat3",function(){return ds}),o.d(u,"transformQuat",function(){return oo}),o.d(u,"rotateX",function(){return Pn}),o.d(u,"rotateY",function(){return io}),o.d(u,"rotateZ",function(){return Bi}),o.d(u,"angle",function(){return Us}),o.d(u,"zero",function(){return Ll}),o.d(u,"str",function(){return Ul}),o.d(u,"exactEquals",function(){return qi}),o.d(u,"equals",function(){return lo}),o.d(u,"sub",function(){return Go}),o.d(u,"mul",function(){return cd}),o.d(u,"div",function(){return Vo}),o.d(u,"dist",function(){return Hi}),o.d(u,"sqrDist",function(){return co}),o.d(u,"len",function(){return us}),o.d(u,"sqrLen",function(){return Fs}),o.d(u,"forEach",function(){return Gi});var f={};o.r(f),o.d(f,"BarcodeReader",function(){return Bt}),o.d(f,"TwoOfFiveReader",function(){return da}),o.d(f,"NewCodabarReader",function(){return gs}),o.d(f,"Code128Reader",function(){return ho}),o.d(f,"Code32Reader",function(){return rf}),o.d(f,"Code39Reader",function(){return ql}),o.d(f,"Code39VINReader",function(){return ud}),o.d(f,"Code93Reader",function(){return cf}),o.d(f,"EAN2Reader",function(){return Gl}),o.d(f,"EAN5Reader",function(){return md}),o.d(f,"EAN8Reader",function(){return mf}),o.d(f,"EANReader",function(){return ps}),o.d(f,"I2of5Reader",function(){return gf}),o.d(f,"PharmacodeReader",function(){return Vl}),o.d(f,"UPCEReader",function(){return mo}),o.d(f,"UPCReader",function(){return Qo});var m=o(9),y=o.n(m),k=o(15),_=o.n(k),C=(o(141),o(80)),T=o.n(C),E=o(2),A=o.n(E),M=o(3),B=o.n(M),H=o(0),O=o.n(H),z=typeof Float32Array!="undefined"?Float32Array:Array,q=Math.random;function ae(p){return p>=0?Math.round(p):p%.5==0?Math.floor(p):Math.round(p)}function he(){var p=new z(4);return z!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}function ee(p){var v=new z(4);return v[0]=p[0],v[1]=p[1],v[2]=p[2],v[3]=p[3],v}function Ee(p,v){return p[0]=v[0],p[1]=v[1],p[2]=v[2],p[3]=v[3],p}function ce(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}function ue(p,v,g,b){var w=new z(4);return w[0]=p,w[1]=v,w[2]=g,w[3]=b,w}function se(p,v,g,b,w){return p[0]=v,p[1]=g,p[2]=b,p[3]=w,p}function de(p,v){if(p===v){var g=v[1];p[1]=v[2],p[2]=g}else p[0]=v[0],p[1]=v[2],p[2]=v[1],p[3]=v[3];return p}function pe(p,v){var g=v[0],b=v[1],w=v[2],N=v[3],$=g*N-w*b;return $?($=1/$,p[0]=N*$,p[1]=-b*$,p[2]=-w*$,p[3]=g*$,p):null}function ie(p,v){var g=v[0];return p[0]=v[3],p[1]=-v[1],p[2]=-v[2],p[3]=g,p}function te(p){return p[0]*p[3]-p[2]*p[1]}function W(p,v,g){var b=v[0],w=v[1],N=v[2],$=v[3],R=g[0],I=g[1],D=g[2],G=g[3];return p[0]=b*R+N*I,p[1]=w*R+$*I,p[2]=b*D+N*G,p[3]=w*D+$*G,p}function be(p,v,g){var b=v[0],w=v[1],N=v[2],$=v[3],R=Math.sin(g),I=Math.cos(g);return p[0]=b*I+N*R,p[1]=w*I+$*R,p[2]=b*-R+N*I,p[3]=w*-R+$*I,p}function V(p,v,g){var b=v[0],w=v[1],N=v[2],$=v[3],R=g[0],I=g[1];return p[0]=b*R,p[1]=w*R,p[2]=N*I,p[3]=$*I,p}function U(p,v){var g=Math.sin(v),b=Math.cos(v);return p[0]=b,p[1]=g,p[2]=-g,p[3]=b,p}function ne(p,v){return p[0]=v[0],p[1]=0,p[2]=0,p[3]=v[1],p}function me(p){return"mat2("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+")"}function le(p){return Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2]+p[3]*p[3])}function X(p,v,g,b){return p[2]=b[2]/b[0],g[0]=b[0],g[1]=b[1],g[3]=b[3]-p[2]*g[1],[p,v,g]}function oe(p,v,g){return p[0]=v[0]+g[0],p[1]=v[1]+g[1],p[2]=v[2]+g[2],p[3]=v[3]+g[3],p}function Ue(p,v,g){return p[0]=v[0]-g[0],p[1]=v[1]-g[1],p[2]=v[2]-g[2],p[3]=v[3]-g[3],p}function it(p,v){return p[0]===v[0]&&p[1]===v[1]&&p[2]===v[2]&&p[3]===v[3]}function yt(p,v){var g=p[0],b=p[1],w=p[2],N=p[3],$=v[0],R=v[1],I=v[2],D=v[3];return Math.abs(g-$)<=1e-6*Math.max(1,Math.abs(g),Math.abs($))&&Math.abs(b-R)<=1e-6*Math.max(1,Math.abs(b),Math.abs(R))&&Math.abs(w-I)<=1e-6*Math.max(1,Math.abs(w),Math.abs(I))&&Math.abs(N-D)<=1e-6*Math.max(1,Math.abs(N),Math.abs(D))}function et(p,v,g){return p[0]=v[0]*g,p[1]=v[1]*g,p[2]=v[2]*g,p[3]=v[3]*g,p}function xt(p,v,g,b){return p[0]=v[0]+g[0]*b,p[1]=v[1]+g[1]*b,p[2]=v[2]+g[2]*b,p[3]=v[3]+g[3]*b,p}var Tt=W,gr=Ue;function xe(){var p=new z(2);return z!=Float32Array&&(p[0]=0,p[1]=0),p}function st(p){var v=new z(2);return v[0]=p[0],v[1]=p[1],v}function Ot(p,v){var g=new z(2);return g[0]=p,g[1]=v,g}function ye(p,v){return p[0]=v[0],p[1]=v[1],p}function Xe(p,v,g){return p[0]=v,p[1]=g,p}function lt(p,v,g){return p[0]=v[0]+g[0],p[1]=v[1]+g[1],p}function mr(p,v,g){return p[0]=v[0]-g[0],p[1]=v[1]-g[1],p}function Kt(p,v,g){return p[0]=v[0]*g[0],p[1]=v[1]*g[1],p}function J(p,v,g){return p[0]=v[0]/g[0],p[1]=v[1]/g[1],p}function qe(p,v){return p[0]=Math.ceil(v[0]),p[1]=Math.ceil(v[1]),p}function Ve(p,v){return p[0]=Math.floor(v[0]),p[1]=Math.floor(v[1]),p}function dt(p,v,g){return p[0]=Math.min(v[0],g[0]),p[1]=Math.min(v[1],g[1]),p}function ht(p,v,g){return p[0]=Math.max(v[0],g[0]),p[1]=Math.max(v[1],g[1]),p}function vt(p,v){return p[0]=ae(v[0]),p[1]=ae(v[1]),p}function ut(p,v,g){return p[0]=v[0]*g,p[1]=v[1]*g,p}function ve(p,v,g,b){return p[0]=v[0]+g[0]*b,p[1]=v[1]+g[1]*b,p}function Ze(p,v){var g=v[0]-p[0],b=v[1]-p[1];return Math.sqrt(g*g+b*b)}function Ge(p,v){var g=v[0]-p[0],b=v[1]-p[1];return g*g+b*b}function pt(p){var v=p[0],g=p[1];return Math.sqrt(v*v+g*g)}function ct(p){var v=p[0],g=p[1];return v*v+g*g}function Ut(p,v){return p[0]=-v[0],p[1]=-v[1],p}function qt(p,v){return p[0]=1/v[0],p[1]=1/v[1],p}function er(p,v){var g=v[0],b=v[1],w=g*g+b*b;return w>0&&(w=1/Math.sqrt(w)),p[0]=v[0]*w,p[1]=v[1]*w,p}function nr(p,v){return p[0]*v[0]+p[1]*v[1]}function br(p,v,g){var b=v[0]*g[1]-v[1]*g[0];return p[0]=p[1]=0,p[2]=b,p}function na(p,v,g,b){var w=v[0],N=v[1];return p[0]=w+b*(g[0]-w),p[1]=N+b*(g[1]-N),p}function yr(p,v){v=v===void 0?1:v;var g=2*q()*Math.PI;return p[0]=Math.cos(g)*v,p[1]=Math.sin(g)*v,p}function Gr(p,v,g){var b=v[0],w=v[1];return p[0]=g[0]*b+g[2]*w,p[1]=g[1]*b+g[3]*w,p}function Ka(p,v,g){var b=v[0],w=v[1];return p[0]=g[0]*b+g[2]*w+g[4],p[1]=g[1]*b+g[3]*w+g[5],p}function vn(p,v,g){var b=v[0],w=v[1];return p[0]=g[0]*b+g[3]*w+g[6],p[1]=g[1]*b+g[4]*w+g[7],p}function Wa(p,v,g){var b=v[0],w=v[1];return p[0]=g[0]*b+g[4]*w+g[12],p[1]=g[1]*b+g[5]*w+g[13],p}function ze(p,v,g,b){var w=v[0]-g[0],N=v[1]-g[1],$=Math.sin(b),R=Math.cos(b);return p[0]=w*R-N*$+g[0],p[1]=w*$+N*R+g[1],p}function tt(p,v){var g=p[0],b=p[1],w=v[0],N=v[1];return Math.abs(Math.atan2(b*w-g*N,g*w+b*N))}function Er(p,v){var g=p[0],b=p[1],w=v[0],N=v[1];return Math.atan2(g*N-b*w,g*w+b*N)}function fe(p){return p[0]=0,p[1]=0,p}function Te(p){return"vec2("+p[0]+", "+p[1]+")"}function De(p,v){return p[0]===v[0]&&p[1]===v[1]}function Ke(p,v){var g=p[0],b=p[1],w=v[0],N=v[1];return Math.abs(g-w)<=1e-6*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(b-N)<=1e-6*Math.max(1,Math.abs(b),Math.abs(N))}var Ae,jt=pt,It=mr,zt=Kt,Rt=J,sr=Ze,Ft=Ge,tr=ct,dr=(Ae=xe(),function(p,v,g,b,w,N){var $,R;for(v||(v=2),g||(g=0),R=b?Math.min(b*v+g,p.length):p.length,$=g;$<R;$+=v)Ae[0]=p[$],Ae[1]=p[$+1],w(Ae,Ae,N),p[$]=Ae[0],p[$+1]=Ae[1];return p});function Rr(){var p=new z(3);return z!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p}function qr(p){var v=new z(3);return v[0]=p[0],v[1]=p[1],v[2]=p[2],v}function Tr(p){var v=p[0],g=p[1],b=p[2];return Math.sqrt(v*v+g*g+b*b)}function Yt(p,v,g){var b=new z(3);return b[0]=p,b[1]=v,b[2]=g,b}function Ht(p,v){return p[0]=v[0],p[1]=v[1],p[2]=v[2],p}function Or(p,v,g,b){return p[0]=v,p[1]=g,p[2]=b,p}function zr(p,v,g){return p[0]=v[0]+g[0],p[1]=v[1]+g[1],p[2]=v[2]+g[2],p}function sa(p,v,g){return p[0]=v[0]-g[0],p[1]=v[1]-g[1],p[2]=v[2]-g[2],p}function Zr(p,v,g){return p[0]=v[0]*g[0],p[1]=v[1]*g[1],p[2]=v[2]*g[2],p}function ea(p,v,g){return p[0]=v[0]/g[0],p[1]=v[1]/g[1],p[2]=v[2]/g[2],p}function Ba(p,v){return p[0]=Math.ceil(v[0]),p[1]=Math.ceil(v[1]),p[2]=Math.ceil(v[2]),p}function Zt(p,v){return p[0]=Math.floor(v[0]),p[1]=Math.floor(v[1]),p[2]=Math.floor(v[2]),p}function la(p,v,g){return p[0]=Math.min(v[0],g[0]),p[1]=Math.min(v[1],g[1]),p[2]=Math.min(v[2],g[2]),p}function Ca(p,v,g){return p[0]=Math.max(v[0],g[0]),p[1]=Math.max(v[1],g[1]),p[2]=Math.max(v[2],g[2]),p}function ur(p,v){return p[0]=ae(v[0]),p[1]=ae(v[1]),p[2]=ae(v[2]),p}function ca(p,v,g){return p[0]=v[0]*g,p[1]=v[1]*g,p[2]=v[2]*g,p}function Oa(p,v,g,b){return p[0]=v[0]+g[0]*b,p[1]=v[1]+g[1]*b,p[2]=v[2]+g[2]*b,p}function fa(p,v){var g=v[0]-p[0],b=v[1]-p[1],w=v[2]-p[2];return Math.sqrt(g*g+b*b+w*w)}function Ya(p,v){var g=v[0]-p[0],b=v[1]-p[1],w=v[2]-p[2];return g*g+b*b+w*w}function Oe(p){var v=p[0],g=p[1],b=p[2];return v*v+g*g+b*b}function nt(p,v){return p[0]=-v[0],p[1]=-v[1],p[2]=-v[2],p}function kt(p,v){return p[0]=1/v[0],p[1]=1/v[1],p[2]=1/v[2],p}function Et(p,v){var g=v[0],b=v[1],w=v[2],N=g*g+b*b+w*w;return N>0&&(N=1/Math.sqrt(N)),p[0]=v[0]*N,p[1]=v[1]*N,p[2]=v[2]*N,p}function Lt(p,v){return p[0]*v[0]+p[1]*v[1]+p[2]*v[2]}function ar(p,v,g){var b=v[0],w=v[1],N=v[2],$=g[0],R=g[1],I=g[2];return p[0]=w*I-N*R,p[1]=N*$-b*I,p[2]=b*R-w*$,p}function Wt(p,v,g,b){var w=v[0],N=v[1],$=v[2];return p[0]=w+b*(g[0]-w),p[1]=N+b*(g[1]-N),p[2]=$+b*(g[2]-$),p}function _r(p,v,g,b){var w=Math.acos(Math.min(Math.max(Lt(v,g),-1),1)),N=Math.sin(w),$=Math.sin((1-b)*w)/N,R=Math.sin(b*w)/N;return p[0]=$*v[0]+R*g[0],p[1]=$*v[1]+R*g[1],p[2]=$*v[2]+R*g[2],p}function Dr(p,v,g,b,w,N){var $=N*N,R=$*(2*N-3)+1,I=$*(N-2)+N,D=$*(N-1),G=$*(3-2*N);return p[0]=v[0]*R+g[0]*I+b[0]*D+w[0]*G,p[1]=v[1]*R+g[1]*I+b[1]*D+w[1]*G,p[2]=v[2]*R+g[2]*I+b[2]*D+w[2]*G,p}function ra(p,v,g,b,w,N){var $=1-N,R=$*$,I=N*N,D=R*$,G=3*N*R,re=3*I*$,we=I*N;return p[0]=v[0]*D+g[0]*G+b[0]*re+w[0]*we,p[1]=v[1]*D+g[1]*G+b[1]*re+w[1]*we,p[2]=v[2]*D+g[2]*G+b[2]*re+w[2]*we,p}function Br(p,v){v=v===void 0?1:v;var g=2*q()*Math.PI,b=2*q()-1,w=Math.sqrt(1-b*b)*v;return p[0]=Math.cos(g)*w,p[1]=Math.sin(g)*w,p[2]=b*v,p}function Aa(p,v,g){var b=v[0],w=v[1],N=v[2],$=g[3]*b+g[7]*w+g[11]*N+g[15];return $=$||1,p[0]=(g[0]*b+g[4]*w+g[8]*N+g[12])/$,p[1]=(g[1]*b+g[5]*w+g[9]*N+g[13])/$,p[2]=(g[2]*b+g[6]*w+g[10]*N+g[14])/$,p}function ds(p,v,g){var b=v[0],w=v[1],N=v[2];return p[0]=b*g[0]+w*g[3]+N*g[6],p[1]=b*g[1]+w*g[4]+N*g[7],p[2]=b*g[2]+w*g[5]+N*g[8],p}function oo(p,v,g){var b=g[0],w=g[1],N=g[2],$=g[3],R=v[0],I=v[1],D=v[2],G=w*D-N*I,re=N*R-b*D,we=b*I-w*R;return G+=G,re+=re,we+=we,p[0]=R+$*G+w*we-N*re,p[1]=I+$*re+N*G-b*we,p[2]=D+$*we+b*re-w*G,p}function Pn(p,v,g,b){var w=[],N=[];return w[0]=v[0]-g[0],w[1]=v[1]-g[1],w[2]=v[2]-g[2],N[0]=w[0],N[1]=w[1]*Math.cos(b)-w[2]*Math.sin(b),N[2]=w[1]*Math.sin(b)+w[2]*Math.cos(b),p[0]=N[0]+g[0],p[1]=N[1]+g[1],p[2]=N[2]+g[2],p}function io(p,v,g,b){var w=[],N=[];return w[0]=v[0]-g[0],w[1]=v[1]-g[1],w[2]=v[2]-g[2],N[0]=w[2]*Math.sin(b)+w[0]*Math.cos(b),N[1]=w[1],N[2]=w[2]*Math.cos(b)-w[0]*Math.sin(b),p[0]=N[0]+g[0],p[1]=N[1]+g[1],p[2]=N[2]+g[2],p}function Bi(p,v,g,b){var w=[],N=[];return w[0]=v[0]-g[0],w[1]=v[1]-g[1],w[2]=v[2]-g[2],N[0]=w[0]*Math.cos(b)-w[1]*Math.sin(b),N[1]=w[0]*Math.sin(b)+w[1]*Math.cos(b),N[2]=w[2],p[0]=N[0]+g[0],p[1]=N[1]+g[1],p[2]=N[2]+g[2],p}function Us(p,v){var g=p[0],b=p[1],w=p[2],N=v[0],$=v[1],R=v[2],I=Math.sqrt((g*g+b*b+w*w)*(N*N+$*$+R*R)),D=I&&Lt(p,v)/I;return Math.acos(Math.min(Math.max(D,-1),1))}function Ll(p){return p[0]=0,p[1]=0,p[2]=0,p}function Ul(p){return"vec3("+p[0]+", "+p[1]+", "+p[2]+")"}function qi(p,v){return p[0]===v[0]&&p[1]===v[1]&&p[2]===v[2]}function lo(p,v){var g=p[0],b=p[1],w=p[2],N=v[0],$=v[1],R=v[2];return Math.abs(g-N)<=1e-6*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(b-$)<=1e-6*Math.max(1,Math.abs(b),Math.abs($))&&Math.abs(w-R)<=1e-6*Math.max(1,Math.abs(w),Math.abs(R))}var Go=sa,cd=Zr,Vo=ea,Hi=fa,co=Ya,us=Tr,Fs=Oe,Gi=function(){var p=Rr();return function(v,g,b,w,N,$){var R,I;for(g||(g=3),b||(b=0),I=w?Math.min(w*g+b,v.length):v.length,R=b;R<I;R+=g)p[0]=v[R],p[1]=v[R+1],p[2]=v[R+2],N(p,p,$),v[R]=p[0],v[R+1]=p[1],v[R+2]=p[2];return v}}(),wn=function(p,v){p.fill(v)},Vi=function(p){for(var v=0,g=0;g<p.length;g++)p[g]>p[v]&&(v=g);return v},Yn=function(p){for(var v=p.length,g=0;v--;)g+=p[v];return g},Qa=function(p,v){var g=[],b={rad:0,vec:d.clone([0,0])},w={};function N(R){w[R.id]=R,g.push(R)}function $(){var R,I=0;for(R=0;R<g.length;R++)I+=g[R].rad;b.rad=I/g.length,b.vec=d.clone([Math.cos(b.rad),Math.sin(b.rad)])}return N(p),$(),{add:function(R){w[R.id]||(N(R),$())},fits:function(R){return Math.abs(d.dot(R.point.vec,b.vec))>v},getPoints:function(){return g},getCenter:function(){return b}}},Ko=function(p,v,g){return{rad:p[g],point:p,id:v}};function fs(p,v){return{x:p,y:v,toVec2:function(){return d.clone([this.x,this.y])},toVec3:function(){return u.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function dn(p,v){v||(v=8);for(var g=p.data,b=g.length,w=8-v,N=new Int32Array(1<<v);b--;)N[g[b]>>w]++;return N}function Xa(p,v){var g=function(b){var w,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,$=8-N;function R(re,we){for(var ke=0,Be=re;Be<=we;Be++)ke+=w[Be];return ke}function I(re,we){for(var ke=0,Be=re;Be<=we;Be++)ke+=Be*w[Be];return ke}function D(){var re,we,ke,Be,je=[0],Le=(1<<N)-1;w=dn(b,N);for(var We=1;We<Le;We++)(ke=(re=R(0,We))*(we=R(We+1,Le)))===0&&(ke=1),Be=I(0,We)*we-I(We+1,Le)*re,je[We]=Be*Be/ke;return Vi(je)}var G=D();return G<<$}(p);return function(b,w,N){N||(N=b);for(var $=b.data,R=$.length,I=N.data;R--;)I[R]=$[R]<w?1:0}(p,g,v),g}function hs(p,v,g){var b=p.length/4|0;if(g&&g.singleChannel===!0)for(var w=0;w<b;w++){var N=p[4*w+3];v[w]=N===0?255:p[4*w+0]}else for(var $=0;$<b;$++){var R=p[4*$+3];v[$]=R===0?255:.299*p[4*$+0]+.587*p[4*$+1]+.114*p[4*$+2]}}function uo(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],g=p[0],b=p[1],w=p[2],N=w*b,$=N*(1-Math.abs(g/60%2-1)),R=w-N,I=0,D=0,G=0;return g<60?(I=N,D=$):g<120?(I=$,D=N):g<180?(D=N,G=$):g<240?(D=$,G=N):g<300?(I=$,G=N):g<360&&(I=N,G=$),v[0]=255*(I+R)|0,v[1]=255*(D+R)|0,v[2]=255*(G+R)|0,v}function Mn(p){if(!Number.isFinite(p)||p<1)return[];for(var v=[],g=[],b=Math.sqrt(p),w=1;w<=b;w++)p%w==0&&(g.push(w),w!==p/w&&v.unshift(Math.floor(p/w)));return g.concat(v)}function fo(p,v){var g,b=Mn(v.x),w=Mn(v.y),N=Math.max(v.x,v.y),$=function(ke,Be){for(var je=0,Le=0,We=[];je<ke.length&&Le<Be.length;)ke[je]===Be[Le]?(We.push(ke[je]),je++,Le++):ke[je]>Be[Le]?Le++:je++;return We}(b,w),R=[8,10,15,20,32,60,80],I={"x-small":5,small:4,medium:3,large:2,"x-large":1},D=I[p]||I.medium,G=R[D],re=Math.floor(N/G);function we(ke){for(var Be=0,je=ke[Math.floor(ke.length/2)];Be<ke.length-1&&ke[Be]<re;)Be++;return Be>0&&(je=Math.abs(ke[Be]-re)>Math.abs(ke[Be-1]-re)?ke[Be-1]:ke[Be]),re/je<R[D+1]/R[D]&&re/je>R[D-1]/R[D]?{x:je,y:je}:null}return(g=we($))||(g=we(Mn(N)))||(g=we(Mn(re*G))),g||(g={x:Math.max(1,v.x),y:Math.max(1,v.y)}),g}var Ki={top:function(p,v){return p.unit==="%"?Math.floor(v.height*(p.value/100)):null},right:function(p,v){return p.unit==="%"?Math.floor(v.width-v.width*(p.value/100)):null},bottom:function(p,v){return p.unit==="%"?Math.floor(v.height-v.height*(p.value/100)):null},left:function(p,v){return p.unit==="%"?Math.floor(v.width*(p.value/100)):null}};function Ra(p,v,g){var b={width:p,height:v},w=Object.keys(g).reduce(function(N,$){if(!Ki[$])return N;var R=function(D){return{value:parseFloat(D),unit:(D.indexOf("%"),D.length,"%")}}(g[$]),I=Ki[$](R,b);return N[$]=I,N},{});return{sx:w.left,sy:w.top,sw:w.right-w.left,sh:w.bottom-w.top}}function un(p){if(p<0)throw new Error("expected positive number, received ".concat(p))}var Pa=function(){return B()(function p(v,g){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,w=arguments.length>3?arguments[3]:void 0;A()(this,p),O()(this,"data",void 0),O()(this,"size",void 0),O()(this,"indexMapping",void 0),g?this.data=g:(this.data=new b(v.x*v.y),w&&wn(this.data,0)),this.size=v},[{key:"inImageWithBorder",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return un(v),p.x>=0&&p.y>=0&&p.x<this.size.x+2*v&&p.y<this.size.y+2*v}},{key:"subImageAsCopy",value:function(p,v){un(v.x),un(v.y);for(var g=p.size,b=g.x,w=g.y,N=0;N<b;N++)for(var $=0;$<w;$++)p.data[$*b+N]=this.data[(v.y+$)*this.size.x+v.x+N];return p}},{key:"get",value:function(p,v){return this.data[v*this.size.x+p]}},{key:"getSafe",value:function(p,v){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var g=0;g<this.size.x;g++)this.indexMapping.x[g]=g,this.indexMapping.x[g+this.size.x]=g;for(var b=0;b<this.size.y;b++)this.indexMapping.y[b]=b,this.indexMapping.y[b+this.size.y]=b}return this.data[this.indexMapping.y[v+this.size.y]*this.size.x+this.indexMapping.x[p+this.size.x]]}},{key:"set",value:function(p,v,g){return this.data[v*this.size.x+p]=g,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var p=this.size,v=p.x,g=p.y,b=0;b<v;b++)this.data[b]=this.data[(g-1)*v+b]=0;for(var w=1;w<g-1;w++)this.data[w*v]=this.data[w*v+(v-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(p){var v,g,b,w,N,$,R,I,D,G,re=this.data,we=this.size.y,ke=this.size.x,Be=[],je=[],Le=Math.PI,We=Le/4;if(p<=0)return je;for(N=0;N<p;N++)Be[N]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(g=0;g<we;g++)for(w=g*g,v=0;v<ke;v++)(b=re[g*ke+v])>0&&(($=Be[b-1]).m00+=1,$.m01+=g,$.m10+=v,$.m11+=v*g,$.m02+=w,$.m20+=v*v);for(N=0;N<p;N++)$=Be[N],isNaN($.m00)||$.m00===0||(I=$.m10/$.m00,D=$.m01/$.m00,R=$.m11/$.m00-I*D,G=($.m02/$.m00-D*D-($.m20/$.m00-I*I))/(2*R),G=.5*Math.atan(G)+(R>=0?We:-We)+Le,$.theta=(180*G/Le+90)%180-90,$.theta<0&&($.theta+=180),$.rad=G>Le?G-Le:G,$.vec=d.clone([Math.cos(G),Math.sin(G)]),je.push($));return je}},{key:"getAsRGBA",value:function(){for(var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,v=new Uint8ClampedArray(4*this.size.x*this.size.y),g=0;g<this.size.y;g++)for(var b=0;b<this.size.x;b++){var w=g*this.size.x+b,N=this.get(b,g)*p;v[4*w+0]=N,v[4*w+1]=N,v[4*w+2]=N,v[4*w+3]=255}return v}},{key:"show",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var g=p.getContext("2d");if(!g)throw new Error("Unable to get canvas context");var b=g.getImageData(0,0,p.width,p.height),w=this.getAsRGBA(v);p.width=this.size.x,p.height=this.size.y;var N=new ImageData(w,b.width,b.height);g.putImageData(N,0,0)}},{key:"overlay",value:function(p,v,g){var b=v<0||v>360?360:v,w=[0,1,1],N=[0,0,0],$=[255,255,255],R=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var I=p.getContext("2d");if(!I)throw new Error("Unable to get canvas context");for(var D=I.getImageData(g.x,g.y,this.size.x,this.size.y),G=D.data,re=this.data.length;re--;){w[0]=this.data[re]*b;var we=4*re,ke=w[0]<=0?$:w[0]>=360?R:uo(w,N),Be=T()(ke,3);G[we]=Be[0],G[we+1]=Be[1],G[we+2]=Be[2],G[we+3]=255}I.putImageData(D,g.x,g.y)}}])}(),zs=o(7),Lr=o.n(zs),P=o(6),F=o.n(P),Q={drawRect:function(p,v,g,b){g.strokeStyle=b.color,g.fillStyle=b.color,g.lineWidth=b.lineWidth||1,g.beginPath(),g.strokeRect(p.x,p.y,v.x,v.y)},drawPath:function(p,v,g,b){g.strokeStyle=b.color,g.fillStyle=b.color,g.lineWidth=b.lineWidth,g.beginPath(),g.moveTo(p[0][v.x],p[0][v.y]);for(var w=1;w<p.length;w++)g.lineTo(p[w][v.x],p[w][v.y]);g.closePath(),g.stroke()},drawImage:function(p,v,g){var b=g.getImageData(0,0,v.x,v.y),w=b.data,N=w.length,$=p.length;if(N/$!=4)return!1;for(;$--;){var R=p[$];w[--N]=255,w[--N]=R,w[--N]=R,w[--N]=R}return g.putImageData(b,0,0),!0}},Z=o(4),Se=o.n(Z),Pe=o(1),$e=o.n(Pe),mt=o(5),_t=o.n(mt),gt=function(p){return p[p.Forward=1]="Forward",p[p.Reverse=-1]="Reverse",p}({}),St=function(){return B()(function p(v,g){A()(this,p),O()(this,"_row",[]),O()(this,"config",{}),O()(this,"supplements",[]),O()(this,"SINGLE_CODE_ERROR",0),O()(this,"FORMAT","unknown"),O()(this,"CONFIG_KEYS",{}),this._row=[],this.config=v||{},g&&(this.supplements=g)},[{key:"_nextUnset",value:function(p){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=v;g<p.length;g++)if(!p[g])return g;return p.length}},{key:"_matchPattern",value:function(p,v){for(var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,b=0,w=0,N=0,$=0,R=0,I=0,D=0,G=0;G<p.length;G++)N+=p[G],$+=v[G];if(N<$)return Number.MAX_VALUE;g*=R=N/$;for(var re=0;re<p.length;re++){if(I=p[re],D=v[re]*R,(w=Math.abs(I-D)/D)>g)return Number.MAX_VALUE;b+=w}return b/$}},{key:"_nextSet",value:function(p){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=v;g<p.length;g++)if(p[g])return g;return p.length}},{key:"_correctBars",value:function(p,v,g){for(var b=g.length,w=0;b--;)(w=p[g[b]]*(1-(1-v)/2))>1&&(p[g[b]]=w)}},{key:"decodePattern",value:function(p){this._row=p;var v=this.decode();return v===null?(this._row.reverse(),(v=this.decode())&&(v.direction=gt.Reverse,v.start=this._row.length-v.start,v.end=this._row.length-v.end)):v.direction=gt.Forward,v&&(v.format=this.FORMAT),v}},{key:"_matchRange",value:function(p,v,g){var b;for(b=p=p<0?0:p;b<v;b++)if(this._row[b]!==g)return!1;return!0}},{key:"_fillCounters",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=[],w=0;b[w]=0;for(var N=p;N<v;N++)this._row[N]^(g?1:0)?b[w]++:(b[++w]=1,g=!g);return b}},{key:"_toCounters",value:function(p,v){var g=v.length,b=this._row.length,w=!this._row[p],N=0;wn(v,0);for(var $=p;$<b;$++)if(this._row[$]^(w?1:0))v[N]++;else{if(++N===g)break;v[N]=1,w=!w}return v}},{key:"decodeImage",value:function(p){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}])}();O()(St,"adjacentLineValidationMatches",0);var Bt=St;function Hr(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var or=[3,1,3,1,1,1],Vt=[3,1,1,1,3],At=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],wa=or.reduce(function(p,v){return p+v},0),da=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=Hr(this,v,[].concat(w)),O()(g,"barSpaceRatio",[1,1]),O()(g,"FORMAT","2of5"),O()(g,"SINGLE_CODE_ERROR",.78),O()(g,"AVG_CODE_ERROR",.3),g}return _t()(v,p),B()(v,[{key:"_findPattern",value:function(g,b){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2],N=arguments.length>3&&arguments[3]!==void 0&&arguments[3],$=[],R=0,I={error:Number.MAX_VALUE,code:-1,start:0,end:0},D=0,G=0,re=this.AVG_CODE_ERROR;b||(b=this._nextSet(this._row));for(var we=0;we<g.length;we++)$[we]=0;for(var ke=b;ke<this._row.length;ke++)if(this._row[ke]^(w?1:0))$[R]++;else{if(R===$.length-1){D=0;for(var Be=0;Be<$.length;Be++)D+=$[Be];if((G=this._matchPattern($,g))<re)return I.error=G,I.start=ke-D,I.end=ke,I;if(!N)return null;for(var je=0;je<$.length-2;je++)$[je]=$[je+2];$[$.length-2]=0,$[$.length-1]=0,R--}else R++;$[R]=1,w=!w}return null}},{key:"_findStart",value:function(){for(var g=null,b=this._nextSet(this._row),w=1,N=0;!g;){if(!(g=this._findPattern(or,b,!1,!0)))return null;if(w=Math.floor((g.end-g.start)/wa),(N=g.start-5*w)>=0&&this._matchRange(N,g.start,0))return g;b=g.end,g=null}return g}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start)/2;return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"_findEnd",value:function(){this._row.reverse();var g=this._nextSet(this._row),b=this._findPattern(Vt,g,!1,!0);if(this._row.reverse(),b===null)return null;var w=b.start;return b.start=this._row.length-b.end,b.end=this._row.length-w,b!==null?this._verifyTrailingWhitespace(b):null}},{key:"_verifyCounterLength",value:function(g){return g.length%10==0}},{key:"_decodeCode",value:function(g){for(var b=this.AVG_CODE_ERROR,w={error:Number.MAX_VALUE,code:-1,start:0,end:0},N=0;N<At.length;N++){var $=this._matchPattern(g,At[N]);$<w.error&&(w.code=N,w.error=$)}return w.error<b?w:null}},{key:"_decodePayload",value:function(g,b,w){for(var N=0,$=g.length,R=[0,0,0,0,0],I=null;N<$;){for(var D=0;D<5;D++)R[D]=g[N]*this.barSpaceRatio[0],N+=2;if(!(I=this._decodeCode(R)))return null;b.push("".concat(I.code)),w.push(I)}return I}},{key:"decode",value:function(g,b){var w=this._findStart();if(!w)return null;var N=this._findEnd();if(!N)return null;var $=this._fillCounters(w.end,N.start,!1);if(!this._verifyCounterLength($))return null;var R=[];R.push(w);var I=[];return this._decodePayload($,I,R)?I.length<5?null:(R.push(N),{code:I.join(""),start:w.start,end:N.end,startInfo:w,decodedCodes:R,format:this.FORMAT}):null}}])}(Bt);function aa(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Za=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ms=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Dn=[26,41,11,14],gs=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=aa(this,v,[].concat(w)),O()(g,"_counters",[]),O()(g,"FORMAT","codabar"),g}return _t()(v,p),B()(v,[{key:"_computeAlternatingThreshold",value:function(g,b){for(var w=Number.MAX_VALUE,N=0,$=0,R=g;R<b;R+=2)($=this._counters[R])>N&&(N=$),$<w&&(w=$);return(w+N)/2|0}},{key:"_toPattern",value:function(g){var b=g+7;if(b>this._counters.length)return-1;for(var w=this._computeAlternatingThreshold(g,b),N=this._computeAlternatingThreshold(g+1,b),$=64,R=0,I=0,D=0;D<7;D++)R=(1&D)==0?w:N,this._counters[g+D]>R&&(I|=$),$>>=1;return I}},{key:"_isStartEnd",value:function(g){for(var b=0;b<Dn.length;b++)if(Dn[b]===g)return!0;return!1}},{key:"_sumCounters",value:function(g,b){for(var w=0,N=g;N<b;N++)w+=this._counters[N];return w}},{key:"_findStart",value:function(){for(var g=this._nextUnset(this._row),b=1;b<this._counters.length;b++){var w=this._toPattern(b);if(w!==-1&&this._isStartEnd(w))return{start:g+=this._sumCounters(0,b),end:g+this._sumCounters(b,b+8),startCounter:b,endCounter:b+8}}return null}},{key:"_patternToChar",value:function(g){for(var b=0;b<ms.length;b++)if(ms[b]===g)return String.fromCharCode(Za[b]);return null}},{key:"_calculatePatternLength",value:function(g){for(var b=0,w=g;w<g+7;w++)b+=this._counters[w];return b}},{key:"_verifyWhitespace",value:function(g,b){return(g-1<=0||this._counters[g-1]>=this._calculatePatternLength(g)/2)&&(b+8>=this._counters.length||this._counters[b+7]>=this._calculatePatternLength(b)/2)}},{key:"_charToPattern",value:function(g){for(var b=g.charCodeAt(0),w=0;w<Za.length;w++)if(Za[w]===b)return ms[w];return 0}},{key:"_thresholdResultPattern",value:function(g,b){for(var w,N={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},$=b,R=0;R<g.length;R++){w=this._charToPattern(g[R]);for(var I=6;I>=0;I--){var D=(1&I)==2?N.bar:N.space,G=(1&w)==1?D.wide:D.narrow;G.size+=this._counters[$+I],G.counts++,w>>=1}$+=8}return["space","bar"].forEach(function(re){var we=N[re];we.wide.min=Math.floor((we.narrow.size/we.narrow.counts+we.wide.size/we.wide.counts)/2),we.narrow.max=Math.ceil(we.wide.min),we.wide.max=Math.ceil((2*we.wide.size+1.5)/we.wide.counts)}),N}},{key:"_validateResult",value:function(g,b){for(var w,N=this._thresholdResultPattern(g,b),$=b,R=0;R<g.length;R++){w=this._charToPattern(g[R]);for(var I=6;I>=0;I--){var D=(1&I)==0?N.bar:N.space,G=(1&w)==1?D.wide:D.narrow,re=this._counters[$+I];if(re<G.min||re>G.max)return!1;w>>=1}$+=8}return!0}},{key:"decode",value:function(g,b){if(this._counters=this._fillCounters(),!(b=this._findStart()))return null;var w,N=b.startCounter,$=[];do{if((w=this._toPattern(N))<0)return null;var R=this._patternToChar(w);if(R===null)return null;if($.push(R),N+=8,$.length>1&&this._isStartEnd(w))break}while(N<this._counters.length);if($.length-2<4||!this._isStartEnd(w)||!this._verifyWhitespace(b.startCounter,N-8)||!this._validateResult($,b.startCounter))return null;N=N>this._counters.length?this._counters.length:N;var I=b.start+this._sumCounters(b.startCounter,N-8);return{code:$.join(""),start:b.start,end:I,startInfo:b,decodedCodes:$,format:this.FORMAT}}}])}(Bt);function Wo(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var ho=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=Wo(this,v,[].concat(w)),O()(g,"CODE_SHIFT",98),O()(g,"CODE_C",99),O()(g,"CODE_B",100),O()(g,"CODE_A",101),O()(g,"FNC1",102),O()(g,"START_CODE_A",103),O()(g,"START_CODE_B",104),O()(g,"START_CODE_C",105),O()(g,"STOP_CODE",106),O()(g,"FNC1_CHAR",""),O()(g,"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),O()(g,"SINGLE_CODE_ERROR",.64),O()(g,"AVG_CODE_ERROR",.3),O()(g,"FORMAT","code_128"),O()(g,"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),g}return _t()(v,p),B()(v,[{key:"_decodeCode",value:function(g,b){for(var w={error:Number.MAX_VALUE,code:-1,start:g,end:g,correction:{bar:1,space:1}},N=[0,0,0,0,0,0],$=g,R=!this._row[$],I=0,D=$;D<this._row.length;D++)if(this._row[D]^(R?1:0))N[I]++;else{if(I===N.length-1){b&&this._correct(N,b);for(var G=0;G<this.CODE_PATTERN.length;G++){var re=this._matchPattern(N,this.CODE_PATTERN[G]);re<w.error&&(w.code=G,w.error=re)}return w.end=D,w.code===-1||w.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[w.code]&&(w.correction.bar=this.calculateCorrection(this.CODE_PATTERN[w.code],N,this.MODULE_INDICES.bar),w.correction.space=this.calculateCorrection(this.CODE_PATTERN[w.code],N,this.MODULE_INDICES.space)),w)}N[++I]=1,R=!R}return null}},{key:"_correct",value:function(g,b){this._correctBars(g,b.bar,this.MODULE_INDICES.bar),this._correctBars(g,b.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var g=[0,0,0,0,0,0],b=this._nextSet(this._row),w={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},N=!1,$=0,R=b;R<this._row.length;R++)if(this._row[R]^(N?1:0))g[$]++;else{if($===g.length-1){for(var I=g.reduce(function(we,ke){return we+ke},0),D=this.START_CODE_A;D<=this.START_CODE_C;D++){var G=this._matchPattern(g,this.CODE_PATTERN[D]);G<w.error&&(w.code=D,w.error=G)}if(w.error<this.AVG_CODE_ERROR)return w.start=R-I,w.end=R,w.correction.bar=this.calculateCorrection(this.CODE_PATTERN[w.code],g,this.MODULE_INDICES.bar),w.correction.space=this.calculateCorrection(this.CODE_PATTERN[w.code],g,this.MODULE_INDICES.space),w;for(var re=0;re<4;re++)g[re]=g[re+2];g[4]=0,g[5]=0,$--}else $++;g[$]=1,N=!N}return null}},{key:"decode",value:function(g,b){var w=this,N=this._findStart();if(N===null)return null;var $={code:N.code,start:N.start,end:N.end,correction:{bar:N.correction.bar,space:N.correction.space}},R=[];R.push($);for(var I=$.code,D=function(We){switch(We){case w.START_CODE_A:return w.CODE_A;case w.START_CODE_B:return w.CODE_B;case w.START_CODE_C:return w.CODE_C;default:return null}}($.code),G=!1,re=!1,we=re,ke=!0,Be=0,je=[],Le=[];!G;){if(we=re,re=!1,($=this._decodeCode($.end,$.correction))!==null)switch($.code!==this.STOP_CODE&&(ke=!0),$.code!==this.STOP_CODE&&(je.push($.code),I+=++Be*$.code),R.push($),D){case this.CODE_A:if($.code<64)Le.push(String.fromCharCode(32+$.code));else if($.code<96)Le.push(String.fromCharCode($.code-64));else switch($.code!==this.STOP_CODE&&(ke=!1),$.code){case this.CODE_SHIFT:re=!0,D=this.CODE_B;break;case this.CODE_B:D=this.CODE_B;break;case this.CODE_C:D=this.CODE_C;break;case this.FNC1:Le.push(this.FNC1_CHAR);break;case this.STOP_CODE:G=!0}break;case this.CODE_B:if($.code<96)Le.push(String.fromCharCode(32+$.code));else switch($.code!==this.STOP_CODE&&(ke=!1),$.code){case this.CODE_SHIFT:re=!0,D=this.CODE_A;break;case this.CODE_A:D=this.CODE_A;break;case this.CODE_C:D=this.CODE_C;break;case this.FNC1:Le.push(this.FNC1_CHAR);break;case this.STOP_CODE:G=!0}break;case this.CODE_C:if($.code<100)Le.push($.code<10?"0"+$.code:$.code);else switch($.code!==this.STOP_CODE&&(ke=!1),$.code){case this.CODE_A:D=this.CODE_A;break;case this.CODE_B:D=this.CODE_B;break;case this.FNC1:Le.push(this.FNC1_CHAR);break;case this.STOP_CODE:G=!0}}else G=!0;we&&(D=D===this.CODE_A?this.CODE_B:this.CODE_A)}return $===null?null:($.end=this._nextUnset(this._row,$.end),this._verifyTrailingWhitespace($)?(I-=Be*je[je.length-1])%103!==je[je.length-1]?null:Le.length?(ke&&Le.splice(Le.length-1,1),{code:Le.join(""),start:N.start,end:$.end,codeset:D,startInfo:N,decodedCodes:R,endInfo:$,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(g){var b;return(b=g.end+(g.end-g.start)/2)<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"calculateCorrection",value:function(g,b,w){for(var N=w.length,$=0,R=0;N--;)R+=g[w[N]],$+=b[w[N]];return R/$}}])}(Bt),Fl=o(13),zl=o.n(Fl),Lh=o(16),Bl=o.n(Lh);function Uh(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Fh=new Uint16Array(Bl()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(p){return p.charCodeAt(0)})),tf=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),ql=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=Uh(this,v,[].concat(w)),O()(g,"FORMAT","code_39"),g}return _t()(v,p),B()(v,[{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),b=g,w=new Uint16Array([0,0,0,0,0,0,0,0,0]),N=0,$=!1,R=g;R<this._row.length;R++)if(this._row[R]^($?1:0))w[N]++;else{if(N===w.length-1){if(this._toPattern(w)===148){var I=Math.floor(Math.max(0,b-(R-b)/4));if(this._matchRange(I,b,0))return{start:b,end:R}}b+=w[0]+w[1];for(var D=0;D<7;D++)w[D]=w[D+2];w[7]=0,w[8]=0,N--}else N++;w[N]=1,$=!$}return null}},{key:"_toPattern",value:function(g){for(var b=g.length,w=0,N=b,$=0;N>3;){w=this._findNextWidth(g,w),N=0;for(var R=0,I=0;I<b;I++)g[I]>w&&(R|=1<<b-1-I,N++,$+=g[I]);if(N===3){for(var D=0;D<b&&N>0;D++)if(g[D]>w&&(N--,2*g[D]>=$))return-1;return R}}return-1}},{key:"_findNextWidth",value:function(g,b){for(var w=Number.MAX_VALUE,N=0;N<g.length;N++)g[N]<w&&g[N]>b&&(w=g[N]);return w}},{key:"_patternToChar",value:function(g){for(var b=0;b<tf.length;b++)if(tf[b]===g)return String.fromCharCode(Fh[b]);return null}},{key:"_verifyTrailingWhitespace",value:function(g,b,w){var N=Yn(w);return 3*(b-g-N)>=N}},{key:"decode",value:function(){var g=new Uint16Array([0,0,0,0,0,0,0,0,0]),b=[],w=this._findStart();if(!w)return null;var N,$,R=this._nextSet(this._row,w.end);do{g=this._toCounters(R,g);var I=this._toPattern(g);if(I<0||(N=this._patternToChar(I))===null)return null;b.push(N),$=R,R+=Yn(g),R=this._nextSet(this._row,R)}while(N!=="*");return b.pop(),b.length&&this._verifyTrailingWhitespace($,R,g)?{code:b.join(""),start:w.start,end:R,startInfo:w,decodedCodes:b,format:this.FORMAT}:null}}])}(Bt);function dd(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Wi=/[AEIO]/g,rf=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=dd(this,v,[].concat(w)),O()(g,"FORMAT","code_32_reader"),g}return _t()(v,p),B()(v,[{key:"_decodeCode32",value:function(g){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(g))return null;for(var b=0,w=0;w<g.length;w++)b=32*b+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(g[w]);var N="".concat(b);return N.length<9&&(N=("000000000"+N).slice(-9)),"A"+N}},{key:"_checkChecksum",value:function(g){return!!g}},{key:"decode",value:function(){var g,b,w,N,$,R=(g=v,b="decode",w=this,N=3,$=zl()($e()(1&N?g.prototype:g),b,w),2&N&&typeof $=="function"?function(G){return $.apply(w,G)}:$)([]);if(!R)return null;var I=R.code;if(!I||(I=I.replace(Wi,""),!this._checkChecksum(I)))return null;var D=this._decodeCode32(I);return D?(R.code=D,R):null}}])}(ql);function af(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var nf=/[IOQ]/g,sf=/[A-Z0-9]{17}/,ud=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=af(this,v,[].concat(w)),O()(g,"FORMAT","code_39_vin"),g}return _t()(v,p),B()(v,[{key:"_checkChecksum",value:function(g){return!!g}},{key:"decode",value:function(){var g,b,w,N,$,R=(g=v,b="decode",w=this,N=3,$=zl()($e()(1&N?g.prototype:g),b,w),2&N&&typeof $=="function"?function(D){return $.apply(w,D)}:$)([]);if(!R)return null;var I=R.code;return I&&(I=I.replace(nf,"")).match(sf)&&this._checkChecksum(I)?(R.code=I,R):null}}])}(ql);function of(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Bs=new Uint16Array(Bl()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(p){return p.charCodeAt(0)})),lf=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),cf=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=of(this,v,[].concat(w)),O()(g,"FORMAT","code_93"),g}return _t()(v,p),B()(v,[{key:"_patternToChar",value:function(g){for(var b=0;b<lf.length;b++)if(lf[b]===g)return String.fromCharCode(Bs[b]);return null}},{key:"_toPattern",value:function(g){for(var b=g.length,w=g.reduce(function(D,G){return D+G},0),N=0,$=0;$<b;$++){var R=Math.round(9*g[$]/w);if(R<1||R>4)return-1;if((1&$)==0)for(var I=0;I<R;I++)N=N<<1|1;else N<<=R}return N}},{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),b=g,w=new Uint16Array([0,0,0,0,0,0]),N=0,$=!1,R=g;R<this._row.length;R++)if(this._row[R]^($?1:0))w[N]++;else{if(N===w.length-1){if(this._toPattern(w)===350){var I=Math.floor(Math.max(0,b-(R-b)/4));if(this._matchRange(I,b,0))return{start:b,end:R}}b+=w[0]+w[1];for(var D=0;D<4;D++)w[D]=w[D+2];w[4]=0,w[5]=0,N--}else N++;w[N]=1,$=!$}return null}},{key:"_verifyEnd",value:function(g,b){return!(g===b||!this._row[b])}},{key:"_decodeExtended",value:function(g){for(var b=g.length,w=[],N=0;N<b;N++){var $=g[N];if($>="a"&&$<="d"){if(N>b-2)return null;var R=g[++N],I=R.charCodeAt(0),D=void 0;switch($){case"a":if(!(R>="A"&&R<="Z"))return null;D=String.fromCharCode(I-64);break;case"b":if(R>="A"&&R<="E")D=String.fromCharCode(I-38);else if(R>="F"&&R<="J")D=String.fromCharCode(I-11);else if(R>="K"&&R<="O")D=String.fromCharCode(I+16);else if(R>="P"&&R<="S")D=String.fromCharCode(I+43);else{if(!(R>="T"&&R<="Z"))return null;D=""}break;case"c":if(R>="A"&&R<="O")D=String.fromCharCode(I-32);else{if(R!=="Z")return null;D=":"}break;case"d":if(!(R>="A"&&R<="Z"))return null;D=String.fromCharCode(I+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",D),null}w.push(D)}else w.push($)}return w}},{key:"_matchCheckChar",value:function(g,b,w){var N=g.slice(0,b),$=N.length,R=N.reduce(function(I,D,G){return I+((-1*G+($-1))%w+1)*Bs.indexOf(D.charCodeAt(0))},0);return Bs[R%47]===g[b].charCodeAt(0)}},{key:"_verifyChecksums",value:function(g){return this._matchCheckChar(g,g.length-2,20)&&this._matchCheckChar(g,g.length-1,15)}},{key:"decode",value:function(g,b){if(!(b=this._findStart()))return null;var w,N,$=new Uint16Array([0,0,0,0,0,0]),R=[],I=this._nextSet(this._row,b.end);do{$=this._toCounters(I,$);var D=this._toPattern($);if(D<0||(N=this._patternToChar(D))===null)return null;R.push(N),w=I,I+=Yn($),I=this._nextSet(this._row,I)}while(N!=="*");return R.pop(),R.length&&this._verifyEnd(w,I)&&this._verifyChecksums(R)?(R=R.slice(0,R.length-2),(R=this._decodeExtended(R))===null?null:{code:R.join(""),start:b.start,end:I,startInfo:b,decodedCodes:R,format:this.FORMAT}):null}}])}(Bt);function df(p,v){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),g.push.apply(g,b)}return g}function Hl(p){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?df(Object(g),!0).forEach(function(b){O()(p,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):df(Object(g)).forEach(function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(g,b))})}return p}function uf(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Yi=[1,1,1],Yo=[1,1,1,1,1],zh=[1,1,2],Qi=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],fd=[0,11,13,14,19,25,28,21,22,26],ps=function(p){function v(g,b){var w;return A()(this,v),w=uf(this,v,[_()({supplements:[]},g),b]),O()(w,"FORMAT","ean_13"),O()(w,"SINGLE_CODE_ERROR",.7),O()(w,"STOP_PATTERN",[1,1,1]),w}return _t()(v,p),B()(v,[{key:"_findPattern",value:function(g,b,w,N){var $=new Array(g.length).fill(0),R={error:Number.MAX_VALUE,start:0,end:0},I=0;b||(b=this._nextSet(this._row));for(var D=!1,G=b;G<this._row.length;G++)if(this._row[G]^(w?1:0))$[I]+=1;else{if(I===$.length-1){var re=this._matchPattern($,g);if(re<.48&&R.error&&re<R.error)return D=!0,R.error=re,R.start=G-$.reduce(function(ke,Be){return ke+Be},0),R.end=G,R;if(N){for(var we=0;we<$.length-2;we++)$[we]=$[we+2];$[$.length-2]=0,$[$.length-1]=0,I--}}else I++;$[I]=1,w=!w}return D?R:null}},{key:"_decodeCode",value:function(g,b){var w=[0,0,0,0],N=g,$={error:Number.MAX_VALUE,code:-1,start:g,end:g},R=!this._row[N],I=0;b||(b=Qi.length);for(var D=N;D<this._row.length;D++)if(this._row[D]^(R?1:0))w[I]++;else{if(I===w.length-1){for(var G=0;G<b;G++){var re=this._matchPattern(w,Qi[G]);$.end=D,re<$.error&&($.code=G,$.error=re)}return $.error>.48?null:$}w[++I]=1,R=!R}return null}},{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),b=null;!b;){if(!(b=this._findPattern(Yi,g,!1,!0)))return null;var w=b.start-(b.end-b.start);if(w>=0&&this._matchRange(w,b.start,0))return b;g=b.end,b=null}return null}},{key:"_calculateFirstDigit",value:function(g){for(var b=0;b<fd.length;b++)if(g===fd[b])return b;return null}},{key:"_decodePayload",value:function(g,b,w){for(var N=Hl({},g),$=0,R=0;R<6;R++){if(!(N=this._decodeCode(N.end)))return null;N.code>=10?(N.code-=10,$|=1<<5-R):$|=0<<5-R,b.push(N.code),w.push(N)}var I=this._calculateFirstDigit($);if(I===null)return null;b.unshift(I);var D=this._findPattern(Yo,N.end,!0,!1);if(D===null||!D.end)return null;w.push(D);for(var G=0;G<6;G++){if(!(D=this._decodeCode(D.end,10)))return null;w.push(D),b.push(D.code)}return D}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start);return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"_findEnd",value:function(g,b){var w=this._findPattern(this.STOP_PATTERN,g,b,!1);return w!==null?this._verifyTrailingWhitespace(w):null}},{key:"_checksum",value:function(g){for(var b=0,w=g.length-2;w>=0;w-=2)b+=g[w];b*=3;for(var N=g.length-1;N>=0;N-=2)b+=g[N];return b%10==0}},{key:"_decodeExtensions",value:function(g){var b=this._nextSet(this._row,g),w=this._findPattern(zh,b,!1,!1);if(w===null)return null;for(var N=0;N<this.supplements.length;N++)try{var $=this.supplements[N].decode(this._row,w.end);if($!==null)return{code:$.code,start:b,startInfo:w,end:$.end,decodedCodes:$.decodedCodes,format:this.supplements[N].FORMAT}}catch(R){console.error("* decodeExtensions error in ",this.supplements[N],": ",R)}return null}},{key:"decode",value:function(g,b){var w=new Array,N=new Array,$={},R=this._findStart();if(!R)return null;var I={start:R.start,end:R.end};if(N.push(I),!(I=this._decodePayload(I,w,N))||!(I=this._findEnd(I.end,!1))||(N.push(I),!this._checksum(w)))return null;if(this.supplements.length>0){var D=this._decodeExtensions(I.end);if(!D||!D.decodedCodes)return null;var G=D.decodedCodes[D.decodedCodes.length-1],re={start:G.start+((G.end-G.start)/2|0),end:G.end};if(!this._verifyTrailingWhitespace(re))return null;$={supplement:D,code:w.join("")+D.code}}return Hl(Hl({code:w.join(""),start:R.start,end:I.end,startInfo:R,decodedCodes:N},$),{},{format:this.FORMAT})}}])}(Bt);function hd(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Gl=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=hd(this,v,[].concat(w)),O()(g,"FORMAT","ean_2"),g}return _t()(v,p),B()(v,[{key:"decode",value:function(g,b){g&&(this._row=g);var w=0,N=b,$=this._row.length,R=[],I=[],D=null;if(N===void 0)return null;for(var G=0;G<2&&N<$;G++){if(!(D=this._decodeCode(N)))return null;I.push(D),R.push(D.code%10),D.code>=10&&(w|=1<<1-G),G!==1&&(N=this._nextSet(this._row,D.end),N=this._nextUnset(this._row,N))}if(R.length!==2||parseInt(R.join(""))%4!==w)return null;var re=this._findStart();return{code:R.join(""),decodedCodes:I,end:D.end,format:this.FORMAT,startInfo:re,start:re.start}}}])}(ps);function ff(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var hf=[24,20,18,17,12,6,3,10,9,5],md=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=ff(this,v,[].concat(w)),O()(g,"FORMAT","ean_5"),g}return _t()(v,p),B()(v,[{key:"decode",value:function(g,b){if(b===void 0)return null;g&&(this._row=g);for(var w=0,N=b,$=this._row.length,R=null,I=[],D=[],G=0;G<5&&N<$;G++){if(!(R=this._decodeCode(N)))return null;D.push(R),I.push(R.code%10),R.code>=10&&(w|=1<<4-G),G!==4&&(N=this._nextSet(this._row,R.end),N=this._nextUnset(this._row,N))}if(I.length!==5||function(we){for(var ke=we.length,Be=0,je=ke-2;je>=0;je-=2)Be+=we[je];Be*=3;for(var Le=ke-1;Le>=0;Le-=2)Be+=we[Le];return(Be*=3)%10}(I)!==function(we){for(var ke=0;ke<10;ke++)if(we===hf[ke])return ke;return null}(w))return null;var re=this._findStart();return{code:I.join(""),decodedCodes:D,end:R.end,format:this.FORMAT,startInfo:re,start:re.start}}}])}(ps);function Bh(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var mf=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=Bh(this,v,[].concat(w)),O()(g,"FORMAT","ean_8"),g}return _t()(v,p),B()(v,[{key:"_decodePayload",value:function(g,b,w){for(var N=g,$=0;$<4;$++){if(!(N=this._decodeCode(N.end,10)))return null;b.push(N.code),w.push(N)}if((N=this._findPattern(Yo,N.end,!0,!1))===null)return null;w.push(N);for(var R=0;R<4;R++){if(!(N=this._decodeCode(N.end,10)))return null;w.push(N),b.push(N.code)}return N}}])}(ps);function qh(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var gf=function(p){function v(g){var b;return A()(this,v),b=qh(this,v,[_()({normalizeBarSpaceWidth:!1},g)]),O()(b,"barSpaceRatio",[1,1]),O()(b,"SINGLE_CODE_ERROR",.78),O()(b,"AVG_CODE_ERROR",.38),O()(b,"START_PATTERN",[1,1,1,1]),O()(b,"STOP_PATTERN",[1,1,3]),O()(b,"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),O()(b,"MAX_CORRECTION_FACTOR",5),O()(b,"FORMAT","i2of5"),g.normalizeBarSpaceWidth&&(b.SINGLE_CODE_ERROR=.38,b.AVG_CODE_ERROR=.09),b.config=g,Se()(b,b)}return _t()(v,p),B()(v,[{key:"_matchPattern",value:function(g,b){if(this.config.normalizeBarSpaceWidth){for(var w=[0,0],N=[0,0],$=[0,0],R=this.MAX_CORRECTION_FACTOR,I=1/R,D=0;D<g.length;D++)w[D%2]+=g[D],N[D%2]+=b[D];$[0]=N[0]/w[0],$[1]=N[1]/w[1],$[0]=Math.max(Math.min($[0],R),I),$[1]=Math.max(Math.min($[1],R),I),this.barSpaceRatio=$;for(var G=0;G<g.length;G++)g[G]*=this.barSpaceRatio[G%2]}return(re=v,we="_matchPattern",ke=this,Be=3,je=zl()($e()(1&Be?re.prototype:re),we,ke),2&Be&&typeof je=="function"?function(Le){return je.apply(ke,Le)}:je)([g,b]);var re,we,ke,Be,je}},{key:"_findPattern",value:function(g,b){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2],N=arguments.length>3&&arguments[3]!==void 0&&arguments[3],$=new Array(g.length).fill(0),R=0,I={error:Number.MAX_VALUE,start:0,end:0},D=this.AVG_CODE_ERROR;w=w||!1,N=N||!1,b||(b=this._nextSet(this._row));for(var G=b;G<this._row.length;G++)if(this._row[G]^(w?1:0))$[R]++;else{if(R===$.length-1){var re=$.reduce(function(Be,je){return Be+je},0),we=this._matchPattern($,g);if(we<D)return I.error=we,I.start=G-re,I.end=G,I;if(!N)return null;for(var ke=0;ke<$.length-2;ke++)$[ke]=$[ke+2];$[$.length-2]=0,$[$.length-1]=0,R--}else R++;$[R]=1,w=!w}return null}},{key:"_findStart",value:function(){for(var g=0,b=this._nextSet(this._row),w=null,N=1;!w;){if(!(w=this._findPattern(this.START_PATTERN,b,!1,!0)))return null;if(N=Math.floor((w.end-w.start)/4),(g=w.start-10*N)>=0&&this._matchRange(g,w.start,0))return w;b=w.end,w=null}return null}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start)/2;return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}},{key:"_findEnd",value:function(){this._row.reverse();var g=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),g===null)return null;var b=g.start;return g.start=this._row.length-g.end,g.end=this._row.length-b,g!==null?this._verifyTrailingWhitespace(g):null}},{key:"_decodePair",value:function(g){for(var b=[],w=0;w<g.length;w++){var N=this._decodeCode(g[w]);if(!N)return null;b.push(N)}return b}},{key:"_decodeCode",value:function(g){for(var b=this.AVG_CODE_ERROR,w={error:Number.MAX_VALUE,code:-1,start:0,end:0},N=0;N<this.CODE_PATTERN.length;N++){var $=this._matchPattern(g,this.CODE_PATTERN[N]);$<w.error&&(w.code=N,w.error=$)}return w.error<b?w:null}},{key:"_decodePayload",value:function(g,b,w){for(var N=0,$=g.length,R=[[0,0,0,0,0],[0,0,0,0,0]],I=null;N<$;){for(var D=0;D<5;D++)R[0][D]=g[N]*this.barSpaceRatio[0],R[1][D]=g[N+1]*this.barSpaceRatio[1],N+=2;if(!(I=this._decodePair(R)))return null;for(var G=0;G<I.length;G++)b.push(I[G].code+""),w.push(I[G])}return I}},{key:"_verifyCounterLength",value:function(g){return g.length%10==0}},{key:"decode",value:function(g,b){var w=new Array,N=new Array,$=this._findStart();if(!$)return null;N.push($);var R=this._findEnd();if(!R)return null;var I=this._fillCounters($.end,R.start,!1);return this._verifyCounterLength(I)&&this._decodePayload(I,w,N)?w.length%2!=0||w.length<6?null:(N.push(R),{code:w.join(""),start:$.start,end:R.end,startInfo:$,decodedCodes:N,format:this.FORMAT}):null}}])}(Bt);function Xi(p,v){var g=typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(!g){if(Array.isArray(p)||(g=function(I,D){if(I){if(typeof I=="string")return Ja(I,D);var G={}.toString.call(I).slice(8,-1);return G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set"?Array.from(I):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?Ja(I,D):void 0}}(p))||v){g&&(p=g);var b=0,w=function(){};return{s:w,n:function(){return b>=p.length?{done:!0}:{done:!1,value:p[b++]}},e:function(I){throw I},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,$=!0,R=!1;return{s:function(){g=g.call(p)},n:function(){var I=g.next();return $=I.done,I},e:function(I){R=!0,N=I},f:function(){try{$||g.return==null||g.return()}finally{if(R)throw N}}}}function Ja(p,v){(v==null||v>p.length)&&(v=p.length);for(var g=0,b=Array(v);g<v;g++)b[g]=p[g];return b}function Zi(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var gd=[2,2.5,3],pd=function(p){function v(){var g,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return A()(this,v),g=Zi(this,v,[b]),O()(g,"FORMAT","pharmacode"),O()(g,"SINGLE_CODE_ERROR",.7),O()(g,"AVG_CODE_ERROR",.48),g}return _t()(v,p),B()(v,[{key:"_findStart",value:function(){for(var g=0;g<this._row.length;){var b=this._nextSet(this._row,g);if(b>=this._row.length)return null;for(var w=b;w<this._row.length&&this._row[w];)w++;var N=w-b;if(N<5)g=w+1;else{var $=b-Math.max(2*N,20);if($<0)g=w+1;else if(this._matchRange($,b,0)){var R=Math.max(10*N,50),I=this._nextSet(this._row,w);if(I>=this._row.length)g=w+1;else{if(!(I-w>R))return{start:b,end:w};g=w+1}}else g=w+1}}return null}},{key:"_smoothBarWidths",value:function(g){if(g.length<=2)return g;for(var b=g.slice(),w=1;w<b.length-1;w++){var N=b[w-1],$=b[w],R=[N,$,b[w+1]].sort(function(D,G){return D-G})[1],I=Math.abs($-R);I>0&&I<=3&&(b[w]=R)}return b}},{key:"_extractBarsAndSpaces",value:function(g){for(var b=[],w=[],N=g,$=0,R=!1;N<this._row.length&&this._row[N];)$++,N++;if($===0)return null;for(b.push($),$=0;N<this._row.length&&!this._row[N];)$++,N++;if($===0||N>=this._row.length)return null;w.push($);for(var I=6*(b[0]<w[0]?b[0]:.8*w[0]),D=2.5*w[0];N<this._row.length&&b.length<16;){for($=0;N<this._row.length&&this._row[N];)$++,N++;if($===0)break;b.push($),$=0;for(var G=N;N<this._row.length&&!this._row[N];)$++,N++;if($===0)break;if($>=I){R=!0,N=G;break}if(b.length>=2&&$>=D){R=!0,N=G;break}if(N>=this._row.length){R=!0,N=G;break}w.push($),w.length>=2&&(D=2*(w.reduce(function(re,we){return re+we},0)/w.length))}return R?b.length<2||b.length>16||w.length!==b.length-1?null:this._validateSpaces(w)&&this._validateBarSizeCount(b)?{bars:this._smoothBarWidths(b),spaces:w,end:N}:null:null}},{key:"_validateBarSizeCount",value:function(g){if(g.length===0)return!1;var b,w=[],N=Xi(g);try{for(N.s();!(b=N.n()).done;){var $,R=b.value,I=!1,D=Xi(w);try{for(D.s();!($=D.n()).done;){var G=$.value,re=G.reduce(function(we,ke){return we+ke},0)/G.length;if(Math.abs(R-re)<=.35*re){G.push(R),I=!0;break}}}catch(we){D.e(we)}finally{D.f()}I||w.push([R])}}catch(we){N.e(we)}finally{N.f()}return!(w.length>2)}},{key:"_validateSpaces",value:function(g){if(g.length===0)return!0;var b=g.reduce(function(N,$){return N+$},0)/g.length;if(b===0)return!1;var w=g.reduce(function(N,$){return N+Math.pow($-b,2)},0)/g.length;return Math.sqrt(w)/b<=.35}},{key:"_validateBarRatios",value:function(g,b){var w=g.reduce(function(Qt,ba){return Qt+ba},0)/g.length,N=g.reduce(function(Qt,ba){return Qt+Math.abs(ba-w)},0)/g.length;if((w===0?0:N/w)<=.1){var $=b.length>0?b.reduce(function(Qt,ba){return Qt+ba},0)/b.length:0;return $>0&&$/w<.7?{narrowWidth:w/2.5,wideRatio:2.5}:{narrowWidth:w,wideRatio:2}}var R=Array.from(new Set(g.slice().sort(function(Qt,ba){return Qt-ba})));if(R.length<2)return{narrowWidth:g.reduce(function(Qt,ba){return Qt+ba},0)/g.length,wideRatio:2};for(var I=[],D=0;D<R.length-1;D++){var G,re=(R[D]+R[D+1])/2,we=[],ke=[],Be=Xi(g);try{for(Be.s();!(G=Be.n()).done;){var je=G.value;je<re?we.push(je):ke.push(je)}}catch(Qt){Be.e(Qt)}finally{Be.f()}if(we.length!==0&&ke.length!==0){for(var Le=we.reduce(function(Qt,ba){return Qt+ba},0)/we.length,We=ke.reduce(function(Qt,ba){return Qt+ba},0)/ke.length,Qe=We/Le,Ct=gd[0],wt=Math.abs(Qe-Ct),Xt=0,cr=gd;Xt<cr.length;Xt++){var lr=cr[Xt],vr=Math.abs(Qe-lr);vr<wt&&(wt=vr,Ct=lr)}I.push({threshold:re,narrowBars:we,wideBars:ke,avgN:Le,avgW:We,ratio:Qe,ratioDiff:wt,matchedRatio:Ct})}}I.sort(function(Qt,ba){return Qt.ratioDiff-ba.ratioDiff});for(var en=0,mn=I;en<mn.length;en++){var Yr=mn[en],fr=.05*Yr.matchedRatio;if(!(Math.abs(Yr.ratio-Yr.matchedRatio)>fr)){var jr,Vr=.15*Yr.avgN,Un=.15*Yr.avgW,tn=!0,Pr=Xi(Yr.narrowBars);try{for(Pr.s();!(jr=Pr.n()).done;){var rn=jr.value;if(Math.abs(rn-Yr.avgN)>Vr){tn=!1;break}}}catch(Qt){Pr.e(Qt)}finally{Pr.f()}if(tn){var ws,gn=Xi(Yr.wideBars);try{for(gn.s();!(ws=gn.n()).done;){var Jn=ws.value;if(Math.abs(Jn-Yr.avgW)>Un){tn=!1;break}}}catch(Qt){gn.e(Qt)}finally{gn.f()}if(tn)return{narrowWidth:Yr.avgN,wideRatio:Yr.matchedRatio}}}}return null}},{key:"_validatePeriodicity",value:function(g,b){if(g.length>0){var w=g.reduce(function(G,re){return G+re},0)/g.length,N=g.reduce(function(G,re){return G+Math.pow(re-w,2)},0)/g.length,$=Math.sqrt(N);if((w!==0?$/w:0)>.65)return!1}if(b.length>0){var R=b.reduce(function(G,re){return G+re},0)/b.length,I=b.reduce(function(G,re){return G+Math.pow(re-R,2)},0)/b.length,D=Math.sqrt(I);if((R!==0?D/R:0)>.55)return!1}return!0}},{key:"_validateQuietZones",value:function(g,b,w){var N=1*b;if(g.start>=2&&g.start<N)return!1;var $=this._row.length-w;return $<6||!($<N)}},{key:"_decodeBars",value:function(g,b){for(var w=1.6*(b!=null?b:Math.min.apply(Math,Bl()(g))),N=0,$=g.slice().reverse(),R=0;R<$.length;R++)N+=$[R]>w?Math.pow(2,R+1):Math.pow(2,R);for(var I="",D=$.length-1;D>=0;D--)I+=$[D]>w?"W":"N";return{value:N,pattern:I}}},{key:"_verifyTrailingWhitespace",value:function(g,b){var w=Math.min(g+2*b,this._row.length);return this._matchRange(g,w,0)}},{key:"_validatePatternConsistency",value:function(g,b){for(var w=g.start,N=0,$=0,R=0,I=[-2,-1,1,2];R<I.length;R++){var D=w+I[R];if(!(D<0||D>=this._row.length)){$++;var G=this._extractBarsAndSpaces(D);if(G&&G.bars.length===b.length){for(var re=!0,we=0;we<b.length;we++)if(Math.abs(G.bars[we]-b[we])/Math.max(b[we],1)>.25){re=!1;break}re&&N++}}}return $>0&&N>=.5*$}},{key:"decode",value:function(g,b){var w=this._findStart();if(!w||w.start>.5*this._row.length)return null;var N=this._extractBarsAndSpaces(w.start);if(!N)return null;var $=N.bars,R=N.spaces,I=N.end;if($.reduce(function(Be,je){return Be+je},0)+R.reduce(function(Be,je){return Be+je},0)<20||this._row.length-I<0||!this._validateSpaces(R)||!this._validatePeriodicity($,R)||!this._validatePatternConsistency(w,$))return null;var D=this._validateBarRatios($,R);if(!D||!this._validateQuietZones(w,D.narrowWidth,I))return null;var G=this._decodeBars($,D.narrowWidth);if(!G)return null;var re=G.value;if(re<3||re>131070)return null;var we=$.reduce(function(Be,je){return Be+je},0)/$.length;this._verifyTrailingWhitespace(I,we);var ke=$.map(function(Be,je){return{code:Be>1.6*Math.min.apply(Math,Bl()($))?1:0,start:0,end:0,error:0}});return{code:re.toString(),start:w.start,end:I,startInfo:w,decodedCodes:ke,pattern:G.pattern,format:this.FORMAT}}}])}(Bt);O()(pd,"adjacentLineValidationMatches",1);var Vl=pd;function yd(p,v){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),g.push.apply(g,b)}return g}function xd(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}function pf(p,v,g,b){var w=zl()($e()(p.prototype),v,g);return 2&b&&typeof w=="function"?function(N){return w.apply(g,N)}:w}var mo=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=xd(this,v,[].concat(w)),O()(g,"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),O()(g,"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),O()(g,"FORMAT","upc_e"),g}return _t()(v,p),B()(v,[{key:"_decodePayload",value:function(g,b,w){for(var N=function(I){for(var D=1;D<arguments.length;D++){var G=arguments[D]!=null?arguments[D]:{};D%2?yd(Object(G),!0).forEach(function(re){O()(I,re,G[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(G)):yd(Object(G)).forEach(function(re){Object.defineProperty(I,re,Object.getOwnPropertyDescriptor(G,re))})}return I}({},g),$=0,R=0;R<6;R++){if(!(N=this._decodeCode(N.end)))return null;N.code>=10&&(N.code=N.code-10,$|=1<<5-R),b.push(N.code),w.push(N)}return this._determineParity($,b)?N:null}},{key:"_determineParity",value:function(g,b){for(var w=0;w<this.CODE_FREQUENCY.length;w++)for(var N=0;N<this.CODE_FREQUENCY[w].length;N++)if(g===this.CODE_FREQUENCY[w][N])return b.unshift(w),b.push(N),!0;return!1}},{key:"_convertToUPCA",value:function(g){var b=[g[0]],w=g[g.length-2];return(b=w<=2?b.concat(g.slice(1,3)).concat([w,0,0,0,0]).concat(g.slice(3,6)):w===3?b.concat(g.slice(1,4)).concat([0,0,0,0,0]).concat(g.slice(4,6)):w===4?b.concat(g.slice(1,5)).concat([0,0,0,0,0,g[5]]):b.concat(g.slice(1,6)).concat([0,0,0,0,w])).push(g[g.length-1]),b}},{key:"_checksum",value:function(g){return pf(v,"_checksum",this,3)([this._convertToUPCA(g)])}},{key:"_findEnd",value:function(g,b){return pf(v,"_findEnd",this,3)([g,!0])}},{key:"_verifyTrailingWhitespace",value:function(g){var b=g.end+(g.end-g.start)/2;return b<this._row.length&&this._matchRange(g.end,b,0)?g:null}}])}(ps);function bd(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Qo=function(p){function v(){var g;A()(this,v);for(var b=arguments.length,w=new Array(b),N=0;N<b;N++)w[N]=arguments[N];return g=bd(this,v,[].concat(w)),O()(g,"FORMAT","upc_a"),g}return _t()(v,p),B()(v,[{key:"decode",value:function(g,b){var w=ps.prototype.decode.call(this);return w&&w.code&&w.code.length===13&&w.code.charAt(0)==="0"?(w.code=w.code.substring(1),w):null}}])}(ps),Xo={},Ji={UP:1,DOWN:-1};Xo.getBarcodeLine=function(p,v,g){var b,w,N,$,R,I=0|v.x,D=0|v.y,G=0|g.x,re=0|g.y,we=Math.abs(re-D)>Math.abs(G-I),ke=[],Be=p.data,je=p.size.x,Le=255,We=0;function Qe(cr,lr){R=Be[lr*je+cr],Le=R<Le?R:Le,We=R>We?R:We,ke.push(R)}we&&(N=I,I=D,D=N,N=G,G=re,re=N),I>G&&(N=I,I=G,G=N,N=D,D=re,re=N);var Ct=G-I,wt=Math.abs(re-D);b=Ct/2|0,w=D;var Xt=D<re?1:-1;for($=I;$<G;$++)we?Qe(w,$):Qe($,w),(b-=wt)<0&&(w+=Xt,b+=Ct);return{line:ke,min:Le,max:We}},Xo.toBinaryLine=function(p){var v,g,b,w,N,$,R=p.min,I=p.max,D=p.line,G=R+(I-R)/2,re=[],we=(I-R)/12,ke=-we;for(b=D[0]>G?Ji.UP:Ji.DOWN,re.push({pos:0,val:D[0]}),N=0;N<D.length-2;N++)b!==(w=(v=D[N+1]-D[N])+(g=D[N+2]-D[N+1])<ke&&D[N+1]<1.5*G?Ji.DOWN:v+g>we&&D[N+1]>.5*G?Ji.UP:b)&&(re.push({pos:N,val:D[N]}),b=w);for(re.push({pos:D.length,val:D[D.length-1]}),$=re[0].pos;$<re[1].pos;$++)D[$]=D[$]>G?0:1;for(N=1;N<re.length-1;N++)for(we=re[N+1].val>re[N].val?re[N].val+(re[N+1].val-re[N].val)/3*2|0:re[N+1].val+(re[N].val-re[N+1].val)/3|0,$=re[N].pos;$<re[N+1].pos;$++)D[$]=D[$]>we?0:1;return{line:D,threshold:we}},Xo.debug={printFrequency:function(p,v){var g,b=v.getContext("2d");for(v.width=p.length,v.height=256,b.beginPath(),b.strokeStyle="blue",g=0;g<p.length;g++)b.moveTo(g,255),b.lineTo(g,255-p[g]);b.stroke(),b.closePath()},printPattern:function(p,v){var g,b=v.getContext("2d");for(v.width=p.length,b.fillColor="black",g=0;g<p.length;g++)p[g]===1&&b.fillRect(g,0,1,100)}};var Qn=Xo;function Zo(p,v){var g=typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(!g){if(Array.isArray(p)||(g=function(I,D){if(I){if(typeof I=="string")return Kl(I,D);var G={}.toString.call(I).slice(8,-1);return G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set"?Array.from(I):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?Kl(I,D):void 0}}(p))||v){g&&(p=g);var b=0,w=function(){};return{s:w,n:function(){return b>=p.length?{done:!0}:{done:!1,value:p[b++]}},e:function(I){throw I},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,$=!0,R=!1;return{s:function(){g=g.call(p)},n:function(){var I=g.next();return $=I.done,I},e:function(I){R=!0,N=I},f:function(){try{$||g.return==null||g.return()}finally{if(R)throw N}}}}function Kl(p,v){(v==null||v>p.length)&&(v=p.length);for(var g=0,b=Array(v);g<v;g++)b[g]=p[g];return b}var Jo={code_128_reader:ho,ean_reader:ps,ean_5_reader:md,ean_2_reader:Gl,ean_8_reader:mf,code_39_reader:ql,code_39_vin_reader:ud,codabar_reader:gs,upc_reader:Qo,upc_e_reader:mo,i2of5_reader:gf,"2of5_reader":da,code_93_reader:cf,code_32_reader:rf,pharmacode_reader:Vl},ys={registerReader:function(p,v){Jo[p]=v},create:function(p,v){var g=[];function b(){p.readers.forEach(function(I){var D,G={},re=[];y()(I)==="object"?(D=I.format,G=I.config):typeof I=="string"&&(D=I),G.supplements&&(re=G.supplements.map(function(ke){return new Jo[ke]}));try{var we=new Jo[D](G,re);g.push(we)}catch(ke){throw console.error("* Error constructing reader ",D,ke),ke}})}function w(I){var D,G=null,re=Qn.getBarcodeLine(v,I[0],I[1]);Qn.toBinaryLine(re);var we=-1;for(D=0;D<g.length&&G===null;D++)typeof g[D].setImageWrapper=="function"&&g[D].setImageWrapper(v),(G=g[D].decodePattern(re.line))!==null&&(we=D);return G===null||we>=0&&g[we]instanceof Vl&&!function(ke,Be,je,Le){var We=Math.round(ke[1].y),Qe=Be.start,Ct=je.constructor,wt=Ct&&Ct.adjacentLineValidationMatches||0;if(wt<=0)return!0;for(var Xt=0,cr=!1,lr=0,vr=[1,2,3];lr<vr.length;lr++){var en=vr[lr];if(cr)break;for(var mn=0,Yr=[-1,1];mn<Yr.length;mn++){var fr=Yr[mn];if(cr)break;var jr=We+en*fr;if(!(jr<0||jr>=Le.size.y)){var Vr={x:ke[0].x,y:jr},Un={x:ke[1].x,y:jr};try{var tn=Qn.getBarcodeLine(Le,Vr,Un);Qn.toBinaryLine(tn),je._row=tn.line;var Pr=je._findStart();if(Pr!==null&&Pr.start===Qe&&++Xt>=wt){cr=!0;break}}catch(rn){}}}}return Xt>=wt}(I,G,g[we],v)?null:{codeResult:G,barcodeLine:re}}function N(I){return $.apply(this,arguments)}function $(){return($=Lr()(F.a.mark(function I(D){var G,re,we,ke,Be;return F.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:G=null,re=Zo(g),je.prev=1,re.s();case 2:if((we=re.n()).done){je.next=5;break}if(!(ke=we.value).decodeImage){je.next=4;break}return je.next=3,ke.decodeImage(D);case 3:if(!(G=je.sent)){je.next=4;break}return je.abrupt("continue",5);case 4:je.next=2;break;case 5:je.next=7;break;case 6:je.prev=6,Be=je.catch(1),re.e(Be);case 7:return je.prev=7,re.f(),je.finish(7);case 8:return je.abrupt("return",G);case 9:case"end":return je.stop()}},I,null,[[1,6,7,8]])}))).apply(this,arguments)}function R(I){var D,G,re=function(ke){return Math.sqrt(Math.pow(Math.abs(ke[1].y-ke[0].y),2)+Math.pow(Math.abs(ke[1].x-ke[0].x),2))}(D=function(ke){return[{x:(ke[1][0]-ke[0][0])/2+ke[0][0],y:(ke[1][1]-ke[0][1])/2+ke[0][1]},{x:(ke[3][0]-ke[2][0])/2+ke[2][0],y:(ke[3][1]-ke[2][1])/2+ke[2][1]}]}(I)),we=Math.atan2(D[1].y-D[0].y,D[1].x-D[0].x);return(D=function(ke,Be,je){function Le(We){var Qe=We*Math.sin(Be),Ct=We*Math.cos(Be);ke[0].y-=Qe,ke[0].x-=Ct,ke[1].y+=Qe,ke[1].x+=Ct}for(Le(je);je>1&&(!v.inImageWithBorder(ke[0])||!v.inImageWithBorder(ke[1]));)Le(-(je-=Math.ceil(je/2)));return ke}(D,we,Math.floor(.1*re)))===null?null:((G=w(D))===null&&(G=function(ke,Be,je){var Le,We,Qe,Ct=Math.sqrt(Math.pow(ke[1][0]-ke[0][0],2)+Math.pow(ke[1][1]-ke[0][1],2)),wt=null,Xt=Math.sin(je),cr=Math.cos(je);for(Le=1;Le<16&&wt===null;Le++)Qe={y:(We=Ct/16*Le*(Le%2==0?-1:1))*Xt,x:We*cr},Be[0].y+=Qe.x,Be[0].x-=Qe.y,Be[1].y+=Qe.x,Be[1].x-=Qe.y,wt=w(Be);return wt}(I,D,we)),G===null?null:{codeResult:G.codeResult,line:D,angle:we,pattern:G.barcodeLine.line,threshold:G.barcodeLine.threshold})}return b(),{decodeFromBoundingBox:function(I){return R(I)},decodeFromBoundingBoxes:function(I){var D,G,re=[],we=p.multiple;for(D=0;D<I.length;D++){var ke=I[D];if((G=R(ke)||{}).box=ke,we)re.push(G);else if(G.codeResult)return G}return{barcodes:re}},decodeFromImage:function(I){return Lr()(F.a.mark(function D(){var G;return F.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=1,N(I);case 1:return G=re.sent,re.abrupt("return",G);case 2:case"end":return re.stop()}},D)}))()},registerReader:function(I,D){if(Jo[I])throw new Error("cannot register existing reader",I);Jo[I]=D},setReaders:function(I){p.readers=I,g.length=0,b()}}}},qs=function(){var p={};function v(w){return p[w]||(p[w]={subscribers:[]}),p[w]}function g(w,N){w.async?setTimeout(function(){w.callback(N)},4):w.callback(N)}function b(w,N,$){var R;if(typeof N=="function")R={callback:N,async:$};else if(!(R=N).callback)throw new Error("Callback was not specified on options");v(w).subscribers.push(R)}return{subscribe:function(w,N,$){return b(w,N,$)},publish:function(w,N){var $=v(w),R=$.subscribers;R.filter(function(I){return!!I.once}).forEach(function(I){g(I,N)}),$.subscribers=R.filter(function(I){return!I.once}),$.subscribers.forEach(function(I){g(I,N)})},once:function(w,N){var $=arguments.length>2&&arguments[2]!==void 0&&arguments[2];b(w,{callback:N,async:$,once:!0})},unsubscribe:function(w,N){if(w){var $=v(w);$.subscribers=$&&N?$.subscribers.filter(function(R){return R.callback!==N}):[]}else p={}}}}(),yf=o(81),xf=o.n(yf),Hh=o(82),Gh=o.n(Hh),Vh=o(83);function bf(p,v,g){return v=$e()(v),Se()(p,function(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return function(){return!!b}()}()?Reflect.construct(v,g||[],$e()(p).constructor):v.apply(p,g))}var Wl=function(p){function v(g,b){var w;return A()(this,v),w=bf(this,v,[g]),O()(w,"code",void 0),w.code=b,Object.setPrototypeOf(w,v.prototype),w}return _t()(v,p),B()(v,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,code:this.code}}}])}(o.n(Vh)()(Error)),Yl="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function In(){try{return navigator.mediaDevices.enumerateDevices()}catch(v){var p=new Wl("enumerateDevices is not defined. ".concat(Yl),-1);return Promise.reject(p)}}function vd(p){try{return navigator.mediaDevices.getUserMedia(p)}catch(g){var v=new Wl("getUserMedia is not defined. ".concat(Yl),-1);return Promise.reject(v)}}var ja,jn=["deviceId"];function go(p,v){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),g.push.apply(g,b)}return g}function Ql(p){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?go(Object(g),!0).forEach(function(b){O()(p,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):go(Object(g)).forEach(function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(g,b))})}return p}function Xl(p,v){var g=typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(!g){if(Array.isArray(p)||(g=function(I,D){if(I){if(typeof I=="string")return el(I,D);var G={}.toString.call(I).slice(8,-1);return G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set"?Array.from(I):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?el(I,D):void 0}}(p))||v){g&&(p=g);var b=0,w=function(){};return{s:w,n:function(){return b>=p.length?{done:!0}:{done:!1,value:p[b++]}},e:function(I){throw I},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,$=!0,R=!1;return{s:function(){g=g.call(p)},n:function(){var I=g.next();return $=I.done,I},e:function(I){R=!0,N=I},f:function(){try{$||g.return==null||g.return()}finally{if(R)throw N}}}}function el(p,v){(v==null||v>p.length)&&(v=p.length);for(var g=0,b=Array(v);g<v;g++)b[g]=p[g];return b}function wd(p){return new Promise(function(v,g){var b=10;(function w(){b>0?p.videoWidth>10&&p.videoHeight>10?v():window.setTimeout(w,500):g(new Wl("Unable to play video stream. Is webcam working?",-1)),b--})()})}function ei(p,v){return jd.apply(this,arguments)}function jd(){return(jd=Lr()(F.a.mark(function p(v,g){var b;return F.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=1,vd(g);case 1:if(b=w.sent,ja=b,!v){w.next=2;break}return v.setAttribute("autoplay","true"),v.setAttribute("muted","true"),v.setAttribute("playsinline","true"),v.srcObject=b,v.addEventListener("loadedmetadata",function(){v.play().catch(function(N){console.warn("* Error while trying to play video stream:",N)})}),w.abrupt("return",wd(v));case 2:return w.abrupt("return",Promise.resolve());case 3:case"end":return w.stop()}},p)}))).apply(this,arguments)}function tl(p){var v=Gh()(p,["facing","minAspectRatio","maxAspectRatio"]);return p.minAspectRatio!==void 0&&p.minAspectRatio>0&&(v.aspectRatio=p.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),p.facing!==void 0&&(v.facingMode=p.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),v}function ti(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=tl(p);return v&&v.deviceId&&v.facingMode&&delete v.facingMode,Promise.resolve({audio:!1,video:v})}function vf(){return(vf=Lr()(F.a.mark(function p(v){var g,b,w,N,$,R,I,D,G,re;return F.a.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=1,In();case 1:if(g=we.sent,b=g.filter(function(ke){return ke.kind==="videoinput"}),v){we.next=2;break}return we.abrupt("return",b);case 2:w=[],N=tl(v),N.deviceId,$=xf()(N,jn),R=Xl(b),we.prev=3,R.s();case 4:if((I=R.n()).done){we.next=9;break}return D=I.value,we.prev=5,G={audio:!1,video:Ql(Ql({},$),{},{deviceId:{exact:D.deviceId}})},we.next=6,vd(G);case 6:we.sent.getTracks().forEach(function(ke){return ke.stop()}),w.push(D),we.next=8;break;case 7:we.prev=7,we.catch(5);case 8:we.next=4;break;case 9:we.next=11;break;case 10:we.prev=10,re=we.catch(3),R.e(re);case 11:return we.prev=11,R.f(),we.finish(11);case 12:return we.abrupt("return",w);case 13:case"end":return we.stop()}},p,null,[[3,10,11,12],[5,7]])}))).apply(this,arguments)}function Ma(){if(!ja)return null;var p=ja.getVideoTracks();return p&&p!=null&&p.length?p[0]:null}var po={requestedVideoElement:null,request:function(p,v){return Lr()(F.a.mark(function g(){var b;return F.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return po.requestedVideoElement=p,w.next=1,ti(v);case 1:return b=w.sent,w.abrupt("return",ei(p,b));case 2:case"end":return w.stop()}},g)}))()},release:function(){var p=ja&&ja.getVideoTracks();return po.requestedVideoElement!==null&&po.requestedVideoElement.pause(),new Promise(function(v){setTimeout(function(){p&&p.length&&p.forEach(function(g){return g.stop()}),ja=null,po.requestedVideoElement=null,v()},0)})},enumerateVideoDevices:function(p){return vf.apply(this,arguments)},getActiveStream:function(){var p;return(p=ja)!==null&&p!==void 0?p:null},getActiveStreamLabel:function(){var p=Ma();return p?p.label:""},getActiveTrack:Ma,disableTorch:function(){return Lr()(F.a.mark(function p(){var v,g;return F.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(v=Ma())){b.next=4;break}return b.prev=1,b.next=2,v.applyConstraints({advanced:[{torch:!1}]});case 2:b.next=4;break;case 3:throw b.prev=3,(g=b.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),g;case 4:case"end":return b.stop()}},p,null,[[1,3]])}))()},enableTorch:function(){return Lr()(F.a.mark(function p(){var v,g;return F.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(v=Ma())){b.next=4;break}return b.prev=1,b.next=2,v.applyConstraints({advanced:[{torch:!0}]});case 2:b.next=4;break;case 3:throw b.prev=3,(g=b.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),g;case 4:case"end":return b.stop()}},p,null,[[1,3]])}))()}},Nn=po,Nd={create:function(p){var v,g=document.createElement("canvas"),b=g.getContext("2d",{willReadFrequently:!!p.willReadFrequently}),w=[],N=(v=p.capacity)!==null&&v!==void 0?v:20,$=p.capture===!0;function R(I){return!!N&&I&&!function(D,G){return G&&G.some(function(re){return Object.keys(re).every(function(we){return re[we]===D[we]})})}(I,p.blacklist)&&function(D,G){return typeof G!="function"||G(D)}(I,p.filter)}return{addResult:function(I,D,G){var re={};R(G)&&(N--,re.codeResult=G,$&&(g.width=D.x,g.height=D.y,Q.drawImage(I,D,b),re.frame=g.toDataURL()),w.push(re))},getResults:function(){return w}}}},Zl={inputStream:{type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,canvas:{createOverlay:!0},decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Hs=Math.PI/180,Jl={};Jl.create=function(p,v){var g,b={},w=p.getConfig(),N=fs(p.getRealWidth(),p.getRealHeight()),$=p.getCanvasSize(),R=fs(p.getWidth(),p.getHeight()),I=p.getTopRight(),D=I.x,G=I.y,re=null,we=null,ke=w.willReadFrequently;function Be(je,Le,We,Qe,Ct){var wt=Math.floor(Qe),Xt=Math.floor(Ct),cr=Math.min(wt+1,Le-1),lr=Math.min(Xt+1,We-1),vr=Qe-wt,en=Ct-Xt;return(je[Xt*Le+wt]*(1-vr)+je[Xt*Le+cr]*vr)*(1-en)+(je[lr*Le+wt]*(1-vr)+je[lr*Le+cr]*vr)*en}return(g=v||document.createElement("canvas")).width=$.x,g.height=$.y,re=g.getContext("2d",{willReadFrequently:!!ke}),we=new Uint8Array(R.x*R.y),b.attachData=function(je){we=je},b.getData=function(){return we},b.grab=function(){var je=w.halfSample,Le=p.getFrame(),We=Le,Qe=0;if(We){if(function(Pr,rn,ws){Pr.width!==rn.x&&(Pr.width=rn.x),Pr.height!==rn.y&&(Pr.height=rn.y)}(g,$,w.debug),w.type==="ImageStream"&&(We=Le.img,Le.tags&&Le.tags.orientation))switch(Le.tags.orientation){case 6:Qe=90*Hs;break;case 8:Qe=-90*Hs}if(Qe!==0?(re.translate($.x/2,$.y/2),re.rotate(Qe),re.drawImage(We,-$.y/2,-$.x/2,$.y,$.x),re.rotate(-Qe),re.translate(-$.x/2,-$.y/2)):re.drawImage(We,0,0,$.x,$.y),je)(function(Pr,rn,ws){for(var gn,Jn=0,Qt=rn.x,ba=Math.floor(Pr.length/4),Od=rn.x/2,Ad=0,Rd=rn.x;Qt<ba;){for(gn=0;gn<Od;gn++)ws[Ad]=(.299*Pr[4*Jn+0]+.587*Pr[4*Jn+1]+.114*Pr[4*Jn+2]+(.299*Pr[4*(Jn+1)+0]+.587*Pr[4*(Jn+1)+1]+.114*Pr[4*(Jn+1)+2])+(.299*Pr[4*Qt+0]+.587*Pr[4*Qt+1]+.114*Pr[4*Qt+2])+(.299*Pr[4*(Qt+1)+0]+.587*Pr[4*(Qt+1)+1]+.114*Pr[4*(Qt+1)+2]))/4,Ad++,Jn+=2,Qt+=2;Jn+=Rd,Qt+=Rd}})(re.getImageData(D,G,R.x,R.y).data,R,we);else{var Ct=document.createElement("canvas");Ct.width=N.x,Ct.height=N.y;var wt=Ct.getContext("2d");Qe!==0?(wt.translate(N.x/2,N.y/2),wt.rotate(Qe),wt.drawImage(We,-N.y/2,-N.x/2,N.y,N.x)):wt.drawImage(We,0,0,N.x,N.y);var Xt=wt.getImageData(0,0,N.x,N.y).data,cr=new Uint8Array(N.x*N.y);hs(Xt,cr,w);for(var lr=new Uint8Array($.x*$.y),vr=N.x/$.x,en=N.y/$.y,mn=0;mn<$.y;mn++)for(var Yr=0;Yr<$.x;Yr++){var fr=Yr*vr,jr=mn*en;lr[mn*$.x+Yr]=0|Be(cr,N.x,N.y,fr,jr)}for(var Vr=0;Vr<R.y;Vr++)for(var Un=0;Un<R.x;Un++){var tn=(Vr+G)*$.x+(Un+D);we[Vr*R.x+Un]=lr[tn]}}return!0}return!1},b.getSize=function(){return R},b};var kd=Jl,xs={274:"orientation"},yo=Object.keys(xs).map(function(p){return xs[p]});function ec(p){return new Promise(function(v){var g=new FileReader;g.onload=function(b){return v(b.target.result)},g.readAsArrayBuffer(p)})}function tc(p){return new Promise(function(v,g){var b=new XMLHttpRequest;b.open("GET",p,!0),b.responseType="blob",b.onreadystatechange=function(){b.readyState!==XMLHttpRequest.DONE||b.status!==200&&b.status!==0||v(this.response)},b.onerror=g,b.send()})}function kn(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yo,g=new DataView(p),b=p.byteLength,w=v.reduce(function($,R){var I=Object.keys(xs).filter(function(D){return xs[D]===R})[0];return I&&($[I]=R),$},{}),N=2;if(g.getUint8(0)!==255||g.getUint8(1)!==216)return!1;for(;N<b;){if(g.getUint8(N)!==255)return!1;if(g.getUint8(N+1)===225)return _n(g,N+4,w);N+=2+g.getUint16(N+2)}return!1}function _n(p,v,g){if(function($,R,I){for(var D="",G=R;G<R+I;G++)D+=String.fromCharCode($.getUint8(G));return D}(p,v,4)!=="Exif")return!1;var b,w=v+6;if(p.getUint16(w)===18761)b=!1;else{if(p.getUint16(w)!==19789)return!1;b=!0}if(p.getUint16(w+2,!b)!==42)return!1;var N=p.getUint32(w+4,!b);return!(N<8)&&function($,R,I,D,G){for(var re=$.getUint16(I,!G),we={},ke=0;ke<re;ke++){var Be=I+12*ke+2,je=D[$.getUint16(Be,!G)];je&&(we[je]=xo($,Be,R,I,G))}return we}(p,w,w+N,g,b)}function xo(p,v,g,b,w){var N=p.getUint16(v+2,!w),$=p.getUint32(v+4,!w);switch(N){case 3:if($===1)return p.getUint16(v+8,!w)}return null}function bs(p,v){return"".concat(p,"image-").concat(v.toString().padStart(3,"0"),".jpg")}var Xn={};function bo(p,v){p.onload=function(){v.loaded(this)},p.onerror=function(){v.loaded(this)}}Xn.load=function(p,v,g,b,w,N){var $,R,I,D=new Array(b),G=new Array(D.length);if(w===!1)D[0]=p;else for($=0;$<D.length;$++)I=g+$,D[$]=bs(p,I);for(G.notLoaded=[],G.addImage=function(re){G.notLoaded.push(re)},G.loaded=function(re){for(var we=G.notLoaded,ke=0;ke<we.length;ke++)if(we[ke]===re){we.splice(ke,1);for(var Be=0;Be<D.length;Be++){var je=encodeURI(D[Be].substr(D[Be].lastIndexOf("/")));if(re.src.lastIndexOf(je)!==-1){G[Be]={img:re};break}}break}we.length===0&&(w===!1?function(Le){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yo;return/^blob:/i.test(Le)?tc(Le).then(ec).then(function(Qe){return kn(Qe,We)}):Promise.resolve(null)}(p,["orientation"]).then(function(Le){G[0].tags=Le,v(G)}).catch(function(Le){console.log(Le),v(G)}):v(G))},$=0;$<D.length;$++)R=new Image,G.addImage(R),bo(R,G),R.src=D[$]};var wf=Xn,rc={createVideoStream:function(p){console.warn("**** InputStreamBrowser createVideoStream");var v,g,b=null,w=["canrecord","ended"],N={},$={x:0,y:0,type:"Point"},R={x:0,y:0,type:"XYSize"},I={getRealWidth:function(){return p.videoWidth},getRealHeight:function(){return p.videoHeight},getWidth:function(){return v},getHeight:function(){return g},setWidth:function(D){v=D},setHeight:function(D){g=D},setInputStream:function(D){b=D,this.setAttribute("src",D.src!==void 0?D.src:"")},ended:function(){return p.ended},getConfig:function(){return b},setAttribute:function(D,G){p&&p.setAttribute(D,G)},pause:function(){p.pause()},play:function(){p.play()},setCurrentTime:function(D){var G;((G=b)===null||G===void 0?void 0:G.type)!=="LiveStream"&&this.setAttribute("currentTime",D.toString())},addEventListener:function(D,G,re){w.indexOf(D)!==-1?(N[D]||(N[D]=[]),N[D].push(G)):p.addEventListener(D,G,re)},clearEventHandlers:function(){w.forEach(function(D){var G=N[D];G&&G.length>0&&G.forEach(function(re){p.removeEventListener(D,re)})})},trigger:function(D,G){var re,we,ke,Be,je,Le=N[D];if(D==="canrecord"&&(Be=p.videoWidth,je=p.videoHeight,v=(we=b)!==null&&we!==void 0&&we.size?Be/je>1?b.size:Math.floor(Be/je*b.size):Be,g=(ke=b)!==null&&ke!==void 0&&ke.size?Be/je>1?Math.floor(je/Be*b.size):b.size:je,R.x=v,R.y=g),Le&&Le.length>0)for(re=0;re<Le.length;re++)Le[re].apply(I,G)},setTopRight:function(D){$.x=D.x,$.y=D.y},getTopRight:function(){return $},setCanvasSize:function(D){R.x=D.x,R.y=D.y},getCanvasSize:function(){return R},getFrame:function(){return p}};return I},createLiveStream:function(p){console.warn("**** InputStreamBrowser createLiveStream"),p&&p.setAttribute("autoplay","true");var v=rc.createVideoStream(p);return v.ended=function(){return!1},v},createImageStream:function(){var p,v,g=null,b=0,w=0,N=0,$=!0,R=!1,I=null,D=0,G=null,re=!1,we=["canrecord","ended"],ke={},Be={x:0,y:0,type:"Point"},je={x:0,y:0,type:"XYSize"};function Le(Qe,Ct){var wt,Xt=ke[Qe];if(Xt&&Xt.length>0)for(wt=0;wt<Xt.length;wt++)Xt[wt].apply(We,Ct)}var We={trigger:Le,getWidth:function(){return p},getHeight:function(){return v},setWidth:function(Qe){p=Qe},setHeight:function(Qe){v=Qe},getRealWidth:function(){return b},getRealHeight:function(){return w},setInputStream:function(Qe){var Ct;g=Qe,Qe.sequence===!1?(G=Qe.src,D=1):(G=Qe.src,D=Qe.length),R=!1,wf.load(G,function(wt){var Xt,cr;if(I=wt,wt[0].tags&&wt[0].tags.orientation)switch(wt[0].tags.orientation){case 6:case 8:b=wt[0].img.height,w=wt[0].img.width;break;default:b=wt[0].img.width,w=wt[0].img.height}else b=wt[0].img.width,w=wt[0].img.height;p=(Xt=g)!==null&&Xt!==void 0&&Xt.size?b/w>1?g.size:Math.floor(b/w*g.size):b,v=(cr=g)!==null&&cr!==void 0&&cr.size?b/w>1?Math.floor(w/b*g.size):g.size:w,je.x=p,je.y=v,R=!0,N=0,setTimeout(function(){Le("canrecord",[])},0)},1,D,(Ct=g)===null||Ct===void 0?void 0:Ct.sequence,g)},ended:function(){return re},setAttribute:function(){},getConfig:function(){return g},pause:function(){$=!0},play:function(){$=!1},setCurrentTime:function(Qe){N=Qe},addEventListener:function(Qe,Ct){we.indexOf(Qe)!==-1&&(ke[Qe]||(ke[Qe]=[]),ke[Qe].push(Ct))},clearEventHandlers:function(){Object.keys(ke).forEach(function(Qe){return delete ke[Qe]})},setTopRight:function(Qe){Be.x=Qe.x,Be.y=Qe.y},getTopRight:function(){return Be},setCanvasSize:function(Qe){je.x=Qe.x,je.y=Qe.y},getCanvasSize:function(){return je},getFrame:function(){var Qe,Ct;return R?($||(Qe=(Ct=I)===null||Ct===void 0?void 0:Ct[N],N<D-1?N++:setTimeout(function(){re=!0,Le("ended",[])},0)),Qe):null}};return We}},_d=rc,Na={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(p,v){var g,b=p.data,w=v.data,N=this.searchDirections,$=p.size.x;function R(D,G,re,we){var ke,Be,je;for(ke=0;ke<N.length;ke++){if(Be=D.cy+N[D.dir][0],je=D.cx+N[D.dir][1],b[g=Be*$+je]===G&&(w[g]===0||w[g]===re))return w[g]=re,D.cy=Be,D.cx=je,!0;w[g]===0&&(w[g]=we),D.dir=(D.dir+1)%8}return!1}function I(D,G,re){return{dir:re,x:D,y:G,next:null,prev:null}}return{trace:function(D,G,re,we){return R(D,G,re,we)},contourTracing:function(D,G,re,we,ke){return function(Be,je,Le,We,Qe){var Ct,wt,Xt,cr=null,lr={cx:je,cy:Be,dir:0};if(R(lr,We,Le,Qe)){Ct=cr=I(je,Be,lr.dir),Xt=lr.dir,(wt=I(lr.cx,lr.cy,0)).prev=Ct,Ct.next=wt,wt.next=null,Ct=wt;var vr=p.size.x*p.size.y,en=0;do lr.dir=(lr.dir+6)%8,R(lr,We,Le,Qe),Xt!==lr.dir?(Ct.dir=lr.dir,(wt=I(lr.cx,lr.cy,0)).prev=Ct,Ct.next=wt,wt.next=null,Ct=wt):(Ct.dir=Xt,Ct.x=lr.cx,Ct.y=lr.cy),Xt=lr.dir;while((lr.cx!==je||lr.cy!==Be)&&++en<vr);cr.prev=Ct.prev,Ct.prev.next=cr}return cr}(D,G,re,we,ke)}}}},Sr={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(p,v){var g=p.data,b=v.data,w=p.size.x,N=p.size.y,$=Na.create(p,v);return{rasterize:function(R){var I,D,G,re,we,ke,Be,je,Le,We,Qe,Ct,wt=[],Xt=0;for(Ct=0;Ct<400;Ct++)wt[Ct]=0;for(wt[0]=g[0],Le=null,ke=1;ke<N-1;ke++)for(re=0,D=wt[0],we=1;we<w-1;we++)if(b[Qe=ke*w+we]===0)if((I=g[Qe])!==D){if(re===0)wt[G=Xt+1]=I,D=I,(Be=$.contourTracing(ke,we,G,I,Sr.DIR.OUTSIDE_EDGE))!==null&&(Xt++,re=G,(je=Sr.createContour2D()).dir=Sr.CONTOUR_DIR.CW_DIR,je.index=re,je.firstVertex=Be,je.nextpeer=Le,je.insideContours=null,Le!==null&&(Le.prevpeer=je),Le=je);else if((Be=$.contourTracing(ke,we,Sr.DIR.INSIDE_EDGE,I,re))!==null){for((je=Sr.createContour2D()).firstVertex=Be,je.insideContours=null,je.dir=R===0?Sr.CONTOUR_DIR.CCW_DIR:Sr.CONTOUR_DIR.CW_DIR,je.index=R,We=Le;We!==null&&We.index!==re;)We=We.nextpeer;We!==null&&(je.nextpeer=We.insideContours,We.insideContours!==null&&(We.insideContours.prevpeer=je),We.insideContours=je)}}else b[Qe]=re;else b[Qe]===Sr.DIR.OUTSIDE_EDGE||b[Qe]===Sr.DIR.INSIDE_EDGE?(re=0,D=b[Qe]===Sr.DIR.INSIDE_EDGE?g[Qe]:wt[0]):D=wt[re=b[Qe]];for(We=Le;We!==null;)We.index=R,We=We.nextpeer;return{cc:Le,count:Xt}},debug:{drawContour:function(R,I){var D,G,re,we=R.getContext("2d"),ke=I;for(we.strokeStyle="red",we.fillStyle="red",we.lineWidth=1,D=ke!==null?ke.insideContours:null;ke!==null;){switch(D!==null?(G=D,D=D.nextpeer):(G=ke,D=(ke=ke.nextpeer)!==null?ke.insideContours:null),G.dir){case Sr.CONTOUR_DIR.CW_DIR:we.strokeStyle="red";break;case Sr.CONTOUR_DIR.CCW_DIR:we.strokeStyle="blue";break;case Sr.CONTOUR_DIR.UNKNOWN_DIR:we.strokeStyle="green"}re=G.firstVertex,we.beginPath(),we.moveTo(re.x,re.y);do re=re.next,we.lineTo(re.x,re.y);while(re!==G.firstVertex);we.stroke()}}}}}},Ir=Sr;/* @preserve ASM END */var fn,ka,rl,Da,al,vo,oa,Sn,Ln,ha,wo,Gs,vs=function(p,v,g){var b=new p.Uint8Array(g),w=v.size|0,N=p.Math.imul;function $(je,Le){je=je|0,Le=Le|0;var We=0,Qe=0,Ct=0,wt=0,Xt=0,cr=0,lr=0,vr=0;for(We=1;(We|0)<(w-1|0);We=We+1|0)for(vr=vr+w|0,Qe=1;(Qe|0)<(w-1|0);Qe=Qe+1|0)wt=vr-w|0,Xt=vr+w|0,cr=Qe-1|0,lr=Qe+1|0,Ct=(b[je+wt+cr|0]|0)+(b[je+wt+lr|0]|0)+(b[je+vr+Qe|0]|0)+(b[je+Xt+cr|0]|0)+(b[je+Xt+lr|0]|0)|0,(Ct|0)==5?b[Le+vr+Qe|0]=1:b[Le+vr+Qe|0]=0}function R(je,Le,We){je=je|0,Le=Le|0,We=We|0;var Qe=0;for(Qe=N(w,w)|0;(Qe|0)>0;)Qe=Qe-1|0,b[We+Qe|0]=(b[je+Qe|0]|0)-(b[Le+Qe|0]|0)|0}function I(je,Le,We){je=je|0,Le=Le|0,We=We|0;var Qe=0;for(Qe=N(w,w)|0;(Qe|0)>0;)Qe=Qe-1|0,b[We+Qe|0]=b[je+Qe|0]|0|(b[Le+Qe|0]|0)|0}function D(je){je=je|0;var Le=0,We=0;for(We=N(w,w)|0;(We|0)>0;)We=We-1|0,Le=(Le|0)+(b[je+We|0]|0)|0;return Le|0}function G(je,Le){je=je|0,Le=Le|0;var We=0;for(We=N(w,w)|0;(We|0)>0;)We=We-1|0,b[je+We|0]=Le}function re(je,Le){je=je|0,Le=Le|0;var We=0,Qe=0,Ct=0,wt=0,Xt=0,cr=0,lr=0,vr=0;for(We=1;(We|0)<(w-1|0);We=We+1|0)for(vr=vr+w|0,Qe=1;(Qe|0)<(w-1|0);Qe=Qe+1|0)wt=vr-w|0,Xt=vr+w|0,cr=Qe-1|0,lr=Qe+1|0,Ct=(b[je+wt+cr|0]|0)+(b[je+wt+lr|0]|0)+(b[je+vr+Qe|0]|0)+(b[je+Xt+cr|0]|0)+(b[je+Xt+lr|0]|0)|0,(Ct|0)>0?b[Le+vr+Qe|0]=1:b[Le+vr+Qe|0]=0}function we(je,Le){je=je|0,Le=Le|0;var We=0;for(We=N(w,w)|0;(We|0)>0;)We=We-1|0,b[Le+We|0]=b[je+We|0]|0}function ke(je){je=je|0;var Le=0,We=0;for(Le=0;(Le|0)<(w-1|0);Le=Le+1|0)b[je+Le|0]=0,b[je+We|0]=0,We=We+w-1|0,b[je+We|0]=0,We=We+1|0;for(Le=0;(Le|0)<(w|0);Le=Le+1|0)b[je+We|0]=0,We=We+1|0}function Be(){var je=0,Le=0,We=0,Qe=0,Ct=0,wt=0;Le=N(w,w)|0,We=Le+Le|0,Qe=We+Le|0,G(Qe,0),ke(je);do $(je,Le),re(Le,We),R(je,We,We),I(Qe,We,Qe),we(Le,je),Ct=D(je)|0,wt=(Ct|0)==0|0;while(!wt)}return{skeletonize:Be}},hn={ctx:{binary:null},dom:{binary:null}},qa={x:0,y:0};function Sd(p){var v,g,b,w,N,$,R,I=Ln.size.x,D=Ln.size.y,G=-Ln.size.x,re=-Ln.size.y;for(v=0,g=0;g<p.length;g++)v+=(w=p[g]).rad;for((v=(180*(v/=p.length)/Math.PI+90)%180-90)<0&&(v+=180),v=(180-v)*Math.PI/180,N=l.copy(l.create(),[Math.cos(v),Math.sin(v),-Math.sin(v),Math.cos(v)]),g=0;g<p.length;g++)for(w=p[g],b=0;b<4;b++)d.transformMat2(w.box[b],w.box[b],N);for(g=0;g<p.length;g++)for(w=p[g],b=0;b<4;b++)w.box[b][0]<I&&(I=w.box[b][0]),w.box[b][0]>G&&(G=w.box[b][0]),w.box[b][1]<D&&(D=w.box[b][1]),w.box[b][1]>re&&(re=w.box[b][1]);for($=[[I,D],[G,D],[G,re],[I,re]],R=fn.halfSample?2:1,N=l.invert(N,N),b=0;b<4;b++)d.transformMat2($[b],$[b],N);for(b=0;b<4;b++)d.scale($[b],$[b],R);return $}function Cd(p){var v=function(N,$,R){var I,D,G,re,we=0,ke=0,Be=[];for(I=0;I<$;I++)Be[I]={score:0,item:null};for(I=0;I<N.length;I++)if((D=R.apply(this,[N[I]]))>ke)for((G=Be[we]).score=D,G.item=N[I],ke=Number.MAX_VALUE,re=0;re<$;re++)Be[re].score<ke&&(ke=Be[re].score,we=re);return Be}(function(N,$,R){var I,D,G,re,we=[];function ke(Be){var je=!1;for(D=0;D<we.length;D++)(G=we[D]).fits(Be)&&(G.add(Be),je=!0);return je}for(R||(R="rad"),I=0;I<N.length;I++)ke(re=Ko(N[I],I,R))||we.push(Qa(re,$));return we}(p,.9),1,function(N){return N.getPoints().length}),g=[],b=[];if(v.length===1){g=v[0].item.getPoints();for(var w=0;w<g.length;w++)b.push(g[w].point)}return b}function nl(p,v){Ln.subImageAsCopy(Da,fs(p,v)),Gs.skeletonize()}function ac(p,v,g,b){var w,N,$,R,I=[],D=[],G=Math.ceil(ha.x/3);if(p.length>=2){for(w=0;w<p.length;w++)p[w].m00>G&&I.push(p[w]);if(I.length>=2){for($=Cd(I),N=0,w=0;w<$.length;w++){var re,we;N+=(re=(we=$[w])===null||we===void 0?void 0:we.rad)!==null&&re!==void 0?re:0}$.length>1&&$.length>=I.length/4*3&&$.length>p.length/4&&(N/=$.length,R={index:v[1]*qa.x+v[0],pos:{x:g,y:b},box:[d.clone([g,b]),d.clone([g+Da.size.x,b]),d.clone([g+Da.size.x,b+Da.size.y]),d.clone([g,b+Da.size.y])],moments:$,rad:N,vec:d.clone([Math.cos(N),Math.sin(N)])},D.push(R))}}return D}var jo=function(p,v){fn=v,wo=p,function(){ka=fn.halfSample?new Pa({x:wo.size.x/2|0,y:wo.size.y/2|0}):wo,ha=fo(fn.patchSize,ka.size),qa.x=ka.size.x/ha.x|0,qa.y=ka.size.y/ha.y|0,Ln=new Pa(ka.size,void 0,Uint8Array,!1),al=new Pa(ha,void 0,Array,!0);var g=ha.x*ha.y*4,b=Math.max(65536,Math.pow(2,Math.ceil(Math.log2(g)))),w=new ArrayBuffer(b);Da=new Pa(ha,new Uint8Array(w,0,ha.x*ha.y)),rl=new Pa(ha,new Uint8Array(w,ha.x*ha.y*3,ha.x*ha.y),void 0,!0),Gs=vs({Math,Uint8Array},{size:ha.x},w),Sn=new Pa({x:ka.size.x/Da.size.x|0,y:ka.size.y/Da.size.y|0},void 0,Array,!0),vo=new Pa(Sn.size,void 0,void 0,!0),oa=new Pa(Sn.size,void 0,Int32Array,!0)}(),function(){if(!fn.useWorker&&typeof document!="undefined"){hn.dom.binary=document.createElement("canvas"),hn.dom.binary.className="binaryBuffer";var g=!!fn.willReadFrequently;hn.ctx.binary=hn.dom.binary.getContext("2d",{willReadFrequently:g}),hn.dom.binary.width=Ln.size.x,hn.dom.binary.height=Ln.size.y}}()},Ia=function(){fn.halfSample&&function(b,w){for(var N=b.data,$=b.size.x,R=w.data,I=0,D=$,G=N.length,re=$/2,we=0;D<G;){for(var ke=0;ke<re;ke++)R[we]=Math.floor((N[I]+N[I+1]+N[D]+N[D+1])/4),we++,I+=2,D+=2;I+=$,D+=$}}(wo,ka),Xa(ka,Ln),Ln.zeroBorder();var p=function(){var b,w,N,$,R,I,D=[];for(b=0;b<qa.x;b++)for(w=0;w<qa.y;w++)nl(N=Da.size.x*b,$=Da.size.y*w),rl.zeroBorder(),wn(al.data,0),I=Ir.create(rl,al).rasterize(0),R=al.moments(I.count),D=D.concat(ac(R,[b,w],N,$));return D}();if(p.length<qa.x*qa.y*.05)return null;var v=function(b){var w,N,$=0,R=0;function I(){var G;for(G=0;G<oa.data.length;G++)if(oa.data[G]===0&&vo.data[G]===1)return G;return oa.data.length}function D(G){var re,we,ke,Be,je,Le=G%oa.size.x,We=G/oa.size.x|0;if(G<oa.data.length)for(ke=Sn.data[G],oa.data[G]=$,je=0;je<Na.searchDirections.length;je++)we=We+Na.searchDirections[je][0],re=Le+Na.searchDirections[je][1],Be=we*oa.size.x+re,vo.data[Be]!==0?oa.data[Be]===0&&Math.abs(d.dot(Sn.data[Be].vec,ke.vec))>.95&&D(Be):oa.data[Be]=Number.MAX_VALUE}for(wn(vo.data,0),wn(oa.data,0),wn(Sn.data,null),w=0;w<b.length;w++)N=b[w],Sn.data[N.index]=N,vo.data[N.index]=1;for(vo.zeroBorder();(R=I())<oa.data.length;)$++,D(R);return $}(p);if(v<1)return null;var g=function(b){var w,N,$=[];for(w=0;w<b;w++)$.push(0);for(N=oa.data.length;N--;)oa.data[N]>0&&$[oa.data[N]-1]++;return($=$.map(function(R,I){return{val:R,label:I+1}})).sort(function(R,I){return I.val-R.val}),$.filter(function(R){return R.val>=5})}(v);return g.length===0?null:function(b,w){var N,$,R,I,D=[],G=[];for(N=0;N<b.length;N++){for($=oa.data.length,D.length=0;$--;)oa.data[$]===b[N].label&&(R=Sn.data[$],D.push(R));(I=Sd(D))&&G.push(I)}return G}(g)},nc=function(p,v){var g,b,w=p.getWidth(),N=p.getHeight(),$=v.halfSample?.5:1;p.getConfig().area&&(b=Ra(w,N,p.getConfig().area),p.setTopRight({x:b.sx,y:b.sy}),p.setCanvasSize({x:w,y:N}),w=b.sw,N=b.sh);var R={x:Math.floor(w*$),y:Math.floor(N*$)};if(g=fo(v.patchSize,R),p.setWidth(Math.max(Math.floor(Math.floor(R.x/g.x)*(1/$)*g.x),g.x)),p.setHeight(Math.max(Math.floor(Math.floor(R.y/g.y)*(1/$)*g.y),g.y)),p.getWidth()%g.x==0&&p.getHeight()%g.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(w," )and height (").concat(N,") must a multiple of ").concat(g.x))},jf=B()(function p(){A()(this,p),O()(this,"config",void 0),O()(this,"inputStream",void 0),O()(this,"framegrabber",void 0),O()(this,"inputImageWrapper",void 0),O()(this,"stopped",!1),O()(this,"initAborted",!1),O()(this,"boxSize",void 0),O()(this,"resultCollector",void 0),O()(this,"decoder",void 0),O()(this,"workerPool",[]),O()(this,"onUIThread",!0),O()(this,"canvasContainer",new Kh)}),Nf=B()(function p(){A()(this,p),O()(this,"image",void 0),O()(this,"overlay",void 0)}),Kh=B()(function p(){A()(this,p),O()(this,"ctx",void 0),O()(this,"dom",void 0),this.ctx=new Nf,this.dom=new Nf});function kf(p){if(typeof document=="undefined")return null;if(p instanceof HTMLElement&&p.nodeName&&p.nodeType===1)return p;var v=typeof p=="string"?p:"#interactive.viewport";return document.querySelector(v)}function ma(p,v,g){var b=function(N,$){var R=document.querySelector(N);return R||((R=document.createElement("canvas")).className=$),R}(p,v),w=b.getContext("2d",{willReadFrequently:g.willReadFrequently});return{canvas:b,context:w}}function $d(p){var v,g,b,w,N,$,R,I,D,G,re=kf(p==null||(v=p.config)===null||v===void 0||(g=v.inputStream)===null||g===void 0?void 0:g.target),we=p==null||(b=p.config)===null||b===void 0||(w=b.inputStream)===null||w===void 0?void 0:w.type;if(!we)return null;var ke=(p==null||(N=p.config)===null||N===void 0||($=N.canvas)===null||$===void 0?void 0:$.createOverlay)!==!1,Be=function(Le,We){var Qe=We.willReadFrequently,Ct=We.createOverlay;if(typeof document!="undefined"){var wt=ma("canvas.imgBuffer","imgBuffer",{willReadFrequently:Qe});wt.canvas.width=Le.x,wt.canvas.height=Le.y;var Xt={canvas:null,context:null};if(Ct){var cr=ma("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:Qe});cr.canvas.width=Le.x,cr.canvas.height=Le.y,Xt=cr}return{dom:{image:wt.canvas,overlay:Xt.canvas},ctx:{image:wt.context,overlay:Xt.context}}}return null}(p.inputStream.getCanvasSize(),{willReadFrequently:!(p==null||(R=p.config)===null||R===void 0||(I=R.inputStream)===null||I===void 0||!I.willReadFrequently),createOverlay:ke,debug:p==null||(D=p.config)===null||D===void 0||(G=D.locator)===null||G===void 0?void 0:G.debug});if(!Be)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var je=Be.dom;return typeof document!="undefined"&&re&&(we!=="ImageStream"||re.contains(je.image)||re.appendChild(je.image),je.overlay&&!re.contains(je.overlay)&&re.appendChild(je.overlay)),Be}function ri(p,v){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);v&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),g.push.apply(g,b)}return g}function Vs(p){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?ri(Object(g),!0).forEach(function(b){O()(p,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):ri(Object(g)).forEach(function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(g,b))})}return p}var Cn=[];function ai(p){return Vs(Vs({},p),{},{inputStream:Vs(Vs({},p.inputStream),{},{target:null})})}function ni(p){if(p){var v=p().default;if(!v)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var g;function b(N){self.postMessage({event:"processed",imageData:g.data,result:N},[g.data.buffer])}function w(){self.postMessage({event:"initialized",imageData:g.data},[g.data.buffer])}self.onmessage=function(N){if(N.data.cmd==="init"){var $=N.data.config;$.numOfWorkers=0,g=new v.ImageWrapper({x:N.data.size.x,y:N.data.size.y},new Uint8Array(N.data.imageData)),v.init($,w,g),v.onProcessed(b)}else N.data.cmd==="process"?(g.data=new Uint8Array(N.data.imageData),v.start()):N.data.cmd==="setReaders"?v.setReaders(N.data.readers):N.data.cmd==="registerReader"&&v.registerReader(N.data.name,N.data.reader)}}function Wh(p,v,g){var b,w,N=(typeof __factorySource__!="undefined"&&(w=__factorySource__),b=new Blob(["("+ni.toString()+")("+w+");"],{type:"text/javascript"}),window.URL.createObjectURL(b)),$={worker:new Worker(N),imageData:new Uint8Array(v.getWidth()*v.getHeight()),busy:!0};$.worker.onmessage=function(R){R.data.event==="initialized"?(URL.revokeObjectURL(N),$.busy=!1,$.imageData=new Uint8Array(R.data.imageData),g($)):R.data.event==="processed"?($.imageData=new Uint8Array(R.data.imageData),$.busy=!1,typeof publishResult!="undefined"&&publishResult(R.data.result,$.imageData)):R.data.event},$.worker.postMessage({cmd:"init",size:{x:v.getWidth(),y:v.getHeight()},imageData:$.imageData,config:ai(p)},[$.imageData.buffer])}function Ed(p,v,g,b){var w=p-Cn.length;if(w===0&&b)b();else if(w<0)Cn.slice(w).forEach(function(R){R.worker.terminate()}),Cn=Cn.slice(0,w),b&&b();else{var N=function(R){Cn.push(R),Cn.length>=p&&b&&b()};if(v)for(var $=0;$<w;$++)Wh(v,g,N)}}function _f(p,v,g){for(var b=p.length;b--;)p[b][0]+=v,p[b][1]+=g}function Sf(p,v,g){p[0].x+=v,p[0].y+=g,p[1].x+=v,p[1].y+=g}var Ks=function(){return B()(function g(){var b=this;A()(this,g),O()(this,"context",new jf),O()(this,"canRecord",function(w){var N;b.context.initAborted?w(new Error("Initialization was aborted")):b.context.config?b.context.inputStream?(nc(b.context.inputStream,(N=b.context.config)===null||N===void 0?void 0:N.locator),b.initCanvas(),b.context.framegrabber=kd.create(b.context.inputStream,b.context.canvasContainer.dom.image),b.context.config.numOfWorkers===void 0&&(b.context.config.numOfWorkers=0),Ed(b.context.config.numOfWorkers,b.context.config,b.context.inputStream,function(){var $;(($=b.context.config)===null||$===void 0?void 0:$.numOfWorkers)===0&&b.initializeData(),b.ready(w)})):w(new Error("Input stream not initialized")):w(new Error("Configuration not initialized"))}),O()(this,"update",function(){if(b.context.onUIThread){var w,N=(R=b.context.framegrabber,Cn.length?!!(I=Cn.filter(function(D){return!D.busy})[0])&&(R.attachData(I.imageData),R.grab()&&(I.busy=!0,I.worker.postMessage({cmd:"process",imageData:I.imageData},[I.imageData.buffer])),!0):null);N||(b.context.framegrabber.attachData((w=b.context.inputImageWrapper)===null||w===void 0?void 0:w.data),b.context.framegrabber.grab()&&(N||b.locateAndDecode()))}else{var $;b.context.framegrabber.attachData(($=b.context.inputImageWrapper)===null||$===void 0?void 0:$.data),b.context.framegrabber.grab(),b.locateAndDecode()}var R,I}),O()(this,"_cachedStyleValues",void 0),O()(this,"_resolvedStyle",void 0)},[{key:"initBuffers",value:function(g){if(this.context.config){var b=function($,R,I){var D=R||new Pa({x:$.getWidth(),y:$.getHeight(),type:"XYSize"}),G=[d.clone([0,0]),d.clone([0,D.size.y]),d.clone([D.size.x,D.size.y]),d.clone([D.size.x,0])];return jo(D,I),{inputImageWrapper:D,boxSize:G}}(this.context.inputStream,g,this.context.config.locator),w=b.inputImageWrapper,N=b.boxSize;this.context.inputImageWrapper=w,this.context.boxSize=N}}},{key:"initializeData",value:function(g){this.context.config&&(this.initBuffers(g),this.context.decoder=ys.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?kf(this.context.config.inputStream.target):null}},{key:"ready",value:function(g){this.context.inputStream.play(),g()}},{key:"initCanvas",value:function(){var g=$d(this.context);if(g){var b=g.ctx,w=g.dom;this.context.canvasContainer.dom.image=w.image,this.context.canvasContainer.dom.overlay=w.overlay,this.context.canvasContainer.ctx.image=b.image,this.context.canvasContainer.ctx.overlay=b.overlay}}},{key:"initInputStream",value:function(g){if(this.context.config&&this.context.config.inputStream){var b=this.context.config.inputStream,w=b.type,N=b.constraints,$=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",G=arguments.length>1?arguments[1]:void 0,re=arguments.length>2?arguments[2]:void 0;switch(D){case"VideoStream":var we=document.createElement("video");return{video:we,inputStream:re.createVideoStream(we)};case"ImageStream":return{inputStream:re.createImageStream()};case"LiveStream":var ke=null;return G&&((ke=G.querySelector("video"))||(ke=document.createElement("video"),G.appendChild(ke))),{video:ke,inputStream:re.createLiveStream(ke)};default:return console.error("* setupInputStream invalid type ".concat(D)),{video:null,inputStream:null}}}(w,this.getViewPort(),_d),R=$.video,I=$.inputStream;w==="LiveStream"&&R&&Nn.request(R,N).then(function(){return I.trigger("canrecord")}).catch(function(D){return g(D)}),I&&(I.setAttribute("preload","auto"),I.setInputStream(this.context.config.inputStream),I.addEventListener("canrecord",this.canRecord.bind(void 0,g))),this.context.inputStream=I}}},{key:"getBoundingBoxes",value:function(){var g;return(g=this.context.config)!==null&&g!==void 0&&g.locate?Ia():[[d.clone(this.context.boxSize[0]),d.clone(this.context.boxSize[1]),d.clone(this.context.boxSize[2]),d.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(g){var b=this,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,N=this.context.inputStream.getTopRight(),$=N.x,R=N.y;if(($!==0||R!==0)&&(g.barcodes&&g.barcodes.forEach(function(D){return b.transformResult(D,w)}),g.line&&g.line.length===2&&Sf(g.line,$,R),g.box&&!w.has(g.box)&&(_f(g.box,$,R),w.add(g.box)),g.boxes&&g.boxes.length>0))for(var I=0;I<g.boxes.length;I++)w.has(g.boxes[I])||(_f(g.boxes[I],$,R),w.add(g.boxes[I]))}},{key:"addResult",value:function(g,b){var w=this;b&&this.context.resultCollector&&(g.barcodes?g.barcodes.filter(function(N){return N.codeResult}).forEach(function(N){return w.addResult(N,b)}):g.codeResult&&this.context.resultCollector.addResult(b,this.context.inputStream.getCanvasSize(),g.codeResult))}},{key:"hasCodeResult",value:function(g){return!(!g||!(g.barcodes?g.barcodes.some(function(b){return b.codeResult}):g.codeResult))}},{key:"publishResult",value:function(){var g,b,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0,$=w;w&&this.context.onUIThread&&(this.transformResult(w),this.addResult(w,N),$=(w==null||(b=w.barcodes)===null||b===void 0?void 0:b.length)>0?w.barcodes:w),qs.publish("processed",$),this.hasCodeResult(w)&&qs.publish("detected",$);var R=this.context.config;R&&R.locate===!1&&(g=R.inputStream)!==null&&g!==void 0&&g.area&&this.drawScannerArea()}},{key:"locateAndDecode",value:(v=Lr()(F.a.mark(function g(){var b,w,N,$,R,I;return F.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(b=this.getBoundingBoxes())){D.next=3;break}return D.next=1,this.context.decoder.decodeFromBoundingBoxes(b);case 1:if(I=D.sent){D.next=2;break}I={};case 2:(N=I).boxes=b,this.publishResult(N,(w=this.context.inputImageWrapper)===null||w===void 0?void 0:w.data),D.next=5;break;case 3:return D.next=4,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 4:($=D.sent)?this.publishResult($,(R=this.context.inputImageWrapper)===null||R===void 0?void 0:R.data):this.publishResult();case 5:case"end":return D.stop()}},g,this)})),function(){return v.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var g,b=this,w=null,N=1e3/(((g=this.context.config)===null||g===void 0?void 0:g.frequency)||60);this.context.stopped=!1;var $=this.context,R=function(I){w=w||I,$.stopped||(I>=w&&(w+=N,b.update()),window.requestAnimationFrame(R))};R(performance.now())}},{key:"start",value:function(){var g,b;this.context.onUIThread&&((g=this.context.config)===null||g===void 0||(b=g.inputStream)===null||b===void 0?void 0:b.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(p=Lr()(F.a.mark(function g(){var b,w;return F.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(this.context.stopped=!0,this.context.framegrabber||(this.context.initAborted=!0),Ed(0),(b=this.context.config)===null||b===void 0||!b.inputStream||this.context.config.inputStream.type!=="LiveStream"){N.next=2;break}return N.next=1,Nn.release();case 1:(w=this.context.inputStream)===null||w===void 0||w.clearEventHandlers();case 2:case"end":return N.stop()}},g,this)})),function(){return p.apply(this,arguments)})},{key:"setReaders",value:function(g){this.context.decoder&&this.context.decoder.setReaders(g),function(b){Cn.forEach(function(w){return w.worker.postMessage({cmd:"setReaders",readers:b})})}(g)}},{key:"registerReader",value:function(g,b){ys.registerReader(g,b),this.context.decoder&&this.context.decoder.registerReader(g,b),function(w,N){Cn.forEach(function($){return $.worker.postMessage({cmd:"registerReader",name:w,reader:N})})}(g,b)}},{key:"drawScannerArea",value:function(){var g,b,w,N=(g=this.context.config)===null||g===void 0||(b=g.inputStream)===null||b===void 0?void 0:b.area;if(N){var $=this.context.canvasContainer.ctx.overlay;if($&&((w=this.context.config)===null||w===void 0?void 0:w.locate)===!1&&(N.borderColor!==void 0&&N.borderColor!==""||N.borderWidth!==void 0&&N.borderWidth>0||N.backgroundColor!==void 0&&N.backgroundColor!=="")&&this.context.boxSize){var R=this.context.inputStream.getTopRight(),I=R.x,D=R.y,G=this.context.boxSize,re=G[0],we=G[1],ke=G[3],Be=re[0]+I,je=re[1]+D,Le=ke[0]-re[0],We=we[1]-re[1];if(!this._cachedStyleValues||this._cachedStyleValues.borderColor!==N.borderColor||this._cachedStyleValues.borderWidth!==N.borderWidth||this._cachedStyleValues.backgroundColor!==N.backgroundColor){var Qe,Ct;this._cachedStyleValues={borderColor:N.borderColor,borderWidth:N.borderWidth,backgroundColor:N.backgroundColor};var wt=N.borderColor!==void 0||N.borderWidth!==void 0,Xt=(Qe=N.borderColor)!==null&&Qe!==void 0?Qe:"rgba(0, 255, 0, 0.5)",cr=wt?(Ct=N.borderWidth)!==null&&Ct!==void 0?Ct:2:0,lr=N.backgroundColor;this._resolvedStyle={color:Xt,width:cr,bg:lr}}var vr=this._resolvedStyle;vr.bg&&($.fillStyle=vr.bg,$.fillRect(Be,je,Le,We)),vr.width>0&&($.strokeStyle=vr.color,$.lineWidth=vr.width,$.strokeRect(Be,je,Le,We))}}}}]);var p,v}(),Zn=new Ks,Ws=Zn.context,Td={init:function(p,v,g){var b,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Zn;return v||(b=new Promise(function(N,$){v=function(R){R?$(R):N()}})),w.context.initAborted=!1,w.context.config=_()({},Zl,p),w.context.config.numOfWorkers>0&&(w.context.config.numOfWorkers=0),g?(w.context.onUIThread=!1,w.initializeData(g),v&&v()):w.initInputStream(v),b},start:function(p,v){var g;if(p)return v||(g=new Promise(function(b,w){v=function(N){N?w(N):b()}})),this.init(p,function(b){if(b)v(b);else try{Zn.start(),v()}catch(w){v(w)}}),g;if(!Ws.framegrabber)throw new Error("start() was called before init() completed. Call init() first, or call start(config) to combine init and start.");return Zn.start()},stop:function(){return Zn.stop()},pause:function(){Ws.stopped=!0},onDetected:function(p){p&&(typeof p=="function"||y()(p)==="object"&&p.callback)?qs.subscribe("detected",p):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(p){qs.unsubscribe("detected",p)},onProcessed:function(p){p&&(typeof p=="function"||y()(p)==="object"&&p.callback)?qs.subscribe("processed",p):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(p){qs.unsubscribe("processed",p)},setReaders:function(p){p?Zn.setReaders(p):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(p,v){p?v?Zn.registerReader(p,v):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(p){p&&typeof p.addResult=="function"&&(Ws.resultCollector=p)},get canvas(){return Ws.canvasContainer},drawScannerArea:function(){return Zn.drawScannerArea()},decodeSingle:function(p,v){var g=this,b=new Ks;return(p=_()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:p.src},numOfWorkers:1,locator:{halfSample:!1}},p)).numOfWorkers>0&&(p.numOfWorkers=0),p.numOfWorkers>0&&(typeof Blob=="undefined"||typeof Worker=="undefined")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),p.numOfWorkers=0),new Promise(function(w,N){try{g.init(p,function(){Ws.canvasContainer=b.context.canvasContainer,qs.once("processed",function($){b.stop(),v&&v.call(null,$),w($)},!0),b.start()},null,b)}catch($){N($)}})},get default(){return Td},Readers:f,CameraAccess:Nn,ImageDebug:Q,ImageWrapper:Pa,ResultCollector:Nd};s.default=Td}]).default})}(Hg)),Hg.exports}var EA=$A();const On=Pl(EA);function ty({onBarcodeDetected:e,onClose:r,isOpen:t}){const[s,o]=S.useState(""),[l,d]=S.useState(!1),[u,f]=S.useState(""),[m,y]=S.useState(""),[k,_]=S.useState(!1),[C,T]=S.useState(!1),[E,A]=S.useState(!1),M=S.useRef(null),B=S.useRef(""),H=S.useRef(0),O=S.useRef(!1),z=Ee=>{Ee.key==="Enter"&&s.trim()&&(Ee.preventDefault(),q(s.trim()))},q=S.useCallback(Ee=>{if(!l){f(Ee),d(!0);try{On.stop()}catch(ce){}_(!1),setTimeout(()=>{e(Ee),o(""),d(!1),f(""),r()},800)}},[l,e,r]),ae=S.useCallback(()=>{try{On.stop(),On.offDetected(),On.offProcessed()}catch(Ee){}_(!1),O.current=!1,B.current="",H.current=0},[]),he=S.useCallback(()=>Ne(null,null,function*(){if(!(!M.current||O.current)){y(""),B.current="",H.current=0;try{const Ee=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),ce=Ee.getVideoTracks()[0];if(ce){const ue=ce.getCapabilities();A(!!ue.torch)}Ee.getTracks().forEach(ue=>ue.stop()),On.init({inputStream:{name:"Live",type:"LiveStream",target:M.current,constraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},aspectRatio:{ideal:1.333}},area:{top:"20%",right:"10%",left:"10%",bottom:"20%"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||4,frequency:10,decoder:{readers:["ean_reader","ean_8_reader","upc_reader","upc_e_reader","code_128_reader","code_39_reader","code_93_reader","codabar_reader","i2of5_reader"],multiple:!1},locate:!0},ue=>{var se;if(ue){console.error("Quagga init error:",ue),(se=ue.message)!=null&&se.includes("Permission")||ue.name==="NotAllowedError"?y("Camera access denied. Please allow camera permission and try again."):y("Failed to start camera. Please use manual input.");return}O.current=!0,_(!0),On.start()}),On.onDetected(ue=>{var ie,te,W;if(!((ie=ue==null?void 0:ue.codeResult)!=null&&ie.code))return;const se=ue.codeResult.code,de=((W=(te=ue.codeResult.decodedCodes)==null?void 0:te.filter(be=>be.error!==void 0))==null?void 0:W.map(be=>be.error))||[];(de.length>0?de.reduce((be,V)=>be+V,0)/de.length:1)<.15&&(B.current===se?(H.current++,H.current>=2&&q(se)):(B.current=se,H.current=1))}),On.onProcessed(ue=>{const se=On.canvas.ctx.overlay,de=On.canvas.dom.overlay;!se||!de||(se.clearRect(0,0,de.width,de.height),ue&&(ue.boxes&&ue.boxes.filter(pe=>pe!==ue.box).forEach(pe=>{se.strokeStyle="rgba(0, 255, 0, 0.5)",se.lineWidth=2,On.ImageDebug.drawPath(pe,{x:0,y:1},se,{color:"rgba(0, 255, 0, 0.5)",lineWidth:2})}),ue.box&&(se.strokeStyle="#00FF00",se.lineWidth=3,On.ImageDebug.drawPath(ue.box,{x:0,y:1},se,{color:"#00FF00",lineWidth:3})),ue.line&&(se.strokeStyle="#FF0000",se.lineWidth=3,On.ImageDebug.drawPath(ue.line,{x:0,y:1},se,{color:"#FF0000",lineWidth:3}))))})}catch(Ee){console.error("Camera error:",Ee);const ce=Ee instanceof Error?Ee.message:String(Ee);ce.includes("Permission")||ce.includes("NotAllowed")?y("Camera access denied. Please allow camera permission in your browser settings."):ce.includes("NotFound")||ce.includes("DevicesNotFound")?y("No camera found. Please use manual input."):y("Camera not available. Please use manual input.")}}}),[q]),ee=()=>Ne(null,null,function*(){try{const Ee=On.CameraAccess.getActiveTrack();Ee&&(yield Ee.applyConstraints({advanced:[{torch:!C}]}),T(!C))}catch(Ee){console.error("Torch toggle error:",Ee)}});return S.useEffect(()=>{if(t){const Ee=setTimeout(()=>{he()},100);return()=>clearTimeout(Ee)}else ae()},[t,he,ae]),S.useEffect(()=>()=>{ae()},[ae]),t?a.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-2 sm:p-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-lg mx-auto flex flex-col max-h-[95vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 shrink-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scan Barcode"}),a.jsxs("div",{className:"flex items-center gap-2",children:[E&&k&&a.jsx("button",{onClick:ee,className:`p-2 rounded-lg transition-colors ${C?"bg-yellow-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,title:"Toggle flashlight",children:a.jsx(jC,{size:20})}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(ln,{size:24})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l&&a.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kl,{className:"text-green-600 dark:text-green-400 mr-2 shrink-0",size:20}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-green-800 dark:text-green-200 font-medium block truncate",children:u}),a.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm",children:"Adding to cart..."})]})]})}),m&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Nl,{className:"text-red-600 dark:text-red-400 mr-2 shrink-0 mt-0.5",size:20}),a.jsx("span",{className:"text-red-800 dark:text-red-200 text-sm",children:m})]})}),a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[a.jsx("div",{ref:M,className:"w-full h-full",style:{position:"relative",minHeight:"240px"}}),k&&!l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[20%] left-[10%] w-8 h-8 border-t-3 border-l-3 border-green-400",style:{borderWidth:"3px 0 0 3px"}}),a.jsx("div",{className:"absolute top-[20%] right-[10%] w-8 h-8 border-t-3 border-r-3 border-green-400",style:{borderWidth:"3px 3px 0 0"}}),a.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-8 h-8 border-b-3 border-l-3 border-green-400",style:{borderWidth:"0 0 3px 3px"}}),a.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-8 h-8 border-b-3 border-r-3 border-green-400",style:{borderWidth:"0 3px 3px 0"}})]}),a.jsx("div",{className:"absolute left-[10%] right-[10%] top-[20%] bottom-[20%] pointer-events-none overflow-hidden",children:a.jsx("div",{className:"w-full h-0.5 bg-red-500 animate-scan-line"})}),a.jsxs("div",{className:"absolute top-3 left-3 bg-black/70 text-white px-3 py-1.5 rounded-full text-sm flex items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Scanning..."]})]}),!k&&!l&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx(Ty,{size:48,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Camera initializing..."})]})})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:k?"Position barcode within the frame":"Use manual input below"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Manual Entry"}),a.jsx("input",{type:"text",value:s,onChange:Ee=>o(Ee.target.value),onKeyPress:z,placeholder:"Type barcode and press Enter...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base",autoComplete:"off",inputMode:"numeric"})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:"Supports: EAN-13, UPC-A, Code128, Code39"}),a.jsx("span",{className:k?"text-green-500":"text-gray-400",children:k?" Active":" Inactive"})]})})]}),a.jsx("style",{children:`
        @keyframes scan-line {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(calc(100% - 2px)); }
        }
        .animate-scan-line {
          animation: scan-line 2s ease-in-out infinite;
        }
        
        /* Ensure Quagga video fills container */
        .drawingBuffer {
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
          width: 100% !important;
          height: 100% !important;
        }
        
        video {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
        }
        
        canvas.drawingBuffer {
          width: 100% !important;
          height: 100% !important;
        }
      `})]}):null}function TA(e){const[r,t]=S.useState(!1),[s,o]=S.useState(null),{products:l}=dh();return{scanBarcode:f=>Ne(null,null,function*(){if(!f.trim())return o("Please enter a valid barcode"),{success:!1,code:f,message:"Please enter a valid barcode",reason:"error"};t(!0),o(null);try{const m=l.find(y=>y.id===f||y.barcode===f||y.name.toLowerCase().includes(f.toLowerCase()));if(m)return m.available<=0?(o("Item out of stock"),{success:!1,code:f,message:`"${m.name}" is out of stock`,item:m,reason:"no_stock"}):(e(m),{success:!0,code:f,message:`Added "${m.name}" to cart`,item:m,reason:"found"});try{const k=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(f)}`)).json();if(k.message&&k.message.item_code){const _={id:k.message.item_code,name:k.message.item_name||k.message.item_code,category:k.message.item_group||"General",price:k.message.price||0,available:k.message.available||0,image:k.message.image,sold:0};return _.available<=0?(o("Item out of stock"),{success:!1,code:f,message:`"${_.name}" is out of stock`,item:_,reason:"no_stock"}):(e(_),{success:!0,code:f,message:`Added "${_.name}" to cart`,item:_,reason:"found"})}else return o("Product not found"),{success:!1,code:f,message:`No item found for barcode "${f}"`,reason:"not_found"}}catch(y){return console.error("API error:",y),o("Product not found"),{success:!1,code:f,message:`No item found for barcode "${f}"`,reason:"not_found"}}}catch(m){return console.error("Barcode scanning error:",m),o("Error processing barcode"),{success:!1,code:f,message:"Error processing barcode",reason:"error"}}finally{t(!1)}}),isScanning:r,error:s,clearError:()=>o(null)}}function aj({onBarcodeScanned:e,enabled:r=!0,minLength:t=4,maxTimeBetweenChars:s=50,endKey:o="Enter"}){const l=S.useRef(""),d=S.useRef(0),u=S.useRef(!1),f=S.useRef(null),m=S.useCallback(()=>{l.current="",u.current=!1,f.current&&(clearTimeout(f.current),f.current=null)},[]),y=S.useCallback(k=>{if(!r)return;const _=Date.now(),C=_-d.current;d.current=_;const T=k.target,E=T.tagName==="INPUT"||T.tagName==="TEXTAREA"||T.isContentEditable;if(k.key===o){const M=l.current.trim();if(M.length>=t&&u.current){k.preventDefault(),k.stopPropagation(),E&&M.length>=8&&(T.value=""),e(M),m();return}m();return}if(k.ctrlKey||k.altKey||k.metaKey||k.key.length>1){k.key!=="Shift"&&m();return}const A=C<s;u.current?A?l.current+=k.key:l.current=k.key:(l.current=k.key,u.current=!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m()},200),u.current&&E&&l.current.length>=4&&/^[A-Za-z0-9-]+$/.test(l.current)&&l.current.length>=8&&k.preventDefault()},[r,t,s,o,e,m]);return S.useEffect(()=>{if(r)return window.addEventListener("keydown",y,!0),()=>{window.removeEventListener("keydown",y,!0),f.current&&clearTimeout(f.current)}},[r,y]),{resetBuffer:m}}function od(e){const[r,t]=S.useState(!1);return S.useEffect(()=>{const s=window.matchMedia(e);s.matches!==r&&t(s.matches);const o=()=>t(s.matches);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[r,e]),r}function OA(){const e=xa(),[r,t]=S.useState("all"),[s,o]=S.useState(""),[l,d]=S.useState([]),[u,f]=S.useState(!1),[m,y]=S.useState(null),[k,_]=S.useState(null),C=S.useRef(null),{cartItems:T,addToCart:E,updateQuantity:A,removeItem:M,clearCart:B}=Il(),{products:H,isLoading:O,isLoadingMore:z,isSearching:q,error:ae,refetch:he,loadMoreProducts:ee,searchProducts:Ee,hasMore:ce,totalCount:ue,searchQuery:se}=dh(),{posDetails:de}=cn(),pe=(de==null?void 0:de.custom_use_scanner_fully)||!1,ie=(de==null?void 0:de.hide_unavailable_items)||!1,te=(de==null?void 0:de.custom_scale_barcodes_start_with)||"",W=od("(max-width: 1024px)"),be=xe=>{if(!(xe.available<=0)){if(pe){console.log("Scanner-only mode enabled. Items can only be added via barcode scanning.");return}ne(xe)}},V=S.useCallback(xe=>{if(!te||!xe.startsWith(te))return{isScale:!1};if(!/^\d{12,13}$/.test(xe))return{isScale:!1};const st=xe.substring(0,7),Ot=xe.length>=13,ye=xe.substring(0,12);Ot&&xe.substring(12,13);const Xe=ye.substring(7,12);if(!/^\d{5}$/.test(Xe))return{isScale:!1};Ot&&(J=>{let qe=0;for(let dt=0;dt<12;dt++){const ht=parseInt(J.charAt(dt),10);qe+=dt%2===0?ht:ht*3}const Ve=qe%10;return Ve===0?"0":String(10-Ve)})(ye);const mr=parseInt(Xe,10)/1e3;return Number.isNaN(mr)||mr<=0?{isScale:!1}:{isScale:!0,baseBarcode:st,quantity:mr}},[te]),U=S.useCallback((xe,st)=>Ne(null,null,function*(){const Ot=T.find(ye=>ye.id===xe.id);Ot?A(xe.id,Ot.quantity+st):(yield E({id:xe.id,name:xe.name,category:xe.category,price:xe.price,image:xe.image,available:xe.available,uom:xe.uom,item_code:xe.id}),A(xe.id,st))}),[T,A,E]),ne=xe=>{const st=T.find(Ot=>Ot.id===xe.id);st?A(xe.id,st.quantity+1):E({id:xe.id,name:xe.name,category:xe.category,price:xe.price,image:xe.image,available:xe.available,uom:xe.uom,item_code:xe.id})},me=(xe,st)=>{st<=0?M(xe):A(xe,st)},le=xe=>{M(xe)},X=()=>{B()},oe=xe=>{l.some(st=>st.code===xe.code)||d([...l,xe])},Ue=xe=>{d(l.filter(st=>st.code!==xe))},{scanBarcode:it}=TA(ne),yt=S.useCallback(xe=>Ne(null,null,function*(){Ye.info(`Scanned: ${xe}`,{autoClose:1500,toastId:"scan-info"});const st=yield it(xe);if(st.success)Ye.success(st.message,{autoClose:2e3,toastId:"scan-success"}),f(!1);else switch(st.reason){case"no_stock":Ye.warning(st.message,{autoClose:3e3,toastId:"scan-no-stock"});break;case"not_found":Ye.error(a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{children:st.message}),a.jsxs("button",{onClick:()=>{Ye.dismiss("scan-not-found"),f(!1),e(`/items?barcode=${encodeURIComponent(xe)}`)},className:"flex items-center justify-center gap-1 px-3 py-1.5 bg-beveren-600 text-white text-sm rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Di,{size:14}),"Create New Item"]})]}),{autoClose:8e3,toastId:"scan-not-found",closeOnClick:!1});break;default:Ye.error(st.message||"Scan failed",{autoClose:3e3,toastId:"scan-error"})}}),[it,e]);aj({onBarcodeScanned:S.useCallback(xe=>{console.log("USB Scanner detected barcode:",xe),(s.includes(xe)||xe.includes(s))&&o(""),yt(xe)},[s,yt]),enabled:!0,minLength:4,maxTimeBetweenChars:50});const et=xe=>{if(o(xe),pe&&xe.length>=8&&/^[0-9]+$/.test(xe)&&console.log("Potential barcode input detected:",xe),!!te&&xe&&/^[0-9]+$/.test(xe)&&xe.startsWith(te)&&xe.length>=7){const ye=xe.substring(0,7),Xe=H.find(lt=>lt.id===ye||lt.barcode&&lt.barcode===ye);y(Xe?Xe.id:null)}else m&&y(null);_(null),C.current&&clearTimeout(C.current);const Ot=xe.trim();Ot.length>=1?C.current=setTimeout(()=>{Ee(Ot)},300):Ot||Ee("")},xt=xe=>Ne(null,null,function*(){var st;if(xe.key==="Enter"&&s.trim()){if(xe.preventDefault(),/^[0-9]+$/.test(s)&&te&&s.startsWith(te)){const Ot=s.trim();if(Ot.length!==13){Ye.error("Scale barcode must be 13 digits including check digit");return}const ye=Ot.substring(0,12),Xe=Ot.substring(12,13);if((J=>{let qe=0;for(let dt=0;dt<12;dt++){const ht=parseInt(J.charAt(dt),10);qe+=dt%2===0?ht:ht*3}const Ve=qe%10;return Ve===0?"0":String(10-Ve)})(ye)!==Xe){Ye.error("Invalid scale barcode check digit");return}const Kt=V(Ot);if(Kt.isScale){const J=Kt.baseBarcode,qe=Kt.quantity,Ve=H.find(dt=>dt.id===J||dt.barcode&&dt.barcode===J);if(Ve){yield U(Ve,qe),o(""),y(null);return}try{const ht=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(J)}`)).json();if((st=ht==null?void 0:ht.message)!=null&&st.item_code){const vt={id:ht.message.item_code,name:ht.message.item_name||ht.message.item_code,category:ht.message.item_group||"General",price:ht.message.price||0,available:ht.message.available||0,image:ht.message.image,sold:0,uom:ht.message.stock_uom};yield U(vt,qe)}}catch(dt){}o(""),y(null);return}}if(pe&&/^[0-9]+$/.test(s)){console.log("Processing as barcode:",s),yt(s.trim()),o(""),y(null);return}console.log("Processing as product search:",s),Ee(s.trim()),Ne(null,null,function*(){var Ot;try{const Xe=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(s.trim())}`)).json();if(console.log("Batch/Serial lookup result:",Xe),(Ot=Xe==null?void 0:Xe.message)!=null&&Ot.item_code){const lt={id:Xe.message.item_code,name:Xe.message.item_name||Xe.message.item_code,category:Xe.message.item_group||"General",price:Xe.message.price||0,available:Xe.message.available||0,image:Xe.message.image,sold:0};U(lt,1);const mr=Xe.message.matched_type,Kt=Xe.message.matched_value;mr==="batch"?window.dispatchEvent(new CustomEvent("cart:setBatchForItem",{detail:{itemCode:lt.id,batchId:Kt}})):mr==="serial"&&window.dispatchEvent(new CustomEvent("cart:setSerialForItem",{detail:{itemCode:lt.id,serialNo:Kt}})),o(""),y(null)}}catch(ye){}})}});S.useEffect(()=>{if(!pe)return;const xe=setTimeout(()=>{if(s.length>=8&&/^[0-9]+$/.test(s)){const st=V(s.trim());if(st.isScale){const Ot=st.baseBarcode,ye=st.quantity,Xe=H.find(lt=>lt.id===Ot||lt.barcode&&lt.barcode===Ot);if(Xe){U(Xe,ye),o(""),y(null);return}}console.log("Auto-processing potential barcode:",s),yt(s.trim()),o(""),y(null)}},500);return()=>clearTimeout(xe)},[s,yt,pe,H,V,U]),S.useEffect(()=>{if(!s||!!te&&/^[0-9]+$/.test(s)&&s.startsWith(te)&&s.length>=7)return;let st=!1;const Ot=setTimeout(()=>Ne(null,null,function*(){var ye;try{const lt=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(s.trim())}`)).json();!st&&((ye=lt==null?void 0:lt.message)!=null&&ye.item_code)&&_(lt.message.item_code)}catch(Xe){st||_(null)}}),250);return()=>{st=!0,clearTimeout(Ot)}},[s,te]),S.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]);const Tt=H.filter(xe=>{var mr;if(ie&&xe.available<=0)return!1;if(se)return!0;const st=r==="all"||xe.category===r,Ot=!!te&&s&&/^[0-9]+$/.test(s)&&s.startsWith(te)&&s.length>=7,ye=m&&Ot||Ot?s.substring(0,7):"",Xe=ye===""||xe.name.toLowerCase().includes(ye.toLowerCase())||xe.category.toLowerCase().includes(ye.toLowerCase())||xe.id.toLowerCase().includes(ye.toLowerCase())||((mr=xe.description)==null?void 0:mr.toLowerCase().includes(ye.toLowerCase()))||xe.barcode&&xe.barcode.toLowerCase().includes(ye.toLowerCase()),lt=st&&Xe;return m&&Ot?lt||xe.id===m:k?lt||xe.id===k:lt});if(O)return a.jsx(CA,{message:"Loading products..."});const gr=pe&&!W&&a.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-600/90 text-white px-3 py-1.5 rounded-lg shadow-lg backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),a.jsx("span",{className:"text-sm font-medium",children:"Scanner Only"})]})});if(ae&&Tt.length===0){const xe=st=>st.includes("HTTP 403")||st.includes("403")?"Access denied. Please check your permissions or contact your administrator.":st.includes("HTTP 401")||st.includes("401")?"Authentication required. Please log in again.":st.includes("HTTP 404")||st.includes("404")?"Product service not available. Please contact your administrator.":st.includes("HTTP 500")||st.includes("500")?"Server error. Please try again later.":st.includes("Network error")||st.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":st.includes("Authentication required")?"Please log in to access products.":st;return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Failed to Load Products"}),a.jsx("p",{className:"text-gray-600 mb-4",children:xe(ae)}),a.jsx("button",{onClick:he,className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:"Try Again"})]})})}return W?a.jsxs(a.Fragment,{children:[a.jsx(SA,{items:Tt,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:et,onScanBarcode:()=>f(!0),scannerOnly:pe,hasMore:ce&&!se,isLoadingMore:z,onLoadMore:ee,totalCount:ue,isSearching:q}),a.jsx(ty,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:yt})]}):a.jsxs(a.Fragment,{children:[gr,a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 pb-8",children:[a.jsx("div",{className:"flex-1 overflow-hidden ml-20",children:a.jsx(w8,{items:Tt,selectedCategory:r,onCategoryChange:t,searchQuery:s,onSearchChange:et,onSearchKeyPress:xt,onAddToCart:be,onScanBarcode:()=>f(!0),scannerOnly:pe,hasMore:ce&&!se,isLoadingMore:z,onLoadMore:ee,totalCount:ue,isSearching:q})}),a.jsx("div",{className:"w-[35%] min-w-[420px] max-w-[600px] bg-white shadow-lg overflow-y-auto",children:a.jsx(rj,{cartItems:T,onUpdateQuantity:me,onRemoveItem:le,onClearCart:X,appliedCoupons:l,onApplyCoupon:oe,onRemoveCoupon:Ue})})]}),a.jsx(ty,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:yt})]})}function AA(){const[e,r]=S.useState(!1),[t,s]=S.useState(null),[o,l]=S.useState(!1);return{createOpeningEntry:(u,f)=>Ne(null,null,function*(){r(!0),s(null),l(!1);const m=window.csrf_token;try{const y={opening_balance:u};f&&(y.pos_profile=f);const k=yield fetch("/api/method/klik_pos.api.pos_entry.create_opening_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":m},body:JSON.stringify(y),credentials:"include"}),_=yield k.json();if(k.ok&&_.message)l(!0);else throw new Error(_._server_messages||"Failed to create opening entry")}catch(y){console.error("Error creating POS Opening Entry:",y),s(y.message||"Unexpected error occurred")}finally{r(!1)}}),isCreating:e,error:t,success:o}}const nj=({isOpen:e,onClose:r})=>{const[t,s]=S.useState("form"),[o,l]=S.useState(""),[d,u]=S.useState([]),[f,m]=S.useState(""),{createOpeningEntry:y,isCreating:k,error:_,success:C}=AA(),{profiles:T,loading:E}=F5(),{posDetails:A}=cn(),M=A==null?void 0:A.name,B=o||M||"",{modes:H,isLoading:O,error:z}=Nh(B),q=ue=>{switch(ue.toLowerCase()){case"cash":return a.jsx(K3,{className:"w-5 h-5 text-green-600"});case"bank":return a.jsx(is,{className:"w-5 h-5 text-blue-600"});default:return a.jsx(v9,{className:"w-5 h-5 text-gray-600"})}};S.useEffect(()=>{if(T&&T.length>0&&!o){let ue=null;M&&(ue=T.find(se=>se.name===M)||null),ue||(ue=T.find(de=>de.is_default)||T[0]||null),ue!=null&&ue.name&&l(ue.name)}},[T,o,M]);const ae=ue=>{l(ue)};S.useEffect(()=>{if(o&&O&&u([]),H&&H.length>0&&!O){const se=[...H].sort((de,pe)=>de.default===1&&pe.default!==1?-1:de.default!==1&&pe.default===1?1:0).map(de=>({mode_of_payment:de.mode_of_payment,opening_amount:0,type:de.type||"General",account:de.default_account||de.account}));u(se)}},[H,O,o]),S.useEffect(()=>{z&&m(z)},[z]);const he=(ue,se)=>{ue<0||ue>=d.length||u(de=>{const pe=[...de];return pe[ue]&&(pe[ue]=_e(Y({},pe[ue]),{opening_amount:se})),pe})},ee=()=>Ne(null,null,function*(){try{s("creating"),m("");const ue=d.map(se=>({mode_of_payment:se.mode_of_payment,opening_amount:se.opening_amount||0}));console.log("Opening balance data:",ue,"Selected profile:",o),yield y(ue,o||void 0),Py(),console.log(" Cache cleared after creating new opening entry");try{yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}),console.log(" Backend cache cleared after creating new opening entry")}catch(se){console.warn(" Failed to clear backend cache after opening entry:",se)}}catch(ue){console.error("Error creating opening entry:",ue),m(ue.message||"Failed to create opening entry"),s("form")}}),Ee=d.reduce((ue,se)=>ue+(se.opening_amount||0),0);if(S.useEffect(()=>{C&&t==="creating"&&(s("success"),setTimeout(()=>{window.location.reload()},1500))},[C,t]),S.useEffect(()=>{_&&t==="creating"&&(m(_),s("form"))},[_,t]),S.useEffect(()=>{e&&(s("form"),m(""),l(""),u([]))},[e]),!e)return null;const ce=o&&O;return a.jsx("div",{className:"fixed inset-0 bg-beveren-300 bg-opacity-10 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full max-h-[90vh] overflow-hidden",children:["        ",a.jsxs("div",{className:"bg-beveren-600 text-white px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"POS Opening Entry"}),a.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors",disabled:k,children:a.jsx(ln,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 relative",children:[t==="form"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"POS Profile"}),a.jsxs("select",{value:o,onChange:ue=>ae(ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!!E||!!ce,children:[(!T||T.length===0)&&a.jsx("option",{value:"",children:E?"Loading profiles...":"No profiles available"}),T&&Array.isArray(T)&&T.map((ue,se)=>{const de=ue.name,pe=ue.is_default?`${de} (Default)`:de;return a.jsx("option",{value:de,children:pe},de||se)})]})]}),ce&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment methods..."})]}),!ce&&d.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Opening Balances"}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.map((ue,se)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[q(ue.type),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900",children:ue.mode_of_payment}),a.jsx("div",{className:"text-xs text-gray-500",children:ue.type})]}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:ue.opening_amount||"",onChange:de=>he(se,parseFloat(de.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00",disabled:E})]},ue.mode_of_payment))}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[a.jsx("span",{children:"Total Opening Balance:"}),a.jsx("span",{className:"text-green-600",children:Nt(Ee,(A==null?void 0:A.currency)||"USD")})]})})]}),f&&a.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:[a.jsx(Nl,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("div",{children:f})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:!!E||!!k||!!ce,children:"Cancel"}),a.jsx("button",{onClick:ee,disabled:!!E||!!k||!!ce||!o||d.length===0,className:"flex-1 px-4 py-2 bg-beveren-700 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:E?"Loading...":k?"Creating...":ce?"Loading...":"Start POS Session"})]})]}),t==="creating"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Opening Entry"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we set up your POS session..."})]}),t==="success"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(dC,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"POS Session Started!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Opening entry created successfully. Redirecting to POS..."}),a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]}),E&&t==="form"&&!ce&&a.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})]})})};function RA(){const{isRTL:e}=Dl(),[r,t]=S.useState(!1),[s,o]=S.useState(!1),[l,d]=S.useState(null),[u,f]=S.useState(!0),[m,y]=S.useState(null),[k,_]=S.useState(!1),{hasOpenEntry:C,isLoading:T,error:E,refetch:A}=v3();S.useEffect(()=>{Ne(null,null,function*(){try{f(!0),y(null),ss.initializeSession();const O=yield ss.getCurrentUserProfile();if(O)d({name:O.name,email:O.email||O.name,full_name:O.full_name||O.first_name+" "+(O.last_name||""),role:O.role_profile_name||"User",user_image:O.user_image});else{const z=yield ss.getCurrentUser();z?d({name:z,email:z,full_name:z,role:"User"}):y("No user session found")}}catch(O){console.error("Error fetching current user:",O),y(O.message||"Failed to fetch user")}finally{f(!1)}})},[]),S.useEffect(()=>{s&&!k&&setTimeout(()=>Ne(null,null,function*(){h8()&&(console.log("Loading cached draft invoice items to cart"),yield f8()),_(!0)}),1e3)},[s,k]),S.useEffect(()=>{!T&&!E?C===!0?(o(!0),t(!1)):C===!1&&(o(!1),t(!1)):E&&(console.error("Error checking POS opening status:",E),o(!1),t(!1))},[C,T,E]);const M=()=>{t(!1),o(!0),_(!1),A()},B=()=>{t(!1)};return T||u?a.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),a.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):m?a.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:m})]})}):a.jsxs("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} pb-12`,children:[s&&a.jsx(OA,{}),!s&&!r&&a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"POS Not Ready"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please start a POS session to continue."}),a.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Start POS Session"})]})}),a.jsx(nj,{isOpen:r,onClose:B,onSuccess:M,currentUser:(l==null?void 0:l.name)||"Unknown User"})]})}function Vy(e="",r=!1,t){const[s,o]=S.useState([]),[l,d]=S.useState(!0),[u,f]=S.useState(!1),[m,y]=S.useState(null),[k,_]=S.useState(!0),[C,T]=S.useState(0),[E,A]=S.useState(0),[M,B]=S.useState(0),H=100,[O,z]=S.useState(e);S.useEffect(()=>{const ee=setTimeout(()=>{z(e)},300);return()=>clearTimeout(ee)},[e]);const q=S.useCallback((ee=0,Ee=!1)=>Ne(null,null,function*(){var ce;Ee?f(!0):d(!0);try{const ue=ee*H,se=O?`&search=${encodeURIComponent(O)}`:"",de=r?"&skip_opening_entry_filter=true":"",pe=t&&t!=="all"?`&cashier_name=${encodeURIComponent(t)}`:"",ie=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${H}&start=${ue}${se}${de}${pe}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!ie.ok)throw new Error(`HTTP ${ie.status}: ${ie.statusText}`);const te=yield ie.json();if(!te.message||!te.message.success)throw new Error(((ce=te.message)==null?void 0:ce.error)||te.error||"Failed to fetch invoices");const W=te.message.data,be=W.length,V=te.message.total_count||0;_(be===H),B(V);const U=W.map(ne=>{const me=ne.status,le=Array.isArray(ne.items)?ne.items:[];let X=!0;return me==="Credit Note Issued"?X=le.filter(Ue=>(Ue.available_qty||0)>0).length>0:X=!0,{id:ne.name,date:ne.posting_date||new Date().toISOString().split("T")[0],time:ne.posting_time||"00:00:00",cashier:ne.cashier_name,cashierId:ne.owner||"",customer:ne.customer_name||"",customerId:ne.customer||"",items:le,subtotal:(Number(ne.base_grand_total)||0)-(Number(ne.total_taxes_and_charges)||0)+(Number(ne.discount_amount)||0),giftCardDiscount:Number(ne.discount_amount)||0,giftCardCode:String(ne.discount_code)||"",taxAmount:Number(ne.total_taxes_and_charges)||0,totalAmount:Number(ne.base_grand_total)||0,paymentMethod:ne.mode_of_payment||"-",payment_methods:ne.payment_methods||[],amountPaid:Number(ne.base_rounded_total)||0,changeGiven:Number(ne.change_amount)||0,status:me||"Completed",refundAmount:me==="Refunded"&&Number(ne.base_grand_total)||0,custom_zatca_submit_status:ne.custom_zatca_submit_status||"Draft",currency:ne.currency||"USD",notes:ne.remarks||"",posProfile:ne.pos_profile||"",custom_pos_opening_entry:ne.custom_pos_opening_entry||"",canReturn:X}});Ee?(o(ne=>[...ne,...U]),A(ne=>ne+be)):(o(U),A(be)),T(ee),y(null)}catch(ue){y(ue.message||"Unknown error occurred")}finally{d(!1),f(!1)}}),[O,r,t]),ae=S.useCallback(()=>{!u&&k&&q(C+1,!0)},[C,u,k,q]),he=S.useCallback(()=>{T(0),A(0),_(!0),q(0,!1)},[q]);return S.useEffect(()=>{T(0),A(0),_(!0),q(0,!1)},[O,q]),S.useEffect(()=>{if(!l&&!u&&M>0&&M<=1e3&&k){const ee=Math.ceil((M-E)/H);ee>0&&ee<=10&&Ne(null,null,function*(){for(let ce=C+1;ce<=C+ee&&k;ce++)yield q(ce,!0)})}},[M,E,k,l,u,C,q]),{invoices:s,isLoading:l,isLoadingMore:u,error:m,hasMore:k,totalLoaded:E,totalCount:M,loadMore:ae,refetch:he}}function sj(){const[e,r]=S.useState(null),[t,s]=S.useState(!0),[o,l]=S.useState(null),d=()=>Ne(null,null,function*(){var u,f;s(!0);try{const m=yield fetch("/api/method/klik_pos.api.user.get_current_user_info",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),y=yield m.json();if(m.ok&&((u=y.message)!=null&&u.success))r(y.message.data),l(null);else throw new Error(((f=y.message)==null?void 0:f.error)||"Failed to fetch user info")}catch(m){console.error("Error loading user info:",m),l(m.message||"Unknown error")}finally{s(!1)}});return S.useEffect(()=>{d()},[]),{userInfo:e,isLoading:t,error:o,refetch:d}}function PA(){var be,V;const e=xa(),r=od("(max-width: 1024px)"),{posDetails:t}=cn(),{invoices:s,isLoading:o}=Vy(),{userInfo:l,isLoading:d}=sj(),[u,f]=S.useState(""),{modes:m}=Dy(),y=(l==null?void 0:l.is_admin_user)||!1,k=(l==null?void 0:l.full_name)||"Unknown",[_,C]=S.useState("all"),[T,E]=S.useState("all"),[A,M]=S.useState(!1),[B,H]=S.useState("bar"),O={giftCardUsage:{totalRedeemed:0,totalTransactions:0,averageDiscount:0},salesByDay:[{day:"Mon",sales:0},{day:"Tue",sales:0},{day:"Wed",sales:0},{day:"Thu",sales:0},{day:"Fri",sales:0},{day:"Sat",sales:0},{day:"Sun",sales:0}]},z=[...new Set(s.map(U=>U.cashier))];if(S.useEffect(()=>{l&&!y&&C(k)},[l,y,k]),d||o)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading dashboard..."})]})});const q=s.filter(U=>{const ne=_==="all"||U.cashier===_,me=T==="all"||U.paymentMethod===T,le=new Date().toISOString().split("T")[0],X=u===""&&!0||u==="today"&&U.date===le||u==="week"&&new Date(U.date)>=new Date(Date.now()-7*24*60*60*1e3)||u==="month"&&new Date(U.date)>=new Date(Date.now()-30*24*60*60*1e3),oe=u!==""||!(t!=null&&t.current_opening_entry)?!0:U.custom_pos_opening_entry===t.current_opening_entry,Ue=y||!(t!=null&&t.name)||U.posProfile===t.name;return ne&&me&&X&&oe&&Ue}),ae=(()=>{const U=q.reduce((X,oe)=>X+oe.totalAmount,0),ne=q.length,me=ne>0?U/ne:0,le=q.reduce((X,oe)=>X+oe.items.length,0);return{totalRevenue:U,totalTransactions:ne,averageOrderValue:me,totalItems:le}})(),ee=(()=>{if(u!=="today")return[];const U=new Date().toISOString().split("T")[0],ne=q.filter(le=>le.date===U),me={};for(let le=9;le<=20;le++){const X=`${le.toString().padStart(2,"0")}:00`;me[X]=0}return ne.forEach(le=>{const X=le.time.split(":");if(X.length>=2){const oe=`${X[0].padStart(2,"0")}:00`;Object.prototype.hasOwnProperty.call(me,oe)&&(me[oe]+=le.totalAmount)}}),Object.entries(me).map(([le,X])=>({hour:le,sales:X}))})(),ce=(()=>{const U={};(m||[]).forEach(le=>{const X=le.name||le.mode_of_payment;U[X]={amount:0,transactions:0}}),q.forEach(le=>{if(le.payment_methods&&Array.isArray(le.payment_methods))le.payment_methods.forEach(X=>{const oe=X.mode_of_payment;U[oe]||(U[oe]={amount:0,transactions:0}),U[oe].amount+=X.amount,le.payment_methods.indexOf(X)===0&&(U[oe].transactions+=1)});else{const X=le.paymentMethod||"Cash";U[X]||(U[X]={amount:0,transactions:0}),U[X].amount+=le.totalAmount,U[X].transactions+=1}});const me=Object.values(U).reduce((le,X)=>le+X.amount,0);return Object.entries(U).map(([le,X])=>({method:le,amount:X.amount,percentage:me>0?X.amount/me*100:0,transactions:X.transactions}))})(),se=(()=>{const U={};q.forEach(X=>{const oe=X.custom_zatca_submit_status||"Draft";U[oe]=(U[oe]||0)+1});const ne=Object.values(U).reduce((X,oe)=>X+oe,0),me={pending:"#f59e0b",reported:"#3b82f6","not reported":"#9ca3af",cleared:"#16a34a","not cleared":"#ef4444",draft:"#6b7280"},le=Object.entries(U).map(([X,oe])=>{const Ue=X.toLowerCase(),it=me[Ue]||"#9ca3af";return{status:X,count:oe,percentage:ne>0?oe/ne*100:0,color:it}});return{total:ne,segments:le.sort((X,oe)=>oe.count-X.count)}})(),pe=(()=>{const U={};return q.forEach(me=>{const le=me.cashier||"Unknown";U[le]||(U[le]={name:le,sales:0,transactions:0}),U[le].sales+=me.totalAmount,U[le].transactions+=1}),Object.values(U).sort((me,le)=>le.sales-me.sales)[0]||null})(),te=(()=>{const U={};return q.forEach(ne=>{ne.items.forEach(me=>{const le=me.item_code||me.item_name||"Unknown";U[le]||(U[le]={name:me.item_name||me.item_code||"Unknown",sales:0,revenue:0}),U[le].sales+=me.qty||0,U[le].revenue+=(me.rate||0)*(me.qty||0)})}),Object.entries(U).map(([ne,me])=>Y({id:ne},me)).sort((ne,me)=>me.revenue-ne.revenue).slice(0,5)})(),W=q.sort((U,ne)=>new Date(ne.date+" "+ne.time).getTime()-new Date(U.date+" "+U.time).getTime()).slice(0,5);return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:()=>M(!A),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(Cp,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Filters"})]})})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[A&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),a.jsxs("select",{value:u,onChange:U=>f(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Current POS Session"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),a.jsxs("select",{value:_,onChange:U=>C(U.target.value),disabled:!y,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${y?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),z.map(U=>a.jsx("option",{value:U,children:U},U))]}),!y&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),a.jsxs("select",{value:T,onChange:U=>E(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Methods"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{f("today"),C("all"),E("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Nt(ae.totalRevenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Po,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Xc,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:ae.totalTransactions}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Po,{className:"w-4 h-4 text-blue-500 mr-1"}),a.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"+8.2%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(ku,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Nt(ae.averageOrderValue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Po,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Rc,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:ae.totalItems}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Q1,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(q1,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[u==="today"&&ee.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>H("bar"),className:`px-2 py-1 text-xs rounded transition-colors ${B==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Bar"}),a.jsx("button",{onClick:()=>H("line"),className:`px-2 py-1 text-xs rounded transition-colors ${B==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Line"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qc,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Peak: ",((be=ee.reduce((U,ne)=>ne.sales>U.sales?ne:U,ee[0]))==null?void 0:be.hour)||"N/A"]})]})]})]}),a.jsx("div",{className:"h-48 flex items-end justify-between space-x-1",children:ee.map((U,ne)=>{const me=Math.max(...ee.map(X=>X.sales)),le=me>0?U.sales/me*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[B==="bar"?a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${le}px`,minHeight:"4px"},title:`${U.hour}: ${Nt(U.sales,(t==null?void 0:t.currency)||"USD")}`}):a.jsx("div",{className:"relative w-full h-full",children:a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[ne>0&&a.jsx("line",{x1:"0",y1:`${100-ee[ne-1].sales/me*100}`,x2:"100",y2:`${100-U.sales/me*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),a.jsx("circle",{cx:"100",cy:`${100-U.sales/me*100}`,r:"2",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Nt(U.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:U.hour})]},ne)})}),a.jsx("div",{className:"mt-3 text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:Nt(ee.reduce((U,ne)=>U+ne.sales,0),(t==null?void 0:t.currency)||"USD")})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),a.jsx(V1,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[ce.map((U,ne)=>{const me=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],le=me[ne%me.length];return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-4 h-4 ${le} rounded`}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:U.method})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:Nt(U.amount,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[U.percentage.toFixed(1),"%  ",U.transactions," txns"]})]})]},U.method)}),ce.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:ce.map((U,ne)=>{const me=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],le=me[ne%me.length];return a.jsx("div",{className:le,style:{width:`${U.percentage}%`}},U.method)})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(t==null?void 0:t.is_zatca_enabled)&&se.total>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),a.jsx(Rc,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-48 flex items-end justify-between space-x-2 mb-4",children:se.segments.map(U=>{const ne=Math.max(...se.segments.map(le=>le.count)),me=ne>0?U.count/ne*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${me}px`,minHeight:"4px",backgroundColor:U.color},title:`${U.status}: ${U.count} (${Math.round(U.percentage)}%)`}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:U.count})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center leading-tight",children:U.status})]},U.status)})}),a.jsx("div",{className:"space-y-2",children:se.segments.map(U=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:U.color}}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:U.status})]}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.count," (",Math.round(U.percentage),"%)"]})]},U.status))}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:se.total})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gift Card Usage"}),a.jsx(W3,{className:"w-5 h-5 text-orange-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Redeemed"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Nt(O.giftCardUsage.totalRedeemed,(t==null?void 0:t.currency)||"USD")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:O.giftCardUsage.totalTransactions})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Discount"}),a.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:Nt(O.giftCardUsage.averageDiscount,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(O.giftCardUsage.totalTransactions/(ae.totalTransactions||1)*100).toFixed(1),"% of all transactions"]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),a.jsx(Pi,{className:"w-5 h-5 text-beveren-600"})]}),pe?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[a.jsx("span",{className:"text-white font-bold text-xl",children:pe.name.split(" ").map(U=>U[0]).join("")}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:""})})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:pe.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[pe.transactions," transactions"]}),a.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:Nt(pe.sales,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[ae.totalRevenue>0?(pe.sales/ae.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Weekly Trend"}),a.jsx(Ey,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-24 flex items-end justify-between space-x-1 mb-4",children:O.salesByDay.map((U,ne)=>a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${U.sales/Math.max(...O.salesByDay.map(me=>me.sales))*60}px`,minHeight:"4px"},title:`${U.day}: ${Nt(U.sales,(t==null?void 0:t.currency)||"USD")}`}),a.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-1 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Nt(U.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:U.day})]},ne))}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Best day: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:"Friday"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),a.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),a.jsxs("div",{className:"space-y-3",children:[te.map((U,ne)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:ne+1})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:U.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[U.sales," sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:Nt(U.revenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Nt(U.sales>0?U.revenue/U.sales:0,(t==null?void 0:t.currency)||"USD")," avg"]})]})]},U.id)),te.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),a.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),a.jsxs("div",{className:"space-y-3",children:[W.map(U=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:U.paymentMethod==="Cash"?a.jsx("span",{className:"text-lg",children:""}):a.jsx(is,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:U.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[U.customer,"  ",U.time]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:Nt(U.totalAmount,U.currency||(t==null?void 0:t.currency)||"USD")}),a.jsx("div",{className:`text-xs ${U.status==="Completed"?"text-green-600 dark:text-green-400":U.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:U.status})]})]},U.id)),W.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]}),a.jsx(Is,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"})}),a.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:a.jsxs("button",{onClick:()=>M(!A),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(Cp,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16",children:[A&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 mb-6 sm:mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),a.jsxs("select",{value:u,onChange:U=>f(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Current POS Session"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),a.jsxs("select",{value:_,onChange:U=>C(U.target.value),disabled:!y,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${y?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),z.map(U=>a.jsx("option",{value:U,children:U},U))]}),!y&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),a.jsxs("select",{value:T,onChange:U=>E(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Methods"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{f("today"),C("all"),E("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:Nt(ae.totalRevenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Po,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Xc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:ae.totalTransactions}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Po,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-blue-400",children:"+8.2%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(ku,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:Nt(ae.averageOrderValue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Po,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Rc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:ae.totalItems}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Q1,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(q1,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[u==="today"&&ee.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>H("bar"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${B==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Bar"}),a.jsx("button",{onClick:()=>H("line"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${B==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Line"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qc,{className:"w-5 h-5 text-gray-400"}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Peak: ",((V=ee.reduce((U,ne)=>ne.sales>U.sales?ne:U,ee[0]))==null?void 0:V.hour)||"N/A"]})]})]})]}),a.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between space-x-1",children:ee.map((U,ne)=>{const me=Math.max(...ee.map(X=>X.sales)),le=me>0?U.sales/me*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[B==="bar"?a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${le}px`,minHeight:"4px"},title:`${U.hour}: ${Nt(U.sales,(t==null?void 0:t.currency)||"USD")}`}):a.jsx("div",{className:"relative w-full h-full",children:a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[ne>0&&a.jsx("line",{x1:"0",y1:`${100-ee[ne-1].sales/me*100}`,x2:"100",y2:`${100-U.sales/me*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),a.jsx("circle",{cx:"100",cy:`${100-U.sales/me*100}`,r:"3",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Nt(U.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:U.hour})]},ne)})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:Nt(ee.reduce((U,ne)=>U+ne.sales,0),(t==null?void 0:t.currency)||"USD")})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),a.jsx(V1,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[ce.map((U,ne)=>{const me=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],le=me[ne%me.length];return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-4 h-4 ${le} rounded`}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:U.method})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:Nt(U.amount,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[U.percentage.toFixed(1),"%  ",U.transactions," txns"]})]})]},U.method)}),ce.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:ce.map((U,ne)=>{const me=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],le=me[ne%me.length];return a.jsx("div",{className:le,style:{width:`${U.percentage}%`}},U.method)})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(t==null?void 0:t.is_zatca_enabled)&&se.total>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),a.jsx(Rc,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-64 flex items-end justify-between space-x-3 mb-6",children:se.segments.map(U=>{const ne=Math.max(...se.segments.map(le=>le.count)),me=ne>0?U.count/ne*200:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${me}px`,minHeight:"4px",backgroundColor:U.color},title:`${U.status}: ${U.count} (${Math.round(U.percentage)}%)`}),a.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:U.count})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 text-center leading-tight",children:U.status})]},U.status)})}),a.jsx("div",{className:"space-y-3",children:se.segments.map(U=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:U.color}}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:U.status})]}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.count," (",Math.round(U.percentage),"%)"]})]},U.status))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:se.total})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),a.jsx(Pi,{className:"w-5 h-5 text-beveren-600"})]}),pe?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[a.jsx("span",{className:"text-white font-bold text-xl",children:pe.name.split(" ").map(U=>U[0]).join("")}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:""})})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:pe.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[pe.transactions," transactions"]}),a.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:Nt(pe.sales,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[ae.totalRevenue>0?(pe.sales/ae.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),a.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),a.jsxs("div",{className:"space-y-4",children:[te.map((U,ne)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:ne+1})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:U.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[U.sales," sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:Nt(U.revenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Nt(U.sales>0?U.revenue/U.sales:0,(t==null?void 0:t.currency)||"USD")," avg"]})]})]},U.id)),te.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),a.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),a.jsxs("div",{className:"space-y-4",children:[W.map(U=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:U.paymentMethod==="Cash"?a.jsx("span",{className:"text-lg",children:""}):a.jsx(is,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:U.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[U.customer,"  ",U.time]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:Nt(U.totalAmount,U.currency||(t==null?void 0:t.currency)||"USD")}),a.jsx("div",{className:`text-xs ${U.status==="Completed"?"text-green-600 dark:text-green-400":U.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:U.status})]})]},U.id)),W.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]})]})})}function oj(e){const[r,t]=S.useState(null),[s,o]=S.useState(!1),[l,d]=S.useState(null);return S.useEffect(()=>{if(!e)return;Ne(null,null,function*(){var f;o(!0);try{console.log("Fetching invoice details for:",e);const m=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Invoice details response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const y=yield m.json();if(console.log("Invoice details data:",y),!y.message||!y.message.success)throw new Error(((f=y.message)==null?void 0:f.error)||y.error||"Failed to fetch invoice");t(y.message.data)}catch(m){console.error("Error fetching invoice details:",m),m instanceof Error?d(m.message):d("Unknown error")}finally{o(!1)}})},[e]),{invoice:r,isLoading:s,error:l}}function rd({invoice:e,isOpen:r,onClose:t,onCancel:s}){var y,k,_;const{invoice:o,isLoading:l,error:d}=oj((y=e==null?void 0:e.id)!=null?y:null);if(!r||!e)return null;if(l)return a.jsx("div",{children:"Loading invoice..."});if(d)return a.jsxs("div",{children:["Error loading invoice: ",d]});const u=o||e,f=C=>{switch(C){case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Refunded":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},m=C=>Ne(null,null,function*(){try{const T=yield kh(C);console.log(T),Ye.success(`Invoice returned: ${T.return_invoice}`)}catch(T){Ye.error(T.message||"Failed to return invoice")}});return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Details"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(u.status)}`,children:u.status})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Sp,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Nu,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(ln,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(N0,{icon:a.jsx(Ey,{}),label:"Date & Time",value:`${u.posting_date} at ${u.posting_time}`}),a.jsx(N0,{icon:a.jsx(Wn,{}),label:"Customer",value:u.customer}),a.jsx(N0,{icon:a.jsx(Wn,{}),label:"Cashier",value:u.cashier}),a.jsx(N0,{icon:a.jsx(is,{}),label:"Payment Method",value:u.paymentMethod})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Items"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item Code"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:u.items.map((C,T)=>{var E,A;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C.item_name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:C.category})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:a.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-xs font-mono text-gray-800 dark:text-gray-200",children:C.item_code})}),a.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:C.qty}),a.jsxs("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:["$",Number((E=C.rate)!=null?E:0).toFixed(2)]}),a.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["$",Number((A=C.amount)!=null?A:0).toFixed(2)]})]},T)})})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[u.giftCardCode&&a.jsx(MA,{code:u.giftCardCode,discount:u.giftCardDiscount}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(k0,{label:"Subtotal",value:Number((k=u.subtotal)!=null?k:0)}),u.giftCardDiscount>0&&a.jsx(k0,{label:"Gift Card Discount",value:-u.giftCardDiscount,color:"green"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsx(k0,{label:"Total",value:Number((_=u.totalAmount)!=null?_:0),bold:!0})}),u.status==="Refunded"&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsx(k0,{label:"Refunded Amount",value:u.refundAmount,color:"red",bold:!0})})]})]}),a.jsxs("div",{className:"space-y-3",children:[u.status==="Paid"&&a.jsx(Gg,{onClick:()=>m(u.name),icon:a.jsx(Ii,{}),color:"orange",text:"Process Returns"}),u.status==="Pending"&&a.jsx(Gg,{onClick:()=>s(u.id),icon:a.jsx(Ac,{}),color:"red",text:"Cancel Order"}),a.jsx(Gg,{icon:a.jsx(Nu,{}),text:"Print Receipt"})]}),u.notes&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"Notes"}),a.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:u.notes})]})]})]})})]})]})})}function N0({icon:e,label:r,value:t}){return a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-gray-400",children:e}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t})]})]})}function k0({label:e,value:r,color:t,bold:s}){const o=`flex justify-between ${t?`text-${t}-600 dark:text-${t}-400`:""}`,l=s?"font-bold":"font-semibold";return a.jsxs("div",{className:o,children:[a.jsx("span",{className:s?"text-lg font-bold":"",children:e}),a.jsxs("span",{className:l,children:["$",Math.abs(r)]})]})}function MA({code:e,discount:r}){return a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(l9,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Gift Card Applied"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Code"}),a.jsx("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:e})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Discount"}),a.jsxs("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:["-$",r]})]})]})]})}function Gg({onClick:e,icon:r,text:t,color:s}){const o=s==="red"?"bg-red-600 hover:bg-red-700":s==="orange"?"bg-orange-600 hover:bg-orange-700":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700";return a.jsxs("button",{onClick:e,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl transition-colors ${o} text-white`,children:[r,a.jsx("span",{children:t})]})}function DA(e,r,t){return Ne(this,null,function*(){const s=window.csrf_token;try{const o=yield fetch("/api/method/klik_pos.api.sales_invoice.returned_qty",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":s},body:JSON.stringify({customer:e,sales_invoice:r,item:t}),credentials:"include"}),l=yield o.json();if(!o.ok)throw new Error(l.message||"Failed to get returned quantity");return{success:!0,data:l.message}}catch(o){return console.error("Error getting returned quantity:",o),{success:!1,error:o.message||"Failed to get returned quantity"}}})}function Vg(e,r,t,s){return Ne(this,null,function*(){try{const o=new URLSearchParams(Y(Y(Y({customer:e},r&&{start_date:r}),t&&{end_date:t}),s&&{shipping_address:s})),l=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_customer_invoices_for_return?${o}`),d=yield l.json();if(!l.ok||!d.message.success)throw new Error(d.message.error||"Failed to fetch customer invoices");return{success:!0,data:d.message.data}}catch(o){return console.error("Error fetching customer invoices for return:",o),{success:!1,error:o.message||"Failed to fetch customer invoices"}}})}function IA(e,r,t,s){return Ne(this,null,function*(){const o=window.csrf_token;try{const l=yield fetch("/api/method/klik_pos.api.sales_invoice.create_partial_return",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":o},body:JSON.stringify({invoice_name:e,return_items:r,payment_method:t||"Cash",return_amount:s||0}),credentials:"include"}),d=yield l.json();if(!l.ok)throw new Error(d.message||"Failed to create partial return");const u=d.message||d;if(!u.success)throw new Error(u.message||"Failed to create partial return");return{success:!0,returnInvoice:u.return_invoice,message:u.message}}catch(l){return console.error("Error creating partial return:",l),{success:!1,error:l.message||"Failed to create partial return"}}})}function LA(e){return Ne(this,null,function*(){const r=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_multi_invoice_return",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Frappe-CSRF-Token":r},body:new URLSearchParams({return_data:JSON.stringify(e)}).toString(),credentials:"include"}),s=yield t.json();if(console.log("Multi-invoice return response:",s),!t.ok)throw new Error(s.message||"Failed to create multi-invoice return");const o=s.message||s;if(!o.success)throw new Error(o.message||"Failed to create multi-invoice return");return{success:!0,createdReturns:o.created_returns,message:o.message}}catch(t){return console.error("Error creating multi-invoice return:",t),{success:!1,error:t.message||"Failed to create multi-invoice return"}}})}function Bu({invoice:e,isOpen:r,onClose:t,onSuccess:s}){const[o,l]=S.useState([]),[d,u]=S.useState(!1),[f,m]=S.useState(!0),[y,k]=S.useState(0),[_,C]=S.useState(0),{posDetails:T}=cn(),E=e&&(e.currency||e.company_currency)||(T==null?void 0:T.currency)||"USD",A=Gy(E),{modes:M,isLoading:B}=Nh(typeof(T==null?void 0:T.name)=="string"?T.name:""),[H,O]=S.useState(""),[z,q]=S.useState(0);S.useEffect(()=>{r&&e&&ae()},[r,e]),S.useEffect(()=>{if(_>0){const de=(T==null?void 0:T.custom_ignore_write_off_on_partial_returns)||!1,pe=o.reduce((be,V)=>be+V.qty*V.rate,0),ie=o.reduce((be,V)=>be+(V.return_qty||0)*V.rate,0),te=ie<pe;let W;if(de&&te)W=ie;else{const be=pe>0?ie/pe:0;W=_*be}q(Math.round(W*100)/100)}else{const de=o.reduce((pe,ie)=>pe+(ie.return_qty||0)*ie.rate,0);q(Math.round(de*100)/100)}},[o,_,T==null?void 0:T.custom_ignore_write_off_on_partial_returns]),S.useEffect(()=>{if(M.length>0&&!H){const de=M.find(te=>te.default===1),pe=M[0],ie=(de==null?void 0:de.mode_of_payment)||(pe==null?void 0:pe.mode_of_payment)||"";O(ie)}},[M,H]);const ae=()=>Ne(null,null,function*(){var de,pe,ie,te,W,be,V;m(!0);try{let U=e;const ne=yield E8(e.name||e.id);if(ne.success&&ne.data)U=ne.data.data||ne.data,k(U.grand_total||0),C(U.paid_amount||U.grand_total||0);else throw console.error("Failed to fetch invoice details:",ne.error),new Error(ne.error||"Failed to fetch invoice details from backend");const me=[],le=U.items||U.items_list||U.sales_invoice_items||[];if(!Array.isArray(le))throw console.error("Items is not an array:",le),new Error("Invoice items not found in expected format");for(const X of le){const oe=yield DA(U.customer,U.name||U.id,X.item_code||X.id),Ue=oe.success&&((de=oe.data)==null?void 0:de.total_returned_qty)||0,it=X.item_code||X.id,yt=X.item_name||X.name,et=Number((ie=(pe=X.qty)!=null?pe:X.quantity)!=null?ie:0),xt=Number((W=(te=X.rate)!=null?te:X.unitPrice)!=null?W:0),Tt=Number((V=(be=X.amount)!=null?be:X.total)!=null?V:et*xt);me.push({item_code:it,item_name:yt,qty:et,rate:xt,amount:Tt,returned_qty:Ue,available_qty:Math.round((et-Ue)*100)/100,return_qty:Math.round((et-Ue)*100)/100})}l(me)}catch(U){console.error("Error initializing return items:",U),Ye.error("Failed to load return data")}finally{m(!1)}}),he=(de,pe)=>{l(ie=>ie.map(te=>{if(te.item_code===de){const W=Math.max(0,Math.min(Math.round(pe*100)/100,te.available_qty));return _e(Y({},te),{return_qty:W})}return te}))},ee=()=>{l(de=>de.map(pe=>_e(Y({},pe),{return_qty:pe.available_qty})))},Ee=()=>{l(de=>de.map(pe=>_e(Y({},pe),{return_qty:0})))},ce=()=>Ne(null,null,function*(){const de=o.filter(ie=>ie.return_qty&&ie.return_qty>0);if(de.length===0){Ye.error("Please select at least one item to return");return}u(!0);const pe=e.id||e.name;try{const ie={items:de,paymentMethod:H,returnAmount:z},te=yield IA(pe,de,H,z);te.success?(Ye.success(`Return created successfully (${H})`),s(te.returnInvoice),t()):Ye.error(te.error||"Failed to create return")}catch(ie){console.error("Error creating return:",ie),Ye.error("Failed to create return")}finally{u(!1)}}),ue=o.reduce((de,pe)=>de+(pe.return_qty||0)*pe.rate,0),se=o.some(de=>(de.return_qty||0)>0);return r?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:a.jsx(El,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Return Items"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invoice: ",(e==null?void 0:e.name)||(e==null?void 0:e.id),"  Customer: ",e==null?void 0:e.customer]})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(ln,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading return data..."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:ee,className:"px-4 py-2 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/40 transition-colors text-sm font-medium",children:"Return All Available"}),a.jsx("button",{onClick:Ee,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Clear All"})]}),a.jsxs("div",{className:"text-right",children:[_>0&&ue!==z?a.jsxs("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Total Return Amount:"}),a.jsx("span",{children:Nt(ue,E)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Paid Amount:"}),a.jsx("span",{children:Nt(z,E)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-orange-600 dark:text-red-400 font-semibold",children:"Write-off:"}),a.jsx("span",{className:"text-orange-600 dark:text-red-400 font-semibold",children:Nt(ue-z,E)})]})]}):a.jsx("div",{className:"text-lg font-bold text-black-600 dark:text-orange-400",children:Nt(ue,E)}),_>0&&ue===z&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Customer Paid: ",Nt(_,E)]})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sold Qty"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Returned"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Available"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Qty"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:o.map(de=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:a.jsx($l,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:de.item_name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",de.item_code]})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-900 dark:text-white",children:de.qty}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:de.returned_qty})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:`text-sm font-medium ${de.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:de.available_qty})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>he(de.item_code,Math.round(((de.return_qty||0)-1)*100)/100),disabled:!de.return_qty||de.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(Ay,{className:"w-4 h-4"})}),a.jsx("input",{type:"number",min:"0",max:de.available_qty,value:de.return_qty||0,onChange:pe=>he(de.item_code,Math.round((parseFloat(pe.target.value)||0)*100)/100),className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",disabled:de.available_qty===0}),a.jsx("button",{onClick:()=>he(de.item_code,Math.round(((de.return_qty||0)+1)*100)/100),disabled:de.available_qty===0||(de.return_qty||0)>=de.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(Di,{className:"w-4 h-4"})})]})}),a.jsx("td",{className:"px-4 py-4 text-right text-sm text-gray-900 dark:text-white",children:Nt(de.rate,E)}),a.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:Nt((de.return_qty||0)*de.rate,E)})]},de.item_code))})]})})}),o.every(de=>de.available_qty===0)&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(_u,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Items Available for Return"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"All items from this invoice have already been returned."})]})]})})]})}),se&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Payment Method for Return"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx("select",{value:H,onChange:de=>O(de.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors",disabled:B,children:B?a.jsx("option",{children:"Loading payment methods..."}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:""}),M.map(de=>{const pe=de.mode_of_payment;return a.jsx("option",{value:pe,children:pe},pe)})]})})}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:A}),a.jsx("input",{type:"number",value:z,onChange:de=>{const pe=parseFloat(de.target.value)||0;q(Math.round(pe*100)/100)},step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors text-right text-lg font-semibold",placeholder:"0.00"})]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kl,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{children:[o.filter(de=>(de.return_qty||0)>0).length," item(s) selected for return"]})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),a.jsx("button",{onClick:ce,disabled:!se||d||f,className:`px-6 py-3 rounded-lg font-semibold text-base transition-colors shadow-lg ${se&&!d&&!f?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:d?"Processing Return...":"Process Return"})]})]})]})]})}):null}function UA(){const[e,r]=S.useState(!1),[t,s]=S.useState(null),[o,l]=S.useState(!1);return{createClosingEntry:u=>Ne(null,null,function*(){r(!0),s(null),l(!1);const f=window.csrf_token;try{const m=yield fetch("/api/method/klik_pos.api.pos_entry.create_closing_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":f,Accept:"application/json"},body:JSON.stringify({closing_balance:u}),credentials:"include"});if(console.log("Closing entry response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const y=yield m.json();if(console.log("Closing entry data:",y),y.message)l(!0);else throw new Error(y._server_messages||"Failed to create closing entry")}catch(m){console.error("Error creating POS Closing Entry:",m),s(m.message||"Unexpected error occurred")}finally{r(!1)}}),isCreating:e,error:t,success:o}}function FA(e,r){const t=S.createContext(r),s=l=>{const m=l,{children:d}=m,u=hr(m,["children"]),f=S.useMemo(()=>u,Object.values(u));return a.jsx(t.Provider,{value:f,children:d})};s.displayName=e+"Provider";function o(l){const d=S.useContext(t);if(d)return d;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,o]}function ij(e,r=[]){let t=[];function s(l,d){const u=S.createContext(d),f=t.length;t=[...t,d];const m=k=>{var B;const M=k,{scope:_,children:C}=M,T=hr(M,["scope","children"]),E=((B=_==null?void 0:_[e])==null?void 0:B[f])||u,A=S.useMemo(()=>T,Object.values(T));return a.jsx(E.Provider,{value:A,children:C})};m.displayName=l+"Provider";function y(k,_){var E;const C=((E=_==null?void 0:_[e])==null?void 0:E[f])||u,T=S.useContext(C);if(T)return T;if(d!==void 0)return d;throw new Error(`\`${k}\` must be used within \`${l}\``)}return[m,y]}const o=()=>{const l=t.map(d=>S.createContext(d));return function(u){const f=(u==null?void 0:u[e])||l;return S.useMemo(()=>({[`__scope${e}`]:_e(Y({},u),{[e]:f})}),[u,f])}};return o.scopeName=e,[s,zA(o,...r)]}function zA(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=s.reduce((u,{useScope:f,scopeName:m})=>{const k=f(l)[`__scope${m}`];return Y(Y({},u),k)},{});return S.useMemo(()=>({[`__scope${r.scopeName}`]:d}),[d])}};return t.scopeName=r.scopeName,t}function uw(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function lj(...e){return r=>{let t=!1;const s=e.map(o=>{const l=uw(o,r);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():uw(e[o],null)}}}}function Bo(...e){return S.useCallback(lj(...e),e)}function Lo(e,r,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return r==null?void 0:r(o)}}var qu=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},BA=Vw[" useId ".trim().toString()]||(()=>{}),qA=0;function Kg(e){const[r,t]=S.useState(BA());return qu(()=>{t(s=>s!=null?s:String(qA++))},[e]),e||(r?`radix-${r}`:"")}var HA=Vw[" useInsertionEffect ".trim().toString()]||qu;function GA({prop:e,defaultProp:r,onChange:t=()=>{},caller:s}){const[o,l,d]=VA({defaultProp:r,onChange:t}),u=e!==void 0,f=u?e:o;{const y=S.useRef(e!==void 0);S.useEffect(()=>{const k=y.current;k!==u&&console.warn(`${s} is changing from ${k?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,s])}const m=S.useCallback(y=>{var k;if(u){const _=KA(y)?y(e):y;_!==e&&((k=d.current)==null||k.call(d,_))}else l(y)},[u,e,l,d]);return[f,m]}function VA({defaultProp:e,onChange:r}){const[t,s]=S.useState(e),o=S.useRef(t),l=S.useRef(r);return HA(()=>{l.current=r},[r]),S.useEffect(()=>{var d;o.current!==t&&((d=l.current)==null||d.call(l,t),o.current=t)},[t,o]),[t,s,l]}function KA(e){return typeof e=="function"}function cj(e){const r=WA(e),t=S.forwardRef((s,o)=>{const m=s,{children:l}=m,d=hr(m,["children"]),u=S.Children.toArray(l),f=u.find(QA);if(f){const y=f.props.children,k=u.map(_=>_===f?S.Children.count(y)>1?S.Children.only(null):S.isValidElement(y)?y.props.children:null:_);return a.jsx(r,_e(Y({},d),{ref:o,children:S.isValidElement(y)?S.cloneElement(y,void 0,k):null}))}return a.jsx(r,_e(Y({},d),{ref:o,children:l}))});return t.displayName=`${e}.Slot`,t}function WA(e){const r=S.forwardRef((t,s)=>{const d=t,{children:o}=d,l=hr(d,["children"]);if(S.isValidElement(o)){const u=ZA(o),f=XA(l,o.props);return o.type!==S.Fragment&&(f.ref=s?lj(s,u):u),S.cloneElement(o,f)}return S.Children.count(o)>1?S.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var dj=Symbol("radix.slottable");function YA(e){const r=({children:t})=>a.jsx(a.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=dj,r}function QA(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dj}function XA(e,r){const t=Y({},r);for(const s in r){const o=e[s],l=r[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...u)=>{const f=l(...u);return o(...u),f}:o&&(t[s]=o):s==="style"?t[s]=Y(Y({},o),l):s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return Y(Y({},e),t)}function ZA(e){var s,o;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var JA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qo=JA.reduce((e,r)=>{const t=cj(`Primitive.${r}`),s=S.forwardRef((o,l)=>{const m=o,{asChild:d}=m,u=hr(m,["asChild"]),f=d?t:r;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,_e(Y({},u),{ref:l}))});return s.displayName=`Primitive.${r}`,_e(Y({},e),{[r]:s})},{});function eR(e,r){e&&vy.flushSync(()=>e.dispatchEvent(r))}function Hu(e){const r=S.useRef(e);return S.useEffect(()=>{r.current=e}),S.useMemo(()=>(...t)=>{var s;return(s=r.current)==null?void 0:s.call(r,...t)},[])}function tR(e,r=globalThis==null?void 0:globalThis.document){const t=Hu(e);S.useEffect(()=>{const s=o=>{o.key==="Escape"&&t(o)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[t,r])}var rR="DismissableLayer",ry="dismissableLayer.update",aR="dismissableLayer.pointerDownOutside",nR="dismissableLayer.focusOutside",fw,uj=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fj=S.forwardRef((e,r)=>{var he;const ae=e,{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:u}=ae,f=hr(ae,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),m=S.useContext(uj),[y,k]=S.useState(null),_=(he=y==null?void 0:y.ownerDocument)!=null?he:globalThis==null?void 0:globalThis.document,[,C]=S.useState({}),T=Bo(r,ee=>k(ee)),E=Array.from(m.layers),[A]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=E.indexOf(A),B=y?E.indexOf(y):-1,H=m.layersWithOutsidePointerEventsDisabled.size>0,O=B>=M,z=iR(ee=>{const Ee=ee.target,ce=[...m.branches].some(ue=>ue.contains(Ee));!O||ce||(o==null||o(ee),d==null||d(ee),ee.defaultPrevented||u==null||u())},_),q=lR(ee=>{const Ee=ee.target;[...m.branches].some(ue=>ue.contains(Ee))||(l==null||l(ee),d==null||d(ee),ee.defaultPrevented||u==null||u())},_);return tR(ee=>{B===m.layers.size-1&&(s==null||s(ee),!ee.defaultPrevented&&u&&(ee.preventDefault(),u()))},_),S.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(fw=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),hw(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=fw)}},[y,_,t,m]),S.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),hw())},[y,m]),S.useEffect(()=>{const ee=()=>C({});return document.addEventListener(ry,ee),()=>document.removeEventListener(ry,ee)},[]),a.jsx(qo.div,_e(Y({},f),{ref:T,style:Y({pointerEvents:H?O?"auto":"none":void 0},e.style),onFocusCapture:Lo(e.onFocusCapture,q.onFocusCapture),onBlurCapture:Lo(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Lo(e.onPointerDownCapture,z.onPointerDownCapture)}))});fj.displayName=rR;var sR="DismissableLayerBranch",oR=S.forwardRef((e,r)=>{const t=S.useContext(uj),s=S.useRef(null),o=Bo(r,s);return S.useEffect(()=>{const l=s.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),a.jsx(qo.div,_e(Y({},e),{ref:o}))});oR.displayName=sR;function iR(e,r=globalThis==null?void 0:globalThis.document){const t=Hu(e),s=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const l=u=>{if(u.target&&!s.current){let f=function(){hj(aR,t,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",o.current),o.current=f,r.addEventListener("click",o.current,{once:!0})):f()}else r.removeEventListener("click",o.current);s.current=!1},d=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),r.removeEventListener("pointerdown",l),r.removeEventListener("click",o.current)}},[r,t]),{onPointerDownCapture:()=>s.current=!0}}function lR(e,r=globalThis==null?void 0:globalThis.document){const t=Hu(e),s=S.useRef(!1);return S.useEffect(()=>{const o=l=>{l.target&&!s.current&&hj(nR,t,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",o),()=>r.removeEventListener("focusin",o)},[r,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function hw(){const e=new CustomEvent(ry);document.dispatchEvent(e)}function hj(e,r,t,{discrete:s}){const o=t.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&o.addEventListener(e,r,{once:!0}),s?eR(o,l):o.dispatchEvent(l)}var Wg="focusScope.autoFocusOnMount",Yg="focusScope.autoFocusOnUnmount",mw={bubbles:!1,cancelable:!0},cR="FocusScope",mj=S.forwardRef((e,r)=>{const E=e,{loop:t=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:l}=E,d=hr(E,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,f]=S.useState(null),m=Hu(o),y=Hu(l),k=S.useRef(null),_=Bo(r,A=>f(A)),C=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let A=function(O){if(C.paused||!u)return;const z=O.target;u.contains(z)?k.current=z:Ni(k.current,{select:!0})},M=function(O){if(C.paused||!u)return;const z=O.relatedTarget;z!==null&&(u.contains(z)||Ni(k.current,{select:!0}))},B=function(O){if(document.activeElement===document.body)for(const q of O)q.removedNodes.length>0&&Ni(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",M);const H=new MutationObserver(B);return u&&H.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",M),H.disconnect()}}},[s,u,C.paused]),S.useEffect(()=>{if(u){pw.add(C);const A=document.activeElement;if(!u.contains(A)){const B=new CustomEvent(Wg,mw);u.addEventListener(Wg,m),u.dispatchEvent(B),B.defaultPrevented||(dR(gR(gj(u)),{select:!0}),document.activeElement===A&&Ni(u))}return()=>{u.removeEventListener(Wg,m),setTimeout(()=>{const B=new CustomEvent(Yg,mw);u.addEventListener(Yg,y),u.dispatchEvent(B),B.defaultPrevented||Ni(A!=null?A:document.body,{select:!0}),u.removeEventListener(Yg,y),pw.remove(C)},0)}}},[u,m,y,C]);const T=S.useCallback(A=>{if(!t&&!s||C.paused)return;const M=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,B=document.activeElement;if(M&&B){const H=A.currentTarget,[O,z]=uR(H);O&&z?!A.shiftKey&&B===z?(A.preventDefault(),t&&Ni(O,{select:!0})):A.shiftKey&&B===O&&(A.preventDefault(),t&&Ni(z,{select:!0})):B===H&&A.preventDefault()}},[t,s,C.paused]);return a.jsx(qo.div,_e(Y({tabIndex:-1},d),{ref:_,onKeyDown:T}))});mj.displayName=cR;function dR(e,{select:r=!1}={}){const t=document.activeElement;for(const s of e)if(Ni(s,{select:r}),document.activeElement!==t)return}function uR(e){const r=gj(e),t=gw(r,e),s=gw(r.reverse(),e);return[t,s]}function gj(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function gw(e,r){for(const t of e)if(!fR(t,{upTo:r}))return t}function fR(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hR(e){return e instanceof HTMLInputElement&&"select"in e}function Ni(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&hR(e)&&r&&e.select()}}var pw=mR();function mR(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=yw(e,r),e.unshift(r)},remove(r){var t;e=yw(e,r),(t=e[0])==null||t.resume()}}}function yw(e,r){const t=[...e],s=t.indexOf(r);return s!==-1&&t.splice(s,1),t}function gR(e){return e.filter(r=>r.tagName!=="A")}var pR="Portal",pj=S.forwardRef((e,r)=>{var f;const u=e,{container:t}=u,s=hr(u,["container"]),[o,l]=S.useState(!1);qu(()=>l(!0),[]);const d=t||o&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return d?aS.createPortal(a.jsx(qo.div,_e(Y({},s),{ref:r})),d):null});pj.displayName=pR;function yR(e,r){return S.useReducer((t,s)=>{const o=r[t][s];return o!=null?o:t},e)}var Ah=e=>{const{present:r,children:t}=e,s=xR(r),o=typeof t=="function"?t({present:s.isPresent}):S.Children.only(t),l=Bo(s.ref,bR(o));return typeof t=="function"||s.isPresent?S.cloneElement(o,{ref:l}):null};Ah.displayName="Presence";function xR(e){const[r,t]=S.useState(),s=S.useRef(null),o=S.useRef(e),l=S.useRef("none"),d=e?"mounted":"unmounted",[u,f]=yR(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const m=_0(s.current);l.current=u==="mounted"?m:"none"},[u]),qu(()=>{const m=s.current,y=o.current;if(y!==e){const _=l.current,C=_0(m);e?f("MOUNT"):C==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&_!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),qu(()=>{var m;if(r){let y;const k=(m=r.ownerDocument.defaultView)!=null?m:window,_=T=>{const A=_0(s.current).includes(CSS.escape(T.animationName));if(T.target===r&&A&&(f("ANIMATION_END"),!o.current)){const M=r.style.animationFillMode;r.style.animationFillMode="forwards",y=k.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=M)})}},C=T=>{T.target===r&&(l.current=_0(s.current))};return r.addEventListener("animationstart",C),r.addEventListener("animationcancel",_),r.addEventListener("animationend",_),()=>{k.clearTimeout(y),r.removeEventListener("animationstart",C),r.removeEventListener("animationcancel",_),r.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[r,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(m=>{s.current=m?getComputedStyle(m):null,t(m)},[])}}function _0(e){return(e==null?void 0:e.animationName)||"none"}function bR(e){var s,o;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Qg=0;function vR(){S.useEffect(()=>{var r,t;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(r=e[0])!=null?r:xw()),document.body.insertAdjacentElement("beforeend",(t=e[1])!=null?t:xw()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Qg--}},[])}function xw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ao=function(){return ao=Object.assign||function(r){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},ao.apply(this,arguments)};function yj(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(t[s[o]]=e[s[o]]);return t}function wR(e,r,t){if(t||arguments.length===2)for(var s=0,o=r.length,l;s<o;s++)(l||!(s in r))&&(l||(l=Array.prototype.slice.call(r,0,s)),l[s]=r[s]);return e.concat(l||Array.prototype.slice.call(r))}var q0="right-scroll-bar-position",H0="width-before-scroll-bar",jR="with-scroll-bars-hidden",NR="--removed-body-scroll-bar-size";function Xg(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function kR(e,r){var t=S.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(s){var o=t.value;o!==s&&(t.value=s,t.callback(s,o))}}}})[0];return t.callback=r,t.facade}var _R=typeof window!="undefined"?S.useLayoutEffect:S.useEffect,bw=new WeakMap;function SR(e,r){var t=kR(null,function(s){return e.forEach(function(o){return Xg(o,s)})});return _R(function(){var s=bw.get(t);if(s){var o=new Set(s),l=new Set(e),d=t.current;o.forEach(function(u){l.has(u)||Xg(u,null)}),l.forEach(function(u){o.has(u)||Xg(u,d)})}bw.set(t,e)},[e]),t}function CR(e){return e}function $R(e,r){r===void 0&&(r=CR);var t=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(l){var d=r(l,s);return t.push(d),function(){t=t.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(s=!0;t.length;){var d=t;t=[],d.forEach(l)}t={push:function(u){return l(u)},filter:function(){return t}}},assignMedium:function(l){s=!0;var d=[];if(t.length){var u=t;t=[],u.forEach(l),d=t}var f=function(){var y=d;d=[],y.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(y){d.push(y),m()},filter:function(y){return d=d.filter(y),t}}}};return o}function ER(e){e===void 0&&(e={});var r=$R(null);return r.options=ao({async:!0,ssr:!1},e),r}var xj=function(e){var r=e.sideCar,t=yj(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return S.createElement(s,ao({},t))};xj.isSideCarExport=!0;function TR(e,r){return e.useMedium(r),xj}var bj=ER(),Zg=function(){},Rh=S.forwardRef(function(e,r){var t=S.useRef(null),s=S.useState({onScrollCapture:Zg,onWheelCapture:Zg,onTouchMoveCapture:Zg}),o=s[0],l=s[1],d=e.forwardProps,u=e.children,f=e.className,m=e.removeScrollBar,y=e.enabled,k=e.shards,_=e.sideCar,C=e.noRelative,T=e.noIsolation,E=e.inert,A=e.allowPinchZoom,M=e.as,B=M===void 0?"div":M,H=e.gapMode,O=yj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=_,q=SR([t,r]),ae=ao(ao({},O),o);return S.createElement(S.Fragment,null,y&&S.createElement(z,{sideCar:bj,removeScrollBar:m,shards:k,noRelative:C,noIsolation:T,inert:E,setCallbacks:l,allowPinchZoom:!!A,lockRef:t,gapMode:H}),d?S.cloneElement(S.Children.only(u),ao(ao({},ae),{ref:q})):S.createElement(B,ao({},ae,{className:f,ref:q}),u))});Rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rh.classNames={fullWidth:H0,zeroRight:q0};var OR=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function AR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=OR();return r&&e.setAttribute("nonce",r),e}function RR(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function PR(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var MR=function(){var e=0,r=null;return{add:function(t){e==0&&(r=AR())&&(RR(r,t),PR(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},DR=function(){var e=MR();return function(r,t){S.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},vj=function(){var e=DR(),r=function(t){var s=t.styles,o=t.dynamic;return e(s,o),null};return r},IR={left:0,top:0,right:0,gap:0},Jg=function(e){return parseInt(e||"",10)||0},LR=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],o=r[e==="padding"?"paddingRight":"marginRight"];return[Jg(t),Jg(s),Jg(o)]},UR=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return IR;var r=LR(e),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-t+r[2]-r[0])}},FR=vj(),Fc="data-scroll-locked",zR=function(e,r,t,s){var o=e.left,l=e.top,d=e.right,u=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(jR,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Fc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(q0,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(H0,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(q0," .").concat(q0,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(H0," .").concat(H0,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Fc,`] {
    `).concat(NR,": ").concat(u,`px;
  }
`)},vw=function(){var e=parseInt(document.body.getAttribute(Fc)||"0",10);return isFinite(e)?e:0},BR=function(){S.useEffect(function(){return document.body.setAttribute(Fc,(vw()+1).toString()),function(){var e=vw()-1;e<=0?document.body.removeAttribute(Fc):document.body.setAttribute(Fc,e.toString())}},[])},qR=function(e){var r=e.noRelative,t=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;BR();var l=S.useMemo(function(){return UR(o)},[o]);return S.createElement(FR,{styles:zR(l,!r,o,t?"":"!important")})},ay=!1;if(typeof window!="undefined")try{var S0=Object.defineProperty({},"passive",{get:function(){return ay=!0,!0}});window.addEventListener("test",S0,S0),window.removeEventListener("test",S0,S0)}catch(e){ay=!1}var Sc=ay?{passive:!1}:!1,HR=function(e){return e.tagName==="TEXTAREA"},wj=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!HR(e)&&t[r]==="visible")},GR=function(e){return wj(e,"overflowY")},VR=function(e){return wj(e,"overflowX")},ww=function(e,r){var t=r.ownerDocument,s=r;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var o=jj(e,s);if(o){var l=Nj(e,s),d=l[1],u=l[2];if(d>u)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},KR=function(e){var r=e.scrollTop,t=e.scrollHeight,s=e.clientHeight;return[r,t,s]},WR=function(e){var r=e.scrollLeft,t=e.scrollWidth,s=e.clientWidth;return[r,t,s]},jj=function(e,r){return e==="v"?GR(r):VR(r)},Nj=function(e,r){return e==="v"?KR(r):WR(r)},YR=function(e,r){return e==="h"&&r==="rtl"?-1:1},QR=function(e,r,t,s,o){var l=YR(e,window.getComputedStyle(r).direction),d=l*s,u=t.target,f=r.contains(u),m=!1,y=d>0,k=0,_=0;do{if(!u)break;var C=Nj(e,u),T=C[0],E=C[1],A=C[2],M=E-A-l*T;(T||M)&&jj(e,u)&&(k+=M,_+=T);var B=u.parentNode;u=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!f&&u!==document.body||f&&(r.contains(u)||r===u));return(y&&Math.abs(k)<1||!y&&Math.abs(_)<1)&&(m=!0),m},C0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jw=function(e){return[e.deltaX,e.deltaY]},Nw=function(e){return e&&"current"in e?e.current:e},XR=function(e,r){return e[0]===r[0]&&e[1]===r[1]},ZR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},JR=0,Cc=[];function eP(e){var r=S.useRef([]),t=S.useRef([0,0]),s=S.useRef(),o=S.useState(JR++)[0],l=S.useState(vj)[0],d=S.useRef(e);S.useEffect(function(){d.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var E=wR([e.lockRef.current],(e.shards||[]).map(Nw),!0).filter(Boolean);return E.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=S.useCallback(function(E,A){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!d.current.allowPinchZoom;var M=C0(E),B=t.current,H="deltaX"in E?E.deltaX:B[0]-M[0],O="deltaY"in E?E.deltaY:B[1]-M[1],z,q=E.target,ae=Math.abs(H)>Math.abs(O)?"h":"v";if("touches"in E&&ae==="h"&&q.type==="range")return!1;var he=ww(ae,q);if(!he)return!0;if(he?z=ae:(z=ae==="v"?"h":"v",he=ww(ae,q)),!he)return!1;if(!s.current&&"changedTouches"in E&&(H||O)&&(s.current=z),!z)return!0;var ee=s.current||z;return QR(ee,A,E,ee==="h"?H:O)},[]),f=S.useCallback(function(E){var A=E;if(!(!Cc.length||Cc[Cc.length-1]!==l)){var M="deltaY"in A?jw(A):C0(A),B=r.current.filter(function(z){return z.name===A.type&&(z.target===A.target||A.target===z.shadowParent)&&XR(z.delta,M)})[0];if(B&&B.should){A.cancelable&&A.preventDefault();return}if(!B){var H=(d.current.shards||[]).map(Nw).filter(Boolean).filter(function(z){return z.contains(A.target)}),O=H.length>0?u(A,H[0]):!d.current.noIsolation;O&&A.cancelable&&A.preventDefault()}}},[]),m=S.useCallback(function(E,A,M,B){var H={name:E,delta:A,target:M,should:B,shadowParent:tP(M)};r.current.push(H),setTimeout(function(){r.current=r.current.filter(function(O){return O!==H})},1)},[]),y=S.useCallback(function(E){t.current=C0(E),s.current=void 0},[]),k=S.useCallback(function(E){m(E.type,jw(E),E.target,u(E,e.lockRef.current))},[]),_=S.useCallback(function(E){m(E.type,C0(E),E.target,u(E,e.lockRef.current))},[]);S.useEffect(function(){return Cc.push(l),e.setCallbacks({onScrollCapture:k,onWheelCapture:k,onTouchMoveCapture:_}),document.addEventListener("wheel",f,Sc),document.addEventListener("touchmove",f,Sc),document.addEventListener("touchstart",y,Sc),function(){Cc=Cc.filter(function(E){return E!==l}),document.removeEventListener("wheel",f,Sc),document.removeEventListener("touchmove",f,Sc),document.removeEventListener("touchstart",y,Sc)}},[]);var C=e.removeScrollBar,T=e.inert;return S.createElement(S.Fragment,null,T?S.createElement(l,{styles:ZR(o)}):null,C?S.createElement(qR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function tP(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const rP=TR(bj,eP);var kj=S.forwardRef(function(e,r){return S.createElement(Rh,ao({},e,{ref:r,sideCar:rP}))});kj.classNames=Rh.classNames;var aP=function(e){if(typeof document=="undefined")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},$c=new WeakMap,$0=new WeakMap,E0={},ep=0,_j=function(e){return e&&(e.host||_j(e.parentNode))},nP=function(e,r){return r.map(function(t){if(e.contains(t))return t;var s=_j(t);return s&&e.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},sP=function(e,r,t,s){var o=nP(r,Array.isArray(e)?e:[e]);E0[t]||(E0[t]=new WeakMap);var l=E0[t],d=[],u=new Set,f=new Set(o),m=function(k){!k||u.has(k)||(u.add(k),m(k.parentNode))};o.forEach(m);var y=function(k){!k||f.has(k)||Array.prototype.forEach.call(k.children,function(_){if(u.has(_))y(_);else try{var C=_.getAttribute(s),T=C!==null&&C!=="false",E=($c.get(_)||0)+1,A=(l.get(_)||0)+1;$c.set(_,E),l.set(_,A),d.push(_),E===1&&T&&$0.set(_,!0),A===1&&_.setAttribute(t,"true"),T||_.setAttribute(s,"true")}catch(M){console.error("aria-hidden: cannot operate on ",_,M)}})};return y(r),u.clear(),ep++,function(){d.forEach(function(k){var _=$c.get(k)-1,C=l.get(k)-1;$c.set(k,_),l.set(k,C),_||($0.has(k)||k.removeAttribute(s),$0.delete(k)),C||k.removeAttribute(t)}),ep--,ep||($c=new WeakMap,$c=new WeakMap,$0=new WeakMap,E0={})}},oP=function(e,r,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=aP(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),sP(s,o,t,"aria-hidden")):function(){return null}},Ph="Dialog",[Sj,Cj]=ij(Ph),[iP,Ls]=Sj(Ph),$j=e=>{const{__scopeDialog:r,children:t,open:s,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,u=S.useRef(null),f=S.useRef(null),[m,y]=GA({prop:s,defaultProp:o!=null?o:!1,onChange:l,caller:Ph});return a.jsx(iP,{scope:r,triggerRef:u,contentRef:f,contentId:Kg(),titleId:Kg(),descriptionId:Kg(),open:m,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(k=>!k),[y]),modal:d,children:t})};$j.displayName=Ph;var Ej="DialogTrigger",Tj=S.forwardRef((e,r)=>{const d=e,{__scopeDialog:t}=d,s=hr(d,["__scopeDialog"]),o=Ls(Ej,t),l=Bo(r,o.triggerRef);return a.jsx(qo.button,_e(Y({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Yy(o.open)},s),{ref:l,onClick:Lo(e.onClick,o.onOpenToggle)}))});Tj.displayName=Ej;var Ky="DialogPortal",[lP,Oj]=Sj(Ky,{forceMount:void 0}),Aj=e=>{const{__scopeDialog:r,forceMount:t,children:s,container:o}=e,l=Ls(Ky,r);return a.jsx(lP,{scope:r,forceMount:t,children:S.Children.map(s,d=>a.jsx(Ah,{present:t||l.open,children:a.jsx(pj,{asChild:!0,container:o,children:d})}))})};Aj.displayName=Ky;var nh="DialogOverlay",Rj=S.forwardRef((e,r)=>{const t=Oj(nh,e.__scopeDialog),d=e,{forceMount:s=t.forceMount}=d,o=hr(d,["forceMount"]),l=Ls(nh,e.__scopeDialog);return l.modal?a.jsx(Ah,{present:s||l.open,children:a.jsx(dP,_e(Y({},o),{ref:r}))}):null});Rj.displayName=nh;var cP=cj("DialogOverlay.RemoveScroll"),dP=S.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=Ls(nh,t);return a.jsx(kj,{as:cP,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(qo.div,_e(Y({"data-state":Yy(o.open)},s),{ref:r,style:Y({pointerEvents:"auto"},s.style)}))})}),Rl="DialogContent",Pj=S.forwardRef((e,r)=>{const t=Oj(Rl,e.__scopeDialog),d=e,{forceMount:s=t.forceMount}=d,o=hr(d,["forceMount"]),l=Ls(Rl,e.__scopeDialog);return a.jsx(Ah,{present:s||l.open,children:l.modal?a.jsx(uP,_e(Y({},o),{ref:r})):a.jsx(fP,_e(Y({},o),{ref:r}))})});Pj.displayName=Rl;var uP=S.forwardRef((e,r)=>{const t=Ls(Rl,e.__scopeDialog),s=S.useRef(null),o=Bo(r,t.contentRef,s);return S.useEffect(()=>{const l=s.current;if(l)return oP(l)},[]),a.jsx(Mj,_e(Y({},e),{ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lo(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),(d=t.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Lo(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:Lo(e.onFocusOutside,l=>l.preventDefault())}))}),fP=S.forwardRef((e,r)=>{const t=Ls(Rl,e.__scopeDialog),s=S.useRef(!1),o=S.useRef(!1);return a.jsx(Mj,_e(Y({},e),{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,u;(d=e.onCloseAutoFocus)==null||d.call(e,l),l.defaultPrevented||(s.current||(u=t.triggerRef.current)==null||u.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;((m=t.triggerRef.current)==null?void 0:m.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}}))}),Mj=S.forwardRef((e,r)=>{const y=e,{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l}=y,d=hr(y,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Ls(Rl,t),f=S.useRef(null),m=Bo(r,f);return vR(),a.jsxs(a.Fragment,{children:[a.jsx(mj,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(fj,_e(Y({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Yy(u.open)},d),{ref:m,onDismiss:()=>u.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(mP,{titleId:u.titleId}),a.jsx(pP,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Wy="DialogTitle",Dj=S.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=Ls(Wy,t);return a.jsx(qo.h2,_e(Y({id:o.titleId},s),{ref:r}))});Dj.displayName=Wy;var Ij="DialogDescription",Lj=S.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=Ls(Ij,t);return a.jsx(qo.p,_e(Y({id:o.descriptionId},s),{ref:r}))});Lj.displayName=Ij;var Uj="DialogClose",Fj=S.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,s=hr(l,["__scopeDialog"]),o=Ls(Uj,t);return a.jsx(qo.button,_e(Y({type:"button"},s),{ref:r,onClick:Lo(e.onClick,()=>o.onOpenChange(!1))}))});Fj.displayName=Uj;function Yy(e){return e?"open":"closed"}var zj="DialogTitleWarning",[hP,Bj]=FA(zj,{contentName:Rl,titleName:Wy,docsSlug:"dialog"}),mP=({titleId:e})=>{const r=Bj(zj),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},gP="DialogDescriptionWarning",pP=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Bj(gP).contentName}}.`;return S.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");r&&o&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},yP=$j,xP=Tj,bP=Aj,vP=Rj,wP=Pj,jP=Dj,NP=Lj,qj=Fj,Hj="AlertDialog",[kP,RD]=ij(Hj,[Cj]),Ho=Cj(),Gj=e=>{const o=e,{__scopeAlertDialog:r}=o,t=hr(o,["__scopeAlertDialog"]),s=Ho(r);return a.jsx(yP,_e(Y(Y({},s),t),{modal:!0}))};Gj.displayName=Hj;var _P="AlertDialogTrigger",SP=S.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Ho(t);return a.jsx(xP,_e(Y(Y({},o),s),{ref:r}))});SP.displayName=_P;var CP="AlertDialogPortal",Vj=e=>{const o=e,{__scopeAlertDialog:r}=o,t=hr(o,["__scopeAlertDialog"]),s=Ho(r);return a.jsx(bP,Y(Y({},s),t))};Vj.displayName=CP;var $P="AlertDialogOverlay",Kj=S.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Ho(t);return a.jsx(vP,_e(Y(Y({},o),s),{ref:r}))});Kj.displayName=$P;var zc="AlertDialogContent",[EP,TP]=kP(zc),OP=YA("AlertDialogContent"),Wj=S.forwardRef((e,r)=>{const m=e,{__scopeAlertDialog:t,children:s}=m,o=hr(m,["__scopeAlertDialog","children"]),l=Ho(t),d=S.useRef(null),u=Bo(r,d),f=S.useRef(null);return a.jsx(hP,{contentName:zc,titleName:Yj,docsSlug:"alert-dialog",children:a.jsx(EP,{scope:t,cancelRef:f,children:a.jsxs(wP,_e(Y(Y({role:"alertdialog"},l),o),{ref:u,onOpenAutoFocus:Lo(o.onOpenAutoFocus,y=>{var k;y.preventDefault(),(k=f.current)==null||k.focus({preventScroll:!0})}),onPointerDownOutside:y=>y.preventDefault(),onInteractOutside:y=>y.preventDefault(),children:[a.jsx(OP,{children:s}),a.jsx(RP,{contentRef:d})]}))})})});Wj.displayName=zc;var Yj="AlertDialogTitle",Qj=S.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Ho(t);return a.jsx(jP,_e(Y(Y({},o),s),{ref:r}))});Qj.displayName=Yj;var Xj="AlertDialogDescription",Zj=S.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Ho(t);return a.jsx(NP,_e(Y(Y({},o),s),{ref:r}))});Zj.displayName=Xj;var AP="AlertDialogAction",Jj=S.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,s=hr(l,["__scopeAlertDialog"]),o=Ho(t);return a.jsx(qj,_e(Y(Y({},o),s),{ref:r}))});Jj.displayName=AP;var eN="AlertDialogCancel",tN=S.forwardRef((e,r)=>{const u=e,{__scopeAlertDialog:t}=u,s=hr(u,["__scopeAlertDialog"]),{cancelRef:o}=TP(eN,t),l=Ho(t),d=Bo(r,o);return a.jsx(qj,_e(Y(Y({},l),s),{ref:d}))});tN.displayName=eN;var RP=({contentRef:e})=>{const r=`\`${zc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zc}\` by passing a \`${Xj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},PP=Gj,MP=Vj,DP=Kj,IP=Wj,LP=Jj,UP=tN,FP=Qj,zP=Zj;function rN(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=rN(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function aN(){for(var e,r,t=0,s="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=rN(e))&&(s&&(s+=" "),s+=r);return s}const Qy="-",BP=e=>{const r=HP(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:d=>{const u=d.split(Qy);return u[0]===""&&u.length!==1&&u.shift(),nN(u,r)||qP(d)},getConflictingClassGroupIds:(d,u)=>{const f=t[d]||[];return u&&s[d]?[...f,...s[d]]:f}}},nN=(e,r)=>{var d;if(e.length===0)return r.classGroupId;const t=e[0],s=r.nextPart.get(t),o=s?nN(e.slice(1),s):void 0;if(o)return o;if(r.validators.length===0)return;const l=e.join(Qy);return(d=r.validators.find(({validator:u})=>u(l)))==null?void 0:d.classGroupId},kw=/^\[(.+)\]$/,qP=e=>{if(kw.test(e)){const r=kw.exec(e)[1],t=r==null?void 0:r.substring(0,r.indexOf(":"));if(t)return"arbitrary.."+t}},HP=e=>{const{theme:r,classGroups:t}=e,s={nextPart:new Map,validators:[]};for(const o in t)ny(t[o],s,o,r);return s},ny=(e,r,t,s)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?r:_w(r,o);l.classGroupId=t;return}if(typeof o=="function"){if(GP(o)){ny(o(s),r,t,s);return}r.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([l,d])=>{ny(d,_w(r,l),t,s)})})},_w=(e,r)=>{let t=e;return r.split(Qy).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},GP=e=>e.isThemeGetter,VP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=new Map,s=new Map;const o=(l,d)=>{t.set(l,d),r++,r>e&&(r=0,s=t,t=new Map)};return{get(l){let d=t.get(l);if(d!==void 0)return d;if((d=s.get(l))!==void 0)return o(l,d),d},set(l,d){t.has(l)?t.set(l,d):o(l,d)}}},sy="!",oy=":",KP=oy.length,WP=e=>{const{prefix:r,experimentalParseClassName:t}=e;let s=o=>{const l=[];let d=0,u=0,f=0,m;for(let T=0;T<o.length;T++){let E=o[T];if(d===0&&u===0){if(E===oy){l.push(o.slice(f,T)),f=T+KP;continue}if(E==="/"){m=T;continue}}E==="["?d++:E==="]"?d--:E==="("?u++:E===")"&&u--}const y=l.length===0?o:o.substring(f),k=YP(y),_=k!==y,C=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:k,maybePostfixModifierPosition:C}};if(r){const o=r+oy,l=s;s=d=>d.startsWith(o)?l(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(t){const o=s;s=l=>t({className:l,parseClassName:o})}return s},YP=e=>e.endsWith(sy)?e.substring(0,e.length-1):e.startsWith(sy)?e.substring(1):e,QP=e=>{const r=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let l=[];return s.forEach(d=>{d[0]==="["||r[d]?(o.push(...l.sort(),d),l=[]):l.push(d)}),o.push(...l.sort()),o}},XP=e=>Y({cache:VP(e.cacheSize),parseClassName:WP(e),sortModifiers:QP(e)},BP(e)),ZP=/\s+/,JP=(e,r)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=r,d=[],u=e.trim().split(ZP);let f="";for(let m=u.length-1;m>=0;m-=1){const y=u[m],{isExternal:k,modifiers:_,hasImportantModifier:C,baseClassName:T,maybePostfixModifierPosition:E}=t(y);if(k){f=y+(f.length>0?" "+f:f);continue}let A=!!E,M=s(A?T.substring(0,E):T);if(!M){if(!A){f=y+(f.length>0?" "+f:f);continue}if(M=s(T),!M){f=y+(f.length>0?" "+f:f);continue}A=!1}const B=l(_).join(":"),H=C?B+sy:B,O=H+M;if(d.includes(O))continue;d.push(O);const z=o(M,A);for(let q=0;q<z.length;++q){const ae=z[q];d.push(H+ae)}f=y+(f.length>0?" "+f:f)}return f};function eM(){let e=0,r,t,s="";for(;e<arguments.length;)(r=arguments[e++])&&(t=sN(r))&&(s&&(s+=" "),s+=t);return s}const sN=e=>{if(typeof e=="string")return e;let r,t="";for(let s=0;s<e.length;s++)e[s]&&(r=sN(e[s]))&&(t&&(t+=" "),t+=r);return t};function tM(e,...r){let t,s,o,l=d;function d(f){const m=r.reduce((y,k)=>k(y),e());return t=XP(m),s=t.cache.get,o=t.cache.set,l=u,u(f)}function u(f){const m=s(f);if(m)return m;const y=JP(f,t);return o(f,y),y}return function(){return l(eM.apply(null,arguments))}}const Ea=e=>{const r=t=>t[e]||[];return r.isThemeGetter=!0,r},oN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rM=/^\d+\/\d+$/,aM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ec=e=>rM.test(e),wr=e=>!!e&&!Number.isNaN(Number(e)),wi=e=>!!e&&Number.isInteger(Number(e)),tp=e=>e.endsWith("%")&&wr(e.slice(0,-1)),Ao=e=>aM.test(e),lM=()=>!0,cM=e=>nM.test(e)&&!sM.test(e),lN=()=>!1,dM=e=>oM.test(e),uM=e=>iM.test(e),fM=e=>!Mt(e)&&!Dt(e),hM=e=>id(e,uN,lN),Mt=e=>oN.test(e),ul=e=>id(e,fN,cM),rp=e=>id(e,xM,wr),Sw=e=>id(e,cN,lN),mM=e=>id(e,dN,uM),T0=e=>id(e,hN,dM),Dt=e=>iN.test(e),hu=e=>ld(e,fN),gM=e=>ld(e,bM),Cw=e=>ld(e,cN),pM=e=>ld(e,uN),yM=e=>ld(e,dN),O0=e=>ld(e,hN,!0),id=(e,r,t)=>{const s=oN.exec(e);return s?s[1]?r(s[1]):t(s[2]):!1},ld=(e,r,t=!1)=>{const s=iN.exec(e);return s?s[1]?r(s[1]):t:!1},cN=e=>e==="position"||e==="percentage",dN=e=>e==="image"||e==="url",uN=e=>e==="length"||e==="size"||e==="bg-size",fN=e=>e==="length",xM=e=>e==="number",bM=e=>e==="family-name",hN=e=>e==="shadow",vM=()=>{const e=Ea("color"),r=Ea("font"),t=Ea("text"),s=Ea("font-weight"),o=Ea("tracking"),l=Ea("leading"),d=Ea("breakpoint"),u=Ea("container"),f=Ea("spacing"),m=Ea("radius"),y=Ea("shadow"),k=Ea("inset-shadow"),_=Ea("text-shadow"),C=Ea("drop-shadow"),T=Ea("blur"),E=Ea("perspective"),A=Ea("aspect"),M=Ea("ease"),B=Ea("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...O(),Dt,Mt],q=()=>["auto","hidden","clip","visible","scroll"],ae=()=>["auto","contain","none"],he=()=>[Dt,Mt,f],ee=()=>[Ec,"full","auto",...he()],Ee=()=>[wi,"none","subgrid",Dt,Mt],ce=()=>["auto",{span:["full",wi,Dt,Mt]},wi,Dt,Mt],ue=()=>[wi,"auto",Dt,Mt],se=()=>["auto","min","max","fr",Dt,Mt],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...he()],te=()=>[Ec,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...he()],W=()=>[e,Dt,Mt],be=()=>[...O(),Cw,Sw,{position:[Dt,Mt]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",pM,hM,{size:[Dt,Mt]}],ne=()=>[tp,hu,ul],me=()=>["","none","full",m,Dt,Mt],le=()=>["",wr,hu,ul],X=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[wr,tp,Cw,Sw],it=()=>["","none",T,Dt,Mt],yt=()=>["none",wr,Dt,Mt],et=()=>["none",wr,Dt,Mt],xt=()=>[wr,Dt,Mt],Tt=()=>[Ec,"full",...he()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ao],breakpoint:[Ao],color:[lM],container:[Ao],"drop-shadow":[Ao],ease:["in","out","in-out"],font:[fM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ao],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ao],shadow:[Ao],spacing:["px",wr],text:[Ao],"text-shadow":[Ao],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ec,Mt,Dt,A]}],container:["container"],columns:[{columns:[wr,Mt,Dt,u]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:ae()}],"overscroll-x":[{"overscroll-x":ae()}],"overscroll-y":[{"overscroll-y":ae()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",Dt,Mt]}],basis:[{basis:[Ec,"full","auto",u,...he()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wr,Ec,"auto","initial","none",Mt]}],grow:[{grow:["",wr,Dt,Mt]}],shrink:[{shrink:["",wr,Dt,Mt]}],order:[{order:[wi,"first","last","none",Dt,Mt]}],"grid-cols":[{"grid-cols":Ee()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":Ee()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:he()}],"gap-x":[{"gap-x":he()}],"gap-y":[{"gap-y":he()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:he()}],px:[{px:he()}],py:[{py:he()}],ps:[{ps:he()}],pe:[{pe:he()}],pt:[{pt:he()}],pr:[{pr:he()}],pb:[{pb:he()}],pl:[{pl:he()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":he()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":he()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[u,"screen",...te()]}],"min-w":[{"min-w":[u,"screen","none",...te()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[d]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",t,hu,ul]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Dt,rp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tp,Mt]}],"font-family":[{font:[gM,Mt,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Dt,Mt]}],"line-clamp":[{"line-clamp":[wr,"none",Dt,rp]}],leading:[{leading:[l,...he()]}],"list-image":[{"list-image":["none",Dt,Mt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Dt,Mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[wr,"from-font","auto",Dt,ul]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[wr,"auto",Dt,Mt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:he()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt,Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt,Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,Dt,Mt],radial:["",Dt,Mt],conic:[wi,Dt,Mt]},yM,mM]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wr,Dt,Mt]}],"outline-w":[{outline:["",wr,hu,ul]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",y,O0,T0]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",k,O0,T0]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[wr,ul]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",_,O0,T0]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[wr,Dt,Mt]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Dt,Mt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[wr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Dt,Mt]}],filter:[{filter:["","none",Dt,Mt]}],blur:[{blur:it()}],brightness:[{brightness:[wr,Dt,Mt]}],contrast:[{contrast:[wr,Dt,Mt]}],"drop-shadow":[{"drop-shadow":["","none",C,O0,T0]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",wr,Dt,Mt]}],"hue-rotate":[{"hue-rotate":[wr,Dt,Mt]}],invert:[{invert:["",wr,Dt,Mt]}],saturate:[{saturate:[wr,Dt,Mt]}],sepia:[{sepia:["",wr,Dt,Mt]}],"backdrop-filter":[{"backdrop-filter":["","none",Dt,Mt]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[wr,Dt,Mt]}],"backdrop-contrast":[{"backdrop-contrast":[wr,Dt,Mt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wr,Dt,Mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wr,Dt,Mt]}],"backdrop-invert":[{"backdrop-invert":["",wr,Dt,Mt]}],"backdrop-opacity":[{"backdrop-opacity":[wr,Dt,Mt]}],"backdrop-saturate":[{"backdrop-saturate":[wr,Dt,Mt]}],"backdrop-sepia":[{"backdrop-sepia":["",wr,Dt,Mt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":he()}],"border-spacing-x":[{"border-spacing-x":he()}],"border-spacing-y":[{"border-spacing-y":he()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Dt,Mt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wr,"initial",Dt,Mt]}],ease:[{ease:["linear","initial",M,Dt,Mt]}],delay:[{delay:[wr,Dt,Mt]}],animate:[{animate:["none",B,Dt,Mt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Dt,Mt]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:yt()}],"rotate-x":[{"rotate-x":yt()}],"rotate-y":[{"rotate-y":yt()}],"rotate-z":[{"rotate-z":yt()}],scale:[{scale:et()}],"scale-x":[{"scale-x":et()}],"scale-y":[{"scale-y":et()}],"scale-z":[{"scale-z":et()}],"scale-3d":["scale-3d"],skew:[{skew:xt()}],"skew-x":[{"skew-x":xt()}],"skew-y":[{"skew-y":xt()}],transform:[{transform:[Dt,Mt,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tt()}],"translate-x":[{"translate-x":Tt()}],"translate-y":[{"translate-y":Tt()}],"translate-z":[{"translate-z":Tt()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt,Mt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":he()}],"scroll-mx":[{"scroll-mx":he()}],"scroll-my":[{"scroll-my":he()}],"scroll-ms":[{"scroll-ms":he()}],"scroll-me":[{"scroll-me":he()}],"scroll-mt":[{"scroll-mt":he()}],"scroll-mr":[{"scroll-mr":he()}],"scroll-mb":[{"scroll-mb":he()}],"scroll-ml":[{"scroll-ml":he()}],"scroll-p":[{"scroll-p":he()}],"scroll-px":[{"scroll-px":he()}],"scroll-py":[{"scroll-py":he()}],"scroll-ps":[{"scroll-ps":he()}],"scroll-pe":[{"scroll-pe":he()}],"scroll-pt":[{"scroll-pt":he()}],"scroll-pr":[{"scroll-pr":he()}],"scroll-pb":[{"scroll-pb":he()}],"scroll-pl":[{"scroll-pl":he()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt,Mt]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[wr,hu,ul,rp]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wM=tM(vM);function zi(...e){return wM(aN(e))}const $w=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ew=aN,jM=(e,r)=>t=>{var s;if((r==null?void 0:r.variants)==null)return Ew(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:l}=r,d=Object.keys(o).map(m=>{const y=t==null?void 0:t[m],k=l==null?void 0:l[m];if(y===null)return null;const _=$w(y)||$w(k);return o[m][_]}),u=t&&Object.entries(t).reduce((m,y)=>{let[k,_]=y;return _===void 0||(m[k]=_),m},{}),f=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((m,y)=>{let T=y,{class:k,className:_}=T,C=hr(T,["class","className"]);return Object.entries(C).every(E=>{let[A,M]=E;return Array.isArray(M)?M.includes(Y(Y({},l),u)[A]):Y(Y({},l),u)[A]===M})?[...m,k,_]:m},[]);return Ew(e,d,f,t==null?void 0:t.class,t==null?void 0:t.className)},mN=jM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function NM(r){var e=hr(r,[]);return a.jsx(PP,Y({"data-slot":"alert-dialog"},e))}function kM(r){var e=hr(r,[]);return a.jsx(MP,Y({"data-slot":"alert-dialog-portal"},e))}function _M(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(DP,Y({"data-slot":"alert-dialog-overlay",className:zi("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},r))}function SM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsxs(kM,{children:[a.jsx(_M,{}),a.jsx(IP,Y({"data-slot":"alert-dialog-content",className:zi("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},r))]})}function CM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx("div",Y({"data-slot":"alert-dialog-header",className:zi("flex flex-col gap-2 text-center sm:text-left",e)},r))}function $M(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx("div",Y({"data-slot":"alert-dialog-footer",className:zi("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},r))}function EM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(FP,Y({"data-slot":"alert-dialog-title",className:zi("text-lg font-semibold",e)},r))}function TM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(zP,Y({"data-slot":"alert-dialog-description",className:zi("text-muted-foreground text-sm",e)},r))}function OM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(LP,Y({className:zi(mN(),e)},r))}function AM(t){var s=t,{className:e}=s,r=hr(s,["className"]);return a.jsx(UP,Y({className:zi(mN({variant:"outline"}),e)},r))}function Xy({isOpen:e,onClose:r,onConfirm:t,title:s="Are you sure?",message:o="This action cannot be undone.",confirmText:l="Continue",cancelText:d="Cancel",confirmButtonClass:u="bg-red-600 hover:bg-red-700 text-white"}){return a.jsx(NM,{open:e,onOpenChange:r,children:a.jsxs(SM,{children:[a.jsxs(CM,{children:[a.jsx(EM,{children:s}),a.jsx(TM,{children:o})]}),a.jsxs($M,{children:[a.jsx(AM,{onClick:r,children:d}),a.jsx(OM,{onClick:t,className:u,children:l})]})]})})}const Mh=()=>new Date,Zy=e=>{if(!e)return!1;const r=new Date(e),t=Mh();return r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()&&r.getUTCDate()===t.getUTCDate()},Jy=e=>{if(!e)return!1;const r=new Date(e),t=Mh(),s=new Date(t);s.setUTCDate(t.getUTCDate()-t.getUTCDay()),s.setUTCHours(0,0,0,0);const o=new Date(s);return o.setUTCDate(s.getUTCDate()+6),o.setUTCHours(23,59,59,999),r>=s&&r<=o},ex=e=>{if(!e)return!1;const r=new Date(e),t=Mh();return r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()},tx=e=>{if(!e)return!1;const r=new Date(e),t=Mh();return r.getUTCFullYear()===t.getUTCFullYear()};function RM(){const e=xa(),r=od("(max-width: 1024px)"),[t,s]=S.useState(""),[o,l]=S.useState("all"),[d,u]=S.useState("all"),[f,m]=S.useState("all"),[y]=S.useState(null),[k,_]=S.useState(!1),[C,T]=S.useState(!1),[E,A]=S.useState({}),[M,B]=S.useState(!1),[H,O]=S.useState(null),{createClosingEntry:z,isCreating:q}=UA(),[ae,he]=S.useState(!1),[ee,Ee]=S.useState(null),{invoices:ce,isLoading:ue,error:se}=Vy(),{modes:de,isLoading:pe,error:ie}=Dy(),{posDetails:te}=cn(),W=(te==null?void 0:te.custom_hide_expected_amount)||!1,be=ye=>{if(d==="all")return!0;if(d==="today")return Zy(ye);if(d==="yesterday"){const Xe=new Date;Xe.setUTCDate(Xe.getUTCDate()-1);const lt=new Date(ye);return lt.getUTCFullYear()===Xe.getUTCFullYear()&&lt.getUTCMonth()===Xe.getUTCMonth()&&lt.getUTCDate()===Xe.getUTCDate()}return d==="week"?Jy(ye):d==="month"?ex(ye):d==="year"?tx(ye):!0},V=ye=>{const Xe="px-2 py-1 rounded-full text-xs font-medium";switch((ye==null?void 0:ye.toLowerCase())||""){case"paid":return`${Xe} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${Xe} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${Xe} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${Xe} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${Xe} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${Xe} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${Xe} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${Xe} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${Xe} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${Xe} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${Xe} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${Xe} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${Xe} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},U=S.useMemo(()=>ue?[]:se?[]:ce.filter(ye=>{const Xe=t===""||ye.id.toLowerCase().includes(t.toLowerCase())||ye.customer.toLowerCase().includes(t.toLowerCase())||ye.cashier&&ye.cashier.toLowerCase().includes(t.toLowerCase()),lt=o==="all"||ye.status===o,mr=f==="all"||ye.paymentMethod===f,Kt=be(ye.date),J=!(te!=null&&te.name)||ye.posProfile===te.name,qe=!(te!=null&&te.current_opening_entry)||ye.custom_pos_opening_entry&&ye.custom_pos_opening_entry===te.current_opening_entry;return Xe&&mr&&lt&&Kt&&J&&qe}),[ce,t,o,d,f,ue,se,te]),ne=S.useMemo(()=>{if(!de||de.length===0)return{};const ye=de.reduce((Xe,lt)=>(Xe[lt.name]={name:lt.name,openingAmount:lt.openingAmount||0,amount:0,transactions:0},Xe),{});return U.forEach(Xe=>{if(Xe.payment_methods&&Array.isArray(Xe.payment_methods))Xe.payment_methods.forEach(lt=>{if(ye[lt.mode_of_payment]){const Kt=Xe.status==="Return"?-Math.abs(lt.amount||0):lt.amount||0;ye[lt.mode_of_payment].amount+=Kt,Xe.payment_methods.indexOf(lt)===0&&(ye[lt.mode_of_payment].transactions+=1)}});else if(Xe.paymentMethod&&ye[Xe.paymentMethod]){const mr=Xe.status==="Return"?-Math.abs(Xe.totalAmount||0):Xe.totalAmount||0;ye[Xe.paymentMethod].amount+=mr,ye[Xe.paymentMethod].transactions+=1}}),Object.keys(ye).forEach(Xe=>{ye[Xe].amount+=ye[Xe].openingAmount}),ye},[de,U]),me=Object.values(ne).reduce((ye,Xe)=>ye+Xe.amount,0);if(ue||pe)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices and payment modes..."})]})});if(se)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading data"}),a.jsxs("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:["Invoices: ",se.message]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const le=ie&&ie.includes("No open POS Opening Entry found"),X=ye=>{e(`/invoice/${ye.id}`)},oe=ye=>{if(ye.status!=="Draft"){Ye.error("Only draft invoices can be deleted");return}Ee(ye),he(!0)},Ue=()=>Ne(null,null,function*(){if(ee)try{yield Iy(ee.id),Ye.success(`Draft invoice ${ee.id} deleted successfully`),he(!1),Ee(null),window.location.reload()}catch(ye){Ye.error(ye.message||"Failed to delete invoice")}}),it=()=>{he(!1),Ee(null)},yt=ye=>{et(ye),_(!1)},et=ye=>Ne(null,null,function*(){try{const Xe=yield kh(ye);Ye.success(`Invoice returned: ${Xe.return_invoice}`)}catch(Xe){Ye.error(Xe.message||"Failed to return invoice")}}),xt=ye=>!ye||!ye.items?(console.log("No invoice or items found for:",ye==null?void 0:ye.id),!1):ye.items.some(lt=>{const mr=lt.qty||lt.quantity||0;return(lt.returned_qty||0)<mr}),Tt=ye=>{O(ye),B(!0)},gr=()=>{B(!1),O(null),window.location.reload()},xe=ye=>{console.log("Cancelling invoice:",ye),_(!1)},st=(ye,Xe)=>{A(lt=>_e(Y({},lt),{[ye]:parseFloat(Xe)||0}))},Ot=()=>Ne(null,null,function*(){try{const ye=Object.entries(E).map(([Xe,lt])=>({mode_of_payment:Xe,closing_amount:lt||0}));yield z(ye),T(!1),Py();try{yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"})}catch(Xe){console.warn("Failed to clear backend cache after close:",Xe)}e("/pos")}catch(ye){console.error("Error closing shift:",ye)}});return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Closing Shift"}),a.jsxs("button",{onClick:()=>T(!0),className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(xu,{className:"w-4 h-4"}),a.jsx("span",{children:"Close"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[le&&a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:a.jsx(Nl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!W&&!le&&a.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:Object.values(ne).map(ye=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ye.name}),ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-2xl",children:""}):a.jsx(is,{className:"w-8 h-8 text-beveren-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(ye.amount,(te==null?void 0:te.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[me>0?(ye.amount/me*100).toFixed(1):0,"% of total"]})]})]},ye.name))}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:ye=>s(ye.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:d,onChange:ye=>u(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:o,onChange:ye=>l(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:f,onChange:ye=>m(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),de.map(ye=>a.jsx("option",{value:ye.name,children:ye.name},ye.name))]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",U.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(te==null?void 0:te.is_zatca_enabled)&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:U.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ye.id}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ye.date," ",ye.time]})]})}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ye.customer}),ye.giftCardCode&&a.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:["Gift: ",ye.giftCardCode]})]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Nt(ye.totalAmount,ye.currency)}),ye.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",Nt(ye.giftCardDiscount,ye.currency)," gift"]})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:V(ye.status),children:ye.status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:V(ye.custom_zatca_submit_status),children:ye.custom_zatca_submit_status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>X(ye),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx(_l,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),ye.status==="Draft"&&a.jsxs("button",{onClick:()=>oe(ye),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(xu,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ye.status)&&!ye.is_return&&xt(ye)&&a.jsxs("button",{onClick:()=>Tt(ye),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(El,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]})]})})]},ye.id))})]})})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(ln,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"space-y-4",children:Object.values(ne).map(ye=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-xl",children:""}):a.jsx(is,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ye.name})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Nt(ye.openingAmount,(te==null?void 0:te.currency)||"USD")})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:E[ye.name]||"",onChange:Xe=>st(ye.name,Xe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},ye.name))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),a.jsx("button",{onClick:Ot,disabled:q,className:`px-6 py-2 rounded-lg font-medium transition-colors ${q?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:q?"Closing...":"Close Shift"})]})]})}),a.jsx(rd,{invoice:y,isOpen:k,onClose:()=>_(!1),onRefund:yt,onCancel:xe}),a.jsx(Is,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Closing Shift"})}),a.jsxs("button",{onClick:()=>T(!0),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(xu,{className:"w-4 h-4"}),a.jsx("span",{children:"Close"})]})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 space-y-6",children:[le&&a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:a.jsx(Nl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!W&&!le&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(ne).map(ye=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ye.name}),ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-2xl",children:""}):a.jsx(is,{className:"w-8 h-8 text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(ye.amount,(te==null?void 0:te.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[me>0?(ye.amount/me*100).toFixed(1):0,"% of total"]})]})]},ye.name))})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:ye=>s(ye.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:d,onChange:ye=>u(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:o,onChange:ye=>l(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:f,onChange:ye=>m(ye.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),de.map(ye=>a.jsx("option",{value:ye.name,children:ye.name},ye.name))]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",U.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(te==null?void 0:te.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:U.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ye.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ye.date," ",ye.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ye.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ye.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:ye.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Nt(ye.totalAmount,ye.currency)}),ye.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",Nt(ye.giftCardDiscount,ye.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:V(ye.status),children:ye.status})}),(te==null?void 0:te.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:V(ye.custom_zatca_submit_status),children:ye.custom_zatca_submit_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>X(ye),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx(_l,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),ye.status==="Draft"&&a.jsxs("button",{onClick:()=>oe(ye),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(xu,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ye.status)&&!ye.is_return&&xt(ye)&&a.jsxs("button",{onClick:()=>Tt(ye),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(El,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]})]})})]},ye.id))})]})})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(ln,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"space-y-4",children:Object.values(ne).map(ye=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[ye.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-xl",children:""}):a.jsx(is,{className:"w-5 h-5 text-beveren-600"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ye.name})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Nt(ye.openingAmount,(te==null?void 0:te.currency)||"USD")})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:E[ye.name]||"",onChange:Xe=>st(ye.name,Xe.target.value),className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},ye.name))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),a.jsx("button",{onClick:Ot,disabled:q,className:`px-6 py-2 rounded-lg font-medium transition-colors ${q?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:q?"Closing...":"Close Shift"})]})]})}),a.jsx(rd,{invoice:y,isOpen:k,onClose:()=>_(!1),onRefund:yt,onCancel:xe}),a.jsx(Bu,{invoice:H,isOpen:M,onClose:()=>B(!1),onSuccess:gr}),a.jsx(Xy,{isOpen:ae,onClose:it,onConfirm:Ue,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${ee==null?void 0:ee.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})})}function PM(){const{user:e,logout:r}=Ui(),{theme:t,toggleTheme:s}=hh(),{language:o,setLanguage:l}=Dl(),d=xa(),[u,f]=S.useState("profile"),m=O=>O.split(" ").map(z=>z.charAt(0).toUpperCase()).join("").substring(0,2),y=(e==null?void 0:e.full_name)||(e==null?void 0:e.name)||"Guest User",k=(e==null?void 0:e.email)||(e==null?void 0:e.name)||"No email",_=m(y),C=()=>Ne(null,null,function*(){try{yield r(),d("/login")}catch(O){console.error("Logout error:",O),d("/login")}}),T=[{id:"profile",title:"Profile Information",icon:Wn,description:"View and manage your profile details"},{id:"appearance",title:"Appearance",icon:zC,description:"Customize the app's look and feel"},{id:"language",title:"Language & Region",icon:K1,description:"Set your preferred language and region"},{id:"account",title:"Account Settings",icon:ph,description:"Manage your account and security"}],E=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-beveren-600 to-beveren-700 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold",children:_})}),a.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-beveren-600 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:a.jsx(Ty,{size:16})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold",children:y}),a.jsx("p",{className:"text-beveren-100 text-lg",children:k})]})]})}),a.jsx("div",{className:"grid gap-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.full_name)||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:k})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User ID"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"Not provided"})]}),(e==null?void 0:e.first_name)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"First Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.first_name})]}),(e==null?void 0:e.last_name)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.last_name})]})]})]})})]}),A=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Theme Settings"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[t==="dark"?a.jsx(gh,{size:20,className:"text-gray-700 dark:text-gray-300"}):a.jsx(yh,{size:20,className:"text-gray-700 dark:text-gray-300"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t==="dark"?"Dark Mode":"Light Mode"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t==="dark"?"Using dark theme for better low-light viewing":"Using light theme for optimal daytime viewing"})]})]}),a.jsxs("button",{onClick:()=>{console.log("Theme toggle clicked, current theme:",t),s()},className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",type:"button",children:["Switch to ",t==="dark"?"Light":"Dark"]})]})})]})}),M=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Language Preferences"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(K1,{size:20,className:"text-gray-700 dark:text-gray-300"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Current Language: ",o==="en"?"English":"Arabic"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interface language and text direction"})]})]}),a.jsxs("button",{onClick:()=>l(o==="en"?"ar":"en"),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:["Switch to ",o==="en"?"Arabic":"English"]})]})})]})}),B=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(mh,{size:20,className:"text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sign Out"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out of your account and return to login"})]})]}),a.jsx("button",{onClick:C,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out"})]})})]})}),H=()=>{switch(u){case"profile":return E();case"appearance":return A();case"language":return M();case"account":return B();default:return E()}};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center space-x-4 mb-4",children:a.jsxs("button",{onClick:()=>d("/pos"),className:"flex items-center space-x-2 text-gray-600 hover:text-beveren-600 dark:text-gray-300 dark:hover:text-beveren-400 transition-colors group",type:"button",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-beveren-50 dark:bg-gray-800 dark:group-hover:bg-beveren-900 transition-colors",children:a.jsx(Uo,{size:20})}),a.jsx("span",{className:"font-medium",children:"Back to POS"})]})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Manage your account preferences and settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:a.jsx("nav",{className:"space-y-2",children:T.map(O=>{const z=O.icon;return a.jsxs("button",{onClick:()=>f(O.id),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${u===O.id?"bg-beveren-50 text-beveren-700 border border-beveren-200 dark:bg-beveren-900 dark:text-beveren-300 dark:border-beveren-700":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(z,{size:18}),a.jsx("span",{className:"font-medium",children:O.title})]}),a.jsx(oC,{size:16,className:"text-gray-400 dark:text-gray-500"})]},O.id)})})})}),a.jsx("div",{className:"lg:col-span-3",children:H()})]})]})})}function MM(){const{language:e,setLanguage:r}=Dl(),{user:t,logout:s}=Ui(),{theme:o,toggleTheme:l}=hh(),{posDetails:d}=cn(),[u,f]=S.useState(!1),m=S.useRef(null);S.useEffect(()=>{function E(A){m.current&&!m.current.contains(A.target)&&f(!1)}return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[m]);const y=()=>Ne(null,null,function*(){try{yield s(),window.location.href="/klik_pos/login"}catch(E){console.error("Logout error:",E),window.location.href="/klik_pos/login"}}),k=E=>E.split(" ").map(A=>A.charAt(0).toUpperCase()).join("").substring(0,2),_=(t==null?void 0:t.full_name)||(t==null?void 0:t.name)||"Guest User",C=(d==null?void 0:d.name)||"POS Profile",T=k(_);return a.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 relative z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search menu",className:"w-full pl-10 pr-4 py-2 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:C}),a.jsx("p",{className:"text-sm text-gray-500",children:_})]}),a.jsxs("div",{className:"relative",ref:m,children:[a.jsx("button",{onClick:()=>{console.log("Avatar clicked, current showUserMenu:",u),f(!u)},className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white font-medium text-sm pointer-events-none",children:T})}),u&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-base",children:T})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:C}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(Ry,{size:14,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-600 border border-gray-200 rounded px-2 py-1 bg-white truncate",children:_})]})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(Xu,{to:"/settings",onClick:()=>f(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(ph,{size:16,className:"mr-3 text-gray-500"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{l(),f(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[o==="dark"?a.jsx(yh,{size:16,className:"mr-3 text-gray-500"}):a.jsx(gh,{size:16,className:"mr-3 text-gray-500"}),a.jsx("span",{children:o==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>{r(e==="en"?"ar":"en"),f(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[a.jsx("span",{className:"mr-3 text-gray-500",children:""}),a.jsx("span",{children:e==="en"?"Switch to Arabic":"Switch to English"})]}),a.jsx("div",{className:"border-t border-gray-100 my-1"}),a.jsxs("button",{onClick:()=>{y(),f(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",type:"button",children:[a.jsx(mh,{size:16,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"flex-1 max-w-md"})]})})})}function ap({method:e,title:r,icon:t,selected:s,onSelect:o,total:l}){const{t:d}=Dl(),[u,f]=S.useState(!1),m=()=>{o(),f(!0)},y=()=>{switch(t){case"cash":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"card":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"wallet":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"})});default:return null}};return a.jsxs("div",{onClick:m,className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${s?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`mx-auto mb-3 ${s?"text-green-600":"text-gray-400"}`,children:y()}),a.jsx("h3",{className:"font-semibold text-gray-800",children:r})]}),s&&u&&a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e==="cash"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("AMOUNT_RECEIVED")}),a.jsx("input",{type:"number",defaultValue:l,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[d("CHANGE"),":  0.00"]})]}),e==="card"&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:d("INSERT_OR_TAP_CARD")}),a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mx-auto"})})]}),e==="wallet"&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded mx-auto mb-2 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500",children:"QR Code"})}),a.jsx("div",{className:"text-sm text-gray-600",children:d("SCAN_WITH_STC_PAY")})]})]})]})}function DM({qrCodeURL:e,caption:r}){return a.jsxs("div",{className:"text-center",children:[a.jsx("img",{src:e||"/placeholder.svg",alt:"ZATCA QR Code",className:"w-32 h-32 mx-auto border border-gray-200 rounded"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r})]})}function IM(){const r=gy().invoiceId,{t,isRTL:s}=Dl(),[o,l]=S.useState(null),[d,u]=S.useState(null),[f,m]=S.useState(!0);S.useEffect(()=>{y()},[r]);const y=()=>Ne(null,null,function*(){try{const C={invoiceId:r,dateTime:new Date().toISOString(),items:[{itemCode:"ITEM001",nameEn:"Wireless Headphones",nameAr:" ",qty:1,unitPrice:299,lineTotal:299}],subtotal:299,vat:14.95,total:313.95,qrCodeURL:"/placeholder.svg?height=128&width=128"};l(C)}catch(C){console.error("Failed to load invoice data:",C)}finally{m(!1)}}),k=C=>{u(C)},_=()=>Ne(null,null,function*(){if(!(!d||!o))try{console.log("Processing payment:",d,o.invoiceId)}catch(C){console.error("Payment failed:",C)}});return f?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-700"})}):o?a.jsxs("div",{className:`min-h-screen bg-gray-50 ${s?"rtl":"ltr"}`,children:[a.jsx(MM,{}),a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("INVOICE_SUMMARY")}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[t("INVOICE_ID"),": ",o.invoiceId]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[t("DATE_TIME"),": ",new Date(o.dateTime).toLocaleString()]})]}),a.jsx("div",{className:"border-t pt-4",children:o.items.map((C,T)=>a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:s?C.nameAr:C.nameEn}),a.jsxs("div",{className:"text-sm text-gray-600",children:[C.qty,"   ",C.unitPrice.toFixed(2)]})]}),a.jsxs("div",{className:"font-semibold",children:[" ",C.lineTotal.toFixed(2)]})]},T))}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("div",{className:"flex justify-between py-1",children:[a.jsx("span",{children:t("SUBTOTAL")}),a.jsxs("span",{children:[" ",o.subtotal.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between py-1",children:[a.jsxs("span",{children:[t("VAT")," (5%)"]}),a.jsxs("span",{children:[" ",o.vat.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t",children:[a.jsx("span",{children:t("TOTAL")}),a.jsxs("span",{children:[" ",o.total.toFixed(2)]})]})]}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(DM,{qrCodeURL:o.qrCodeURL,caption:t("SCAN_TO_VERIFY")})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("PAYMENT_METHODS")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ap,{method:"cash",title:t("CASH"),icon:"cash",selected:d==="cash",onSelect:()=>k("cash"),total:o.total}),a.jsx(ap,{method:"card",title:t("CARD"),icon:"card",selected:d==="card",onSelect:()=>k("card"),total:o.total}),a.jsx(ap,{method:"wallet",title:t("DIGITAL_WALLET"),icon:"wallet",selected:d==="wallet",onSelect:()=>k("wallet"),total:o.total})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("button",{className:"text-green-700 hover:text-green-800 font-medium",children:t("BACK_TO_CART")}),a.jsx("button",{onClick:_,disabled:!d,className:"flex-1 bg-green-700 text-white py-3 px-6 rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t("CONFIRM_PAYMENT")})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:t("INVOICE_NOT_FOUND")})})})}function gN(){var he,ee,Ee;const e=xa(),r=od("(max-width: 1024px)"),[t,s]=S.useState(""),[o,l]=S.useState(!1),[d,u]=S.useState(null),[f,m]=S.useState({}),[y,k]=S.useState(null),{customers:_,isLoading:C,error:T,totalCount:E,loadMore:A}=Oh(t);S.useEffect(()=>{Ne(null,null,function*(){var ce;try{const se=yield(yield fetch("/api/method/klik_pos.api.customer.get_global_totals")).json();(ce=se==null?void 0:se.message)!=null&&ce.success&&k({total_customers:se.message.total_customers,total_invoices:se.message.total_invoices})}catch(ue){}})},[]);const M=S.useMemo(()=>C?[]:T?[]:_.sort((ue,se)=>{const de=ue.createdAt?new Date(ue.createdAt).getTime():0;return(se.createdAt?new Date(se.createdAt).getTime():0)-de}),[_,C,T]),B=S.useMemo(()=>{if(C)return{total:0,totalOrders:0};const ce=_.length,ue=_.reduce((se,de)=>se+(de.totalOrders||0),0);return{total:ce,totalOrders:ue}},[_,C]);if(C&&_.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customers..."})]})});if(T)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customers"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:T.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const H=(ce,ue)=>{let se="USD";if(ue&&ue.trim()&&ue.length===3)try{new Intl.NumberFormat("en-US",{style:"currency",currency:ue}),se=ue}catch(de){console.warn(`Invalid currency code: ${ue}, falling back to AED`),se="USD"}return new Intl.NumberFormat("en-US",{style:"currency",currency:se}).format(ce)},O=ce=>new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),z=ce=>ce.split(" ").map(ue=>ue.charAt(0).toUpperCase()).join("").substring(0,2),q=ce=>{const ue=ce.target.value;s(ue)},ae=ce=>{if(ce.key==="Enter"&&t.trim()&&(ce.preventDefault(),!M.find(se=>{var de;return se.name.toLowerCase()===t.toLowerCase()||((de=se.email)==null?void 0:de.toLowerCase())===t.toLowerCase()||se.phone===t}))){const se=t.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se)?m({email:se}):/^[\d\s+\-()]+$/.test(se)&&se.replace(/[\s+\-()]/g,"").length>=7?m({phone:se}):m({name:se}),l(!0),s("")}};return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Customers"}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2 text-sm",children:[a.jsx(Di,{size:16}),a.jsx("span",{children:"Add"})]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:a.jsxs("div",{className:"mx-auto w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pi,{className:"text-orange-500",size:24}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[_.length," of ",(ee=(he=y==null?void 0:y.total_customers)!=null?he:E)!=null?ee:_.length]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(Ee=y==null?void 0:y.total_invoices)!=null?Ee:B.totalOrders})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:t,onChange:q,onKeyPress:ae,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}),C&&_.length>0&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]})})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:M.map(ce=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${ce.id}`),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:z(ce.name)})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ce.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",ce.id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[a.jsx(Cl,{size:14,className:"mr-2 text-gray-400"}),ce.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(ju,{size:14,className:"mr-2 text-gray-400"}),ce.phone]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[ce.totalOrders," orders"]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:H(ce.totalSpent,ce.defaultCurrency||ce.companyCurrency)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ce.lastVisit?O(ce.lastVisit):"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:ue=>{ue.stopPropagation(),e(`/customers/${ce.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:a.jsx(_l,{size:16})}),a.jsx("button",{onClick:ue=>{ue.stopPropagation(),u(ce),l(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(Tl,{size:16})})]})})]},ce.id))})]})}),M.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pi,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t?"Try adjusting your search criteria.":"Get started by adding your first customer."})]}),E>_.length&&a.jsx("div",{className:"p-4 text-center",children:a.jsxs("button",{onClick:A,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:["Load More (",_.length,"/",E,")"]})})]})]})}),o&&a.jsxs(a.Fragment,{children:[console.log("Opening modal with prefilled data:",f),a.jsx(Al,{customer:d,onClose:()=>{l(!1),u(null),m({})},onSave:ce=>{console.log("Saving customer:",ce),!d&&ce.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(l(!1),u(null),m({}))},prefilledData:f})]}),a.jsx(Is,{})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-beveren-600 text-white px-6 py-3 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2",children:[a.jsx(Di,{size:20}),a.jsx("span",{children:"Add Customer"})]})]})})}),a.jsx("div",{className:"flex-1 px-6 py-8 mt-16 lg:ml-20 max-w-none",children:a.jsxs("div",{className:"mx-auto w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pi,{className:"text-orange-500",size:24}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[_.length," of ",E||_.length]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:B.totalOrders})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:t,onChange:q,onKeyPress:ae,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"})]})})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:M.map(ce=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${ce.id}`),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:z(ce.name)})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ce.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",ce.id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[a.jsx(Cl,{size:14,className:"mr-2 text-gray-400"}),ce.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(ju,{size:14,className:"mr-2 text-gray-400"}),ce.phone]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ce.totalOrders>0?`${ce.totalOrders} orders`:"No orders"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ce.totalSpent>0?H(ce.totalSpent,ce.defaultCurrency||ce.companyCurrency):"No purchases"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ce.lastVisit?O(ce.lastVisit):"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:ue=>{ue.stopPropagation(),e(`/customers/${ce.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:a.jsx(_l,{size:16})}),a.jsx("button",{onClick:ue=>{ue.stopPropagation(),u(ce),l(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(Tl,{size:16})})]})})]},ce.id))})]})})})]})}),o&&a.jsxs(a.Fragment,{children:[console.log("Opening modal with prefilled data:",f),a.jsx(Al,{customer:d,onClose:()=>{l(!1),u(null),m({})},onSave:ce=>{console.log("Saving customer (desktop):",ce),!d&&ce.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(l(!1),u(null),m({}))},prefilledData:f})]})]})}function LM(){const e=xa(),{cartItems:r,appliedCoupons:t,updateQuantity:s,removeItem:o,clearCart:l,applyCoupon:d,removeCoupon:u}=Il();return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(Uo,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.length," ",r.length===1?"item":"items"]})]})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx(rj,{cartItems:r,onUpdateQuantity:s,onRemoveItem:o,onClearCart:l,appliedCoupons:t,onApplyCoupon:d,onRemoveCoupon:u,isMobile:!0})}),a.jsx(Is,{})]})}function UM(){const e=xa();return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(Uo,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Customers"})]})})}),a.jsx("div",{className:"flex-1 pb-20 overflow-hidden",children:a.jsx(gN,{})}),a.jsx(Is,{})]})}function FM(){const e=xa(),r=s=>{console.log("Saving customer:",s),e(-1)},t=()=>{e(-1)};return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(Uo,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Add Customer"})]})})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx("div",{className:"h-full bg-white dark:bg-gray-800",children:a.jsx(Al,{onClose:t,onSave:r,isFullPage:!0})})}),a.jsx(Is,{})]})}function zM(){const e=xa(),{cartItems:r,appliedCoupons:t,selectedCustomer:s,clearCart:o}=Il(),{refreshStockOnly:l,updateBatchQuantitiesForItems:d}=dh(),u=()=>{console.log("MobilePaymentPage: Payment was not completed - keeping cart items"),Ne(null,null,function*(){try{yield l(),console.log("Stock refreshed after payment modal close");const y=r.map(k=>k.item_code||k.id);y.length>0&&(console.log("MobilePaymentPage: Updating batch quantities for cart items:",y),yield d(y),console.log("MobilePaymentPage: Batch quantities updated successfully"))}catch(y){console.error("Failed to refresh stock:",y)}}),e(-1)},f=y=>Ne(null,null,function*(){console.log("Payment completed:",y),console.log("MobilePaymentPage: Payment completed - cart will be cleared when page is closed")}),m=y=>{console.log("Order held:",y),o(),e("/pos")};return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(Uo,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Payment"})]})})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx(Ly,{isOpen:!0,onClose:u,cartItems:r,appliedCoupons:t,selectedCustomer:s,onCompletePayment:f,onHoldOrder:m,isMobile:!0,isFullPage:!0})}),a.jsx(Is,{})]})}function BM({children:e,excludePaths:r=["/settings","/login"]}){const{isRTL:t}=Dl(),s=Rn(),[o,l]=S.useState(!1),[d,u]=S.useState(null),[f,m]=S.useState(!0),[y,k]=S.useState(null),[_,C]=S.useState(!1),{hasOpenEntry:T,isLoading:E,error:A,refetch:M}=v3(),B=()=>{const q=s.pathname;return r.some(ae=>q.includes(ae))};S.useEffect(()=>{Ne(null,null,function*(){try{m(!0),k(null),ss.initializeSession();const ae=yield ss.getCurrentUserProfile();if(ae)u({name:ae.name,email:ae.email||ae.name,full_name:ae.full_name||ae.first_name+" "+(ae.last_name||""),role:ae.role_profile_name||"User",user_image:ae.user_image});else{const he=yield ss.getCurrentUser();he?u({name:he,email:he,full_name:he,role:"User"}):k("No user session found")}}catch(ae){console.error("Error fetching current user:",ae),k(ae.message||"Failed to fetch user")}finally{m(!1)}})},[]),S.useEffect(()=>{B()||T!==null&&_&&M()},[s.pathname,M,T,_]),S.useEffect(()=>{const q=()=>{if(!document.hidden){const ae=s.pathname;r.some(ee=>ae.includes(ee))||M()}};return document.addEventListener("visibilitychange",q),()=>{document.removeEventListener("visibilitychange",q)}},[M,s.pathname,r]),S.useEffect(()=>{if(B()){C(!0),l(!1);return}if(!(T===null&&(E||f))){if(y){C(!0),l(!1);return}T!==null?T===!0?(l(!1),C(!0)):(l(!0),C(!0)):!E&&A&&(l(!0),C(!0))}},[T,E,A,f,y,s.pathname]);const H=()=>{l(!1),C(!0),setTimeout(()=>{M()},500)},O=()=>{};return B()?a.jsx(a.Fragment,{children:e}):T===null&&(E||f)?a.jsx("div",{className:`min-h-screen bg-gray-50 ${t?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),a.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):T!==!0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pointer-events-none opacity-50",children:e}),a.jsx(nj,{isOpen:o,onClose:O,onSuccess:H,currentUser:(d==null?void 0:d.name)||"Unknown User"})]}):a.jsx(a.Fragment,{children:e})}const An=({element:e})=>{const{isAuthenticated:r,loading:t}=Ui(),s=Rn();return t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),a.jsx("p",{className:"text-beveren-600 mt-4",children:"Verifying access..."})]})}):r?a.jsx(BM,{excludePaths:["/settings"],children:e}):a.jsx(y6,{to:"/login",state:{from:s},replace:!0})};var Dh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ih=typeof window=="undefined"||"Deno"in globalThis;function Ts(){}function qM(e,r){return typeof e=="function"?e(r):e}function HM(e){return typeof e=="number"&&e>=0&&e!==1/0}function GM(e,r){return Math.max(e+(r||0)-Date.now(),0)}function iy(e,r){return typeof e=="function"?e(r):e}function VM(e,r){return typeof e=="function"?e(r):e}function Tw(e,r){const{type:t="all",exact:s,fetchStatus:o,predicate:l,queryKey:d,stale:u}=e;if(d){if(s){if(r.queryHash!==rx(d,r.options))return!1}else if(!Vu(r.queryKey,d))return!1}if(t!=="all"){const f=r.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof u=="boolean"&&r.isStale()!==u||o&&o!==r.state.fetchStatus||l&&!l(r))}function Ow(e,r){const{exact:t,status:s,predicate:o,mutationKey:l}=e;if(l){if(!r.options.mutationKey)return!1;if(t){if(Gu(r.options.mutationKey)!==Gu(l))return!1}else if(!Vu(r.options.mutationKey,l))return!1}return!(s&&r.state.status!==s||o&&!o(r))}function rx(e,r){return((r==null?void 0:r.queryKeyHashFn)||Gu)(e)}function Gu(e){return JSON.stringify(e,(r,t)=>ly(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function Vu(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(t=>Vu(e[t],r[t])):!1}function pN(e,r){if(e===r)return e;const t=Aw(e)&&Aw(r);if(t||ly(e)&&ly(r)){const s=t?e:Object.keys(e),o=s.length,l=t?r:Object.keys(r),d=l.length,u=t?[]:{},f=new Set(s);let m=0;for(let y=0;y<d;y++){const k=t?y:l[y];(!t&&f.has(k)||t)&&e[k]===void 0&&r[k]===void 0?(u[k]=void 0,m++):(u[k]=pN(e[k],r[k]),u[k]===e[k]&&e[k]!==void 0&&m++)}return o===d&&m===o?e:u}return r}function Aw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ly(e){if(!Rw(e))return!1;const r=e.constructor;if(r===void 0)return!0;const t=r.prototype;return!(!Rw(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rw(e){return Object.prototype.toString.call(e)==="[object Object]"}function KM(e){return new Promise(r=>{setTimeout(r,e)})}function WM(e,r,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,r):t.structuralSharing!==!1?pN(e,r):r}function YM(e,r,t=0){const s=[...e,r];return t&&s.length>t?s.slice(1):s}function QM(e,r,t=0){const s=[r,...e];return t&&s.length>t?s.slice(0,-1):s}var ax=Symbol();function yN(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===ax?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ml,$i,Bc,Lw,XM=(Lw=class extends Dh{constructor(){super();Fr(this,ml);Fr(this,$i);Fr(this,Bc);pr(this,Bc,r=>{if(!Ih&&window.addEventListener){const t=()=>r();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){at(this,$i)||this.setEventListener(at(this,Bc))}onUnsubscribe(){var r;this.hasListeners()||((r=at(this,$i))==null||r.call(this),pr(this,$i,void 0))}setEventListener(r){var t;pr(this,Bc,r),(t=at(this,$i))==null||t.call(this),pr(this,$i,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){at(this,ml)!==r&&(pr(this,ml,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(t=>{t(r)})}isFocused(){var r;return typeof at(this,ml)=="boolean"?at(this,ml):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},ml=new WeakMap,$i=new WeakMap,Bc=new WeakMap,Lw),xN=new XM,qc,Ei,Hc,Uw,ZM=(Uw=class extends Dh{constructor(){super();Fr(this,qc,!0);Fr(this,Ei);Fr(this,Hc);pr(this,Hc,r=>{if(!Ih&&window.addEventListener){const t=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){at(this,Ei)||this.setEventListener(at(this,Hc))}onUnsubscribe(){var r;this.hasListeners()||((r=at(this,Ei))==null||r.call(this),pr(this,Ei,void 0))}setEventListener(r){var t;pr(this,Hc,r),(t=at(this,Ei))==null||t.call(this),pr(this,Ei,r(this.setOnline.bind(this)))}setOnline(r){at(this,qc)!==r&&(pr(this,qc,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return at(this,qc)}},qc=new WeakMap,Ei=new WeakMap,Hc=new WeakMap,Uw),sh=new ZM;function JM(){let e,r;const t=new Promise((o,l)=>{e=o,r=l});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),e(o)},t.reject=o=>{s({status:"rejected",reason:o}),r(o)},t}function eD(e){return Math.min(1e3*Rv(2,e),3e4)}function bN(e){return(e!=null?e:"online")==="online"?sh.isOnline():!0}var vN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function np(e){return e instanceof vN}function wN(e){let r=!1,t=0,s=!1,o;const l=JM(),d=E=>{var A;s||(_(new vN(E)),(A=e.abort)==null||A.call(e))},u=()=>{r=!0},f=()=>{r=!1},m=()=>xN.isFocused()&&(e.networkMode==="always"||sh.isOnline())&&e.canRun(),y=()=>bN(e.networkMode)&&e.canRun(),k=E=>{var A;s||(s=!0,(A=e.onSuccess)==null||A.call(e,E),o==null||o(),l.resolve(E))},_=E=>{var A;s||(s=!0,(A=e.onError)==null||A.call(e,E),o==null||o(),l.reject(E))},C=()=>new Promise(E=>{var A;o=M=>{(s||m())&&E(M)},(A=e.onPause)==null||A.call(e)}).then(()=>{var E;o=void 0,s||(E=e.onContinue)==null||E.call(e)}),T=()=>{if(s)return;let E;const A=t===0?e.initialPromise:void 0;try{E=A!=null?A:e.fn()}catch(M){E=Promise.reject(M)}Promise.resolve(E).then(k).catch(M=>{var q,ae,he;if(s)return;const B=(q=e.retry)!=null?q:Ih?0:3,H=(ae=e.retryDelay)!=null?ae:eD,O=typeof H=="function"?H(t,M):H,z=B===!0||typeof B=="number"&&t<B||typeof B=="function"&&B(t,M);if(r||!z){_(M);return}t++,(he=e.onFail)==null||he.call(e,t,M),KM(O).then(()=>m()?void 0:C()).then(()=>{r?_(M):T()})})};return{promise:l,cancel:d,continue:()=>(o==null||o(),l),cancelRetry:u,continueRetry:f,canStart:y,start:()=>(y()?T():C().then(T),l)}}var tD=e=>setTimeout(e,0);function rD(){let e=[],r=0,t=u=>{u()},s=u=>{u()},o=tD;const l=u=>{r?e.push(u):o(()=>{t(u)})},d=()=>{const u=e;e=[],u.length&&o(()=>{s(()=>{u.forEach(f=>{t(f)})})})};return{batch:u=>{let f;r++;try{f=u()}finally{r--,r||d()}return f},batchCalls:u=>(...f)=>{l(()=>{u(...f)})},schedule:l,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{o=u}}}var yn=rD(),gl,Fw,jN=(Fw=class{constructor(){Fr(this,gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HM(this.gcTime)&&pr(this,gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:Ih?1/0:5*60*1e3)}clearGcTimeout(){at(this,gl)&&(clearTimeout(at(this,gl)),pr(this,gl,void 0))}},gl=new WeakMap,Fw),Gc,pl,as,yl,sn,Ku,xl,Os,Ro,zw,aD=(zw=class extends jN{constructor(r){var t;super();Fr(this,Os);Fr(this,Gc);Fr(this,pl);Fr(this,as);Fr(this,yl);Fr(this,sn);Fr(this,Ku);Fr(this,xl);pr(this,xl,!1),pr(this,Ku,r.defaultOptions),this.setOptions(r.options),this.observers=[],pr(this,yl,r.client),pr(this,as,at(this,yl).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,pr(this,Gc,sD(this.options)),this.state=(t=r.state)!=null?t:at(this,Gc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=at(this,sn))==null?void 0:r.promise}setOptions(r){this.options=Y(Y({},at(this,Ku)),r),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&at(this,as).remove(this)}setData(r,t){const s=WM(this.state.data,r,this.options);return an(this,Os,Ro).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(r,t){an(this,Os,Ro).call(this,{type:"setState",state:r,setStateOptions:t})}cancel(r){var s,o;const t=(s=at(this,sn))==null?void 0:s.promise;return(o=at(this,sn))==null||o.cancel(r),t?t.then(Ts).catch(Ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(at(this,Gc))}isActive(){return this.observers.some(r=>VM(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ax||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>iy(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!GM(this.state.dataUpdatedAt,r)}onFocus(){var t;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(t=at(this,sn))==null||t.continue()}onOnline(){var t;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(t=at(this,sn))==null||t.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),at(this,as).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(t=>t!==r),this.observers.length||(at(this,sn)&&(at(this,xl)?at(this,sn).cancel({revert:!0}):at(this,sn).cancelRetry()),this.scheduleGc()),at(this,as).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||an(this,Os,Ro).call(this,{type:"invalidate"})}fetch(r,t){var m,y,k;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(at(this,sn))return at(this,sn).continueRetry(),at(this,sn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,o=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(pr(this,xl,!0),s.signal)})},l=()=>{const _=yN(this.options,t),T=(()=>{const E={client:at(this,yl),queryKey:this.queryKey,meta:this.meta};return o(E),E})();return pr(this,xl,!1),this.options.persister?this.options.persister(_,T,this):_(T)},u=(()=>{const _={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:at(this,yl),state:this.state,fetchFn:l};return o(_),_})();(m=this.options.behavior)==null||m.onFetch(u,this),pr(this,pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=u.fetchOptions)==null?void 0:y.meta))&&an(this,Os,Ro).call(this,{type:"fetch",meta:(k=u.fetchOptions)==null?void 0:k.meta});const f=_=>{var C,T,E,A;np(_)&&_.silent||an(this,Os,Ro).call(this,{type:"error",error:_}),np(_)||((T=(C=at(this,as).config).onError)==null||T.call(C,_,this),(A=(E=at(this,as).config).onSettled)==null||A.call(E,this.state.data,_,this)),this.scheduleGc()};return pr(this,sn,wN({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:_=>{var C,T,E,A;if(_===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(M){f(M);return}(T=(C=at(this,as).config).onSuccess)==null||T.call(C,_,this),(A=(E=at(this,as).config).onSettled)==null||A.call(E,_,this.state.error,this),this.scheduleGc()},onError:f,onFail:(_,C)=>{an(this,Os,Ro).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{an(this,Os,Ro).call(this,{type:"pause"})},onContinue:()=>{an(this,Os,Ro).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),at(this,sn).start()}},Gc=new WeakMap,pl=new WeakMap,as=new WeakMap,yl=new WeakMap,sn=new WeakMap,Ku=new WeakMap,xl=new WeakMap,Os=new WeakSet,Ro=function(r){const t=s=>{var o,l;switch(r.type){case"failed":return _e(Y({},s),{fetchFailureCount:r.failureCount,fetchFailureReason:r.error});case"pause":return _e(Y({},s),{fetchStatus:"paused"});case"continue":return _e(Y({},s),{fetchStatus:"fetching"});case"fetch":return _e(Y(Y({},s),nD(s.data,this.options)),{fetchMeta:(o=r.meta)!=null?o:null});case"success":return pr(this,pl,void 0),Y(_e(Y({},s),{data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(l=r.dataUpdatedAt)!=null?l:Date.now(),error:null,isInvalidated:!1,status:"success"}),!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const d=r.error;return np(d)&&d.revert&&at(this,pl)?_e(Y({},at(this,pl)),{fetchStatus:"idle"}):_e(Y({},s),{error:d,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"});case"invalidate":return _e(Y({},s),{isInvalidated:!0});case"setState":return Y(Y({},s),r.state)}};this.state=t(this.state),yn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),at(this,as).notify({query:this,type:"updated",action:r})})},zw);function nD(e,r){return Y({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bN(r.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function sD(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,t=r!==void 0,s=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:t?s!=null?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var eo,Bw,oD=(Bw=class extends Dh{constructor(r={}){super();Fr(this,eo);this.config=r,pr(this,eo,new Map)}build(r,t,s){var u;const o=t.queryKey,l=(u=t.queryHash)!=null?u:rx(o,t);let d=this.get(l);return d||(d=new aD({client:r,queryKey:o,queryHash:l,options:r.defaultQueryOptions(t),state:s,defaultOptions:r.getQueryDefaults(o)}),this.add(d)),d}add(r){at(this,eo).has(r.queryHash)||(at(this,eo).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const t=at(this,eo).get(r.queryHash);t&&(r.destroy(),t===r&&at(this,eo).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){yn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return at(this,eo).get(r)}getAll(){return[...at(this,eo).values()]}find(r){const t=Y({exact:!0},r);return this.getAll().find(s=>Tw(t,s))}findAll(r={}){const t=this.getAll();return Object.keys(r).length>0?t.filter(s=>Tw(r,s)):t}notify(r){yn.batch(()=>{this.listeners.forEach(t=>{t(r)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},eo=new WeakMap,Bw),to,pn,bl,ro,ki,qw,iD=(qw=class extends jN{constructor(r){super();Fr(this,ro);Fr(this,to);Fr(this,pn);Fr(this,bl);this.mutationId=r.mutationId,pr(this,pn,r.mutationCache),pr(this,to,[]),this.state=r.state||lD(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){at(this,to).includes(r)||(at(this,to).push(r),this.clearGcTimeout(),at(this,pn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){pr(this,to,at(this,to).filter(t=>t!==r)),this.scheduleGc(),at(this,pn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){at(this,to).length||(this.state.status==="pending"?this.scheduleGc():at(this,pn).remove(this))}continue(){var r,t;return(t=(r=at(this,bl))==null?void 0:r.continue())!=null?t:this.execute(this.state.variables)}execute(r){return Ne(this,null,function*(){var l,d,u,f,m,y,k,_,C,T,E,A,M,B,H,O,z,q,ae,he,ee;const t=()=>{an(this,ro,ki).call(this,{type:"continue"})};pr(this,bl,wN({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(Ee,ce)=>{an(this,ro,ki).call(this,{type:"failed",failureCount:Ee,error:ce})},onPause:()=>{an(this,ro,ki).call(this,{type:"pause"})},onContinue:t,retry:(l=this.options.retry)!=null?l:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>at(this,pn).canRun(this)}));const s=this.state.status==="pending",o=!at(this,bl).canStart();try{if(s)t();else{an(this,ro,ki).call(this,{type:"pending",variables:r,isPaused:o}),yield(u=(d=at(this,pn).config).onMutate)==null?void 0:u.call(d,r,this);const ce=yield(m=(f=this.options).onMutate)==null?void 0:m.call(f,r);ce!==this.state.context&&an(this,ro,ki).call(this,{type:"pending",context:ce,variables:r,isPaused:o})}const Ee=yield at(this,bl).start();return yield(k=(y=at(this,pn).config).onSuccess)==null?void 0:k.call(y,Ee,r,this.state.context,this),yield(C=(_=this.options).onSuccess)==null?void 0:C.call(_,Ee,r,this.state.context),yield(E=(T=at(this,pn).config).onSettled)==null?void 0:E.call(T,Ee,null,this.state.variables,this.state.context,this),yield(M=(A=this.options).onSettled)==null?void 0:M.call(A,Ee,null,r,this.state.context),an(this,ro,ki).call(this,{type:"success",data:Ee}),Ee}catch(Ee){try{throw yield(H=(B=at(this,pn).config).onError)==null?void 0:H.call(B,Ee,r,this.state.context,this),yield(z=(O=this.options).onError)==null?void 0:z.call(O,Ee,r,this.state.context),yield(ae=(q=at(this,pn).config).onSettled)==null?void 0:ae.call(q,void 0,Ee,this.state.variables,this.state.context,this),yield(ee=(he=this.options).onSettled)==null?void 0:ee.call(he,void 0,Ee,r,this.state.context),Ee}finally{an(this,ro,ki).call(this,{type:"error",error:Ee})}}finally{at(this,pn).runNext(this)}})}},to=new WeakMap,pn=new WeakMap,bl=new WeakMap,ro=new WeakSet,ki=function(r){const t=s=>{switch(r.type){case"failed":return _e(Y({},s),{failureCount:r.failureCount,failureReason:r.error});case"pause":return _e(Y({},s),{isPaused:!0});case"continue":return _e(Y({},s),{isPaused:!1});case"pending":return _e(Y({},s),{context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()});case"success":return _e(Y({},s),{data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return _e(Y({},s),{data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"})}};this.state=t(this.state),yn.batch(()=>{at(this,to).forEach(s=>{s.onMutationUpdate(r)}),at(this,pn).notify({mutation:this,type:"updated",action:r})})},qw);function lD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Do,As,Wu,Hw,cD=(Hw=class extends Dh{constructor(r={}){super();Fr(this,Do);Fr(this,As);Fr(this,Wu);this.config=r,pr(this,Do,new Set),pr(this,As,new Map),pr(this,Wu,0)}build(r,t,s){const o=new iD({mutationCache:this,mutationId:++h0(this,Wu)._,options:r.defaultMutationOptions(t),state:s});return this.add(o),o}add(r){at(this,Do).add(r);const t=A0(r);if(typeof t=="string"){const s=at(this,As).get(t);s?s.push(r):at(this,As).set(t,[r])}this.notify({type:"added",mutation:r})}remove(r){if(at(this,Do).delete(r)){const t=A0(r);if(typeof t=="string"){const s=at(this,As).get(t);if(s)if(s.length>1){const o=s.indexOf(r);o!==-1&&s.splice(o,1)}else s[0]===r&&at(this,As).delete(t)}}this.notify({type:"removed",mutation:r})}canRun(r){const t=A0(r);if(typeof t=="string"){const s=at(this,As).get(t),o=s==null?void 0:s.find(l=>l.state.status==="pending");return!o||o===r}else return!0}runNext(r){var s,o;const t=A0(r);if(typeof t=="string"){const l=(s=at(this,As).get(t))==null?void 0:s.find(d=>d!==r&&d.state.isPaused);return(o=l==null?void 0:l.continue())!=null?o:Promise.resolve()}else return Promise.resolve()}clear(){yn.batch(()=>{at(this,Do).forEach(r=>{this.notify({type:"removed",mutation:r})}),at(this,Do).clear(),at(this,As).clear()})}getAll(){return Array.from(at(this,Do))}find(r){const t=Y({exact:!0},r);return this.getAll().find(s=>Ow(t,s))}findAll(r={}){return this.getAll().filter(t=>Ow(r,t))}notify(r){yn.batch(()=>{this.listeners.forEach(t=>{t(r)})})}resumePausedMutations(){const r=this.getAll().filter(t=>t.state.isPaused);return yn.batch(()=>Promise.all(r.map(t=>t.continue().catch(Ts))))}},Do=new WeakMap,As=new WeakMap,Wu=new WeakMap,Hw);function A0(e){var r;return(r=e.options.scope)==null?void 0:r.id}function Pw(e){return{onFetch:(r,t)=>{var y,k,_,C,T;const s=r.options,o=(_=(k=(y=r.fetchOptions)==null?void 0:y.meta)==null?void 0:k.fetchMore)==null?void 0:_.direction,l=((C=r.state.data)==null?void 0:C.pages)||[],d=((T=r.state.data)==null?void 0:T.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const m=()=>Ne(null,null,function*(){var H;let E=!1;const A=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(r.signal.aborted?E=!0:r.signal.addEventListener("abort",()=>{E=!0}),r.signal)})},M=yN(r.options,r.fetchOptions),B=(O,z,q)=>Ne(null,null,function*(){if(E)return Promise.reject();if(z==null&&O.pages.length)return Promise.resolve(O);const he=(()=>{const ue={client:r.client,queryKey:r.queryKey,pageParam:z,direction:q?"backward":"forward",meta:r.options.meta};return A(ue),ue})(),ee=yield M(he),{maxPages:Ee}=r.options,ce=q?QM:YM;return{pages:ce(O.pages,ee,Ee),pageParams:ce(O.pageParams,z,Ee)}});if(o&&l.length){const O=o==="backward",z=O?dD:Mw,q={pages:l,pageParams:d},ae=z(s,q);u=yield B(q,ae,O)}else{const O=e!=null?e:l.length;do{const z=f===0?(H=d[0])!=null?H:s.initialPageParam:Mw(s,u);if(f>0&&z==null)break;u=yield B(u,z),f++}while(f<O)}return u});r.options.persister?r.fetchFn=()=>{var E,A;return(A=(E=r.options).persister)==null?void 0:A.call(E,m,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},t)}:r.fetchFn=m}}}function Mw(e,{pages:r,pageParams:t}){const s=r.length-1;return r.length>0?e.getNextPageParam(r[s],r,t[s],t):void 0}function dD(e,{pages:r,pageParams:t}){var s;return r.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,r[0],r,t[0],t):void 0}var pa,Ti,Oi,Vc,Kc,Ai,Wc,Yc,Gw,uD=(Gw=class{constructor(e={}){Fr(this,pa);Fr(this,Ti);Fr(this,Oi);Fr(this,Vc);Fr(this,Kc);Fr(this,Ai);Fr(this,Wc);Fr(this,Yc);pr(this,pa,e.queryCache||new oD),pr(this,Ti,e.mutationCache||new cD),pr(this,Oi,e.defaultOptions||{}),pr(this,Vc,new Map),pr(this,Kc,new Map),pr(this,Ai,0)}mount(){h0(this,Ai)._++,at(this,Ai)===1&&(pr(this,Wc,xN.subscribe(e=>Ne(this,null,function*(){e&&(yield this.resumePausedMutations(),at(this,pa).onFocus())}))),pr(this,Yc,sh.subscribe(e=>Ne(this,null,function*(){e&&(yield this.resumePausedMutations(),at(this,pa).onOnline())}))))}unmount(){var e,r;h0(this,Ai)._--,at(this,Ai)===0&&((e=at(this,Wc))==null||e.call(this),pr(this,Wc,void 0),(r=at(this,Yc))==null||r.call(this),pr(this,Yc,void 0))}isFetching(e){return at(this,pa).findAll(_e(Y({},e),{fetchStatus:"fetching"})).length}isMutating(e){return at(this,Ti).findAll(_e(Y({},e),{status:"pending"})).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=at(this,pa).get(r.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),t=at(this,pa).build(this,r),s=t.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&t.isStaleByTime(iy(r.staleTime,t))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(e){return at(this,pa).findAll(e).map(({queryKey:r,state:t})=>{const s=t.data;return[r,s]})}setQueryData(e,r,t){const s=this.defaultQueryOptions({queryKey:e}),o=at(this,pa).get(s.queryHash),l=o==null?void 0:o.state.data,d=qM(r,l);if(d!==void 0)return at(this,pa).build(this,s).setData(d,_e(Y({},t),{manual:!0}))}setQueriesData(e,r,t){return yn.batch(()=>at(this,pa).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,t)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=at(this,pa).get(r.queryHash))==null?void 0:t.state}removeQueries(e){const r=at(this,pa);yn.batch(()=>{r.findAll(e).forEach(t=>{r.remove(t)})})}resetQueries(e,r){const t=at(this,pa);return yn.batch(()=>(t.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(Y({type:"active"},e),r)))}cancelQueries(e,r={}){const t=Y({revert:!0},r),s=yn.batch(()=>at(this,pa).findAll(e).map(o=>o.cancel(t)));return Promise.all(s).then(Ts).catch(Ts)}invalidateQueries(e,r={}){return yn.batch(()=>{var t,s;return at(this,pa).findAll(e).forEach(o=>{o.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(_e(Y({},e),{type:(s=(t=e==null?void 0:e.refetchType)!=null?t:e==null?void 0:e.type)!=null?s:"active"}),r)})}refetchQueries(e,r={}){var o;const t=_e(Y({},r),{cancelRefetch:(o=r.cancelRefetch)!=null?o:!0}),s=yn.batch(()=>at(this,pa).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let d=l.fetch(void 0,t);return t.throwOnError||(d=d.catch(Ts)),l.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(s).then(Ts)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const t=at(this,pa).build(this,r);return t.isStaleByTime(iy(r.staleTime,t))?t.fetch(r):Promise.resolve(t.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ts).catch(Ts)}fetchInfiniteQuery(e){return e.behavior=Pw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ts).catch(Ts)}ensureInfiniteQueryData(e){return e.behavior=Pw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sh.isOnline()?at(this,Ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return at(this,pa)}getMutationCache(){return at(this,Ti)}getDefaultOptions(){return at(this,Oi)}setDefaultOptions(e){pr(this,Oi,e)}setQueryDefaults(e,r){at(this,Vc).set(Gu(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...at(this,Vc).values()],t={};return r.forEach(s=>{Vu(e,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(e,r){at(this,Kc).set(Gu(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...at(this,Kc).values()],t={};return r.forEach(s=>{Vu(e,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(e){if(e._defaulted)return e;const r=_e(Y(Y(Y({},at(this,Oi).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return r.queryHash||(r.queryHash=rx(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===ax&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:_e(Y(Y(Y({},at(this,Oi).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){at(this,pa).clear(),at(this,Ti).clear()}},pa=new WeakMap,Ti=new WeakMap,Oi=new WeakMap,Vc=new WeakMap,Kc=new WeakMap,Ai=new WeakMap,Wc=new WeakMap,Yc=new WeakMap,Gw),fD=S.createContext(void 0),hD=({client:e,children:r})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(fD.Provider,{value:e,children:r}));function mD(){window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&typeof e.reason=="object"&&e.reason.message&&e.reason.message.includes("fetch")&&console.error("Network/API error detected:",e.reason),e.preventDefault()})}function gD(){const e=xa(),r=Rn(),t=[{icon:Zu,path:"/pos",label:"POS"},{icon:Y3,path:"/invoice",label:"Invoice"},{icon:$l,path:"/items",label:"Items"},{icon:Pi,path:"/customers",label:"Customers"},{icon:Rc,path:"/dashboard",label:"Dashboard"},{icon:xu,path:"/closing_shift",label:"Closing Shift"}],s=o=>o==="/pos"?r.pathname==="/"||r.pathname==="/pos":r.pathname.startsWith(o);return a.jsxs("div",{className:"hidden lg:flex fixed h-screen w-20 top-0 left-0 bg-white dark:bg-gray-800 shadow-lg flex-col border-r border-gray-200 dark:border-gray-700 z-50",children:[a.jsx("div",{className:"h-20 flex items-center justify-center border-gray-100 dark:border-gray-700 cursor-pointer active:scale-90 transition-transform duration-150",onClick:()=>e("/"),children:a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-12 h-12 rounded-full object-cover"})}),a.jsx("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:t.map((o,l)=>a.jsx("button",{onClick:()=>e(o.path),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all cursor-pointer active:scale-90 duration-150 ${s(o.path)?"bg-beveren-100 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-beveren-600 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:o.label,children:a.jsx(o.icon,{size:20})},l))})]})}const pD=new uD;function yD(){return S.useEffect(()=>{mD()},[]),a.jsx(hD,{client:pD,children:a.jsx(oS,{children:a.jsx(z5,{children:a.jsx(cS,{children:a.jsxs(dS,{children:[a.jsx(gD,{}),a.jsx(x6,{}),a.jsx(d8,{position:"top-center",autoClose:3e3,"aria-label":"Notification"})]})})})})})}function xD(){const e=xa(),{isAuthenticated:r,loading:t}=Ui();return S.useEffect(()=>{t||(r?e("/pos",{replace:!0}):e("/login",{replace:!0}))},[r,t,e]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),a.jsx("p",{className:"text-beveren-600 mt-4",children:"Loading..."})]})})}function cy({customer:e,isOpen:r,onClose:t,onSuccess:s}){const[o,l]=S.useState([]),[d,u]=S.useState(!1),[f,m]=S.useState(!1),[y,k]=S.useState(!1),[_,C]=S.useState(!1),[T,E]=S.useState(90),[A,M]=S.useState(""),[B,H]=S.useState(new Set),[O,z]=S.useState({}),[q,ae]=S.useState("select-customer"),[he,ee]=S.useState(e||""),[Ee,ce]=S.useState(""),[ue,se]=S.useState([]),[de,pe]=S.useState([]),[ie,te]=S.useState([]),[W,be]=S.useState(new Map),{customers:V,isLoading:U}=Oh(Ee),{posDetails:ne}=cn(),{modes:me}=Nh(typeof(ne==null?void 0:ne.name)=="string"?ne.name:""),le=(ne==null?void 0:ne.currency)||"USD",X=Gy(le),[oe,Ue]=S.useState([]),[it,yt]=S.useState(""),et=S.useCallback(()=>Ne(null,null,function*(){try{const qe=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${he}`)).json();qe.message&&Array.isArray(qe.message)?Ue(qe.message):Ue([])}catch(J){console.error("Error loading customer addresses:",J),Ue([])}}),[he]),xt=S.useCallback(()=>Ne(null,null,function*(){if(!he)return;const J=`${he}-${T}-${it}`;if(W.has(J)){const qe=W.get(J);pe(qe),te(qe),C(!0);return}k(!0);try{const qe=new Date().toISOString().split("T")[0],Ve=new Date(Date.now()-T*24*60*60*1e3).toISOString().split("T")[0],dt=yield Vg(he,Ve,qe,it);if(dt.success&&dt.data){const ht=new Map;dt.data.forEach(ut=>{ut.items.forEach(ve=>{ve.available_qty>0&&ht.set(ve.item_code,ve.item_name)})});const vt=Array.from(ht.entries()).map(([ut,ve])=>({item_code:ut,item_name:ve}));be(ut=>new Map(ut).set(J,vt)),pe(vt),te(vt),C(!0)}else pe([]),te([]),C(!0)}catch(qe){console.error("Error loading available items:",qe),pe([]),te([]),C(!0)}finally{k(!1)}}),[he,T,it,W]),Tt=S.useCallback(J=>Ne(null,null,function*(){if(!J)return;const qe=`${J}-${T}-${it}`;if(W.has(qe)){const Ve=W.get(qe);pe(Ve),te(Ve),C(!0);return}k(!0);try{const Ve=new Date().toISOString().split("T")[0],dt=new Date(Date.now()-T*24*60*60*1e3).toISOString().split("T")[0],ht=yield Vg(J,dt,Ve,it);if(ht.success&&ht.data){const vt=new Map;ht.data.forEach(ve=>{ve.items.forEach(Ze=>{Ze.available_qty>0&&vt.set(Ze.item_code,Ze.item_name)})});const ut=Array.from(vt.entries()).map(([ve,Ze])=>({item_code:ve,item_name:Ze}));be(ve=>new Map(ve).set(qe,ut)),pe(ut),te(ut),C(!0)}else pe([]),te([]),C(!0)}catch(Ve){console.error("Error loading available items:",Ve),pe([]),te([]),C(!0)}finally{k(!1)}}),[T,it,W]);S.useEffect(()=>{r&&(C(!1),e?(ae("select-items"),ee(e)):he||(ae("select-customer"),ee("")),se([]),l([]),H(new Set),te([]),ce(""),yt(""),e&&(xt(),et()))},[r,e]);const gr=()=>Ne(null,null,function*(){if(ue.length===0){Ye.error("Please select at least one item to return");return}ae("filter-invoices"),m(!0);try{const J=new Date().toISOString().split("T")[0],qe=new Date(Date.now()-T*24*60*60*1e3).toISOString().split("T")[0],Ve=yield Vg(he,qe,J,it);if(Ve.success&&Ve.data){const dt=Ve.data.filter(ht=>ht.items.some(vt=>ue.some(ut=>ut.item_code===vt.item_code&&vt.available_qty>0))).map(ht=>_e(Y({},ht),{items:ht.items.filter(vt=>ue.some(ut=>ut.item_code===vt.item_code&&vt.available_qty>0)).map(vt=>_e(Y({},vt),{return_qty:vt.available_qty}))}));l(dt),z(ht=>{var ut,ve,Ze,Ge;const vt=Y({},ht);for(const pt of dt)if(B.has(pt.name)){const ct=pt.items.reduce((yr,Gr)=>yr+Gr.qty*Gr.rate,0),Ut=pt.items.reduce((yr,Gr)=>yr+(Gr.return_qty||0)*Gr.rate,0),qt=ct>0?Ut/ct:0,er=(pt.paid_amount||pt.grand_total)*qt,nr=Math.round(er*100)/100,br=((ut=me.find(yr=>yr.default===1))==null?void 0:ut.mode_of_payment)||((ve=me[0])==null?void 0:ve.mode_of_payment)||"Cash",na=((Ge=(Ze=pt.payments)==null?void 0:Ze[0])==null?void 0:Ge.mode_of_payment)||br;vt[pt.name]=vt[pt.name]||{method:na,amount:nr}}return vt}),ae("select-invoices")}else Ye.error(Ve.error||"Failed to load customer invoices"),l([])}catch(J){console.error("Error loading customer invoices:",J),Ye.error("Failed to load customer invoices"),l([])}finally{m(!1)}}),xe=(J,qe,Ve)=>{se(Ve?dt=>[...dt,{item_code:J,item_name:qe}]:dt=>dt.filter(ht=>ht.item_code!==J))},st=(J,qe,Ve)=>{l(dt=>dt.map(ht=>{if(ht.name===J){const vt=ht.items.map(ut=>{if(ut.item_code===qe){const ve=Math.max(0,Math.min(Ve,ut.available_qty));return _e(Y({},ut),{return_qty:ve})}return ut});return _e(Y({},ht),{items:vt})}return ht}))};S.useEffect(()=>{z(J=>{const qe=Y({},J);return o.forEach(Ve=>{if(B.has(Ve.name)){const dt=Ve.items.reduce((ut,ve)=>ut+(ve.return_qty||0)*ve.rate,0),ht=Math.round(dt*100)/100,vt=Ve.name;if(qe[vt]){const ut=qe[vt];qe[vt]=_e(Y({},ut),{amount:ht})}}}),qe})},[o,B]);const Ot=J=>{H(qe=>{var dt,ht,vt,ut;const Ve=new Set(qe);if(Ve.has(J))Ve.delete(J),l(ve=>ve.map(Ze=>{if(Ze.name===J){const Ge=Ze.items.map(pt=>_e(Y({},pt),{return_qty:0}));return _e(Y({},Ze),{items:Ge})}return Ze})),z(ve=>{const Ze=Y({},ve);return delete Ze[J],Ze});else{Ve.add(J);const ve=o.find(Ze=>Ze.name===J);if(ve){const Ze=ve.items.reduce((nr,br)=>nr+br.qty*br.rate,0),Ge=ve.items.reduce((nr,br)=>nr+(br.return_qty||0)*br.rate,0),pt=Ze>0?Ge/Ze:0,ct=(ve.paid_amount||ve.grand_total)*pt,Ut=Math.round(ct*100)/100,qt=((dt=me.find(nr=>nr.default===1))==null?void 0:dt.mode_of_payment)||((ht=me[0])==null?void 0:ht.mode_of_payment)||"Cash",er=((ut=(vt=ve.payments)==null?void 0:vt[0])==null?void 0:ut.mode_of_payment)||qt;z(nr=>_e(Y({},nr),{[J]:nr[J]||{method:er,amount:Ut}}))}}return Ve})},ye=J=>{l(qe=>qe.map(Ve=>{if(Ve.name===J){const dt=Ve.items.map(ht=>_e(Y({},ht),{return_qty:ht.available_qty}));return _e(Y({},Ve),{items:dt})}return Ve})),H(qe=>new Set(qe).add(J))},Xe=o.filter(J=>J.name.toLowerCase().includes(A.toLowerCase())||J.items.some(qe=>qe.item_name.toLowerCase().includes(A.toLowerCase())||qe.item_code.toLowerCase().includes(A.toLowerCase()))),lt=B.size>0&&o.some(J=>B.has(J.name)&&J.items.some(qe=>(qe.return_qty||0)>0)),mr=o.reduce((J,qe)=>J+qe.items.reduce((Ve,dt)=>Ve+(dt.return_qty||0)*dt.rate,0),0),Kt=()=>Ne(null,null,function*(){const J=o.filter(Ve=>B.has(Ve.name)).map(Ve=>{var dt,ht,vt;return{invoice_name:Ve.name,return_items:Ve.items.filter(ut=>(ut.return_qty||0)>0),payment_method:(dt=O[Ve.name])==null?void 0:dt.method,return_amount:(vt=(ht=O[Ve.name])==null?void 0:ht.amount)!=null?vt:Ve.items.reduce((ut,ve)=>ut+(ve.return_qty||0)*ve.rate,0)}}).filter(Ve=>Ve.return_items.length>0);if(J.length===0){Ye.error("Please select at least one item to return");return}const qe={customer:e||"",invoice_returns:J};u(!0);try{const Ve=yield LA(qe);Ve.success?(Ye.success(Ve.message||"Returns created successfully"),s(Ve.createdReturns||[]),t(),window.location.reload()):Ye.error(Ve.error||"Failed to create returns")}catch(Ve){console.error("Error creating returns:",Ve),Ye.error("Failed to create returns")}finally{u(!1)}});return r?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-7xl h-[95vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:a.jsx(El,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Multi-Invoice Return"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Customer: ",he||"Not selected"]})]})]}),a.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(ln,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),a.jsx("div",{className:"mt-3 sm:mt-4 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[!e&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${q==="select-customer"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${q==="select-customer"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:"1"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Customer"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"})]}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${q==="select-items"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${q==="select-items"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"1":"2"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Items"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${q==="filter-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${q==="filter-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"2":"3"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Filter Invoices"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${q==="select-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${q==="select-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"3":"4"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Invoices"})]})]})})]}),q==="select-customer"&&a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Customer"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a customer to process multi-invoice returns"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:Ee,onChange:J=>ce(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[a.jsx("div",{className:"space-y-2 flex-1 overflow-y-auto max-h-60 sm:max-h-none",children:U?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading customers..."})}):V&&V.length>0?V.map(J=>a.jsxs("button",{onClick:()=>Ne(null,null,function*(){const qe=J.id||J.name||"";ee(qe),C(!1),ae("select-items");try{const dt=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${qe}`)).json();dt.message&&Array.isArray(dt.message)?Ue(dt.message):Ue([]),yield Tt(qe)}catch(Ve){console.error("Error loading customer data:",Ve),Ue([])}}),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:J.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:J.id||"No ID"})]},J.id||J.name||Math.random())):Ee.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',Ee,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),V&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:Ee.trim()?`${V.length} customers found`:`${V.length} customers total`})})]})]}),q==="select-items"&&a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Items to Return"}),a.jsx("p",{className:"hidden sm:block text-sm text-gray-600 dark:text-gray-400",children:"Choose which items you want to return from customer invoices"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Days to Look Back"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qc,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"number",min:"1",max:"365",value:T||"",onChange:J=>{const qe=J.target.value;if(qe==="")E(0);else{const Ve=parseInt(qe);!isNaN(Ve)&&Ve>0&&E(Ve)}},onBlur:()=>{(!T||T<1)&&E(90)},className:"w-20 sm:w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"days"}),a.jsx("button",{onClick:xt,disabled:y,className:`p-2 rounded-lg transition-colors ${y?"text-gray-400 cursor-not-allowed":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:y?"Loading items...":"Refresh items with new days setting",children:a.jsx(El,{className:`w-4 h-4 ${y?"animate-spin":""}`})})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Address (Optional)"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wu,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{list:"address-list",value:it,onChange:J=>{yt(J.target.value),setTimeout(()=>{y||xt()},300)},className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                                  focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800
                                  text-gray-900 dark:text-white`}),a.jsx("datalist",{id:"address-list",children:oe.map(J=>a.jsxs("option",{value:J.name,children:[J.address_line1,", ",J.city]},J.name))})]})]}),ue.length>0&&a.jsxs("button",{onClick:gr,disabled:f,className:`px-4 py-2 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 ${f?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-orange-700"}`,children:[a.jsx(Cp,{className:"w-4 h-4"}),a.jsx("span",{children:f?"Loading...":`Find Invoices (${ue.length} items)`})]})]})}),y||!_?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y?"Loading available items...":"Preparing to load items..."})]}):de.length>0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Available Items (Last ",T," days)"]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ue.length," of ",de.length," selected"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search items by name or code...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",onChange:J=>{const qe=J.target.value.toLowerCase(),Ve=de.filter(dt=>dt.item_name.toLowerCase().includes(qe)||dt.item_code.toLowerCase().includes(qe));te(Ve)}})]}),ue.length>0&&a.jsx("button",{onClick:()=>se([]),className:"px-3 py-2 text-sm text-orange-600  hover:bg-red-50 dark:text-orange-400 dark:hover:text-orange-300 dark:hover:bg-orange-900/20 rounded-lg border border-orange-200  transition-colors",children:"Clear All"})]})}),a.jsx("div",{className:"overflow-x-auto flex-1 min-h-0",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:ue.length===ie.length&&ie.length>0,onChange:J=>{J.target.checked?se(ie):se([])},className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),a.jsx("span",{className:"text-xs text-gray-400",children:"All"})]})}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Name"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Code"}),a.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:ie.map(J=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:ue.some(qe=>qe.item_code===J.item_code),onChange:qe=>xe(J.item_code,J.item_name,qe.target.checked),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:J.item_name})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:J.item_code})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ue.some(qe=>qe.item_code===J.item_code)?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:ue.some(qe=>qe.item_code===J.item_code)?"Selected":"Available"})})]},J.item_code))})]})}),ue.length>0&&a.jsx("div",{className:"mt-4 flex items-center justify-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[a.jsx("span",{className:"font-medium",children:ue.length})," items selected for return"]})})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center min-h-0",children:[a.jsx($l,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Items Found"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["No items found in customer invoices from the last ",T," days."]}),a.jsx("button",{onClick:xt,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Refresh Items"})]})]}),q==="filter-invoices"&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Filtering Invoices"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Finding invoices from the last ",T," days containing selected items..."]})]}),a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Filtering invoices..."})]})})]}),q==="select-invoices"&&a.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex-shrink-0",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices or items...",value:A,onChange:J=>M(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:()=>ae("select-items"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium",children:" Back to Items"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),a.jsx("p",{className:"text-xl font-bold text-beveren-600 dark:text-beveren-400",children:Nt(mr,le)})]})]})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Xe.length," invoice(s) found  ",B.size," selected"]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected Items: ",ue.map(J=>J.item_name).join(", ")]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{maxHeight:"calc(95vh - 320px)"},children:q==="select-invoices"&&a.jsx(a.Fragment,{children:f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoices..."})]})}):Xe.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Invoices Found"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No invoices found containing the selected items in the last ",T," days."]}),a.jsx("button",{onClick:()=>ae("select-items"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:" Back to Items Selection"})]})}):a.jsx("div",{className:"space-y-6",children:Xe.map(J=>{var qe,Ve,dt,ht,vt;return a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:B.has(J.name),onChange:()=>Ot(J.name),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:J.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:J.posting_date}),a.jsx("span",{children:Nt(J.grand_total,le)}),a.jsx("span",{className:"capitalize",children:J.status})]})]})]}),a.jsx("button",{onClick:()=>ye(J.name),className:"px-3 py-1 text-sm bg-beveren-100 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 rounded hover:bg-beveren-200 dark:hover:bg-beveren-900/40 transition-colors",children:"Return All Available"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Sold"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Returned"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Available"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Return Qty"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:J.items.map(ut=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($l,{className:"w-4 h-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ut.item_name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ut.item_code})]})]})}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900 dark:text-white",children:ut.qty}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600 dark:text-red-400",children:ut.returned_qty}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`text-sm font-medium ${ut.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:ut.available_qty})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx("button",{onClick:()=>st(J.name,ut.item_code,(ut.return_qty||0)-1),disabled:!ut.return_qty||ut.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(Ay,{className:"w-3 h-3"})}),a.jsx("input",{type:"number",min:"0",max:ut.available_qty,value:ut.return_qty||0,onChange:ve=>st(J.name,ut.item_code,parseInt(ve.target.value)||0),className:"w-12 px-1 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs",disabled:ut.available_qty===0}),a.jsx("button",{onClick:()=>st(J.name,ut.item_code,(ut.return_qty||0)+1),disabled:ut.available_qty===0||(ut.return_qty||0)>=ut.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(Di,{className:"w-3 h-3"})})]})}),a.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:Nt((ut.return_qty||0)*ut.rate,le)})]},ut.item_code))})]})}),B.has(J.name)&&a.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mode of Payment"}),a.jsx("select",{value:((qe=O[J.name])==null?void 0:qe.method)||((Ve=me.find(ut=>ut.default===1))==null?void 0:Ve.mode_of_payment)||((dt=me[0])==null?void 0:dt.mode_of_payment)||"Cash",onChange:ut=>{const ve=ut.target.value;z(Ze=>{var Ge,pt;return _e(Y({},Ze),{[J.name]:{method:ve,amount:(pt=(Ge=Ze[J.name])==null?void 0:Ge.amount)!=null?pt:(()=>{const ct=J.items.reduce((nr,br)=>nr+br.qty*br.rate,0),Ut=J.items.reduce((nr,br)=>nr+(br.return_qty||0)*br.rate,0),qt=ct>0?Ut/ct:0,er=(J.paid_amount||J.grand_total)*qt;return Math.round(er*100)/100})()}})})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500",children:me.map(ut=>a.jsx("option",{value:ut.mode_of_payment,children:ut.mode_of_payment},ut.mode_of_payment))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:X}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:(vt=(ht=O[J.name])==null?void 0:ht.amount)!=null?vt:(()=>{const ut=J.items.reduce((ve,Ze)=>ve+(Ze.return_qty||0)*Ze.rate,0);return Math.round(ut*100)/100})(),onChange:ut=>{const ve=parseFloat(ut.target.value)||0,Ze=Math.round(ve*100)/100;z(Ge=>{var pt,ct,Ut;return _e(Y({},Ge),{[J.name]:{method:((pt=Ge[J.name])==null?void 0:pt.method)||((ct=me.find(qt=>qt.default===1))==null?void 0:ct.mode_of_payment)||((Ut=me[0])==null?void 0:Ut.mode_of_payment)||"Cash",amount:Ze}})})},className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 text-right",placeholder:"0.00"})]})]})]})})]},J.name)})})})}),q==="select-invoices"&&a.jsx("div",{className:"flex-shrink-0 px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:lt&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kl,{className:"w-4 h-4 text-orange-500"}),a.jsxs("span",{children:["Items selected for return from ",B.size," invoice(s)"]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),a.jsx("button",{onClick:Kt,disabled:!lt||d,className:`px-6 sm:px-8 py-3 rounded-lg font-semibold text-base sm:text-lg transition-colors shadow-lg ${lt&&!d?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:d?"Processing...":"Create Returns"})]})]})})]})}):null}function NN(e){return Ne(this,null,function*(){try{const r=yield T8(e);if(!r||!r.items||!Array.isArray(r.items))throw new Error("No items found in draft invoice");const t=[];for(const o of r.items){const l={id:o.item_code,name:o.item_name,category:"General",price:o.rate,image:"",quantity:o.qty};t.push(l)}const s=r.customer?{id:r.customer,name:r.customer_name||r.customer,customer_name:r.customer_name||r.customer,email:r.customer_email||"",email_id:r.customer_email||"",phone:r.customer_mobile_no||"",mobile_no:r.customer_mobile_no||"",territory:"",customer_group:"",customer_type:"individual",type:"individual",address:{addressType:"Billing",street:r.customer_address_line1||"",city:r.customer_city||"",state:r.customer_state||"",zipCode:r.customer_pincode||"",country:r.customer_country||"Saudi Arabia"},status:"active",preferredPaymentMethod:"Cash",loyaltyPoints:0,totalSpent:0,totalOrders:0,tags:[],createdAt:new Date().toISOString()}:null;return u8(e,t,s),!0}catch(r){console.error("Error caching draft invoice items:",r);const t=Jc(r,"Failed to cache draft invoice items");return Ye.error(t),!1}})}function bD(e,r){if(!e||e.length===0)throw new Error("No invoices to export");const t=["Invoice Number","Customer","Posting Date","Due Date","Grand Total","Outstanding Amount","Status","Payment Method","Currency"],s=e.map(u=>{var f,m;return[u.name||"",u.customer||"",u.posting_date||"",u.due_date||"",((f=u.grand_total)==null?void 0:f.toString())||"0",((m=u.outstanding_amount)==null?void 0:m.toString())||"0",u.status||"",u.mode_of_payment||"",u.currency||""]}),o=[t,...s].map(u=>u.map(f=>`"${f}"`).join(",")).join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");if(d.download!==void 0){const u=URL.createObjectURL(l);d.setAttribute("href",u);const m=`invoices_export_${new Date().toISOString().split("T")[0]}.csv`;d.setAttribute("download",r||m),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u)}}function vD(e="invoices",r="csv"){var l;const t=new Date().toISOString().split("T")[0],o=((l=new Date().toTimeString().split(" ")[0])==null?void 0:l.replace(/:/g,"-"))||"00-00-00";return`${e}_export_${t}_${o}.${r}`}function wD(){const e=xa(),r=od("(max-width: 1024px)"),[t,s]=S.useState("all"),[o,l]=S.useState(""),[d,u]=S.useState("all"),[f,m]=S.useState("all"),[y,k]=S.useState("all"),[_,C]=S.useState("list"),[T]=S.useState(null),[E,A]=S.useState(!1),[M,B]=S.useState(!1),[H,O]=S.useState(!1),[z,q]=S.useState(""),[ae,he]=S.useState(""),[ee,Ee]=S.useState(!1),[ce,ue]=S.useState(null),[se,de]=S.useState(!1),[pe,ie]=S.useState(null),[te,W]=S.useState(!1),[be,V]=S.useState(null),{invoices:U,isLoading:ne,isLoadingMore:me,error:le,hasMore:X,totalLoaded:oe,totalCount:Ue,loadMore:it}=Vy(o,!0,y),{modes:yt}=Dy(),{customers:et}=Oh(),{posDetails:xt}=cn(),{userInfo:Tt,isLoading:gr}=sj(),xe=(Tt==null?void 0:Tt.is_admin_user)||!1,st=(Tt==null?void 0:Tt.full_name)||"";S.useEffect(()=>{!xe&&st&&y==="all"&&k(st)},[xe,st,y]),S.useEffect(()=>{const ze=tt=>{tt.key==="Escape"&&(te&&Ut(),M&&B(!1),H&&O(!1))};return document.addEventListener("keydown",ze),()=>document.removeEventListener("keydown",ze)},[te,M,H]);const Ot=[{id:"all",name:"All Invoices",icon:Sl,color:"text-gray-600"},{id:"Draft",name:"Draft",icon:bC,color:"text-gray-500"},{id:"Unpaid",name:"Unpaid",icon:Qc,color:"text-yellow-600"},{id:"Partly Paid",name:"Partly Paid",icon:_u,color:"text-orange-600"},{id:"Paid",name:"Paid",icon:kl,color:"text-green-600"},{id:"Overdue",name:"Overdue",icon:Ac,color:"text-red-600"},{id:"Return",name:"Returns",icon:Ii,color:"text-purple-600"},{id:"Cancelled",name:"Cancelled",icon:Ac,color:"text-red-500"}],ye=ze=>{if(d==="all")return!0;if(d==="today")return Zy(ze);if(d==="yesterday"){const tt=new Date;tt.setUTCDate(tt.getUTCDate()-1);const Er=new Date(ze);return Er.getUTCFullYear()===tt.getUTCFullYear()&&Er.getUTCMonth()===tt.getUTCMonth()&&Er.getUTCDate()===tt.getUTCDate()}return d==="week"?Jy(ze):d==="month"?ex(ze):d==="year"?tx(ze):!0},Xe=ze=>{const tt="px-2 py-1 rounded-full text-xs font-medium";switch((ze==null?void 0:ze.toLowerCase())||""){case"paid":return`${tt} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${tt} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${tt} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${tt} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${tt} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${tt} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${tt} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${tt} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${tt} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${tt} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${tt} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${tt} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${tt} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},lt=S.useMemo(()=>{if(ne)return[];if(le)return[];const ze=U.filter(tt=>{const Er=(tt.status||"").trim(),fe=(t||"").trim(),Te=t==="all"||Er===fe,De=f==="all"||tt.paymentMethod===f,Ke=y==="all"||tt.cashier===y,Ae=ye(tt.date);return De&&Ke&&Te&&Ae});return t!=="all"&&console.log(`[InvoiceHistory] Filtering by status "${t}":`,{totalInvoices:U.length,filteredCount:ze.length,activeTab:t,sampleStatuses:U.slice(0,5).map(tt=>tt.status)}),ze},[U,t,d,f,y,ne,le]),mr=S.useMemo(()=>[...new Set(U.map(ze=>ze.cashier).filter(Boolean))],[U]),Kt=S.useMemo(()=>{if(!et)return[];const ze=et.filter(Er=>Er&&(Er.customer_name||Er.name));if(!ae.trim())return ze;const tt=ae.toLowerCase();return ze.filter(Er=>{var De,Ke;const fe=((De=Er.customer_name)==null?void 0:De.toLowerCase())||"",Te=((Ke=Er.name)==null?void 0:Ke.toLowerCase())||"";return fe.includes(tt)||Te.includes(tt)})},[et,ae]),J=ze=>{const tt=U.filter(fe=>{const Te=f==="all"||fe.paymentMethod===f,De=y==="all"||fe.cashier===y,Ke=ye(fe.date);return Te&&De&&Ke});if(ze==="all")return tt.length;const Er=(ze||"").trim();return tt.filter(fe=>(fe.status||"").trim()===Er).length};if(ne&&U.length===0||gr)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if(le)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:le.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const qe=()=>a.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:o,onChange:ze=>l(ze.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),ne&&U.length>0&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]}),a.jsxs("select",{value:d,onChange:ze=>u(ze.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:y,onChange:ze=>k(ze.target.value),disabled:!xe,className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${xe?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),mr.map(ze=>a.jsx("option",{value:ze,children:ze},ze))]}),!xe&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"}),a.jsxs("select",{value:f,onChange:ze=>m(ze.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),yt.map(ze=>a.jsx("option",{value:ze.name,children:ze.name},ze.name))]})]}),X&&a.jsx("div",{className:"mt-3 text-center",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Search works on all invoices in the database. Load more invoices to see additional results."})})]}),Ve=()=>a.jsxs("div",{className:"w-full max-w-none grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:lt.length}),X&&a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Showing ",oe," of ",Ue]})]}),a.jsx(Sl,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(lt.reduce((ze,tt)=>ze+tt.totalAmount,0),(xt==null?void 0:xt.currency)||"USD")})]}),a.jsx(Xc,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(lt.filter(ze=>ze.status==="Paid").reduce((ze,tt)=>ze+tt.totalAmount,0),(xt==null?void 0:xt.currency)||"USD")})]}),a.jsx(kl,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(lt.filter(ze=>["Unpaid","Partly Paid","Overdue"].includes(ze.status)).reduce((ze,tt)=>ze+tt.totalAmount,0),(xt==null?void 0:xt.currency)||"USD")})]}),a.jsx(_u,{className:"w-8 h-8 text-orange-600"})]})})]}),dt=()=>{var ze;return a.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t==="all"?"All Invoices":(ze=Ot.find(tt=>tt.id===t))==null?void 0:ze.name," (",lt.length,")"]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>C("list"),className:`p-2 rounded-md transition-colors ${_==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.jsx(Oy,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>C("cards"),className:`p-2 rounded-md transition-colors ${_==="cards"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.jsx(Zu,{className:"w-4 h-4"})})]})]}),_==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(xt==null?void 0:xt.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:lt.map(tt=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:tt.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[tt.date," ",tt.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:tt.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:tt.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:tt.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Nt(tt.totalAmount,tt.currency)}),tt.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",Nt(tt.giftCardDiscount,tt.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:Xe(tt.status),children:tt.status})}),(xt==null?void 0:xt.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:Xe(tt.custom_zatca_submit_status),children:tt.custom_zatca_submit_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>ht(tt),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx(_l,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),tt.status==="Draft"&&a.jsxs("button",{onClick:()=>Ge(tt),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 flex items-center space-x-1",children:[a.jsx(Tl,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(tt.status)&&!tt.is_return&&vt(tt)&&a.jsxs("button",{onClick:()=>na(tt),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(El,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]}),tt.status==="Draft"&&a.jsxs("button",{onClick:()=>ut(tt),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(Q0,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]})]})})]},`${t}-${tt.id}`))})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:lt.map(tt=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:tt.id}),a.jsx("span",{className:Xe(tt.status),children:tt.status})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:tt.customer})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Nt(tt.totalAmount,tt.currency)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:tt.date})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cashier:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:tt.cashier})]})]}),a.jsxs("div",{className:"mt-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>ht(tt),className:"flex-1 text-xs px-3 py-2 bg-beveren-600 text-white rounded hover:bg-beveren-700 transition-colors",children:"View"}),tt.status==="Draft"&&a.jsxs("button",{onClick:()=>Ge(tt),className:"flex-1 text-xs px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(Tl,{className:"w-3 h-3"}),a.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(tt.status)&&vt(tt)&&a.jsx("button",{onClick:()=>na(tt),className:"flex-1 text-xs px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"Return"})]})]},`${t}-${tt.id}`))}),X&&a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx("button",{onClick:it,disabled:me,className:`px-6 py-3 rounded-lg font-medium transition-colors ${me?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:me?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More (${oe}/${Ue})`})}),!X&&oe>0&&a.jsx("div",{className:"text-center mt-8 py-4",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:lt.length>0?`Showing ${lt.length} invoice${lt.length!==1?"s":""} (${oe} total loaded)`:`All ${Ue} invoices loaded`})})]})},ht=ze=>{e(`/invoice/${ze.id}`)},vt=ze=>!ze||!ze.items?(console.log("No invoice or items found for:",ze==null?void 0:ze.id),!1):ze.canReturn!==void 0?ze.canReturn:ze.items.some(Er=>{const fe=Er.qty||Er.quantity||0;return(Er.returned_qty||0)<fe}),ut=ze=>{if(ze.status!=="Draft"){Ye.error("Only draft invoices can be deleted");return}ie(ze),de(!0)},ve=()=>Ne(null,null,function*(){if(pe)try{yield Iy(pe.id),Ye.success(`Draft invoice ${pe.id} deleted successfully`),de(!1),ie(null),window.location.reload()}catch(ze){Ye.error(ze.message||"Failed to delete invoice")}}),Ze=()=>{de(!1),ie(null)},Ge=ze=>{if(ze.status!=="Draft"){Ye.error("Only draft invoices can be edited");return}V(ze),W(!0)},pt=ze=>Ne(null,null,function*(){try{(yield NN(ze.id))&&(W(!1),V(null),setTimeout(()=>{e("/pos")},500))}catch(tt){console.error("Error going to cart:",tt),Ye.error(tt.message||"Failed to add items to cart")}}),ct=ze=>Ne(null,null,function*(){try{yield f4(ze.id),Ye.success(`Draft invoice ${ze.id} submitted successfully`),W(!1),V(null),window.location.reload()}catch(tt){console.error("Error submitting draft invoice:",tt);const Er=Jc(tt,"Failed to submit draft invoice");Ye.error(Er)}}),Ut=()=>{W(!1),V(null)},qt=ze=>{er(ze),A(!1)},er=ze=>Ne(null,null,function*(){try{const tt=yield kh(ze);e(`/invoice/${tt.return_invoice}`),Ye.success(`Invoice returned: ${tt.return_invoice}`)}catch(tt){Ye.error(tt.message||"Failed to return invoice")}}),nr=ze=>{console.log("Cancelling invoice:",ze),A(!1)},br=()=>{q(""),O(!0)},na=ze=>{ue(ze),Ee(!0)},yr=()=>{Ee(!1),ue(null),window.location.reload()},Gr=ze=>{if(!ze){Ye.error("Invalid customer selection");return}q(ze),B(!1),he(""),O(!0)},Ka=()=>{O(!1),q("")},vn=()=>{B(!1),he("")},Wa=()=>{try{if(!lt||lt.length===0){Ye.error("No invoices to export");return}const ze=lt.map(fe=>{const Te=fe.totalAmount||0,De=fe.amountPaid||0,Ke=Math.max(0,Te-De);return{name:fe.id||fe.name||"",customer:fe.customer||"",posting_date:fe.date||fe.posting_date||"",due_date:"",grand_total:Te,outstanding_amount:Ke,status:fe.status||"",mode_of_payment:fe.paymentMethod||"",currency:fe.currency||"SAR",company:fe.company||""}}),tt=t==="all"?"all":t.toLowerCase(),Er=vD(`invoices_${tt}`,"csv");bD(ze,Er),Ye.success(`Exported ${ze.length} invoices successfully`)}catch(ze){console.error("Export error:",ze),Ye.error(`Failed to export invoices: ${ze.message}`)}};return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 font-inconsolata",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Invoice History"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:br,className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[a.jsx(Pi,{className:"w-4 h-4"}),a.jsx("span",{children:"Multi Return"})]}),a.jsxs("button",{onClick:Wa,className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(Sp,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[a.jsx("div",{className:"mb-6 w-full",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:Ot.map(ze=>a.jsxs("button",{onClick:()=>s(ze.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-xs whitespace-nowrap ${t===ze.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${ze.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[a.jsx(ze.icon,{className:"w-4 h-4"}),a.jsx("span",{children:ze.name}),a.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:J(ze.id)})]},ze.id))})})})}),qe(),Ve(),dt()]}),a.jsx(rd,{invoice:T,isOpen:E,onClose:()=>A(!1),onRefund:qt,onCancel:nr}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),a.jsx("button",{onClick:vn,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ac,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:ae,onChange:ze=>he(ze.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Kt&&Kt.length>0?Kt.map(ze=>a.jsxs("button",{onClick:()=>Gr(ze.name||ze.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ze.customer_name||ze.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ze.name||ze.customer_name||"No ID"})]},ze.name||ze.customer_name||Math.random())):ae.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',ae,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Kt&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:ae.trim()?`${Kt.length} of ${(et==null?void 0:et.length)||0} customers`:`${(et==null?void 0:et.length)||0} customers total`})})]})]})}),a.jsx(cy,{customer:z,isOpen:H,onClose:()=>O(!1),onSuccess:Ka,customers:et}),a.jsx(Is,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice History"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:br,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(Q0,{className:"w-4 h-4"}),a.jsx("span",{children:"Multi-Invoice Return"})]}),a.jsxs("button",{onClick:Wa,className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Sp,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 max-w-none",children:[a.jsx("div",{className:"mb-8 w-full max-w-none",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:Ot.map(ze=>a.jsxs("button",{onClick:()=>s(ze.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===ze.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${ze.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[a.jsx(ze.icon,{className:"w-5 h-5"}),a.jsx("span",{children:ze.name}),a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:J(ze.id)})]},ze.id))})})})}),qe(),Ve(),dt()]}),a.jsx(rd,{invoice:T,isOpen:E,onClose:()=>A(!1),onRefund:qt,onCancel:nr}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),a.jsx("button",{onClick:vn,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ac,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:ae,onChange:ze=>he(ze.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Kt&&Kt.length>0?Kt.map(ze=>a.jsxs("button",{onClick:()=>Gr(ze.name||ze.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ze.customer_name||ze.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ze.name||ze.customer_name||"No ID"})]},ze.name||ze.customer_name||Math.random())):ae.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',ae,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Kt&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:ae.trim()?`${Kt.length} of ${(et==null?void 0:et.length)||0} customers`:`${(et==null?void 0:et.length)||0} customers total`})})]})]})}),a.jsx(cy,{customer:z,isOpen:H,onClose:()=>O(!1),onSuccess:Ka,customers:et}),a.jsx(Bu,{invoice:ce,isOpen:ee,onClose:()=>Ee(!1),onSuccess:yr}),a.jsx(Xy,{isOpen:se,onClose:Ze,onConfirm:ve,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${pe==null?void 0:pe.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"}),te&&be&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md relative",children:[a.jsx("div",{className:"absolute inset-0 -z-10",onClick:Ut}),a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),a.jsx("button",{onClick:Ut,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ac,{className:"w-5 h-5"})})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Invoice: ",be.id]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"What would you like to do with this draft invoice?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>pt(be),className:"w-full flex items-center justify-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[a.jsx(ku,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Go to Cart"})]}),a.jsxs("button",{onClick:()=>ct(be),className:"w-full flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[a.jsx(Ic,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Submit"})]})]})]})]})})]})})}function jD(){var be,V,U,ne,me,le,X,oe,Ue,it,yt;const{id:e}=gy(),r=e!=null?e:"",{invoice:t,isLoading:s,error:o}=oj(r),{statistics:l,isLoading:d}=tj((t==null?void 0:t.customer)||null),{posDetails:u}=cn(),f=xa(),[m,y]=S.useState(!1),[k,_]=S.useState(null),[C,T]=S.useState(!1),[E,A]=S.useState(!1),[M,B]=S.useState(!1),[H,O]=S.useState(null),[z,q]=S.useState(!1),[ae,he]=S.useState(!1),ee=()=>{f("/invoice")},Ee=()=>{if(t){if(console.log("Invoice object in detail page:",t),t.status!=="Pending"){Ye.error("Only draft invoices can be deleted");return}he(!0)}},ce=()=>Ne(null,null,function*(){if(t)try{console.log("Attempting to delete invoice:",t.name||t.id,"Status:",t.status),yield Iy(t.name||t.id),Ye.success(`Draft invoice ${t.name||t.id} deleted successfully`),he(!1),f("/invoice")}catch(et){console.error("Delete error:",et),Ye.error(et.message||"Failed to delete invoice")}}),ue=()=>{he(!1)},se=et=>{const xt="px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1";switch(et){case"Completed":case"Paid":return`${xt} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"Pending":case"Unpaid":return`${xt} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Cancelled":return`${xt} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Refunded":return`${xt} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;default:return xt}},de=()=>Ne(null,null,function*(){var et,xt,Tt,gr,xe,st,Ot,ye,Xe,lt,mr,Kt;if(!(t!=null&&t.customer)){Ye.error("Customer information not available");return}q(!0);try{const J=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(t.customer)}`);if(!J.ok)throw new Error(`HTTP ${J.status}: ${J.statusText}`);const qe=yield J.json();if(((et=qe==null?void 0:qe.message)==null?void 0:et.success)!==!1){const Ve=qe.message,dt={id:Ve.name,name:Ve.customer_name,type:((xt=Ve.customer_type)==null?void 0:xt.toLowerCase())==="company"?"company":"individual",email:((Tt=Ve.contact_data)==null?void 0:Tt.email_id)||Ve.email_id||"",phone:((gr=Ve.contact_data)==null?void 0:gr.mobile_no)||((xe=Ve.contact_data)==null?void 0:xe.phone)||Ve.mobile_no||"",address:{addressType:"Billing",street:((st=Ve.address_data)==null?void 0:st.address_line1)||"",buildingNumber:((Ot=Ve.address_data)==null?void 0:Ot.address_line2)||"",city:((ye=Ve.address_data)==null?void 0:ye.city)||"",state:((Xe=Ve.address_data)==null?void 0:Xe.state)||"",zipCode:((lt=Ve.address_data)==null?void 0:lt.pincode)||"",country:((mr=Ve.address_data)==null?void 0:mr.country)||"Saudi Arabia"},status:"active",preferredPaymentMethod:Ve.payment_method||"Cash",customer_group:Ve.customer_group||"All Customer Groups",territory:Ve.territory||"All Territories",contactPerson:Ve.contact_data?`${Ve.contact_data.first_name||""} ${Ve.contact_data.last_name||""}`.trim()||Ve.customer_name:Ve.customer_name||"",companyName:Ve.customer_type==="Company"?Ve.customer_name:void 0,taxId:Ve.vat_number||"",industry:Ve.industry||"",employeeCount:Ve.employee_count||"",registrationScheme:Ve.registration_scheme||"",registrationNumber:Ve.registration_number||""};O(dt),B(!0)}else throw new Error(((Kt=qe==null?void 0:qe.message)==null?void 0:Kt.error)||"Failed to fetch customer details")}catch(J){console.error("Error fetching customer details:",J),Ye.error(J.message||"Failed to fetch customer details")}finally{q(!1)}}),pe=et=>{f(`/invoice/${et}`)},ie=et=>{console.log("Saving customer:",et),B(!1),O(null),Ye.success("Customer updated successfully!")},te=et=>{Ye.success(`${et.length} return invoices created successfully`),f("/invoice")},W=()=>!t||!t.items?!1:t.items.some(et=>{const xt=et.qty||et.quantity||0;return(et.returned_qty||0)<xt});return s?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})})}):o?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_u,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error loading invoice: ",o]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})}):t?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:ee,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-beveren-200 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(Uo,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Invoice ",t.name||t.id]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.posting_date," at ",t.posting_time]})]}),a.jsxs("div",{className:se(t.status),children:[a.jsx(kl,{size:16}),a.jsx("span",{children:t.status})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"sr-only",children:a.jsx(F0,{invoice:t})}),a.jsxs("button",{className:"group relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-all duration-200",onClick:()=>z0(t),children:[a.jsx(Nu,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Print Invoice"})]}),a.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{_("email"),y(!0)},children:[a.jsx($p,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via Email"})]}),(u==null?void 0:u.custom_enable_whatsapp)===1||(u==null?void 0:u.custom_enable_whatsapp)==="1"||(u==null?void 0:u.custom_enable_whatsapp)===!0?a.jsxs("button",{className:"group relative p-2 text-green-600 hover:bg-green-100 dark:text-green-400 dark:hover:bg-green-900 rounded-lg transition-all duration-200",onClick:()=>{_("whatsapp"),y(!0)},children:[a.jsx(Ep,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via WhatsApp"})]}):"",(u==null?void 0:u.custom_enable_sms)===1||(u==null?void 0:u.custom_enable_sms)==="1"||(u==null?void 0:u.custom_enable_sms)===!0?a.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{_("sms"),y(!0)},children:[a.jsx(Tp,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via SMS"})]}):"",["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(t.status)&&!t.is_return&&W()&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),a.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:hover:bg-orange-900 rounded-lg transition-all duration-200",onClick:()=>T(!0),children:[a.jsx(El,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Return Items (Single Invoice)"})]}),a.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-indigo-100 dark:text-indigo-400 dark:hover:bg-indigo-900 rounded-lg transition-all duration-200",onClick:()=>A(!0),children:[a.jsx(Q0,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Multi-Invoice Return"})]})]}),t.status==="Pending"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),a.jsxs("button",{className:"group relative p-2 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900 rounded-lg transition-all duration-200",onClick:Ee,children:[a.jsx(Q0,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Delete Draft Invoice"})]})]})]})]})})}),a.jsx("div",{className:"flex-1 pt-20 pb-20 overflow-auto",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"INVOICE"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["#",t.name||t.id]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.company}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(be=t.company_address_doc)==null?void 0:be.address_line1}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(V=t.company_address_doc)==null?void 0:V.county}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(U=t.company_address_doc)==null?void 0:U.phone})]})]})}),a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Bill To:"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:t.customer}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(ne=t.customer_address_doc)==null?void 0:ne.address_line1}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(me=t.customer_address_doc)==null?void 0:me.email_id}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(le=t.customer_address_doc)==null?void 0:le.phone})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.posting_date})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.posting_time})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cashier:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.cashier_name||t.owner})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.paymentMethod})]})]})})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:(X=t.items)==null?void 0:X.map((et,xt)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:et.item_name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",et.item_code]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:et.category})]})}),a.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 dark:text-white",children:et.qty}),a.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900 dark:text-white",children:Nt(et.rate,t.currency)}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:Nt(et.amount,t.currency)})]},xt))})]})}),t.taxes&&t.taxes.length>0&&a.jsxs("div",{className:"px-6 py-4 bg-beveren-50 dark:bg-beveren-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(HC,{className:"w-5 h-5 text-beveren-600 dark:text-beveren-400"}),a.jsx("h4",{className:"text-sm font-semibold text-beveren-900 dark:text-beveren-100",children:"Tax Details"})]}),a.jsxs("div",{className:"space-y-2",children:[t.taxes.map((et,xt)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-medium",children:et.account_head}),a.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400",children:["(",et.rate,"%)"]}),et.included_in_print_rate===1&&a.jsx("span",{className:"px-2 py-1 bg-beveren-100 dark:bg-beveren-800 text-beveren-800 dark:text-beveren-200 text-xs rounded-full",children:"Inclusive"})]}),a.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-semibold",children:Nt(et.tax_amount,t.currency)})]},xt)),a.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-beveren-200 dark:border-beveren-700",children:[a.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-semibold",children:"Total Tax:"}),a.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-bold",children:Nt(t.total_taxes_and_charges,t.currency)})]})]})]}),a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700",children:a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-80 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Nt(t.total,t.currency)})]}),t.total_taxes_and_charges>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Nt(t.total_taxes_and_charges,t.currency)})]}),t.rounding_adjustment!==0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rounding:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Nt(t.rounding_adjustment,t.currency)})]}),t.giftCardDiscount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gift Card Discount:"}),a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",Nt(t.giftCardDiscount,t.currency)]})]}),a.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Grand Total:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Nt(t.grand_total,t.currency)})]}),t.paid_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Amount:"}),a.jsx("span",{className:"text-beveren-600 dark:text-beveren-400",children:Nt(t.paid_amount,t.currency)})]}),t.outstanding_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding:"}),a.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:Nt(t.outstanding_amount,t.currency)})]}),t.status==="Refunded"&&t.refundAmount&&a.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-300 dark:border-gray-600 pt-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Refunded Amount:"}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:Nt(t.refundAmount,t.currency)})]})]})})}),t.giftCardCode&&a.jsxs("div",{className:"px-6 py-4 bg-purple-50 dark:bg-purple-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("h4",{className:"text-sm font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Gift Card Applied:"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Code: ",t.giftCardCode]}),a.jsxs("span",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:["-",Nt(t.giftCardDiscount,t.currency)]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-orange-50 dark:bg-orange-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(is,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),a.jsx("h4",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Payment Details"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Payment Method:"}),a.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-medium",children:t.paymentMethod||"Cash"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Status:"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se(t.status)}`,children:t.status})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Paid Amount:"}),a.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-semibold",children:Nt(t.paid_amount||0,t.currency)})]}),t.outstanding_amount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Outstanding:"}),a.jsx("span",{className:"text-red-900 dark:text-red-100 font-semibold",children:Nt(t.outstanding_amount,t.currency)})]})]})]})]}),t.notes&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Notes:"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.notes})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[a.jsx(Wn,{size:20}),a.jsx("span",{children:"Customer Details"})]}),a.jsx("button",{onClick:de,disabled:z,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Customer",children:z?a.jsx(Ii,{size:16,className:"animate-spin"}):a.jsx(Tl,{size:16})})]})}),a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[a.jsx("div",{children:a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.customer})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(Cl,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.customer_email})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(ju,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.customer_mobile_no})]}),a.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[a.jsx(wu,{className:"w-4 h-4 text-gray-400 mt-0.5"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(oe=t.customer_address_doc)==null?void 0:oe.address_line1})]})]}),a.jsx("hr",{className:"border-gray-200 dark:border-gray-600"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Po,{className:"w-5 h-5 text-beveren-600"}),a.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Customer Statistics"})]}),d?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx(Ii,{className:"w-4 h-4 animate-spin text-gray-400"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading statistics..."})]}):l?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-beveren-50 to-beveren-100 dark:from-beveren-900/20 dark:to-beveren-800/20 rounded-lg p-4 border border-beveren-200 dark:border-beveren-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-beveren-600 rounded-lg",children:a.jsx($l,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-beveren-700 dark:text-beveren-300 font-medium",children:"Total Orders"}),a.jsx("p",{className:"text-xs font-bold text-beveren-900 dark:text-beveren-100",children:l.total_orders})]})]})}),a.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:a.jsx(Xc,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 font-medium",children:"Total Spent"}),a.jsx("p",{className:"text-xs font-small text-orange-900 dark:text-orange-100",children:Nt(l.total_spent,t.currency)})]})]})})]}),l.last_visit&&a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qc,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Visit:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(l.last_visit).toLocaleDateString()})]})})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(_u,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Unable to load customer statistics"})]})]})]})]})})]})})}),m&&a.jsx(Ly,{isOpen:m,onClose:()=>{y(!1),_(null)},cartItems:[],appliedCoupons:[],selectedCustomer:{id:t.customer,name:t.customer,email:((Ue=t.customer_address_doc)==null?void 0:Ue.email_id)||"",phone:((it=t.customer_address_doc)==null?void 0:it.phone)||"",type:"individual",status:"active",loyaltyPoints:0,totalOrders:0,totalSpent:0,address:{addressType:"Billing",streetName:((yt=t.customer_address_doc)==null?void 0:yt.address_line1)||"",buildingNumber:"",subdivisionName:"",cityName:"",postalCode:"",country:"Saudi Arabia",isPrimary:!0},vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",tags:[]},onCompletePayment:()=>{y(!1),_(null)},onHoldOrder:()=>{y(!1),_(null)},isMobile:!1,isFullPage:!1,initialSharingMode:k,externalInvoiceData:t}),a.jsx(Bu,{invoice:t,isOpen:C,onClose:()=>T(!1),onSuccess:pe}),a.jsx(cy,{customer:(t==null?void 0:t.customer)||"",isOpen:E,onClose:()=>A(!1),onSuccess:te}),M&&H&&a.jsx(Al,{customer:H,onClose:()=>{B(!1),O(null)},onSave:ie}),a.jsx(Xy,{isOpen:ae,onClose:ue,onConfirm:ce,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${(t==null?void 0:t.name)||(t==null?void 0:t.id)}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Invoice not found"})]})})})}function ND(e){const[r,t]=S.useState([]),[s,o]=S.useState(!0),[l,d]=S.useState(!1),[u,f]=S.useState(null),[m,y]=S.useState(!0),[k,_]=S.useState(0),[C,T]=S.useState(0),[E,A]=S.useState(0),M=100,B=S.useCallback((z=0,q=!1)=>Ne(null,null,function*(){var ae;if(!e){t([]),o(!1);return}q?d(!0):o(!0);try{const he=z*M;console.log(`Fetching customer invoices - customer: ${e}, page: ${z}, start: ${he}, limit: ${M}`);const ee=`&search=${encodeURIComponent(e)}`,Ee=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${M}&start=${he}${ee}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Customer invoices response:",{status:Ee.status,statusText:Ee.statusText,ok:Ee.ok}),!Ee.ok)throw new Error(`HTTP ${Ee.status}: ${Ee.statusText}`);const ce=yield Ee.json();if(console.log("Customer invoices data:",ce),!ce.message||!ce.message.success)throw new Error(((ae=ce.message)==null?void 0:ae.error)||ce.error||"Failed to fetch customer invoices");const ue=ce.message.data,se=ue.length,de=ce.message.total_count||0;y(se===M),A(de);const ie=ue.filter(te=>{const W=te&&te.customer;return!!W&&W===e}).map(te=>{const W=te.payment_methods||[],be=te.mode_of_payment;return{id:te.name,date:te.posting_date||new Date().toISOString().split("T")[0],time:te.posting_time||"00:00:00",cashier:te.cashier_name||"Unknown",cashierId:te.cashier||"",customer:te.customer_name||te.customer||"Walk-in Customer",customerId:te.customer||null,items:Array.isArray(te.items)?te.items:[],subtotal:Number(te.net_total)||0,giftCardDiscount:0,giftCardCode:null,taxAmount:Number(te.total_taxes_and_charges)||0,totalAmount:Number(te.base_grand_total)||0,paymentMethod:be||"Cash",payment_methods:W.map(V=>({mode_of_payment:V.mode_of_payment,amount:Number(V.amount)||0})),amountPaid:Number(te.paid_amount)||0,amountDue:Number(te.outstanding_amount)||0,changeGiven:Number(te.change_amount)||0,status:te.status||"Draft",refundAmount:Number(te.refund_amount)||0,notes:te.remarks||"",currency:te.currency||"USD",customer_address_doc:void 0,company_address_doc:void 0,company:te.company||"",posting_date:te.posting_date||"",posting_time:te.posting_time||"",posProfile:te.pos_profile||void 0,custom_pos_opening_entry:te.custom_pos_opening_entry||void 0,name:te.name,custom_zatca_submit_status:te.custom_zatca_submit_status||void 0}});q?(t(te=>[...te,...ie]),T(te=>te+ie.length)):(t(ie),T(ie.length)),_(z),f(null)}catch(he){console.error("Error fetching customer invoices:",he),f(he.message||"Unknown error occurred")}finally{o(!1),d(!1)}}),[e]),H=S.useCallback(()=>{!l&&m&&e&&B(k+1,!0)},[k,l,m,B,e]),O=S.useCallback(()=>{e&&(_(0),T(0),y(!0),B(0,!1))},[B,e]);return S.useEffect(()=>{e?B(0,!1):(t([]),o(!1))},[B,e]),{invoices:r,isLoading:s,isLoadingMore:l,error:u,hasMore:m,totalLoaded:C,totalCount:E,loadMore:H,refetch:O}}function Dw({isOpen:e,onClose:r,invoice:t,onGoToCart:s,onSubmitDirect:o}){return!e||!t?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(ln,{size:20})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Invoice:"}),a.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.id})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"What would you like to do with this draft invoice?"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>s(t),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(ku,{size:20}),a.jsx("span",{children:"Go to Cart"})]}),o&&a.jsxs("button",{onClick:()=>o(t),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Ic,{size:20}),a.jsx("span",{children:"Submit"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"})})]})})}function kD(){const e=xa(),r=od("(max-width: 1024px)"),[t,s]=S.useState(""),[o,l]=S.useState("all"),[d,u]=S.useState("all"),[f,m]=S.useState(null),[y,k]=S.useState(!1),[_,C]=S.useState(!1),[T,E]=S.useState(null),[A,M]=S.useState(!1),[B,H]=S.useState(null),[O,z]=S.useState(!1),[q,ae]=S.useState(null),{id:he}=gy(),{customer:ee,isLoadingC:Ee,errorC:ce}=yA(he),{invoices:ue,isLoading:se,error:de,hasMore:pe,totalLoaded:ie,loadMore:te}=ND((ee==null?void 0:ee.name)||""),{posDetails:W}=cn(),be=xe=>d==="all"?!0:d==="today"?Zy(xe):d==="week"?Jy(xe):d==="month"?ex(xe):d==="year"?tx(xe):!0,V=S.useMemo(()=>se||de||!ee?[]:ue.filter(xe=>{const st=t===""||xe.id.toLowerCase().includes(t.toLowerCase()),Ot=o==="all"||xe.status===o,ye=be(xe.date);return st&&Ot&&ye}),[ue,t,o,d,se,de,ee]);console.log("CustomerPageDetails: Filtered customer invoices:",{customerInvoicesCount:V.length,customerInvoices:V});const U=xe=>{const st="px-2 py-1 rounded-full text-xs font-medium";switch((xe==null?void 0:xe.toLowerCase())||""){case"paid":return`${st} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${st} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${st} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${st} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${st} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${st} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${st} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${st} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${st} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${st} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${st} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${st} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${st} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},ne=xe=>!xe||!xe.items?(console.log("No invoice or items found for:",xe==null?void 0:xe.id),!1):xe.items.some(Ot=>{const ye=Ot.qty||Ot.quantity||0;return(Ot.returned_qty||0)<ye}),me=xe=>{e(`/invoice/${xe.id}`),m(xe),k(!0)},le=xe=>{xt(xe),k(!1)},X=xe=>{if(xe.status!=="Draft"){Ye.error("Only draft invoices can be edited");return}ae(xe),z(!0)},oe=xe=>Ne(null,null,function*(){try{(yield NN(xe.id))&&(z(!1),ae(null),e("/"))}catch(st){console.error("Error going to cart:",st),Ye.error(st.message||"Failed to add items to cart")}}),Ue=xe=>Ne(null,null,function*(){try{yield f4(xe.id),Ye.success(`Draft invoice ${xe.id} submitted successfully`),z(!1),ae(null),window.location.reload()}catch(st){console.error("Error submitting draft invoice:",st);const Ot=Jc(st,"Failed to submit draft invoice");Ye.error(Ot)}}),it=()=>{z(!1),ae(null)},yt=xe=>{E(xe),C(!0)},et=()=>{C(!1),E(null),window.location.reload()},xt=xe=>Ne(null,null,function*(){try{const st=yield kh(xe);e(`/invoice/${st.return_invoice}`),Ye.success(`Invoice returned: ${st.return_invoice}`)}catch(st){Ye.error(st.message||"Failed to return invoice")}}),Tt=xe=>{console.log("Saving customer:",xe),M(!1),H(null)},gr=S.useMemo(()=>{const xe=V.length,st=V.reduce((Xe,lt)=>Xe+lt.totalAmount,0),Ot=V.filter(Xe=>Xe.status==="Unpaid"||Xe.status==="Overdue").reduce((Xe,lt)=>Xe+lt.totalAmount,0),ye=xe>0?st/xe:0;return{totalInvoices:xe,totalRevenue:st,outstandingAmount:Ot,avgOrderValue:ye}},[V]);return Ee?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customer details..."})]})}):ce&&!ee?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customer"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:(ce==null?void 0:ce.message)||"Failed to load customer details"}),a.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Go Back"})]})}):ee?r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Uo,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ee.customer_name||ee.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Customer ID: ",ee.name]})]})]}),a.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",ee),H(ee),M(!0)},className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(Tl,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center",children:a.jsx(Wn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:ee.customer_name||ee.name}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Cl,{className:"w-3 h-3"}),a.jsx("span",{children:ee.email||"No email provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ju,{className:"w-3 h-3"}),a.jsx("span",{children:ee.phone||"No phone provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(wu,{className:"w-3 h-3"}),a.jsx("span",{children:ee.territory||"No territory specified"})]})]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:gr.totalInvoices})]}),a.jsx(Sl,{className:"w-6 h-6 text-beveren-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Nt(gr.totalRevenue,(W==null?void 0:W.currency)||"USD")})]}),a.jsx(Xc,{className:"w-6 h-6 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Nt(gr.outstandingAmount,(W==null?void 0:W.currency)||"USD")})]}),a.jsx(Nl,{className:`w-6 h-6 ${gr.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Avg Order"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Nt(gr.avgOrderValue,(W==null?void 0:W.currency)||"USD")})]}),a.jsx(Po,{className:"w-6 h-6 text-blue-600"})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:xe=>s(xe.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{value:o,onChange:xe=>l(xe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:d,onChange:xe=>u(xe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",V.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:V.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):V.map(xe=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:xe.id}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[xe.date," ",xe.time]})]})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Nt(xe.totalAmount,xe.currency)})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:U(xe.status),children:xe.status})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>me(xe),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),xe.status==="Draft"&&a.jsx("button",{onClick:()=>X(xe),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(xe.status)&&!xe.is_return&&ne(xe)&&a.jsx("button",{onClick:()=>yt(xe),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},xe.id))})]})})]}),pe&&a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx("button",{onClick:te,disabled:se,className:`px-4 py-2 rounded-lg font-medium transition-colors text-sm ${se?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:se?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More (${ie} loaded)`})}),!pe&&ie>0&&a.jsx("div",{className:"text-center mt-4 py-2",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["All ",ie," customer invoices loaded"]})})]}),a.jsx(Is,{}),a.jsx(rd,{invoice:f,isOpen:y,onClose:()=>k(!1),onRefund:le,onCancel:xe=>{console.log("Invoice cancelled:",xe),k(!1)}}),a.jsx(Bu,{invoice:T,isOpen:_,onClose:()=>C(!1),onSuccess:et}),A&&a.jsx(Al,{customer:B,onClose:()=>{M(!1),H(null)},onSave:Tt}),a.jsx(Dw,{isOpen:O,onClose:it,invoice:q,onGoToCart:oe,onSubmitDirect:Ue})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Uo,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ee.customer_name||ee.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer ID: ",ee.name]})]})]}),a.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",ee),H(ee),M(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Tl,{className:"w-4 h-4"}),a.jsx("span",{children:"Update Customer"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-auto pt-20 ml-20",children:[a.jsxs("div",{className:"px-6 py-8 max-w-none",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center",children:a.jsx(Wn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:ee.customer_name||ee.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Cl,{className:"w-4 h-4"}),a.jsx("span",{children:ee.email||"No email provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ju,{className:"w-4 h-4"}),a.jsx("span",{children:ee.phone||"No phone provided"})]})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(wu,{className:"w-4 h-4"}),a.jsx("span",{children:ee.territory||"No territory specified"})]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("span",{children:["Customer Group: ",ee.customer_group]})}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("span",{children:["Type: ",ee.type]})})]})]}),a.jsxs("div",{className:"text-right space-y-1",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})}),ee.creation&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ey,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",new Date(ee.creation).toLocaleDateString()]})]})}),ee.modified&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Qc,{className:"w-4 h-4"}),a.jsxs("span",{children:["Updated: ",new Date(ee.modified).toLocaleDateString()]})]})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:gr.totalInvoices})]}),a.jsx(Sl,{className:"w-8 h-8 text-beveren-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(gr.totalRevenue,(W==null?void 0:W.currency)||"USD")})]}),a.jsx(Xc,{className:"w-8 h-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Balance"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(gr.outstandingAmount,(W==null?void 0:W.currency)||"USD")})]}),a.jsx(Nl,{className:`w-8 h-8 ${gr.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Nt(gr.avgOrderValue,(W==null?void 0:W.currency)||"USD")})]}),a.jsx(Po,{className:"w-8 h-8 text-blue-600"})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:xe=>s(xe.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:o,onChange:xe=>l(xe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:d,onChange:xe=>u(xe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",V.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(W==null?void 0:W.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:V.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:W!=null&&W.is_zatca_enabled?8:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):V.map(xe=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:xe.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[xe.date," ",xe.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:xe.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:xe.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:xe.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Nt(xe.totalAmount,xe.currency)}),xe.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",Nt(xe.giftCardDiscount,xe.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:U(xe.status),children:xe.status})}),(W==null?void 0:W.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:U(xe.customZatcaSubmitStatus),children:xe.customZatcaSubmitStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>me(xe),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),xe.status==="Draft"&&a.jsx("button",{onClick:()=>X(xe),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(xe.status)&&!xe.is_return&&ne(xe)&&a.jsx("button",{onClick:()=>yt(xe),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},xe.id))})]})})]})]}),pe&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx("button",{onClick:te,disabled:se,className:`px-6 py-3 rounded-lg font-medium transition-colors ${se?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:se?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More Customer Invoices (${ie} loaded)`})}),!pe&&ie>0&&a.jsx("div",{className:"text-center mt-6 py-4",children:a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["All ",ie," customer invoices loaded"]})})]}),a.jsx(rd,{invoice:f,isOpen:y,onClose:()=>k(!1),onRefund:le,onCancel:xe=>{console.log("Invoice cancelled:",xe),k(!1)}}),a.jsx(Bu,{invoice:T,isOpen:_,onClose:()=>C(!1),onSuccess:et}),A&&a.jsx(Al,{customer:B,onClose:()=>{M(!1),H(null)},onSave:Tt}),a.jsx(Dw,{isOpen:O,onClose:it,invoice:q,onGoToCart:oe,onSubmitDirect:Ue})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Customer not found"}),a.jsx("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:"The requested customer could not be found."}),a.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded hover:bg-yellow-200 dark:hover:bg-yellow-800",children:"Go Back"})]})})}const sp={barcode:"",itemName:"",itemCode:"",itemCodeAuto:!0,uom:"Nos",uomConversions:[],hasBatch:!0,batchNumber:"",batchAuto:!0,expiryType:"months",bestBefore:"",shelfLifeMonths:0,openingStock:0,buyingPrice:0,sellingPrice:0,itemGroup:"Products"},op=800,ip=800,_D=.8,SD=e=>new Promise((r,t)=>{const s=new FileReader;s.onload=o=>{var d;const l=new Image;l.onload=()=>{const u=document.createElement("canvas");let{width:f,height:m}=l;f>m?f>op&&(m=Math.round(m*op/f),f=op):m>ip&&(f=Math.round(f*ip/m),m=ip),u.width=f,u.height=m;const y=u.getContext("2d");if(!y){t(new Error("Failed to get canvas context"));return}y.fillStyle="#FFFFFF",y.fillRect(0,0,f,m),y.drawImage(l,0,0,f,m);const k=u.toDataURL("image/jpeg",_D);r(k)},l.onerror=()=>t(new Error("Failed to load image")),l.src=(d=o.target)==null?void 0:d.result},s.onerror=()=>t(new Error("Failed to read file")),s.readAsDataURL(e)}),Iw=["Nos","Kg","Gram","Liter","ML","Box","Pack","Dozen","Piece","Unit"],CD=["Products","Services","Raw Materials","Consumables","Sub Assemblies"];function $D(){xa();const[e]=X6(),r=e.get("barcode")||"",[t,s]=S.useState(r?"add":"list"),[o,l]=S.useState(""),[d,u]=S.useState(!1),[f,m]=S.useState(!1),[y,k]=S.useState(null),[_,C]=S.useState([]),[T,E]=S.useState(!1),[A,M]=S.useState(null),[B,H]=S.useState(!1),[O,z]=S.useState(_e(Y({},sp),{barcode:r})),q=S.useCallback(W=>Ne(null,null,function*(){var be;if(t==="add"){console.log("USB Scanner detected barcode for item:",W),Ye.info(`Scanned: ${W}`,{autoClose:1500}),z(V=>_e(Y({},V),{barcode:W})),k(null);try{(be=(yield(yield fetch("/api/method/klik_pos.api.item.check_barcode_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:W}),credentials:"include"})).json()).message)!=null&&be.exists?(k(`Barcode "${W}" is already assigned to another item`),Ye.error(`Barcode "${W}" already exists!`)):Ye.success(`Barcode "${W}" is available`)}catch(V){console.error("Error checking barcode:",V)}}}),[t]);aj({onBarcodeScanned:q,enabled:t==="add",minLength:4,maxTimeBetweenChars:50});const ae=()=>Ne(null,null,function*(){var W;E(!0);try{const V=yield(yield fetch("/api/method/klik_pos.api.item.get_items_with_balance_and_price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:200,offset:0}),credentials:"include"})).json();if((W=V.message)!=null&&W.items&&V.message.items.length>0){const U=V.message.items.map(ne=>({name:ne.id,item_code:ne.id,item_name:ne.name,barcode:ne.barcode||"",image:ne.image||""}));C(U);return}throw new Error("Primary API returned no items")}catch(be){console.error("Primary fetch failed, trying fallback:",be);try{const U=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Item",fields:["name","item_code","item_name","image"],filters:{disabled:0},limit_page_length:200,order_by:"modified desc"}),credentials:"include"})).json();U.message&&U.message.length>0?C(U.message):(console.log("No items found in fallback either"),C([]))}catch(V){console.error("Fallback fetch also failed:",V),Ye.error("Failed to load items"),C([])}}finally{E(!1)}});S.useEffect(()=>{t==="list"&&ae()},[t]),S.useEffect(()=>{r||ae()},[]);const he=W=>Ne(null,null,function*(){var be;if(!W.trim())return!1;try{return((be=(yield(yield fetch("/api/method/klik_pos.api.item.check_barcode_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:W}),credentials:"include"})).json()).message)==null?void 0:be.exists)===!0}catch(V){return console.error("Error checking barcode:",V),!1}}),ee=W=>Ne(null,null,function*(){u(!1),z(V=>_e(Y({},V),{barcode:W})),k(null),(yield he(W))?(k(`Barcode "${W}" is already assigned to another item`),Ye.error(`Barcode "${W}" already exists!`)):Ye.success(`Barcode "${W}" scanned successfully`)}),Ee=W=>Ne(null,null,function*(){z(be=>_e(Y({},be),{barcode:W})),k(null),W.trim().length>=8&&(yield he(W))&&k(`Barcode "${W}" is already assigned to another item`)}),ce=W=>Ne(null,null,function*(){var V;const be=(V=W.target.files)==null?void 0:V[0];if(be){if(!be.type.startsWith("image/")){Ye.error("Please select an image file");return}if(be.size>10*1024*1024){Ye.error("Image is too large. Max 10MB allowed.");return}H(!0);try{const U=yield SD(be);M(U),Ye.success("Image uploaded and optimized")}catch(U){console.error("Image optimization error:",U),Ye.error("Failed to process image")}finally{H(!1)}}}),ue=()=>{M(null)},se=()=>{z(W=>_e(Y({},W),{uomConversions:[...W.uomConversions,{uom:"",conversionFactor:1}]}))},de=W=>{z(be=>_e(Y({},be),{uomConversions:be.uomConversions.filter((V,U)=>U!==W)}))},pe=(W,be,V)=>{z(U=>_e(Y({},U),{uomConversions:U.uomConversions.map((ne,me)=>me===W?_e(Y({},ne),{[be]:V}):ne)}))},ie=W=>Ne(null,null,function*(){var be,V;if(W.preventDefault(),!O.itemName.trim()){Ye.error("Item name is required");return}if(y){Ye.error("Please fix the barcode error before saving");return}O.sellingPrice<O.buyingPrice&&Ye.warning("Selling price is less than buying price"),m(!0);try{let U=O.itemCode;(O.itemCodeAuto||!U.trim())&&(U="");let ne=O.batchNumber;O.hasBatch&&O.batchAuto&&(ne="");let me=0,le=O.bestBefore||void 0;if(O.hasBatch){if(O.expiryType==="months"&&O.shelfLifeMonths>0){me=O.shelfLifeMonths*30;const Ue=new Date;Ue.setDate(Ue.getDate()+me),le=Ue.toISOString().split("T")[0]}else if(O.expiryType==="date"&&O.bestBefore){const Ue=new Date,it=new Date(O.bestBefore);me=Math.ceil((it.getTime()-Ue.getTime())/(1e3*60*60*24)),me<0&&(me=0),le=O.bestBefore}}const oe=yield(yield fetch("/api/method/klik_pos.api.item.create_item_with_barcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_name:O.itemName,item_code:U||void 0,item_group:O.itemGroup,stock_uom:O.uom,barcode:O.barcode||void 0,has_batch_no:O.hasBatch?1:0,has_expiry_date:O.hasBatch&&(O.shelfLifeMonths>0||O.bestBefore)?1:0,shelf_life_in_days:me>0?me:void 0,selling_price:O.sellingPrice,buying_price:O.buyingPrice,opening_stock:O.openingStock,batch_no:O.hasBatch&&!O.batchAuto?ne:void 0,expiry_date:le,image_data:A||void 0}),credentials:"include"})).json();if(oe.exc||oe.exception||oe._server_messages){let Ue="Failed to create item";if(oe._server_messages)try{const it=JSON.parse(oe._server_messages);it.length>0&&(Ue=JSON.parse(it[0]).message||Ue)}catch(it){Ue=oe.exc||oe.exception||Ue}else Ue=oe.exc||oe.exception||Ue;throw new Error(Ue)}if(!((be=oe.message)!=null&&be.success))throw new Error(((V=oe.message)==null?void 0:V.message)||"Failed to create item");Ye.success(`Item "${O.itemName}" created successfully!`),z(sp),M(null),s("list")}catch(U){console.error("Error creating item:",U);const ne=U instanceof Error?U.message:"Failed to create item";Ye.error(ne)}finally{m(!1)}}),te=_.filter(W=>{var be,V,U;return((be=W.item_name)==null?void 0:be.toLowerCase().includes(o.toLowerCase()))||((V=W.item_code)==null?void 0:V.toLowerCase().includes(o.toLowerCase()))||((U=W.barcode)==null?void 0:U.toLowerCase().includes(o.toLowerCase()))});return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[t==="add"&&a.jsx("button",{onClick:()=>{z(sp),k(null),M(null),s("list")},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(Uo,{size:20})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($l,{className:"text-beveren-600",size:24}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t==="list"?"Items":"Add New Item"})]})]}),t==="list"&&a.jsxs("button",{onClick:()=>s("add"),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Di,{size:18}),a.jsx("span",{children:"Add Item"})]})]})}),a.jsx("div",{className:"p-4",children:t==="list"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:o,onChange:W=>l(W.target.value),placeholder:"Search items by name, code, or barcode...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("button",{onClick:ae,disabled:T,className:"flex items-center space-x-2 text-beveren-600 hover:text-beveren-700",children:[a.jsx(Ii,{size:16,className:T?"animate-spin":""}),a.jsx("span",{children:"Refresh"})]}),a.jsx("div",{className:"space-y-2",children:T?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading items..."}):te.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:o?"No items found":"No items yet. Add your first item!"}):te.map(W=>a.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:W.item_name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",W.item_code]}),W.barcode&&a.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 flex items-center mt-1",children:[a.jsx(H1,{size:12,className:"mr-1"}),W.barcode]})]})})},W.name))})]}):a.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(H1,{size:20,className:"mr-2 text-beveren-600"}),"Barcode"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",value:O.barcode,onChange:W=>Ee(W.target.value),placeholder:"Enter or scan barcode",className:`w-full px-4 py-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${y?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),y&&a.jsxs("div",{className:"absolute -bottom-6 left-0 text-red-500 text-xs flex items-center",children:[a.jsx(Nl,{size:12,className:"mr-1"}),y]})]}),a.jsx("button",{type:"button",onClick:()=>u(!0),className:"px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:a.jsx(Ty,{size:20})})]}),y&&a.jsx("div",{className:"h-4"}),a.jsxs("div",{className:"mt-3 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(g9,{size:14,className:"mr-1.5 text-green-500"}),a.jsx("span",{children:"USB barcode scanner ready - just scan to auto-fill"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(W1,{size:20,className:"mr-2 text-beveren-600"}),"Item Image (Optional)"]}),a.jsxs("div",{className:"flex flex-col items-center",children:[A?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:A,alt:"Item preview",className:"w-40 h-40 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),a.jsx("button",{type:"button",onClick:ue,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(d9,{size:14})})]}):a.jsxs("label",{className:"w-40 h-40 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-beveren-500 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[B?a.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[a.jsx(Js,{size:32,className:"animate-spin mb-2"}),a.jsx("span",{className:"text-xs",children:"Optimizing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(W1,{size:32,className:"text-gray-400 mb-2"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 text-center px-2",children:"Click to upload"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"hidden",disabled:B})]}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Image will be optimized to max 800x800px"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:O.itemName,onChange:W=>z(be=>_e(Y({},be),{itemName:W.target.value})),placeholder:"Enter item name",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item Code"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:O.itemCodeAuto,onChange:W=>z(be=>_e(Y({},be),{itemCodeAuto:W.target.checked})),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate"})]})}),!O.itemCodeAuto&&a.jsx("input",{type:"text",value:O.itemCode,onChange:W=>z(be=>_e(Y({},be),{itemCode:W.target.value})),placeholder:"Enter item code",className:"w-full mt-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item Group"}),a.jsx("select",{value:O.itemGroup,onChange:W=>z(be=>_e(Y({},be),{itemGroup:W.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:CD.map(W=>a.jsx("option",{value:W,children:W},W))})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Unit of Measure"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stock UOM"}),a.jsx("select",{value:O.uom,onChange:W=>z(be=>_e(Y({},be),{uom:W.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:Iw.map(W=>a.jsx("option",{value:W,children:W},W))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"UOM Conversions (Optional)"}),a.jsxs("button",{type:"button",onClick:se,className:"text-beveren-600 hover:text-beveren-700 text-sm flex items-center",children:[a.jsx(Di,{size:16,className:"mr-1"}),"Add"]})]}),O.uomConversions.map((W,be)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("select",{value:W.uom,onChange:V=>pe(be,"uom",V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[a.jsx("option",{value:"",children:"Select UOM"}),Iw.filter(V=>V!==O.uom).map(V=>a.jsx("option",{value:V,children:V},V))]}),a.jsx("span",{className:"text-gray-500",children:"="}),a.jsx("input",{type:"number",value:W.conversionFactor,onChange:V=>pe(be,"conversionFactor",parseFloat(V.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",min:"0.001",step:"0.001"}),a.jsx("span",{className:"text-gray-500 text-sm",children:O.uom}),a.jsx("button",{type:"button",onClick:()=>de(be),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:a.jsx(ln,{size:16})})]},be))]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Batch & Expiry (Optional)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:O.hasBatch,onChange:W=>z(be=>_e(Y({},be),{hasBatch:W.target.checked})),className:"w-5 h-5 text-beveren-600 rounded"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Enable Batch Tracking"})]}),O.hasBatch&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"ml-8",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:O.batchAuto,onChange:W=>z(be=>_e(Y({},be),{batchAuto:W.target.checked})),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate Batch Number"})]}),!O.batchAuto&&a.jsx("input",{type:"text",value:O.batchNumber,onChange:W=>z(be=>_e(Y({},be),{batchNumber:W.target.value})),placeholder:"Enter batch number",className:"w-full mt-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shelf Life / Expiry"}),a.jsxs("div",{className:"flex space-x-4 mb-3",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"expiryType",checked:O.expiryType==="months",onChange:()=>z(W=>_e(Y({},W),{expiryType:"months",bestBefore:""})),className:"w-4 h-4 text-beveren-600"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shelf Life (Months)"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"expiryType",checked:O.expiryType==="date",onChange:()=>z(W=>_e(Y({},W),{expiryType:"date",shelfLifeMonths:0})),className:"w-4 h-4 text-beveren-600"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expiry Date"})]})]}),O.expiryType==="months"?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",min:"0",value:O.shelfLifeMonths||"",onChange:W=>z(be=>_e(Y({},be),{shelfLifeMonths:parseInt(W.target.value)||0})),placeholder:"Enter months",className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"months"})]}),O.shelfLifeMonths>0&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["= ",O.shelfLifeMonths*30," days shelf life"]})]}):a.jsx("input",{type:"date",value:O.bestBefore,onChange:W=>z(be=>_e(Y({},be),{bestBefore:W.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Stock & Pricing"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opening Stock Qty"}),a.jsx("input",{type:"number",value:O.openingStock,onChange:W=>z(be=>_e(Y({},be),{openingStock:parseFloat(W.target.value)||0})),placeholder:"0",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buying Price"}),a.jsx("input",{type:"number",value:O.buyingPrice,onChange:W=>z(be=>_e(Y({},be),{buyingPrice:parseFloat(W.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Selling Price"}),a.jsx("input",{type:"number",value:O.sellingPrice,onChange:W=>z(be=>_e(Y({},be),{sellingPrice:parseFloat(W.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),O.sellingPrice>0&&O.buyingPrice>0&&a.jsx("div",{className:"mt-3 text-sm",children:a.jsxs("span",{className:`${O.sellingPrice>=O.buyingPrice?"text-green-600":"text-red-600"}`,children:["Margin: ",((O.sellingPrice-O.buyingPrice)/O.buyingPrice*100).toFixed(1),"%"]})})]}),a.jsx("button",{type:"submit",disabled:f||!!y,className:`w-full py-4 rounded-lg font-semibold text-white flex items-center justify-center space-x-2 transition-colors ${f||y?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-beveren-700"}`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(Ii,{size:20,className:"animate-spin"}),a.jsx("span",{children:"Creating Item..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Q3,{size:20}),a.jsx("span",{children:"Save Item"})]})})]})}),a.jsx(ty,{isOpen:d,onClose:()=>u(!1),onBarcodeDetected:ee}),a.jsx("div",{className:"lg:hidden",children:a.jsx(Is,{})})]})}const ED=H6([{path:"/",element:a.jsx(yD,{}),children:[{index:!0,element:a.jsx(xD,{})},{path:"login",element:a.jsx(iS,{})},{path:"pos",element:a.jsx(An,{element:a.jsx(RA,{})})},{path:"dashboard",element:a.jsx(An,{element:a.jsx(PA,{})})},{path:"closing_shift",element:a.jsx(An,{element:a.jsx(RM,{})})},{path:"invoice",element:a.jsx(An,{element:a.jsx(wD,{})})},{path:"invoice/:id",element:a.jsx(An,{element:a.jsx(jD,{})})},{path:"customers",element:a.jsx(An,{element:a.jsx(gN,{})})},{path:"customers/:id",element:a.jsx(An,{element:a.jsx(kD,{})})},{path:"items",element:a.jsx(An,{element:a.jsx($D,{})})},{path:"cart",element:a.jsx(An,{element:a.jsx(LM,{})})},{path:"mobile/customers",element:a.jsx(An,{element:a.jsx(UM,{})})},{path:"mobile/add-customer",element:a.jsx(An,{element:a.jsx(FM,{})})},{path:"mobile/payment",element:a.jsx(An,{element:a.jsx(zM,{})})},{path:"settings",element:a.jsx(An,{element:a.jsx(PM,{})})},{path:"payment/:invoiceId",element:a.jsx(An,{element:a.jsx(IM,{})})}]}],{basename:"/klik_pos"}),TD=({children:e})=>a.jsx(U5,{url:"http://localhost:8000",enableSocket:!1,children:e});Vk.createRoot(document.getElementById("root")).render(a.jsx(bt.StrictMode,{children:a.jsx(TD,{children:a.jsx(nS,{router:ED})})}))});export default OD();
