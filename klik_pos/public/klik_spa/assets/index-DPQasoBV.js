var JS=Object.defineProperty,e6=Object.defineProperties;var t6=Object.getOwnPropertyDescriptors;var Df=Object.getOwnPropertySymbols;var V1=Object.prototype.hasOwnProperty,K1=Object.prototype.propertyIsEnumerable;var Rc=(e,r)=>(r=Symbol[e])?r:Symbol.for("Symbol."+e),jp=e=>{throw TypeError(e)},W1=Math.pow,wp=(e,r,t)=>r in e?JS(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Y=(e,r)=>{for(var t in r||(r={}))V1.call(r,t)&&wp(e,t,r[t]);if(Df)for(var t of Df(r))K1.call(r,t)&&wp(e,t,r[t]);return e},je=(e,r)=>e6(e,t6(r));var mr=(e,r)=>{var t={};for(var n in e)V1.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Df)for(var n of Df(e))r.indexOf(n)<0&&K1.call(e,n)&&(t[n]=e[n]);return t};var r6=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Np=(e,r,t)=>wp(e,typeof r!="symbol"?r+"":r,t),_p=(e,r,t)=>r.has(e)||jp("Cannot "+t);var st=(e,r,t)=>(_p(e,r,"read from private field"),t?t.call(e):r.get(e)),Fr=(e,r,t)=>r.has(e)?jp("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),pr=(e,r,t,n)=>(_p(e,r,"write to private field"),n?n.call(e,t):r.set(e,t),t),on=(e,r,t)=>(_p(e,r,"access private method"),t);var If=(e,r,t,n)=>({set _(i){pr(e,r,i,t)},get _(){return st(e,r,n)}});var Ne=(e,r,t)=>new Promise((n,i)=>{var l=h=>{try{f(t.next(h))}catch(d){i(d)}},c=h=>{try{f(t.throw(h))}catch(d){i(d)}},f=h=>h.done?n(h.value):Promise.resolve(h.value).then(l,c);f((t=t.apply(e,r)).next())}),jl=function(e,r){this[0]=e,this[1]=r},kp=(e,r,t)=>{var n=(c,f,h,d)=>{try{var m=t[c](f),x=(f=m.value)instanceof jl,p=m.done;Promise.resolve(x?f[0]:f).then(b=>x?n(c==="return"?c:"next",f[1]?{done:b.done,value:b.value}:b,h,d):h({value:b,done:p})).catch(b=>n("throw",b,h,d))}catch(b){d(b)}},i=c=>l[c]=f=>new Promise((h,d)=>n(c,f,h,d)),l={};return t=t.apply(e,r),l[Rc("asyncIterator")]=()=>l,i("next"),i("throw"),i("return"),l},Sp=e=>{var r=e[Rc("asyncIterator")],t=!1,n,i={};return r==null?(r=e[Rc("iterator")](),n=l=>i[l]=c=>r[l](c)):(r=r.call(e),n=l=>i[l]=c=>{if(t){if(t=!1,l==="throw")throw c;return c}return t=!0,{done:!1,value:new jl(new Promise(f=>{var h=r[l](c);h instanceof Object||jp("Object expected"),f(h)}),1)}}),i[Rc("iterator")]=()=>i,n("next"),"throw"in r?n("throw"):i.throw=l=>{throw l},"return"in r&&n("return"),i},Y1=(e,r,t)=>(r=e[Rc("asyncIterator")])?r.call(e):(e=e[Rc("iterator")](),r={},t=(n,i)=>(i=e[n])&&(r[n]=l=>new Promise((c,f,h)=>(l=i.call(e,l),h=l.done,Promise.resolve(l.value).then(d=>c({value:d,done:h}),f)))),t("next"),t("return"),r);var eF=r6(za=>{function a6(e,r){for(var t=0;t<r.length;t++){const n=r[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function Xo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cp={exports:{}},vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function n6(){if(X1)return vd;X1=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function t(n,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:l}}return vd.Fragment=r,vd.jsx=t,vd.jsxs=t,vd}var Q1;function s6(){return Q1||(Q1=1,Cp.exports=n6()),Cp.exports}var a=s6(),Ep={exports:{}},xr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function i6(){if(Z1)return xr;Z1=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function p(Z){return Z===null||typeof Z!="object"?null:(Z=x&&Z[x]||Z["@@iterator"],typeof Z=="function"?Z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function T(Z,B,de){this.props=Z,this.context=B,this.refs=k,this.updater=de||b}T.prototype.isReactComponent={},T.prototype.setState=function(Z,B){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,B,"setState")},T.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function A(){}A.prototype=T.prototype;function M(Z,B,de){this.props=Z,this.context=B,this.refs=k,this.updater=de||b}var H=M.prototype=new A;H.constructor=M,S(H,T.prototype),H.isPureReactComponent=!0;var D=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function se(Z,B,de,xe,fe,z){return de=z.ref,{$$typeof:e,type:Z,key:B,ref:de!==void 0?de:null,props:z}}function oe(Z,B){return se(Z.type,B,void 0,void 0,void 0,Z.props)}function q(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function ie(Z){var B={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(de){return B[de]})}var ee=/\/+/g;function ae(Z,B){return typeof Z=="object"&&Z!==null&&Z.key!=null?ie(""+Z.key):B.toString(36)}function J(){}function le(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(J,J):(Z.status="pending",Z.then(function(B){Z.status==="pending"&&(Z.status="fulfilled",Z.value=B)},function(B){Z.status==="pending"&&(Z.status="rejected",Z.reason=B)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function pe(Z,B,de,xe,fe){var z=typeof Z;(z==="undefined"||z==="boolean")&&(Z=null);var X=!1;if(Z===null)X=!0;else switch(z){case"bigint":case"string":case"number":X=!0;break;case"object":switch(Z.$$typeof){case e:case r:X=!0;break;case m:return X=Z._init,pe(X(Z._payload),B,de,xe,fe)}}if(X)return fe=fe(Z),X=xe===""?"."+ae(Z,0):xe,D(fe)?(de="",X!=null&&(de=X.replace(ee,"$&/")+"/"),pe(fe,B,de,"",function(ct){return ct})):fe!=null&&(q(fe)&&(fe=oe(fe,de+(fe.key==null||Z&&Z.key===fe.key?"":(""+fe.key).replace(ee,"$&/")+"/")+X)),B.push(fe)),1;X=0;var Ae=xe===""?".":xe+":";if(D(Z))for(var Ye=0;Ye<Z.length;Ye++)xe=Z[Ye],z=Ae+ae(xe,Ye),X+=pe(xe,B,de,z,fe);else if(Ye=p(Z),typeof Ye=="function")for(Z=Ye.call(Z),Ye=0;!(xe=Z.next()).done;)xe=xe.value,z=Ae+ae(xe,Ye++),X+=pe(xe,B,de,z,fe);else if(z==="object"){if(typeof Z.then=="function")return pe(le(Z),B,de,xe,fe);throw B=String(Z),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return X}function ue(Z,B,de){if(Z==null)return Z;var xe=[],fe=0;return pe(Z,xe,"","",function(z){return B.call(de,z,fe++)}),xe}function ne(Z){if(Z._status===-1){var B=Z._result;B=B(),B.then(function(de){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=de)},function(de){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=de)}),Z._status===-1&&(Z._status=0,Z._result=B)}if(Z._status===1)return Z._result.default;throw Z._result}var he=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function Le(){}return xr.Children={map:ue,forEach:function(Z,B,de){ue(Z,function(){B.apply(this,arguments)},de)},count:function(Z){var B=0;return ue(Z,function(){B++}),B},toArray:function(Z){return ue(Z,function(B){return B})||[]},only:function(Z){if(!q(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},xr.Component=T,xr.Fragment=t,xr.Profiler=i,xr.PureComponent=M,xr.StrictMode=n,xr.Suspense=h,xr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,xr.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return G.H.useMemoCache(Z)}},xr.cache=function(Z){return function(){return Z.apply(null,arguments)}},xr.cloneElement=function(Z,B,de){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var xe=S({},Z.props),fe=Z.key,z=void 0;if(B!=null)for(X in B.ref!==void 0&&(z=void 0),B.key!==void 0&&(fe=""+B.key),B)!V.call(B,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&B.ref===void 0||(xe[X]=B[X]);var X=arguments.length-2;if(X===1)xe.children=de;else if(1<X){for(var Ae=Array(X),Ye=0;Ye<X;Ye++)Ae[Ye]=arguments[Ye+2];xe.children=Ae}return se(Z.type,fe,void 0,void 0,z,xe)},xr.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:l,_context:Z},Z},xr.createElement=function(Z,B,de){var xe,fe={},z=null;if(B!=null)for(xe in B.key!==void 0&&(z=""+B.key),B)V.call(B,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(fe[xe]=B[xe]);var X=arguments.length-2;if(X===1)fe.children=de;else if(1<X){for(var Ae=Array(X),Ye=0;Ye<X;Ye++)Ae[Ye]=arguments[Ye+2];fe.children=Ae}if(Z&&Z.defaultProps)for(xe in X=Z.defaultProps,X)fe[xe]===void 0&&(fe[xe]=X[xe]);return se(Z,z,void 0,void 0,null,fe)},xr.createRef=function(){return{current:null}},xr.forwardRef=function(Z){return{$$typeof:f,render:Z}},xr.isValidElement=q,xr.lazy=function(Z){return{$$typeof:m,_payload:{_status:-1,_result:Z},_init:ne}},xr.memo=function(Z,B){return{$$typeof:d,type:Z,compare:B===void 0?null:B}},xr.startTransition=function(Z){var B=G.T,de={};G.T=de;try{var xe=Z(),fe=G.S;fe!==null&&fe(de,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(Le,he)}catch(z){he(z)}finally{G.T=B}},xr.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},xr.use=function(Z){return G.H.use(Z)},xr.useActionState=function(Z,B,de){return G.H.useActionState(Z,B,de)},xr.useCallback=function(Z,B){return G.H.useCallback(Z,B)},xr.useContext=function(Z){return G.H.useContext(Z)},xr.useDebugValue=function(){},xr.useDeferredValue=function(Z,B){return G.H.useDeferredValue(Z,B)},xr.useEffect=function(Z,B,de){var xe=G.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return xe.useEffect(Z,B)},xr.useId=function(){return G.H.useId()},xr.useImperativeHandle=function(Z,B,de){return G.H.useImperativeHandle(Z,B,de)},xr.useInsertionEffect=function(Z,B){return G.H.useInsertionEffect(Z,B)},xr.useLayoutEffect=function(Z,B){return G.H.useLayoutEffect(Z,B)},xr.useMemo=function(Z,B){return G.H.useMemo(Z,B)},xr.useOptimistic=function(Z,B){return G.H.useOptimistic(Z,B)},xr.useReducer=function(Z,B,de){return G.H.useReducer(Z,B,de)},xr.useRef=function(Z){return G.H.useRef(Z)},xr.useState=function(Z){return G.H.useState(Z)},xr.useSyncExternalStore=function(Z,B,de){return G.H.useSyncExternalStore(Z,B,de)},xr.useTransition=function(){return G.H.useTransition()},xr.version="19.1.0",xr}var J1;function Cx(){return J1||(J1=1,Ep.exports=i6()),Ep.exports}var E=Cx();const vt=Xo(E),sN=a6({__proto__:null,default:vt},[E]);var $p={exports:{}},bd={},Op={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function o6(){return e2||(e2=1,function(e){function r(ue,ne){var he=ue.length;ue.push(ne);e:for(;0<he;){var Le=he-1>>>1,Z=ue[Le];if(0<i(Z,ne))ue[Le]=ne,ue[he]=Z,he=Le;else break e}}function t(ue){return ue.length===0?null:ue[0]}function n(ue){if(ue.length===0)return null;var ne=ue[0],he=ue.pop();if(he!==ne){ue[0]=he;e:for(var Le=0,Z=ue.length,B=Z>>>1;Le<B;){var de=2*(Le+1)-1,xe=ue[de],fe=de+1,z=ue[fe];if(0>i(xe,he))fe<Z&&0>i(z,xe)?(ue[Le]=z,ue[fe]=he,Le=fe):(ue[Le]=xe,ue[de]=he,Le=de);else if(fe<Z&&0>i(z,he))ue[Le]=z,ue[fe]=he,Le=fe;else break e}}return ne}function i(ue,ne){var he=ue.sortIndex-ne.sortIndex;return he!==0?he:ue.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],d=[],m=1,x=null,p=3,b=!1,S=!1,k=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate!="undefined"?setImmediate:null;function D(ue){for(var ne=t(d);ne!==null;){if(ne.callback===null)n(d);else if(ne.startTime<=ue)n(d),ne.sortIndex=ne.expirationTime,r(h,ne);else break;ne=t(d)}}function G(ue){if(k=!1,D(ue),!S)if(t(h)!==null)S=!0,V||(V=!0,ae());else{var ne=t(d);ne!==null&&pe(G,ne.startTime-ue)}}var V=!1,se=-1,oe=5,q=-1;function ie(){return T?!0:!(e.unstable_now()-q<oe)}function ee(){if(T=!1,V){var ue=e.unstable_now();q=ue;var ne=!0;try{e:{S=!1,k&&(k=!1,M(se),se=-1),b=!0;var he=p;try{t:{for(D(ue),x=t(h);x!==null&&!(x.expirationTime>ue&&ie());){var Le=x.callback;if(typeof Le=="function"){x.callback=null,p=x.priorityLevel;var Z=Le(x.expirationTime<=ue);if(ue=e.unstable_now(),typeof Z=="function"){x.callback=Z,D(ue),ne=!0;break t}x===t(h)&&n(h),D(ue)}else n(h);x=t(h)}if(x!==null)ne=!0;else{var B=t(d);B!==null&&pe(G,B.startTime-ue),ne=!1}}break e}finally{x=null,p=he,b=!1}ne=void 0}}finally{ne?ae():V=!1}}}var ae;if(typeof H=="function")ae=function(){H(ee)};else if(typeof MessageChannel!="undefined"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=ee,ae=function(){le.postMessage(null)}}else ae=function(){A(ee,0)};function pe(ue,ne){se=A(function(){ue(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(ue){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var he=p;p=ne;try{return ue()}finally{p=he}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ue,ne){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var he=p;p=ue;try{return ne()}finally{p=he}},e.unstable_scheduleCallback=function(ue,ne,he){var Le=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Le+he:Le):he=Le,ue){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,ue={id:m++,callback:ne,priorityLevel:ue,startTime:he,expirationTime:Z,sortIndex:-1},he>Le?(ue.sortIndex=he,r(d,ue),t(h)===null&&ue===t(d)&&(k?(M(se),se=-1):k=!0,pe(G,he-Le))):(ue.sortIndex=Z,r(h,ue),S||b||(S=!0,V||(V=!0,ae()))),ue},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(ue){var ne=p;return function(){var he=p;p=ne;try{return ue.apply(this,arguments)}finally{p=he}}}}(Tp)),Tp}var t2;function l6(){return t2||(t2=1,Op.exports=o6()),Op.exports}var Ap={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2;function c6(){if(r2)return ln;r2=1;var e=Cx();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(r(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:d,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ln.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return l(h,d,null,m)},ln.flushSync=function(h){var d=c.T,m=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=d,n.p=m,n.d.f()}},ln.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},ln.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},ln.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,x=f(m,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:x,integrity:p,fetchPriority:b}):m==="script"&&n.d.X(h,{crossOrigin:x,integrity:p,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ln.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=f(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},ln.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,x=f(m,d.crossOrigin);n.d.L(h,m,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ln.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=f(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},ln.requestFormReset=function(h){n.d.r(h)},ln.unstable_batchedUpdates=function(h,d){return h(d)},ln.useFormState=function(h,d,m){return c.H.useFormState(h,d,m)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var a2;function iN(){if(a2)return Ap.exports;a2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Ap.exports=c6(),Ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function u6(){if(n2)return bd;n2=1;var e=l6(),r=Cx(),t=iN();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(n(188))}function h(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,g=o;;){var w=u.return;if(w===null)break;var C=w.alternate;if(C===null){if(g=w.return,g!==null){u=g;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===u)return f(w),s;if(C===g)return f(w),o;C=C.sibling}throw Error(n(188))}if(u.return!==g.return)u=w,g=C;else{for(var U=!1,W=w.child;W;){if(W===u){U=!0,u=w,g=C;break}if(W===g){U=!0,g=w,u=C;break}W=W.sibling}if(!U){for(W=C.child;W;){if(W===u){U=!0,u=C,g=w;break}if(W===g){U=!0,g=C,u=w;break}W=W.sibling}if(!U)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),H=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case G:return"Suspense";case V:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case H:return(s.displayName||"Context")+".Provider";case M:return(s._context.displayName||"Context")+".Consumer";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case se:return o=s.displayName||null,o!==null?o:le(s.type)||"Memo";case oe:o=s._payload,s=s._init;try{return le(s(o))}catch(u){}}return null}var pe=Array.isArray,ue=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Le=[],Z=-1;function B(s){return{current:s}}function de(s){0>Z||(s.current=Le[Z],Le[Z]=null,Z--)}function xe(s,o){Z++,Le[Z]=s.current,s.current=o}var fe=B(null),z=B(null),X=B(null),Ae=B(null);function Ye(s,o){switch(xe(X,o),xe(z,s),xe(fe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?b1(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=b1(o),s=w1(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}de(fe),xe(fe,s)}function ct(){de(fe),de(z),de(X)}function Ze(s){s.memoizedState!==null&&xe(Ae,s);var o=fe.current,u=w1(o,s.type);o!==u&&(xe(z,s),xe(fe,u))}function mt(s){z.current===s&&(de(fe),de(z)),Ae.current===s&&(de(Ae),md._currentValue=he)}var $t=Object.prototype.hasOwnProperty,ur=e.unstable_scheduleCallback,ve=e.unstable_cancelCallback,et=e.unstable_shouldYield,Tt=e.unstable_requestPaint,ge=e.unstable_now,Xe=e.unstable_getCurrentPriorityLevel,lt=e.unstable_ImmediatePriority,gr=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,re=e.unstable_LowPriority,qe=e.unstable_IdlePriority,Ke=e.log,dt=e.unstable_setDisableYieldValue,gt=null,bt=null;function ft(s){if(typeof Ke=="function"&&dt(s),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(gt,s)}catch(o){}}var be=Math.clz32?Math.clz32:xt,tt=Math.log,Ge=Math.LN2;function xt(s){return s>>>=0,s===0?32:31-(tt(s)/Ge|0)|0}var ut=256,Ut=4194304;function qt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function er(s,o,u){var g=s.pendingLanes;if(g===0)return 0;var w=0,C=s.suspendedLanes,U=s.pingedLanes;s=s.warmLanes;var W=g&134217727;return W!==0?(g=W&~C,g!==0?w=qt(g):(U&=W,U!==0?w=qt(U):u||(u=W&~s,u!==0&&(w=qt(u))))):(W=g&~C,W!==0?w=qt(W):U!==0?w=qt(U):u||(u=g&~s,u!==0&&(w=qt(u)))),w===0?0:o!==0&&o!==w&&(o&C)===0&&(C=w&-w,u=o&-o,C>=u||C===32&&(u&4194048)!==0)?o:w}function nr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function vr(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(){var s=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),s}function yr(){var s=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),s}function Gr(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Xa(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function _n(s,o,u,g,w,C){var U=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var W=s.entanglements,ye=s.expirationTimes,Ie=s.hiddenUpdates;for(u=U&~u;0<u;){var rt=31-be(u),ot=1<<rt;W[rt]=0,ye[rt]=-1;var Fe=Ie[rt];if(Fe!==null)for(Ie[rt]=null,rt=0;rt<Fe.length;rt++){var He=Fe[rt];He!==null&&(He.lane&=-536870913)}u&=~ot}g!==0&&Qa(s,g,0),C!==0&&w===0&&s.tag!==0&&(s.suspendedLanes|=C&~(U&~o))}function Qa(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var g=31-be(o);s.entangledLanes|=o,s.entanglements[g]=s.entanglements[g]|1073741824|u&4194090}function Be(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var g=31-be(u),w=1<<g;w&o|s[g]&o&&(s[g]|=o),u&=~w}}function at(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function $r(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function me(){var s=ne.p;return s!==0?s:(s=window.event,s===void 0?32:F1(s.type))}function $e(s,o){var u=ne.p;try{return ne.p=s,o()}finally{ne.p=u}}var De=Math.random().toString(36).slice(2),We="__reactFiber$"+De,Te="__reactProps$"+De,Nt="__reactContainer$"+De,It="__reactEvents$"+De,Bt="__reactListeners$"+De,Rt="__reactHandles$"+De,sr="__reactResources$"+De,Ft="__reactMarker$"+De;function tr(s){delete s[We],delete s[Te],delete s[It],delete s[Bt],delete s[Rt]}function dr(s){var o=s[We];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Nt]||u[We]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=k1(s);s!==null;){if(u=s[We])return u;s=k1(s)}return o}s=u,u=s.parentNode}return null}function Rr(s){if(s=s[We]||s[Nt]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function qr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function Or(s){var o=s[sr];return o||(o=s[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Yt(s){s[Ft]=!0}var Ht=new Set,Tr={};function Br(s,o){sa(s,o),sa(s+"Capture",o)}function sa(s,o){for(Tr[s]=o,s=0;s<o.length;s++)Ht.add(o[s])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},Ga={};function Zt(s){return $t.call(Ga,s)?!0:$t.call(ea,s)?!1:Zr.test(s)?Ga[s]=!0:(ea[s]=!0,!1)}function la(s,o,u){if(Zt(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Ea(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function fr(s,o,u,g){if(g===null)s.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+g)}}var ca,Aa;function ha(s){if(ca===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ca=o&&o[1]||"",Aa=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+s+Aa}var Za=!1;function Oe(s,o){if(!s||Za)return"";Za=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(He){var Fe=He}Reflect.construct(s,[],ot)}else{try{ot.call()}catch(He){Fe=He}s.call(ot.prototype)}}else{try{throw Error()}catch(He){Fe=He}(ot=s())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(He){if(He&&Fe&&typeof He.stack=="string")return[He.stack,Fe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),U=C[0],W=C[1];if(U&&W){var ye=U.split(`
`),Ie=W.split(`
`);for(w=g=0;g<ye.length&&!ye[g].includes("DetermineComponentFrameRoot");)g++;for(;w<Ie.length&&!Ie[w].includes("DetermineComponentFrameRoot");)w++;if(g===ye.length||w===Ie.length)for(g=ye.length-1,w=Ie.length-1;1<=g&&0<=w&&ye[g]!==Ie[w];)w--;for(;1<=g&&0<=w;g--,w--)if(ye[g]!==Ie[w]){if(g!==1||w!==1)do if(g--,w--,0>w||ye[g]!==Ie[w]){var rt=`
`+ye[g].replace(" at new "," at ");return s.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",s.displayName)),rt}while(1<=g&&0<=w);break}}}finally{Za=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?ha(u):""}function it(s){switch(s.tag){case 26:case 27:case 5:return ha(s.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return Oe(s.type,!1);case 11:return Oe(s.type.render,!1);case 1:return Oe(s.type,!0);case 31:return ha("Activity");default:return""}}function kt(s){try{var o="";do o+=it(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ot(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Lt(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ar(s){var o=Lt(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,C=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return w.call(this)},set:function(U){g=""+U,C.call(this,U)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(U){g=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Wt(s){s._valueTracker||(s._valueTracker=ar(s))}function kr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),g="";return s&&(g=Lt(s)?s.checked?"true":"false":s.value),s=g,s!==u?(o.setValue(s),!0):!1}function Dr(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(o){return s.body}}var ra=/[\n"\\]/g;function zr(s){return s.replace(ra,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ra(s,o,u,g,w,C,U,W){s.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.type=U:s.removeAttribute("type"),o!=null?U==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ot(o)):s.value!==""+Ot(o)&&(s.value=""+Ot(o)):U!=="submit"&&U!=="reset"||s.removeAttribute("value"),o!=null?gi(s,U,Ot(o)):u!=null?gi(s,U,Ot(u)):g!=null&&s.removeAttribute("value"),w==null&&C!=null&&(s.defaultChecked=!!C),w!=null&&(s.checked=w&&typeof w!="function"&&typeof w!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.name=""+Ot(W):s.removeAttribute("name")}function vs(s,o,u,g,w,C,U,W){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null))return;u=u!=null?""+Ot(u):"",o=o!=null?""+Ot(o):u,W||o===s.value||(s.value=o),s.defaultValue=o}g=g!=null?g:w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=W?s.checked:!!g,s.defaultChecked=!!g,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.name=U)}function gi(s,o,u){o==="number"&&Dr(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function In(s,o,u,g){if(s=s.options,o){o={};for(var w=0;w<u.length;w++)o["$"+u[w]]=!0;for(u=0;u<s.length;u++)w=o.hasOwnProperty("$"+s[u].value),s[u].selected!==w&&(s[u].selected=w),w&&g&&(s[u].defaultSelected=!0)}else{for(u=""+Ot(u),o=null,w=0;w<s.length;w++){if(s[w].value===u){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}o!==null||s[w].disabled||(o=s[w])}o!==null&&(o.selected=!0)}}function pi(s,o,u){if(o!=null&&(o=""+Ot(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Ot(u):""}function tl(s,o,u,g){if(o==null){if(g!=null){if(u!=null)throw Error(n(92));if(pe(g)){if(1<g.length)throw Error(n(93));g=g[0]}u=g}u==null&&(u=""),o=u}u=Ot(o),s.defaultValue=u,g=s.textContent,g===u&&g!==""&&g!==null&&(s.value=g)}function Ws(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Xl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(s,o,u){var g=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":g?s.setProperty(o,u):typeof u!="number"||u===0||Xl.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function rl(s,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var w in o)g=o[w],o.hasOwnProperty(w)&&u[w]!==g&&Ql(s,w,g)}else for(var C in o)o.hasOwnProperty(C)&&Ql(s,C,o[C])}function yi(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(s){return Nu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var al=null;function xi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bs=null,Ys=null;function nl(s){var o=Rr(s);if(o&&(s=o.stateNode)){var u=s[Te]||null;e:switch(s=o.stateNode,o.type){case"input":if(Ra(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+zr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var g=u[o];if(g!==s&&g.form===s.form){var w=g[Te]||null;if(!w)throw Error(n(90));Ra(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<u.length;o++)g=u[o],g.form===s.form&&kr(g)}break e;case"textarea":pi(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&In(s,!!u.multiple,o,!1)}}}var kn=!1;function sl(s,o,u){if(kn)return s(o,u);kn=!0;try{var g=s(o);return g}finally{if(kn=!1,(bs!==null||Ys!==null)&&(gf(),bs&&(o=bs,s=Ys,Ys=bs=null,nl(o),s)))for(o=0;o<s.length;o++)nl(s[o])}}function rs(s,o){var u=s.stateNode;if(u===null)return null;var g=u[Te]||null;if(g===null)return null;u=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ja=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ro=!1;if(Ja)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){ro=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch(s){ro=!1}var dn=null,en=null,js=null;function vi(){if(js)return js;var s,o=en,u=o.length,g,w="value"in dn?dn.value:dn.textContent,C=w.length;for(s=0;s<u&&o[s]===w[s];s++);var U=u-s;for(g=1;g<=U&&o[u-g]===w[C-g];g++);return js=w.slice(s,1<g?1-g:void 0)}function Ln(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function bi(){return!0}function il(){return!1}function Pa(s){function o(u,g,w,C,U){this._reactName=u,this._targetInst=w,this.type=g,this.nativeEvent=C,this.target=U,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(u=s[W],this[W]=u?u(C):C[W]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?bi:il,this.isPropagationStopped=il,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),o}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Pa(fn),Xs=m({},fn,{view:0,detail:0}),Lr=Pa(Xs),P,F,Q,te=m({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Q&&(Q&&s.type==="mousemove"?(P=s.screenX-Q.screenX,F=s.screenY-Q.screenY):F=P=0,Q=s),P)},movementY:function(s){return"movementY"in s?s.movementY:F}}),Se=Pa(te),Pe=m({},te,{dataTransfer:0}),Ee=Pa(Pe),pt=m({},Xs,{relatedTarget:0}),St=Pa(pt),yt=m({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ct=Pa(yt),zt=m({},fn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hr=Pa(zt),ir=m({},fn,{data:0}),Vt=Pa(ir),At={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aa(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=ua[s])?!!o[s]:!1}function tn(){return aa}var Ns=m({},Xs,{key:function(s){if(s.key){var o=At[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ln(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ja[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tn,charCode:function(s){return s.type==="keypress"?Ln(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ln(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Un=Pa(Ns),_s=m({},te,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=Pa(_s),wi=m({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tn}),Zl=Pa(wi),Jl=m({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xm=Pa(Jl),ec=m({},te,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=Pa(ec),Zm=m({},fn,{newState:0,oldState:0}),k0=Pa(Zm),tc=[9,13,27,32],_u=Ja&&"CompositionEvent"in window,ol=null;Ja&&"documentMode"in document&&(ol=document.documentMode);var S0=Ja&&"TextEvent"in window&&!ol,C0=Ja&&(!_u||ol&&8<ol&&11>=ol),E0=" ",$0=!1;function ku(s,o){switch(s){case"keyup":return tc.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qs=!1;function T0(s,o){switch(s){case"compositionend":return O0(o);case"keypress":return o.which!==32?null:($0=!0,E0);case"textInput":return s=o.data,s===E0&&$0?null:s;default:return null}}function A0(s,o){if(Qs)return s==="compositionend"||!_u&&ku(s,o)?(s=vi(),js=en=dn=null,Qs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return C0&&o.locale!=="ko"?null:o.data;default:return null}}var R0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!R0[s.type]:o==="textarea"}function P0(s,o,u,g){bs?Ys?Ys.push(g):Ys=[g]:bs=g,o=wf(o,"onChange"),0<o.length&&(u=new Ma("onChange","change",null,u,g),s.push({event:u,listeners:o}))}var ll=null,no=null;function Jm(s){g1(s,0)}function cl(s){var o=qr(s);if(kr(o))return s}function Su(s,o){if(s==="change")return o}var ks=!1;if(Ja){var Cu;if(Ja){var ac="oninput"in document;if(!ac){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),ac=typeof M0.oninput=="function"}Cu=ac}else Cu=!1;ks=Cu&&(!document.documentMode||9<document.documentMode)}function D0(){ll&&(ll.detachEvent("onpropertychange",Eu),no=ll=null)}function Eu(s){if(s.propertyName==="value"&&cl(no)){var o=[];P0(o,no,s,xi(s)),sl(Jm,o)}}function eg(s,o,u){s==="focusin"?(D0(),ll=o,no=u,ll.attachEvent("onpropertychange",Eu)):s==="focusout"&&D0()}function I0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return cl(no)}function tg(s,o){if(s==="click")return cl(o)}function L0(s,o){if(s==="input"||s==="change")return cl(o)}function ul(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var rn=typeof Object.is=="function"?Object.is:ul;function dl(s,o){if(rn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),g=Object.keys(o);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var w=u[g];if(!$t.call(o,w)||!rn(s[w],o[w]))return!1}return!0}function $u(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ou(s,o){var u=$u(s);s=0;for(var g;u;){if(u.nodeType===3){if(g=s+u.textContent.length,s<=o&&g>=o)return{node:u,offset:o-s};s=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$u(u)}}function nc(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?nc(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tu(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Dr(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch(g){u=!1}if(u)s=o.contentWindow;else break;o=Dr(s.document)}return o}function Au(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var U0=Ja&&"documentMode"in document&&11>=document.documentMode,ji=null,Ru=null,so=null,io=!1;function fl(s,o,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;io||ji==null||ji!==Dr(g)||(g=ji,"selectionStart"in g&&Au(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),so&&dl(so,g)||(so=g,g=wf(Ru,"onSelect"),0<g.length&&(o=new Ma("onSelect","select",null,o,u),s.push({event:o,listeners:g}),o.target=ji)))}function as(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var oo={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},sc={},lo={};Ja&&(lo=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Ss(s){if(sc[s])return sc[s];if(!oo[s])return s;var o=oo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in lo)return sc[s]=o[u];return s}var Zs=Ss("animationend"),F0=Ss("animationiteration"),B0=Ss("animationstart"),rg=Ss("transitionrun"),ag=Ss("transitionstart"),ng=Ss("transitioncancel"),z0=Ss("transitionend"),ic=new Map,oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oc.push("scrollEnd");function Fn(s,o){ic.set(s,o),Br(o,[s])}var Pu=new WeakMap;function Na(s,o){if(typeof s=="object"&&s!==null){var u=Pu.get(s);return u!==void 0?u:(o={value:s,source:o,stack:kt(o)},Pu.set(s,o),o)}return{value:s,source:o,stack:kt(o)}}var Sn=[],Ni=0,lc=0;function cc(){for(var s=Ni,o=lc=Ni=0;o<s;){var u=Sn[o];Sn[o++]=null;var g=Sn[o];Sn[o++]=null;var w=Sn[o];Sn[o++]=null;var C=Sn[o];if(Sn[o++]=null,g!==null&&w!==null){var U=g.pending;U===null?w.next=w:(w.next=U.next,U.next=w),g.pending=w}C!==0&&Du(u,w,C)}}function hl(s,o,u,g){Sn[Ni++]=s,Sn[Ni++]=o,Sn[Ni++]=u,Sn[Ni++]=g,lc|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Mu(s,o,u,g){return hl(s,o,u,g),ml(s)}function co(s,o){return hl(s,null,null,o),ml(s)}function Du(s,o,u){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u);for(var w=!1,C=s.return;C!==null;)C.childLanes|=u,g=C.alternate,g!==null&&(g.childLanes|=u),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(w=!0)),s=C,C=C.return;return s.tag===3?(C=s.stateNode,w&&o!==null&&(w=31-be(u),s=C.hiddenUpdates,g=s[w],g===null?s[w]=[o]:g.push(o),o.lane=u|536870912),C):null}function ml(s){if(50<id)throw id=0,Gg=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var uo={};function q0(s,o,u,g){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(s,o,u,g){return new q0(s,o,u,g)}function _i(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Cn(s,o){var u=s.alternate;return u===null?(u=Da(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Iu(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function uc(s,o,u,g,w,C){var U=0;if(g=s,typeof s=="function")_i(s)&&(U=1);else if(typeof s=="string")U=FS(s,u,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Da(31,u,o,w),s.elementType=q,s.lanes=C,s;case S:return Js(u.children,w,C,o);case k:U=8,w|=24;break;case T:return s=Da(12,u,o,w|2),s.elementType=T,s.lanes=C,s;case G:return s=Da(13,u,o,w),s.elementType=G,s.lanes=C,s;case V:return s=Da(19,u,o,w),s.elementType=V,s.lanes=C,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case H:U=10;break e;case M:U=9;break e;case D:U=11;break e;case se:U=14;break e;case oe:U=16,g=null;break e}U=29,u=Error(n(130,s===null?"null":typeof s,"")),g=null}return o=Da(U,u,o,w),o.elementType=s,o.type=g,o.lanes=C,o}function Js(s,o,u,g){return s=Da(7,s,g,o),s.lanes=u,s}function dc(s,o,u){return s=Da(6,s,null,o),s.lanes=u,s}function Lu(s,o,u){return o=Da(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Cs=[],ki=0,fc=null,hc=0,En=[],$n=0,Si=null,Es=1,ns="";function Ci(s,o){Cs[ki++]=hc,Cs[ki++]=fc,fc=s,hc=o}function H0(s,o,u){En[$n++]=Es,En[$n++]=ns,En[$n++]=Si,Si=s;var g=Es;s=ns;var w=32-be(g)-1;g&=~(1<<w),u+=1;var C=32-be(o)+w;if(30<C){var U=w-w%5;C=(g&(1<<U)-1).toString(32),g>>=U,w-=U,Es=1<<32-be(o)+w|u<<w|g,ns=C+s}else Es=1<<C|u<<w|g,ns=s}function mc(s){s.return!==null&&(Ci(s,1),H0(s,1,0))}function Uu(s){for(;s===fc;)fc=Cs[--ki],Cs[ki]=null,hc=Cs[--ki],Cs[ki]=null;for(;s===Si;)Si=En[--$n],En[$n]=null,ns=En[--$n],En[$n]=null,Es=En[--$n],En[$n]=null}var _a=null,Sr=null,Ir=!1,hn=null,ka=!1,gl=Error(n(519));function Ia(s){var o=Error(n(418,""));throw ma(Na(o,s)),gl}function pl(s){var o=s.stateNode,u=s.type,g=s.memoizedProps;switch(o[We]=s,o[Te]=g,u){case"dialog":Er("cancel",o),Er("close",o);break;case"iframe":case"object":case"embed":Er("load",o);break;case"video":case"audio":for(u=0;u<ld.length;u++)Er(ld[u],o);break;case"source":Er("error",o);break;case"img":case"image":case"link":Er("error",o),Er("load",o);break;case"details":Er("toggle",o);break;case"input":Er("invalid",o),vs(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Wt(o);break;case"select":Er("invalid",o);break;case"textarea":Er("invalid",o),tl(o,g.value,g.defaultValue,g.children),Wt(o)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||g.suppressHydrationWarning===!0||v1(o.textContent,u)?(g.popover!=null&&(Er("beforetoggle",o),Er("toggle",o)),g.onScroll!=null&&Er("scroll",o),g.onScrollEnd!=null&&Er("scrollend",o),g.onClick!=null&&(o.onclick=jf),o=!0):o=!1,o||Ia(s)}function Ei(s){for(_a=s.return;_a;)switch(_a.tag){case 5:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:_a=_a.return}}function ia(s){if(s!==_a)return!1;if(!Ir)return Ei(s),Ir=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||op(s.type,s.memoizedProps)),u=!u),u&&Sr&&Ia(s),Ei(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Sr=As(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Sr=null}}else o===27?(o=Sr,ko(s.type)?(s=dp,dp=null,Sr=s):Sr=o):Sr=_a?As(s.stateNode.nextSibling):null;return!0}function On(){Sr=_a=null,Ir=!1}function Bn(){var s=hn;return s!==null&&(Pn===null?Pn=s:Pn.push.apply(Pn,s),hn=null),s}function ma(s){hn===null?hn=[s]:hn.push(s)}var $i=B(null),ei=null,$s=null;function mn(s,o,u){xe($i,o._currentValue),o._currentValue=u}function Va(s){s._currentValue=$i.current,de($i)}function Fu(s,o,u){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===u)break;s=s.return}}function Bu(s,o,u,g){var w=s.child;for(w!==null&&(w.return=s);w!==null;){var C=w.dependencies;if(C!==null){var U=w.child;C=C.firstContext;e:for(;C!==null;){var W=C;C=w;for(var ye=0;ye<o.length;ye++)if(W.context===o[ye]){C.lanes|=u,W=C.alternate,W!==null&&(W.lanes|=u),Fu(C.return,u,s),g||(U=null);break e}C=W.next}}else if(w.tag===18){if(U=w.return,U===null)throw Error(n(341));U.lanes|=u,C=U.alternate,C!==null&&(C.lanes|=u),Fu(U,u,s),U=null}else U=w.child;if(U!==null)U.return=w;else for(U=w;U!==null;){if(U===s){U=null;break}if(w=U.sibling,w!==null){w.return=U.return,U=w;break}U=U.return}w=U}}function yl(s,o,u,g){s=null;for(var w=o,C=!1;w!==null;){if(!C){if((w.flags&524288)!==0)C=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var U=w.alternate;if(U===null)throw Error(n(387));if(U=U.memoizedProps,U!==null){var W=w.type;rn(w.pendingProps.value,U.value)||(s!==null?s.push(W):s=[W])}}else if(w===Ae.current){if(U=w.alternate,U===null)throw Error(n(387));U.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(s!==null?s.push(md):s=[md])}w=w.return}s!==null&&Bu(o,s,u,g),o.flags|=262144}function gc(s){for(s=s.firstContext;s!==null;){if(!rn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Oi(s){ei=s,$s=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function La(s){return G0(ei,s)}function pc(s,o){return ei===null&&Oi(s),G0(s,o)}function G0(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},$s===null){if(s===null)throw Error(n(308));$s=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else $s=$s.next=o;return u}var V0=typeof AbortController!="undefined"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,g){s.push(g)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},sg=e.unstable_scheduleCallback,K0=e.unstable_NormalPriority,ga={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new V0,data:new Map,refCount:0}}function fo(s){s.refCount--,s.refCount===0&&sg(K0,function(){s.controller.abort()})}var ti=null,Tn=0,ho=0,mo=null;function ig(s,o){if(ti===null){var u=ti=[];Tn=0,ho=Zg(),mo={status:"pending",value:void 0,then:function(g){u.push(g)}}}return Tn++,o.then(qu,qu),o}function qu(){if(--Tn===0&&ti!==null){mo!==null&&(mo.status="fulfilled");var s=ti;ti=null,ho=0,mo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function W0(s,o){var u=[],g={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return s.then(function(){g.status="fulfilled",g.value=o;for(var w=0;w<u.length;w++)(0,u[w])(o)},function(w){for(g.status="rejected",g.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),g}var Y0=ue.S;ue.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ig(s,o),Y0!==null&&Y0(s,o)};var ri=B(null);function ss(){var s=ri.current;return s!==null?s:ta.pooledCache}function ai(s,o){o===null?xe(ri,ri.current):xe(ri,o.pool)}function Hu(){var s=ss();return s===null?null:{parent:ga._currentValue,pool:s}}var v=Error(n(460)),N=Error(n(474)),y=Error(n(542)),j={then:function(){}};function _(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $(){}function O(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then($,$),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,I(s),s;default:if(typeof o.status=="string")o.then($,$);else{if(s=ta,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(g){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=g}},function(g){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,I(s),s}throw R=o,v}}var R=null;function L(){if(R===null)throw Error(n(459));var s=R;return R=null,s}function I(s){if(s===v||s===y)throw Error(n(483))}var K=!1;function ce(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function we(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ke(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ze(s,o,u){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Kr&2)!==0){var w=g.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),g.pending=o,o=ml(s),Du(s,null,u),o}return hl(s,g,o,u),ml(s)}function _e(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var g=o.lanes;g&=s.pendingLanes,u|=g,o.lanes=u,Be(s,u)}}function Ue(s,o){var u=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var w=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var U={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?w=C=U:C=C.next=U,u=u.next}while(u!==null);C===null?w=C=o:C=C.next=o}else w=C=o;u={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Qe=!1;function Je(){if(Qe){var s=mo;if(s!==null)throw s}}function Et(s,o,u,g){Qe=!1;var w=s.updateQueue;K=!1;var C=w.firstBaseUpdate,U=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var ye=W,Ie=ye.next;ye.next=null,U===null?C=Ie:U.next=Ie,U=ye;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,W=rt.lastBaseUpdate,W!==U&&(W===null?rt.firstBaseUpdate=Ie:W.next=Ie,rt.lastBaseUpdate=ye))}if(C!==null){var ot=w.baseState;U=0,rt=Ie=ye=null,W=C;do{var Fe=W.lane&-536870913,He=Fe!==W.lane;if(He?(Mr&Fe)===Fe:(g&Fe)===Fe){Fe!==0&&Fe===ho&&(Qe=!0),rt!==null&&(rt=rt.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var or=s,Jt=W;Fe=o;var Qr=u;switch(Jt.tag){case 1:if(or=Jt.payload,typeof or=="function"){ot=or.call(Qr,ot,Fe);break e}ot=or;break e;case 3:or.flags=or.flags&-65537|128;case 0:if(or=Jt.payload,Fe=typeof or=="function"?or.call(Qr,ot,Fe):or,Fe==null)break e;ot=m({},ot,Fe);break e;case 2:K=!0}}Fe=W.callback,Fe!==null&&(s.flags|=64,He&&(s.flags|=8192),He=w.callbacks,He===null?w.callbacks=[Fe]:He.push(Fe))}else He={lane:Fe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},rt===null?(Ie=rt=He,ye=ot):rt=rt.next=He,U|=Fe;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;He=W,W=He.next,He.next=null,w.lastBaseUpdate=He,w.shared.pending=null}}while(!0);rt===null&&(ye=ot),w.baseState=ye,w.firstBaseUpdate=Ie,w.lastBaseUpdate=rt,C===null&&(w.shared.lanes=0),wo|=U,s.lanes=U,s.memoizedState=ot}}function wt(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Qt(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)wt(u[s],o)}var cr=B(null),lr=B(0);function br(s,o){s=Ii,xe(lr,s),xe(cr,o),Ii=s|o.baseLanes}function an(){xe(lr,Ii),xe(cr,cr.current)}function gn(){Ii=lr.current,de(cr),de(lr)}var Yr=0,hr=null,jr=null,Vr=null,zn=!1,nn=!1,Pr=!1,sn=0,Os=0,pn=null,is=0;function Xt(){throw Error(n(321))}function ba(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!rn(s[u],o[u]))return!1;return!0}function Gu(s,o,u,g,w,C){return Yr=C,hr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ue.H=s===null||s.memoizedState===null?Jv:eb,Pr=!1,C=u(g,w),Pr=!1,nn&&(C=Ku(o,u,g,w)),Vu(s),C}function Vu(s){ue.H=tf;var o=jr!==null&&jr.next!==null;if(Yr=0,Vr=jr=hr=null,zn=!1,Os=0,pn=null,o)throw Error(n(300));s===null||Ua||(s=s.dependencies,s!==null&&gc(s)&&(Ua=!0))}function Ku(s,o,u,g){hr=s;var w=0;do{if(nn&&(pn=null),Os=0,nn=!1,25<=w)throw Error(n(301));if(w+=1,Vr=jr=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ue.H=Qk,C=o(u,g)}while(nn);return C}function Gk(){var s=ue.H,o=s.useState()[0];return o=typeof o.then=="function"?Wu(o):o,s=s.useState()[0],(jr!==null?jr.memoizedState:null)!==s&&(hr.flags|=1024),o}function og(){var s=sn!==0;return sn=0,s}function lg(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function cg(s){if(zn){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}zn=!1}Yr=0,Vr=jr=hr=null,nn=!1,Os=sn=0,pn=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?hr.memoizedState=Vr=s:Vr=Vr.next=s,Vr}function Sa(){if(jr===null){var s=hr.alternate;s=s!==null?s.memoizedState:null}else s=jr.next;var o=Vr===null?hr.memoizedState:Vr.next;if(o!==null)Vr=o,jr=s;else{if(s===null)throw hr.alternate===null?Error(n(467)):Error(n(310));jr=s,s={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Vr===null?hr.memoizedState=Vr=s:Vr=Vr.next=s}return Vr}function ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(s){var o=Os;return Os+=1,pn===null&&(pn=[]),s=O(pn,s,o),o=hr,(Vr===null?o.memoizedState:Vr.next)===null&&(o=o.alternate,ue.H=o===null||o.memoizedState===null?Jv:eb),s}function X0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wu(s);if(s.$$typeof===H)return La(s)}throw Error(n(438,String(s)))}function dg(s){var o=null,u=hr.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var g=hr.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=ug(),hr.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),g=0;g<s;g++)u[g]=ie;return o.index++,u}function Ti(s,o){return typeof o=="function"?o(s):o}function Q0(s){var o=Sa();return fg(o,jr,s)}function fg(s,o,u){var g=s.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=s.baseQueue,C=g.pending;if(C!==null){if(w!==null){var U=w.next;w.next=C.next,C.next=U}o.baseQueue=w=C,g.pending=null}if(C=s.baseState,w===null)s.memoizedState=C;else{o=w.next;var W=U=null,ye=null,Ie=o,rt=!1;do{var ot=Ie.lane&-536870913;if(ot!==Ie.lane?(Mr&ot)===ot:(Yr&ot)===ot){var Fe=Ie.revertLane;if(Fe===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),ot===ho&&(rt=!0);else if((Yr&Fe)===Fe){Ie=Ie.next,Fe===ho&&(rt=!0);continue}else ot={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ye===null?(W=ye=ot,U=C):ye=ye.next=ot,hr.lanes|=Fe,wo|=Fe;ot=Ie.action,Pr&&u(C,ot),C=Ie.hasEagerState?Ie.eagerState:u(C,ot)}else Fe={lane:ot,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ye===null?(W=ye=Fe,U=C):ye=ye.next=Fe,hr.lanes|=ot,wo|=ot;Ie=Ie.next}while(Ie!==null&&Ie!==o);if(ye===null?U=C:ye.next=W,!rn(C,s.memoizedState)&&(Ua=!0,rt&&(u=mo,u!==null)))throw u;s.memoizedState=C,s.baseState=U,s.baseQueue=ye,g.lastRenderedState=C}return w===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function hg(s){var o=Sa(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var g=u.dispatch,w=u.pending,C=o.memoizedState;if(w!==null){u.pending=null;var U=w=w.next;do C=s(C,U.action),U=U.next;while(U!==w);rn(C,o.memoizedState)||(Ua=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,g]}function vv(s,o,u){var g=hr,w=Sa(),C=Ir;if(C){if(u===void 0)throw Error(n(407));u=u()}else u=o();var U=!rn((jr||w).memoizedState,u);U&&(w.memoizedState=u,Ua=!0),w=w.queue;var W=jv.bind(null,g,w,s);if(Yu(2048,8,W,[s]),w.getSnapshot!==o||U||Vr!==null&&Vr.memoizedState.tag&1){if(g.flags|=2048,yc(9,Z0(),wv.bind(null,g,w,u,o),null),ta===null)throw Error(n(349));C||(Yr&124)!==0||bv(g,o,u)}return u}function bv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=hr.updateQueue,o===null?(o=ug(),hr.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function wv(s,o,u,g){o.value=u,o.getSnapshot=g,Nv(o)&&_v(s)}function jv(s,o,u){return u(function(){Nv(o)&&_v(s)})}function Nv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!rn(s,u)}catch(g){return!0}}function _v(s){var o=co(s,2);o!==null&&Kn(o,s,2)}function mg(s){var o=An();if(typeof s=="function"){var u=s;if(s=u(),Pr){ft(!0);try{u()}finally{ft(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},o}function kv(s,o,u,g){return s.baseState=u,fg(s,jr,typeof g=="function"?g:Ti)}function Vk(s,o,u,g,w){if(ef(s))throw Error(n(485));if(s=o.action,s!==null){var C={payload:w,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){C.listeners.push(U)}};ue.T!==null?u(!0):C.isTransition=!1,g(C),u=o.pending,u===null?(C.next=o.pending=C,Sv(o,C)):(C.next=u.next,o.pending=u.next=C)}}function Sv(s,o){var u=o.action,g=o.payload,w=s.state;if(o.isTransition){var C=ue.T,U={};ue.T=U;try{var W=u(w,g),ye=ue.S;ye!==null&&ye(U,W),Cv(s,o,W)}catch(Ie){gg(s,o,Ie)}finally{ue.T=C}}else try{C=u(w,g),Cv(s,o,C)}catch(Ie){gg(s,o,Ie)}}function Cv(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){Ev(s,o,g)},function(g){return gg(s,o,g)}):Ev(s,o,u)}function Ev(s,o,u){o.status="fulfilled",o.value=u,$v(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Sv(s,u)))}function gg(s,o,u){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=u,$v(o),o=o.next;while(o!==g)}s.action=null}function $v(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Ov(s,o){return o}function Tv(s,o){if(Ir){var u=ta.formState;if(u!==null){e:{var g=hr;if(Ir){if(Sr){t:{for(var w=Sr,C=ka;w.nodeType!==8;){if(!C){w=null;break t}if(w=As(w.nextSibling),w===null){w=null;break t}}C=w.data,w=C==="F!"||C==="F"?w:null}if(w){Sr=As(w.nextSibling),g=w.data==="F!";break e}}Ia(g)}g=!1}g&&(o=u[0])}}return u=An(),u.memoizedState=u.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ov,lastRenderedState:o},u.queue=g,u=Xv.bind(null,hr,g),g.dispatch=u,g=mg(!1),C=bg.bind(null,hr,!1,g.queue),g=An(),w={state:o,dispatch:null,action:s,pending:null},g.queue=w,u=Vk.bind(null,hr,w,C,u),w.dispatch=u,g.memoizedState=s,[o,u,!1]}function Av(s){var o=Sa();return Rv(o,jr,s)}function Rv(s,o,u){if(o=fg(s,o,Ov)[0],s=Q0(Ti)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Wu(o)}catch(U){throw U===v?y:U}else g=o;o=Sa();var w=o.queue,C=w.dispatch;return u!==o.memoizedState&&(hr.flags|=2048,yc(9,Z0(),Kk.bind(null,w,u),null)),[g,C,s]}function Kk(s,o){s.action=o}function Pv(s){var o=Sa(),u=jr;if(u!==null)return Rv(o,u,s);Sa(),o=o.memoizedState,u=Sa();var g=u.queue.dispatch;return u.memoizedState=s,[o,g,!1]}function yc(s,o,u,g){return s={tag:s,create:u,deps:g,inst:o,next:null},o=hr.updateQueue,o===null&&(o=ug(),hr.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(g=u.next,u.next=s,s.next=g,o.lastEffect=s),s}function Z0(){return{destroy:void 0,resource:void 0}}function Mv(){return Sa().memoizedState}function J0(s,o,u,g){var w=An();g=g===void 0?null:g,hr.flags|=s,w.memoizedState=yc(1|o,Z0(),u,g)}function Yu(s,o,u,g){var w=Sa();g=g===void 0?null:g;var C=w.memoizedState.inst;jr!==null&&g!==null&&ba(g,jr.memoizedState.deps)?w.memoizedState=yc(o,C,u,g):(hr.flags|=s,w.memoizedState=yc(1|o,C,u,g))}function Dv(s,o){J0(8390656,8,s,o)}function Iv(s,o){Yu(2048,8,s,o)}function Lv(s,o){return Yu(4,2,s,o)}function Uv(s,o){return Yu(4,4,s,o)}function Fv(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Bv(s,o,u){u=u!=null?u.concat([s]):null,Yu(4,4,Fv.bind(null,o,s),u)}function pg(){}function zv(s,o){var u=Sa();o=o===void 0?null:o;var g=u.memoizedState;return o!==null&&ba(o,g[1])?g[0]:(u.memoizedState=[s,o],s)}function qv(s,o){var u=Sa();o=o===void 0?null:o;var g=u.memoizedState;if(o!==null&&ba(o,g[1]))return g[0];if(g=s(),Pr){ft(!0);try{s()}finally{ft(!1)}}return u.memoizedState=[g,o],g}function yg(s,o,u){return u===void 0||(Yr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=Vb(),hr.lanes|=s,wo|=s,u)}function Hv(s,o,u,g){return rn(u,o)?u:cr.current!==null?(s=yg(s,u,g),rn(s,o)||(Ua=!0),s):(Yr&42)===0?(Ua=!0,s.memoizedState=u):(s=Vb(),hr.lanes|=s,wo|=s,o)}function Gv(s,o,u,g,w){var C=ne.p;ne.p=C!==0&&8>C?C:8;var U=ue.T,W={};ue.T=W,bg(s,!1,o,u);try{var ye=w(),Ie=ue.S;if(Ie!==null&&Ie(W,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var rt=W0(ye,g);Xu(s,o,rt,Vn(s))}else Xu(s,o,g,Vn(s))}catch(ot){Xu(s,o,{then:function(){},status:"rejected",reason:ot},Vn())}finally{ne.p=C,ue.T=U}}function Wk(){}function xg(s,o,u,g){if(s.tag!==5)throw Error(n(476));var w=Vv(s).queue;Gv(s,w,o,he,u===null?Wk:function(){return Kv(s),u(g)})}function Vv(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:he},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Kv(s){var o=Vv(s).next.queue;Xu(s,o,{},Vn())}function vg(){return La(md)}function Wv(){return Sa().memoizedState}function Yv(){return Sa().memoizedState}function Yk(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Vn();s=ke(u);var g=ze(o,s,u);g!==null&&(Kn(g,o,u),_e(g,o,u)),o={cache:zu()},s.payload=o;return}o=o.return}}function Xk(s,o,u){var g=Vn();u={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ef(s)?Qv(o,u):(u=Mu(s,o,u,g),u!==null&&(Kn(u,s,g),Zv(u,o,g)))}function Xv(s,o,u){var g=Vn();Xu(s,o,u,g)}function Xu(s,o,u,g){var w={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ef(s))Qv(o,w);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var U=o.lastRenderedState,W=C(U,u);if(w.hasEagerState=!0,w.eagerState=W,rn(W,U))return hl(s,o,w,0),ta===null&&cc(),!1}catch(ye){}finally{}if(u=Mu(s,o,w,g),u!==null)return Kn(u,s,g),Zv(u,o,g),!0}return!1}function bg(s,o,u,g){if(g={lane:2,revertLane:Zg(),action:g,hasEagerState:!1,eagerState:null,next:null},ef(s)){if(o)throw Error(n(479))}else o=Mu(s,u,g,2),o!==null&&Kn(o,s,2)}function ef(s){var o=s.alternate;return s===hr||o!==null&&o===hr}function Qv(s,o){nn=zn=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Zv(s,o,u){if((u&4194048)!==0){var g=o.lanes;g&=s.pendingLanes,u|=g,o.lanes=u,Be(s,u)}}var tf={readContext:La,use:X0,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Jv={readContext:La,use:X0,useCallback:function(s,o){return An().memoizedState=[s,o===void 0?null:o],s},useContext:La,useEffect:Dv,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,J0(4194308,4,Fv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return J0(4194308,4,s,o)},useInsertionEffect:function(s,o){J0(4,2,s,o)},useMemo:function(s,o){var u=An();o=o===void 0?null:o;var g=s();if(Pr){ft(!0);try{s()}finally{ft(!1)}}return u.memoizedState=[g,o],g},useReducer:function(s,o,u){var g=An();if(u!==void 0){var w=u(o);if(Pr){ft(!0);try{u(o)}finally{ft(!1)}}}else w=o;return g.memoizedState=g.baseState=w,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:w},g.queue=s,s=s.dispatch=Xk.bind(null,hr,s),[g.memoizedState,s]},useRef:function(s){var o=An();return s={current:s},o.memoizedState=s},useState:function(s){s=mg(s);var o=s.queue,u=Xv.bind(null,hr,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:pg,useDeferredValue:function(s,o){var u=An();return yg(u,s,o)},useTransition:function(){var s=mg(!1);return s=Gv.bind(null,hr,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var g=hr,w=An();if(Ir){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),ta===null)throw Error(n(349));(Mr&124)!==0||bv(g,o,u)}w.memoizedState=u;var C={value:u,getSnapshot:o};return w.queue=C,Dv(jv.bind(null,g,C,s),[s]),g.flags|=2048,yc(9,Z0(),wv.bind(null,g,C,u,o),null),u},useId:function(){var s=An(),o=ta.identifierPrefix;if(Ir){var u=ns,g=Es;u=(g&~(1<<32-be(g)-1)).toString(32)+u,o=""+o+"R"+u,u=sn++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=is++,o=""+o+"r"+u.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:vg,useFormState:Tv,useActionState:Tv,useOptimistic:function(s){var o=An();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=bg.bind(null,hr,!0,u),u.dispatch=o,[s,o]},useMemoCache:dg,useCacheRefresh:function(){return An().memoizedState=Yk.bind(null,hr)}},eb={readContext:La,use:X0,useCallback:zv,useContext:La,useEffect:Iv,useImperativeHandle:Bv,useInsertionEffect:Lv,useLayoutEffect:Uv,useMemo:qv,useReducer:Q0,useRef:Mv,useState:function(){return Q0(Ti)},useDebugValue:pg,useDeferredValue:function(s,o){var u=Sa();return Hv(u,jr.memoizedState,s,o)},useTransition:function(){var s=Q0(Ti)[0],o=Sa().memoizedState;return[typeof s=="boolean"?s:Wu(s),o]},useSyncExternalStore:vv,useId:Wv,useHostTransitionStatus:vg,useFormState:Av,useActionState:Av,useOptimistic:function(s,o){var u=Sa();return kv(u,jr,s,o)},useMemoCache:dg,useCacheRefresh:Yv},Qk={readContext:La,use:X0,useCallback:zv,useContext:La,useEffect:Iv,useImperativeHandle:Bv,useInsertionEffect:Lv,useLayoutEffect:Uv,useMemo:qv,useReducer:hg,useRef:Mv,useState:function(){return hg(Ti)},useDebugValue:pg,useDeferredValue:function(s,o){var u=Sa();return jr===null?yg(u,s,o):Hv(u,jr.memoizedState,s,o)},useTransition:function(){var s=hg(Ti)[0],o=Sa().memoizedState;return[typeof s=="boolean"?s:Wu(s),o]},useSyncExternalStore:vv,useId:Wv,useHostTransitionStatus:vg,useFormState:Pv,useActionState:Pv,useOptimistic:function(s,o){var u=Sa();return jr!==null?kv(u,jr,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:dg,useCacheRefresh:Yv},xc=null,Qu=0;function rf(s){var o=Qu;return Qu+=1,xc===null&&(xc=[]),O(xc,s,o)}function Zu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function af(s,o){throw o.$$typeof===x?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function tb(s){var o=s._init;return o(s._payload)}function rb(s){function o(Re,Ce){if(s){var Me=Re.deletions;Me===null?(Re.deletions=[Ce],Re.flags|=16):Me.push(Ce)}}function u(Re,Ce){if(!s)return null;for(;Ce!==null;)o(Re,Ce),Ce=Ce.sibling;return null}function g(Re){for(var Ce=new Map;Re!==null;)Re.key!==null?Ce.set(Re.key,Re):Ce.set(Re.index,Re),Re=Re.sibling;return Ce}function w(Re,Ce){return Re=Cn(Re,Ce),Re.index=0,Re.sibling=null,Re}function C(Re,Ce,Me){return Re.index=Me,s?(Me=Re.alternate,Me!==null?(Me=Me.index,Me<Ce?(Re.flags|=67108866,Ce):Me):(Re.flags|=67108866,Ce)):(Re.flags|=1048576,Ce)}function U(Re){return s&&Re.alternate===null&&(Re.flags|=67108866),Re}function W(Re,Ce,Me,nt){return Ce===null||Ce.tag!==6?(Ce=dc(Me,Re.mode,nt),Ce.return=Re,Ce):(Ce=w(Ce,Me),Ce.return=Re,Ce)}function ye(Re,Ce,Me,nt){var Pt=Me.type;return Pt===S?rt(Re,Ce,Me.props.children,nt,Me.key):Ce!==null&&(Ce.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===oe&&tb(Pt)===Ce.type)?(Ce=w(Ce,Me.props),Zu(Ce,Me),Ce.return=Re,Ce):(Ce=uc(Me.type,Me.key,Me.props,null,Re.mode,nt),Zu(Ce,Me),Ce.return=Re,Ce)}function Ie(Re,Ce,Me,nt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Me.containerInfo||Ce.stateNode.implementation!==Me.implementation?(Ce=Lu(Me,Re.mode,nt),Ce.return=Re,Ce):(Ce=w(Ce,Me.children||[]),Ce.return=Re,Ce)}function rt(Re,Ce,Me,nt,Pt){return Ce===null||Ce.tag!==7?(Ce=Js(Me,Re.mode,nt,Pt),Ce.return=Re,Ce):(Ce=w(Ce,Me),Ce.return=Re,Ce)}function ot(Re,Ce,Me){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=dc(""+Ce,Re.mode,Me),Ce.return=Re,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case p:return Me=uc(Ce.type,Ce.key,Ce.props,null,Re.mode,Me),Zu(Me,Ce),Me.return=Re,Me;case b:return Ce=Lu(Ce,Re.mode,Me),Ce.return=Re,Ce;case oe:var nt=Ce._init;return Ce=nt(Ce._payload),ot(Re,Ce,Me)}if(pe(Ce)||ae(Ce))return Ce=Js(Ce,Re.mode,Me,null),Ce.return=Re,Ce;if(typeof Ce.then=="function")return ot(Re,rf(Ce),Me);if(Ce.$$typeof===H)return ot(Re,pc(Re,Ce),Me);af(Re,Ce)}return null}function Fe(Re,Ce,Me,nt){var Pt=Ce!==null?Ce.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Pt!==null?null:W(Re,Ce,""+Me,nt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case p:return Me.key===Pt?ye(Re,Ce,Me,nt):null;case b:return Me.key===Pt?Ie(Re,Ce,Me,nt):null;case oe:return Pt=Me._init,Me=Pt(Me._payload),Fe(Re,Ce,Me,nt)}if(pe(Me)||ae(Me))return Pt!==null?null:rt(Re,Ce,Me,nt,null);if(typeof Me.then=="function")return Fe(Re,Ce,rf(Me),nt);if(Me.$$typeof===H)return Fe(Re,Ce,pc(Re,Me),nt);af(Re,Me)}return null}function He(Re,Ce,Me,nt,Pt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Re=Re.get(Me)||null,W(Ce,Re,""+nt,Pt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case p:return Re=Re.get(nt.key===null?Me:nt.key)||null,ye(Ce,Re,nt,Pt);case b:return Re=Re.get(nt.key===null?Me:nt.key)||null,Ie(Ce,Re,nt,Pt);case oe:var Nr=nt._init;return nt=Nr(nt._payload),He(Re,Ce,Me,nt,Pt)}if(pe(nt)||ae(nt))return Re=Re.get(Me)||null,rt(Ce,Re,nt,Pt,null);if(typeof nt.then=="function")return He(Re,Ce,Me,rf(nt),Pt);if(nt.$$typeof===H)return He(Re,Ce,Me,pc(Ce,nt),Pt);af(Ce,nt)}return null}function or(Re,Ce,Me,nt){for(var Pt=null,Nr=null,Gt=Ce,rr=Ce=0,Ba=null;Gt!==null&&rr<Me.length;rr++){Gt.index>rr?(Ba=Gt,Gt=null):Ba=Gt.sibling;var Ur=Fe(Re,Gt,Me[rr],nt);if(Ur===null){Gt===null&&(Gt=Ba);break}s&&Gt&&Ur.alternate===null&&o(Re,Gt),Ce=C(Ur,Ce,rr),Nr===null?Pt=Ur:Nr.sibling=Ur,Nr=Ur,Gt=Ba}if(rr===Me.length)return u(Re,Gt),Ir&&Ci(Re,rr),Pt;if(Gt===null){for(;rr<Me.length;rr++)Gt=ot(Re,Me[rr],nt),Gt!==null&&(Ce=C(Gt,Ce,rr),Nr===null?Pt=Gt:Nr.sibling=Gt,Nr=Gt);return Ir&&Ci(Re,rr),Pt}for(Gt=g(Gt);rr<Me.length;rr++)Ba=He(Gt,Re,rr,Me[rr],nt),Ba!==null&&(s&&Ba.alternate!==null&&Gt.delete(Ba.key===null?rr:Ba.key),Ce=C(Ba,Ce,rr),Nr===null?Pt=Ba:Nr.sibling=Ba,Nr=Ba);return s&&Gt.forEach(function(Oo){return o(Re,Oo)}),Ir&&Ci(Re,rr),Pt}function Jt(Re,Ce,Me,nt){if(Me==null)throw Error(n(151));for(var Pt=null,Nr=null,Gt=Ce,rr=Ce=0,Ba=null,Ur=Me.next();Gt!==null&&!Ur.done;rr++,Ur=Me.next()){Gt.index>rr?(Ba=Gt,Gt=null):Ba=Gt.sibling;var Oo=Fe(Re,Gt,Ur.value,nt);if(Oo===null){Gt===null&&(Gt=Ba);break}s&&Gt&&Oo.alternate===null&&o(Re,Gt),Ce=C(Oo,Ce,rr),Nr===null?Pt=Oo:Nr.sibling=Oo,Nr=Oo,Gt=Ba}if(Ur.done)return u(Re,Gt),Ir&&Ci(Re,rr),Pt;if(Gt===null){for(;!Ur.done;rr++,Ur=Me.next())Ur=ot(Re,Ur.value,nt),Ur!==null&&(Ce=C(Ur,Ce,rr),Nr===null?Pt=Ur:Nr.sibling=Ur,Nr=Ur);return Ir&&Ci(Re,rr),Pt}for(Gt=g(Gt);!Ur.done;rr++,Ur=Me.next())Ur=He(Gt,Re,rr,Ur.value,nt),Ur!==null&&(s&&Ur.alternate!==null&&Gt.delete(Ur.key===null?rr:Ur.key),Ce=C(Ur,Ce,rr),Nr===null?Pt=Ur:Nr.sibling=Ur,Nr=Ur);return s&&Gt.forEach(function(ZS){return o(Re,ZS)}),Ir&&Ci(Re,rr),Pt}function Qr(Re,Ce,Me,nt){if(typeof Me=="object"&&Me!==null&&Me.type===S&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case p:e:{for(var Pt=Me.key;Ce!==null;){if(Ce.key===Pt){if(Pt=Me.type,Pt===S){if(Ce.tag===7){u(Re,Ce.sibling),nt=w(Ce,Me.props.children),nt.return=Re,Re=nt;break e}}else if(Ce.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===oe&&tb(Pt)===Ce.type){u(Re,Ce.sibling),nt=w(Ce,Me.props),Zu(nt,Me),nt.return=Re,Re=nt;break e}u(Re,Ce);break}else o(Re,Ce);Ce=Ce.sibling}Me.type===S?(nt=Js(Me.props.children,Re.mode,nt,Me.key),nt.return=Re,Re=nt):(nt=uc(Me.type,Me.key,Me.props,null,Re.mode,nt),Zu(nt,Me),nt.return=Re,Re=nt)}return U(Re);case b:e:{for(Pt=Me.key;Ce!==null;){if(Ce.key===Pt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Me.containerInfo&&Ce.stateNode.implementation===Me.implementation){u(Re,Ce.sibling),nt=w(Ce,Me.children||[]),nt.return=Re,Re=nt;break e}else{u(Re,Ce);break}else o(Re,Ce);Ce=Ce.sibling}nt=Lu(Me,Re.mode,nt),nt.return=Re,Re=nt}return U(Re);case oe:return Pt=Me._init,Me=Pt(Me._payload),Qr(Re,Ce,Me,nt)}if(pe(Me))return or(Re,Ce,Me,nt);if(ae(Me)){if(Pt=ae(Me),typeof Pt!="function")throw Error(n(150));return Me=Pt.call(Me),Jt(Re,Ce,Me,nt)}if(typeof Me.then=="function")return Qr(Re,Ce,rf(Me),nt);if(Me.$$typeof===H)return Qr(Re,Ce,pc(Re,Me),nt);af(Re,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,Ce!==null&&Ce.tag===6?(u(Re,Ce.sibling),nt=w(Ce,Me),nt.return=Re,Re=nt):(u(Re,Ce),nt=dc(Me,Re.mode,nt),nt.return=Re,Re=nt),U(Re)):u(Re,Ce)}return function(Re,Ce,Me,nt){try{Qu=0;var Pt=Qr(Re,Ce,Me,nt);return xc=null,Pt}catch(Gt){if(Gt===v||Gt===y)throw Gt;var Nr=Da(29,Gt,null,Re.mode);return Nr.lanes=nt,Nr.return=Re,Nr}finally{}}}var vc=rb(!0),ab=rb(!1),os=B(null),ni=null;function go(s){var o=s.alternate;xe($a,$a.current&1),xe(os,s),ni===null&&(o===null||cr.current!==null||o.memoizedState!==null)&&(ni=s)}function nb(s){if(s.tag===22){if(xe($a,$a.current),xe(os,s),ni===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(ni=s)}}else po()}function po(){xe($a,$a.current),xe(os,os.current)}function Ai(s){de(os),ni===s&&(ni=null),de($a)}var $a=B(0);function nf(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||up(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function wg(s,o,u,g){o=s.memoizedState,u=u(g,o),u=u==null?o:m({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var jg={enqueueSetState:function(s,o,u){s=s._reactInternals;var g=Vn(),w=ke(g);w.payload=o,u!=null&&(w.callback=u),o=ze(s,w,g),o!==null&&(Kn(o,s,g),_e(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var g=Vn(),w=ke(g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=ze(s,w,g),o!==null&&(Kn(o,s,g),_e(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Vn(),g=ke(u);g.tag=2,o!=null&&(g.callback=o),o=ze(s,g,u),o!==null&&(Kn(o,s,u),_e(o,s,u))}};function sb(s,o,u,g,w,C,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,C,U):o.prototype&&o.prototype.isPureReactComponent?!dl(u,g)||!dl(w,C):!0}function ib(s,o,u,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,g),o.state!==s&&jg.enqueueReplaceState(o,o.state,null)}function xl(s,o){var u=o;if("ref"in o){u={};for(var g in o)g!=="ref"&&(u[g]=o[g])}if(s=s.defaultProps){u===o&&(u=m({},u));for(var w in s)u[w]===void 0&&(u[w]=s[w])}return u}var sf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ob(s){sf(s)}function lb(s){console.error(s)}function cb(s){sf(s)}function of(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function ub(s,o,u){try{var g=s.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Ng(s,o,u){return u=ke(u),u.tag=3,u.payload={element:null},u.callback=function(){of(s,o)},u}function db(s){return s=ke(s),s.tag=3,s}function fb(s,o,u,g){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var C=g.value;s.payload=function(){return w(C)},s.callback=function(){ub(o,u,g)}}var U=u.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(s.callback=function(){ub(o,u,g),typeof w!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var W=g.stack;this.componentDidCatch(g.value,{componentStack:W!==null?W:""})})}function Zk(s,o,u,g,w){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=u.alternate,o!==null&&yl(o,u,w,!0),u=os.current,u!==null){switch(u.tag){case 13:return ni===null?Kg():u.alternate===null&&pa===0&&(pa=3),u.flags&=-257,u.flags|=65536,u.lanes=w,g===j?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([g]):o.add(g),Yg(s,g,w)),!1;case 22:return u.flags|=65536,g===j?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([g]):u.add(g)),Yg(s,g,w)),!1}throw Error(n(435,u.tag))}return Yg(s,g,w),Kg(),!1}if(Ir)return o=os.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,g!==gl&&(s=Error(n(422),{cause:g}),ma(Na(s,u)))):(g!==gl&&(o=Error(n(423),{cause:g}),ma(Na(o,u))),s=s.current.alternate,s.flags|=65536,w&=-w,s.lanes|=w,g=Na(g,u),w=Ng(s.stateNode,g,w),Ue(s,w),pa!==4&&(pa=2)),!1;var C=Error(n(520),{cause:g});if(C=Na(C,u),sd===null?sd=[C]:sd.push(C),pa!==4&&(pa=2),o===null)return!0;g=Na(g,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=w&-w,u.lanes|=s,s=Ng(u.stateNode,g,s),Ue(u,s),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(jo===null||!jo.has(C))))return u.flags|=65536,w&=-w,u.lanes|=w,w=db(w),fb(w,s,u,g),Ue(u,w),!1}u=u.return}while(u!==null);return!1}var hb=Error(n(461)),Ua=!1;function Ka(s,o,u,g){o.child=s===null?ab(o,null,u,g):vc(o,s.child,u,g)}function mb(s,o,u,g,w){u=u.render;var C=o.ref;if("ref"in g){var U={};for(var W in g)W!=="ref"&&(U[W]=g[W])}else U=g;return Oi(o),g=Gu(s,o,u,U,C,w),W=og(),s!==null&&!Ua?(lg(s,o,w),Ri(s,o,w)):(Ir&&W&&mc(o),o.flags|=1,Ka(s,o,g,w),o.child)}function gb(s,o,u,g,w){if(s===null){var C=u.type;return typeof C=="function"&&!_i(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,pb(s,o,C,g,w)):(s=uc(u.type,null,g,o,o.mode,w),s.ref=o.ref,s.return=o,o.child=s)}if(C=s.child,!Tg(s,w)){var U=C.memoizedProps;if(u=u.compare,u=u!==null?u:dl,u(U,g)&&s.ref===o.ref)return Ri(s,o,w)}return o.flags|=1,s=Cn(C,g),s.ref=o.ref,s.return=o,o.child=s}function pb(s,o,u,g,w){if(s!==null){var C=s.memoizedProps;if(dl(C,g)&&s.ref===o.ref)if(Ua=!1,o.pendingProps=g=C,Tg(s,w))(s.flags&131072)!==0&&(Ua=!0);else return o.lanes=s.lanes,Ri(s,o,w)}return _g(s,o,u,g,w)}function yb(s,o,u){var g=o.pendingProps,w=g.children,C=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((o.flags&128)!==0){if(g=C!==null?C.baseLanes|u:u,s!==null){for(w=o.child=s.child,C=0;w!==null;)C=C|w.lanes|w.childLanes,w=w.sibling;o.childLanes=C&~g}else o.childLanes=0,o.child=null;return xb(s,o,g,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&ai(o,C!==null?C.cachePool:null),C!==null?br(o,C):an(),nb(o);else return o.lanes=o.childLanes=536870912,xb(s,o,C!==null?C.baseLanes|u:u,u)}else C!==null?(ai(o,C.cachePool),br(o,C),po(),o.memoizedState=null):(s!==null&&ai(o,null),an(),po());return Ka(s,o,w,u),o.child}function xb(s,o,u,g){var w=ss();return w=w===null?null:{parent:ga._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},s!==null&&ai(o,null),an(),nb(o),s!==null&&yl(s,o,g,!0),null}function lf(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function _g(s,o,u,g,w){return Oi(o),u=Gu(s,o,u,g,void 0,w),g=og(),s!==null&&!Ua?(lg(s,o,w),Ri(s,o,w)):(Ir&&g&&mc(o),o.flags|=1,Ka(s,o,u,w),o.child)}function vb(s,o,u,g,w,C){return Oi(o),o.updateQueue=null,u=Ku(o,g,u,w),Vu(s),g=og(),s!==null&&!Ua?(lg(s,o,C),Ri(s,o,C)):(Ir&&g&&mc(o),o.flags|=1,Ka(s,o,u,C),o.child)}function bb(s,o,u,g,w){if(Oi(o),o.stateNode===null){var C=uo,U=u.contextType;typeof U=="object"&&U!==null&&(C=La(U)),C=new u(g,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=jg,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=g,C.state=o.memoizedState,C.refs={},ce(o),U=u.contextType,C.context=typeof U=="object"&&U!==null?La(U):uo,C.state=o.memoizedState,U=u.getDerivedStateFromProps,typeof U=="function"&&(wg(o,u,U,g),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(U=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),U!==C.state&&jg.enqueueReplaceState(C,C.state,null),Et(o,g,C,w),Je(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(s===null){C=o.stateNode;var W=o.memoizedProps,ye=xl(u,W);C.props=ye;var Ie=C.context,rt=u.contextType;U=uo,typeof rt=="object"&&rt!==null&&(U=La(rt));var ot=u.getDerivedStateFromProps;rt=typeof ot=="function"||typeof C.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,rt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(W||Ie!==U)&&ib(o,C,g,U),K=!1;var Fe=o.memoizedState;C.state=Fe,Et(o,g,C,w),Je(),Ie=o.memoizedState,W||Fe!==Ie||K?(typeof ot=="function"&&(wg(o,u,ot,g),Ie=o.memoizedState),(ye=K||sb(o,u,ye,g,Fe,Ie,U))?(rt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=Ie),C.props=g,C.state=Ie,C.context=U,g=ye):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{C=o.stateNode,we(s,o),U=o.memoizedProps,rt=xl(u,U),C.props=rt,ot=o.pendingProps,Fe=C.context,Ie=u.contextType,ye=uo,typeof Ie=="object"&&Ie!==null&&(ye=La(Ie)),W=u.getDerivedStateFromProps,(Ie=typeof W=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==ot||Fe!==ye)&&ib(o,C,g,ye),K=!1,Fe=o.memoizedState,C.state=Fe,Et(o,g,C,w),Je();var He=o.memoizedState;U!==ot||Fe!==He||K||s!==null&&s.dependencies!==null&&gc(s.dependencies)?(typeof W=="function"&&(wg(o,u,W,g),He=o.memoizedState),(rt=K||sb(o,u,rt,g,Fe,He,ye)||s!==null&&s.dependencies!==null&&gc(s.dependencies))?(Ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,He,ye),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,He,ye)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=He),C.props=g,C.state=He,C.context=ye,g=rt):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=1024),g=!1)}return C=g,lf(s,o),g=(o.flags&128)!==0,C||g?(C=o.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,s!==null&&g?(o.child=vc(o,s.child,null,w),o.child=vc(o,null,u,w)):Ka(s,o,u,w),o.memoizedState=C.state,s=o.child):s=Ri(s,o,w),s}function wb(s,o,u,g){return On(),o.flags|=256,Ka(s,o,u,g),o.child}var kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(s){return{baseLanes:s,cachePool:Hu()}}function Cg(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=ls),s}function jb(s,o,u){var g=o.pendingProps,w=!1,C=(o.flags&128)!==0,U;if((U=C)||(U=s!==null&&s.memoizedState===null?!1:($a.current&2)!==0),U&&(w=!0,o.flags&=-129),U=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ir){if(w?go(o):po(),Ir){var W=Sr,ye;if(ye=W){e:{for(ye=W,W=ka;ye.nodeType!==8;){if(!W){W=null;break e}if(ye=As(ye.nextSibling),ye===null){W=null;break e}}W=ye}W!==null?(o.memoizedState={dehydrated:W,treeContext:Si!==null?{id:Es,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},ye=Da(18,null,null,0),ye.stateNode=W,ye.return=o,o.child=ye,_a=o,Sr=null,ye=!0):ye=!1}ye||Ia(o)}if(W=o.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return up(W)?o.lanes=32:o.lanes=536870912,null;Ai(o)}return W=g.children,g=g.fallback,w?(po(),w=o.mode,W=cf({mode:"hidden",children:W},w),g=Js(g,w,u,null),W.return=o,g.return=o,W.sibling=g,o.child=W,w=o.child,w.memoizedState=Sg(u),w.childLanes=Cg(s,U,u),o.memoizedState=kg,g):(go(o),Eg(o,W))}if(ye=s.memoizedState,ye!==null&&(W=ye.dehydrated,W!==null)){if(C)o.flags&256?(go(o),o.flags&=-257,o=$g(s,o,u)):o.memoizedState!==null?(po(),o.child=s.child,o.flags|=128,o=null):(po(),w=g.fallback,W=o.mode,g=cf({mode:"visible",children:g.children},W),w=Js(w,W,u,null),w.flags|=2,g.return=o,w.return=o,g.sibling=w,o.child=g,vc(o,s.child,null,u),g=o.child,g.memoizedState=Sg(u),g.childLanes=Cg(s,U,u),o.memoizedState=kg,o=w);else if(go(o),up(W)){if(U=W.nextSibling&&W.nextSibling.dataset,U)var Ie=U.dgst;U=Ie,g=Error(n(419)),g.stack="",g.digest=U,ma({value:g,source:null,stack:null}),o=$g(s,o,u)}else if(Ua||yl(s,o,u,!1),U=(u&s.childLanes)!==0,Ua||U){if(U=ta,U!==null&&(g=u&-u,g=(g&42)!==0?1:at(g),g=(g&(U.suspendedLanes|u))!==0?0:g,g!==0&&g!==ye.retryLane))throw ye.retryLane=g,co(s,g),Kn(U,s,g),hb;W.data==="$?"||Kg(),o=$g(s,o,u)}else W.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=ye.treeContext,Sr=As(W.nextSibling),_a=o,Ir=!0,hn=null,ka=!1,s!==null&&(En[$n++]=Es,En[$n++]=ns,En[$n++]=Si,Es=s.id,ns=s.overflow,Si=o),o=Eg(o,g.children),o.flags|=4096);return o}return w?(po(),w=g.fallback,W=o.mode,ye=s.child,Ie=ye.sibling,g=Cn(ye,{mode:"hidden",children:g.children}),g.subtreeFlags=ye.subtreeFlags&65011712,Ie!==null?w=Cn(Ie,w):(w=Js(w,W,u,null),w.flags|=2),w.return=o,g.return=o,g.sibling=w,o.child=g,g=w,w=o.child,W=s.child.memoizedState,W===null?W=Sg(u):(ye=W.cachePool,ye!==null?(Ie=ga._currentValue,ye=ye.parent!==Ie?{parent:Ie,pool:Ie}:ye):ye=Hu(),W={baseLanes:W.baseLanes|u,cachePool:ye}),w.memoizedState=W,w.childLanes=Cg(s,U,u),o.memoizedState=kg,g):(go(o),u=s.child,s=u.sibling,u=Cn(u,{mode:"visible",children:g.children}),u.return=o,u.sibling=null,s!==null&&(U=o.deletions,U===null?(o.deletions=[s],o.flags|=16):U.push(s)),o.child=u,o.memoizedState=null,u)}function Eg(s,o){return o=cf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function cf(s,o){return s=Da(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function $g(s,o,u){return vc(o,s.child,null,u),s=Eg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Nb(s,o,u){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),Fu(s.return,o,u)}function Og(s,o,u,g,w){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:w}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=u,C.tailMode=w)}function _b(s,o,u){var g=o.pendingProps,w=g.revealOrder,C=g.tail;if(Ka(s,o,g.children,u),g=$a.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Nb(s,u,o);else if(s.tag===19)Nb(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(xe($a,g),w){case"forwards":for(u=o.child,w=null;u!==null;)s=u.alternate,s!==null&&nf(s)===null&&(w=u),u=u.sibling;u=w,u===null?(w=o.child,o.child=null):(w=u.sibling,u.sibling=null),Og(o,!1,w,u,C);break;case"backwards":for(u=null,w=o.child,o.child=null;w!==null;){if(s=w.alternate,s!==null&&nf(s)===null){o.child=w;break}s=w.sibling,w.sibling=u,u=w,w=s}Og(o,!0,u,null,C);break;case"together":Og(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ri(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),wo|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(yl(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Cn(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Cn(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Tg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&gc(s)))}function Jk(s,o,u){switch(o.tag){case 3:Ye(o,o.stateNode.containerInfo),mn(o,ga,s.memoizedState.cache),On();break;case 27:case 5:Ze(o);break;case 4:Ye(o,o.stateNode.containerInfo);break;case 10:mn(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(go(o),o.flags|=128,null):(u&o.child.childLanes)!==0?jb(s,o,u):(go(o),s=Ri(s,o,u),s!==null?s.sibling:null);go(o);break;case 19:var w=(s.flags&128)!==0;if(g=(u&o.childLanes)!==0,g||(yl(s,o,u,!1),g=(u&o.childLanes)!==0),w){if(g)return _b(s,o,u);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),xe($a,$a.current),g)break;return null;case 22:case 23:return o.lanes=0,yb(s,o,u);case 24:mn(o,ga,s.memoizedState.cache)}return Ri(s,o,u)}function kb(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)Ua=!0;else{if(!Tg(s,u)&&(o.flags&128)===0)return Ua=!1,Jk(s,o,u);Ua=(s.flags&131072)!==0}else Ua=!1,Ir&&(o.flags&1048576)!==0&&H0(o,hc,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var g=o.elementType,w=g._init;if(g=w(g._payload),o.type=g,typeof g=="function")_i(g)?(s=xl(g,s),o.tag=1,o=bb(null,o,g,s,u)):(o.tag=0,o=_g(null,o,g,s,u));else{if(g!=null){if(w=g.$$typeof,w===D){o.tag=11,o=mb(null,o,g,s,u);break e}else if(w===se){o.tag=14,o=gb(null,o,g,s,u);break e}}throw o=le(g)||g,Error(n(306,o,""))}}return o;case 0:return _g(s,o,o.type,o.pendingProps,u);case 1:return g=o.type,w=xl(g,o.pendingProps),bb(s,o,g,w,u);case 3:e:{if(Ye(o,o.stateNode.containerInfo),s===null)throw Error(n(387));g=o.pendingProps;var C=o.memoizedState;w=C.element,we(s,o),Et(o,g,null,u);var U=o.memoizedState;if(g=U.cache,mn(o,ga,g),g!==C.cache&&Bu(o,[ga],u,!0),Je(),g=U.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:U.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=wb(s,o,g,u);break e}else if(g!==w){w=Na(Error(n(424)),o),ma(w),o=wb(s,o,g,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Sr=As(s.firstChild),_a=o,Ir=!0,hn=null,ka=!0,u=ab(o,null,g,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(On(),g===w){o=Ri(s,o,u);break e}Ka(s,o,g,u)}o=o.child}return o;case 26:return lf(s,o),s===null?(u=$1(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ir||(u=o.type,s=o.pendingProps,g=Nf(X.current).createElement(u),g[We]=o,g[Te]=s,Ya(g,u,s),Yt(g),o.stateNode=g):o.memoizedState=$1(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ze(o),s===null&&Ir&&(g=o.stateNode=S1(o.type,o.pendingProps,X.current),_a=o,ka=!0,w=Sr,ko(o.type)?(dp=w,Sr=As(g.firstChild)):Sr=w),Ka(s,o,o.pendingProps.children,u),lf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ir&&((w=g=Sr)&&(g=CS(g,o.type,o.pendingProps,ka),g!==null?(o.stateNode=g,_a=o,Sr=As(g.firstChild),ka=!1,w=!0):w=!1),w||Ia(o)),Ze(o),w=o.type,C=o.pendingProps,U=s!==null?s.memoizedProps:null,g=C.children,op(w,C)?g=null:U!==null&&op(w,U)&&(o.flags|=32),o.memoizedState!==null&&(w=Gu(s,o,Gk,null,null,u),md._currentValue=w),lf(s,o),Ka(s,o,g,u),o.child;case 6:return s===null&&Ir&&((s=u=Sr)&&(u=ES(u,o.pendingProps,ka),u!==null?(o.stateNode=u,_a=o,Sr=null,s=!0):s=!1),s||Ia(o)),null;case 13:return jb(s,o,u);case 4:return Ye(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=vc(o,null,g,u):Ka(s,o,g,u),o.child;case 11:return mb(s,o,o.type,o.pendingProps,u);case 7:return Ka(s,o,o.pendingProps,u),o.child;case 8:return Ka(s,o,o.pendingProps.children,u),o.child;case 12:return Ka(s,o,o.pendingProps.children,u),o.child;case 10:return g=o.pendingProps,mn(o,o.type,g.value),Ka(s,o,g.children,u),o.child;case 9:return w=o.type._context,g=o.pendingProps.children,Oi(o),w=La(w),g=g(w),o.flags|=1,Ka(s,o,g,u),o.child;case 14:return gb(s,o,o.type,o.pendingProps,u);case 15:return pb(s,o,o.type,o.pendingProps,u);case 19:return _b(s,o,u);case 31:return g=o.pendingProps,u=o.mode,g={mode:g.mode,children:g.children},s===null?(u=cf(g,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Cn(s.child,g),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return yb(s,o,u);case 24:return Oi(o),g=La(ga),s===null?(w=ss(),w===null&&(w=ta,C=zu(),w.pooledCache=C,C.refCount++,C!==null&&(w.pooledCacheLanes|=u),w=C),o.memoizedState={parent:g,cache:w},ce(o),mn(o,ga,w)):((s.lanes&u)!==0&&(we(s,o),Et(o,null,null,u),Je()),w=s.memoizedState,C=o.memoizedState,w.parent!==g?(w={parent:g,cache:g},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),mn(o,ga,g)):(g=C.cache,mn(o,ga,g),g!==w.cache&&Bu(o,[ga],u,!0))),Ka(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Pi(s){s.flags|=4}function Sb(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!P1(o)){if(o=os.current,o!==null&&((Mr&4194048)===Mr?ni!==null:(Mr&62914560)!==Mr&&(Mr&536870912)===0||o!==ni))throw R=j,N;s.flags|=8192}}function uf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?yr():536870912,s.lanes|=o,Nc|=o)}function Ju(s,o){if(!Ir)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function da(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,g=0;if(o)for(var w=s.child;w!==null;)u|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)u|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=u,o}function eS(s,o,u){var g=o.pendingProps;switch(Uu(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return da(o),null;case 1:return da(o),null;case 3:return u=o.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Va(ga),ct(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(ia(o)?Pi(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bn())),da(o),null;case 26:return u=o.memoizedState,s===null?(Pi(o),u!==null?(da(o),Sb(o,u)):(da(o),o.flags&=-16777217)):u?u!==s.memoizedState?(Pi(o),da(o),Sb(o,u)):(da(o),o.flags&=-16777217):(s.memoizedProps!==g&&Pi(o),da(o),o.flags&=-16777217),null;case 27:mt(o),u=X.current;var w=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==g&&Pi(o);else{if(!g){if(o.stateNode===null)throw Error(n(166));return da(o),null}s=fe.current,ia(o)?pl(o):(s=S1(w,g,u),o.stateNode=s,Pi(o))}return da(o),null;case 5:if(mt(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==g&&Pi(o);else{if(!g){if(o.stateNode===null)throw Error(n(166));return da(o),null}if(s=fe.current,ia(o))pl(o);else{switch(w=Nf(X.current),s){case 1:s=w.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=w.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=w.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=w.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?w.createElement("select",{is:g.is}):w.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?w.createElement(u,{is:g.is}):w.createElement(u)}}s[We]=o,s[Te]=g;e:for(w=o.child;w!==null;){if(w.tag===5||w.tag===6)s.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===o)break e;for(;w.sibling===null;){if(w.return===null||w.return===o)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}o.stateNode=s;e:switch(Ya(s,u,g),u){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Pi(o)}}return da(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==g&&Pi(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(n(166));if(s=X.current,ia(o)){if(s=o.stateNode,u=o.memoizedProps,g=null,w=_a,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}s[We]=o,s=!!(s.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||v1(s.nodeValue,u)),s||Ia(o)}else s=Nf(s).createTextNode(g),s[We]=o,o.stateNode=s}return da(o),null;case 13:if(g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(w=ia(o),g!==null&&g.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[We]=o}else On(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;da(o),w=!1}else w=Bn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(Ai(o),o):(Ai(o),null)}if(Ai(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=g!==null,s=s!==null&&s.memoizedState!==null,u){g=o.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool);var C=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==w&&(g.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),uf(o,o.updateQueue),da(o),null;case 4:return ct(),s===null&&rp(o.stateNode.containerInfo),da(o),null;case 10:return Va(o.type),da(o),null;case 19:if(de($a),w=o.memoizedState,w===null)return da(o),null;if(g=(o.flags&128)!==0,C=w.rendering,C===null)if(g)Ju(w,!1);else{if(pa!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=nf(s),C!==null){for(o.flags|=128,Ju(w,!1),s=C.updateQueue,o.updateQueue=s,uf(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)Iu(u,s),u=u.sibling;return xe($a,$a.current&1|2),o.child}s=s.sibling}w.tail!==null&&ge()>hf&&(o.flags|=128,g=!0,Ju(w,!1),o.lanes=4194304)}else{if(!g)if(s=nf(C),s!==null){if(o.flags|=128,g=!0,s=s.updateQueue,o.updateQueue=s,uf(o,s),Ju(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Ir)return da(o),null}else 2*ge()-w.renderingStartTime>hf&&u!==536870912&&(o.flags|=128,g=!0,Ju(w,!1),o.lanes=4194304);w.isBackwards?(C.sibling=o.child,o.child=C):(s=w.last,s!==null?s.sibling=C:o.child=C,w.last=C)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ge(),o.sibling=null,s=$a.current,xe($a,g?s&1|2:s&1),o):(da(o),null);case 22:case 23:return Ai(o),gn(),g=o.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(u&536870912)!==0&&(o.flags&128)===0&&(da(o),o.subtreeFlags&6&&(o.flags|=8192)):da(o),u=o.updateQueue,u!==null&&uf(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==u&&(o.flags|=2048),s!==null&&de(ri),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Va(ga),da(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function tS(s,o){switch(Uu(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Va(ga),ct(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return mt(o),null;case 13:if(Ai(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));On()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return de($a),null;case 4:return ct(),null;case 10:return Va(o.type),null;case 22:case 23:return Ai(o),gn(),s!==null&&de(ri),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Va(ga),null;case 25:return null;default:return null}}function Cb(s,o){switch(Uu(o),o.tag){case 3:Va(ga),ct();break;case 26:case 27:case 5:mt(o);break;case 4:ct();break;case 13:Ai(o);break;case 19:de($a);break;case 10:Va(o.type);break;case 22:case 23:Ai(o),gn(),s!==null&&de(ri);break;case 24:Va(ga)}}function ed(s,o){try{var u=o.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var w=g.next;u=w;do{if((u.tag&s)===s){g=void 0;var C=u.create,U=u.inst;g=C(),U.destroy=g}u=u.next}while(u!==w)}}catch(W){Jr(o,o.return,W)}}function yo(s,o,u){try{var g=o.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var C=w.next;g=C;do{if((g.tag&s)===s){var U=g.inst,W=U.destroy;if(W!==void 0){U.destroy=void 0,w=o;var ye=u,Ie=W;try{Ie()}catch(rt){Jr(w,ye,rt)}}}g=g.next}while(g!==C)}}catch(rt){Jr(o,o.return,rt)}}function Eb(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{Qt(o,u)}catch(g){Jr(s,s.return,g)}}}function $b(s,o,u){u.props=xl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(g){Jr(s,o,g)}}function td(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof u=="function"?s.refCleanup=u(g):u.current=g}}catch(w){Jr(s,o,w)}}function si(s,o){var u=s.ref,g=s.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(w){Jr(s,o,w)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){Jr(s,o,w)}else u.current=null}function Ob(s){var o=s.type,u=s.memoizedProps,g=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(w){Jr(s,s.return,w)}}function Ag(s,o,u){try{var g=s.stateNode;jS(g,s.type,u,o),g[Te]=o}catch(w){Jr(s,s.return,w)}}function Tb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ko(s.type)||s.tag===4}function Rg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ko(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pg(s,o,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=jf));else if(g!==4&&(g===27&&ko(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Pg(s,o,u),s=s.sibling;s!==null;)Pg(s,o,u),s=s.sibling}function df(s,o,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(g!==4&&(g===27&&ko(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(df(s,o,u),s=s.sibling;s!==null;)df(s,o,u),s=s.sibling}function Ab(s){var o=s.stateNode,u=s.memoizedProps;try{for(var g=s.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);Ya(o,g,u),o[We]=s,o[Te]=u}catch(C){Jr(s,s.return,C)}}var Mi=!1,wa=!1,Mg=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,Fa=null;function rS(s,o){if(s=s.containerInfo,sp=$f,s=Tu(s),Au(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var w=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{u.nodeType,C.nodeType}catch(Jt){u=null;break e}var U=0,W=-1,ye=-1,Ie=0,rt=0,ot=s,Fe=null;t:for(;;){for(var He;ot!==u||w!==0&&ot.nodeType!==3||(W=U+w),ot!==C||g!==0&&ot.nodeType!==3||(ye=U+g),ot.nodeType===3&&(U+=ot.nodeValue.length),(He=ot.firstChild)!==null;)Fe=ot,ot=He;for(;;){if(ot===s)break t;if(Fe===u&&++Ie===w&&(W=U),Fe===C&&++rt===g&&(ye=U),(He=ot.nextSibling)!==null)break;ot=Fe,Fe=ot.parentNode}ot=He}u=W===-1||ye===-1?null:{start:W,end:ye}}else u=null}u=u||{start:0,end:0}}else u=null;for(ip={focusedElem:s,selectionRange:u},$f=!1,Fa=o;Fa!==null;)if(o=Fa,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Fa=s;else for(;Fa!==null;){switch(o=Fa,C=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,u=o,w=C.memoizedProps,C=C.memoizedState,g=u.stateNode;try{var or=xl(u.type,w,u.elementType===u.type);s=g.getSnapshotBeforeUpdate(or,C),g.__reactInternalSnapshotBeforeUpdate=s}catch(Jt){Jr(u,u.return,Jt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)cp(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":cp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Fa=s;break}Fa=o.return}}function Pb(s,o,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:xo(s,u),g&4&&ed(5,u);break;case 1:if(xo(s,u),g&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(U){Jr(u,u.return,U)}else{var w=xl(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(w,o,s.__reactInternalSnapshotBeforeUpdate)}catch(U){Jr(u,u.return,U)}}g&64&&Eb(u),g&512&&td(u,u.return);break;case 3:if(xo(s,u),g&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Qt(s,o)}catch(U){Jr(u,u.return,U)}}break;case 27:o===null&&g&4&&Ab(u);case 26:case 5:xo(s,u),o===null&&g&4&&Ob(u),g&512&&td(u,u.return);break;case 12:xo(s,u);break;case 13:xo(s,u),g&4&&Ib(s,u),g&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=dS.bind(null,u),$S(s,u))));break;case 22:if(g=u.memoizedState!==null||Mi,!g){o=o!==null&&o.memoizedState!==null||wa,w=Mi;var C=wa;Mi=g,(wa=o)&&!C?vo(s,u,(u.subtreeFlags&8772)!==0):xo(s,u),Mi=w,wa=C}break;case 30:break;default:xo(s,u)}}function Mb(s){var o=s.alternate;o!==null&&(s.alternate=null,Mb(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&tr(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var oa=null,Rn=!1;function Di(s,o,u){for(u=u.child;u!==null;)Db(s,o,u),u=u.sibling}function Db(s,o,u){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(gt,u)}catch(C){}switch(u.tag){case 26:wa||si(u,o),Di(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:wa||si(u,o);var g=oa,w=Rn;ko(u.type)&&(oa=u.stateNode,Rn=!1),Di(s,o,u),ud(u.stateNode),oa=g,Rn=w;break;case 5:wa||si(u,o);case 6:if(g=oa,w=Rn,oa=null,Di(s,o,u),oa=g,Rn=w,oa!==null)if(Rn)try{(oa.nodeType===9?oa.body:oa.nodeName==="HTML"?oa.ownerDocument.body:oa).removeChild(u.stateNode)}catch(C){Jr(u,o,C)}else try{oa.removeChild(u.stateNode)}catch(C){Jr(u,o,C)}break;case 18:oa!==null&&(Rn?(s=oa,_1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),xd(s)):_1(oa,u.stateNode));break;case 4:g=oa,w=Rn,oa=u.stateNode.containerInfo,Rn=!0,Di(s,o,u),oa=g,Rn=w;break;case 0:case 11:case 14:case 15:wa||yo(2,u,o),wa||yo(4,u,o),Di(s,o,u);break;case 1:wa||(si(u,o),g=u.stateNode,typeof g.componentWillUnmount=="function"&&$b(u,o,g)),Di(s,o,u);break;case 21:Di(s,o,u);break;case 22:wa=(g=wa)||u.memoizedState!==null,Di(s,o,u),wa=g;break;default:Di(s,o,u)}}function Ib(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{xd(s)}catch(u){Jr(o,o.return,u)}}function aS(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Rb),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Rb),o;default:throw Error(n(435,s.tag))}}function Dg(s,o){var u=aS(s);o.forEach(function(g){var w=fS.bind(null,s,g);u.has(g)||(u.add(g),g.then(w,w))})}function qn(s,o){var u=o.deletions;if(u!==null)for(var g=0;g<u.length;g++){var w=u[g],C=s,U=o,W=U;e:for(;W!==null;){switch(W.tag){case 27:if(ko(W.type)){oa=W.stateNode,Rn=!1;break e}break;case 5:oa=W.stateNode,Rn=!1;break e;case 3:case 4:oa=W.stateNode.containerInfo,Rn=!0;break e}W=W.return}if(oa===null)throw Error(n(160));Db(C,U,w),oa=null,Rn=!1,C=w.alternate,C!==null&&(C.return=null),w.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Lb(o,s),o=o.sibling}var Ts=null;function Lb(s,o){var u=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qn(o,s),Hn(s),g&4&&(yo(3,s,s.return),ed(3,s),yo(5,s,s.return));break;case 1:qn(o,s),Hn(s),g&512&&(wa||u===null||si(u,u.return)),g&64&&Mi&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var w=Ts;if(qn(o,s),Hn(s),g&512&&(wa||u===null||si(u,u.return)),g&4){var C=u!==null?u.memoizedState:null;if(g=s.memoizedState,u===null)if(g===null)if(s.stateNode===null){e:{g=s.type,u=s.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":C=w.getElementsByTagName("title")[0],(!C||C[Ft]||C[We]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=w.createElement(g),w.head.insertBefore(C,w.querySelector("head > title"))),Ya(C,g,u),C[We]=s,Yt(C),g=C;break e;case"link":var U=A1("link","href",w).get(g+(u.href||""));if(U){for(var W=0;W<U.length;W++)if(C=U[W],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){U.splice(W,1);break t}}C=w.createElement(g),Ya(C,g,u),w.head.appendChild(C);break;case"meta":if(U=A1("meta","content",w).get(g+(u.content||""))){for(W=0;W<U.length;W++)if(C=U[W],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){U.splice(W,1);break t}}C=w.createElement(g),Ya(C,g,u),w.head.appendChild(C);break;default:throw Error(n(468,g))}C[We]=s,Yt(C),g=C}s.stateNode=g}else R1(w,s.type,s.stateNode);else s.stateNode=T1(w,g,s.memoizedProps);else C!==g?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,g===null?R1(w,s.type,s.stateNode):T1(w,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Ag(s,s.memoizedProps,u.memoizedProps)}break;case 27:qn(o,s),Hn(s),g&512&&(wa||u===null||si(u,u.return)),u!==null&&g&4&&Ag(s,s.memoizedProps,u.memoizedProps);break;case 5:if(qn(o,s),Hn(s),g&512&&(wa||u===null||si(u,u.return)),s.flags&32){w=s.stateNode;try{Ws(w,"")}catch(He){Jr(s,s.return,He)}}g&4&&s.stateNode!=null&&(w=s.memoizedProps,Ag(s,w,u!==null?u.memoizedProps:w)),g&1024&&(Mg=!0);break;case 6:if(qn(o,s),Hn(s),g&4){if(s.stateNode===null)throw Error(n(162));g=s.memoizedProps,u=s.stateNode;try{u.nodeValue=g}catch(He){Jr(s,s.return,He)}}break;case 3:if(Sf=null,w=Ts,Ts=_f(o.containerInfo),qn(o,s),Ts=w,Hn(s),g&4&&u!==null&&u.memoizedState.isDehydrated)try{xd(o.containerInfo)}catch(He){Jr(s,s.return,He)}Mg&&(Mg=!1,Ub(s));break;case 4:g=Ts,Ts=_f(s.stateNode.containerInfo),qn(o,s),Hn(s),Ts=g;break;case 12:qn(o,s),Hn(s);break;case 13:qn(o,s),Hn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(zg=ge()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Dg(s,g)));break;case 22:w=s.memoizedState!==null;var ye=u!==null&&u.memoizedState!==null,Ie=Mi,rt=wa;if(Mi=Ie||w,wa=rt||ye,qn(o,s),wa=rt,Mi=Ie,Hn(s),g&8192)e:for(o=s.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(u===null||ye||Mi||wa||vl(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){ye=u=o;try{if(C=ye.stateNode,w)U=C.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{W=ye.stateNode;var ot=ye.memoizedProps.style,Fe=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;W.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(He){Jr(ye,ye.return,He)}}}else if(o.tag===6){if(u===null){ye=o;try{ye.stateNode.nodeValue=w?"":ye.memoizedProps}catch(He){Jr(ye,ye.return,He)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=s.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,Dg(s,u))));break;case 19:qn(o,s),Hn(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Dg(s,g)));break;case 30:break;case 21:break;default:qn(o,s),Hn(s)}}function Hn(s){var o=s.flags;if(o&2){try{for(var u,g=s.return;g!==null;){if(Tb(g)){u=g;break}g=g.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var w=u.stateNode,C=Rg(s);df(s,C,w);break;case 5:var U=u.stateNode;u.flags&32&&(Ws(U,""),u.flags&=-33);var W=Rg(s);df(s,W,U);break;case 3:case 4:var ye=u.stateNode.containerInfo,Ie=Rg(s);Pg(s,Ie,ye);break;default:throw Error(n(161))}}catch(rt){Jr(s,s.return,rt)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Ub(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Ub(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function xo(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Pb(s,o.alternate,o),o=o.sibling}function vl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),vl(o);break;case 1:si(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&$b(o,o.return,u),vl(o);break;case 27:ud(o.stateNode);case 26:case 5:si(o,o.return),vl(o);break;case 22:o.memoizedState===null&&vl(o);break;case 30:vl(o);break;default:vl(o)}s=s.sibling}}function vo(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,w=s,C=o,U=C.flags;switch(C.tag){case 0:case 11:case 15:vo(w,C,u),ed(4,C);break;case 1:if(vo(w,C,u),g=C,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ie){Jr(g,g.return,Ie)}if(g=C,w=g.updateQueue,w!==null){var W=g.stateNode;try{var ye=w.shared.hiddenCallbacks;if(ye!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ye.length;w++)wt(ye[w],W)}catch(Ie){Jr(g,g.return,Ie)}}u&&U&64&&Eb(C),td(C,C.return);break;case 27:Ab(C);case 26:case 5:vo(w,C,u),u&&g===null&&U&4&&Ob(C),td(C,C.return);break;case 12:vo(w,C,u);break;case 13:vo(w,C,u),u&&U&4&&Ib(w,C);break;case 22:C.memoizedState===null&&vo(w,C,u),td(C,C.return);break;case 30:break;default:vo(w,C,u)}o=o.sibling}}function Ig(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&fo(u))}function Lg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fo(s))}function ii(s,o,u,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Fb(s,o,u,g),o=o.sibling}function Fb(s,o,u,g){var w=o.flags;switch(o.tag){case 0:case 11:case 15:ii(s,o,u,g),w&2048&&ed(9,o);break;case 1:ii(s,o,u,g);break;case 3:ii(s,o,u,g),w&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fo(s)));break;case 12:if(w&2048){ii(s,o,u,g),s=o.stateNode;try{var C=o.memoizedProps,U=C.id,W=C.onPostCommit;typeof W=="function"&&W(U,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ye){Jr(o,o.return,ye)}}else ii(s,o,u,g);break;case 13:ii(s,o,u,g);break;case 23:break;case 22:C=o.stateNode,U=o.alternate,o.memoizedState!==null?C._visibility&2?ii(s,o,u,g):rd(s,o):C._visibility&2?ii(s,o,u,g):(C._visibility|=2,bc(s,o,u,g,(o.subtreeFlags&10256)!==0)),w&2048&&Ig(U,o);break;case 24:ii(s,o,u,g),w&2048&&Lg(o.alternate,o);break;default:ii(s,o,u,g)}}function bc(s,o,u,g,w){for(w=w&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var C=s,U=o,W=u,ye=g,Ie=U.flags;switch(U.tag){case 0:case 11:case 15:bc(C,U,W,ye,w),ed(8,U);break;case 23:break;case 22:var rt=U.stateNode;U.memoizedState!==null?rt._visibility&2?bc(C,U,W,ye,w):rd(C,U):(rt._visibility|=2,bc(C,U,W,ye,w)),w&&Ie&2048&&Ig(U.alternate,U);break;case 24:bc(C,U,W,ye,w),w&&Ie&2048&&Lg(U.alternate,U);break;default:bc(C,U,W,ye,w)}o=o.sibling}}function rd(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,g=o,w=g.flags;switch(g.tag){case 22:rd(u,g),w&2048&&Ig(g.alternate,g);break;case 24:rd(u,g),w&2048&&Lg(g.alternate,g);break;default:rd(u,g)}o=o.sibling}}var ad=8192;function wc(s){if(s.subtreeFlags&ad)for(s=s.child;s!==null;)Bb(s),s=s.sibling}function Bb(s){switch(s.tag){case 26:wc(s),s.flags&ad&&s.memoizedState!==null&&zS(Ts,s.memoizedState,s.memoizedProps);break;case 5:wc(s);break;case 3:case 4:var o=Ts;Ts=_f(s.stateNode.containerInfo),wc(s),Ts=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=ad,ad=16777216,wc(s),ad=o):wc(s));break;default:wc(s)}}function zb(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function nd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var g=o[u];Fa=g,Hb(g,s)}zb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qb(s),s=s.sibling}function qb(s){switch(s.tag){case 0:case 11:case 15:nd(s),s.flags&2048&&yo(9,s,s.return);break;case 3:nd(s);break;case 12:nd(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,ff(s)):nd(s);break;default:nd(s)}}function ff(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var g=o[u];Fa=g,Hb(g,s)}zb(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:yo(8,o,o.return),ff(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ff(o));break;default:ff(o)}s=s.sibling}}function Hb(s,o){for(;Fa!==null;){var u=Fa;switch(u.tag){case 0:case 11:case 15:yo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:fo(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,Fa=g;else e:for(u=s;Fa!==null;){g=Fa;var w=g.sibling,C=g.return;if(Mb(g),g===u){Fa=null;break e}if(w!==null){w.return=C,Fa=w;break e}Fa=C}}}var nS={getCacheForType:function(s){var o=La(ga),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},sS=typeof WeakMap=="function"?WeakMap:Map,Kr=0,ta=null,Cr=null,Mr=0,Wr=0,Gn=null,bo=!1,jc=!1,Ug=!1,Ii=0,pa=0,wo=0,bl=0,Fg=0,ls=0,Nc=0,sd=null,Pn=null,Bg=!1,zg=0,hf=1/0,mf=null,jo=null,Wa=0,No=null,_c=null,kc=0,qg=0,Hg=null,Gb=null,id=0,Gg=null;function Vn(){if((Kr&2)!==0&&Mr!==0)return Mr&-Mr;if(ue.T!==null){var s=ho;return s!==0?s:Zg()}return me()}function Vb(){ls===0&&(ls=(Mr&536870912)===0||Ir?na():536870912);var s=os.current;return s!==null&&(s.flags|=32),ls}function Kn(s,o,u){(s===ta&&(Wr===2||Wr===9)||s.cancelPendingCommit!==null)&&(Sc(s,0),_o(s,Mr,ls,!1)),Xa(s,u),((Kr&2)===0||s!==ta)&&(s===ta&&((Kr&2)===0&&(bl|=u),pa===4&&_o(s,Mr,ls,!1)),oi(s))}function Kb(s,o,u){if((Kr&6)!==0)throw Error(n(327));var g=!u&&(o&124)===0&&(o&s.expiredLanes)===0||nr(s,o),w=g?lS(s,o):Wg(s,o,!0),C=g;do{if(w===0){jc&&!g&&_o(s,o,0,!1);break}else{if(u=s.current.alternate,C&&!iS(u)){w=Wg(s,o,!1),C=!1;continue}if(w===2){if(C=o,s.errorRecoveryDisabledLanes&C)var U=0;else U=s.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){o=U;e:{var W=s;w=sd;var ye=W.current.memoizedState.isDehydrated;if(ye&&(Sc(W,U).flags|=256),U=Wg(W,U,!1),U!==2){if(Ug&&!ye){W.errorRecoveryDisabledLanes|=C,bl|=C,w=4;break e}C=Pn,Pn=w,C!==null&&(Pn===null?Pn=C:Pn.push.apply(Pn,C))}w=U}if(C=!1,w!==2)continue}}if(w===1){Sc(s,0),_o(s,o,0,!0);break}e:{switch(g=s,C=w,C){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:_o(g,o,ls,!bo);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(w=zg+300-ge(),10<w)){if(_o(g,o,ls,!bo),er(g,0,!0)!==0)break e;g.timeoutHandle=j1(Wb.bind(null,g,u,Pn,mf,Bg,o,ls,bl,Nc,bo,C,2,-0,0),w);break e}Wb(g,u,Pn,mf,Bg,o,ls,bl,Nc,bo,C,0,-0,0)}}break}while(!0);oi(s)}function Wb(s,o,u,g,w,C,U,W,ye,Ie,rt,ot,Fe,He){if(s.timeoutHandle=-1,ot=o.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(hd={stylesheets:null,count:0,unsuspend:BS},Bb(o),ot=qS(),ot!==null)){s.cancelPendingCommit=ot(t1.bind(null,s,o,C,u,g,w,U,W,ye,rt,1,Fe,He)),_o(s,C,U,!Ie);return}t1(s,o,C,u,g,w,U,W,ye)}function iS(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var w=u[g],C=w.getSnapshot;w=w.value;try{if(!rn(C(),w))return!1}catch(U){return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _o(s,o,u,g){o&=~Fg,o&=~bl,s.suspendedLanes|=o,s.pingedLanes&=~o,g&&(s.warmLanes|=o),g=s.expirationTimes;for(var w=o;0<w;){var C=31-be(w),U=1<<C;g[C]=-1,w&=~U}u!==0&&Qa(s,u,o)}function gf(){return(Kr&6)===0?(od(0),!1):!0}function Vg(){if(Cr!==null){if(Wr===0)var s=Cr.return;else s=Cr,$s=ei=null,cg(s),xc=null,Qu=0,s=Cr;for(;s!==null;)Cb(s.alternate,s),s=s.return;Cr=null}}function Sc(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,_S(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Vg(),ta=s,Cr=u=Cn(s.current,null),Mr=o,Wr=0,Gn=null,bo=!1,jc=nr(s,o),Ug=!1,Nc=ls=Fg=bl=wo=pa=0,Pn=sd=null,Bg=!1,(o&8)!==0&&(o|=o&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=o;0<g;){var w=31-be(g),C=1<<w;o|=s[w],g&=~C}return Ii=o,cc(),u}function Yb(s,o){hr=null,ue.H=tf,o===v||o===y?(o=L(),Wr=3):o===N?(o=L(),Wr=4):Wr=o===hb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Gn=o,Cr===null&&(pa=1,of(s,Na(o,s.current)))}function Xb(){var s=ue.H;return ue.H=tf,s===null?tf:s}function Qb(){var s=ue.A;return ue.A=nS,s}function Kg(){pa=4,bo||(Mr&4194048)!==Mr&&os.current!==null||(jc=!0),(wo&134217727)===0&&(bl&134217727)===0||ta===null||_o(ta,Mr,ls,!1)}function Wg(s,o,u){var g=Kr;Kr|=2;var w=Xb(),C=Qb();(ta!==s||Mr!==o)&&(mf=null,Sc(s,o)),o=!1;var U=pa;e:do try{if(Wr!==0&&Cr!==null){var W=Cr,ye=Gn;switch(Wr){case 8:Vg(),U=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(o=!0);var Ie=Wr;if(Wr=0,Gn=null,Cc(s,W,ye,Ie),u&&jc){U=0;break e}break;default:Ie=Wr,Wr=0,Gn=null,Cc(s,W,ye,Ie)}}oS(),U=pa;break}catch(rt){Yb(s,rt)}while(!0);return o&&s.shellSuspendCounter++,$s=ei=null,Kr=g,ue.H=w,ue.A=C,Cr===null&&(ta=null,Mr=0,cc()),U}function oS(){for(;Cr!==null;)Zb(Cr)}function lS(s,o){var u=Kr;Kr|=2;var g=Xb(),w=Qb();ta!==s||Mr!==o?(mf=null,hf=ge()+500,Sc(s,o)):jc=nr(s,o);e:do try{if(Wr!==0&&Cr!==null){o=Cr;var C=Gn;t:switch(Wr){case 1:Wr=0,Gn=null,Cc(s,o,C,1);break;case 2:case 9:if(_(C)){Wr=0,Gn=null,Jb(o);break}o=function(){Wr!==2&&Wr!==9||ta!==s||(Wr=7),oi(s)},C.then(o,o);break e;case 3:Wr=7;break e;case 4:Wr=5;break e;case 7:_(C)?(Wr=0,Gn=null,Jb(o)):(Wr=0,Gn=null,Cc(s,o,C,7));break;case 5:var U=null;switch(Cr.tag){case 26:U=Cr.memoizedState;case 5:case 27:var W=Cr;if(!U||P1(U)){Wr=0,Gn=null;var ye=W.sibling;if(ye!==null)Cr=ye;else{var Ie=W.return;Ie!==null?(Cr=Ie,pf(Ie)):Cr=null}break t}}Wr=0,Gn=null,Cc(s,o,C,5);break;case 6:Wr=0,Gn=null,Cc(s,o,C,6);break;case 8:Vg(),pa=6;break e;default:throw Error(n(462))}}cS();break}catch(rt){Yb(s,rt)}while(!0);return $s=ei=null,ue.H=g,ue.A=w,Kr=u,Cr!==null?0:(ta=null,Mr=0,cc(),pa)}function cS(){for(;Cr!==null&&!et();)Zb(Cr)}function Zb(s){var o=kb(s.alternate,s,Ii);s.memoizedProps=s.pendingProps,o===null?pf(s):Cr=o}function Jb(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=vb(u,o,o.pendingProps,o.type,void 0,Mr);break;case 11:o=vb(u,o,o.pendingProps,o.type.render,o.ref,Mr);break;case 5:cg(o);default:Cb(u,o),o=Cr=Iu(o,Ii),o=kb(u,o,Ii)}s.memoizedProps=s.pendingProps,o===null?pf(s):Cr=o}function Cc(s,o,u,g){$s=ei=null,cg(o),xc=null,Qu=0;var w=o.return;try{if(Zk(s,w,o,u,Mr)){pa=1,of(s,Na(u,s.current)),Cr=null;return}}catch(C){if(w!==null)throw Cr=w,C;pa=1,of(s,Na(u,s.current)),Cr=null;return}o.flags&32768?(Ir||g===1?s=!0:jc||(Mr&536870912)!==0?s=!1:(bo=s=!0,(g===2||g===9||g===3||g===6)&&(g=os.current,g!==null&&g.tag===13&&(g.flags|=16384))),e1(o,s)):pf(o)}function pf(s){var o=s;do{if((o.flags&32768)!==0){e1(o,bo);return}s=o.return;var u=eS(o.alternate,o,Ii);if(u!==null){Cr=u;return}if(o=o.sibling,o!==null){Cr=o;return}Cr=o=s}while(o!==null);pa===0&&(pa=5)}function e1(s,o){do{var u=tS(s.alternate,s);if(u!==null){u.flags&=32767,Cr=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Cr=s;return}Cr=s=u}while(s!==null);pa=6,Cr=null}function t1(s,o,u,g,w,C,U,W,ye){s.cancelPendingCommit=null;do yf();while(Wa!==0);if((Kr&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(C=o.lanes|o.childLanes,C|=lc,_n(s,u,C,U,W,ye),s===ta&&(Cr=ta=null,Mr=0),_c=o,No=s,kc=u,qg=C,Hg=w,Gb=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,hS(Kt,function(){return i1(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=ue.T,ue.T=null,w=ne.p,ne.p=2,U=Kr,Kr|=4;try{rS(s,o,u)}finally{Kr=U,ne.p=w,ue.T=g}}Wa=1,r1(),a1(),n1()}}function r1(){if(Wa===1){Wa=0;var s=No,o=_c,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ue.T,ue.T=null;var g=ne.p;ne.p=2;var w=Kr;Kr|=4;try{Lb(o,s);var C=ip,U=Tu(s.containerInfo),W=C.focusedElem,ye=C.selectionRange;if(U!==W&&W&&W.ownerDocument&&nc(W.ownerDocument.documentElement,W)){if(ye!==null&&Au(W)){var Ie=ye.start,rt=ye.end;if(rt===void 0&&(rt=Ie),"selectionStart"in W)W.selectionStart=Ie,W.selectionEnd=Math.min(rt,W.value.length);else{var ot=W.ownerDocument||document,Fe=ot&&ot.defaultView||window;if(Fe.getSelection){var He=Fe.getSelection(),or=W.textContent.length,Jt=Math.min(ye.start,or),Qr=ye.end===void 0?Jt:Math.min(ye.end,or);!He.extend&&Jt>Qr&&(U=Qr,Qr=Jt,Jt=U);var Re=Ou(W,Jt),Ce=Ou(W,Qr);if(Re&&Ce&&(He.rangeCount!==1||He.anchorNode!==Re.node||He.anchorOffset!==Re.offset||He.focusNode!==Ce.node||He.focusOffset!==Ce.offset)){var Me=ot.createRange();Me.setStart(Re.node,Re.offset),He.removeAllRanges(),Jt>Qr?(He.addRange(Me),He.extend(Ce.node,Ce.offset)):(Me.setEnd(Ce.node,Ce.offset),He.addRange(Me))}}}}for(ot=[],He=W;He=He.parentNode;)He.nodeType===1&&ot.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<ot.length;W++){var nt=ot[W];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}$f=!!sp,ip=sp=null}finally{Kr=w,ne.p=g,ue.T=u}}s.current=o,Wa=2}}function a1(){if(Wa===2){Wa=0;var s=No,o=_c,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ue.T,ue.T=null;var g=ne.p;ne.p=2;var w=Kr;Kr|=4;try{Pb(s,o.alternate,o)}finally{Kr=w,ne.p=g,ue.T=u}}Wa=3}}function n1(){if(Wa===4||Wa===3){Wa=0,Tt();var s=No,o=_c,u=kc,g=Gb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Wa=5:(Wa=0,_c=No=null,s1(s,s.pendingLanes));var w=s.pendingLanes;if(w===0&&(jo=null),$r(u),o=o.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(gt,o,void 0,(o.current.flags&128)===128)}catch(ye){}if(g!==null){o=ue.T,w=ne.p,ne.p=2,ue.T=null;try{for(var C=s.onRecoverableError,U=0;U<g.length;U++){var W=g[U];C(W.value,{componentStack:W.stack})}}finally{ue.T=o,ne.p=w}}(kc&3)!==0&&yf(),oi(s),w=s.pendingLanes,(u&4194090)!==0&&(w&42)!==0?s===Gg?id++:(id=0,Gg=s):id=0,od(0)}}function s1(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,fo(o)))}function yf(s){return r1(),a1(),n1(),i1()}function i1(){if(Wa!==5)return!1;var s=No,o=qg;qg=0;var u=$r(kc),g=ue.T,w=ne.p;try{ne.p=32>u?32:u,ue.T=null,u=Hg,Hg=null;var C=No,U=kc;if(Wa=0,_c=No=null,kc=0,(Kr&6)!==0)throw Error(n(331));var W=Kr;if(Kr|=4,qb(C.current),Fb(C,C.current,U,u),Kr=W,od(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(gt,C)}catch(ye){}return!0}finally{ne.p=w,ue.T=g,s1(s,o)}}function o1(s,o,u){o=Na(u,o),o=Ng(s.stateNode,o,2),s=ze(s,o,2),s!==null&&(Xa(s,2),oi(s))}function Jr(s,o,u){if(s.tag===3)o1(s,s,u);else for(;o!==null;){if(o.tag===3){o1(o,s,u);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(jo===null||!jo.has(g))){s=Na(u,s),u=db(2),g=ze(o,u,2),g!==null&&(fb(u,g,o,s),Xa(g,2),oi(g));break}}o=o.return}}function Yg(s,o,u){var g=s.pingCache;if(g===null){g=s.pingCache=new sS;var w=new Set;g.set(o,w)}else w=g.get(o),w===void 0&&(w=new Set,g.set(o,w));w.has(u)||(Ug=!0,w.add(u),s=uS.bind(null,s,o,u),o.then(s,s))}function uS(s,o,u){var g=s.pingCache;g!==null&&g.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,ta===s&&(Mr&u)===u&&(pa===4||pa===3&&(Mr&62914560)===Mr&&300>ge()-zg?(Kr&2)===0&&Sc(s,0):Fg|=u,Nc===Mr&&(Nc=0)),oi(s)}function l1(s,o){o===0&&(o=yr()),s=co(s,o),s!==null&&(Xa(s,o),oi(s))}function dS(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),l1(s,u)}function fS(s,o){var u=0;switch(s.tag){case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(u=w.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(o),l1(s,u)}function hS(s,o){return ur(s,o)}var xf=null,Ec=null,Xg=!1,vf=!1,Qg=!1,wl=0;function oi(s){s!==Ec&&s.next===null&&(Ec===null?xf=Ec=s:Ec=Ec.next=s),vf=!0,Xg||(Xg=!0,gS())}function od(s,o){if(!Qg&&vf){Qg=!0;do for(var u=!1,g=xf;g!==null;){if(s!==0){var w=g.pendingLanes;if(w===0)var C=0;else{var U=g.suspendedLanes,W=g.pingedLanes;C=(1<<31-be(42|s)+1)-1,C&=w&~(U&~W),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,f1(g,C))}else C=Mr,C=er(g,g===ta?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||nr(g,C)||(u=!0,f1(g,C));g=g.next}while(u);Qg=!1}}function mS(){c1()}function c1(){vf=Xg=!1;var s=0;wl!==0&&(NS()&&(s=wl),wl=0);for(var o=ge(),u=null,g=xf;g!==null;){var w=g.next,C=u1(g,o);C===0?(g.next=null,u===null?xf=w:u.next=w,w===null&&(Ec=u)):(u=g,(s!==0||(C&3)!==0)&&(vf=!0)),g=w}od(s)}function u1(s,o){for(var u=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var U=31-be(C),W=1<<U,ye=w[U];ye===-1?((W&u)===0||(W&g)!==0)&&(w[U]=vr(W,o)):ye<=o&&(s.expiredLanes|=W),C&=~W}if(o=ta,u=Mr,u=er(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,u===0||s===o&&(Wr===2||Wr===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&ve(g),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||nr(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(g!==null&&ve(g),$r(u)){case 2:case 8:u=gr;break;case 32:u=Kt;break;case 268435456:u=qe;break;default:u=Kt}return g=d1.bind(null,s),u=ur(u,g),s.callbackPriority=o,s.callbackNode=u,o}return g!==null&&g!==null&&ve(g),s.callbackPriority=2,s.callbackNode=null,2}function d1(s,o){if(Wa!==0&&Wa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(yf()&&s.callbackNode!==u)return null;var g=Mr;return g=er(s,s===ta?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(Kb(s,g,o),u1(s,ge()),s.callbackNode!=null&&s.callbackNode===u?d1.bind(null,s):null)}function f1(s,o){if(yf())return null;Kb(s,o,!0)}function gS(){kS(function(){(Kr&6)!==0?ur(lt,mS):c1()})}function Zg(){return wl===0&&(wl=na()),wl}function h1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:to(""+s)}function m1(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function pS(s,o,u,g,w){if(o==="submit"&&u&&u.stateNode===w){var C=h1((w[Te]||null).action),U=g.submitter;U&&(o=(o=U[Te]||null)?h1(o.formAction):U.getAttribute("formAction"),o!==null&&(C=o,U=null));var W=new Ma("action","action",null,g,w);s.push({event:W,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(wl!==0){var ye=U?m1(w,U):new FormData(w);xg(u,{pending:!0,data:ye,method:w.method,action:C},null,ye)}}else typeof C=="function"&&(W.preventDefault(),ye=U?m1(w,U):new FormData(w),xg(u,{pending:!0,data:ye,method:w.method,action:C},C,ye))},currentTarget:w}]})}}for(var Jg=0;Jg<oc.length;Jg++){var ep=oc[Jg],yS=ep.toLowerCase(),xS=ep[0].toUpperCase()+ep.slice(1);Fn(yS,"on"+xS)}Fn(Zs,"onAnimationEnd"),Fn(F0,"onAnimationIteration"),Fn(B0,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(rg,"onTransitionRun"),Fn(ag,"onTransitionStart"),Fn(ng,"onTransitionCancel"),Fn(z0,"onTransitionEnd"),sa("onMouseEnter",["mouseout","mouseover"]),sa("onMouseLeave",["mouseout","mouseover"]),sa("onPointerEnter",["pointerout","pointerover"]),sa("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ld));function g1(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var g=s[u],w=g.event;g=g.listeners;e:{var C=void 0;if(o)for(var U=g.length-1;0<=U;U--){var W=g[U],ye=W.instance,Ie=W.currentTarget;if(W=W.listener,ye!==C&&w.isPropagationStopped())break e;C=W,w.currentTarget=Ie;try{C(w)}catch(rt){sf(rt)}w.currentTarget=null,C=ye}else for(U=0;U<g.length;U++){if(W=g[U],ye=W.instance,Ie=W.currentTarget,W=W.listener,ye!==C&&w.isPropagationStopped())break e;C=W,w.currentTarget=Ie;try{C(w)}catch(rt){sf(rt)}w.currentTarget=null,C=ye}}}}function Er(s,o){var u=o[It];u===void 0&&(u=o[It]=new Set);var g=s+"__bubble";u.has(g)||(p1(o,s,2,!1),u.add(g))}function tp(s,o,u){var g=0;o&&(g|=4),p1(u,s,g,o)}var bf="_reactListening"+Math.random().toString(36).slice(2);function rp(s){if(!s[bf]){s[bf]=!0,Ht.forEach(function(u){u!=="selectionchange"&&(vS.has(u)||tp(u,!1,s),tp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[bf]||(o[bf]=!0,tp("selectionchange",!1,o))}}function p1(s,o,u,g){switch(F1(o)){case 2:var w=VS;break;case 8:w=KS;break;default:w=pp}u=w.bind(null,o,u,s),w=void 0,!ro||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(o,u,{capture:!0,passive:w}):s.addEventListener(o,u,!0):w!==void 0?s.addEventListener(o,u,{passive:w}):s.addEventListener(o,u,!1)}function ap(s,o,u,g,w){var C=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var U=g.tag;if(U===3||U===4){var W=g.stateNode.containerInfo;if(W===w)break;if(U===4)for(U=g.return;U!==null;){var ye=U.tag;if((ye===3||ye===4)&&U.stateNode.containerInfo===w)return;U=U.return}for(;W!==null;){if(U=dr(W),U===null)return;if(ye=U.tag,ye===5||ye===6||ye===26||ye===27){g=C=U;continue e}W=W.parentNode}}g=g.return}sl(function(){var Ie=C,rt=xi(u),ot=[];e:{var Fe=ic.get(s);if(Fe!==void 0){var He=Ma,or=s;switch(s){case"keypress":if(Ln(u)===0)break e;case"keydown":case"keyup":He=Un;break;case"focusin":or="focus",He=St;break;case"focusout":or="blur",He=St;break;case"beforeblur":case"afterblur":He=St;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Se;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=Ee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Zl;break;case Zs:case F0:case B0:He=Ct;break;case z0:He=Xm;break;case"scroll":case"scrollend":He=Lr;break;case"wheel":He=Qm;break;case"copy":case"cut":case"paste":He=Hr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=ao;break;case"toggle":case"beforetoggle":He=k0}var Jt=(o&4)!==0,Qr=!Jt&&(s==="scroll"||s==="scrollend"),Re=Jt?Fe!==null?Fe+"Capture":null:Fe;Jt=[];for(var Ce=Ie,Me;Ce!==null;){var nt=Ce;if(Me=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Me===null||Re===null||(nt=rs(Ce,Re),nt!=null&&Jt.push(cd(Ce,nt,Me))),Qr)break;Ce=Ce.return}0<Jt.length&&(Fe=new He(Fe,or,null,u,rt),ot.push({event:Fe,listeners:Jt}))}}if((o&7)===0){e:{if(Fe=s==="mouseover"||s==="pointerover",He=s==="mouseout"||s==="pointerout",Fe&&u!==al&&(or=u.relatedTarget||u.fromElement)&&(dr(or)||or[Nt]))break e;if((He||Fe)&&(Fe=rt.window===rt?rt:(Fe=rt.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,He?(or=u.relatedTarget||u.toElement,He=Ie,or=or?dr(or):null,or!==null&&(Qr=l(or),Jt=or.tag,or!==Qr||Jt!==5&&Jt!==27&&Jt!==6)&&(or=null)):(He=null,or=Ie),He!==or)){if(Jt=Se,nt="onMouseLeave",Re="onMouseEnter",Ce="mouse",(s==="pointerout"||s==="pointerover")&&(Jt=ao,nt="onPointerLeave",Re="onPointerEnter",Ce="pointer"),Qr=He==null?Fe:qr(He),Me=or==null?Fe:qr(or),Fe=new Jt(nt,Ce+"leave",He,u,rt),Fe.target=Qr,Fe.relatedTarget=Me,nt=null,dr(rt)===Ie&&(Jt=new Jt(Re,Ce+"enter",or,u,rt),Jt.target=Me,Jt.relatedTarget=Qr,nt=Jt),Qr=nt,He&&or)t:{for(Jt=He,Re=or,Ce=0,Me=Jt;Me;Me=$c(Me))Ce++;for(Me=0,nt=Re;nt;nt=$c(nt))Me++;for(;0<Ce-Me;)Jt=$c(Jt),Ce--;for(;0<Me-Ce;)Re=$c(Re),Me--;for(;Ce--;){if(Jt===Re||Re!==null&&Jt===Re.alternate)break t;Jt=$c(Jt),Re=$c(Re)}Jt=null}else Jt=null;He!==null&&y1(ot,Fe,He,Jt,!1),or!==null&&Qr!==null&&y1(ot,Qr,or,Jt,!0)}}e:{if(Fe=Ie?qr(Ie):window,He=Fe.nodeName&&Fe.nodeName.toLowerCase(),He==="select"||He==="input"&&Fe.type==="file")var Pt=Su;else if(rc(Fe))if(ks)Pt=L0;else{Pt=I0;var Nr=eg}else He=Fe.nodeName,!He||He.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Ie&&yi(Ie.elementType)&&(Pt=Su):Pt=tg;if(Pt&&(Pt=Pt(s,Ie))){P0(ot,Pt,u,rt);break e}Nr&&Nr(s,Fe,Ie),s==="focusout"&&Ie&&Fe.type==="number"&&Ie.memoizedProps.value!=null&&gi(Fe,"number",Fe.value)}switch(Nr=Ie?qr(Ie):window,s){case"focusin":(rc(Nr)||Nr.contentEditable==="true")&&(ji=Nr,Ru=Ie,so=null);break;case"focusout":so=Ru=ji=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,fl(ot,u,rt);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":fl(ot,u,rt)}var Gt;if(_u)e:{switch(s){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else Qs?ku(s,u)&&(rr="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(rr="onCompositionStart");rr&&(C0&&u.locale!=="ko"&&(Qs||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&Qs&&(Gt=vi()):(dn=rt,en="value"in dn?dn.value:dn.textContent,Qs=!0)),Nr=wf(Ie,rr),0<Nr.length&&(rr=new Vt(rr,s,null,u,rt),ot.push({event:rr,listeners:Nr}),Gt?rr.data=Gt:(Gt=O0(u),Gt!==null&&(rr.data=Gt)))),(Gt=S0?T0(s,u):A0(s,u))&&(rr=wf(Ie,"onBeforeInput"),0<rr.length&&(Nr=new Vt("onBeforeInput","beforeinput",null,u,rt),ot.push({event:Nr,listeners:rr}),Nr.data=Gt)),pS(ot,s,Ie,u,rt)}g1(ot,o)})}function cd(s,o,u){return{instance:s,listener:o,currentTarget:u}}function wf(s,o){for(var u=o+"Capture",g=[];s!==null;){var w=s,C=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||C===null||(w=rs(s,u),w!=null&&g.unshift(cd(s,w,C)),w=rs(s,o),w!=null&&g.push(cd(s,w,C))),s.tag===3)return g;s=s.return}return[]}function $c(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function y1(s,o,u,g,w){for(var C=o._reactName,U=[];u!==null&&u!==g;){var W=u,ye=W.alternate,Ie=W.stateNode;if(W=W.tag,ye!==null&&ye===g)break;W!==5&&W!==26&&W!==27||Ie===null||(ye=Ie,w?(Ie=rs(u,C),Ie!=null&&U.unshift(cd(u,Ie,ye))):w||(Ie=rs(u,C),Ie!=null&&U.push(cd(u,Ie,ye)))),u=u.return}U.length!==0&&s.push({event:o,listeners:U})}var bS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function x1(s){return(typeof s=="string"?s:""+s).replace(bS,`
`).replace(wS,"")}function v1(s,o){return o=x1(o),x1(s)===o}function jf(){}function Xr(s,o,u,g,w,C){switch(u){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||Ws(s,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&Ws(s,""+g);break;case"className":Ea(s,"class",g);break;case"tabIndex":Ea(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ea(s,u,g);break;case"style":rl(s,g,C);break;case"data":if(o!=="object"){Ea(s,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(u);break}g=to(""+g),s.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&Xr(s,o,"name",w.name,w,null),Xr(s,o,"formEncType",w.formEncType,w,null),Xr(s,o,"formMethod",w.formMethod,w,null),Xr(s,o,"formTarget",w.formTarget,w,null)):(Xr(s,o,"encType",w.encType,w,null),Xr(s,o,"method",w.method,w,null),Xr(s,o,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(u);break}g=to(""+g),s.setAttribute(u,g);break;case"onClick":g!=null&&(s.onclick=jf);break;case"onScroll":g!=null&&Er("scroll",s);break;case"onScrollEnd":g!=null&&Er("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(u=g.__html,u!=null){if(w.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}u=to(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(u,""+g):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":g===!0?s.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(u,g):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(u,g):s.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(u):s.setAttribute(u,g);break;case"popover":Er("beforetoggle",s),Er("toggle",s),la(s,"popover",g);break;case"xlinkActuate":fr(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":fr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":fr(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":fr(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":fr(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":fr(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":fr(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":fr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":fr(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":la(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=eo.get(u)||u,la(s,u,g))}}function np(s,o,u,g,w,C){switch(u){case"style":rl(s,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(u=g.__html,u!=null){if(w.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof g=="string"?Ws(s,g):(typeof g=="number"||typeof g=="bigint")&&Ws(s,""+g);break;case"onScroll":g!=null&&Er("scroll",s);break;case"onScrollEnd":g!=null&&Er("scrollend",s);break;case"onClick":g!=null&&(s.onclick=jf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),o=u.slice(2,w?u.length-7:void 0),C=s[Te]||null,C=C!=null?C[u]:null,typeof C=="function"&&s.removeEventListener(o,C,w),typeof g=="function")){typeof C!="function"&&C!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,g,w);break e}u in s?s[u]=g:g===!0?s.setAttribute(u,""):la(s,u,g)}}}function Ya(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Er("error",s),Er("load",s);var g=!1,w=!1,C;for(C in u)if(u.hasOwnProperty(C)){var U=u[C];if(U!=null)switch(C){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Xr(s,o,C,U,u,null)}}w&&Xr(s,o,"srcSet",u.srcSet,u,null),g&&Xr(s,o,"src",u.src,u,null);return;case"input":Er("invalid",s);var W=C=U=w=null,ye=null,Ie=null;for(g in u)if(u.hasOwnProperty(g)){var rt=u[g];if(rt!=null)switch(g){case"name":w=rt;break;case"type":U=rt;break;case"checked":ye=rt;break;case"defaultChecked":Ie=rt;break;case"value":C=rt;break;case"defaultValue":W=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,o));break;default:Xr(s,o,g,rt,u,null)}}vs(s,C,W,ye,Ie,U,w,!1),Wt(s);return;case"select":Er("invalid",s),g=U=C=null;for(w in u)if(u.hasOwnProperty(w)&&(W=u[w],W!=null))switch(w){case"value":C=W;break;case"defaultValue":U=W;break;case"multiple":g=W;default:Xr(s,o,w,W,u,null)}o=C,u=U,s.multiple=!!g,o!=null?In(s,!!g,o,!1):u!=null&&In(s,!!g,u,!0);return;case"textarea":Er("invalid",s),C=w=g=null;for(U in u)if(u.hasOwnProperty(U)&&(W=u[U],W!=null))switch(U){case"value":g=W;break;case"defaultValue":w=W;break;case"children":C=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:Xr(s,o,U,W,u,null)}tl(s,g,w,C),Wt(s);return;case"option":for(ye in u)if(u.hasOwnProperty(ye)&&(g=u[ye],g!=null))switch(ye){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Xr(s,o,ye,g,u,null)}return;case"dialog":Er("beforetoggle",s),Er("toggle",s),Er("cancel",s),Er("close",s);break;case"iframe":case"object":Er("load",s);break;case"video":case"audio":for(g=0;g<ld.length;g++)Er(ld[g],s);break;case"image":Er("error",s),Er("load",s);break;case"details":Er("toggle",s);break;case"embed":case"source":case"link":Er("error",s),Er("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in u)if(u.hasOwnProperty(Ie)&&(g=u[Ie],g!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Xr(s,o,Ie,g,u,null)}return;default:if(yi(o)){for(rt in u)u.hasOwnProperty(rt)&&(g=u[rt],g!==void 0&&np(s,o,rt,g,u,void 0));return}}for(W in u)u.hasOwnProperty(W)&&(g=u[W],g!=null&&Xr(s,o,W,g,u,null))}function jS(s,o,u,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,C=null,U=null,W=null,ye=null,Ie=null,rt=null;for(He in u){var ot=u[He];if(u.hasOwnProperty(He)&&ot!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":ye=ot;default:g.hasOwnProperty(He)||Xr(s,o,He,null,g,ot)}}for(var Fe in g){var He=g[Fe];if(ot=u[Fe],g.hasOwnProperty(Fe)&&(He!=null||ot!=null))switch(Fe){case"type":C=He;break;case"name":w=He;break;case"checked":Ie=He;break;case"defaultChecked":rt=He;break;case"value":U=He;break;case"defaultValue":W=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(137,o));break;default:He!==ot&&Xr(s,o,Fe,He,g,ot)}}Ra(s,U,W,ye,Ie,rt,C,w);return;case"select":He=U=W=Fe=null;for(C in u)if(ye=u[C],u.hasOwnProperty(C)&&ye!=null)switch(C){case"value":break;case"multiple":He=ye;default:g.hasOwnProperty(C)||Xr(s,o,C,null,g,ye)}for(w in g)if(C=g[w],ye=u[w],g.hasOwnProperty(w)&&(C!=null||ye!=null))switch(w){case"value":Fe=C;break;case"defaultValue":W=C;break;case"multiple":U=C;default:C!==ye&&Xr(s,o,w,C,g,ye)}o=W,u=U,g=He,Fe!=null?In(s,!!u,Fe,!1):!!g!=!!u&&(o!=null?In(s,!!u,o,!0):In(s,!!u,u?[]:"",!1));return;case"textarea":He=Fe=null;for(W in u)if(w=u[W],u.hasOwnProperty(W)&&w!=null&&!g.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Xr(s,o,W,null,g,w)}for(U in g)if(w=g[U],C=u[U],g.hasOwnProperty(U)&&(w!=null||C!=null))switch(U){case"value":Fe=w;break;case"defaultValue":He=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==C&&Xr(s,o,U,w,g,C)}pi(s,Fe,He);return;case"option":for(var or in u)if(Fe=u[or],u.hasOwnProperty(or)&&Fe!=null&&!g.hasOwnProperty(or))switch(or){case"selected":s.selected=!1;break;default:Xr(s,o,or,null,g,Fe)}for(ye in g)if(Fe=g[ye],He=u[ye],g.hasOwnProperty(ye)&&Fe!==He&&(Fe!=null||He!=null))switch(ye){case"selected":s.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:Xr(s,o,ye,Fe,g,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in u)Fe=u[Jt],u.hasOwnProperty(Jt)&&Fe!=null&&!g.hasOwnProperty(Jt)&&Xr(s,o,Jt,null,g,Fe);for(Ie in g)if(Fe=g[Ie],He=u[Ie],g.hasOwnProperty(Ie)&&Fe!==He&&(Fe!=null||He!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,o));break;default:Xr(s,o,Ie,Fe,g,He)}return;default:if(yi(o)){for(var Qr in u)Fe=u[Qr],u.hasOwnProperty(Qr)&&Fe!==void 0&&!g.hasOwnProperty(Qr)&&np(s,o,Qr,void 0,g,Fe);for(rt in g)Fe=g[rt],He=u[rt],!g.hasOwnProperty(rt)||Fe===He||Fe===void 0&&He===void 0||np(s,o,rt,Fe,g,He);return}}for(var Re in u)Fe=u[Re],u.hasOwnProperty(Re)&&Fe!=null&&!g.hasOwnProperty(Re)&&Xr(s,o,Re,null,g,Fe);for(ot in g)Fe=g[ot],He=u[ot],!g.hasOwnProperty(ot)||Fe===He||Fe==null&&He==null||Xr(s,o,ot,Fe,g,He)}var sp=null,ip=null;function Nf(s){return s.nodeType===9?s:s.ownerDocument}function b1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w1(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function op(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var lp=null;function NS(){var s=window.event;return s&&s.type==="popstate"?s===lp?!1:(lp=s,!0):(lp=null,!1)}var j1=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof N1!="undefined"?function(s){return N1.resolve(null).then(s).catch(SS)}:j1;function SS(s){setTimeout(function(){throw s})}function ko(s){return s==="head"}function _1(s,o){var u=o,g=0,w=0;do{var C=u.nextSibling;if(s.removeChild(u),C&&C.nodeType===8)if(u=C.data,u==="/$"){if(0<g&&8>g){u=g;var U=s.ownerDocument;if(u&1&&ud(U.documentElement),u&2&&ud(U.body),u&4)for(u=U.head,ud(u),U=u.firstChild;U;){var W=U.nextSibling,ye=U.nodeName;U[Ft]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&U.rel.toLowerCase()==="stylesheet"||u.removeChild(U),U=W}}if(w===0){s.removeChild(C),xd(o);return}w--}else u==="$"||u==="$?"||u==="$!"?w++:g=u.charCodeAt(0)-48;else g=0;u=C}while(u);xd(o)}function cp(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":cp(u),tr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function CS(s,o,u,g){for(;s.nodeType===1;){var w=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Ft])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==w.rel||s.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||s.getAttribute("title")!==(w.title==null?null:w.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(w.src==null?null:w.src)||s.getAttribute("type")!==(w.type==null?null:w.type)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var C=w.name==null?null:""+w.name;if(w.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=As(s.nextSibling),s===null)break}return null}function ES(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=As(s.nextSibling),s===null))return null;return s}function up(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function $S(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var g=function(){o(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function As(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var dp=null;function k1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function S1(s,o,u){switch(o=Nf(u),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function ud(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);tr(s)}var cs=new Map,C1=new Set;function _f(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Li=ne.d;ne.d={f:OS,r:TS,D:AS,C:RS,L:PS,m:MS,X:IS,S:DS,M:LS};function OS(){var s=Li.f(),o=gf();return s||o}function TS(s){var o=Rr(s);o!==null&&o.tag===5&&o.type==="form"?Kv(o):Li.r(s)}var Oc=typeof document=="undefined"?null:document;function E1(s,o,u){var g=Oc;if(g&&typeof o=="string"&&o){var w=zr(o);w='link[rel="'+s+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),C1.has(w)||(C1.add(w),s={rel:s,crossOrigin:u,href:o},g.querySelector(w)===null&&(o=g.createElement("link"),Ya(o,"link",s),Yt(o),g.head.appendChild(o)))}}function AS(s){Li.D(s),E1("dns-prefetch",s,null)}function RS(s,o){Li.C(s,o),E1("preconnect",s,o)}function PS(s,o,u){Li.L(s,o,u);var g=Oc;if(g&&s&&o){var w='link[rel="preload"][as="'+zr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+zr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+zr(u.imageSizes)+'"]')):w+='[href="'+zr(s)+'"]';var C=w;switch(o){case"style":C=Tc(s);break;case"script":C=Ac(s)}cs.has(C)||(s=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),cs.set(C,s),g.querySelector(w)!==null||o==="style"&&g.querySelector(dd(C))||o==="script"&&g.querySelector(fd(C))||(o=g.createElement("link"),Ya(o,"link",s),Yt(o),g.head.appendChild(o)))}}function MS(s,o){Li.m(s,o);var u=Oc;if(u&&s){var g=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+zr(g)+'"][href="'+zr(s)+'"]',C=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Ac(s)}if(!cs.has(C)&&(s=m({rel:"modulepreload",href:s},o),cs.set(C,s),u.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(fd(C)))return}g=u.createElement("link"),Ya(g,"link",s),Yt(g),u.head.appendChild(g)}}}function DS(s,o,u){Li.S(s,o,u);var g=Oc;if(g&&s){var w=Or(g).hoistableStyles,C=Tc(s);o=o||"default";var U=w.get(C);if(!U){var W={loading:0,preload:null};if(U=g.querySelector(dd(C)))W.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},u),(u=cs.get(C))&&fp(s,u);var ye=U=g.createElement("link");Yt(ye),Ya(ye,"link",s),ye._p=new Promise(function(Ie,rt){ye.onload=Ie,ye.onerror=rt}),ye.addEventListener("load",function(){W.loading|=1}),ye.addEventListener("error",function(){W.loading|=2}),W.loading|=4,kf(U,o,g)}U={type:"stylesheet",instance:U,count:1,state:W},w.set(C,U)}}}function IS(s,o){Li.X(s,o);var u=Oc;if(u&&s){var g=Or(u).hoistableScripts,w=Ac(s),C=g.get(w);C||(C=u.querySelector(fd(w)),C||(s=m({src:s,async:!0},o),(o=cs.get(w))&&hp(s,o),C=u.createElement("script"),Yt(C),Ya(C,"link",s),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(w,C))}}function LS(s,o){Li.M(s,o);var u=Oc;if(u&&s){var g=Or(u).hoistableScripts,w=Ac(s),C=g.get(w);C||(C=u.querySelector(fd(w)),C||(s=m({src:s,async:!0,type:"module"},o),(o=cs.get(w))&&hp(s,o),C=u.createElement("script"),Yt(C),Ya(C,"link",s),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(w,C))}}function $1(s,o,u,g){var w=(w=X.current)?_f(w):null;if(!w)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Tc(u.href),u=Or(w).hoistableStyles,g=u.get(o),g||(g={type:"style",instance:null,count:0,state:null},u.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Tc(u.href);var C=Or(w).hoistableStyles,U=C.get(s);if(U||(w=w.ownerDocument||w,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,U),(C=w.querySelector(dd(s)))&&!C._p&&(U.instance=C,U.state.loading=5),cs.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},cs.set(s,u),C||US(w,s,u,U.state))),o&&g===null)throw Error(n(528,""));return U}if(o&&g!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ac(u),u=Or(w).hoistableScripts,g=u.get(o),g||(g={type:"script",instance:null,count:0,state:null},u.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Tc(s){return'href="'+zr(s)+'"'}function dd(s){return'link[rel="stylesheet"]['+s+"]"}function O1(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function US(s,o,u,g){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=s.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),Ya(o,"link",u),Yt(o),s.head.appendChild(o))}function Ac(s){return'[src="'+zr(s)+'"]'}function fd(s){return"script[async]"+s}function T1(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var g=s.querySelector('style[data-href~="'+zr(u.href)+'"]');if(g)return o.instance=g,Yt(g),g;var w=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Yt(g),Ya(g,"style",w),kf(g,u.precedence,s),o.instance=g;case"stylesheet":w=Tc(u.href);var C=s.querySelector(dd(w));if(C)return o.state.loading|=4,o.instance=C,Yt(C),C;g=O1(u),(w=cs.get(w))&&fp(g,w),C=(s.ownerDocument||s).createElement("link"),Yt(C);var U=C;return U._p=new Promise(function(W,ye){U.onload=W,U.onerror=ye}),Ya(C,"link",g),o.state.loading|=4,kf(C,u.precedence,s),o.instance=C;case"script":return C=Ac(u.src),(w=s.querySelector(fd(C)))?(o.instance=w,Yt(w),w):(g=u,(w=cs.get(C))&&(g=m({},u),hp(g,w)),s=s.ownerDocument||s,w=s.createElement("script"),Yt(w),Ya(w,"link",g),s.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,kf(g,u.precedence,s));return o.instance}function kf(s,o,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,C=w,U=0;U<g.length;U++){var W=g[U];if(W.dataset.precedence===o)C=W;else if(C!==w)break}C?C.parentNode.insertBefore(s,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function fp(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function hp(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Sf=null;function A1(s,o,u){if(Sf===null){var g=new Map,w=Sf=new Map;w.set(u,g)}else w=Sf,g=w.get(u),g||(g=new Map,w.set(u,g));if(g.has(s))return g;for(g.set(s,null),u=u.getElementsByTagName(s),w=0;w<u.length;w++){var C=u[w];if(!(C[Ft]||C[We]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var U=C.getAttribute(o)||"";U=s+U;var W=g.get(U);W?W.push(C):g.set(U,[C])}}return g}function R1(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function FS(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function P1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var hd=null;function BS(){}function zS(s,o,u){if(hd===null)throw Error(n(475));var g=hd;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var w=Tc(u.href),C=s.querySelector(dd(w));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=Cf.bind(g),s.then(g,g)),o.state.loading|=4,o.instance=C,Yt(C);return}C=s.ownerDocument||s,u=O1(u),(w=cs.get(w))&&fp(u,w),C=C.createElement("link"),Yt(C);var U=C;U._p=new Promise(function(W,ye){U.onload=W,U.onerror=ye}),Ya(C,"link",u),o.instance=C}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(g.count++,o=Cf.bind(g),s.addEventListener("load",o),s.addEventListener("error",o))}}function qS(){if(hd===null)throw Error(n(475));var s=hd;return s.stylesheets&&s.count===0&&mp(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&mp(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Cf(){if(this.count--,this.count===0){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ef=null;function mp(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ef=new Map,o.forEach(HS,s),Ef=null,Cf.call(s))}function HS(s,o){if(!(o.state.loading&4)){var u=Ef.get(s);if(u)var g=u.get(null);else{u=new Map,Ef.set(s,u);for(var w=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<w.length;C++){var U=w[C];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(u.set(U.dataset.precedence,U),g=U)}g&&u.set(null,g)}w=o.instance,U=w.getAttribute("data-precedence"),C=u.get(U)||g,C===g&&u.set(null,w),u.set(U,w),this.count++,g=Cf.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),C?C.parentNode.insertBefore(w,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(w,s.firstChild)),o.state.loading|=4}}var md={$$typeof:H,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function GS(s,o,u,g,w,C,U,W){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=C,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function M1(s,o,u,g,w,C,U,W,ye,Ie,rt,ot){return s=new GS(s,o,u,U,W,ye,Ie,ot),o=1,C===!0&&(o|=24),C=Da(3,null,null,o),s.current=C,C.stateNode=s,o=zu(),o.refCount++,s.pooledCache=o,o.refCount++,C.memoizedState={element:g,isDehydrated:u,cache:o},ce(C),s}function D1(s){return s?(s=uo,s):uo}function I1(s,o,u,g,w,C){w=D1(w),g.context===null?g.context=w:g.pendingContext=w,g=ke(o),g.payload={element:u},C=C===void 0?null:C,C!==null&&(g.callback=C),u=ze(s,g,o),u!==null&&(Kn(u,s,o),_e(u,s,o))}function L1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function gp(s,o){L1(s,o),(s=s.alternate)&&L1(s,o)}function U1(s){if(s.tag===13){var o=co(s,67108864);o!==null&&Kn(o,s,67108864),gp(s,67108864)}}var $f=!0;function VS(s,o,u,g){var w=ue.T;ue.T=null;var C=ne.p;try{ne.p=2,pp(s,o,u,g)}finally{ne.p=C,ue.T=w}}function KS(s,o,u,g){var w=ue.T;ue.T=null;var C=ne.p;try{ne.p=8,pp(s,o,u,g)}finally{ne.p=C,ue.T=w}}function pp(s,o,u,g){if($f){var w=yp(g);if(w===null)ap(s,o,g,Of,u),B1(s,g);else if(YS(w,s,o,u,g))g.stopPropagation();else if(B1(s,g),o&4&&-1<WS.indexOf(s)){for(;w!==null;){var C=Rr(w);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var U=qt(C.pendingLanes);if(U!==0){var W=C;for(W.pendingLanes|=2,W.entangledLanes|=2;U;){var ye=1<<31-be(U);W.entanglements[1]|=ye,U&=~ye}oi(C),(Kr&6)===0&&(hf=ge()+500,od(0))}}break;case 13:W=co(C,2),W!==null&&Kn(W,C,2),gf(),gp(C,2)}if(C=yp(g),C===null&&ap(s,o,g,Of,u),C===w)break;w=C}w!==null&&g.stopPropagation()}else ap(s,o,g,null,u)}}function yp(s){return s=xi(s),xp(s)}var Of=null;function xp(s){if(Of=null,s=dr(s),s!==null){var o=l(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Of=s,null}function F1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case lt:return 2;case gr:return 8;case Kt:case re:return 32;case qe:return 268435456;default:return 32}default:return 32}}var vp=!1,So=null,Co=null,Eo=null,gd=new Map,pd=new Map,$o=[],WS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B1(s,o){switch(s){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":gd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pd.delete(o.pointerId)}}function yd(s,o,u,g,w,C){return s===null||s.nativeEvent!==C?(s={blockedOn:o,domEventName:u,eventSystemFlags:g,nativeEvent:C,targetContainers:[w]},o!==null&&(o=Rr(o),o!==null&&U1(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),s)}function YS(s,o,u,g,w){switch(o){case"focusin":return So=yd(So,s,o,u,g,w),!0;case"dragenter":return Co=yd(Co,s,o,u,g,w),!0;case"mouseover":return Eo=yd(Eo,s,o,u,g,w),!0;case"pointerover":var C=w.pointerId;return gd.set(C,yd(gd.get(C)||null,s,o,u,g,w)),!0;case"gotpointercapture":return C=w.pointerId,pd.set(C,yd(pd.get(C)||null,s,o,u,g,w)),!0}return!1}function z1(s){var o=dr(s.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){s.blockedOn=o,$e(s.priority,function(){if(u.tag===13){var g=Vn();g=at(g);var w=co(u,g);w!==null&&Kn(w,u,g),gp(u,g)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Tf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=yp(s.nativeEvent);if(u===null){u=s.nativeEvent;var g=new u.constructor(u.type,u);al=g,u.target.dispatchEvent(g),al=null}else return o=Rr(u),o!==null&&U1(o),s.blockedOn=u,!1;o.shift()}return!0}function q1(s,o,u){Tf(s)&&u.delete(o)}function XS(){vp=!1,So!==null&&Tf(So)&&(So=null),Co!==null&&Tf(Co)&&(Co=null),Eo!==null&&Tf(Eo)&&(Eo=null),gd.forEach(q1),pd.forEach(q1)}function Af(s,o){s.blockedOn===o&&(s.blockedOn=null,vp||(vp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,XS)))}var Rf=null;function H1(s){Rf!==s&&(Rf=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rf===s&&(Rf=null);for(var o=0;o<s.length;o+=3){var u=s[o],g=s[o+1],w=s[o+2];if(typeof g!="function"){if(xp(g||u)===null)continue;break}var C=Rr(u);C!==null&&(s.splice(o,3),o-=3,xg(C,{pending:!0,data:w,method:u.method,action:g},g,w))}}))}function xd(s){function o(ye){return Af(ye,s)}So!==null&&Af(So,s),Co!==null&&Af(Co,s),Eo!==null&&Af(Eo,s),gd.forEach(o),pd.forEach(o);for(var u=0;u<$o.length;u++){var g=$o[u];g.blockedOn===s&&(g.blockedOn=null)}for(;0<$o.length&&(u=$o[0],u.blockedOn===null);)z1(u),u.blockedOn===null&&$o.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var w=u[g],C=u[g+1],U=w[Te]||null;if(typeof C=="function")U||H1(u);else if(U){var W=null;if(C&&C.hasAttribute("formAction")){if(w=C,U=C[Te]||null)W=U.formAction;else if(xp(w)!==null)continue}else W=U.action;typeof W=="function"?u[g+1]=W:(u.splice(g,3),g-=3),H1(u)}}}function bp(s){this._internalRoot=s}Pf.prototype.render=bp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,g=Vn();I1(u,g,s,o,null,null)},Pf.prototype.unmount=bp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;I1(s.current,2,null,s,null,null),gf(),o[Nt]=null}};function Pf(s){this._internalRoot=s}Pf.prototype.unstable_scheduleHydration=function(s){if(s){var o=me();s={blockedOn:null,target:s,priority:o};for(var u=0;u<$o.length&&o!==0&&o<$o[u].priority;u++);$o.splice(u,0,s),u===0&&z1(s)}};var G1=r.version;if(G1!=="19.1.0")throw Error(n(527,G1,"19.1.0"));ne.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var QS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{gt=Mf.inject(QS),bt=Mf}catch(s){}}return bd.createRoot=function(s,o){if(!i(s))throw Error(n(299));var u=!1,g="",w=ob,C=lb,U=cb,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(U=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(W=o.unstable_transitionCallbacks)),o=M1(s,1,!1,null,null,u,g,w,C,U,W,null),s[Nt]=o.current,rp(s),new bp(o)},bd.hydrateRoot=function(s,o,u){if(!i(s))throw Error(n(299));var g=!1,w="",C=ob,U=lb,W=cb,ye=null,Ie=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(U=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ye=u.unstable_transitionCallbacks),u.formState!==void 0&&(Ie=u.formState)),o=M1(s,1,!0,o,u!=null?u:null,g,w,C,U,W,ye,Ie),o.context=D1(null),u=o.current,g=Vn(),g=at(g),w=ke(g),w.callback=null,ze(u,w,g),u=g,o.current.lanes=u,Xa(o,u),oi(o),s[Nt]=o.current,rp(s),new Pf(o)},bd.version="19.1.0",bd}var s2;function d6(){if(s2)return $p.exports;s2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),$p.exports=u6(),$p.exports}var f6=d6();const h6=Xo(f6);var wd={},i2;function m6(){if(i2)return wd;i2=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.parse=c,wd.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function c(p,b){const S=new l,k=p.length;if(k<2)return S;const T=(b==null?void 0:b.decode)||m;let A=0;do{const M=p.indexOf("=",A);if(M===-1)break;const H=p.indexOf(";",A),D=H===-1?k:H;if(M>D){A=p.lastIndexOf(";",M-1)+1;continue}const G=f(p,A,M),V=h(p,M,G),se=p.slice(G,V);if(S[se]===void 0){let oe=f(p,M+1,D),q=h(p,D,oe);const ie=T(p.slice(oe,q));S[se]=ie}A=D+1}while(A<k);return S}function f(p,b,S){do{const k=p.charCodeAt(b);if(k!==32&&k!==9)return b}while(++b<S);return S}function h(p,b,S){for(;b>S;){const k=p.charCodeAt(--b);if(k!==32&&k!==9)return b+1}return S}function d(p,b,S){const k=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const T=k(b);if(!r.test(T))throw new TypeError(`argument val is invalid: ${b}`);let A=p+"="+T;if(!S)return A;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);A+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);A+="; Domain="+S.domain}if(S.path){if(!n.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);A+="; Path="+S.path}if(S.expires){if(!x(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);A+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(A+="; HttpOnly"),S.secure&&(A+="; Secure"),S.partitioned&&(A+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return A}function m(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch(b){return p}}function x(p){return i.call(p)==="[object Date]"}return wd}m6();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oN=e=>{throw TypeError(e)},g6=(e,r,t)=>r.has(e)||oN("Cannot "+t),Rp=(e,r,t)=>(g6(e,r,"read from private field"),t?t.call(e):r.get(e)),p6=(e,r,t)=>r.has(e)?oN("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),o2="popstate";function y6(e={}){function r(n,i){let{pathname:l,search:c,hash:f}=n.location;return Ud("",{pathname:l,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Go(i)}return v6(r,t,null,e)}function _r(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function va(e,r){if(!e){typeof console!="undefined"&&console.warn(r);try{throw new Error(r)}catch(t){}}}function x6(){return Math.random().toString(36).substring(2,10)}function l2(e,r){return{usr:e.state,key:e.key,idx:r}}function Ud(e,r,t=null,n){return je(Y({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Qo(r):r),{state:t,key:r&&r.key||n||x6()})}function Go({pathname:e="/",search:r="",hash:t=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Qo(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substring(t),e=e.substring(0,t));let n=e.indexOf("?");n>=0&&(r.search=e.substring(n),e=e.substring(0,n)),e&&(r.pathname=e)}return r}function v6(e,r,t,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,f="POP",h=null,d=m();d==null&&(d=0,c.replaceState(je(Y({},c.state),{idx:d}),""));function m(){return(c.state||{idx:null}).idx}function x(){f="POP";let T=m(),A=T==null?null:T-d;d=T,h&&h({action:f,location:k.location,delta:A})}function p(T,A){f="PUSH";let M=Ud(k.location,T,A);d=m()+1;let H=l2(M,d),D=k.createHref(M);try{c.pushState(H,"",D)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(D)}l&&h&&h({action:f,location:k.location,delta:1})}function b(T,A){f="REPLACE";let M=Ud(k.location,T,A);d=m();let H=l2(M,d),D=k.createHref(M);c.replaceState(H,"",D),l&&h&&h({action:f,location:k.location,delta:0})}function S(T){return lN(T)}let k={get action(){return f},get location(){return e(i,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(o2,x),h=T,()=>{i.removeEventListener(o2,x),h=null}},createHref(T){return r(i,T)},createURL:S,encodeLocation(T){let A=S(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:b,go(T){return c.go(T)}};return k}function lN(e,r=!1){let t="http://localhost";typeof window!="undefined"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_r(t,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Go(e);return n=n.replace(/ $/,"%20"),!r&&n.startsWith("//")&&(n=t+n),new URL(n,t)}var Pd,c2=class{constructor(e){if(p6(this,Pd,new Map),e)for(let[r,t]of e)this.set(r,t)}get(e){if(Rp(this,Pd).has(e))return Rp(this,Pd).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,r){Rp(this,Pd).set(e,r)}};Pd=new WeakMap;var b6=new Set(["lazy","caseSensitive","path","id","index","children"]);function w6(e){return b6.has(e)}var j6=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function N6(e){return j6.has(e)}function _6(e){return e.index===!0}function Qh(e,r,t=[],n={}){return e.map((i,l)=>{let c=[...t,String(l)],f=typeof i.id=="string"?i.id:c.join("-");if(_r(i.index!==!0||!i.children,"Cannot specify children on an index route"),_r(!n[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),_6(i)){let h=je(Y(Y({},i),r(i)),{id:f});return n[f]=h,h}else{let h=je(Y(Y({},i),r(i)),{id:f,children:void 0});return n[f]=h,i.children&&(h.children=Qh(i.children,r,c,n)),h}})}function Mo(e,r,t="/"){return Uh(e,r,t,!1)}function Uh(e,r,t,n){let i=typeof r=="string"?Qo(r):r,l=ps(i.pathname||"/",t);if(l==null)return null;let c=cN(e);S6(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let d=I6(l);f=M6(c[h],d,n)}return f}function k6(e,r){let{route:t,pathname:n,params:i}=e;return{id:t.id,pathname:n,params:i,data:r[t.id],handle:t.handle}}function cN(e,r=[],t=[],n=""){let i=(l,c,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(_r(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=fi([n,h.relativePath]),m=t.concat(h);l.children&&l.children.length>0&&(_r(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),cN(l.children,r,m,d)),!(l.path==null&&!l.index)&&r.push({path:d,score:R6(d,l.index),routesMeta:m})};return e.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))i(l,c);else for(let h of uN(l.path))i(l,c,h)}),r}function uN(e){let r=e.split("/");if(r.length===0)return[];let[t,...n]=r,i=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=uN(n.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function S6(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:P6(r.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var C6=/^:[\w-]+$/,E6=3,$6=2,O6=1,T6=10,A6=-2,u2=e=>e==="*";function R6(e,r){let t=e.split("/"),n=t.length;return t.some(u2)&&(n+=A6),r&&(n+=$6),t.filter(i=>!u2(i)).reduce((i,l)=>i+(C6.test(l)?E6:l===""?O6:T6),n)}function P6(e,r){return e.length===r.length&&e.slice(0,-1).every((n,i)=>n===r[i])?e[e.length-1]-r[r.length-1]:0}function M6(e,r,t=!1){let{routesMeta:n}=e,i={},l="/",c=[];for(let f=0;f<n.length;++f){let h=n[f],d=f===n.length-1,m=l==="/"?r:r.slice(l.length)||"/",x=Zh({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),p=h.route;if(!x&&d&&t&&!n[n.length-1].route.index&&(x=Zh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:fi([l,x.pathname]),pathnameBase:F6(fi([l,x.pathnameBase])),route:p}),x.pathnameBase!=="/"&&(l=fi([l,x.pathnameBase]))}return c}function Zh(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,n]=D6(e.path,e.caseSensitive,e.end),i=r.match(t);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((d,{paramName:m,isOptional:x},p)=>{if(m==="*"){let S=f[p]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const b=f[p];return x&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:c,pattern:e}}function D6(e,r=!1,t=!0){va(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(n.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),n]}function I6(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return va(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function ps(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,n=e.charAt(t);return n&&n!=="/"?null:e.slice(t)||"/"}function L6(e,r="/"){let{pathname:t,search:n="",hash:i=""}=typeof e=="string"?Qo(e):e;return{pathname:t?t.startsWith("/")?t:U6(t,r):r,search:B6(n),hash:z6(i)}}function U6(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Pp(e,r,t,n){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dN(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function hm(e){let r=dN(e);return r.map((t,n)=>n===r.length-1?t.pathname:t.pathnameBase)}function mm(e,r,t,n=!1){let i;typeof e=="string"?i=Qo(e):(i=Y({},e),_r(!i.pathname||!i.pathname.includes("?"),Pp("?","pathname","search",i)),_r(!i.pathname||!i.pathname.includes("#"),Pp("#","pathname","hash",i)),_r(!i.search||!i.search.includes("#"),Pp("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,f;if(c==null)f=t;else{let x=r.length-1;if(!n&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),x-=1;i.pathname=p.join("/")}f=x>=0?r[x]:"/"}let h=L6(i,f),d=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var fi=e=>e.join("/").replace(/\/\/+/g,"/"),F6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,z6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Jh=class{constructor(e,r,t,n=!1){this.status=e,this.statusText=r||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Fd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var fN=["POST","PUT","PATCH","DELETE"],q6=new Set(fN),H6=["GET",...fN],G6=new Set(H6),V6=new Set([301,302,303,307,308]),K6=new Set([307,308]),Mp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},W6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y6=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),hN="remix-router-transitions",mN=Symbol("ResetLoaderData");function X6(e){const r=e.window?e.window:typeof window!="undefined"?window:void 0,t=typeof r!="undefined"&&typeof r.document!="undefined"&&typeof r.document.createElement!="undefined";_r(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||Y6,l={},c=Qh(e.routes,i,void 0,l),f,h=e.basename||"/",d=e.dataStrategy||t5,m=Y({unstable_middleware:!1},e.future),x=null,p=new Set,b=null,S=null,k=null,T=e.hydrationData!=null,A=Mo(c,e.history.location,h),M=!1,H=null,D;if(A==null&&!e.patchRoutesOnNavigation){let me=fs(404,{pathname:e.history.location.pathname}),{matches:$e,route:De}=j2(c);D=!0,A=$e,H={[De.id]:me}}else if(A&&!e.hydrationData&&Qa(A,c,e.history.location.pathname).active&&(A=null),A)if(A.some(me=>me.route.lazy))D=!1;else if(!A.some(me=>me.route.loader))D=!0;else{let me=e.hydrationData?e.hydrationData.loaderData:null,$e=e.hydrationData?e.hydrationData.errors:null;if($e){let De=A.findIndex(We=>$e[We.route.id]!==void 0);D=A.slice(0,De+1).every(We=>!_y(We.route,me,$e))}else D=A.every(De=>!_y(De.route,me,$e))}else{D=!1,A=[];let me=Qa(null,c,e.history.location.pathname);me.active&&me.matches&&(M=!0,A=me.matches)}let G,V={historyAction:e.history.action,location:e.history.location,matches:A,initialized:D,navigation:Mp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||H,fetchers:new Map,blockers:new Map},se="POP",oe=!1,q,ie=!1,ee=new Map,ae=null,J=!1,le=!1,pe=new Set,ue=new Map,ne=0,he=-1,Le=new Map,Z=new Set,B=new Map,de=new Map,xe=new Set,fe=new Map,z,X=null;function Ae(){if(x=e.history.listen(({action:me,location:$e,delta:De})=>{if(z){z(),z=void 0;return}va(fe.size===0||De!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let We=vr({currentLocation:V.location,nextLocation:$e,historyAction:me});if(We&&De!=null){let Te=new Promise(Nt=>{z=Nt});e.history.go(De*-1),nr(We,{state:"blocked",location:$e,proceed(){nr(We,{state:"proceeding",proceed:void 0,reset:void 0,location:$e}),Te.then(()=>e.history.go(De))},reset(){let Nt=new Map(V.blockers);Nt.set(We,jd),Ze({blockers:Nt})}});return}return ve(me,$e)}),t){f5(r,ee);let me=()=>h5(r,ee);r.addEventListener("pagehide",me),ae=()=>r.removeEventListener("pagehide",me)}return V.initialized||ve("POP",V.location,{initialHydration:!0}),G}function Ye(){x&&x(),ae&&ae(),p.clear(),q&&q.abort(),V.fetchers.forEach((me,$e)=>be($e)),V.blockers.forEach((me,$e)=>er($e))}function ct(me){return p.add(me),()=>p.delete(me)}function Ze(me,$e={}){V=Y(Y({},V),me);let De=[],We=[];V.fetchers.forEach((Te,Nt)=>{Te.state==="idle"&&(xe.has(Nt)?De.push(Nt):We.push(Nt))}),xe.forEach(Te=>{!V.fetchers.has(Te)&&!ue.has(Te)&&De.push(Te)}),[...p].forEach(Te=>Te(V,{deletedFetchers:De,viewTransitionOpts:$e.viewTransitionOpts,flushSync:$e.flushSync===!0})),De.forEach(Te=>be(Te)),We.forEach(Te=>V.fetchers.delete(Te))}function mt(me,$e,{flushSync:De}={}){var sr,Ft;let We=V.actionData!=null&&V.navigation.formMethod!=null&&Qn(V.navigation.formMethod)&&V.navigation.state==="loading"&&((sr=me.state)==null?void 0:sr._isRedirect)!==!0,Te;$e.actionData?Object.keys($e.actionData).length>0?Te=$e.actionData:Te=null:We?Te=V.actionData:Te=null;let Nt=$e.loaderData?b2(V.loaderData,$e.loaderData,$e.matches||[],$e.errors):V.loaderData,It=V.blockers;It.size>0&&(It=new Map(It),It.forEach((tr,dr)=>It.set(dr,jd)));let Bt=oe===!0||V.navigation.formMethod!=null&&Qn(V.navigation.formMethod)&&((Ft=me.state)==null?void 0:Ft._isRedirect)!==!0;f&&(c=f,f=void 0),J||se==="POP"||(se==="PUSH"?e.history.push(me,me.state):se==="REPLACE"&&e.history.replace(me,me.state));let Rt;if(se==="POP"){let tr=ee.get(V.location.pathname);tr&&tr.has(me.pathname)?Rt={currentLocation:V.location,nextLocation:me}:ee.has(me.pathname)&&(Rt={currentLocation:me,nextLocation:V.location})}else if(ie){let tr=ee.get(V.location.pathname);tr?tr.add(me.pathname):(tr=new Set([me.pathname]),ee.set(V.location.pathname,tr)),Rt={currentLocation:V.location,nextLocation:me}}Ze(je(Y({},$e),{actionData:Te,loaderData:Nt,historyAction:se,location:me,initialized:!0,navigation:Mp,revalidation:"idle",restoreScrollPosition:_n(me,$e.matches||V.matches),preventScrollReset:Bt,blockers:It}),{viewTransitionOpts:Rt,flushSync:De===!0}),se="POP",oe=!1,ie=!1,J=!1,le=!1,X==null||X.resolve(),X=null}function $t(me,$e){return Ne(this,null,function*(){if(typeof me=="number"){e.history.go(me);return}let De=Ny(V.location,V.matches,h,me,$e==null?void 0:$e.fromRouteId,$e==null?void 0:$e.relative),{path:We,submission:Te,error:Nt}=d2(!1,De,$e),It=V.location,Bt=Ud(V.location,We,$e&&$e.state);Bt=Y(Y({},Bt),e.history.encodeLocation(Bt));let Rt=$e&&$e.replace!=null?$e.replace:void 0,sr="PUSH";Rt===!0?sr="REPLACE":Rt===!1||Te!=null&&Qn(Te.formMethod)&&Te.formAction===V.location.pathname+V.location.search&&(sr="REPLACE");let Ft=$e&&"preventScrollReset"in $e?$e.preventScrollReset===!0:void 0,tr=($e&&$e.flushSync)===!0,dr=vr({currentLocation:It,nextLocation:Bt,historyAction:sr});if(dr){nr(dr,{state:"blocked",location:Bt,proceed(){nr(dr,{state:"proceeding",proceed:void 0,reset:void 0,location:Bt}),$t(me,$e)},reset(){let Rr=new Map(V.blockers);Rr.set(dr,jd),Ze({blockers:Rr})}});return}yield ve(sr,Bt,{submission:Te,pendingError:Nt,preventScrollReset:Ft,replace:$e&&$e.replace,enableViewTransition:$e&&$e.viewTransition,flushSync:tr})})}function ur(){X||(X=m5()),dt(),Ze({revalidation:"loading"});let me=X.promise;return V.navigation.state==="submitting"?me:V.navigation.state==="idle"?(ve(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),me):(ve(se||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:ie===!0}),me)}function ve(me,$e,De){return Ne(this,null,function*(){q&&q.abort(),q=null,se=me,J=(De&&De.startUninterruptedRevalidation)===!0,Xa(V.location,V.matches),oe=(De&&De.preventScrollReset)===!0,ie=(De&&De.enableViewTransition)===!0;let We=f||c,Te=De&&De.overrideNavigation,Nt=De!=null&&De.initialHydration&&V.matches&&V.matches.length>0&&!M?V.matches:Mo(We,$e,h),It=(De&&De.flushSync)===!0;if(Nt&&V.initialized&&!le&&o5(V.location,$e)&&!(De&&De.submission&&Qn(De.submission.formMethod))){mt($e,{matches:Nt},{flushSync:It});return}let Bt=Qa(Nt,We,$e.pathname);if(Bt.active&&Bt.matches&&(Nt=Bt.matches),!Nt){let{error:Or,notFoundMatches:Yt,route:Ht}=na($e.pathname);mt($e,{matches:Yt,loaderData:{},errors:{[Ht.id]:Or}},{flushSync:It});return}q=new AbortController;let Rt=Gc(e.history,$e,q.signal,De&&De.submission),sr=new c2(e.unstable_getContext?yield e.unstable_getContext():void 0),Ft;if(De&&De.pendingError)Ft=[Cl(Nt).route.id,{type:"error",error:De.pendingError}];else if(De&&De.submission&&Qn(De.submission.formMethod)){let Or=yield et(Rt,$e,De.submission,Nt,sr,Bt.active,De&&De.initialHydration===!0,{replace:De.replace,flushSync:It});if(Or.shortCircuited)return;if(Or.pendingActionResult){let[Yt,Ht]=Or.pendingActionResult;if(Xn(Ht)&&Fd(Ht.error)&&Ht.error.status===404){q=null,mt($e,{matches:Or.matches,loaderData:{},errors:{[Yt]:Ht.error}});return}}Nt=Or.matches||Nt,Ft=Or.pendingActionResult,Te=Dp($e,De.submission),It=!1,Bt.active=!1,Rt=Gc(e.history,Rt.url,Rt.signal)}let{shortCircuited:tr,matches:dr,loaderData:Rr,errors:qr}=yield Tt(Rt,$e,Nt,sr,Bt.active,Te,De&&De.submission,De&&De.fetcherSubmission,De&&De.replace,De&&De.initialHydration===!0,It,Ft);tr||(q=null,mt($e,je(Y({matches:dr||Nt},w2(Ft)),{loaderData:Rr,errors:qr})))})}function et(Rt,sr,Ft,tr,dr,Rr,qr){return Ne(this,arguments,function*(me,$e,De,We,Te,Nt,It,Bt={}){dt();let Or=u5($e,De);if(Ze({navigation:Or},{flushSync:Bt.flushSync===!0}),Nt){let Tr=yield Be(We,$e.pathname,me.signal);if(Tr.type==="aborted")return{shortCircuited:!0};if(Tr.type==="error"){let Br=Cl(Tr.partialMatches).route.id;return{matches:Tr.partialMatches,pendingActionResult:[Br,{type:"error",error:Tr.error}]}}else if(Tr.matches)We=Tr.matches;else{let{notFoundMatches:Br,error:sa,route:Zr}=na($e.pathname);return{matches:Br,pendingActionResult:[Zr.id,{type:"error",error:sa}]}}}let Yt,Ht=Md(We,$e);if(!Ht.route.action&&!Ht.route.lazy)Yt={type:"error",error:fs(405,{method:me.method,pathname:$e.pathname,routeId:Ht.route.id})};else{let Tr=Xc(i,l,me,We,Ht,It?[]:n,Te),Br=yield qe(me,Tr,Te,null);if(Yt=Br[Ht.route.id],!Yt){for(let sa of We)if(Br[sa.route.id]){Yt=Br[sa.route.id];break}}if(me.signal.aborted)return{shortCircuited:!0}}if(El(Yt)){let Tr;return Bt&&Bt.replace!=null?Tr=Bt.replace:Tr=y2(Yt.response.headers.get("Location"),new URL(me.url),h)===V.location.pathname+V.location.search,yield re(me,Yt,!0,{submission:De,replace:Tr}),{shortCircuited:!0}}if(Xn(Yt)){let Tr=Cl(We,Ht.route.id);return(Bt&&Bt.replace)!==!0&&(se="PUSH"),{matches:We,pendingActionResult:[Tr.route.id,Yt,Ht.route.id]}}return{matches:We,pendingActionResult:[Ht.route.id,Yt]}})}function Tt(me,$e,De,We,Te,Nt,It,Bt,Rt,sr,Ft,tr){return Ne(this,null,function*(){let dr=Nt||Dp($e,It),Rr=It||Bt||_2(dr),qr=!J&&!sr;if(Te){if(qr){let ca=ge(tr);Ze(Y({navigation:dr},ca!==void 0?{actionData:ca}:{}),{flushSync:Ft})}let fr=yield Be(De,$e.pathname,me.signal);if(fr.type==="aborted")return{shortCircuited:!0};if(fr.type==="error"){let ca=Cl(fr.partialMatches).route.id;return{matches:fr.partialMatches,loaderData:{},errors:{[ca]:fr.error}}}else if(fr.matches)De=fr.matches;else{let{error:ca,notFoundMatches:Aa,route:ha}=na($e.pathname);return{matches:Aa,loaderData:{},errors:{[ha.id]:ca}}}}let Or=f||c,{dsMatches:Yt,revalidatingFetchers:Ht}=f2(me,We,i,l,e.history,V,De,Rr,$e,sr?[]:n,sr===!0,le,pe,xe,B,Z,Or,h,e.patchRoutesOnNavigation!=null,tr);if(he=++ne,!e.dataStrategy&&!Yt.some(fr=>fr.shouldLoad)&&Ht.length===0){let fr=ut();return mt($e,Y(Y({matches:De,loaderData:{},errors:tr&&Xn(tr[1])?{[tr[0]]:tr[1].error}:null},w2(tr)),fr?{fetchers:new Map(V.fetchers)}:{}),{flushSync:Ft}),{shortCircuited:!0}}if(qr){let fr={};if(!Te){fr.navigation=dr;let ca=ge(tr);ca!==void 0&&(fr.actionData=ca)}Ht.length>0&&(fr.fetchers=Xe(Ht)),Ze(fr,{flushSync:Ft})}Ht.forEach(fr=>{Ge(fr.key),fr.controller&&ue.set(fr.key,fr.controller)});let Tr=()=>Ht.forEach(fr=>Ge(fr.key));q&&q.signal.addEventListener("abort",Tr);let{loaderResults:Br,fetcherResults:sa}=yield Ke(Yt,Ht,me,We);if(me.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Tr),Ht.forEach(fr=>ue.delete(fr.key));let Zr=Lf(Br);if(Zr)return yield re(me,Zr.result,!0,{replace:Rt}),{shortCircuited:!0};if(Zr=Lf(sa),Zr)return Z.add(Zr.key),yield re(me,Zr.result,!0,{replace:Rt}),{shortCircuited:!0};let{loaderData:ea,errors:Ga}=v2(V,De,Br,tr,Ht,sa);sr&&V.errors&&(Ga=Y(Y({},V.errors),Ga));let Zt=ut(),la=Ut(he),Ea=Zt||la||Ht.length>0;return Y({matches:De,loaderData:ea,errors:Ga},Ea?{fetchers:new Map(V.fetchers)}:{})})}function ge(me){if(me&&!Xn(me[1]))return{[me[0]]:me[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Xe(me){return me.forEach($e=>{let De=V.fetchers.get($e.key),We=Nd(void 0,De?De.data:void 0);V.fetchers.set($e.key,We)}),new Map(V.fetchers)}function lt(me,$e,De,We){return Ne(this,null,function*(){Ge(me);let Te=(We&&We.flushSync)===!0,Nt=f||c,It=Ny(V.location,V.matches,h,De,$e,We==null?void 0:We.relative),Bt=Mo(Nt,It,h),Rt=Qa(Bt,Nt,It);if(Rt.active&&Rt.matches&&(Bt=Rt.matches),!Bt){bt(me,$e,fs(404,{pathname:It}),{flushSync:Te});return}let{path:sr,submission:Ft,error:tr}=d2(!0,It,We);if(tr){bt(me,$e,tr,{flushSync:Te});return}let dr=Md(Bt,sr),Rr=new c2(e.unstable_getContext?yield e.unstable_getContext():void 0),qr=(We&&We.preventScrollReset)===!0;if(Ft&&Qn(Ft.formMethod)){yield gr(me,$e,sr,dr,Bt,Rr,Rt.active,Te,qr,Ft);return}B.set(me,{routeId:$e,path:sr}),yield Kt(me,$e,sr,dr,Bt,Rr,Rt.active,Te,qr,Ft)})}function gr(me,$e,De,We,Te,Nt,It,Bt,Rt,sr){return Ne(this,null,function*(){dt(),B.delete(me);function Ft(Oe){if(!Oe.route.action&&!Oe.route.lazy){let it=fs(405,{method:sr.formMethod,pathname:De,routeId:$e});return bt(me,$e,it,{flushSync:Bt}),!0}return!1}if(!It&&Ft(We))return;let tr=V.fetchers.get(me);gt(me,d5(sr,tr),{flushSync:Bt});let dr=new AbortController,Rr=Gc(e.history,De,dr.signal,sr);if(It){let Oe=yield Be(Te,De,Rr.signal,me);if(Oe.type==="aborted")return;if(Oe.type==="error"){bt(me,$e,Oe.error,{flushSync:Bt});return}else if(Oe.matches){if(Te=Oe.matches,We=Md(Te,De),Ft(We))return}else{bt(me,$e,fs(404,{pathname:De}),{flushSync:Bt});return}}ue.set(me,dr);let qr=ne,Or=Xc(i,l,Rr,Te,We,n,Nt),Ht=(yield qe(Rr,Or,Nt,me))[We.route.id];if(Rr.signal.aborted){ue.get(me)===dr&&ue.delete(me);return}if(xe.has(me)){if(El(Ht)||Xn(Ht)){gt(me,Ao(void 0));return}}else{if(El(Ht))if(ue.delete(me),he>qr){gt(me,Ao(void 0));return}else return Z.add(me),gt(me,Nd(sr)),re(Rr,Ht,!1,{fetcherSubmission:sr,preventScrollReset:Rt});if(Xn(Ht)){bt(me,$e,Ht.error);return}}let Tr=V.navigation.location||V.location,Br=Gc(e.history,Tr,dr.signal),sa=f||c,Zr=V.navigation.state!=="idle"?Mo(sa,V.navigation.location,h):V.matches;_r(Zr,"Didn't find any matches after fetcher action");let ea=++ne;Le.set(me,ea);let Ga=Nd(sr,Ht.data);V.fetchers.set(me,Ga);let{dsMatches:Zt,revalidatingFetchers:la}=f2(Br,Nt,i,l,e.history,V,Zr,sr,Tr,n,!1,le,pe,xe,B,Z,sa,h,e.patchRoutesOnNavigation!=null,[We.route.id,Ht]);la.filter(Oe=>Oe.key!==me).forEach(Oe=>{let it=Oe.key,kt=V.fetchers.get(it),Ot=Nd(void 0,kt?kt.data:void 0);V.fetchers.set(it,Ot),Ge(it),Oe.controller&&ue.set(it,Oe.controller)}),Ze({fetchers:new Map(V.fetchers)});let Ea=()=>la.forEach(Oe=>Ge(Oe.key));dr.signal.addEventListener("abort",Ea);let{loaderResults:fr,fetcherResults:ca}=yield Ke(Zt,la,Br,Nt);if(dr.signal.aborted)return;if(dr.signal.removeEventListener("abort",Ea),Le.delete(me),ue.delete(me),la.forEach(Oe=>ue.delete(Oe.key)),V.fetchers.has(me)){let Oe=Ao(Ht.data);V.fetchers.set(me,Oe)}let Aa=Lf(fr);if(Aa)return re(Br,Aa.result,!1,{preventScrollReset:Rt});if(Aa=Lf(ca),Aa)return Z.add(Aa.key),re(Br,Aa.result,!1,{preventScrollReset:Rt});let{loaderData:ha,errors:Za}=v2(V,Zr,fr,void 0,la,ca);Ut(ea),V.navigation.state==="loading"&&ea>he?(_r(se,"Expected pending action"),q&&q.abort(),mt(V.navigation.location,{matches:Zr,loaderData:ha,errors:Za,fetchers:new Map(V.fetchers)})):(Ze({errors:Za,loaderData:b2(V.loaderData,ha,Zr,Za),fetchers:new Map(V.fetchers)}),le=!1)})}function Kt(me,$e,De,We,Te,Nt,It,Bt,Rt,sr){return Ne(this,null,function*(){let Ft=V.fetchers.get(me);gt(me,Nd(sr,Ft?Ft.data:void 0),{flushSync:Bt});let tr=new AbortController,dr=Gc(e.history,De,tr.signal);if(It){let Ht=yield Be(Te,De,dr.signal,me);if(Ht.type==="aborted")return;if(Ht.type==="error"){bt(me,$e,Ht.error,{flushSync:Bt});return}else if(Ht.matches)Te=Ht.matches,We=Md(Te,De);else{bt(me,$e,fs(404,{pathname:De}),{flushSync:Bt});return}}ue.set(me,tr);let Rr=ne,qr=Xc(i,l,dr,Te,We,n,Nt),Yt=(yield qe(dr,qr,Nt,me))[We.route.id];if(ue.get(me)===tr&&ue.delete(me),!dr.signal.aborted){if(xe.has(me)){gt(me,Ao(void 0));return}if(El(Yt))if(he>Rr){gt(me,Ao(void 0));return}else{Z.add(me),yield re(dr,Yt,!1,{preventScrollReset:Rt});return}if(Xn(Yt)){bt(me,$e,Yt.error);return}gt(me,Ao(Yt.data))}})}function re(Bt,Rt,sr){return Ne(this,arguments,function*(me,$e,De,{submission:We,fetcherSubmission:Te,preventScrollReset:Nt,replace:It}={}){$e.response.headers.has("X-Remix-Revalidate")&&(le=!0);let Ft=$e.response.headers.get("Location");_r(Ft,"Expected a Location header on the redirect Response"),Ft=y2(Ft,new URL(me.url),h);let tr=Ud(V.location,Ft,{_isRedirect:!0});if(t){let Ht=!1;if($e.response.headers.has("X-Remix-Reload-Document"))Ht=!0;else if(Ex.test(Ft)){const Tr=lN(Ft,!0);Ht=Tr.origin!==r.location.origin||ps(Tr.pathname,h)==null}if(Ht){It?r.location.replace(Ft):r.location.assign(Ft);return}}q=null;let dr=It===!0||$e.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Rr,formAction:qr,formEncType:Or}=V.navigation;!We&&!Te&&Rr&&qr&&Or&&(We=_2(V.navigation));let Yt=We||Te;if(K6.has($e.response.status)&&Yt&&Qn(Yt.formMethod))yield ve(dr,tr,{submission:je(Y({},Yt),{formAction:Ft}),preventScrollReset:Nt||oe,enableViewTransition:De?ie:void 0});else{let Ht=Dp(tr,We);yield ve(dr,tr,{overrideNavigation:Ht,fetcherSubmission:Te,preventScrollReset:Nt||oe,enableViewTransition:De?ie:void 0})}})}function qe(me,$e,De,We){return Ne(this,null,function*(){let Te,Nt={};try{Te=yield r5(d,me,$e,We,De,!1)}catch(It){return $e.filter(Bt=>Bt.shouldLoad).forEach(Bt=>{Nt[Bt.route.id]={type:"error",error:It}}),Nt}if(me.signal.aborted)return Nt;for(let[It,Bt]of Object.entries(Te))if(l5(Bt)){let Rt=Bt.result;Nt[It]={type:"redirect",response:s5(Rt,me,It,$e,h)}}else Nt[It]=yield n5(Bt);return Nt})}function Ke(me,$e,De,We){return Ne(this,null,function*(){let Te=qe(De,me,We,null),Nt=Promise.all($e.map(Rt=>Ne(null,null,function*(){if(Rt.matches&&Rt.match&&Rt.request&&Rt.controller){let Ft=(yield qe(Rt.request,Rt.matches,We,Rt.key))[Rt.match.route.id];return{[Rt.key]:Ft}}else return Promise.resolve({[Rt.key]:{type:"error",error:fs(404,{pathname:Rt.path})}})}))),It=yield Te,Bt=(yield Nt).reduce((Rt,sr)=>Object.assign(Rt,sr),{});return{loaderResults:It,fetcherResults:Bt}})}function dt(){le=!0,B.forEach((me,$e)=>{ue.has($e)&&pe.add($e),Ge($e)})}function gt(me,$e,De={}){V.fetchers.set(me,$e),Ze({fetchers:new Map(V.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function bt(me,$e,De,We={}){let Te=Cl(V.matches,$e);be(me),Ze({errors:{[Te.route.id]:De},fetchers:new Map(V.fetchers)},{flushSync:(We&&We.flushSync)===!0})}function ft(me){return de.set(me,(de.get(me)||0)+1),xe.has(me)&&xe.delete(me),V.fetchers.get(me)||W6}function be(me){let $e=V.fetchers.get(me);ue.has(me)&&!($e&&$e.state==="loading"&&Le.has(me))&&Ge(me),B.delete(me),Le.delete(me),Z.delete(me),xe.delete(me),pe.delete(me),V.fetchers.delete(me)}function tt(me){let $e=(de.get(me)||0)-1;$e<=0?(de.delete(me),xe.add(me)):de.set(me,$e),Ze({fetchers:new Map(V.fetchers)})}function Ge(me){let $e=ue.get(me);$e&&($e.abort(),ue.delete(me))}function xt(me){for(let $e of me){let De=ft($e),We=Ao(De.data);V.fetchers.set($e,We)}}function ut(){let me=[],$e=!1;for(let De of Z){let We=V.fetchers.get(De);_r(We,`Expected fetcher: ${De}`),We.state==="loading"&&(Z.delete(De),me.push(De),$e=!0)}return xt(me),$e}function Ut(me){let $e=[];for(let[De,We]of Le)if(We<me){let Te=V.fetchers.get(De);_r(Te,`Expected fetcher: ${De}`),Te.state==="loading"&&(Ge(De),Le.delete(De),$e.push(De))}return xt($e),$e.length>0}function qt(me,$e){let De=V.blockers.get(me)||jd;return fe.get(me)!==$e&&fe.set(me,$e),De}function er(me){V.blockers.delete(me),fe.delete(me)}function nr(me,$e){let De=V.blockers.get(me)||jd;_r(De.state==="unblocked"&&$e.state==="blocked"||De.state==="blocked"&&$e.state==="blocked"||De.state==="blocked"&&$e.state==="proceeding"||De.state==="blocked"&&$e.state==="unblocked"||De.state==="proceeding"&&$e.state==="unblocked",`Invalid blocker state transition: ${De.state} -> ${$e.state}`);let We=new Map(V.blockers);We.set(me,$e),Ze({blockers:We})}function vr({currentLocation:me,nextLocation:$e,historyAction:De}){if(fe.size===0)return;fe.size>1&&va(!1,"A router only supports one blocker at a time");let We=Array.from(fe.entries()),[Te,Nt]=We[We.length-1],It=V.blockers.get(Te);if(!(It&&It.state==="proceeding")&&Nt({currentLocation:me,nextLocation:$e,historyAction:De}))return Te}function na(me){let $e=fs(404,{pathname:me}),De=f||c,{matches:We,route:Te}=j2(De);return{notFoundMatches:We,route:Te,error:$e}}function yr(me,$e,De){if(b=me,k=$e,S=De||null,!T&&V.navigation===Mp){T=!0;let We=_n(V.location,V.matches);We!=null&&Ze({restoreScrollPosition:We})}return()=>{b=null,k=null,S=null}}function Gr(me,$e){return S&&S(me,$e.map(We=>k6(We,V.loaderData)))||me.key}function Xa(me,$e){if(b&&k){let De=Gr(me,$e);b[De]=k()}}function _n(me,$e){if(b){let De=Gr(me,$e),We=b[De];if(typeof We=="number")return We}return null}function Qa(me,$e,De){if(e.patchRoutesOnNavigation)if(me){if(Object.keys(me[0].params).length>0)return{active:!0,matches:Uh($e,De,h,!0)}}else return{active:!0,matches:Uh($e,De,h,!0)||[]};return{active:!1,matches:null}}function Be(me,$e,De,We){return Ne(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:me};let Te=me;for(;;){let Nt=f==null,It=f||c,Bt=l;try{yield e.patchRoutesOnNavigation({signal:De,path:$e,matches:Te,fetcherKey:We,patch:(Ft,tr)=>{De.aborted||h2(Ft,tr,It,Bt,i)}})}catch(Ft){return{type:"error",error:Ft,partialMatches:Te}}finally{Nt&&!De.aborted&&(c=[...c])}if(De.aborted)return{type:"aborted"};let Rt=Mo(It,$e,h);if(Rt)return{type:"success",matches:Rt};let sr=Uh(It,$e,h,!0);if(!sr||Te.length===sr.length&&Te.every((Ft,tr)=>Ft.route.id===sr[tr].route.id))return{type:"success",matches:null};Te=sr}})}function at(me){l={},f=Qh(me,i,void 0,l)}function $r(me,$e){let De=f==null;h2(me,$e,f||c,l,i),De&&(c=[...c],Ze({}))}return G={get basename(){return h},get future(){return m},get state(){return V},get routes(){return c},get window(){return r},initialize:Ae,subscribe:ct,enableScrollRestoration:yr,navigate:$t,fetch:lt,revalidate:ur,createHref:me=>e.history.createHref(me),encodeLocation:me=>e.history.encodeLocation(me),getFetcher:ft,deleteFetcher:tt,dispose:Ye,getBlocker:qt,deleteBlocker:er,patchRoutes:$r,_internalFetchControllers:ue,_internalSetRoutes:at},G}function Q6(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ny(e,r,t,n,i,l){let c,f;if(i){c=[];for(let d of r)if(c.push(d),d.route.id===i){f=d;break}}else c=r,f=r[r.length-1];let h=mm(n||".",hm(c),ps(e.pathname,t)||e.pathname,l==="path");if(n==null&&(h.search=e.search,h.hash=e.hash),(n==null||n===""||n===".")&&f){let d=$x(h.search);if(f.route.index&&!d)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&d){let m=new URLSearchParams(h.search),x=m.getAll("index");m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let p=m.toString();h.search=p?`?${p}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:fi([t,h.pathname])),Go(h)}function d2(e,r,t){if(!t||!Q6(t))return{path:r};if(t.formMethod&&!c5(t.formMethod))return{path:r,error:fs(405,{method:t.formMethod})};let n=()=>({path:r,error:fs(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=bN(r);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Qn(l))return n();let x=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((p,[b,S])=>`${p}${b}=${S}
`,""):String(t.body);return{path:r,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:x}}}else if(t.formEncType==="application/json"){if(!Qn(l))return n();try{let x=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:r,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:x,text:void 0}}}catch(x){return n()}}}_r(typeof FormData=="function","FormData is not available in this environment");let f,h;if(t.formData)f=Sy(t.formData),h=t.formData;else if(t.body instanceof FormData)f=Sy(t.body),h=t.body;else if(t.body instanceof URLSearchParams)f=t.body,h=x2(f);else if(t.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(t.body),h=x2(f)}catch(x){return n()}let d={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Qn(d.formMethod))return{path:r,submission:d};let m=Qo(r);return e&&m.search&&$x(m.search)&&f.append("index",""),m.search=`?${f}`,{path:Go(m),submission:d}}function f2(e,r,t,n,i,l,c,f,h,d,m,x,p,b,S,k,T,A,M,H){var J;let D=H?Xn(H[1])?H[1].error:H[1].data:void 0,G=i.createURL(l.location),V=i.createURL(h),se;if(m&&l.errors){let le=Object.keys(l.errors)[0];se=c.findIndex(pe=>pe.route.id===le)}else if(H&&Xn(H[1])){let le=H[0];se=c.findIndex(pe=>pe.route.id===le)-1}let oe=H?H[1].statusCode:void 0,q=oe&&oe>=400,ie=je(Y({currentUrl:G,currentParams:((J=l.matches[0])==null?void 0:J.params)||{},nextUrl:V,nextParams:c[0].params},f),{actionResult:D,actionStatus:oe}),ee=c.map((le,pe)=>{let{route:ue}=le,ne=null;if(se!=null&&pe>se?ne=!1:ue.lazy?ne=!0:ue.loader==null?ne=!1:m?ne=_y(ue,l.loaderData,l.errors):Z6(l.loaderData,l.matches[pe],le)&&(ne=!0),ne!==null)return ky(t,n,e,le,d,r,ne);let he=q?!1:x||G.pathname+G.search===V.pathname+V.search||G.search!==V.search||J6(l.matches[pe],le),Le=je(Y({},ie),{defaultShouldRevalidate:he}),Z=em(le,Le);return ky(t,n,e,le,d,r,Z,Le)}),ae=[];return S.forEach((le,pe)=>{if(m||!c.some(xe=>xe.route.id===le.routeId)||b.has(pe))return;let ue=l.fetchers.get(pe),ne=ue&&ue.state!=="idle"&&ue.data===void 0,he=Mo(T,le.path,A);if(!he){if(M&&ne)return;ae.push({key:pe,routeId:le.routeId,path:le.path,matches:null,match:null,request:null,controller:null});return}if(k.has(pe))return;let Le=Md(he,le.path),Z=new AbortController,B=Gc(i,le.path,Z.signal),de=null;if(p.has(pe))p.delete(pe),de=Xc(t,n,B,he,Le,d,r);else if(ne)x&&(de=Xc(t,n,B,he,Le,d,r));else{let xe=je(Y({},ie),{defaultShouldRevalidate:q?!1:x});em(Le,xe)&&(de=Xc(t,n,B,he,Le,d,r,xe))}de&&ae.push({key:pe,routeId:le.routeId,path:le.path,matches:de,match:Le,request:B,controller:Z})}),{dsMatches:ee,revalidatingFetchers:ae}}function _y(e,r,t){if(e.lazy)return!0;if(!e.loader)return!1;let n=r!=null&&e.id in r,i=t!=null&&t[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function Z6(e,r,t){let n=!r||t.route.id!==r.route.id,i=!e.hasOwnProperty(t.route.id);return n||i}function J6(e,r){let t=e.route.path;return e.pathname!==r.pathname||t!=null&&t.endsWith("*")&&e.params["*"]!==r.params["*"]}function em(e,r){if(e.route.shouldRevalidate){let t=e.route.shouldRevalidate(r);if(typeof t=="boolean")return t}return r.defaultShouldRevalidate}function h2(e,r,t,n,i){let l;if(e){let h=n[e];_r(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=t;let c=r.filter(h=>!l.some(d=>gN(h,d))),f=Qh(c,i,[e||"_","patch",String((l==null?void 0:l.length)||"0")],n);l.push(...f)}function gN(e,r){return"id"in e&&"id"in r&&e.id===r.id?!0:e.index===r.index&&e.path===r.path&&e.caseSensitive===r.caseSensitive?(!e.children||e.children.length===0)&&(!r.children||r.children.length===0)?!0:e.children.every((t,n)=>{var i;return(i=r.children)==null?void 0:i.some(l=>gN(t,l))}):!1}var m2=new WeakMap,pN=({key:e,route:r,manifest:t,mapRouteProperties:n})=>{let i=t[r.id];if(_r(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[e];if(!l)return;let c=m2.get(i);c||(c={},m2.set(i,c));let f=c[e];if(f)return f;let h=Ne(null,null,function*(){let d=w6(e),x=i[e]!==void 0&&e!=="hasErrorBoundary";if(d)va(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(x)va(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=yield l();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))});return c[e]=h,h},g2=new WeakMap;function e5(e,r,t,n,i){let l=t[e.id];if(_r(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let m=g2.get(l);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let x=Ne(null,null,function*(){_r(typeof e.lazy=="function","No lazy route function found");let p=yield e.lazy(),b={};for(let S in p){let k=p[S];if(k===void 0)continue;let T=N6(S),M=l[S]!==void 0&&S!=="hasErrorBoundary";T?va(!T,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?va(!M,`Route "${l.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):b[S]=k}Object.assign(l,b),Object.assign(l,je(Y({},n(l)),{lazy:void 0}))});return g2.set(l,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let c=Object.keys(e.lazy),f=[],h;for(let m of c){if(i&&i.includes(m))continue;let x=pN({key:m,route:e,manifest:t,mapRouteProperties:n});x&&(f.push(x),m===r&&(h=x))}let d=f.length>0?Promise.all(f).then(()=>{}):void 0;return d==null||d.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:h}}function p2(e){return Ne(this,null,function*(){let r=e.matches.filter(i=>i.shouldLoad),t={};return(yield Promise.all(r.map(i=>i.resolve()))).forEach((i,l)=>{t[r[l].route.id]=i}),t})}function t5(e){return Ne(this,null,function*(){return e.matches.some(r=>r.route.unstable_middleware)?yN(e,!1,()=>p2(e),(r,t)=>({[t]:{type:"error",result:r}})):p2(e)})}function yN(e,r,t,n){return Ne(this,null,function*(){let{matches:i,request:l,params:c,context:f}=e,h={handlerResult:void 0};try{let d=i.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(p=>[x.route.id,p]):[]),m=yield xN({request:l,params:c,context:f},d,r,h,t);return r?m:h.handlerResult}catch(d){if(!h.middlewareError)throw d;let m=yield n(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,m):m}})}function xN(e,r,t,n,i,l=0){return Ne(this,null,function*(){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let f=r[l];if(!f)return n.handlerResult=yield i(),n.handlerResult;let[h,d]=f,m=!1,x,p=()=>Ne(null,null,function*(){if(m)throw new Error("You may only call `next()` once per middleware");m=!0,yield xN(e,r,t,n,i,l+1)});try{let b=yield d({request:e.request,params:e.params,context:e.context},p);return m?b===void 0?x:b:p()}catch(b){throw n.middlewareError?n.middlewareError.error!==b&&(n.middlewareError={routeId:h,error:b}):n.middlewareError={routeId:h,error:b},b}})}function vN(e,r,t,n,i){let l=pN({key:"unstable_middleware",route:n.route,manifest:r,mapRouteProperties:e}),c=e5(n.route,Qn(t.method)?"action":"loader",r,e,i);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function ky(e,r,t,n,i,l,c,f=null){let h=!1,d=vN(e,r,t,n,i);return je(Y({},n),{_lazyPromises:d,shouldLoad:c,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(m){return h=!0,f?typeof m=="boolean"?em(n,je(Y({},f),{defaultShouldRevalidate:m})):em(n,f):c},resolve(m){return h||c||m&&t.method==="GET"&&(n.route.lazy||n.route.loader)?a5({request:t,match:n,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:m,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}})}function Xc(e,r,t,n,i,l,c,f=null){return n.map(h=>h.route.id!==i.route.id?je(Y({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:vN(e,r,t,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}):ky(e,r,t,h,l,c,!0,f))}function r5(e,r,t,n,i,l){return Ne(this,null,function*(){t.some(d=>{var m;return(m=d._lazyPromises)==null?void 0:m.middleware})&&(yield Promise.all(t.map(d=>{var m;return(m=d._lazyPromises)==null?void 0:m.middleware})));let c={request:r,params:t[0].params,context:i,matches:t},f=d=>{let m=c;return yN(m,!1,()=>d(je(Y({},m),{fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(x,p)=>({[p]:{type:"error",result:x}}))},h=yield e(je(Y({},c),{fetcherKey:n,unstable_runClientMiddleware:f}));try{yield Promise.all(t.flatMap(d=>{var m,x;return[(m=d._lazyPromises)==null?void 0:m.handler,(x=d._lazyPromises)==null?void 0:x.route]}))}catch(d){}return h})}function a5(c){return Ne(this,arguments,function*({request:e,match:r,lazyHandlerPromise:t,lazyRoutePromise:n,handlerOverride:i,scopedContext:l}){let f,h,d=Qn(e.method),m=d?"action":"loader",x=p=>{let b,S=new Promise((A,M)=>b=M);h=()=>b(),e.signal.addEventListener("abort",h);let k=A=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${r.route.id}]`)):p({request:e,params:r.params,context:l},...A!==void 0?[A]:[]),T=Ne(null,null,function*(){try{return{type:"data",result:yield i?i(M=>k(M)):k()}}catch(A){return{type:"error",result:A}}});return Promise.race([T,S])};try{let p=d?r.route.action:r.route.loader;if(t||n)if(p){let b,[S]=yield Promise.all([x(p).catch(k=>{b=k}),t,n]);if(b!==void 0)throw b;f=S}else{yield t;let b=d?r.route.action:r.route.loader;if(b)[f]=yield Promise.all([x(b),n]);else if(m==="action"){let S=new URL(e.url),k=S.pathname+S.search;throw fs(405,{method:e.method,pathname:k,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(p)f=yield x(p);else{let b=new URL(e.url),S=b.pathname+b.search;throw fs(404,{pathname:S})}}catch(p){return{type:"error",result:p}}finally{h&&e.signal.removeEventListener("abort",h)}return f})}function n5(e){return Ne(this,null,function*(){var n,i,l,c,f,h;let{result:r,type:t}=e;if(wN(r)){let d;try{let m=r.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?r.body==null?d=null:d=yield r.json():d=yield r.text()}catch(m){return{type:"error",error:m}}return t==="error"?{type:"error",error:new Jh(r.status,r.statusText,d),statusCode:r.status,headers:r.headers}:{type:"data",data:d,statusCode:r.status,headers:r.headers}}return t==="error"?N2(r)?r.data instanceof Error?{type:"error",error:r.data,statusCode:(n=r.init)==null?void 0:n.status,headers:(i=r.init)!=null&&i.headers?new Headers(r.init.headers):void 0}:{type:"error",error:new Jh(((l=r.init)==null?void 0:l.status)||500,void 0,r.data),statusCode:Fd(r)?r.status:void 0,headers:(c=r.init)!=null&&c.headers?new Headers(r.init.headers):void 0}:{type:"error",error:r,statusCode:Fd(r)?r.status:void 0}:N2(r)?{type:"data",data:r.data,statusCode:(f=r.init)==null?void 0:f.status,headers:(h=r.init)!=null&&h.headers?new Headers(r.init.headers):void 0}:{type:"data",data:r}})}function s5(e,r,t,n,i){let l=e.headers.get("Location");if(_r(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ex.test(l)){let c=n.slice(0,n.findIndex(f=>f.route.id===t)+1);l=Ny(new URL(r.url),c,i,l),e.headers.set("Location",l)}return e}function y2(e,r,t){if(Ex.test(e)){let n=e,i=n.startsWith("//")?new URL(r.protocol+n):new URL(n),l=ps(i.pathname,t)!=null;if(i.origin===r.origin&&l)return i.pathname+i.search+i.hash}return e}function Gc(e,r,t,n){let i=e.createURL(bN(r)).toString(),l={signal:t};if(n&&Qn(n.formMethod)){let{formMethod:c,formEncType:f}=n;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(n.json)):f==="text/plain"?l.body=n.text:f==="application/x-www-form-urlencoded"&&n.formData?l.body=Sy(n.formData):l.body=n.formData}return new Request(i,l)}function Sy(e){let r=new URLSearchParams;for(let[t,n]of e.entries())r.append(t,typeof n=="string"?n:n.name);return r}function x2(e){let r=new FormData;for(let[t,n]of e.entries())r.append(t,n);return r}function i5(e,r,t,n=!1,i=!1){let l={},c=null,f,h=!1,d={},m=t&&Xn(t[1])?t[1].error:void 0;return e.forEach(x=>{if(!(x.route.id in r))return;let p=x.route.id,b=r[p];if(_r(!El(b),"Cannot handle redirect results in processLoaderData"),Xn(b)){let S=b.error;if(m!==void 0&&(S=m,m=void 0),c=c||{},i)c[p]=S;else{let k=Cl(e,p);c[k.route.id]==null&&(c[k.route.id]=S)}n||(l[p]=mN),h||(h=!0,f=Fd(b.error)?b.error.status:500),b.headers&&(d[p]=b.headers)}else l[p]=b.data,b.statusCode&&b.statusCode!==200&&!h&&(f=b.statusCode),b.headers&&(d[p]=b.headers)}),m!==void 0&&t&&(c={[t[0]]:m},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:d}}function v2(e,r,t,n,i,l){let{loaderData:c,errors:f}=i5(r,t,n);return i.filter(h=>!h.matches||h.matches.some(d=>d.shouldLoad)).forEach(h=>{let{key:d,match:m,controller:x}=h,p=l[d];if(_r(p,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Xn(p)){let b=Cl(e.matches,m==null?void 0:m.route.id);f&&f[b.route.id]||(f=je(Y({},f),{[b.route.id]:p.error})),e.fetchers.delete(d)}else if(El(p))_r(!1,"Unhandled fetcher revalidation redirect");else{let b=Ao(p.data);e.fetchers.set(d,b)}}),{loaderData:c,errors:f}}function b2(e,r,t,n){let i=Object.entries(r).filter(([,l])=>l!==mN).reduce((l,[c,f])=>(l[c]=f,l),{});for(let l of t){let c=l.route.id;if(!r.hasOwnProperty(c)&&e.hasOwnProperty(c)&&l.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function w2(e){return e?Xn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Cl(e,r){return(r?e.slice(0,e.findIndex(n=>n.route.id===r)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function j2(e){let r=e.length===1?e[0]:e.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function fs(e,{pathname:r,routeId:t,method:n,type:i,message:l}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(c="Bad Request",n&&r&&t?f=`You made a ${n} request to "${r}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):e===403?(c="Forbidden",f=`Route "${t}" does not match URL "${r}"`):e===404?(c="Not Found",f=`No route matches URL "${r}"`):e===405&&(c="Method Not Allowed",n&&r&&t?f=`You made a ${n.toUpperCase()} request to "${r}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(f=`Invalid request method "${n.toUpperCase()}"`)),new Jh(e||500,c,new Error(f),!0)}function Lf(e){let r=Object.entries(e);for(let t=r.length-1;t>=0;t--){let[n,i]=r[t];if(El(i))return{key:n,result:i}}}function bN(e){let r=typeof e=="string"?Qo(e):e;return Go(je(Y({},r),{hash:""}))}function o5(e,r){return e.pathname!==r.pathname||e.search!==r.search?!1:e.hash===""?r.hash!=="":e.hash===r.hash?!0:r.hash!==""}function l5(e){return wN(e.result)&&V6.has(e.result.status)}function Xn(e){return e.type==="error"}function El(e){return(e&&e.type)==="redirect"}function N2(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function wN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function c5(e){return G6.has(e.toUpperCase())}function Qn(e){return q6.has(e.toUpperCase())}function $x(e){return new URLSearchParams(e).getAll("index").some(r=>r==="")}function Md(e,r){let t=typeof r=="string"?Qo(r).search:r.search;if(e[e.length-1].route.index&&$x(t||""))return e[e.length-1];let n=dN(e);return n[n.length-1]}function _2(e){let{formMethod:r,formAction:t,formEncType:n,text:i,formData:l,json:c}=e;if(!(!r||!t||!n)){if(i!=null)return{formMethod:r,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:r,formAction:t,formEncType:n,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:r,formAction:t,formEncType:n,formData:void 0,json:c,text:void 0}}}function Dp(e,r){return r?{state:"loading",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function u5(e,r){return{state:"submitting",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Nd(e,r){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function d5(e,r){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r?r.data:void 0}}function Ao(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function f5(e,r){try{let t=e.sessionStorage.getItem(hN);if(t){let n=JSON.parse(t);for(let[i,l]of Object.entries(n||{}))l&&Array.isArray(l)&&r.set(i,new Set(l||[]))}}catch(t){}}function h5(e,r){if(r.size>0){let t={};for(let[n,i]of r)t[n]=[...i];try{e.sessionStorage.setItem(hN,JSON.stringify(t))}catch(n){va(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function m5(){let e,r,t=new Promise((n,i)=>{e=l=>Ne(null,null,function*(){n(l);try{yield t}catch(c){}}),r=l=>Ne(null,null,function*(){i(l);try{yield t}catch(c){}})});return{promise:t,resolve:e,reject:r}}var Kl=E.createContext(null);Kl.displayName="DataRouter";var m0=E.createContext(null);m0.displayName="DataRouterState";var Ox=E.createContext({isTransitioning:!1});Ox.displayName="ViewTransition";var jN=E.createContext(new Map);jN.displayName="Fetchers";var g5=E.createContext(null);g5.displayName="Await";var Vs=E.createContext(null);Vs.displayName="Navigation";var gm=E.createContext(null);gm.displayName="Location";var xs=E.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var Tx=E.createContext(null);Tx.displayName="RouteError";function p5(e,{relative:r}={}){_r(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=E.useContext(Vs),{hash:i,pathname:l,search:c}=g0(e,{relative:r}),f=l;return t!=="/"&&(f=l==="/"?t:fi([t,l])),n.createHref({pathname:f,search:c,hash:i})}function yu(){return E.useContext(gm)!=null}function Dn(){return _r(yu(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(gm).location}var NN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _N(e){E.useContext(Vs).static||E.useLayoutEffect(e)}function fa(){let{isDataRoute:e}=E.useContext(xs);return e?T5():y5()}function y5(){_r(yu(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Kl),{basename:r,navigator:t}=E.useContext(Vs),{matches:n}=E.useContext(xs),{pathname:i}=Dn(),l=JSON.stringify(hm(n)),c=E.useRef(!1);return _N(()=>{c.current=!0}),E.useCallback((h,d={})=>{if(va(c.current,NN),!c.current)return;if(typeof h=="number"){t.go(h);return}let m=mm(h,JSON.parse(l),i,d.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:fi([r,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[r,t,l,i,e])}var x5=E.createContext(null);function v5(e){let r=E.useContext(xs).outlet;return r&&E.createElement(x5.Provider,{value:e},r)}function pm(){let{matches:e}=E.useContext(xs),r=e[e.length-1];return r?r.params:{}}function g0(e,{relative:r}={}){let{matches:t}=E.useContext(xs),{pathname:n}=Dn(),i=JSON.stringify(hm(t));return E.useMemo(()=>mm(e,JSON.parse(i),n,r==="path"),[e,i,n,r])}function b5(e,r,t,n){_r(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(Vs),{matches:l}=E.useContext(xs),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",d=c?c.pathnameBase:"/",m=c&&c.route;{let A=m&&m.path||"";kN(h,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=Dn(),p;p=x;let b=p.pathname||"/",S=b;if(d!=="/"){let A=d.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let k=Mo(e,{pathname:S});return va(m||k!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),va(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),k5(k&&k.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:fi([d,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:fi([d,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,t,n)}function w5(){let e=O5(),r=Fd(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},r),t?E.createElement("pre",{style:i},t):null,c)}var j5=E.createElement(w5,null),N5=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(xs.Provider,{value:this.props.routeContext},E.createElement(Tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _5({routeContext:e,match:r,children:t}){let n=E.useContext(Kl);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(xs.Provider,{value:e},t)}function k5(e,r=[],t=null,n=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let i=e,l=t==null?void 0:t.errors;if(l!=null){let h=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);_r(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,f=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=h),d.route.id){let{loaderData:m,errors:x}=t,p=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!x||x[d.route.id]===void 0);if(d.route.lazy||p){c=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((h,d,m)=>{let x,p=!1,b=null,S=null;t&&(x=l&&d.route.id?l[d.route.id]:void 0,b=d.route.errorElement||j5,c&&(f<0&&m===0?(kN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,S=null):f===m&&(p=!0,S=d.route.hydrateFallbackElement||null)));let k=r.concat(i.slice(0,m+1)),T=()=>{let A;return x?A=b:p?A=S:d.route.Component?A=E.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,E.createElement(_5,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:t!=null},children:A})};return t&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?E.createElement(N5,{location:t.location,revalidation:t.revalidation,component:b,error:x,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):T()},null)}function Ax(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S5(e){let r=E.useContext(Kl);return _r(r,Ax(e)),r}function C5(e){let r=E.useContext(m0);return _r(r,Ax(e)),r}function E5(e){let r=E.useContext(xs);return _r(r,Ax(e)),r}function Rx(e){let r=E5(e),t=r.matches[r.matches.length-1];return _r(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function $5(){return Rx("useRouteId")}function O5(){var n;let e=E.useContext(Tx),r=C5("useRouteError"),t=Rx("useRouteError");return e!==void 0?e:(n=r.errors)==null?void 0:n[t]}function T5(){let{router:e}=S5("useNavigate"),r=Rx("useNavigate"),t=E.useRef(!1);return _N(()=>{t.current=!0}),E.useCallback((c,...f)=>Ne(null,[c,...f],function*(i,l={}){va(t.current,NN),t.current&&(typeof i=="number"?e.navigate(i):yield e.navigate(i,Y({fromRouteId:r},l)))}),[e,r])}var k2={};function kN(e,r,t){!r&&!k2[e]&&(k2[e]=!0,va(!1,t))}var S2={};function C2(e,r){!e&&!S2[r]&&(S2[r]=!0,console.warn(r))}function A5(e){let r={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&va(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(r,{element:E.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&va(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(r,{hydrateFallbackElement:E.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&va(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(r,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),r}var R5=["HydrateFallback","hydrateFallbackElement"],P5=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",e(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",r(t))}})}};function M5({router:e,flushSync:r}){let[t,n]=E.useState(e.state),[i,l]=E.useState(),[c,f]=E.useState({isTransitioning:!1}),[h,d]=E.useState(),[m,x]=E.useState(),[p,b]=E.useState(),S=E.useRef(new Map),k=E.useCallback((H,{deletedFetchers:D,flushSync:G,viewTransitionOpts:V})=>{H.fetchers.forEach((oe,q)=>{oe.data!==void 0&&S.current.set(q,oe.data)}),D.forEach(oe=>S.current.delete(oe)),C2(G===!1||r!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let se=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(C2(V==null||se,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!se){r&&G?r(()=>n(H)):E.startTransition(()=>n(H));return}if(r&&G){r(()=>{m&&(h&&h.resolve(),m.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let oe=e.window.document.startViewTransition(()=>{r(()=>n(H))});oe.finished.finally(()=>{r(()=>{d(void 0),x(void 0),l(void 0),f({isTransitioning:!1})})}),r(()=>x(oe));return}m?(h&&h.resolve(),m.skipTransition(),b({state:H,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(l(H),f({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[e.window,r,m,h]);E.useLayoutEffect(()=>e.subscribe(k),[e,k]),E.useEffect(()=>{c.isTransitioning&&!c.flushSync&&d(new P5)},[c]),E.useEffect(()=>{if(h&&i&&e.window){let H=i,D=h.promise,G=e.window.document.startViewTransition(()=>Ne(null,null,function*(){E.startTransition(()=>n(H)),yield D}));G.finished.finally(()=>{d(void 0),x(void 0),l(void 0),f({isTransitioning:!1})}),x(G)}},[i,h,e.window]),E.useEffect(()=>{h&&i&&t.location.key===i.location.key&&h.resolve()},[h,m,t.location,i]),E.useEffect(()=>{!c.isTransitioning&&p&&(l(p.state),f({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),b(void 0))},[c.isTransitioning,p]);let T=E.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:H=>e.navigate(H),push:(H,D,G)=>e.navigate(H,{state:D,preventScrollReset:G==null?void 0:G.preventScrollReset}),replace:(H,D,G)=>e.navigate(H,{replace:!0,state:D,preventScrollReset:G==null?void 0:G.preventScrollReset})}),[e]),A=e.basename||"/",M=E.useMemo(()=>({router:e,navigator:T,static:!1,basename:A}),[e,T,A]);return E.createElement(E.Fragment,null,E.createElement(Kl.Provider,{value:M},E.createElement(m0.Provider,{value:t},E.createElement(jN.Provider,{value:S.current},E.createElement(Ox.Provider,{value:c},E.createElement(F5,{basename:A,location:t.location,navigationType:t.historyAction,navigator:T},E.createElement(D5,{routes:e.routes,future:e.future,state:t})))))),null)}var D5=E.memo(I5);function I5({routes:e,future:r,state:t}){return b5(e,void 0,t,r)}function L5({to:e,replace:r,state:t,relative:n}){_r(yu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Vs);va(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=E.useContext(xs),{pathname:c}=Dn(),f=fa(),h=mm(e,hm(l),c,n==="path"),d=JSON.stringify(h);return E.useEffect(()=>{f(JSON.parse(d),{replace:r,state:t,relative:n})},[f,d,n,r,t]),null}function U5(e){return v5(e.context)}function F5({basename:e="/",children:r=null,location:t,navigationType:n="POP",navigator:i,static:l=!1}){_r(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof t=="string"&&(t=Qo(t));let{pathname:h="/",search:d="",hash:m="",state:x=null,key:p="default"}=t,b=E.useMemo(()=>{let S=ps(h,c);return S==null?null:{location:{pathname:S,search:d,hash:m,state:x,key:p},navigationType:n}},[c,h,d,m,x,p,n]);return va(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(Vs.Provider,{value:f},E.createElement(gm.Provider,{children:r,value:b}))}var Fh="get",Bh="application/x-www-form-urlencoded";function ym(e){return e!=null&&typeof e.tagName=="string"}function B5(e){return ym(e)&&e.tagName.toLowerCase()==="button"}function z5(e){return ym(e)&&e.tagName.toLowerCase()==="form"}function q5(e){return ym(e)&&e.tagName.toLowerCase()==="input"}function H5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G5(e,r){return e.button===0&&(!r||r==="_self")&&!H5(e)}function Cy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let n=e[t];return r.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function V5(e,r){let t=Cy(e);return r&&r.forEach((n,i)=>{t.has(i)||r.getAll(i).forEach(l=>{t.append(i,l)})}),t}var Uf=null;function K5(){if(Uf===null)try{new FormData(document.createElement("form"),0),Uf=!1}catch(e){Uf=!0}return Uf}var W5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(e){return e!=null&&!W5.has(e)?(va(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):e}function Y5(e,r){let t,n,i,l,c;if(z5(e)){let f=e.getAttribute("action");n=f?ps(f,r):null,t=e.getAttribute("method")||Fh,i=Ip(e.getAttribute("enctype"))||Bh,l=new FormData(e)}else if(B5(e)||q5(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(n=h?ps(h,r):null,t=e.getAttribute("formmethod")||f.getAttribute("method")||Fh,i=Ip(e.getAttribute("formenctype"))||Ip(f.getAttribute("enctype"))||Bh,l=new FormData(f,e),!K5()){let{name:d,type:m,value:x}=e;if(m==="image"){let p=d?`${d}.`:"";l.append(`${p}x`,"0"),l.append(`${p}y`,"0")}else d&&l.append(d,x)}}else{if(ym(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fh,n=null,i=Bh,c=e}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:l,body:c}}function Px(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function X5(e,r){return Ne(this,null,function*(){if(e.id in r)return r[e.id];try{let t=yield import(e.module);return r[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function Q5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function Z5(e,r,t){return Ne(this,null,function*(){let n=yield Promise.all(e.map(i=>Ne(null,null,function*(){let l=r.routes[i.route.id];if(l){let c=yield X5(l,t);return c.links?c.links():[]}return[]})));return rC(n.flat(1).filter(Q5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?je(Y({},i),{rel:"prefetch",as:"style"}):je(Y({},i),{rel:"prefetch"})))})}function E2(e,r,t,n,i,l){let c=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,f=(h,d)=>{var m;return t[d].pathname!==h.pathname||((m=t[d].route.path)==null?void 0:m.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return l==="assets"?r.filter((h,d)=>c(h,d)||f(h,d)):l==="data"?r.filter((h,d)=>{var x;let m=n.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,d)||f(h,d))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function J5(e,r,{includeHydrateFallback:t}={}){return eC(e.map(n=>{let i=r.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function eC(e){return[...new Set(e)]}function tC(e){let r={},t=Object.keys(e).sort();for(let n of t)r[n]=e[n];return r}function rC(e,r){let t=new Set;return new Set(r),e.reduce((n,i)=>{let l=JSON.stringify(tC(i));return t.has(l)||(t.add(l),n.push({key:l,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aC=new Set([100,101,204,205]);function nC(e,r){let t=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":r&&ps(t.pathname,r)==="/"?t.pathname=`${r.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function SN(){let e=E.useContext(Kl);return Px(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sC(){let e=E.useContext(m0);return Px(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mx=E.createContext(void 0);Mx.displayName="FrameworkContext";function CN(){let e=E.useContext(Mx);return Px(e,"You must render this element inside a <HydratedRouter> element"),e}function iC(e,r){let t=E.useContext(Mx),[n,i]=E.useState(!1),[l,c]=E.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:x}=r,p=E.useRef(null);E.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=A=>{A.forEach(M=>{c(M.isIntersecting)})},T=new IntersectionObserver(k,{threshold:.5});return p.current&&T.observe(p.current),()=>{T.disconnect()}}},[e]),E.useEffect(()=>{if(n){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[n]);let b=()=>{i(!0)},S=()=>{i(!1),c(!1)};return t?e!=="intent"?[l,p,{}]:[l,p,{onFocus:_d(f,b),onBlur:_d(h,S),onMouseEnter:_d(d,b),onMouseLeave:_d(m,S),onTouchStart:_d(x,b)}]:[!1,p,{}]}function _d(e,r){return t=>{e&&e(t),t.defaultPrevented||r(t)}}function oC(t){var n=t,{page:e}=n,r=mr(n,["page"]);let{router:i}=SN(),l=E.useMemo(()=>Mo(i.routes,e,i.basename),[i.routes,e,i.basename]);return l?E.createElement(cC,Y({page:e,matches:l},r)):null}function lC(e){let{manifest:r,routeModules:t}=CN(),[n,i]=E.useState([]);return E.useEffect(()=>{let l=!1;return Z5(e,r,t).then(c=>{l||i(c)}),()=>{l=!0}},[e,r,t]),n}function cC(n){var i=n,{page:e,matches:r}=i,t=mr(i,["page","matches"]);let l=Dn(),{manifest:c,routeModules:f}=CN(),{basename:h}=SN(),{loaderData:d,matches:m}=sC(),x=E.useMemo(()=>E2(e,r,m,c,l,"data"),[e,r,m,c,l]),p=E.useMemo(()=>E2(e,r,m,c,l,"assets"),[e,r,m,c,l]),b=E.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let T=new Set,A=!1;if(r.forEach(H=>{var G;let D=c.routes[H.route.id];!D||!D.hasLoader||(!x.some(V=>V.route.id===H.route.id)&&H.route.id in d&&((G=f[H.route.id])!=null&&G.shouldRevalidate)||D.hasClientLoader?A=!0:T.add(H.route.id))}),T.size===0)return[];let M=nC(e,h);return A&&T.size>0&&M.searchParams.set("_routes",r.filter(H=>T.has(H.route.id)).map(H=>H.route.id).join(",")),[M.pathname+M.search]},[h,d,l,c,x,r,e,f]),S=E.useMemo(()=>J5(p,c),[p,c]),k=lC(p);return E.createElement(E.Fragment,null,b.map(T=>E.createElement("link",Y({key:T,rel:"prefetch",as:"fetch",href:T},t))),S.map(T=>E.createElement("link",Y({key:T,rel:"modulepreload",href:T},t))),k.map(({key:T,link:A})=>E.createElement("link",Y({key:T},A))))}function uC(...e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}var EN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{EN&&(window.__reactRouterVersion="7.6.2")}catch(e){}function dC(e,r){return X6({basename:r==null?void 0:r.basename,unstable_getContext:r==null?void 0:r.unstable_getContext,future:r==null?void 0:r.future,history:y6({window:r==null?void 0:r.window}),hydrationData:(r==null?void 0:r.hydrationData)||fC(),routes:e,mapRouteProperties:A5,hydrationRouteProperties:R5,dataStrategy:r==null?void 0:r.dataStrategy,patchRoutesOnNavigation:r==null?void 0:r.patchRoutesOnNavigation,window:r==null?void 0:r.window}).initialize()}function fC(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=je(Y({},e),{errors:hC(e.errors)})),e}function hC(e){if(!e)return null;let r=Object.entries(e),t={};for(let[n,i]of r)if(i&&i.__type==="RouteErrorResponse")t[n]=new Jh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let c=new l(i.message);c.stack="",t[n]=c}catch(c){}}if(t[n]==null){let l=new Error(i.message);l.stack="",t[n]=l}}else t[n]=i;return t}var $N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p0=E.forwardRef(function(S,b){var k=S,{onClick:r,discover:t="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:f,target:h,to:d,preventScrollReset:m,viewTransition:x}=k,p=mr(k,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:T}=E.useContext(Vs),A=typeof d=="string"&&$N.test(d),M,H=!1;if(typeof d=="string"&&A&&(M=d,EN))try{let ee=new URL(window.location.href),ae=d.startsWith("//")?new URL(ee.protocol+d):new URL(d),J=ps(ae.pathname,T);ae.origin===ee.origin&&J!=null?d=J+ae.search+ae.hash:H=!0}catch(ee){va(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=p5(d,{relative:i}),[G,V,se]=iC(n,p),oe=yC(d,{replace:c,state:f,target:h,preventScrollReset:m,relative:i,viewTransition:x});function q(ee){r&&r(ee),ee.defaultPrevented||oe(ee)}let ie=E.createElement("a",je(Y(Y({},p),se),{href:M||D,onClick:H||l?r:q,ref:uC(b,V),target:h,"data-discover":!A&&t==="render"?"true":void 0}));return G&&!A?E.createElement(E.Fragment,null,ie,E.createElement(oC,{page:D})):ie});p0.displayName="Link";var mC=E.forwardRef(function(x,m){var p=x,{"aria-current":r="page",caseSensitive:t=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:f,children:h}=p,d=mr(p,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let b=g0(c,{relative:d.relative}),S=Dn(),k=E.useContext(m0),{navigator:T,basename:A}=E.useContext(Vs),M=k!=null&&NC(b)&&f===!0,H=T.encodeLocation?T.encodeLocation(b).pathname:b.pathname,D=S.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(D=D.toLowerCase(),G=G?G.toLowerCase():null,H=H.toLowerCase()),G&&A&&(G=ps(G,A)||G);const V=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let se=D===H||!i&&D.startsWith(H)&&D.charAt(V)==="/",oe=G!=null&&(G===H||!i&&G.startsWith(H)&&G.charAt(H.length)==="/"),q={isActive:se,isPending:oe,isTransitioning:M},ie=se?r:void 0,ee;typeof n=="function"?ee=n(q):ee=[n,se?"active":null,oe?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ae=typeof l=="function"?l(q):l;return E.createElement(p0,je(Y({},d),{"aria-current":ie,className:ee,ref:m,style:ae,to:c,viewTransition:f}),typeof h=="function"?h(q):h)});mC.displayName="NavLink";var gC=E.forwardRef((S,b)=>{var k=S,{discover:e="render",fetcherKey:r,navigate:t,reloadDocument:n,replace:i,state:l,method:c=Fh,action:f,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:x}=k,p=mr(k,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let T=wC(),A=jC(f,{relative:d}),M=c.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&$N.test(f),D=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let V=G.nativeEvent.submitter,se=(V==null?void 0:V.getAttribute("formmethod"))||c;T(V||G.currentTarget,{fetcherKey:r,method:se,navigate:t,replace:i,state:l,relative:d,preventScrollReset:m,viewTransition:x})};return E.createElement("form",je(Y({ref:b,method:M,action:A,onSubmit:n?h:D},p),{"data-discover":!H&&e==="render"?"true":void 0}))});gC.displayName="Form";function pC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ON(e){let r=E.useContext(Kl);return _r(r,pC(e)),r}function yC(e,{target:r,replace:t,state:n,preventScrollReset:i,relative:l,viewTransition:c}={}){let f=fa(),h=Dn(),d=g0(e,{relative:l});return E.useCallback(m=>{if(G5(m,r)){m.preventDefault();let x=t!==void 0?t:Go(h)===Go(d);f(e,{replace:x,state:n,preventScrollReset:i,relative:l,viewTransition:c})}},[h,f,d,t,n,r,e,i,l,c])}function xC(e){va(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=E.useRef(Cy(e)),t=E.useRef(!1),n=Dn(),i=E.useMemo(()=>V5(n.search,t.current?null:r.current),[n.search]),l=fa(),c=E.useCallback((f,h)=>{const d=Cy(typeof f=="function"?f(i):f);t.current=!0,l("?"+d,h)},[l,i]);return[i,c]}var vC=0,bC=()=>`__${String(++vC)}__`;function wC(){let{router:e}=ON("useSubmit"),{basename:r}=E.useContext(Vs),t=$5();return E.useCallback((l,...c)=>Ne(null,[l,...c],function*(n,i={}){let{action:f,method:h,encType:d,formData:m,body:x}=Y5(n,r);if(i.navigate===!1){let p=i.fetcherKey||bC();yield e.fetch(p,t,i.action||f,{preventScrollReset:i.preventScrollReset,formData:m,body:x,formMethod:i.method||h,formEncType:i.encType||d,flushSync:i.flushSync})}else yield e.navigate(i.action||f,{preventScrollReset:i.preventScrollReset,formData:m,body:x,formMethod:i.method||h,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,r,t])}function jC(e,{relative:r}={}){let{basename:t}=E.useContext(Vs),n=E.useContext(xs);_r(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l=Y({},g0(e||".",{relative:r})),c=Dn();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(m=>m==="")){f.delete("index"),h.filter(x=>x).forEach(x=>f.append("index",x));let m=f.toString();l.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fi([t,l.pathname])),Go(l)}function NC(e,r={}){let t=E.useContext(Ox);_r(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ON("useViewTransitionState"),i=g0(e,{relative:r.relative});if(!t.isTransitioning)return!1;let l=ps(t.currentLocation.pathname,n)||t.currentLocation.pathname,c=ps(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Zh(i.pathname,c)!=null||Zh(i.pathname,l)!=null}[...aC];var Dx=iN();const _C=Xo(Dx);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kC(e){return E.createElement(M5,Y({flushSync:Dx.flushSync},e))}const Pc={};class SC{constructor(){Np(this,"config");Np(this,"sessionId",null);const r=window.location.pathname.startsWith("/klik_pos"),t="";this.config={baseUrl:t,apiKey:(Pc==null?void 0:Pc.VITE_API_KEY)||"",apiSecret:(Pc==null?void 0:Pc.VITE_API_SECRET)||""}}getHeaders(r=!0){const t={"Content-Type":"application/json",Accept:"application/json"};if(r&&this.config.apiKey&&this.config.apiSecret){const n=btoa(`${this.config.apiKey}:${this.config.apiSecret}`);t.Authorization=`Basic ${n}`}return this.sessionId&&(t.Cookie=`sid=${this.sessionId}`),t}login(r,t){return Ne(this,null,function*(){var n,i;try{console.log("Attempting login to:",this.config.baseUrl);let l=yield fetch(`${this.config.baseUrl}/api/method/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:r,pwd:t}),credentials:"include"});if(console.log("Login response status:",l.status),console.log("Login response headers:",Object.fromEntries(l.headers.entries())),l.status===404&&(console.log("Trying alternative login endpoint..."),l=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:r,pwd:t}),credentials:"include"}),console.log("Alternative login response status:",l.status)),!l.ok){console.error("Login failed with status:",l.status);const f=yield l.text();console.error("Error response body:",f);let h=`HTTP ${l.status}: ${l.statusText}`;try{const d=JSON.parse(f);d.message?h=d.message:d.exc&&(h=d.exc)}catch(d){f&&f.trim()&&(h=f)}return{success:!1,message:h}}const c=yield l.json();if(console.log("Login response data:",c),c.message==="Logged In"||(n=c.message)!=null&&n.name||(i=c.message)!=null&&i.email){const f=l.headers.get("set-cookie");if(f){const d=f.match(/sid=([^;]+)/);d&&d[1]&&(this.sessionId=d[1],localStorage.setItem("erpnext_sid",this.sessionId),console.log("Session ID stored:",this.sessionId))}try{console.log("Fetching user profile data...");const d=yield this.getCurrentUserProfile();if(console.log("User profile fetched:",d),d)return{success:!0,message:"Login successful",user:{name:d.name||r,email:d.email||d.name||r,full_name:d.full_name||d.first_name+" "+(d.last_name||"")||r,role:d.role_profile_name||d.role||"User",first_name:d.first_name,last_name:d.last_name,user_image:d.user_image},sid:this.sessionId||void 0}}catch(d){console.warn("Failed to fetch user profile, using basic data:",d)}let h;return typeof c.message=="string"&&c.message==="Logged In"?h={name:r,email:r,full_name:r,role:"User"}:c.message&&typeof c.message=="object"?h={name:c.message.name||r,email:c.message.email||c.message.name||r,full_name:c.message.full_name||c.message.name||r,role:c.message.role||"User"}:h={name:r,email:r,full_name:r,role:"User"},{success:!0,message:"Login successful",user:h,sid:this.sessionId||void 0}}else return{success:!1,message:c.message||c.exc||"Login failed"}}catch(l){if(console.error("Login error details:",l),l instanceof TypeError&&l.message.includes("fetch"))return{success:!1,message:"Network error. Please check if the ERPNext server is accessible."};if(l instanceof Error){if(l.message.includes("timeout"))return{success:!1,message:"Connection timeout. Please try again."};if(l.message.includes("Failed to fetch"))return{success:!1,message:"Unable to connect to the server. Please check your internet connection."}}return{success:!1,message:"An unexpected error occurred. Please try again."}}})}logout(){return Ne(this,null,function*(){try{yield fetch(`${this.config.baseUrl}/api/method/logout`,{method:"POST",headers:this.getHeaders(),credentials:"include"})}catch(r){console.error("Logout error:",r)}finally{this.sessionId=null,localStorage.removeItem("erpnext_sid")}})}getCurrentUser(){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).message}catch(r){return console.error("Get current user error:",r),null}})}getCurrentUserProfile(){return Ne(this,null,function*(){try{const r=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!r.ok)throw new Error(`Failed to fetch logged user: ${r.status}`);const n=(yield r.json()).message;if(!n)throw new Error("No logged user found");const i=yield fetch(`${this.config.baseUrl}/api/resource/User/${n}`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!i.ok)throw new Error(`Failed to fetch user profile: ${i.status}`);return(yield i.json()).data}catch(r){throw console.error("Get user profile error:",r),r}})}testConnection(){return Ne(this,null,function*(){try{console.log("Testing connection to:",this.config.baseUrl);let r=yield fetch(`${this.config.baseUrl}/api/method/ping`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});return console.log("Ping response:",{status:r.status,statusText:r.statusText,headers:Object.fromEntries(r.headers.entries())}),r.status===404&&(console.log("Ping failed, trying version endpoint..."),r=yield fetch(`${this.config.baseUrl}/api/method/frappe.utils.get_site_info`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"})),r.ok?{success:!0,message:"Connection successful",details:yield r.json()}:{success:!1,message:`Server responded with status: ${r.status} - ${r.statusText}`,details:{status:r.status,statusText:r.statusText}}}catch(r){console.error("Connection test error details:",r);let t="Unknown error";return r instanceof Error&&(r.name==="AbortError"?t="Connection timeout - server took too long to respond":r.message.includes("CORS")?t="CORS error - server may not allow cross-origin requests":r.message.includes("Failed to fetch")?t="Network error - server may be unreachable or blocked":t=r.message),{success:!1,message:`Connection failed: ${t}`,details:r}}})}makeAPICall(n){return Ne(this,arguments,function*(r,t={}){const i=Y({method:"GET",headers:this.getHeaders(),credentials:"include"},t);try{console.log("Making API call:",{url:r,options:i});const l=yield fetch(r,i);return l.ok||console.error("API call failed:",{url:r,status:l.status,statusText:l.statusText,headers:Object.fromEntries(l.headers.entries())}),l}catch(l){throw console.error("API call error:",{url:r,error:l}),l}})}apiCall(n){return Ne(this,arguments,function*(r,t={}){try{return yield(yield this.makeAPICall(`${this.config.baseUrl}/api/method/${r}`,{method:"POST",body:JSON.stringify(t)})).json()}catch(i){throw console.error(`API call error (${r}):`,i),i}})}getDocList(i){return Ne(this,arguments,function*(r,t=["*"],n={}){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}?${new URLSearchParams({fields:JSON.stringify(t),filters:JSON.stringify(n)})}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(l){throw console.error(`Get ${r} list error:`,l),l}})}getDoc(r,t){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}/${t}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(n){throw console.error(`Get ${r} document error:`,n),n}})}createDoc(r,t){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t),credentials:"include"})).json()).data}catch(n){throw console.error(`Create ${r} document error:`,n),n}})}updateDoc(r,t,n){return Ne(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${r}/${t}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(n),credentials:"include"})).json()).data}catch(i){throw console.error(`Update ${r} document error:`,i),i}})}validateSession(){return Ne(this,null,function*(){try{const r=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});return r.ok?!!(yield r.json()).message:!1}catch(r){return console.error("Session validation failed:",r),!1}})}initializeSession(){const r=localStorage.getItem("erpnext_sid");r&&(this.sessionId=r,console.log("Session restored from localStorage:",r))}}const hs=new SC,TN=E.createContext(void 0);function CC({children:e}){const[r,t]=E.useState(null),[n,i]=E.useState(!0),[l,c]=E.useState(!1);E.useEffect(()=>{c(!0)},[]),E.useEffect(()=>{if(!l)return;hs.initializeSession();const m=localStorage.getItem("erpnext_token"),x=localStorage.getItem("user_data");if(m&&x)try{const p=JSON.parse(x);t(p),Ne(null,null,function*(){try{if(!(yield hs.validateSession())){console.warn("Session is invalid, clearing auth data"),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid"),t(null);return}const k=yield hs.getCurrentUserProfile();if(k){const T={name:k.name||p.name,email:k.email||k.name||p.email,full_name:k.full_name||k.first_name+" "+(k.last_name||"")||p.full_name,role:k.role_profile_name||k.role||p.role||"User",first_name:k.first_name,last_name:k.last_name,user_image:k.user_image};t(T),localStorage.setItem("user_data",JSON.stringify(T))}}catch(S){console.warn("Failed to refresh user data, using cached data:",S)}})}catch(p){console.error("Error parsing user data:",p),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}i(!1)},[l]);const f=(m,x)=>Ne(null,null,function*(){try{i(!0);const p=yield hs.login(m,x);if(p.success&&p.user){console.log("Login successful:",p.user);const b={name:p.user.name||m,email:p.user.email||m,full_name:p.user.full_name||p.user.name||m,role:p.user.role||"User"};return t(b),localStorage.setItem("erpnext_token","authenticated"),localStorage.setItem("user_data",JSON.stringify(b)),{success:!0,message:p.message}}else return{success:!1,message:p.message}}catch(p){return console.error("Login error:",p),{success:!1,message:"Login failed. Please try again."}}finally{i(!1)}}),h=()=>Ne(null,null,function*(){yield hs.logout(),t(null),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}),d=()=>Ne(null,null,function*(){if(!r)return!1;try{return(yield hs.validateSession())?!0:(console.log("Session expired, logging out"),yield h(),!1)}catch(m){return console.error("Session check failed:",m),!1}});return a.jsx(TN.Provider,{value:{user:r,login:f,logout:h,checkSession:d,loading:n,isAuthenticated:!!r},children:e})}function Zo(){const e=E.useContext(TN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function EC(){const[e,r]=E.useState(""),[t,n]=E.useState(""),[i,l]=E.useState(""),[c,f]=E.useState(!1),h=fa(),d=Dn(),{login:m}=Zo(),x=b=>Ne(null,null,function*(){var S,k;b.preventDefault(),f(!0),l("");try{const T=yield m(e,t);if(T.success){const A=((k=(S=d.state)==null?void 0:S.from)==null?void 0:k.pathname)||"/pos";h(A,{replace:!0})}else l(p(T.message))}catch(T){l("An unexpected error occurred. Please try again."),console.error("Login error:",T)}finally{f(!1)}}),p=b=>b.includes("HTTP 401")||b.includes("401")?"Invalid username or password. Please check your credentials and try again.":b.includes("HTTP 403")||b.includes("403")?"Access denied. Please contact your administrator.":b.includes("HTTP 404")||b.includes("404")?"Login service not available. Please contact your administrator.":b.includes("HTTP 500")||b.includes("500")?"Server error. Please try again later or contact your administrator.":b.includes("Network error")||b.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":b.includes("timeout")?"Connection timeout. Please try again.":b.includes("Invalid credentials")||b.includes("incorrect")?"Invalid username or password. Please check your credentials and try again.":b.includes("User not found")?"User not found. Please check your username and try again.":b.includes("Account disabled")?"Your account has been disabled. Please contact your administrator.":b.includes("Too many attempts")?"Too many login attempts. Please wait a few minutes before trying again.":b&&!b.includes("HTTP")&&!b.includes("Error:")?b:"Login failed. Please check your credentials and try again.";return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),a.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[a.jsxs("div",{className:"bg-white/95 rounded-2xl shadow-2xl p-6 backdrop-blur-sm",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"https://beverensoftware.com/wp-content/uploads/2023/06/cropped-15-1-180x180.png",alt:"KLiK PoS",className:"w-16 h-16 rounded-full shadow-lg"})}),a.jsx("h1",{className:"text-3xl font-bold text-beveren-800",children:"KLiK PoS"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"username",type:"text",value:e,onChange:b=>r(b.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Username or Email",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:"password",value:t,onChange:b=>n(b.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Password",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:a.jsx("p",{className:"text-sm text-red-600 font-medium text-center",children:i})}),a.jsx("button",{type:"submit",disabled:c,className:"w-full bg-beveren-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-beveren-700 focus:outline-none focus:ring-4 focus:ring-beveren-300 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-beveren-400 disabled:cursor-not-allowed",children:c?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),a.jsx("span",{className:"ml-2",children:"Signing In..."})]}):"Sign In"})]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs("p",{className:"text-sm text-beveren-600",children:["Powered by"," ",a.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline",children:"Beveren Software"})]})})]})]})}const AN=E.createContext(void 0),$C={en:{LOGIN_TITLE:"Login",USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"Login",LOGGING_IN:"Logging in...",INVALID_CREDENTIALS:"Invalid credentials",LOGIN_ERROR:"Login error",PROFILE:"Profile",LOGOUT:"Logout",PAYMENT_TITLE:"Payment",SEARCH_PLACEHOLDER:"Search products",CART:"Cart",CART_EMPTY:"Your cart is empty",SUBTOTAL:"Subtotal",VAT:"VAT",TOTAL:"Total",PROMO_CODE_PLACEHOLDER:"Enter promo code",PROCEED_TO_CHECKOUT:"Proceed to Checkout",BACK_TO_CART:"Back to Cart",INVOICE_SUMMARY:"Invoice Summary",INVOICE_ID:"Invoice ID",DATE_TIME:"Date & Time",SCAN_TO_VERIFY:"Scan to Verify",PAYMENT_METHODS:"Payment Methods",CASH:"Cash",CARD:"Card",DIGITAL_WALLET:"Digital Wallet",AMOUNT_RECEIVED:"Amount Received",CHANGE:"Change",INSERT_OR_TAP_CARD:"Insert or Tap Card",SCAN_WITH_STC_PAY:"Scan with STC Pay",CONFIRM_PAYMENT:"Confirm Payment",OFFLINE_MESSAGE:"You are offline. New orders will sync when you're back online.",INVOICE_NOT_FOUND:"Invoice not found"},ar:{LOGIN_TITLE:" ",USERNAME:" ",PASSWORD:" ",LOGIN_BUTTON:"",LOGGING_IN:"  ...",INVALID_CREDENTIALS:"   ",LOGIN_ERROR:"   ",PROFILE:" ",LOGOUT:" ",PAYMENT_TITLE:"",SEARCH_PLACEHOLDER:"  ",CART:"",CART_EMPTY:" ",SUBTOTAL:" ",VAT:"  ",TOTAL:"",PROMO_CODE_PLACEHOLDER:"  ",PROCEED_TO_CHECKOUT:" ",BACK_TO_CART:" ",INVOICE_SUMMARY:" ",INVOICE_ID:" ",DATE_TIME:" ",SCAN_TO_VERIFY:" ",PAYMENT_METHODS:" ",CASH:"",CARD:"",DIGITAL_WALLET:" ",AMOUNT_RECEIVED:" ",CHANGE:"",INSERT_OR_TAP_CARD:"   ",SCAN_WITH_STC_PAY:"  STC Pay",CONFIRM_PAYMENT:" ",OFFLINE_MESSAGE:"  .      .",INVOICE_NOT_FOUND:"  "}};function OC({children:e}){const[r,t]=E.useState("en"),[n,i]=E.useState(!1);E.useEffect(()=>{i(!0)},[]),E.useEffect(()=>{if(!n)return;const h=localStorage.getItem("language")||"en";t(h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h},[n]);const l=h=>{n&&(t(h),localStorage.setItem("language",h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h)},c=h=>{var d;return((d=$C[r])==null?void 0:d[h])||h},f=r==="ar";return a.jsx(AN.Provider,{value:{language:r,setLanguage:l,t:c,isRTL:f},children:e})}function Wl(){const e=E.useContext(AN);if(e===void 0)throw new Error("useI18n must be used within an I18nProvider");return e}function RN(){const[e,r]=E.useState(null),[t,n]=E.useState(!0),[i,l]=E.useState(null),c=E.useCallback(()=>Ne(null,null,function*(){n(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.pos_entry.open_pos")).json();if(typeof h.message=="boolean")r(h.message);else throw new Error("Unexpected response")}catch(f){console.error("Error checking POS Opening Entry:",f),l(f.message||"Failed to check opening entry status")}finally{n(!1)}}),[]);return E.useEffect(()=>{c()},[c]),{hasOpenEntry:e,isLoading:t,error:i,refetch:c}}const PN=E.createContext(void 0),$2=1e3,O2=500;function TC({children:e}){const{isAuthenticated:r,loading:t}=Zo(),[n,i]=E.useState([]),[l,c]=E.useState(!0),[f,h]=E.useState(!1),[d,m]=E.useState(!1),[x,p]=E.useState(!1),[b,S]=E.useState(null),[k,T]=E.useState(null),[A,M]=E.useState(0),[H,D]=E.useState(!1),[G,V]=E.useState(0),[se,oe]=E.useState(""),q=E.useRef(null),ie=(...Ye)=>Ne(null,[...Ye],function*(fe=$2,z=0,X="",Ae=""){var ct,Ze,mt,$t,ur,ve,et,Tt,ge,Xe,lt,gr;try{const Kt=new URLSearchParams({limit:fe.toString(),offset:z.toString()});X&&Kt.append("search",X),Ae&&Ae!=="all"&&Kt.append("category",Ae);const re=yield fetch(`/api/method/klik_pos.api.item.get_items_with_balance_and_price?${Kt.toString()}`);if(!re.ok)throw new Error(`HTTP ${re.status}: ${re.statusText}`);const qe=yield re.json();console.log("[Products] Raw response payload",qe);const Ke=(ct=qe==null?void 0:qe.message)!=null?ct:qe;if(Ke&&typeof Ke=="object"){const dt=($t=(mt=(Ze=Ke.items)!=null?Ze:Ke.data)!=null?mt:Ke.results)!=null?$t:qe.items;if(dt!==void 0){const gt=Array.isArray(dt)?dt:Object.values(dt);return console.log("[Products] Parsed items array length",gt.length,{total_count:Ke.total_count,has_more:Ke.has_more,offset:z,limit:fe,search:X}),{items:gt,total_count:(ve=(ur=Ke.total_count)!=null?ur:gt.length)!=null?ve:0,has_more:!!Ke.has_more}}if(Ke.total_count!==void 0||Ke.has_more!==void 0)return console.warn("[Products] No items but counts present",{total_count:Ke.total_count,has_more:Ke.has_more,offset:z,limit:fe,search:X}),{items:[],total_count:(et=Ke.total_count)!=null?et:0,has_more:!!Ke.has_more}}if(Array.isArray(Ke))return{items:Ke,total_count:Ke.length,has_more:!1};if(Ke!=null&&Ke.message){const dt=Ke.message,gt=(ge=(Tt=dt.items)!=null?Tt:dt.data)!=null?ge:dt.results;if(gt!==void 0){const bt=Array.isArray(gt)?gt:Object.values(gt);return console.log("[Products] Parsed inner items array length",bt.length,{total_count:dt.total_count,has_more:dt.has_more,offset:z,limit:fe,search:X}),{items:bt,total_count:(lt=(Xe=dt.total_count)!=null?Xe:bt.length)!=null?lt:0,has_more:!!dt.has_more}}if(dt.total_count!==void 0||dt.has_more!==void 0)return console.warn("[Products] No inner items but counts present",{total_count:dt.total_count,has_more:dt.has_more,offset:z,limit:fe,search:X}),{items:[],total_count:(gr=dt.total_count)!=null?gr:0,has_more:!!dt.has_more}}return console.error("Invalid response format:",qe,{offset:z,limit:fe,search:X,category:Ae}),{items:[],total_count:0,has_more:!1}}catch(Kt){return console.error("[Products] fetchProductsFromAPI error (fail-open)",Kt,{offset:z,limit:fe,search:X,category:Ae}),{items:[],total_count:0,has_more:!1}}}),ee=()=>Ne(null,null,function*(){try{const fe=n.map(X=>X.id).join(",");if(!fe)return{};const z=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(fe)}`);if(z.ok){const X=yield z.json();if(X!=null&&X.message&&typeof X.message=="object")return X.message}return{}}catch(fe){return console.error("Error fetching stock updates:",fe),{}}}),ae=(fe=!1)=>Ne(null,null,function*(){c(!0),S(null),oe(""),J.current=!1;try{const z=yield ie($2,0);i(z.items),M(z.total_count),D(z.has_more),V(z.items.length),T(new Date),console.log(`Products loaded: ${z.items.length} of ${z.total_count} items`)}catch(z){console.error("Error fetching products:",z),z.message&&z.message.includes("Invalid response format")?S(null):S(z.message||"Unknown error occurred")}finally{c(!1)}}),J=E.useRef(!1);E.useEffect(()=>{if(l||f||se||!H||J.current)return;J.current=!0;const fe=setTimeout(()=>{Ne(null,null,function*(){let X=G,Ae=H,Ye=A;for(;Ae&&!se;)try{if(X>=Ye)break;console.log(`[Background] Loading more items from offset ${X}...`);const ct=yield ie(O2,X);if(ct.items.length===0)break;i(Ze=>{const mt=new Set(Ze.map(ur=>ur.id)),$t=ct.items.filter(ur=>!mt.has(ur.id));return[...Ze,...$t]}),X+=ct.items.length,Ae=ct.has_more,D(ct.has_more),V(X),ct.total_count>Ye&&(Ye=ct.total_count),console.log(`[Background] Loaded ${ct.items.length} more items. Total: ${X} of ${Ye}`),yield new Promise(Ze=>setTimeout(Ze,100))}catch(ct){console.error("[Background] Error loading more items:",ct);break}console.log(`[Background] Finished loading all items. Total: ${X}`)})},500);return()=>{clearTimeout(fe)}},[l,H,se,G,A]),E.useEffect(()=>{se&&(J.current=!1)},[se]);const le=E.useCallback(()=>Ne(null,null,function*(){if(!(f||!H||se)){h(!0);try{const fe=yield ie(O2,G);i(z=>{const X=new Set(z.map(Ye=>Ye.id)),Ae=fe.items.filter(Ye=>!X.has(Ye.id));return[...z,...Ae]}),V(z=>z+fe.items.length),D(fe.has_more),console.log(`Loaded ${fe.items.length} more products. Total: ${G+fe.items.length}`)}catch(fe){console.error("Error loading more products:",fe)}finally{h(!1)}}}),[f,H,G,se]),pe=E.useCallback(fe=>Ne(null,null,function*(){q.current&&q.current.abort();const z=fe.trim();if(oe(z),!z){p(!1),ae();return}p(!0),q.current=new AbortController;try{const X=yield ie(500,0,z);i(X.items),M(X.total_count),D(!1),V(X.items.length),console.log(`Search "${z}" found ${X.items.length} items`)}catch(X){X.name!=="AbortError"&&console.error("Error searching products:",X)}finally{p(!1)}}),[]),ue=E.useCallback(()=>{oe(""),ae()},[]),ne=()=>Ne(null,null,function*(){try{const fe=yield ee();Object.keys(fe).length>0&&i(z=>z.map(X=>{var Ae;return je(Y({},X),{available:(Ae=fe[X.id])!=null?Ae:X.available})}))}catch(fe){console.error("Background stock update failed:",fe)}}),he=E.useCallback((fe,z)=>{i(X=>X.map(Ae=>Ae.id===fe?je(Y({},Ae),{available:z}):Ae)),console.log(`Updated stock for ${fe} to ${z}`)},[]),Le=E.useCallback(fe=>Ne(null,null,function*(){if(fe.length!==0)try{const z=fe.join(","),X=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(z)}`);if(!X.ok)throw new Error(`HTTP ${X.status}: ${X.statusText}`);const Ae=yield X.json();if(Ae!=null&&Ae.message&&typeof Ae.message=="object"){const Ye=Ae.message;i(ct=>ct.map(Ze=>{var mt;return je(Y({},Ze),{available:(mt=Ye[Ze.id])!=null?mt:Ze.available})}))}}catch(z){console.error("Failed to update stock for items:",z)}}),[]),Z=E.useCallback(fe=>Ne(null,null,function*(){if(fe.length!==0)try{const z=fe.map(Ye=>Ne(null,null,function*(){try{const Ze=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(Ye)}`)).json();return Ze!=null&&Ze.message&&Array.isArray(Ze.message)?{itemCode:Ye,batches:Ze.message}:(console.log(`No valid batch data for ${Ye}`),null)}catch(ct){return console.error(`Failed to update batch quantities for ${Ye}:`,ct),null}})),Ae=(yield Promise.all(z)).filter(Ye=>Ye!==null);Ae.length>0?window.dispatchEvent(new CustomEvent("batchQuantitiesUpdated",{detail:{updatedItems:Ae}})):console.log("No valid batch results to dispatch")}catch(z){console.error("Failed to update batch quantities for items:",z)}}),[]),B=()=>Ne(null,null,function*(){yield ae(!0)}),de=()=>Ne(null,null,function*(){m(!0);try{const fe=yield ee();return Object.keys(fe).length>0?(i(z=>z.map(X=>{var Ae;return je(Y({},X),{available:(Ae=fe[X.id])!=null?Ae:X.available})})),T(new Date),!0):(console.log("No stock updates needed - all items are current"),!1)}catch(fe){return console.error(" Stock-only refresh failed:",fe),console.log("Stock refresh failed - user can manually refresh if needed"),!1}finally{m(!1)}});E.useEffect(()=>{if(t)return;if(!r){c(!1),S("Authentication required to load products");return}ae();const fe=setInterval(ne,3e4);return()=>{clearInterval(fe)}},[r,t]);const xe={products:n,isLoading:l,isLoadingMore:f,isRefreshingStock:d,isSearching:x,error:b,refetchProducts:B,refreshStockOnly:de,updateStockOnly:he,updateStockForItems:Le,updateBatchQuantitiesForItems:Z,loadMoreProducts:le,searchProducts:pe,clearSearch:ue,count:n.length,totalCount:A,hasMore:H,lastUpdated:k,searchQuery:se};return a.jsx(PN.Provider,{value:xe,children:e})}function AC(){const e=E.useContext(PN);if(e===void 0)throw new Error("useProducts must be used within a ProductProvider");return e}function xm(){const e=AC();return{products:e.products,isLoading:e.isLoading,isLoadingMore:e.isLoadingMore,isRefreshingStock:e.isRefreshingStock,isSearching:e.isSearching,error:e.error,refetch:e.refetchProducts,refreshStockOnly:e.refreshStockOnly,updateStockOnly:e.updateStockOnly,updateStockForItems:e.updateStockForItems,updateBatchQuantitiesForItems:e.updateBatchQuantitiesForItems,loadMoreProducts:e.loadMoreProducts,searchProducts:e.searchProducts,clearSearch:e.clearSearch,count:e.products.length,totalCount:e.totalCount,hasMore:e.hasMore,lastUpdated:e.lastUpdated,searchQuery:e.searchQuery}}var RC=Object.defineProperty,PC=(e,r,t)=>r in e?RC(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Nl=(e,r,t)=>PC(e,typeof r!="symbol"?r+"":r,t),MC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mc={},kd={},Rs={},T2;function MN(){if(T2)return Rs;T2=1;var e=Rs&&Rs.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,f=arguments.length;c<f;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)},r=Rs&&Rs.__awaiter||function(i,l,c,f){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function x(S){try{b(f.next(S))}catch(k){m(k)}}function p(S){try{b(f.throw(S))}catch(k){m(k)}}function b(S){S.done?d(S.value):h(S.value).then(x,p)}b((f=f.apply(i,l||[])).next())})},t=Rs&&Rs.__generator||function(i,l){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},f,h,d,m;return m={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function x(b){return function(S){return p([b,S])}}function p(b){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(c=0)),c;)try{if(f=1,h&&(d=b[0]&2?h.return:b[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,b[1])).done)return d;switch(h=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){c.label=b[1];break}if(b[0]===6&&c.label<d[1]){c.label=d[1],d=b;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(b);break}d[2]&&c.ops.pop(),c.trys.pop();continue}b=l.call(i,c)}catch(S){b=[6,S],h=0}finally{f=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.FrappeCall=void 0;var n=function(){function i(l,c,f,h,d){this.appURL=l,this.axios=c,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=d}return i.prototype.get=function(l,c){return r(this,void 0,void 0,function(){var f;return t(this,function(h){return f=new URLSearchParams,c&&Object.entries(c).forEach(function(d){var m=d[0],x=d[1];if(x!=null){var p=typeof x=="object"?JSON.stringify(x):x;f.set(m,p)}}),[2,this.axios.get("/api/method/".concat(l),{params:f}).then(function(d){return d.data}).catch(function(d){var m,x;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(m=d.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(x=d.response.data.exception)!==null&&x!==void 0?x:""})})]})})},i.prototype.post=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.post("/api/method/".concat(l),e({},c)).then(function(h){return h.data}).catch(function(h){var d,m;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(d=h.response.data.message)!==null&&d!==void 0?d:"There was an error.",exception:(m=h.response.data.exception)!==null&&m!==void 0?m:""})})]})})},i.prototype.put=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.put("/api/method/".concat(l),e({},c)).then(function(h){return h.data}).catch(function(h){var d,m;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(d=h.response.data.message)!==null&&d!==void 0?d:"There was an error.",exception:(m=h.response.data.exception)!==null&&m!==void 0?m:""})})]})})},i.prototype.delete=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.delete("/api/method/".concat(l),{params:c}).then(function(h){return h.data}).catch(function(h){var d,m;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(d=h.response.data.message)!==null&&d!==void 0?d:"There was an error.",exception:(m=h.response.data.exception)!==null&&m!==void 0?m:""})})]})})},i}();return Rs.FrappeCall=n,Rs}var Ps={},A2;function DN(){if(A2)return Ps;A2=1;var e=Ps&&Ps.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,f=arguments.length;c<f;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)},r=Ps&&Ps.__awaiter||function(i,l,c,f){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function x(S){try{b(f.next(S))}catch(k){m(k)}}function p(S){try{b(f.throw(S))}catch(k){m(k)}}function b(S){S.done?d(S.value):h(S.value).then(x,p)}b((f=f.apply(i,l||[])).next())})},t=Ps&&Ps.__generator||function(i,l){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},f,h,d,m;return m={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function x(b){return function(S){return p([b,S])}}function p(b){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(c=0)),c;)try{if(f=1,h&&(d=b[0]&2?h.return:b[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,b[1])).done)return d;switch(h=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){c.label=b[1];break}if(b[0]===6&&c.label<d[1]){c.label=d[1],d=b;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(b);break}d[2]&&c.ops.pop(),c.trys.pop();continue}b=l.call(i,c)}catch(S){b=[6,S],h=0}finally{f=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.FrappeDB=void 0;var n=function(){function i(l,c,f,h,d){this.appURL=l,this.axios=c,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=d}return i.prototype.getDoc=function(l,c){return c===void 0&&(c=""),r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.get("/api/resource/".concat(l,"/").concat(encodeURIComponent(c))).then(function(h){return h.data.data}).catch(function(h){var d,m;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(m=(d=h.response.data.exception)!==null&&d!==void 0?d:h.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},i.prototype.getDocList=function(l,c){var f;return r(this,void 0,void 0,function(){var h,d,m,x,p,b,S,k,T,A,M;return t(this,function(H){return h={},c&&(d=c.fields,m=c.filters,x=c.orFilters,p=c.orderBy,b=c.limit,S=c.limit_start,k=c.groupBy,T=c.asDict,A=T===void 0?!0:T,M=p?"".concat(String(p==null?void 0:p.field)," ").concat((f=p==null?void 0:p.order)!==null&&f!==void 0?f:"asc"):"",h={fields:d?JSON.stringify(d):void 0,filters:m?JSON.stringify(m):void 0,or_filters:x?JSON.stringify(x):void 0,order_by:M,group_by:k,limit:b,limit_start:S,as_dict:A}),[2,this.axios.get("/api/resource/".concat(l),{params:h}).then(function(D){return D.data.data}).catch(function(D){var G,V;throw e(e({},D.response.data),{httpStatus:D.response.status,httpStatusText:D.response.statusText,message:"There was an error while fetching the documents.",exception:(V=(G=D.response.data.exception)!==null&&G!==void 0?G:D.response.data.exc_type)!==null&&V!==void 0?V:""})})]})})},i.prototype.createDoc=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.post("/api/resource/".concat(l),e({},c)).then(function(h){return h.data.data}).catch(function(h){var d,m,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(d=h.response.data.message)!==null&&d!==void 0?d:"There was an error while creating the document.",exception:(x=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},i.prototype.updateDoc=function(l,c,f){return r(this,void 0,void 0,function(){return t(this,function(h){return[2,this.axios.put("/api/resource/".concat(l,"/").concat(c&&encodeURIComponent(c)),e({},f)).then(function(d){return d.data.data}).catch(function(d){var m,x,p;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:(m=d.response.data.message)!==null&&m!==void 0?m:"There was an error while updating the document.",exception:(p=(x=d.response.data.exception)!==null&&x!==void 0?x:d.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.deleteDoc=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.delete("/api/resource/".concat(l,"/").concat(c&&encodeURIComponent(c))).then(function(h){return h.data}).catch(function(h){var d,m;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(m=(d=h.response.data.exception)!==null&&d!==void 0?d:h.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},i.prototype.getCount=function(l,c,f,h){return f===void 0&&(f=!1),h===void 0&&(h=!1),r(this,void 0,void 0,function(){var d;return t(this,function(m){return d={doctype:l,filters:[]},f&&(d.cache=f),h&&(d.debug=h),c&&(d.filters=c?JSON.stringify(c):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:d}).then(function(x){return x.data.message}).catch(function(x){var p,b;throw e(e({},x.response.data),{httpStatus:x.response.status,httpStatusText:x.response.statusText,message:"There was an error while getting the count.",exception:(b=(p=x.response.data.exception)!==null&&p!==void 0?p:x.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getLastDoc=function(l,c){return r(this,void 0,void 0,function(){var f,h;return t(this,function(d){switch(d.label){case 0:return f={orderBy:{field:"creation",order:"desc"}},c&&(f=e(e({},f),c)),[4,this.getDocList(l,e(e({},f),{limit:1,fields:["name"]}))];case 1:return h=d.sent(),h.length>0?[2,this.getDoc(l,h[0].name)]:[2,{}]}})})},i.prototype.renameDoc=function(l,c,f,h){return h===void 0&&(h=!1),r(this,void 0,void 0,function(){return t(this,function(d){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:l,old_name:c,new_name:f,merge:h}).then(function(m){return m.data}).catch(function(m){var x,p,b;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(x=m.response.data.message)!==null&&x!==void 0?x:"There was an error while renaming the document.",exception:(b=(p=m.response.data.exception)!==null&&p!==void 0?p:m.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},i.prototype.getValue=function(l,c,f,h,d,m){return h===void 0&&(h=!0),d===void 0&&(d=!1),m===void 0&&(m=null),r(this,void 0,void 0,function(){var x;return t(this,function(p){return x={doctype:l,fieldname:"[]",filters:[],as_dict:h,debug:d,parent:null},c&&(x.fieldname=typeof c=="object"?JSON.stringify(c):c),f&&(x.filters=f?JSON.stringify(f):void 0),m&&(x.parent=m),[2,this.axios.get("/api/method/frappe.client.get_value",{params:x}).then(function(b){return b.data}).catch(function(b){var S,k;throw e(e({},b.response.data),{httpStatus:b.response.status,httpStatusText:b.response.statusText,message:"There was an error while getting the value.",exception:(k=(S=b.response.data.exception)!==null&&S!==void 0?S:b.response.data.exc_type)!==null&&k!==void 0?k:""})})]})})},i.prototype.setValue=function(l,c,f,h){return r(this,void 0,void 0,function(){return t(this,function(d){return f!==null&&typeof f=="object"&&!Array.isArray(f)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:l,name:c,fieldname:f,value:h}).then(function(m){return m.data}).catch(function(m){var x,p;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while setting the value.",exception:(p=(x=m.response.data.exception)!==null&&x!==void 0?x:m.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},i.prototype.getSingleValue=function(l,c){return r(this,void 0,void 0,function(){var f;return t(this,function(h){return f={doctype:l,field:c},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:f}).then(function(d){return d.data}).catch(function(d){var m,x;throw e(e({},d.response.data),{httpStatus:d.response.status,httpStatusText:d.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(x=(m=d.response.data.exception)!==null&&m!==void 0?m:d.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},i.prototype.submit=function(l){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:l}).then(function(f){return f.data.message}).catch(function(f){var h,d;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while submitting the document.",exception:(d=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&d!==void 0?d:""})})]})})},i.prototype.cancel=function(l,c){return r(this,void 0,void 0,function(){return t(this,function(f){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:l,name:c}).then(function(h){return h.data}).catch(function(h){var d,m;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(m=(d=h.response.data.exception)!==null&&d!==void 0?d:h.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},i}();return Ps.FrappeDB=n,Ps}var Ms={},Ui={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Lp,R2;function DC(){if(R2)return Lp;R2=1;function e(P,F){return function(){return P.apply(F,arguments)}}const{toString:r}=Object.prototype,{getPrototypeOf:t}=Object,n=(P=>F=>{const Q=r.call(F);return P[Q]||(P[Q]=Q.slice(8,-1).toLowerCase())})(Object.create(null)),i=P=>(P=P.toLowerCase(),F=>n(F)===P),l=P=>F=>typeof F===P,{isArray:c}=Array,f=l("undefined");function h(P){return P!==null&&!f(P)&&P.constructor!==null&&!f(P.constructor)&&p(P.constructor.isBuffer)&&P.constructor.isBuffer(P)}const d=i("ArrayBuffer");function m(P){let F;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?F=ArrayBuffer.isView(P):F=P&&P.buffer&&d(P.buffer),F}const x=l("string"),p=l("function"),b=l("number"),S=P=>P!==null&&typeof P=="object",k=P=>P===!0||P===!1,T=P=>{if(n(P)!=="object")return!1;const F=t(P);return(F===null||F===Object.prototype||Object.getPrototypeOf(F)===null)&&!(Symbol.toStringTag in P)&&!(Symbol.iterator in P)},A=i("Date"),M=i("File"),H=i("Blob"),D=i("FileList"),G=P=>S(P)&&p(P.pipe),V=P=>{let F;return P&&(typeof FormData=="function"&&P instanceof FormData||p(P.append)&&((F=n(P))==="formdata"||F==="object"&&p(P.toString)&&P.toString()==="[object FormData]"))},se=i("URLSearchParams"),[oe,q,ie,ee]=["ReadableStream","Request","Response","Headers"].map(i),ae=P=>P.trim?P.trim():P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J(P,F,{allOwnKeys:Q=!1}={}){if(P===null||typeof P>"u")return;let te,Se;if(typeof P!="object"&&(P=[P]),c(P))for(te=0,Se=P.length;te<Se;te++)F.call(null,P[te],te,P);else{const Pe=Q?Object.getOwnPropertyNames(P):Object.keys(P),Ee=Pe.length;let pt;for(te=0;te<Ee;te++)pt=Pe[te],F.call(null,P[pt],pt,P)}}function le(P,F){F=F.toLowerCase();const Q=Object.keys(P);let te=Q.length,Se;for(;te-- >0;)if(Se=Q[te],F===Se.toLowerCase())return Se;return null}const pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:MC,ue=P=>!f(P)&&P!==pe;function ne(){const{caseless:P}=ue(this)&&this||{},F={},Q=(te,Se)=>{const Pe=P&&le(F,Se)||Se;T(F[Pe])&&T(te)?F[Pe]=ne(F[Pe],te):T(te)?F[Pe]=ne({},te):c(te)?F[Pe]=te.slice():F[Pe]=te};for(let te=0,Se=arguments.length;te<Se;te++)arguments[te]&&J(arguments[te],Q);return F}const he=(P,F,Q,{allOwnKeys:te}={})=>(J(F,(Se,Pe)=>{Q&&p(Se)?P[Pe]=e(Se,Q):P[Pe]=Se},{allOwnKeys:te}),P),Le=P=>(P.charCodeAt(0)===65279&&(P=P.slice(1)),P),Z=(P,F,Q,te)=>{P.prototype=Object.create(F.prototype,te),P.prototype.constructor=P,Object.defineProperty(P,"super",{value:F.prototype}),Q&&Object.assign(P.prototype,Q)},B=(P,F,Q,te)=>{let Se,Pe,Ee;const pt={};if(F=F||{},P==null)return F;do{for(Se=Object.getOwnPropertyNames(P),Pe=Se.length;Pe-- >0;)Ee=Se[Pe],(!te||te(Ee,P,F))&&!pt[Ee]&&(F[Ee]=P[Ee],pt[Ee]=!0);P=Q!==!1&&t(P)}while(P&&(!Q||Q(P,F))&&P!==Object.prototype);return F},de=(P,F,Q)=>{P=String(P),(Q===void 0||Q>P.length)&&(Q=P.length),Q-=F.length;const te=P.indexOf(F,Q);return te!==-1&&te===Q},xe=P=>{if(!P)return null;if(c(P))return P;let F=P.length;if(!b(F))return null;const Q=new Array(F);for(;F-- >0;)Q[F]=P[F];return Q},fe=(P=>F=>P&&F instanceof P)(typeof Uint8Array<"u"&&t(Uint8Array)),z=(P,F)=>{const Q=(P&&P[Symbol.iterator]).call(P);let te;for(;(te=Q.next())&&!te.done;){const Se=te.value;F.call(P,Se[0],Se[1])}},X=(P,F)=>{let Q;const te=[];for(;(Q=P.exec(F))!==null;)te.push(Q);return te},Ae=i("HTMLFormElement"),Ye=P=>P.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(F,Q,te){return Q.toUpperCase()+te}),ct=(({hasOwnProperty:P})=>(F,Q)=>P.call(F,Q))(Object.prototype),Ze=i("RegExp"),mt=(P,F)=>{const Q=Object.getOwnPropertyDescriptors(P),te={};J(Q,(Se,Pe)=>{let Ee;(Ee=F(Se,Pe,P))!==!1&&(te[Pe]=Ee||Se)}),Object.defineProperties(P,te)},$t=P=>{mt(P,(F,Q)=>{if(p(P)&&["arguments","caller","callee"].indexOf(Q)!==-1)return!1;const te=P[Q];if(p(te)){if(F.enumerable=!1,"writable"in F){F.writable=!1;return}F.set||(F.set=()=>{throw Error("Can not rewrite read-only method '"+Q+"'")})}})},ur=(P,F)=>{const Q={},te=Se=>{Se.forEach(Pe=>{Q[Pe]=!0})};return c(P)?te(P):te(String(P).split(F)),Q},ve=()=>{},et=(P,F)=>P!=null&&Number.isFinite(P=+P)?P:F;function Tt(P){return!!(P&&p(P.append)&&P[Symbol.toStringTag]==="FormData"&&P[Symbol.iterator])}const ge=P=>{const F=new Array(10),Q=(te,Se)=>{if(S(te)){if(F.indexOf(te)>=0)return;if(!("toJSON"in te)){F[Se]=te;const Pe=c(te)?[]:{};return J(te,(Ee,pt)=>{const St=Q(Ee,Se+1);!f(St)&&(Pe[pt]=St)}),F[Se]=void 0,Pe}}return te};return Q(P,0)},Xe=i("AsyncFunction"),lt=P=>P&&(S(P)||p(P))&&p(P.then)&&p(P.catch),gr=((P,F)=>P?setImmediate:F?((Q,te)=>(pe.addEventListener("message",({source:Se,data:Pe})=>{Se===pe&&Pe===Q&&te.length&&te.shift()()},!1),Se=>{te.push(Se),pe.postMessage(Q,"*")}))(`axios@${Math.random()}`,[]):Q=>setTimeout(Q))(typeof setImmediate=="function",p(pe.postMessage)),Kt=typeof queueMicrotask<"u"?queueMicrotask.bind(pe):typeof process<"u"&&process.nextTick||gr;var re={isArray:c,isArrayBuffer:d,isBuffer:h,isFormData:V,isArrayBufferView:m,isString:x,isNumber:b,isBoolean:k,isObject:S,isPlainObject:T,isReadableStream:oe,isRequest:q,isResponse:ie,isHeaders:ee,isUndefined:f,isDate:A,isFile:M,isBlob:H,isRegExp:Ze,isFunction:p,isStream:G,isURLSearchParams:se,isTypedArray:fe,isFileList:D,forEach:J,merge:ne,extend:he,trim:ae,stripBOM:Le,inherits:Z,toFlatObject:B,kindOf:n,kindOfTest:i,endsWith:de,toArray:xe,forEachEntry:z,matchAll:X,isHTMLForm:Ae,hasOwnProperty:ct,hasOwnProp:ct,reduceDescriptors:mt,freezeMethods:$t,toObjectSet:ur,toCamelCase:Ye,noop:ve,toFiniteNumber:et,findKey:le,global:pe,isContextDefined:ue,isSpecCompliantForm:Tt,toJSONObject:ge,isAsyncFn:Xe,isThenable:lt,setImmediate:gr,asap:Kt};function qe(P,F,Q,te,Se){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=P,this.name="AxiosError",F&&(this.code=F),Q&&(this.config=Q),te&&(this.request=te),Se&&(this.response=Se,this.status=Se.status?Se.status:null)}re.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const Ke=qe.prototype,dt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(P=>{dt[P]={value:P}}),Object.defineProperties(qe,dt),Object.defineProperty(Ke,"isAxiosError",{value:!0}),qe.from=(P,F,Q,te,Se,Pe)=>{const Ee=Object.create(Ke);return re.toFlatObject(P,Ee,function(pt){return pt!==Error.prototype},pt=>pt!=="isAxiosError"),qe.call(Ee,P.message,F,Q,te,Se),Ee.cause=P,Ee.name=P.name,Pe&&Object.assign(Ee,Pe),Ee};var gt=null;function bt(P){return re.isPlainObject(P)||re.isArray(P)}function ft(P){return re.endsWith(P,"[]")?P.slice(0,-2):P}function be(P,F,Q){return P?P.concat(F).map(function(te,Se){return te=ft(te),!Q&&Se?"["+te+"]":te}).join(Q?".":""):F}function tt(P){return re.isArray(P)&&!P.some(bt)}const Ge=re.toFlatObject(re,{},null,function(P){return/^is[A-Z]/.test(P)});function xt(P,F,Q){if(!re.isObject(P))throw new TypeError("target must be an object");F=F||new FormData,Q=re.toFlatObject(Q,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ir,Vt){return!re.isUndefined(Vt[ir])});const te=Q.metaTokens,Se=Q.visitor||yt,Pe=Q.dots,Ee=Q.indexes,pt=(Q.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(F);if(!re.isFunction(Se))throw new TypeError("visitor must be a function");function St(ir){if(ir===null)return"";if(re.isDate(ir))return ir.toISOString();if(!pt&&re.isBlob(ir))throw new qe("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(ir)||re.isTypedArray(ir)?pt&&typeof Blob=="function"?new Blob([ir]):Buffer.from(ir):ir}function yt(ir,Vt,At){let ja=ir;if(ir&&!At&&typeof ir=="object"){if(re.endsWith(Vt,"{}"))Vt=te?Vt:Vt.slice(0,-2),ir=JSON.stringify(ir);else if(re.isArray(ir)&&tt(ir)||(re.isFileList(ir)||re.endsWith(Vt,"[]"))&&(ja=re.toArray(ir)))return Vt=ft(Vt),ja.forEach(function(ua,aa){!(re.isUndefined(ua)||ua===null)&&F.append(Ee===!0?be([Vt],aa,Pe):Ee===null?Vt:Vt+"[]",St(ua))}),!1}return bt(ir)?!0:(F.append(be(At,Vt,Pe),St(ir)),!1)}const Ct=[],zt=Object.assign(Ge,{defaultVisitor:yt,convertValue:St,isVisitable:bt});function Hr(ir,Vt){if(!re.isUndefined(ir)){if(Ct.indexOf(ir)!==-1)throw Error("Circular reference detected in "+Vt.join("."));Ct.push(ir),re.forEach(ir,function(At,ja){(!(re.isUndefined(At)||At===null)&&Se.call(F,At,re.isString(ja)?ja.trim():ja,Vt,zt))===!0&&Hr(At,Vt?Vt.concat(ja):[ja])}),Ct.pop()}}if(!re.isObject(P))throw new TypeError("data must be an object");return Hr(P),F}function ut(P){const F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(P).replace(/[!'()~]|%20|%00/g,function(Q){return F[Q]})}function Ut(P,F){this._pairs=[],P&&xt(P,this,F)}const qt=Ut.prototype;qt.append=function(P,F){this._pairs.push([P,F])},qt.toString=function(P){const F=P?function(Q){return P.call(this,Q,ut)}:ut;return this._pairs.map(function(Q){return F(Q[0])+"="+F(Q[1])},"").join("&")};function er(P){return encodeURIComponent(P).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nr(P,F,Q){if(!F)return P;const te=Q&&Q.encode||er;re.isFunction(Q)&&(Q={serialize:Q});const Se=Q&&Q.serialize;let Pe;if(Se?Pe=Se(F,Q):Pe=re.isURLSearchParams(F)?F.toString():new Ut(F,Q).toString(te),Pe){const Ee=P.indexOf("#");Ee!==-1&&(P=P.slice(0,Ee)),P+=(P.indexOf("?")===-1?"?":"&")+Pe}return P}class vr{constructor(){this.handlers=[]}use(F,Q,te){return this.handlers.push({fulfilled:F,rejected:Q,synchronous:te?te.synchronous:!1,runWhen:te?te.runWhen:null}),this.handlers.length-1}eject(F){this.handlers[F]&&(this.handlers[F]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(F){re.forEach(this.handlers,function(Q){Q!==null&&F(Q)})}}var na=vr,yr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gr=typeof URLSearchParams<"u"?URLSearchParams:Ut,Xa=typeof FormData<"u"?FormData:null,_n=typeof Blob<"u"?Blob:null,Qa={isBrowser:!0,classes:{URLSearchParams:Gr,FormData:Xa,Blob:_n},protocols:["http","https","file","blob","url","data"]};const Be=typeof window<"u"&&typeof document<"u",at=typeof navigator=="object"&&navigator||void 0,$r=Be&&(!at||["ReactNative","NativeScript","NS"].indexOf(at.product)<0),me=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$e=Be&&window.location.href||"http://localhost";var De=Object.freeze({__proto__:null,hasBrowserEnv:Be,hasStandardBrowserWebWorkerEnv:me,hasStandardBrowserEnv:$r,navigator:at,origin:$e}),We=Y(Y({},De),Qa);function Te(P,F){return xt(P,new We.classes.URLSearchParams,Object.assign({visitor:function(Q,te,Se,Pe){return We.isNode&&re.isBuffer(Q)?(this.append(te,Q.toString("base64")),!1):Pe.defaultVisitor.apply(this,arguments)}},F))}function Nt(P){return re.matchAll(/\w+|\[(\w*)]/g,P).map(F=>F[0]==="[]"?"":F[1]||F[0])}function It(P){const F={},Q=Object.keys(P);let te;const Se=Q.length;let Pe;for(te=0;te<Se;te++)Pe=Q[te],F[Pe]=P[Pe];return F}function Bt(P){function F(Q,te,Se,Pe){let Ee=Q[Pe++];if(Ee==="__proto__")return!0;const pt=Number.isFinite(+Ee),St=Pe>=Q.length;return Ee=!Ee&&re.isArray(Se)?Se.length:Ee,St?(re.hasOwnProp(Se,Ee)?Se[Ee]=[Se[Ee],te]:Se[Ee]=te,!pt):((!Se[Ee]||!re.isObject(Se[Ee]))&&(Se[Ee]=[]),F(Q,te,Se[Ee],Pe)&&re.isArray(Se[Ee])&&(Se[Ee]=It(Se[Ee])),!pt)}if(re.isFormData(P)&&re.isFunction(P.entries)){const Q={};return re.forEachEntry(P,(te,Se)=>{F(Nt(te),Se,Q,0)}),Q}return null}function Rt(P,F,Q){if(re.isString(P))try{return(F||JSON.parse)(P),re.trim(P)}catch(te){if(te.name!=="SyntaxError")throw te}return(Q||JSON.stringify)(P)}const sr={transitional:yr,adapter:["xhr","http","fetch"],transformRequest:[function(P,F){const Q=F.getContentType()||"",te=Q.indexOf("application/json")>-1,Se=re.isObject(P);if(Se&&re.isHTMLForm(P)&&(P=new FormData(P)),re.isFormData(P))return te?JSON.stringify(Bt(P)):P;if(re.isArrayBuffer(P)||re.isBuffer(P)||re.isStream(P)||re.isFile(P)||re.isBlob(P)||re.isReadableStream(P))return P;if(re.isArrayBufferView(P))return P.buffer;if(re.isURLSearchParams(P))return F.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),P.toString();let Pe;if(Se){if(Q.indexOf("application/x-www-form-urlencoded")>-1)return Te(P,this.formSerializer).toString();if((Pe=re.isFileList(P))||Q.indexOf("multipart/form-data")>-1){const Ee=this.env&&this.env.FormData;return xt(Pe?{"files[]":P}:P,Ee&&new Ee,this.formSerializer)}}return Se||te?(F.setContentType("application/json",!1),Rt(P)):P}],transformResponse:[function(P){const F=this.transitional||sr.transitional,Q=F&&F.forcedJSONParsing,te=this.responseType==="json";if(re.isResponse(P)||re.isReadableStream(P))return P;if(P&&re.isString(P)&&(Q&&!this.responseType||te)){const Se=!(F&&F.silentJSONParsing)&&te;try{return JSON.parse(P)}catch(Pe){if(Se)throw Pe.name==="SyntaxError"?qe.from(Pe,qe.ERR_BAD_RESPONSE,this,null,this.response):Pe}}return P}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(P){return P>=200&&P<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],P=>{sr.headers[P]={}});var Ft=sr;const tr=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var dr=P=>{const F={};let Q,te,Se;return P&&P.split(`
`).forEach(function(Pe){Se=Pe.indexOf(":"),Q=Pe.substring(0,Se).trim().toLowerCase(),te=Pe.substring(Se+1).trim(),!(!Q||F[Q]&&tr[Q])&&(Q==="set-cookie"?F[Q]?F[Q].push(te):F[Q]=[te]:F[Q]=F[Q]?F[Q]+", "+te:te)}),F};const Rr=Symbol("internals");function qr(P){return P&&String(P).trim().toLowerCase()}function Or(P){return P===!1||P==null?P:re.isArray(P)?P.map(Or):String(P)}function Yt(P){const F=Object.create(null),Q=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let te;for(;te=Q.exec(P);)F[te[1]]=te[2];return F}const Ht=P=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(P.trim());function Tr(P,F,Q,te,Se){if(re.isFunction(te))return te.call(this,F,Q);if(Se&&(F=Q),!!re.isString(F)){if(re.isString(te))return F.indexOf(te)!==-1;if(re.isRegExp(te))return te.test(F)}}function Br(P){return P.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(F,Q,te)=>Q.toUpperCase()+te)}function sa(P,F){const Q=re.toCamelCase(" "+F);["get","set","has"].forEach(te=>{Object.defineProperty(P,te+Q,{value:function(Se,Pe,Ee){return this[te].call(this,F,Se,Pe,Ee)},configurable:!0})})}class Zr{constructor(F){F&&this.set(F)}set(F,Q,te){const Se=this;function Pe(pt,St,yt){const Ct=qr(St);if(!Ct)throw new Error("header name must be a non-empty string");const zt=re.findKey(Se,Ct);(!zt||Se[zt]===void 0||yt===!0||yt===void 0&&Se[zt]!==!1)&&(Se[zt||St]=Or(pt))}const Ee=(pt,St)=>re.forEach(pt,(yt,Ct)=>Pe(yt,Ct,St));if(re.isPlainObject(F)||F instanceof this.constructor)Ee(F,Q);else if(re.isString(F)&&(F=F.trim())&&!Ht(F))Ee(dr(F),Q);else if(re.isHeaders(F))for(const[pt,St]of F.entries())Pe(St,pt,te);else F!=null&&Pe(Q,F,te);return this}get(F,Q){if(F=qr(F),F){const te=re.findKey(this,F);if(te){const Se=this[te];if(!Q)return Se;if(Q===!0)return Yt(Se);if(re.isFunction(Q))return Q.call(this,Se,te);if(re.isRegExp(Q))return Q.exec(Se);throw new TypeError("parser must be boolean|regexp|function")}}}has(F,Q){if(F=qr(F),F){const te=re.findKey(this,F);return!!(te&&this[te]!==void 0&&(!Q||Tr(this,this[te],te,Q)))}return!1}delete(F,Q){const te=this;let Se=!1;function Pe(Ee){if(Ee=qr(Ee),Ee){const pt=re.findKey(te,Ee);pt&&(!Q||Tr(te,te[pt],pt,Q))&&(delete te[pt],Se=!0)}}return re.isArray(F)?F.forEach(Pe):Pe(F),Se}clear(F){const Q=Object.keys(this);let te=Q.length,Se=!1;for(;te--;){const Pe=Q[te];(!F||Tr(this,this[Pe],Pe,F,!0))&&(delete this[Pe],Se=!0)}return Se}normalize(F){const Q=this,te={};return re.forEach(this,(Se,Pe)=>{const Ee=re.findKey(te,Pe);if(Ee){Q[Ee]=Or(Se),delete Q[Pe];return}const pt=F?Br(Pe):String(Pe).trim();pt!==Pe&&delete Q[Pe],Q[pt]=Or(Se),te[pt]=!0}),this}concat(...F){return this.constructor.concat(this,...F)}toJSON(F){const Q=Object.create(null);return re.forEach(this,(te,Se)=>{te!=null&&te!==!1&&(Q[Se]=F&&re.isArray(te)?te.join(", "):te)}),Q}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([F,Q])=>F+": "+Q).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(F){return F instanceof this?F:new this(F)}static concat(F,...Q){const te=new this(F);return Q.forEach(Se=>te.set(Se)),te}static accessor(F){const Q=(this[Rr]=this[Rr]={accessors:{}}).accessors,te=this.prototype;function Se(Pe){const Ee=qr(Pe);Q[Ee]||(sa(te,Pe),Q[Ee]=!0)}return re.isArray(F)?F.forEach(Se):Se(F),this}}Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),re.reduceDescriptors(Zr.prototype,({value:P},F)=>{let Q=F[0].toUpperCase()+F.slice(1);return{get:()=>P,set(te){this[Q]=te}}}),re.freezeMethods(Zr);var ea=Zr;function Ga(P,F){const Q=this||Ft,te=F||Q,Se=ea.from(te.headers);let Pe=te.data;return re.forEach(P,function(Ee){Pe=Ee.call(Q,Pe,Se.normalize(),F?F.status:void 0)}),Se.normalize(),Pe}function Zt(P){return!!(P&&P.__CANCEL__)}function la(P,F,Q){qe.call(this,P!=null?P:"canceled",qe.ERR_CANCELED,F,Q),this.name="CanceledError"}re.inherits(la,qe,{__CANCEL__:!0});function Ea(P,F,Q){const te=Q.config.validateStatus;!Q.status||!te||te(Q.status)?P(Q):F(new qe("Request failed with status code "+Q.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(Q.status/100)-4],Q.config,Q.request,Q))}function fr(P){const F=/^([-+\w]{1,25})(:?\/\/|:)/.exec(P);return F&&F[1]||""}function ca(P,F){P=P||10;const Q=new Array(P),te=new Array(P);let Se=0,Pe=0,Ee;return F=F!==void 0?F:1e3,function(pt){const St=Date.now(),yt=te[Pe];Ee||(Ee=St),Q[Se]=pt,te[Se]=St;let Ct=Pe,zt=0;for(;Ct!==Se;)zt+=Q[Ct++],Ct=Ct%P;if(Se=(Se+1)%P,Se===Pe&&(Pe=(Pe+1)%P),St-Ee<F)return;const Hr=yt&&St-yt;return Hr?Math.round(zt*1e3/Hr):void 0}}function Aa(P,F){let Q=0,te=1e3/F,Se,Pe;const Ee=(pt,St=Date.now())=>{Q=St,Se=null,Pe&&(clearTimeout(Pe),Pe=null),P.apply(null,pt)};return[(...pt)=>{const St=Date.now(),yt=St-Q;yt>=te?Ee(pt,St):(Se=pt,Pe||(Pe=setTimeout(()=>{Pe=null,Ee(Se)},te-yt)))},()=>Se&&Ee(Se)]}const ha=(P,F,Q=3)=>{let te=0;const Se=ca(50,250);return Aa(Pe=>{const Ee=Pe.loaded,pt=Pe.lengthComputable?Pe.total:void 0,St=Ee-te,yt=Se(St),Ct=Ee<=pt;te=Ee;const zt={loaded:Ee,total:pt,progress:pt?Ee/pt:void 0,bytes:St,rate:yt||void 0,estimated:yt&&pt&&Ct?(pt-Ee)/yt:void 0,event:Pe,lengthComputable:pt!=null,[F?"download":"upload"]:!0};P(zt)},Q)},Za=(P,F)=>{const Q=P!=null;return[te=>F[0]({lengthComputable:Q,total:P,loaded:te}),F[1]]},Oe=P=>(...F)=>re.asap(()=>P(...F));var it=We.hasStandardBrowserEnv?((P,F)=>Q=>(Q=new URL(Q,We.origin),P.protocol===Q.protocol&&P.host===Q.host&&(F||P.port===Q.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,kt=We.hasStandardBrowserEnv?{write(P,F,Q,te,Se,Pe){const Ee=[P+"="+encodeURIComponent(F)];re.isNumber(Q)&&Ee.push("expires="+new Date(Q).toGMTString()),re.isString(te)&&Ee.push("path="+te),re.isString(Se)&&Ee.push("domain="+Se),Pe===!0&&Ee.push("secure"),document.cookie=Ee.join("; ")},read(P){const F=document.cookie.match(new RegExp("(^|;\\s*)("+P+")=([^;]*)"));return F?decodeURIComponent(F[3]):null},remove(P){this.write(P,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ot(P){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(P)}function Lt(P,F){return F?P.replace(/\/?\/$/,"")+"/"+F.replace(/^\/+/,""):P}function ar(P,F,Q){let te=!Ot(F);return P&&te||Q==!1?Lt(P,F):F}const Wt=P=>P instanceof ea?Y({},P):P;function kr(P,F){F=F||{};const Q={};function te(yt,Ct,zt,Hr){return re.isPlainObject(yt)&&re.isPlainObject(Ct)?re.merge.call({caseless:Hr},yt,Ct):re.isPlainObject(Ct)?re.merge({},Ct):re.isArray(Ct)?Ct.slice():Ct}function Se(yt,Ct,zt,Hr){if(re.isUndefined(Ct)){if(!re.isUndefined(yt))return te(void 0,yt,zt,Hr)}else return te(yt,Ct,zt,Hr)}function Pe(yt,Ct){if(!re.isUndefined(Ct))return te(void 0,Ct)}function Ee(yt,Ct){if(re.isUndefined(Ct)){if(!re.isUndefined(yt))return te(void 0,yt)}else return te(void 0,Ct)}function pt(yt,Ct,zt){if(zt in F)return te(yt,Ct);if(zt in P)return te(void 0,yt)}const St={url:Pe,method:Pe,data:Pe,baseURL:Ee,transformRequest:Ee,transformResponse:Ee,paramsSerializer:Ee,timeout:Ee,timeoutMessage:Ee,withCredentials:Ee,withXSRFToken:Ee,adapter:Ee,responseType:Ee,xsrfCookieName:Ee,xsrfHeaderName:Ee,onUploadProgress:Ee,onDownloadProgress:Ee,decompress:Ee,maxContentLength:Ee,maxBodyLength:Ee,beforeRedirect:Ee,transport:Ee,httpAgent:Ee,httpsAgent:Ee,cancelToken:Ee,socketPath:Ee,responseEncoding:Ee,validateStatus:pt,headers:(yt,Ct,zt)=>Se(Wt(yt),Wt(Ct),zt,!0)};return re.forEach(Object.keys(Object.assign({},P,F)),function(yt){const Ct=St[yt]||Se,zt=Ct(P[yt],F[yt],yt);re.isUndefined(zt)&&Ct!==pt||(Q[yt]=zt)}),Q}var Dr=P=>{const F=kr({},P);let{data:Q,withXSRFToken:te,xsrfHeaderName:Se,xsrfCookieName:Pe,headers:Ee,auth:pt}=F;F.headers=Ee=ea.from(Ee),F.url=nr(ar(F.baseURL,F.url),P.params,P.paramsSerializer),pt&&Ee.set("Authorization","Basic "+btoa((pt.username||"")+":"+(pt.password?unescape(encodeURIComponent(pt.password)):"")));let St;if(re.isFormData(Q)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)Ee.setContentType(void 0);else if((St=Ee.getContentType())!==!1){const[yt,...Ct]=St?St.split(";").map(zt=>zt.trim()).filter(Boolean):[];Ee.setContentType([yt||"multipart/form-data",...Ct].join("; "))}}if(We.hasStandardBrowserEnv&&(te&&re.isFunction(te)&&(te=te(F)),te||te!==!1&&it(F.url))){const yt=Se&&Pe&&kt.read(Pe);yt&&Ee.set(Se,yt)}return F},ra=typeof XMLHttpRequest<"u"&&function(P){return new Promise(function(F,Q){const te=Dr(P);let Se=te.data;const Pe=ea.from(te.headers).normalize();let{responseType:Ee,onUploadProgress:pt,onDownloadProgress:St}=te,yt,Ct,zt,Hr,ir;function Vt(){Hr&&Hr(),ir&&ir(),te.cancelToken&&te.cancelToken.unsubscribe(yt),te.signal&&te.signal.removeEventListener("abort",yt)}let At=new XMLHttpRequest;At.open(te.method.toUpperCase(),te.url,!0),At.timeout=te.timeout;function ja(){if(!At)return;const aa=ea.from("getAllResponseHeaders"in At&&At.getAllResponseHeaders()),tn={data:!Ee||Ee==="text"||Ee==="json"?At.responseText:At.response,status:At.status,statusText:At.statusText,headers:aa,config:P,request:At};Ea(function(Ns){F(Ns),Vt()},function(Ns){Q(Ns),Vt()},tn),At=null}"onloadend"in At?At.onloadend=ja:At.onreadystatechange=function(){!At||At.readyState!==4||At.status===0&&!(At.responseURL&&At.responseURL.indexOf("file:")===0)||setTimeout(ja)},At.onabort=function(){At&&(Q(new qe("Request aborted",qe.ECONNABORTED,P,At)),At=null)},At.onerror=function(){Q(new qe("Network Error",qe.ERR_NETWORK,P,At)),At=null},At.ontimeout=function(){let aa=te.timeout?"timeout of "+te.timeout+"ms exceeded":"timeout exceeded";const tn=te.transitional||yr;te.timeoutErrorMessage&&(aa=te.timeoutErrorMessage),Q(new qe(aa,tn.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,P,At)),At=null},Se===void 0&&Pe.setContentType(null),"setRequestHeader"in At&&re.forEach(Pe.toJSON(),function(aa,tn){At.setRequestHeader(tn,aa)}),re.isUndefined(te.withCredentials)||(At.withCredentials=!!te.withCredentials),Ee&&Ee!=="json"&&(At.responseType=te.responseType),St&&([zt,ir]=ha(St,!0),At.addEventListener("progress",zt)),pt&&At.upload&&([Ct,Hr]=ha(pt),At.upload.addEventListener("progress",Ct),At.upload.addEventListener("loadend",Hr)),(te.cancelToken||te.signal)&&(yt=aa=>{At&&(Q(!aa||aa.type?new la(null,P,At):aa),At.abort(),At=null)},te.cancelToken&&te.cancelToken.subscribe(yt),te.signal&&(te.signal.aborted?yt():te.signal.addEventListener("abort",yt)));const ua=fr(te.url);if(ua&&We.protocols.indexOf(ua)===-1){Q(new qe("Unsupported protocol "+ua+":",qe.ERR_BAD_REQUEST,P));return}At.send(Se||null)})},zr=(P,F)=>{const{length:Q}=P=P?P.filter(Boolean):[];if(F||Q){let te=new AbortController,Se;const Pe=function(yt){if(!Se){Se=!0,pt();const Ct=yt instanceof Error?yt:this.reason;te.abort(Ct instanceof qe?Ct:new la(Ct instanceof Error?Ct.message:Ct))}};let Ee=F&&setTimeout(()=>{Ee=null,Pe(new qe(`timeout ${F} of ms exceeded`,qe.ETIMEDOUT))},F);const pt=()=>{P&&(Ee&&clearTimeout(Ee),Ee=null,P.forEach(yt=>{yt.unsubscribe?yt.unsubscribe(Pe):yt.removeEventListener("abort",Pe)}),P=null)};P.forEach(yt=>yt.addEventListener("abort",Pe));const{signal:St}=te;return St.unsubscribe=()=>re.asap(pt),St}};const Ra=function*(P,F){let Q=P.byteLength;if(Q<F){yield P;return}let te=0,Se;for(;te<Q;)Se=te+F,yield P.slice(te,Se),te=Se},vs=function(P,F){return kp(this,null,function*(){try{for(var Q=Y1(gi(P)),te,Se,Pe;te=!(Se=yield new jl(Q.next())).done;te=!1){const Ee=Se.value;yield*Sp(Ra(Ee,F))}}catch(Se){Pe=[Se]}finally{try{te&&(Se=Q.return)&&(yield new jl(Se.call(Q)))}finally{if(Pe)throw Pe[0]}}})},gi=function(P){return kp(this,null,function*(){if(P[Symbol.asyncIterator]){yield*Sp(P);return}const F=P.getReader();try{for(;;){const{done:Q,value:te}=yield new jl(F.read());if(Q)break;yield te}}finally{yield new jl(F.cancel())}})},In=(P,F,Q,te)=>{const Se=vs(P,F);let Pe=0,Ee,pt=yt=>{Ee||(Ee=!0,te&&te(yt))};return new ReadableStream({pull(yt){return Ne(this,null,function*(){try{const{done:Ct,value:zt}=yield Se.next();if(Ct){pt(),yt.close();return}let Hr=zt.byteLength;if(Q){let ir=Pe+=Hr;Q(ir)}yt.enqueue(new Uint8Array(zt))}catch(Ct){throw pt(Ct),Ct}})},cancel(yt){return pt(yt),Se.return()}},{highWaterMark:2})},pi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tl=pi&&typeof ReadableStream=="function",Ws=pi&&(typeof TextEncoder=="function"?(P=>F=>P.encode(F))(new TextEncoder):P=>Ne(null,null,function*(){return new Uint8Array(yield new Response(P).arrayBuffer())})),Xl=(P,...F)=>{try{return!!P(...F)}catch(Q){return!1}},Ql=tl&&Xl(()=>{let P=!1;const F=new Request(We.origin,{body:new ReadableStream,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!F}),rl=64*1024,yi=tl&&Xl(()=>re.isReadableStream(new Response("").body)),eo={stream:yi&&(P=>P.body)};pi&&(P=>{["text","arrayBuffer","blob","formData","stream"].forEach(F=>{!eo[F]&&(eo[F]=re.isFunction(P[F])?Q=>Q[F]():(Q,te)=>{throw new qe(`Response type '${F}' is not supported`,qe.ERR_NOT_SUPPORT,te)})})})(new Response);const Nu=P=>Ne(null,null,function*(){if(P==null)return 0;if(re.isBlob(P))return P.size;if(re.isSpecCompliantForm(P))return(yield new Request(We.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(re.isArrayBufferView(P)||re.isArrayBuffer(P))return P.byteLength;if(re.isURLSearchParams(P)&&(P=P+""),re.isString(P))return(yield Ws(P)).byteLength}),to=(P,F)=>Ne(null,null,function*(){const Q=re.toFiniteNumber(P.getContentLength());return Q!=null?Q:Nu(F)});var al=pi&&(P=>Ne(null,null,function*(){let{url:F,method:Q,data:te,signal:Se,cancelToken:Pe,timeout:Ee,onDownloadProgress:pt,onUploadProgress:St,responseType:yt,headers:Ct,withCredentials:zt="same-origin",fetchOptions:Hr}=Dr(P);yt=yt?(yt+"").toLowerCase():"text";let ir=zr([Se,Pe&&Pe.toAbortSignal()],Ee),Vt;const At=ir&&ir.unsubscribe&&(()=>{ir.unsubscribe()});let ja;try{if(St&&Ql&&Q!=="get"&&Q!=="head"&&(ja=yield to(Ct,te))!==0){let Un=new Request(F,{method:"POST",body:te,duplex:"half"}),_s;if(re.isFormData(te)&&(_s=Un.headers.get("content-type"))&&Ct.setContentType(_s),Un.body){const[ao,wi]=Za(ja,ha(Oe(St)));te=In(Un.body,rl,ao,wi)}}re.isString(zt)||(zt=zt?"include":"omit");const ua="credentials"in Request.prototype;Vt=new Request(F,je(Y({},Hr),{signal:ir,method:Q.toUpperCase(),headers:Ct.normalize().toJSON(),body:te,duplex:"half",credentials:ua?zt:void 0}));let aa=yield fetch(Vt);const tn=yi&&(yt==="stream"||yt==="response");if(yi&&(pt||tn&&At)){const Un={};["status","statusText","headers"].forEach(Zl=>{Un[Zl]=aa[Zl]});const _s=re.toFiniteNumber(aa.headers.get("content-length")),[ao,wi]=pt&&Za(_s,ha(Oe(pt),!0))||[];aa=new Response(In(aa.body,rl,ao,()=>{wi&&wi(),At&&At()}),Un)}yt=yt||"text";let Ns=yield eo[re.findKey(eo,yt)||"text"](aa,P);return!tn&&At&&At(),yield new Promise((Un,_s)=>{Ea(Un,_s,{data:Ns,headers:ea.from(aa.headers),status:aa.status,statusText:aa.statusText,config:P,request:Vt})})}catch(ua){throw At&&At(),ua&&ua.name==="TypeError"&&/fetch/i.test(ua.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,P,Vt),{cause:ua.cause||ua}):qe.from(ua,ua&&ua.code,P,Vt)}}));const xi={http:gt,xhr:ra,fetch:al};re.forEach(xi,(P,F)=>{if(P){try{Object.defineProperty(P,"name",{value:F})}catch(Q){}Object.defineProperty(P,"adapterName",{value:F})}});const bs=P=>`- ${P}`,Ys=P=>re.isFunction(P)||P===null||P===!1;var nl={getAdapter:P=>{P=re.isArray(P)?P:[P];const{length:F}=P;let Q,te;const Se={};for(let Pe=0;Pe<F;Pe++){Q=P[Pe];let Ee;if(te=Q,!Ys(Q)&&(te=xi[(Ee=String(Q)).toLowerCase()],te===void 0))throw new qe(`Unknown adapter '${Ee}'`);if(te)break;Se[Ee||"#"+Pe]=te}if(!te){const Pe=Object.entries(Se).map(([pt,St])=>`adapter ${pt} `+(St===!1?"is not supported by the environment":"is not available in the build"));let Ee=F?Pe.length>1?`since :
`+Pe.map(bs).join(`
`):" "+bs(Pe[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+Ee,"ERR_NOT_SUPPORT")}return te},adapters:xi};function kn(P){if(P.cancelToken&&P.cancelToken.throwIfRequested(),P.signal&&P.signal.aborted)throw new la(null,P)}function sl(P){return kn(P),P.headers=ea.from(P.headers),P.data=Ga.call(P,P.transformRequest),["post","put","patch"].indexOf(P.method)!==-1&&P.headers.setContentType("application/x-www-form-urlencoded",!1),nl.getAdapter(P.adapter||Ft.adapter)(P).then(function(F){return kn(P),F.data=Ga.call(P,P.transformResponse,F),F.headers=ea.from(F.headers),F},function(F){return Zt(F)||(kn(P),F&&F.response&&(F.response.data=Ga.call(P,P.transformResponse,F.response),F.response.headers=ea.from(F.response.headers))),Promise.reject(F)})}const rs="1.8.2",Ja={};["object","boolean","number","function","string","symbol"].forEach((P,F)=>{Ja[P]=function(Q){return typeof Q===P||"a"+(F<1?"n ":" ")+P}});const ro={};Ja.transitional=function(P,F,Q){function te(Se,Pe){return"[Axios v"+rs+"] Transitional option '"+Se+"'"+Pe+(Q?". "+Q:"")}return(Se,Pe,Ee)=>{if(P===!1)throw new qe(te(Pe," has been removed"+(F?" in "+F:"")),qe.ERR_DEPRECATED);return F&&!ro[Pe]&&(ro[Pe]=!0,console.warn(te(Pe," has been deprecated since v"+F+" and will be removed in the near future"))),P?P(Se,Pe,Ee):!0}},Ja.spelling=function(P){return(F,Q)=>(console.warn(`${Q} is likely a misspelling of ${P}`),!0)};function ws(P,F,Q){if(typeof P!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const te=Object.keys(P);let Se=te.length;for(;Se-- >0;){const Pe=te[Se],Ee=F[Pe];if(Ee){const pt=P[Pe],St=pt===void 0||Ee(pt,Pe,P);if(St!==!0)throw new qe("option "+Pe+" must be "+St,qe.ERR_BAD_OPTION_VALUE);continue}if(Q!==!0)throw new qe("Unknown option "+Pe,qe.ERR_BAD_OPTION)}}var dn={assertOptions:ws,validators:Ja};const en=dn.validators;class js{constructor(F){this.defaults=F,this.interceptors={request:new na,response:new na}}request(F,Q){return Ne(this,null,function*(){try{return yield this._request(F,Q)}catch(te){if(te instanceof Error){let Se={};Error.captureStackTrace?Error.captureStackTrace(Se):Se=new Error;const Pe=Se.stack?Se.stack.replace(/^.+\n/,""):"";try{te.stack?Pe&&!String(te.stack).endsWith(Pe.replace(/^.+\n.+\n/,""))&&(te.stack+=`
`+Pe):te.stack=Pe}catch(Ee){}}throw te}})}_request(F,Q){typeof F=="string"?(Q=Q||{},Q.url=F):Q=F||{},Q=kr(this.defaults,Q);const{transitional:te,paramsSerializer:Se,headers:Pe}=Q;te!==void 0&&dn.assertOptions(te,{silentJSONParsing:en.transitional(en.boolean),forcedJSONParsing:en.transitional(en.boolean),clarifyTimeoutError:en.transitional(en.boolean)},!1),Se!=null&&(re.isFunction(Se)?Q.paramsSerializer={serialize:Se}:dn.assertOptions(Se,{encode:en.function,serialize:en.function},!0)),Q.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?Q.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:Q.allowAbsoluteUrls=!0),dn.assertOptions(Q,{baseUrl:en.spelling("baseURL"),withXsrfToken:en.spelling("withXSRFToken")},!0),Q.method=(Q.method||this.defaults.method||"get").toLowerCase();let Ee=Pe&&re.merge(Pe.common,Pe[Q.method]);Pe&&re.forEach(["delete","get","head","post","put","patch","common"],Vt=>{delete Pe[Vt]}),Q.headers=ea.concat(Ee,Pe);const pt=[];let St=!0;this.interceptors.request.forEach(function(Vt){typeof Vt.runWhen=="function"&&Vt.runWhen(Q)===!1||(St=St&&Vt.synchronous,pt.unshift(Vt.fulfilled,Vt.rejected))});const yt=[];this.interceptors.response.forEach(function(Vt){yt.push(Vt.fulfilled,Vt.rejected)});let Ct,zt=0,Hr;if(!St){const Vt=[sl.bind(this),void 0];for(Vt.unshift.apply(Vt,pt),Vt.push.apply(Vt,yt),Hr=Vt.length,Ct=Promise.resolve(Q);zt<Hr;)Ct=Ct.then(Vt[zt++],Vt[zt++]);return Ct}Hr=pt.length;let ir=Q;for(zt=0;zt<Hr;){const Vt=pt[zt++],At=pt[zt++];try{ir=Vt(ir)}catch(ja){At.call(this,ja);break}}try{Ct=sl.call(this,ir)}catch(Vt){return Promise.reject(Vt)}for(zt=0,Hr=yt.length;zt<Hr;)Ct=Ct.then(yt[zt++],yt[zt++]);return Ct}getUri(F){F=kr(this.defaults,F);const Q=ar(F.baseURL,F.url,F.allowAbsoluteUrls);return nr(Q,F.params,F.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(P){js.prototype[P]=function(F,Q){return this.request(kr(Q||{},{method:P,url:F,data:(Q||{}).data}))}}),re.forEach(["post","put","patch"],function(P){function F(Q){return function(te,Se,Pe){return this.request(kr(Pe||{},{method:P,headers:Q?{"Content-Type":"multipart/form-data"}:{},url:te,data:Se}))}}js.prototype[P]=F(),js.prototype[P+"Form"]=F(!0)});var vi=js;class Ln{constructor(F){if(typeof F!="function")throw new TypeError("executor must be a function.");let Q;this.promise=new Promise(function(Se){Q=Se});const te=this;this.promise.then(Se=>{if(!te._listeners)return;let Pe=te._listeners.length;for(;Pe-- >0;)te._listeners[Pe](Se);te._listeners=null}),this.promise.then=Se=>{let Pe;const Ee=new Promise(pt=>{te.subscribe(pt),Pe=pt}).then(Se);return Ee.cancel=function(){te.unsubscribe(Pe)},Ee},F(function(Se,Pe,Ee){te.reason||(te.reason=new la(Se,Pe,Ee),Q(te.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(F){if(this.reason){F(this.reason);return}this._listeners?this._listeners.push(F):this._listeners=[F]}unsubscribe(F){if(!this._listeners)return;const Q=this._listeners.indexOf(F);Q!==-1&&this._listeners.splice(Q,1)}toAbortSignal(){const F=new AbortController,Q=te=>{F.abort(te)};return this.subscribe(Q),F.signal.unsubscribe=()=>this.unsubscribe(Q),F.signal}static source(){let F;return{token:new Ln(function(Q){F=Q}),cancel:F}}}var bi=Ln;function il(P){return function(F){return P.apply(null,F)}}function Pa(P){return re.isObject(P)&&P.isAxiosError===!0}const fn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fn).forEach(([P,F])=>{fn[F]=P});var Ma=fn;function Xs(P){const F=new vi(P),Q=e(vi.prototype.request,F);return re.extend(Q,vi.prototype,F,{allOwnKeys:!0}),re.extend(Q,F,null,{allOwnKeys:!0}),Q.create=function(te){return Xs(kr(P,te))},Q}const Lr=Xs(Ft);return Lr.Axios=vi,Lr.CanceledError=la,Lr.CancelToken=bi,Lr.isCancel=Zt,Lr.VERSION=rs,Lr.toFormData=xt,Lr.AxiosError=qe,Lr.Cancel=Lr.CanceledError,Lr.all=function(P){return Promise.all(P)},Lr.spread=il,Lr.isAxiosError=Pa,Lr.mergeConfig=kr,Lr.AxiosHeaders=ea,Lr.formToJSON=P=>Bt(re.isHTMLForm(P)?new FormData(P):P),Lr.getAdapter=nl.getAdapter,Lr.HttpStatusCode=Ma,Lr.default=Lr,Lp=Lr,Lp}var P2;function IN(){if(P2)return Ui;P2=1;var e=Ui&&Ui.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,f=arguments.length;c<f;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.getRequestHeaders=Ui.getAxiosClient=void 0;var r=DC();function t(i,l,c,f,h){var d=r.default.create({baseURL:i,headers:n(l,f,c,i,h),withCredentials:!0});return d.interceptors.request.use(function(m){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(m.headers["X-Frappe-CSRF-Token"]=window.csrf_token),l&&f&&c&&(m.headers.Authorization="".concat(f," ").concat(c())),m}),d}Ui.getAxiosClient=t;function n(i,l,c,f,h){i===void 0&&(i=!1);var d={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return i&&l&&c&&(d.Authorization="".concat(l," ").concat(c())),typeof window<"u"&&typeof document<"u"&&(window.location&&(f&&f!==window.location.origin||(d["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(d["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},d),h!=null?h:{})}return Ui.getRequestHeaders=n,Ui}var M2;function LN(){if(M2)return Ms;M2=1;var e=Ms&&Ms.__assign||function(){return e=Object.assign||function(l){for(var c,f=1,h=arguments.length;f<h;f++){c=arguments[f];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e.apply(this,arguments)},r=Ms&&Ms.__awaiter||function(l,c,f,h){function d(m){return m instanceof f?m:new f(function(x){x(m)})}return new(f||(f=Promise))(function(m,x){function p(k){try{S(h.next(k))}catch(T){x(T)}}function b(k){try{S(h.throw(k))}catch(T){x(T)}}function S(k){k.done?m(k.value):d(k.value).then(p,b)}S((h=h.apply(l,c||[])).next())})},t=Ms&&Ms.__generator||function(l,c){var f={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},h,d,m,x;return x={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function p(S){return function(k){return b([S,k])}}function b(S){if(h)throw new TypeError("Generator is already executing.");for(;x&&(x=0,S[0]&&(f=0)),f;)try{if(h=1,d&&(m=S[0]&2?d.return:S[0]?d.throw||((m=d.return)&&m.call(d),0):d.next)&&!(m=m.call(d,S[1])).done)return m;switch(d=0,m&&(S=[S[0]&2,m.value]),S[0]){case 0:case 1:m=S;break;case 4:return f.label++,{value:S[1],done:!1};case 5:f.label++,d=S[1],S=[0];continue;case 7:S=f.ops.pop(),f.trys.pop();continue;default:if(m=f.trys,!(m=m.length>0&&m[m.length-1])&&(S[0]===6||S[0]===2)){f=0;continue}if(S[0]===3&&(!m||S[1]>m[0]&&S[1]<m[3])){f.label=S[1];break}if(S[0]===6&&f.label<m[1]){f.label=m[1],m=S;break}if(m&&f.label<m[2]){f.label=m[2],f.ops.push(S);break}m[2]&&f.ops.pop(),f.trys.pop();continue}S=c.call(l,f)}catch(k){S=[6,k],d=0}finally{h=m=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.FrappeFileUpload=void 0;var n=IN(),i=function(){function l(c,f,h,d,m,x){this.appURL=c,this.axios=f,this.useToken=h!=null?h:!1,this.token=d,this.tokenType=m,this.customHeaders=x}return l.prototype.uploadFile=function(c,f,h,d){return d===void 0&&(d="upload_file"),r(this,void 0,void 0,function(){var m,x,p,b,S,k,T,A;return t(this,function(M){return m=new FormData,c&&m.append("file",c,c.name),x=f.isPrivate,p=f.folder,b=f.file_url,S=f.doctype,k=f.docname,T=f.fieldname,A=f.otherData,x&&m.append("is_private","1"),p&&m.append("folder",p),b&&m.append("file_url",b),S&&k&&(m.append("doctype",S),m.append("docname",k),T&&m.append("fieldname",T)),A&&Object.keys(A).forEach(function(H){var D=A[H];m.append(H,D)}),[2,this.axios.post("/api/method/".concat(d),m,{onUploadProgress:function(H){h&&h(H.loaded,H.total,H)},headers:e(e({},(0,n.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(H){var D,G;throw e(e({},H.response.data),{httpStatus:H.response.status,httpStatusText:H.response.statusText,message:(D=H.response.data.message)!==null&&D!==void 0?D:"There was an error while uploading the file.",exception:(G=H.response.data.exception)!==null&&G!==void 0?G:""})})]})})},l}();return Ms.FrappeFileUpload=i,Ms}var D2;function IC(){if(D2)return kd;D2=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.FrappeApp=void 0;var e=UN(),r=MN(),t=DN(),n=LN(),i=IN(),l=function(){function c(f,h,d,m){var x,p;this.url=f,this.name=d!=null?d:"FrappeApp",this.useToken=(x=h==null?void 0:h.useToken)!==null&&x!==void 0?x:!1,this.token=h==null?void 0:h.token,this.tokenType=(p=h==null?void 0:h.type)!==null&&p!==void 0?p:"Bearer",this.customHeaders=m,this.axios=(0,i.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return c.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.db=function(){return new t.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},c.prototype.file=function(){return new n.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},c.prototype.call=function(){return new r.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},c}();return kd.FrappeApp=l,kd}var Ds={},I2;function LC(){if(I2)return Ds;I2=1;var e=Ds&&Ds.__assign||function(){return e=Object.assign||function(i){for(var l,c=1,f=arguments.length;c<f;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h])}return i},e.apply(this,arguments)},r=Ds&&Ds.__awaiter||function(i,l,c,f){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function x(S){try{b(f.next(S))}catch(k){m(k)}}function p(S){try{b(f.throw(S))}catch(k){m(k)}}function b(S){S.done?d(S.value):h(S.value).then(x,p)}b((f=f.apply(i,l||[])).next())})},t=Ds&&Ds.__generator||function(i,l){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},f,h,d,m;return m={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function x(b){return function(S){return p([b,S])}}function p(b){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(c=0)),c;)try{if(f=1,h&&(d=b[0]&2?h.return:b[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,b[1])).done)return d;switch(h=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){c.label=b[1];break}if(b[0]===6&&c.label<d[1]){c.label=d[1],d=b;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(b);break}d[2]&&c.ops.pop(),c.trys.pop();continue}b=l.call(i,c)}catch(S){b=[6,S],h=0}finally{f=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.FrappeAuth=void 0;var n=function(){function i(l,c,f,h,d){this.appURL=l,this.axios=c,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=d}return i.prototype.loginWithUsernamePassword=function(l){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,this.axios.post("/api/method/login",{usr:l.username,pwd:l.password,otp:l.otp,tmp_id:l.tmp_id,device:l.device}).then(function(f){return f.data}).catch(function(f){var h,d;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(d=f.response.data.exception)!==null&&d!==void 0?d:""})})]})})},i.prototype.getLoggedInUser=function(){return r(this,void 0,void 0,function(){return t(this,function(l){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(c){return c.data.message}).catch(function(c){var f;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while fetching the logged in user",exception:(f=c.response.data.exception)!==null&&f!==void 0?f:""})})]})})},i.prototype.logout=function(){return r(this,void 0,void 0,function(){return t(this,function(l){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(c){var f,h;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(f=c.response.data.message)!==null&&f!==void 0?f:"There was an error while logging out",exception:(h=c.response.data.exception)!==null&&h!==void 0?h:""})})]})})},i.prototype.forgetPassword=function(l){return r(this,void 0,void 0,function(){return t(this,function(c){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:l}).then(function(){}).catch(function(f){var h,d;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(d=f.response.data.exception)!==null&&d!==void 0?d:""})})]})})},i}();return Ds.FrappeAuth=n,Ds}var L2;function UN(){return L2||(L2=1,function(e){var r=Mc&&Mc.__createBinding||(Object.create?function(n,i,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(i,l);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[l]}}),Object.defineProperty(n,c,f)}:function(n,i,l,c){c===void 0&&(c=l),n[c]=i[l]}),t=Mc&&Mc.__exportStar||function(n,i){for(var l in n)l!=="default"&&!Object.prototype.hasOwnProperty.call(i,l)&&r(i,n,l)};Object.defineProperty(e,"__esModule",{value:!0}),t(IC(),e),t(LC(),e),t(DN(),e),t(LN(),e),t(MN(),e)}(Mc)),Mc}var UC=UN(),U2={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function FC(){if(F2)return Up;F2=1;var e=vt;function r(x,p){return x===p&&(x!==0||1/x===1/p)||x!==x&&p!==p}var t=typeof Object.is=="function"?Object.is:r,n=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function f(x,p){var b=p(),S=n({inst:{value:b,getSnapshot:p}}),k=S[0].inst,T=S[1];return l(function(){k.value=b,k.getSnapshot=p,h(k)&&T({inst:k})},[x,b,p]),i(function(){return h(k)&&T({inst:k}),x(function(){h(k)&&T({inst:k})})},[x]),c(b),b}function h(x){var p=x.getSnapshot;x=x.value;try{var b=p();return!t(x,b)}catch(S){return!0}}function d(x,p){return p()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:f;return Up.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Up}var B2;function BC(){return B2||(B2=1,U2.exports=FC()),U2.exports}BC();const zC=0,qC=1,HC=2;var z2=Object.prototype.hasOwnProperty;function Ey(e,r){var t,n;if(e===r)return!0;if(e&&r&&(t=e.constructor)===r.constructor){if(t===Date)return e.getTime()===r.getTime();if(t===RegExp)return e.toString()===r.toString();if(t===Array){if((n=e.length)===r.length)for(;n--&&Ey(e[n],r[n]););return n===-1}if(!t||typeof e=="object"){n=0;for(t in e)if(z2.call(e,t)&&++n&&!z2.call(r,t)||!(t in r)||!Ey(e[t],r[t]))return!1;return Object.keys(r).length===n}}return e!==e&&r!==r}const Do=new WeakMap,qo=()=>{},Zn=qo(),tm=Object,Hs=e=>e===Zn,Io=e=>typeof e=="function",Il=(e,r)=>Y(Y({},e),r),GC=e=>Io(e.then),Fp={},Ff={},FN="undefined",vm=typeof window!=FN,$y=typeof document!=FN,VC=vm&&"Deno"in window,KC=(e,r)=>{const t=Do.get(e);return[()=>!Hs(r)&&e.get(r)||Fp,n=>{if(!Hs(r)){const i=e.get(r);r in Ff||(Ff[r]=i),t[5](r,Il(i,n),i||Fp)}},t[6],()=>!Hs(r)&&r in Ff?Ff[r]:!Hs(r)&&e.get(r)||Fp]};let Oy=!0;const WC=()=>Oy,[Ty,Ay]=vm&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[qo,qo],YC=()=>{const e=$y&&document.visibilityState;return Hs(e)||e!=="hidden"},XC=e=>($y&&document.addEventListener("visibilitychange",e),Ty("focus",e),()=>{$y&&document.removeEventListener("visibilitychange",e),Ay("focus",e)}),QC=e=>{const r=()=>{Oy=!0,e()},t=()=>{Oy=!1};return Ty("online",r),Ty("offline",t),()=>{Ay("online",r),Ay("offline",t)}},ZC={isOnline:WC,isVisible:YC},JC={initFocus:XC,initReconnect:QC};vt.useId;const Ix=!vm||VC,e9=Ix?E.useEffect:E.useLayoutEffect,Bp=typeof navigator<"u"&&navigator.connection,q2=!Ix&&Bp&&(["slow-2g","2g"].includes(Bp.effectiveType)||Bp.saveData),Bf=new WeakMap,zp=(e,r)=>tm.prototype.toString.call(e)===`[object ${r}]`;let t9=0;const Ry=e=>{const r=typeof e,t=zp(e,"Date"),n=zp(e,"RegExp"),i=zp(e,"Object");let l,c;if(tm(e)===e&&!t&&!n){if(l=Bf.get(e),l)return l;if(l=++t9+"~",Bf.set(e,l),Array.isArray(e)){for(l="@",c=0;c<e.length;c++)l+=Ry(e[c])+",";Bf.set(e,l)}if(i){l="#";const f=tm.keys(e).sort();for(;!Hs(c=f.pop());)Hs(e[c])||(l+=c+":"+Ry(e[c])+",");Bf.set(e,l)}}else l=t?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return l},BN=e=>{if(Io(e))try{e=e()}catch(t){e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ry(e):"",[e,r]};let r9=0;const H2=()=>++r9;function a9(...e){return Ne(this,null,function*(){const[r,t,n,i]=e,l=Il({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let c=l.populateCache;const f=l.rollbackOnError;let h=l.optimisticData;const d=p=>typeof f=="function"?f(p):f!==!1,m=l.throwOnError;if(Io(t)){const p=t,b=[],S=r.keys();for(const k of S)!/^\$(inf|sub)\$/.test(k)&&p(r.get(k)._k)&&b.push(k);return Promise.all(b.map(x))}return x(t);function x(p){return Ne(this,null,function*(){const[b]=BN(p);if(!b)return;const[S,k]=KC(r,b),[T,A,M,H]=Do.get(r),D=()=>{const J=T[b];return(Io(l.revalidate)?l.revalidate(S().data,p):l.revalidate!==!1)&&(delete M[b],delete H[b],J&&J[0])?J[0](HC).then(()=>S().data):S().data};if(e.length<3)return D();let G=n,V;const se=H2();A[b]=[se,0];const oe=!Hs(h),q=S(),ie=q.data,ee=q._c,ae=Hs(ee)?ie:ee;if(oe&&(h=Io(h)?h(ae,ie):h,k({data:h,_c:ae})),Io(G))try{G=G(ae)}catch(J){V=J}if(G&&GC(G))if(G=yield G.catch(J=>{V=J}),se!==A[b][0]){if(V)throw V;return G}else V&&oe&&d(V)&&(c=!0,k({data:ae,_c:Zn}));if(c&&!V)if(Io(c)){const J=c(G,ae);k({data:J,error:Zn,_c:Zn})}else k({data:G,error:Zn,_c:Zn});if(A[b][1]=H2(),Promise.resolve(D()).then(()=>{k({_c:Zn})}),V){if(m)throw V;return}return G})}})}const G2=(e,r)=>{for(const t in e)e[t][0]&&e[t][0](r)},zN=(e,r)=>{if(!Do.has(e)){const t=Il(JC,r),n=Object.create(null),i=a9.bind(Zn,e);let l=qo;const c=Object.create(null),f=(m,x)=>{const p=c[m]||[];return c[m]=p,p.push(x),()=>p.splice(p.indexOf(x),1)},h=(m,x,p)=>{e.set(m,x);const b=c[m];if(b)for(const S of b)S(x,p)},d=()=>{if(!Do.has(e)&&(Do.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,h,f]),!Ix)){const m=t.initFocus(setTimeout.bind(Zn,G2.bind(Zn,n,zC))),x=t.initReconnect(setTimeout.bind(Zn,G2.bind(Zn,n,qC)));l=()=>{m&&m(),x&&x(),Do.delete(e)}}};return d(),[e,i,d,l]}return[e,Do.get(e)[4]]},n9=(e,r,t,n,i)=>{const l=t.errorRetryCount,c=i.retryCount,f=~~((Math.random()+.5)*(1<<(c<8?c:8)))*t.errorRetryInterval;!Hs(l)&&c>l||setTimeout(n,f,i)},s9=Ey,[Lx,i9]=zN(new Map),o9=Il({onLoadingSlow:qo,onSuccess:qo,onError:qo,onErrorRetry:n9,onDiscarded:qo,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:q2?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:q2?5e3:3e3,compare:s9,isPaused:()=>!1,cache:Lx,mutate:i9,fallback:{}},ZC),l9=(e,r)=>{const t=Il(e,r);if(r){const{use:n,fallback:i}=e,{use:l,fallback:c}=r;n&&l&&(t.use=n.concat(l)),i&&c&&(t.fallback=Il(i,c))}return t},V2=E.createContext({}),c9=e=>{const{value:r}=e,t=E.useContext(V2),n=Io(r),i=E.useMemo(()=>n?r(t):r,[n,t,r]),l=E.useMemo(()=>n?i:l9(t,i),[n,t,i]),c=i&&i.provider,f=E.useRef(Zn);c&&!f.current&&(f.current=zN(c(l.cache||Lx),i));const h=f.current;return h&&(l.cache=h[0],l.mutate=h[1]),e9(()=>{if(h)return h[2]&&h[2](),h[3]},[]),E.createElement(V2.Provider,Il(e,{value:l}))},u9="$inf$",qN=vm&&window.__SWR_DEVTOOLS_USE__,d9=qN?window.__SWR_DEVTOOLS_USE__:[],f9=()=>{qN&&(window.__SWR_DEVTOOLS_REACT__=vt)},h9=e=>(r,t,n)=>e(r,t&&((...i)=>{const[l]=BN(r),[,,,c]=Do.get(Lx);if(l.startsWith(u9))return t(...i);const f=c[l];return Hs(f)?t(...i):(delete c[l],f)}),n);d9.concat(h9);f9();vt.use;const m9=tm.defineProperty(c9,"defaultValue",{value:o9});Promise.resolve();const hi=Object.create(null);hi.open="0";hi.close="1";hi.ping="2";hi.pong="3";hi.message="4";hi.upgrade="5";hi.noop="6";const zh=Object.create(null);Object.keys(hi).forEach(e=>{zh[hi[e]]=e});const Py={type:"error",data:"parser error"},HN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",GN=typeof ArrayBuffer=="function",VN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ux=({type:e,data:r},t,n)=>HN&&r instanceof Blob?t?n(r):K2(r,n):GN&&(r instanceof ArrayBuffer||VN(r))?t?n(r):K2(new Blob([r]),n):n(hi[e]+(r||"")),K2=(e,r)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];r("b"+(n||""))},t.readAsDataURL(e)};function W2(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let qp;function g9(e,r){if(HN&&e.data instanceof Blob)return e.data.arrayBuffer().then(W2).then(r);if(GN&&(e.data instanceof ArrayBuffer||VN(e.data)))return r(W2(e.data));Ux(e,!1,t=>{qp||(qp=new TextEncoder),r(qp.encode(t))})}const Y2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Y2.length;e++)Dd[Y2.charCodeAt(e)]=e;const p9=e=>{let r=e.length*.75,t=e.length,n,i=0,l,c,f,h;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);const d=new ArrayBuffer(r),m=new Uint8Array(d);for(n=0;n<t;n+=4)l=Dd[e.charCodeAt(n)],c=Dd[e.charCodeAt(n+1)],f=Dd[e.charCodeAt(n+2)],h=Dd[e.charCodeAt(n+3)],m[i++]=l<<2|c>>4,m[i++]=(c&15)<<4|f>>2,m[i++]=(f&3)<<6|h&63;return d},y9=typeof ArrayBuffer=="function",Fx=(e,r)=>{if(typeof e!="string")return{type:"message",data:KN(e,r)};const t=e.charAt(0);return t==="b"?{type:"message",data:x9(e.substring(1),r)}:zh[t]?e.length>1?{type:zh[t],data:e.substring(1)}:{type:zh[t]}:Py},x9=(e,r)=>{if(y9){const t=p9(e);return KN(t,r)}else return{base64:!0,data:e}},KN=(e,r)=>{switch(r){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},WN="",v9=(e,r)=>{const t=e.length,n=new Array(t);let i=0;e.forEach((l,c)=>{Ux(l,!1,f=>{n[c]=f,++i===t&&r(n.join(WN))})})},b9=(e,r)=>{const t=e.split(WN),n=[];for(let i=0;i<t.length;i++){const l=Fx(t[i],r);if(n.push(l),l.type==="error")break}return n};function w9(){return new TransformStream({transform(e,r){g9(e,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const l=new DataView(i.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{i=new Uint8Array(9);const l=new DataView(i.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),r.enqueue(i),r.enqueue(t)})}})}let Hp;function zf(e){return e.reduce((r,t)=>r+t.length,0)}function qf(e,r){if(e[0].length===r)return e.shift();const t=new Uint8Array(r);let n=0;for(let i=0;i<r;i++)t[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),t}function j9(e,r){Hp||(Hp=new TextDecoder);const t=[];let n=0,i=-1,l=!1;return new TransformStream({transform(c,f){for(t.push(c);;){if(n===0){if(zf(t)<1)break;const h=qf(t,1);l=(h[0]&128)===128,i=h[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(zf(t)<2)break;const h=qf(t,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),n=3}else if(n===2){if(zf(t)<8)break;const h=qf(t,8),d=new DataView(h.buffer,h.byteOffset,h.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){f.enqueue(Py);break}i=m*Math.pow(2,32)+d.getUint32(4),n=3}else{if(zf(t)<i)break;const h=qf(t,i);f.enqueue(Fx(l?h:Hp.decode(h),r)),n=0}if(i===0||i>e){f.enqueue(Py);break}}}})}const YN=4;function Ca(e){if(e)return N9(e)}function N9(e){for(var r in Ca.prototype)e[r]=Ca.prototype[r];return e}Ca.prototype.on=Ca.prototype.addEventListener=function(e,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(r),this};Ca.prototype.once=function(e,r){function t(){this.off(e,t),r.apply(this,arguments)}return t.fn=r,this.on(e,t),this};Ca.prototype.off=Ca.prototype.removeListener=Ca.prototype.removeAllListeners=Ca.prototype.removeEventListener=function(e,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===r||n.fn===r){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+e],this};Ca.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+e],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,r)}return this};Ca.prototype.emitReserved=Ca.prototype.emit;Ca.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ca.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ms=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function XN(e,...r){return r.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const _9=ms.setTimeout,k9=ms.clearTimeout;function bm(e,r){r.useNativeTimers?(e.setTimeoutFn=_9.bind(ms),e.clearTimeoutFn=k9.bind(ms)):(e.setTimeoutFn=ms.setTimeout.bind(ms),e.clearTimeoutFn=ms.clearTimeout.bind(ms))}const S9=1.33;function C9(e){return typeof e=="string"?E9(e):Math.ceil((e.byteLength||e.size)*S9)}function E9(e){let r=0,t=0;for(let n=0,i=e.length;n<i;n++)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(n++,t+=4);return t}function $9(e){let r="";for(let t in e)e.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r}function O9(e){let r={},t=e.split("&");for(let n=0,i=t.length;n<i;n++){let l=t[n].split("=");r[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return r}class T9 extends Error{constructor(r,t,n){super(r),this.description=t,this.context=n,this.type="TransportError"}}class Bx extends Ca{constructor(r){super(),this.writable=!1,bm(this,r),this.opts=r,this.query=r.query,this.socket=r.socket}onError(r,t,n){return super.emitReserved("error",new T9(r,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=Fx(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const t=$9(r);return t.length?"?"+t:""}}const QN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),My=64,A9={};let X2=0,Hf=0,Q2;function Z2(e){let r="";do r=QN[e%My]+r,e=Math.floor(e/My);while(e>0);return r}function ZN(){const e=Z2(+new Date);return e!==Q2?(X2=0,Q2=e):e+"."+Z2(X2++)}for(;Hf<My;Hf++)A9[QN[Hf]]=Hf;let JN=!1;try{JN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const R9=JN;function e4(e){const r=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||R9))return new XMLHttpRequest}catch(t){}if(!r)try{return new ms[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}function P9(){}const M9=function(){return new e4({xdomain:!1}).responseType!=null}();class D9 extends Bx{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||i!==r.port}const t=r&&r.forceBase64;this.supportsBinary=M9&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};b9(r,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,v9(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=ZN()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}request(r={}){return Object.assign(r,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Qc(this.uri(),r)}doWrite(r,t){const n=this.request({method:"POST",data:r});n.on("success",t),n.on("error",(i,l)=>{this.onError("xhr post error",i,l)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=r}}let Qc=class qh extends Ca{constructor(r,t){super(),bm(this,t),this.opts=t,this.method=t.method||"GET",this.uri=r,this.data=t.data!==void 0?t.data:null,this.create()}create(){var r;const t=XN(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new e4(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}(r=this.opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=qh.requestsCount++,qh.requests[this.index]=this)}onError(r){this.emitReserved("error",r,this.xhr),this.cleanup(!0)}cleanup(r){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=P9,r)try{this.xhr.abort()}catch(t){}typeof document<"u"&&delete qh.requests[this.index],this.xhr=null}}onLoad(){const r=this.xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Qc.requestsCount=0;Qc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",J2);else if(typeof addEventListener=="function"){const e="onpagehide"in ms?"pagehide":"unload";addEventListener(e,J2,!1)}}function J2(){for(let e in Qc.requests)Qc.requests.hasOwnProperty(e)&&Qc.requests[e].abort()}const zx=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Gf=ms.WebSocket||ms.MozWebSocket,ew=!0,I9="arraybuffer",tw=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class L9 extends Bx{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const r=this.uri(),t=this.opts.protocols,n=tw?{}:XN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ew&&!tw?t?new Gf(r,t):new Gf(r):new Gf(r,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const n=r[t],i=t===r.length-1;Ux(n,this.supportsBinary,l=>{try{ew&&this.ws.send(l)}catch(c){}i&&zx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ZN()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}check(){return!!Gf}}class U9 extends Bx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(r=>{const t=j9(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(t).getReader(),i=w9();i.readable.pipeTo(r.writable),this.writer=i.writable.getWriter();const l=()=>{n.read().then(({done:f,value:h})=>{f||(this.onPacket(h),l())}).catch(f=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const n=r[t],i=t===r.length-1;this.writer.write(n).then(()=>{i&&zx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this.transport)===null||r===void 0||r.close()}}const F9={websocket:L9,webtransport:U9,polling:D9},B9=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,z9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dy(e){if(e.length>2e3)throw"URI too long";const r=e,t=e.indexOf("["),n=e.indexOf("]");t!=-1&&n!=-1&&(e=e.substring(0,t)+e.substring(t,n).replace(/:/g,";")+e.substring(n,e.length));let i=B9.exec(e||""),l={},c=14;for(;c--;)l[z9[c]]=i[c]||"";return t!=-1&&n!=-1&&(l.source=r,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=q9(l,l.path),l.queryKey=H9(l,l.query),l}function q9(e,r){const t=/\/{2,9}/g,n=r.replace(t,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function H9(e,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,l){i&&(t[i]=l)}),t}let t4=class Vc extends Ca{constructor(r,t={}){super(),this.binaryType=I9,this.writeBuffer=[],r&&typeof r=="object"&&(t=r,r=null),r?(r=Dy(r),t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)):t.host&&(t.hostname=Dy(t.host).host),bm(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=O9(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(r){const t=Object.assign({},this.opts.query);t.EIO=YN,t.transport=r,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new F9[r](n)}open(){let r;if(this.opts.rememberUpgrade&&Vc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch(t){this.transports.shift(),this.open();return}r.open(),this.setTransport(r)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(r){let t=this.createTransport(r),n=!1;Vc.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",x=>{if(!n)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Vc.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=t.name,this.emitReserved("upgradeError",p)}}))};function l(){n||(n=!0,m(),t.close(),t=null)}const c=x=>{const p=new Error("probe error: "+x);p.transport=t.name,l(),this.emitReserved("upgradeError",p)};function f(){c("transport closed")}function h(){c("socket closed")}function d(x){t&&x.name!==t.name&&l()}const m=()=>{t.removeListener("open",i),t.removeListener("error",c),t.removeListener("close",f),this.off("close",h),this.off("upgrading",d)};t.once("open",i),t.once("error",c),t.once("close",f),this.once("close",h),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Vc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let r=0;const t=this.upgrades.length;for(;r<t;r++)this.probe(this.upgrades[r])}}onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),this.resetPingTimeout(),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=r.data,this.onError(t);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this.getWritablePackets();this.transport.send(r),this.prevBufferLen=r.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(r+=C9(n)),t>0&&r>this.maxPayload)return this.writeBuffer.slice(0,t);r+=2}return this.writeBuffer}write(r,t,n){return this.sendPacket("message",r,t,n),this}send(r,t,n){return this.sendPacket("message",r,t,n),this}sendPacket(r,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:r,data:t,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),i&&this.once("flush",i),this.flush()}close(){const r=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),r()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}onError(r){Vc.priorWebsocketSuccess=!1,this.emitReserved("error",r),this.onClose("transport error",r)}onClose(r,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",r,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(r){const t=[];let n=0;const i=r.length;for(;n<i;n++)~this.transports.indexOf(r[n])&&t.push(r[n]);return t}};t4.protocol=YN;function G9(e,r="",t){let n=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),n=Dy(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+r,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}const V9=typeof ArrayBuffer=="function",K9=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,r4=Object.prototype.toString,W9=typeof Blob=="function"||typeof Blob<"u"&&r4.call(Blob)==="[object BlobConstructor]",Y9=typeof File=="function"||typeof File<"u"&&r4.call(File)==="[object FileConstructor]";function qx(e){return V9&&(e instanceof ArrayBuffer||K9(e))||W9&&e instanceof Blob||Y9&&e instanceof File}function Hh(e,r){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Hh(e[t]))return!0;return!1}if(qx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Hh(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Hh(e[t]))return!0;return!1}function X9(e){const r=[],t=e.data,n=e;return n.data=Iy(t,r),n.attachments=r.length,{packet:n,buffers:r}}function Iy(e,r){if(!e)return e;if(qx(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=Iy(e[n],r);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Iy(e[n],r));return t}return e}function Q9(e,r){return e.data=Ly(e.data,r),delete e.attachments,e}function Ly(e,r){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<r.length)return r[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=Ly(e[t],r);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=Ly(e[t],r));return e}const Z9=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],J9=5;var Ar;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ar||(Ar={}));class e8{constructor(r){this.replacer=r}encode(r){return(r.type===Ar.EVENT||r.type===Ar.ACK)&&Hh(r)?this.encodeAsBinary({type:r.type===Ar.EVENT?Ar.BINARY_EVENT:Ar.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t=""+r.type;return(r.type===Ar.BINARY_EVENT||r.type===Ar.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t+=r.nsp+","),r.id!=null&&(t+=r.id),r.data!=null&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=X9(r),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function rw(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hx extends Ca{constructor(r){super(),this.reviver=r}add(r){let t;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const n=t.type===Ar.BINARY_EVENT;n||t.type===Ar.BINARY_ACK?(t.type=n?Ar.EVENT:Ar.ACK,this.reconstructor=new t8(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(qx(r)||r.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let t=0;const n={type:Number(r.charAt(0))};if(Ar[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ar.BINARY_EVENT||n.type===Ar.BINARY_ACK){const l=t+1;for(;r.charAt(++t)!=="-"&&t!=r.length;);const c=r.substring(l,t);if(c!=Number(c)||r.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(r.charAt(t+1)==="/"){const l=t+1;for(;++t&&!(r.charAt(t)===","||t===r.length););n.nsp=r.substring(l,t)}else n.nsp="/";const i=r.charAt(t+1);if(i!==""&&Number(i)==i){const l=t+1;for(;++t;){const c=r.charAt(t);if(c==null||Number(c)!=c){--t;break}if(t===r.length)break}n.id=Number(r.substring(l,t+1))}if(r.charAt(++t)){const l=this.tryParse(r.substr(t));if(Hx.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch(t){return!1}}static isPayloadValid(r,t){switch(r){case Ar.CONNECT:return rw(t);case Ar.DISCONNECT:return t===void 0;case Ar.CONNECT_ERROR:return typeof t=="string"||rw(t);case Ar.EVENT:case Ar.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Z9.indexOf(t[0])===-1);case Ar.ACK:case Ar.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class t8{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=Q9(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const r8=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hx,Encoder:e8,get PacketType(){return Ar},protocol:J9},Symbol.toStringTag,{value:"Module"}));function qs(e,r,t){return e.on(r,t),function(){e.off(r,t)}}const a8=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class a4 extends Ca{constructor(r,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[qs(r,"open",this.onopen.bind(this)),qs(r,"packet",this.onpacket.bind(this)),qs(r,"error",this.onerror.bind(this)),qs(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){if(a8.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:Ar.EVENT,data:t};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const l=this.ids++,c=t.pop();this._registerAckCallback(l,c),n.id=l}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(r,t){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[r]=t;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},i);this.acks[r]=(...c)=>{this.io.clearTimeoutFn(l),t.apply(this,[null,...c])}}emitWithAck(r,...t){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,l)=>{t.push((c,f)=>n?c?l(c):i(f):i(c)),this.emit(r,...t)})}_addToQueue(r){let t;typeof r[r.length-1]=="function"&&(t=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...l)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Ar.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t)}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ar.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ar.EVENT:case Ar.BINARY_EVENT:this.onevent(r);break;case Ar.ACK:case Ar.BINARY_ACK:this.onack(r);break;case Ar.DISCONNECT:this.ondisconnect();break;case Ar.CONNECT_ERROR:this.destroy();const t=new Error(r.data.message);t.data=r.data.data,this.emitReserved("connect_error",t);break}}onevent(r){const t=r.data||[];r.id!=null&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:Ar.ACK,id:r,data:i}))}}onack(r){const t=this.acks[r.id];typeof t=="function"&&(t.apply(this,r.data),delete this.acks[r.id])}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ar.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(r===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(r===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,r.data)}}}function xu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}xu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*e);e=(Math.floor(r*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0};xu.prototype.reset=function(){this.attempts=0};xu.prototype.setMin=function(e){this.ms=e};xu.prototype.setMax=function(e){this.max=e};xu.prototype.setJitter=function(e){this.jitter=e};class Uy extends Ca{constructor(r,t){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t=r,r=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,bm(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new xu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=r;const i=t.parser||r8;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t=this.backoff)===null||t===void 0||t.setMin(r),this)}randomizationFactor(r){var t;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t=this.backoff)===null||t===void 0||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t=this.backoff)===null||t===void 0||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new t4(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=qs(t,"open",function(){n.onopen(),r&&r()}),l=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),r?r(f):this.maybeReconnectOnOpen()},c=qs(t,"error",l);if(this._timeout!==!1){const f=this._timeout,h=this.setTimeoutFn(()=>{i(),l(new Error("timeout")),t.close()},f);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(c),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(qs(r,"ping",this.onping.bind(this)),qs(r,"data",this.ondata.bind(this)),qs(r,"error",this.onerror.bind(this)),qs(r,"close",this.onclose.bind(this)),qs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){zx(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new a4(this,r,t),this.nsps[r]=n),n}_destroy(r){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let n=0;n<t.length;n++)this.engine.write(t[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Sd={};function Gh(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};const t=G9(e,r.path||"/socket.io"),n=t.source,i=t.id,l=t.path,c=Sd[i]&&l in Sd[i].nsps,f=r.forceNew||r["force new connection"]||r.multiplex===!1||c;let h;return f?h=new Uy(n,r):(Sd[i]||(Sd[i]=new Uy(n,r)),h=Sd[i]),t.query&&!r.query&&(r.query=t.queryKey),h.socket(t.path,r)}Object.assign(Gh,{Manager:Uy,Socket:a4,io:Gh,connect:Gh});class n8{constructor(r,t,n,i){Nl(this,"socket_port"),Nl(this,"host"),Nl(this,"port"),Nl(this,"protocol"),Nl(this,"url"),Nl(this,"site_name"),Nl(this,"socket");var l,c,f,h;if(this.socket_port=n!=null?n:"9000",this.host=(l=window.location)==null?void 0:l.hostname,this.port=(c=window.location)!=null&&c.port?`:${this.socket_port}`:"",this.protocol=((f=window.location)==null?void 0:f.protocol)==="https:"?"https":"http",r){let d=new URL(r);d.port="",n?(d.port=n,this.url=d.toString()):this.url=d.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;t&&(this.url=`${this.url}${t}`),this.site_name=t,this.socket=Gh(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:i&&i.useToken===!0?{Authorization:`${i.type} ${(h=i.token)==null?void 0:h.call(i)}`}:{}})}}const s8=E.createContext(null),i8=({url:e="",tokenParams:r,socketPort:t,swrConfig:n,siteName:i,enableSocket:l=!0,children:c,customHeaders:f})=>{const h=E.useMemo(()=>{const d=new UC.FrappeApp(e,r,void 0,f);return{url:e,tokenParams:r,app:d,auth:d.auth(),db:d.db(),call:d.call(),file:d.file(),socket:l?new n8(e,i,t,r).socket:void 0,enableSocket:l,socketPort:t}},[e,r,t,l,f]);return a.jsx(s8.Provider,{value:h,children:a.jsx(m9,{value:n,children:c})})};function o8(){const[e,r]=E.useState([]),[t,n]=E.useState(!0),[i,l]=E.useState(null);return E.useEffect(()=>{Ne(null,null,function*(){try{n(!0);const f=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_profiles_for_user",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=yield f.json();if(f.ok&&h.message)r(h.message);else throw new Error(h._server_messages||"Failed to fetch POS Profiles")}catch(f){console.error("Error loading POS Profiles:",f),l(f instanceof Error?f.message:"Unknown error")}finally{n(!1)}})},[]),{profiles:e,loading:t,error:i}}function un(){const[e,r]=E.useState(null),[t,n]=E.useState(!0),[i,l]=E.useState(null);return E.useEffect(()=>{Ne(null,null,function*(){try{n(!0);const f=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=yield f.json();if(f.ok&&h.message)r(h.message);else throw new Error(h._server_messages||"Failed to fetch POS details")}catch(f){console.error("Error loading POS details:",f),l(f instanceof Error?f.message:"Unknown error")}finally{n(!1)}})},[]),{posDetails:e,loading:t,error:i}}const n4=E.createContext(void 0);function l8({children:e}){const[r,t]=E.useState("light"),[n,i]=E.useState(!1);E.useEffect(()=>{i(!0)},[]),E.useEffect(()=>{if(!n)return;const c=localStorage.getItem("theme");c?t(c):window.matchMedia("(prefers-color-scheme: dark)").matches&&t("dark")},[n]),E.useEffect(()=>{n&&(localStorage.setItem("theme",r),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[r,n]);const l=()=>{t(r==="light"?"dark":"light")};return a.jsx(n4.Provider,{value:{theme:r,setTheme:t,toggleTheme:l},children:e})}function wm(){const e=E.useContext(n4);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,t,n)=>n?n.toUpperCase():t.toLowerCase()),aw=e=>{const r=u8(e);return r.charAt(0).toUpperCase()+r.slice(1)},s4=(...e)=>e.filter((r,t,n)=>!!r&&r.trim()!==""&&n.indexOf(r)===t).join(" ").trim(),d8=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=E.forwardRef((d,h)=>{var m=d,{color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c}=m,f=mr(m,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return E.createElement("svg",Y(Y(je(Y({ref:h},f8),{width:r,height:r,stroke:e,strokeWidth:n?Number(t)*24/Number(r):t,className:s4("lucide",i)}),!l&&!d8(f)&&{"aria-hidden":"true"}),f),[...c.map(([x,p])=>E.createElement(x,p)),...Array.isArray(l)?l:[l]])});/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(e,r)=>{const t=E.forwardRef((c,l)=>{var f=c,{className:n}=f,i=mr(f,["className"]);return E.createElement(h8,Y({ref:l,iconNode:r,className:s4(`lucide-${c8(aw(e))}`,`lucide-${e}`,n)},i))});return t.displayName=aw(e),t};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nw=jt("activity",m8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ys=jt("arrow-left",g8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],i4=jt("banknote",p8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Fy=jt("barcode",y8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],v8=jt("box",x8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Id=jt("building",b8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sw=jt("calculator",w8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jm=jt("calendar",j8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gx=jt("camera",N8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wc=jt("chart-column",_8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],iw=jt("chart-pie",k8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zc=jt("check",S8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],By=jt("chevron-down",C8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$8=jt("chevron-right",E8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vo=jt("circle-alert",O8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ko=jt("circle-check-big",T8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R8=jt("circle-check",A8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Kc=jt("circle-x",P8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],du=jt("clock",M8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gs=jt("credit-card",D8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ll=jt("dollar-sign",I8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zy=jt("download",L8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ul=jt("eye",U8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]],rm=jt("file-minus",F8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],z8=jt("file-plus",B8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fl=jt("file-text",q8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]],G8=jt("flashlight",H8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qy=jt("funnel",V8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],o4=jt("gift",K8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hy=jt("globe",W8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],y0=jt("grid-3x3",Y8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],am=jt("image-plus",X8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Z8=jt("info",Q8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Vx=jt("list",J8);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bn=jt("loader-circle",eE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nm=jt("log-out",tE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],Gy=jt("mail-plus",rE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bl=jt("mail",aE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Bd=jt("map-pin",nE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Vy=jt("message-circle-plus",sE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Ky=jt("message-square-plus",iE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M5 12h14",key:"1ays0h"}]],_m=jt("minus",oE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],Ld=jt("monitor-x",lE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],km=jt("moon",cE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],mi=jt("package",uE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],fE=jt("palette",dE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mE=jt("pen",hE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ow=jt("pencil",gE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],yE=jt("percent",pE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zd=jt("phone",xE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wi=jt("plus",vE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Wo=jt("printer",bE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],l4=jt("receipt",wE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yo=jt("refresh-cw",jE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zl=jt("rotate-ccw",NE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kx=jt("save",_E);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],c4=jt("scan",kE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qa=jt("search",SE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x0=jt("settings",CE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],qd=jt("shopping-cart",EE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],OE=jt("smartphone",$E);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],AE=jt("sparkles",TE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ql=jt("square-pen",RE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Wx=jt("store",PE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sm=jt("sun",ME);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],IE=jt("tag",DE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],u4=jt("trash-2",LE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],lw=jt("trending-down",UE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qi=jt("trending-up",FE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hd=jt("triangle-alert",BE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]],qE=jt("usb",zE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cw=jt("user-plus",HE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jn=jt("user",GE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ho=jt("users",VE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],WE=jt("wallet",KE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],XE=jt("wifi-off",YE);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ha=jt("x",QE),uw=e=>{let r;const t=new Set,n=(d,m)=>{const x=typeof d=="function"?d(r):d;if(!Object.is(x,r)){const p=r;r=(m!=null?m:typeof x!="object"||x===null)?x:Object.assign({},r,x),t.forEach(b=>b(r,p))}},i=()=>r,f={setState:n,getState:i,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d))},h=r=e(n,i,f);return f},ZE=e=>e?uw(e):uw,JE=e=>e;function e$(e,r=JE){const t=vt.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState()));return vt.useDebugValue(t),t}const t$=e=>{const r=ZE(e),t=n=>e$(r,n);return Object.assign(t,r),t},r$=e=>t$;function a$(e,r){let t;try{t=e()}catch(i){return}return{getItem:i=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),f=(l=t.getItem(i))!=null?l:null;return f instanceof Promise?f.then(c):c(f)},setItem:(i,l)=>t.setItem(i,JSON.stringify(l,void 0)),removeItem:i=>t.removeItem(i)}}const Wy=e=>r=>{try{const t=e(r);return t instanceof Promise?t:{then(n){return Wy(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return Wy(n)(t)}}}},n$=(e,r)=>(t,n,i)=>{let l=Y({storage:a$(()=>localStorage),partialize:k=>k,version:0,merge:(k,T)=>Y(Y({},T),k)},r),c=!1;const f=new Set,h=new Set;let d=l.storage;if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...k)},n,i);const m=()=>{const k=l.partialize(Y({},n()));return d.setItem(l.name,{state:k,version:l.version})},x=i.setState;i.setState=(k,T)=>{x(k,T),m()};const p=e((...k)=>{t(...k),m()},n,i);i.getInitialState=()=>p;let b;const S=()=>{var k,T;if(!d)return;c=!1,f.forEach(M=>{var H;return M((H=n())!=null?H:p)});const A=((T=l.onRehydrateStorage)==null?void 0:T.call(l,(k=n())!=null?k:p))||void 0;return Wy(d.getItem.bind(d))(l.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==l.version){if(l.migrate){const H=l.migrate(M.state,M.version);return H instanceof Promise?H.then(D=>[!0,D]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var H;const[D,G]=M;if(b=l.merge(G,(H=n())!=null?H:p),t(b,!0),D)return m()}).then(()=>{A==null||A(b,void 0),b=n(),c=!0,h.forEach(M=>M(b))}).catch(M=>{A==null||A(void 0,M)})};return i.persist={setOptions:k=>{l=Y(Y({},l),k),k.storage&&(d=k.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},l.skipHydration||S(),b||p},s$=n$;function d4(e){var r,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(t=d4(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Ml(){for(var e,r,t=0,n="",i=arguments.length;t<i;t++)(e=arguments[t])&&(r=d4(e))&&(n&&(n+=" "),n+=r);return n}function i$(e){if(typeof document=="undefined")return;let r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}i$(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var v0=e=>typeof e=="number"&&!isNaN(e),Hl=e=>typeof e=="string",Yi=e=>typeof e=="function",o$=e=>Hl(e)||v0(e),Yy=e=>Hl(e)||Yi(e)?e:null,l$=(e,r)=>e===!1||v0(e)&&e>0?e:r,Xy=e=>E.isValidElement(e)||Hl(e)||Yi(e)||v0(e);function c$(e,r,t=300){let{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(r,t)})})}function u$({enter:e,exit:r,appendPosition:t=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:l,position:c,preventExitTransition:f,done:h,nodeRef:d,isIn:m,playToast:x}){let p=t?`${e}--${c}`:e,b=t?`${r}--${c}`:r,S=E.useRef(0);return E.useLayoutEffect(()=>{let k=d.current,T=p.split(" "),A=M=>{M.target===d.current&&(x(),k.removeEventListener("animationend",A),k.removeEventListener("animationcancel",A),S.current===0&&M.type!=="animationcancel"&&k.classList.remove(...T))};k.classList.add(...T),k.addEventListener("animationend",A),k.addEventListener("animationcancel",A)},[]),E.useEffect(()=>{let k=d.current,T=()=>{k.removeEventListener("animationend",T),n?c$(k,h,i):h()};m||(f?T():(S.current=1,k.className+=` ${b}`,k.addEventListener("animationend",T)))},[m]),vt.createElement(vt.Fragment,null,l)}}function dw(e,r){return{content:f4(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:r}}function f4(e,r,t=!1){return E.isValidElement(e)&&!Hl(e.type)?E.cloneElement(e,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:t}):Yi(e)?e({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:t}):e}function d$({closeToast:e,theme:r,ariaLabel:t="close"}){return vt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":t},vt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},vt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function f$({delay:e,isRunning:r,closeToast:t,type:n="default",hide:i,className:l,controlledProgress:c,progress:f,rtl:h,isIn:d,theme:m}){let x=i||c&&f===0,p={animationDuration:`${e}ms`,animationPlayState:r?"running":"paused"};c&&(p.transform=`scaleX(${f})`);let b=Ml("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":h}),S=Yi(l)?l({rtl:h,type:n,defaultClassName:b}):Ml(b,l),k={[c&&f>=1?"onTransitionEnd":"onAnimationEnd"]:c&&f<1?null:()=>{d&&t()}};return vt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},vt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${n}`}),vt.createElement("div",Y({role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:S,style:p},k)))}var h$=1,h4=()=>`${h$++}`;function m$(e,r,t){let n=1,i=0,l=[],c=[],f=r,h=new Map,d=new Set,m=M=>(d.add(M),()=>d.delete(M)),x=()=>{c=Array.from(h.values()),d.forEach(M=>M())},p=({containerId:M,toastId:H,updateId:D})=>{let G=M?M!==e:e!==1,V=h.has(H)&&D==null;return G||V},b=(M,H)=>{h.forEach(D=>{var G;(H==null||H===D.props.toastId)&&((G=D.toggle)==null||G.call(D,M))})},S=M=>{var H,D;(D=(H=M.props)==null?void 0:H.onClose)==null||D.call(H,M.removalReason),M.isActive=!1},k=M=>{if(M==null)h.forEach(S);else{let H=h.get(M);H&&S(H)}x()},T=()=>{i-=l.length,l=[]},A=M=>{var H,D;let{toastId:G,updateId:V}=M.props,se=V==null;M.staleId&&h.delete(M.staleId),M.isActive=!0,h.set(G,M),x(),t(dw(M,se?"added":"updated")),se&&((D=(H=M.props).onOpen)==null||D.call(H))};return{id:e,props:f,observe:m,toggle:b,removeToast:k,toasts:h,clearQueue:T,buildToast:(M,H)=>{if(p(H))return;let{toastId:D,updateId:G,data:V,staleId:se,delay:oe}=H,q=G==null;q&&i++;let ie=je(Y(je(Y({},f),{style:f.toastStyle,key:n++}),Object.fromEntries(Object.entries(H).filter(([ae,J])=>J!=null))),{toastId:D,updateId:G,data:V,isIn:!1,className:Yy(H.className||f.toastClassName),progressClassName:Yy(H.progressClassName||f.progressClassName),autoClose:H.isLoading?!1:l$(H.autoClose,f.autoClose),closeToast(ae){h.get(D).removalReason=ae,k(D)},deleteToast(){let ae=h.get(D);if(ae!=null){if(t(dw(ae,"removed")),h.delete(D),i--,i<0&&(i=0),l.length>0){A(l.shift());return}x()}}});ie.closeButton=f.closeButton,H.closeButton===!1||Xy(H.closeButton)?ie.closeButton=H.closeButton:H.closeButton===!0&&(ie.closeButton=Xy(f.closeButton)?f.closeButton:!0);let ee={content:M,props:ie,staleId:se};f.limit&&f.limit>0&&i>f.limit&&q?l.push(ee):v0(oe)?setTimeout(()=>{A(ee)},oe):A(ee)},setProps(M){f=M},setToggle:(M,H)=>{let D=h.get(M);D&&(D.toggle=H)},isToastActive:M=>{var H;return(H=h.get(M))==null?void 0:H.isActive},getSnapshot:()=>c}}var jn=new Map,Gd=[],Qy=new Set,g$=e=>Qy.forEach(r=>r(e)),m4=()=>jn.size>0;function p$(){Gd.forEach(e=>p4(e.content,e.options)),Gd=[]}var y$=(e,{containerId:r})=>{var t;return(t=jn.get(r||1))==null?void 0:t.toasts.get(e)};function g4(e,r){var t;if(r)return!!((t=jn.get(r))!=null&&t.isToastActive(e));let n=!1;return jn.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function x$(e){if(!m4()){Gd=Gd.filter(r=>e!=null&&r.options.toastId!==e);return}if(e==null||o$(e))jn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let r=jn.get(e.containerId);r?r.removeToast(e.id):jn.forEach(t=>{t.removeToast(e.id)})}}var v$=(e={})=>{jn.forEach(r=>{r.props.limit&&(!e.containerId||r.id===e.containerId)&&r.clearQueue()})};function p4(e,r){Xy(e)&&(m4()||Gd.push({content:e,options:r}),jn.forEach(t=>{t.buildToast(e,r)}))}function b$(e){var r;(r=jn.get(e.containerId||1))==null||r.setToggle(e.id,e.fn)}function y4(e,r){jn.forEach(t=>{(r==null||!(r!=null&&r.containerId)||(r==null?void 0:r.containerId)===t.id)&&t.toggle(e,r==null?void 0:r.id)})}function w$(e){let r=e.containerId||1;return{subscribe(t){let n=m$(r,e,g$);jn.set(r,n);let i=n.observe(t);return p$(),()=>{i(),jn.delete(r)}},setProps(t){var n;(n=jn.get(r))==null||n.setProps(t)},getSnapshot(){var t;return(t=jn.get(r))==null?void 0:t.getSnapshot()}}}function j$(e){return Qy.add(e),()=>{Qy.delete(e)}}function N$(e){return e&&(Hl(e.toastId)||v0(e.toastId))?e.toastId:h4()}function b0(e,r){return p4(e,r),r.toastId}function Cm(e,r){return je(Y({},r),{type:r&&r.type||e,toastId:N$(r)})}function Em(e){return(r,t)=>b0(r,Cm(e,t))}function Ve(e,r){return b0(e,Cm("default",r))}Ve.loading=(e,r)=>b0(e,Cm("default",Y({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},r)));function _$(e,{pending:r,error:t,success:n},i){let l;r&&(l=Hl(r)?Ve.loading(r,i):Ve.loading(r.render,Y(Y({},i),r)));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(d,m,x)=>{if(m==null){Ve.dismiss(l);return}let p=je(Y(Y({type:d},c),i),{data:x}),b=Hl(m)?{render:m}:m;return l?Ve.update(l,Y(Y({},p),b)):Ve(b.render,Y(Y({},p),b)),x},h=Yi(e)?e():e;return h.then(d=>f("success",n,d)).catch(d=>f("error",t,d)),h}Ve.promise=_$;Ve.success=Em("success");Ve.info=Em("info");Ve.error=Em("error");Ve.warning=Em("warning");Ve.warn=Ve.warning;Ve.dark=(e,r)=>b0(e,Cm("default",Y({theme:"dark"},r)));function k$(e){x$(e)}Ve.dismiss=k$;Ve.clearWaitingQueue=v$;Ve.isActive=g4;Ve.update=(e,r={})=>{let t=y$(e,r);if(t){let{props:n,content:i}=t,l=je(Y(Y({delay:100},n),r),{toastId:r.toastId||e,updateId:h4()});l.toastId!==e&&(l.staleId=e);let c=l.render||i;delete l.render,b0(c,l)}};Ve.done=e=>{Ve.update(e,{progress:1})};Ve.onChange=j$;Ve.play=e=>y4(!0,e);Ve.pause=e=>y4(!1,e);function S$(e){var r;let{subscribe:t,getSnapshot:n,setProps:i}=E.useRef(w$(e)).current;i(e);let l=(r=E.useSyncExternalStore(t,n,n))==null?void 0:r.slice();function c(f){if(!l)return[];let h=new Map;return e.newestOnTop&&l.reverse(),l.forEach(d=>{let{position:m}=d.props;h.has(m)||h.set(m,[]),h.get(m).push(d)}),Array.from(h,d=>f(d[0],d[1]))}return{getToastToRender:c,isToastActive:g4,count:l==null?void 0:l.length}}function C$(e){let[r,t]=E.useState(!1),[n,i]=E.useState(!1),l=E.useRef(null),c=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:d,onClick:m,closeOnClick:x}=e;b$({id:e.toastId,containerId:e.containerId,fn:t}),E.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{b()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||A(),window.addEventListener("focus",T),window.addEventListener("blur",A)}function b(){window.removeEventListener("focus",T),window.removeEventListener("blur",A)}function S(se){if(e.draggable===!0||e.draggable===se.pointerType){M();let oe=l.current;c.canCloseOnClick=!0,c.canDrag=!0,oe.style.transition="none",e.draggableDirection==="x"?(c.start=se.clientX,c.removalDistance=oe.offsetWidth*(e.draggablePercent/100)):(c.start=se.clientY,c.removalDistance=oe.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function k(se){let{top:oe,bottom:q,left:ie,right:ee}=l.current.getBoundingClientRect();se.nativeEvent.type!=="touchend"&&e.pauseOnHover&&se.clientX>=ie&&se.clientX<=ee&&se.clientY>=oe&&se.clientY<=q?A():T()}function T(){t(!0)}function A(){t(!1)}function M(){c.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",G)}function H(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",G)}function D(se){let oe=l.current;if(c.canDrag&&oe){c.didMove=!0,r&&A(),e.draggableDirection==="x"?c.delta=se.clientX-c.start:c.delta=se.clientY-c.start,c.start!==se.clientX&&(c.canCloseOnClick=!1);let q=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;oe.style.transform=`translate3d(${q},0)`,oe.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function G(){H();let se=l.current;if(c.canDrag&&c.didMove&&se){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}se.style.transition="transform 0.2s, opacity 0.2s",se.style.removeProperty("transform"),se.style.removeProperty("opacity")}}let V={onPointerDown:S,onPointerUp:k};return f&&h&&(V.onMouseEnter=A,e.stacked||(V.onMouseLeave=T)),x&&(V.onClick=se=>{m&&m(se),c.canCloseOnClick&&d(!0)}),{playToast:T,pauseToast:A,isRunning:r,preventExitTransition:n,toastRef:l,eventHandlers:V}}var E$=typeof window!="undefined"?E.useLayoutEffect:E.useEffect,$m=i=>{var l=i,{theme:e,type:r,isLoading:t}=l,n=mr(l,["theme","type","isLoading"]);return vt.createElement("svg",Y({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`},n))};function $$(e){return vt.createElement($m,Y({},e),vt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function O$(e){return vt.createElement($m,Y({},e),vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function T$(e){return vt.createElement($m,Y({},e),vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function A$(e){return vt.createElement($m,Y({},e),vt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function R$(){return vt.createElement("div",{className:"Toastify__spinner"})}var Zy={info:O$,warning:$$,success:T$,error:A$,spinner:R$},P$=e=>e in Zy;function M$({theme:e,type:r,isLoading:t,icon:n}){let i=null,l={theme:e,type:r};return n===!1||(Yi(n)?i=n(je(Y({},l),{isLoading:t})):E.isValidElement(n)?i=E.cloneElement(n,l):t?i=Zy.spinner():P$(r)&&(i=Zy[r](l))),i}var D$=e=>{let{isRunning:r,preventExitTransition:t,toastRef:n,eventHandlers:i,playToast:l}=C$(e),{closeButton:c,children:f,autoClose:h,onClick:d,type:m,hideProgressBar:x,closeToast:p,transition:b,position:S,className:k,style:T,progressClassName:A,updateId:M,role:H,progress:D,rtl:G,toastId:V,deleteToast:se,isIn:oe,isLoading:q,closeOnClick:ie,theme:ee,ariaLabel:ae}=e,J=Ml("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":G},{"Toastify__toast--close-on-click":ie}),le=Yi(k)?k({rtl:G,position:S,type:m,defaultClassName:J}):Ml(J,k),pe=M$(e),ue=!!D||!h,ne={closeToast:p,type:m,theme:ee},he=null;return c===!1||(Yi(c)?he=c(ne):E.isValidElement(c)?he=E.cloneElement(c,ne):he=d$(ne)),vt.createElement(b,{isIn:oe,done:se,position:S,preventExitTransition:t,nodeRef:n,playToast:l},vt.createElement("div",Y(je(Y({id:V,tabIndex:0,onClick:d,"data-in":oe,className:le},i),{style:T,ref:n}),oe&&{role:H,"aria-label":ae}),pe!=null&&vt.createElement("div",{className:Ml("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!q})},pe),f4(f,e,!r),he,!e.customProgressBar&&vt.createElement(f$,je(Y({},M&&!ue?{key:`p-${M}`}:{}),{rtl:G,theme:ee,delay:h,isRunning:r,isIn:oe,closeToast:p,hide:x,type:m,className:A,controlledProgress:ue,progress:D||0}))))},I$=(e,r=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:r}),L$=u$(I$("bounce",!0)),U$={position:"top-right",transition:L$,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function F$(e){let r=Y(Y({},U$),e),t=e.stacked,[n,i]=E.useState(!0),l=E.useRef(null),{getToastToRender:c,isToastActive:f,count:h}=S$(r),{className:d,style:m,rtl:x,containerId:p,hotKeys:b}=r;function S(T){let A=Ml("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":x});return Yi(d)?d({position:T,rtl:x,defaultClassName:A}):Ml(A,Yy(d))}function k(){t&&(i(!0),Ve.play())}return E$(()=>{var T;if(t){let A=l.current.querySelectorAll('[data-in="true"]'),M=12,H=(T=r.position)==null?void 0:T.includes("top"),D=0,G=0;Array.from(A).reverse().forEach((V,se)=>{let oe=V;oe.classList.add("Toastify__toast--stacked"),se>0&&(oe.dataset.collapsed=`${n}`),oe.dataset.pos||(oe.dataset.pos=H?"top":"bot");let q=D*(n?.2:1)+(n?0:M*se);oe.style.setProperty("--y",`${H?q:q*-1}px`),oe.style.setProperty("--g",`${M}`),oe.style.setProperty("--s",`${1-(n?G:0)}`),D+=oe.offsetHeight,G+=.025})}},[n,h,t]),E.useEffect(()=>{function T(A){var M;let H=l.current;b(A)&&((M=H.querySelector('[tabIndex="0"]'))==null||M.focus(),i(!1),Ve.pause()),A.key==="Escape"&&(document.activeElement===H||H!=null&&H.contains(document.activeElement))&&(i(!0),Ve.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[b]),vt.createElement("section",{ref:l,className:"Toastify",id:p,onMouseEnter:()=>{t&&(i(!1),Ve.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},c((T,A)=>{let M=A.length?Y({},m):je(Y({},m),{pointerEvents:"none"});return vt.createElement("div",{tabIndex:-1,className:S(T),"data-stacked":t,style:M,key:`c-${T}`},A.map(({content:H,props:D})=>vt.createElement(D$,je(Y({},D),{stacked:t,collapseAll:k,isIn:f(D.toastId,D.containerId),key:`t-${D.key}`}),H)))}))}const Om="draft-invoice-cache",x4=5*60*1e3;function B$(e,r,t){const n={items:r,timestamp:Date.now(),invoiceId:e,customer:t,originalDraftInvoiceId:e};console.log("cacheDraftInvoiceItems - storing cache:",n),localStorage.setItem(Om,JSON.stringify(n))}function v4(){try{const e=localStorage.getItem(Om);if(!e)return null;const r=JSON.parse(e);return Date.now()-r.timestamp>x4?(fu(),null):r}catch(e){return console.error("Error retrieving cached draft invoice items:",e),fu(),null}}function fu(){localStorage.removeItem(Om)}function z$(){return Ne(this,null,function*(){const e=v4();if(!e||e.items.length===0)return!1;const{setSelectedCustomer:r,addToCartWithQuantity:t}=Yl.getState();e.customer&&r(e.customer);for(const n of e.items){const i={id:n.id,name:n.name,category:n.category,price:n.price,image:n.image,available:n.available,uom:n.uom,item_code:n.id};yield t(i,n.quantity)}return!0})}function q$(){const e=localStorage.getItem(Om);if(!e)return!1;try{const r=JSON.parse(e);return Date.now()-r.timestamp<=x4}catch(r){return console.error("Error checking cache validity:",r),!1}}function H$(){const e=v4();return(e==null?void 0:e.originalDraftInvoiceId)||null}function Jy(e,r,t){return Ne(this,null,function*(){try{const n=r?`&customer=${r}`:"",i=t?`&uom=${encodeURIComponent(t)}`:"",l=yield fetch(`/api/method/klik_pos.api.item.get_item_price_for_customer?item_code=${e}${n}${i}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const c=yield l.json();return c.message||c}catch(n){return console.error("Error fetching item price for customer:",n),{success:!1,price:0,currency:"SAR",currency_symbol:"SAR",error:n instanceof Error?n.message:"Unknown error"}}})}function G$(e,r){return Ne(this,null,function*(){const t={},n=e.map(i=>Ne(null,null,function*(){const l=i.item_code||i.id,c=yield Jy(l,r,i.uom);t[i.id]=c}));return yield Promise.all(n),t})}function fw(e,r){return Ne(this,null,function*(){try{const t=r?`&customer=${r}`:"",n=yield fetch(`/api/method/klik_pos.api.item.apply_pricing_rules_to_cart?cart_items=${encodeURIComponent(JSON.stringify(e))}${t}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return(yield n.json()).message||e}catch(t){return console.error("Error applying pricing rules to cart:",t),e}})}const Yl=r$()(s$((e,r)=>({cartItems:[],appliedCoupons:[],selectedCustomer:null,addToCart:t=>Ne(null,null,function*(){const n=r(),i=n.cartItems.find(l=>l.id===t.id);if(t.available!==void 0&&t.available<=0){Ve.error(`${t.name} is out of stock`);return}if(i){if(t.available!==void 0&&i.quantity>=t.available){Ve.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}e(l=>({cartItems:l.cartItems.map(c=>c.id===t.id?je(Y({},c),{quantity:c.quantity+1}):c)}))}else{let l=t.price;if(n.selectedCustomer)try{const h=yield Jy(t.id,n.selectedCustomer.id,t.uom);h.success&&(l=h.price)}catch(h){console.error(" Error fetching price for customer:",h)}const c=[...n.cartItems,je(Y({},t),{price:l,quantity:1})];e(h=>({cartItems:c}));const f=r();f.cartItems.length>0&&(yield f.applyPricingRules())}}),addToCartWithQuantity:(t,n)=>Ne(null,null,function*(){const i=r(),l=i.cartItems.find(c=>c.id===t.id);if(t.available!==void 0&&t.available<n){Ve.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}if(l){if(t.available!==void 0&&l.quantity+n>t.available){Ve.error(`Only ${t.available} ${t.uom||"units"} of ${t.name} available`);return}e(c=>({cartItems:c.cartItems.map(f=>f.id===t.id?je(Y({},f),{quantity:f.quantity+n}):f)}))}else{let c=t.price;if(i.selectedCustomer)try{const d=yield Jy(t.id,i.selectedCustomer.id,t.uom);d.success&&(c=d.price)}catch(d){console.error(" Error fetching price for customer:",d)}const f=[...i.cartItems,je(Y({},t),{price:c,quantity:n})];e(d=>({cartItems:f}));const h=r();h.cartItems.length>0&&(yield h.applyPricingRules())}}),updateQuantity:(t,n)=>Ne(null,null,function*(){const i=r();if(n<=0){e({cartItems:i.cartItems.filter(h=>h.id!==t)});const f=r();f.cartItems.length>0&&(yield f.applyPricingRules());return}const l=i.cartItems.find(f=>f.id===t);if(l&&l.available!==void 0&&n>l.available){Ve.error(`Only ${l.available} ${l.uom||"units"} of ${l.name} available`);return}e({cartItems:i.cartItems.map(f=>f.id===t?je(Y({},f),{quantity:n}):f)});const c=r();c.cartItems.length>0&&(yield c.applyPricingRules())}),updateUOM:(t,n,i)=>Ne(null,null,function*(){console.log(` Cart Store: Updating UOM for item ${t} to ${n} with price ${i}`),e(c=>{const f=c.cartItems.map(h=>h.id===t?(console.log(` Cart Store: Item ${t} updated:`,{before:{uom:h.uom,price:h.price},after:{uom:n,price:i}}),je(Y({},h),{uom:n,price:i})):h);return console.log(" Cart Store: All items after update:",f),{cartItems:f}});const l=r();if(l.cartItems.length>0){console.log(" Cart Store: Applying pricing rules after UOM update"),yield l.applyPricingRules();const f=r().cartItems.find(h=>h.id===t);console.log(` Cart Store: Item ${t} after pricing rules:`,{uom:f==null?void 0:f.uom,price:f==null?void 0:f.price})}}),removeItem:t=>e(n=>({cartItems:n.cartItems.filter(i=>i.id!==t)})),clearCart:()=>{fu(),e(()=>({cartItems:[],appliedCoupons:[],selectedCustomer:null}))},applyCoupon:t=>e(n=>n.appliedCoupons.some(i=>i.code===t.code)?n:{appliedCoupons:[...n.appliedCoupons,t]}),removeCoupon:t=>e(n=>({appliedCoupons:n.appliedCoupons.filter(i=>i.code!==t)})),setSelectedCustomer:t=>Ne(null,null,function*(){e(()=>({selectedCustomer:t}));const n=r();n.cartItems.length>0&&(yield n.updatePricesForCustomer(t==null?void 0:t.id))}),updatePricesForCustomer:t=>Ne(null,null,function*(){const n=r();if(n.cartItems.length!==0)try{const i=yield G$(n.cartItems,t);let l=n.cartItems.map(f=>{const h=i[f.id];if(h&&h.success&&h.price>0){const d=f.price||0,m=h.price;return f.uom&&d>0&&m<d*.5&&d>10?(console.log(`Preserving price for ${f.id}: current=${d}, new=${m}, UOM=${f.uom}`),f):je(Y({},f),{price:m})}return f});const c=yield fw(l,t);e(f=>({cartItems:f.cartItems.map(h=>{const d=c.find(m=>m.id===h.id);return d?je(Y({},h),{price:d.price,original_price:d.original_price||h.price,discount_percentage:d.discount_percentage,discount_amount:d.discount_amount,pricing_rules:d.pricing_rules,has_pricing_rule:d.has_pricing_rule}):h})}))}catch(i){console.error(" Error updating prices for customer:",i),Ve.error("Failed to update prices for customer")}}),applyPricingRules:()=>Ne(null,null,function*(){var n;const t=r();if(t.cartItems.length!==0)try{const i=(n=t.selectedCustomer)==null?void 0:n.id,l=yield fw(t.cartItems,i);e(c=>({cartItems:c.cartItems.map(f=>{const h=l.find(d=>d.id===f.id);if(h){const d=f.price||0,m=h.price||0;return!h.has_pricing_rule&&f.uom&&d>0&&m>0&&m<d*.5&&d>10?(console.log(`Preserving price in pricing rules for ${f.id}: current=${d}, new=${m}, UOM=${f.uom}`),je(Y({},f),{price:d,original_price:h.original_price||d,discount_percentage:h.discount_percentage,discount_amount:h.discount_amount,pricing_rules:h.pricing_rules,has_pricing_rule:h.has_pricing_rule})):je(Y({},f),{price:m,original_price:h.original_price||f.price,discount_percentage:h.discount_percentage,discount_amount:h.discount_amount,pricing_rules:h.pricing_rules,has_pricing_rule:h.has_pricing_rule})}return f})}))}catch(i){console.error(" Error applying pricing rules:",i)}})}),{name:"beveren-cart-storage"})),Gp={PRODUCTS:"klik_pos_products_cache",PRODUCTS_EXPIRY:"klik_pos_products_cache_expiry",DRAFT_INVOICE:"draft-invoice-cache",CART:"beveren-cart-storage"};function Yx(){try{console.log(" Clearing all application cache..."),localStorage.removeItem(Gp.PRODUCTS),localStorage.removeItem(Gp.PRODUCTS_EXPIRY),console.log(" Product cache cleared"),fu(),console.log(" Draft invoice cache cleared"),localStorage.removeItem(Gp.CART),console.log(" Cart cache cleared");const{clearCart:e}=Yl.getState();e(),console.log(" Cart state cleared");const r=["theme","language","i18n","auth-token","user-session"];Object.keys(localStorage).filter(i=>i.startsWith("klik_pos_")||i.startsWith("beveren-")||i.startsWith("draft-")||i.includes("cache")&&!r.includes(i)).forEach(i=>{localStorage.removeItem(i),console.log(` Cleared cache key: ${i}`)}),console.log(" All cache cleared successfully!")}catch(e){throw console.error(" Error clearing cache:",e),e}}function V$(){return Ne(this,null,function*(){var e,r;try{console.log(" Clearing backend cache...");const n=yield(yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"})).json();(e=n.message)!=null&&e.success?console.log(" Backend cache cleared successfully"):console.warn(" Backend cache clear failed:",((r=n.message)==null?void 0:r.error)||"Unknown error")}catch(t){console.error(" Error clearing backend cache:",t)}})}function b4(){return Ne(this,null,function*(){try{Yx(),yield V$(),console.log(" Reloading page with fresh data..."),setTimeout(()=>{window.location.reload()},100)}catch(e){console.error(" Error during cache clear and reload:",e),window.location.reload()}})}const hw={Coffee:"",Tea:"",Mocktail:"",Rice:"",Pasta:"",Burger:"",Bakery:"",Fruits:"",Vegetables:"",Dairy:"",Meat:"",Seafood:"",Snacks:"",Dessert:"","All Items":""};function K$(){const[e,r]=E.useState([]),[t,n]=E.useState(!0),[i,l]=E.useState(null),[c,f]=E.useState(0),h=()=>Ne(null,null,function*(){n(!0);try{const m=yield(yield fetch("/api/method/klik_pos.api.item.get_item_groups_for_pos")).json();if(m!=null&&m.message&&Array.isArray(m.message.groups)&&typeof m.message.total_items=="number")r(m.message.groups),f(m.message.total_items);else throw new Error("Invalid response format")}catch(d){console.error("Error fetching item groups:",d),l(d.message||"Unknown error occurred")}finally{n(!1)}});return E.useEffect(()=>{h()},[]),{itemGroups:e,isLoading:t,total_item_count:c,error:i,refetch:h,count:e.length}}function w4({selectedCategory:e,onCategoryChange:r,isMobile:t=!1}){const{itemGroups:n,isLoading:i,error:l,total_item_count:c}=K$();if(i)return a.jsx("div",{children:"Loading categories..."});if(l)return console.error(" Error fetching item groups:",l),a.jsxs("div",{className:"text-red-600",children:[a.jsx("p",{children:"Error loading categories:"}),a.jsx("pre",{className:"text-xs bg-red-100 p-2 rounded",children:l})]});if(!n||n.length===0)return a.jsx("div",{children:"No item groups found."});const f=[{id:"all",name:"All Items",icon:hw["All Items"],count:c},...n.map(h=>{var d,m;return{id:h.id,name:h.name,icon:(d=hw[h.name])!=null?d:"",count:(m=h.count)!=null?m:1}})];return a.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2 scrollbar-hide",children:f.map(h=>a.jsx("button",{onClick:()=>r(h.id),className:`flex items-center justify-center px-3 py-2 rounded-xl whitespace-nowrap transition-all duration-200 flex-shrink-0 min-w-fit ${e===h.id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 border border-beveren-200 dark:border-beveren-800 shadow-sm":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:`font-semibold ${t?"text-xs":"text-sm"}`,children:h.name}),a.jsxs("span",{className:"text-xs font-medium opacity-70",children:[h.count," Item",h.count!==1?"s":""]})]})},h.id))})}function W$({item:e,onAddToCart:r,isMobile:t=!1,scannerOnly:n=!1}){const i=e.available<=0,l=i||n,c=`${e.currency_symbol}${e.price.toFixed(2)}`;return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-200 ${l?"opacity-70 cursor-not-allowed":"hover:shadow-lg hover:scale-105 cursor-pointer active:scale-95"} ${t?"touch-manipulation":""}`,onClick:()=>!l&&r(e),children:[a.jsxs("div",{className:"relative",children:[e.image?a.jsx("img",{src:e.image,alt:e.name,className:`w-full object-cover ${t?"h-24":"h-32"}`,crossOrigin:"anonymous"}):a.jsx("div",{className:`w-full ${t?"h-24":"h-32"} bg-gray-100 dark:bg-gray-700 flex items-center justify-center`,children:a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No Image"})}),e.discount&&a.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-1.5 py-0.5 rounded-md text-xs font-bold",children:["-",e.discount,"%"]}),!i&&a.jsx("div",{className:"absolute top-2 right-2 bg-slate-600 text-white px-1.5 py-0.5 rounded-md text-xs font-medium",children:e.available}),i&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xs",children:"Out of Stock"})}),n&&!i&&a.jsx("div",{className:"absolute inset-0  flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-md shadow-sm border border-blue-200 dark:border-blue-700",children:"Scan Only"})})]}),a.jsxs("div",{className:`${t?"p-2 h-12":"p-3 h-16"} flex flex-col justify-between`,children:[a.jsx("div",{children:a.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white truncate ${t?"text-xs":"text-sm"}`,children:e.name})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize text-xs",children:e.category}),a.jsx("span",{className:`font-bold text-beveren-600 dark:text-beveren-400 ${t?"text-xs":"text-sm"}`,children:c})]})]})]})}function Y$({items:e,onAddToCart:r,isMobile:t=!1,scannerOnly:n=!1}){return e.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):a.jsx("div",{className:`${t?"p-4":"p-2"} bg-gray-50 dark:bg-gray-900`,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-4 overflow-hidden",children:[a.jsxs("div",{className:`${t?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600`,children:[a.jsx("div",{className:`${t?"col-span-3":"col-span-4"}`,children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Product"})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Rate"})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Qty"})}),!t&&a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"UOM"})}),a.jsx("div",{className:`${t?"col-span-1":"col-span-2"} text-center`,children:a.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})})]}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:e.map(i=>{const l=i.available<=0,c=l||n,f=`${i.currency_symbol}${i.price.toFixed(2)}`;return a.jsxs("div",{className:`${t?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${c?"opacity-60":"cursor-pointer"}`,onClick:()=>!c&&r(i),children:[a.jsx("div",{className:`${t?"col-span-3":"col-span-4"} flex items-start`,children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${t?"text-xs leading-tight":"text-sm"} ${t?"break-words":"truncate"}`,children:i.name}),a.jsx("p",{className:`text-gray-500 dark:text-gray-400 ${t?"text-xs leading-tight":"text-sm"} ${t?"break-words":"truncate"}`,children:i.category})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`font-semibold text-beveren-600 dark:text-beveren-400 ${t?"text-xs":"text-sm"}`,children:f})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:`font-medium ${t?"text-xs":"text-sm"} ${l?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:l?"0":i.available})}),!t&&a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.uom||"Nos"})}),a.jsx("div",{className:`${t?"col-span-1":"col-span-2"} flex items-center justify-center`,children:c?a.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:l?"0":"S"}):a.jsx("button",{onClick:h=>{h.stopPropagation(),r(i)},className:`bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-md transition-colors hover:bg-slate-200 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-500 ${t?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:t?"+":"Add"})})]},i.id)})})]})})}function j4({items:e,onAddToCart:r,isMobile:t=!1,scannerOnly:n=!1,viewMode:i="grid",hasMore:l=!1,isLoadingMore:c=!1,onLoadMore:f,totalCount:h=0}){const d=E.useRef(null),m=E.useCallback(x=>{x[0].isIntersecting&&l&&!c&&f&&f()},[l,c,f]);return E.useEffect(()=>{const x={root:null,rootMargin:"200px",threshold:0},p=new IntersectionObserver(m,x);return d.current&&p.observe(d.current),()=>{d.current&&p.unobserve(d.current)}},[m]),i==="list"?a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Y$,{items:e,onAddToCart:r,isMobile:t,scannerOnly:n}),f&&a.jsxs("div",{ref:d,className:"py-4 flex justify-center",children:[c&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading more items..."})]}),!c&&l&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["Showing ",e.length," of ",h," items"]}),!l&&e.length>0&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["All ",e.length," items loaded"]})]})]}):e.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):a.jsxs("div",{className:`${t?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:[a.jsx("div",{className:`grid gap-4 ${t?"grid-cols-2 sm:grid-cols-3":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}`,children:e.map(x=>a.jsx(W$,{item:x,onAddToCart:r,isMobile:t,scannerOnly:n},x.id))}),f&&a.jsxs("div",{ref:d,className:"py-6 flex justify-center",children:[c&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading more items..."})]}),!c&&l&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["Showing ",e.length," of ",h," items  Scroll for more"]}),!l&&e.length>0&&h>0&&a.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["All ",e.length," items loaded"]})]})]})}function X$({searchQuery:e,onSearchChange:r,onScanBarcode:t,onSearchKeyPress:n,isMobile:i=!1}){const[l,c]=E.useState(!1),f=()=>i?"Search menu...":"Search by product, category, item code, barcode, batch or serial...";return a.jsx("div",{className:`relative ${i?"w-full":"w-full max-w-3xl"}`,children:a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("input",{type:"text",value:e,onChange:h=>r(h.target.value),onKeyPress:n,placeholder:f(),className:`flex-1 px-4 py-3 pl-12 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 ${l?"shadow-lg":"shadow-sm"}`,onFocus:()=>c(!0),onBlur:()=>c(!1)}),a.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t&&a.jsx("button",{onClick:t,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:a.jsx(c4,{size:20})}),e&&!t&&a.jsx("button",{onClick:()=>r(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function Q$({items:e,selectedCategory:r,onCategoryChange:t,searchQuery:n,onSearchChange:i,onSearchKeyPress:l,onAddToCart:c,onScanBarcode:f,scannerOnly:h=!1,hasMore:d=!1,isLoadingMore:m=!1,onLoadMore:x,totalCount:p=0,isSearching:b=!1}){const{user:S,logout:k}=Zo(),{theme:T,toggleTheme:A}=wm(),{posDetails:M,loading:H}=un(),[D,G]=E.useState(!1),[V,se]=E.useState("grid"),oe=E.useRef(null);E.useEffect(()=>{if(!H&&M){const le=M.custom_default_view;le==="List View"?se("list"):le==="Grid View"&&se("grid")}},[M,H]),E.useEffect(()=>{function le(pe){oe.current&&!oe.current.contains(pe.target)&&G(!1)}return document.addEventListener("mousedown",le),()=>{document.removeEventListener("mousedown",le)}},[oe]);const q=()=>Ne(null,null,function*(){try{yield k(),window.location.href="/klik_pos/login"}catch(le){console.error("Logout error:",le),window.location.href="/klik_pos/login"}}),ie=le=>le.split(" ").map(pe=>pe.charAt(0).toUpperCase()).join("").substring(0,2),ee=(S==null?void 0:S.full_name)||(S==null?void 0:S.name)||"Guest User",ae=(M==null?void 0:M.name)||"POS Profile",J=ie(ee);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 max-w-md",children:[a.jsx(X$,{searchQuery:n,onSearchChange:i,onSearchKeyPress:l,onScanBarcode:f}),a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>se("grid"),className:`p-2 rounded-md transition-colors ${V==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:a.jsx(y0,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>se("list"),className:`p-2 rounded-md transition-colors ${V==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:a.jsx(Vx,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 ml-6 relative",ref:oe,children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ae}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ee})]}),a.jsx("button",{onClick:()=>G(!D),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white text-sm font-medium pointer-events-none",children:J})}),D&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-base",children:J})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:ae}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(Wx,{size:14,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:ee})]})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(p0,{to:"/settings",onClick:()=>G(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(x0,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{A(),G(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[T==="dark"?a.jsx(Sm,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}):a.jsx(km,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:T==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>Ne(null,null,function*(){yield b4(),G(!1)}),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[a.jsx(Yo,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Clear Cache"})]}),a.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:()=>{q(),G(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[a.jsx(Nm,{size:16,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"px-6",children:a.jsx(w4,{selectedCategory:r,onCategoryChange:t})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:H?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):b?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Searching..."})]})}):a.jsx(j4,{items:e,onAddToCart:c,scannerOnly:h,viewMode:V,hasMore:d,isLoadingMore:m,onLoadMore:x,totalCount:p})})]})}function Vd(e){return Math.round(e*100)}function Xx(e){return e/100}function mw(e,r){const t=Vd(e),n=Vd(r);return Xx(t-n)}function gw(e){return Math.round(e*100)/100}function Z$(e,r){const t=Vd(e),i=r.map(Vd).reduce((l,c)=>l+c,0);return Xx(Math.max(0,t-i))}function J$(e){const t=e.map(Vd).reduce((n,i)=>n+i,0);return Xx(t)}function e7(e){return e.includes("401")||e.includes("Unauthorized")?"WhatsApp service is not properly configured. Please contact your administrator to set up WhatsApp Business API credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to WhatsApp service. Please check your WhatsApp Business API permissions.":e.includes("404")||e.includes("Not Found")?"WhatsApp service not found. Please contact your administrator to verify WhatsApp Business API setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many WhatsApp messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"WhatsApp service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Template not found")||e.includes("template")?"WhatsApp message template not found. Please contact your administrator to set up message templates.":e.includes("Business account")||e.includes("business")?"WhatsApp Business account not properly configured. Please contact your administrator.":e.includes("Access token")||e.includes("token")?"WhatsApp access token expired or invalid. Please contact your administrator to refresh the token.":e.includes("Rate limit")||e.includes("rate")?"WhatsApp message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to WhatsApp service. Please check your internet connection and try again.":e.includes("timeout")?"WhatsApp service request timed out. Please try again.":"Failed to send WhatsApp message. Please try again or contact your administrator if the problem persists."}function t7(e){return e.includes("401")||e.includes("Unauthorized")?"Email service authentication failed. Please contact your administrator to check email server credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to email service. Please check email server permissions.":e.includes("404")||e.includes("Not Found")?"Email service not found. Please contact your administrator to verify email server configuration.":e.includes("500")||e.includes("Internal Server Error")?"Email service is temporarily unavailable. Please try again later.":e.includes("Invalid email")||e.includes("invalid email")?"Invalid email address format. Please enter a valid email address.":e.includes("SMTP")||e.includes("smtp")?"Email server connection failed. Please contact your administrator to check email server settings.":e.includes("Authentication failed")||e.includes("auth")?"Email authentication failed. Please contact your administrator to verify email credentials.":e.includes("Quota exceeded")||e.includes("quota")?"Email sending quota exceeded. Please contact your administrator or try again later.":e.includes("Spam")||e.includes("spam")?"Email was rejected as spam. Please try with a different message or contact your administrator.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to email service. Please check your internet connection and try again.":e.includes("timeout")?"Email service request timed out. Please try again.":"Failed to send email. Please try again or contact your administrator if the problem persists."}function r7(e){return e.includes("401")||e.includes("Unauthorized")?"SMS service is not properly configured. Please contact your administrator to set up SMS service credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to SMS service. Please check your SMS service permissions.":e.includes("404")||e.includes("Not Found")?"SMS service not found. Please contact your administrator to verify SMS service setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many SMS messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"SMS service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Insufficient balance")||e.includes("balance")?"SMS service account has insufficient balance. Please contact your administrator to add credits.":e.includes("Blocked")||e.includes("blocked")?"Phone number is blocked or invalid. Please check the phone number and try again.":e.includes("Rate limit")||e.includes("rate")?"SMS message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to SMS service. Please check your internet connection and try again.":e.includes("timeout")?"SMS service request timed out. Please try again.":"Failed to send SMS message. Please try again or contact your administrator if the problem persists."}function Vp(e,r="generic"){switch(r){case"whatsapp":return e7(e);case"email":return t7(e);case"sms":return r7(e);default:return e.includes("401")||e.includes("Unauthorized")?"Access denied. Please contact your administrator.":e.includes("403")||e.includes("Forbidden")?"Access denied. Please check your permissions.":e.includes("404")||e.includes("Not Found")?"Service not found. Please contact your administrator.":e.includes("500")||e.includes("Internal Server Error")?"Service is temporarily unavailable. Please try again later.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to the service. Please check your internet connection.":e.includes("timeout")?"Request timed out. Please try again.":"An error occurred. Please try again or contact your administrator if the problem persists."}}function N4(e){if(!e||typeof e!="string")return e;let r=e.replace(/<strong>(.*?)<\/strong>/gi,"$1").replace(/<a[^>]*>(.*?)<\/a>/gi,"$1").replace(/<[^>]*>/g,"").replace(/\s+/g," ").trim();if(r.includes("units of")&&r.includes("needed in")&&r.includes("to complete this transaction")){const t=r.match(/(\d+(?:\.\d+)?)\s+units?\s+of\s+(.+?)\s+needed\s+in\s+(.+?)\s+to\s+complete\s+this\s+transaction/i);if(t){const[,n,i,l]=t;r=`${n} units of ${i} needed in ${l} to complete this transaction.`}}return r}function Tm(e,r="Operation failed"){let t=r;if(e&&typeof e=="object"&&"_server_messages"in e){const n=e._server_messages;if(n&&typeof n=="string")try{const i=JSON.parse(n);if(Array.isArray(i)&&i.length>0){const l=i[0];if(typeof l=="string"){const c=JSON.parse(l);c&&typeof c.message=="string"&&(t=c.message)}}}catch(i){console.error("Error parsing server messages:",i);try{const l=JSON.parse(n)[0];typeof l=="string"&&(t=l)}catch(l){console.error("Fallback error parsing failed:",l),t=r}}}return N4(t)}function hu(e,r="Operation failed"){let t=r;if(e&&typeof e=="object"&&"message"in e){const n=e.message;if(typeof n=="string"&&n.includes("{"))try{const i=JSON.parse(n);i&&typeof i.message=="string"&&(t=i.message)}catch(i){t=n}else typeof n=="string"&&(t=n)}return N4(t)}function Am(e){const[r,t]=E.useState([]),[n,i]=E.useState(!1),[l,c]=E.useState(null);return E.useEffect(()=>{if(!e)return;Ne(null,null,function*(){i(!0);try{const d=yield(yield fetch(`/api/method/klik_pos.api.payment.get_payment_modes?pos_profile=${encodeURIComponent(e)}`)).json();if(!d.message.success)throw new Error(d.message.error||"Failed to fetch payment modes");const m=d.message.data||[];t(m),c(null)}catch(h){c(h.message),t([])}finally{i(!1)}})},[e]),{modes:r,isLoading:n,error:l}}function Qx(){const[e,r]=E.useState([]),[t,n]=E.useState(!1),[i,l]=E.useState(null);return E.useEffect(()=>{Ne(null,null,function*(){n(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.payment.get_opening_entry_payment_summary")).json();if(!h.message.data)throw new Error(h.message.error||"Failed to fetch payment modes");r(h.message.data||[]),l(null)}catch(f){l(f.message),r([])}finally{n(!1)}})},[]),{modes:e,isLoading:t,error:i}}function a7(){const[e,r]=E.useState([]),[t,n]=E.useState(null),[i,l]=E.useState(!1),[c,f]=E.useState(null);return E.useEffect(()=>{Ne(null,null,function*(){var d,m;l(!0);try{const p=yield(yield fetch("/api/method/klik_pos.api.tax.get_sales_tax_categories")).json();if(!((d=p.message)!=null&&d.success))throw new Error(((m=p.message)==null?void 0:m.error)||"Failed to fetch tax categories");r(p.message.data||[]),n(p.message.default||null)}catch(x){f(x.message)}finally{l(!1)}})},[]),{salesTaxCharges:e,defaultTax:t,isLoading:i,error:c}}function _4(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({data:e}),credentials:"include"}),n=yield t.json();if(!t.ok||!n.message||n.message.success===!1){const i=Tm(n,"Failed to create invoice");throw new Error(i)}return n.message})}function n7(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_and_submit_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({data:e}),credentials:"include"}),n=yield t.json();if(!t.ok||!n.message||n.message.success===!1){const i=Tm(n,"Failed to create invoice");throw new Error(i)}return n.message})}function Rm(e){return Ne(this,null,function*(){var i;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.return_sales_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_name:e}),credentials:"include"}),n=yield t.json();if(console.log("Return Invoice result:",n),!t.ok||!n.message||n.message.success===!1){const l=n._server_messages?JSON.parse(n._server_messages)[0]:((i=n.message)==null?void 0:i.message)||"Failed to return invoice";throw new Error(l)}return n.message})}function s7(e){return Ne(this,null,function*(){try{const r=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield r.json();if(!r.ok)throw new Error(t.message||"Failed to get invoice details");return{success:!0,data:t.message}}catch(r){return console.error("Error getting invoice details:",r),{success:!1,error:r.message||"Failed to get invoice details"}}})}function Zx(e){return Ne(this,null,function*(){var i;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.delete_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_id:e}),credentials:"include"}),n=yield t.json();if(!t.ok||!n.message||n.message.success===!1){const l=n._server_messages?JSON.parse(n._server_messages)[0]:((i=n.message)==null?void 0:i.error)||"Failed to delete invoice";throw new Error(l)}return n.message})}function i7(e){return Ne(this,null,function*(){var n;const r=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message){const i=Tm(t,((n=t.message)==null?void 0:n.error)||"Failed to fetch draft invoice items");throw new Error(i)}if(t.message.success&&t.message.data)return t.message.data;throw new Error(t.message.error||"Failed to fetch draft invoice items")})}function k4(e){return Ne(this,null,function*(){var i;const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.sales_invoice.submit_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_id:e}),credentials:"include"}),n=yield t.json();if(console.log("Submit draft invoice result:",n),!t.ok||!n.message||n.message.success===!1){const l=Tm(n,((i=n.message)==null?void 0:i.error)||"Failed to submit draft invoice");throw new Error(l)}return n.message})}function o7(e,r){return Ne(this,null,function*(){return(yield(yield fetch(`/api/method/frappe.www.printview.get_html_and_style?doc=${e.doctype}&name=${e.name}&print_format=${r}&no_letterhead=0`,{method:"GET",headers:{Accept:"application/json"}})).json()).message})}function l7({invoice:e}){var m;const[r,t]=E.useState(""),[n,i]=E.useState(""),[l,c]=E.useState(!0),{posDetails:f,loading:h}=un(),d=(m=f==null?void 0:f.print_format)!=null?m:"Sales Invoice";return E.useEffect(()=>{Ne(null,null,function*(){if(!(h||!f)){c(!0);try{const p=typeof e.name=="string"?e.name:"",b=je(Y({},e),{doctype:"Sales Invoice",name:p}),{html:S,style:k}=yield o7(b,d);t(S),i(k)}catch(p){console.error("Error loading print format:",p)}finally{c(!1)}}})},[e,f,h,d]),l?a.jsx("p",{children:"Loading Print Preview..."}):a.jsxs("div",{className:"print-preview-container p-4 bg-white shadow overflow-auto max-h-[90vh]",children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:n}}),a.jsx("div",{className:"print-preview-content",dangerouslySetInnerHTML:{__html:r}})]})}function Vh({invoice:e}){const r=Y({pos_profile:(typeof e.pos_profile=="string"?e.pos_profile:"")||"",name:(typeof e.name=="string"?e.name:e.id)||""},e);return a.jsx(l7,{invoice:r})}function Kh(e){if(console.log("Print function called with:",e),!e){Ve.error("No invoice data available for printing");return}const r=document.querySelector(".print-preview-container");if(!r){Ve.error("Print preview not found");return}console.log("Print element found:",r);const t=e.name||e.id||"Invoice",n=document.title;document.title=`${t}`,console.log("Setting title to:",t);const i=document.body.style.cssText,l=r.style.cssText,c=document.createElement("div");c.innerHTML=r.innerHTML,c.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 9999;
    padding: 20px;
    overflow: auto;
  `,document.body.style.cssText=`
    overflow: hidden;
  `;const f=Array.from(document.body.children);f.forEach(x=>{x!==c&&(x.style.display="none")}),document.body.appendChild(c);const h=document.createElement("style");h.textContent=`
    @media print {
      body * {
        visibility: hidden;
      }
      .print-overlay, .print-overlay * {
        visibility: visible;
      }
      .print-overlay {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
    }
    @page {
      size: A4;
      margin: 1cm;
    }
  `,c.className="print-overlay",document.head.appendChild(h),console.log("Print overlay created and added");const d=()=>{console.log("Restoring page..."),c.parentNode&&c.parentNode.removeChild(c),h.parentNode&&h.parentNode.removeChild(h),document.body.style.cssText=i,r.style.cssText=l,f.forEach(x=>{x.style.display=""}),document.title=n,console.log("Page restored successfully")},m=()=>{console.log("After print event fired"),d(),window.removeEventListener("afterprint",m)};window.addEventListener("afterprint",m),console.log("Triggering print..."),window.print(),setTimeout(()=>{console.log("Fallback timeout triggered"),d(),window.removeEventListener("afterprint",m)},2e3)}function c7(e){return Ne(this,null,function*(){const r=window.csrf_token,t=yield fetch("/api/method/klik_pos.api.email.send_invoice_email",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),n=yield t.json();if(console.log("Send email result:",n),!t.ok||!n.message||n.message.status!=="success"){const i=n._server_messages?JSON.parse(n._server_messages)[0]:"Failed to send email";throw new Error(i)}return n.message})}function u7(e){return Ne(this,null,function*(){const r=window.csrf_token;console.log("Simple WhatsApp data",e);const t=yield fetch("/api/method/klik_pos.api.whatsapp.deliver_invoice_via_whatsapp",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),n=yield t.json();if(console.log("Send Simple WhatsApp result:",n),!t.ok||!n.message||n.message.status!=="success"){const i=n._server_messages?JSON.parse(n._server_messages)[0]:"Failed to send WhatsApp message";throw new Error(i)}return n.message})}function d7(e){return Ne(this,null,function*(){const r=window.csrf_token;console.log("SMS data",e);const t=yield fetch("/api/method/klik_pos.api.sms.send_sms_message",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify(e),credentials:"include"}),n=yield t.json();if(console.log("Send SMS result:",n),!t.ok||!n.message||n.message.status!=="success"){const i=n._server_messages?JSON.parse(n._server_messages)[0]:"Failed to send SMS message";throw new Error(i)}return n.message})}function f7(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.whatsapp.get_whatsapp_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch WhatsApp templates");return t.message}catch(r){throw console.error("Error fetching WhatsApp templates:",r),r}})}function h7(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch POS profile details");return t.message.custom_whatsap_template||null}catch(r){return console.error("Error fetching default WhatsApp template:",r),null}})}function m7(e,r={}){let t=e;const n={"{{customer_name}}":r.customer_name||"there","{{invoice_total}}":r.invoice_total||"0","{{invoice_number}}":r.invoice_number||"","{{company_name}}":r.company_name||"KLiK PoS","{{date}}":r.date||new Date().toLocaleDateString()};return Object.entries(n).forEach(([i,l])=>{t=t.replace(new RegExp(i,"g"),String(l))}),t}function pw(){return`Hi {{customer_name}}!

Thank you for shopping with us at {{company_name}}!

Invoice Total: *{{invoice_total}}*

We appreciate your business!`}function g7(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.email.get_email_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch Email templates");return t.message}catch(r){throw console.error("Error fetching Email templates:",r),r}})}function p7(){return Ne(this,null,function*(){const e=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),t=yield r.json();if(!r.ok||!t.message)throw new Error("Failed to fetch POS profile details");return t.message.custom_email_template||null}catch(r){return console.error("Error fetching default Email template:",r),null}})}function y7(e,r={}){let t=e;const n={"{{customer_name}}":r.customer_name||"Customer","{{customer}}":r.customer_name||"Customer","{{first_name}}":r.first_name||"","{{last_name}}":r.last_name||"","{{address}}":r.address||"","{{customer_address}}":r.customer_address||"","{{delivery_note}}":r.delivery_note||r.invoice_number||"","{{grand_total}}":r.invoice_total||"0","{{departure_time}}":r.departure_time||"","{{estimated_arrival}}":r.estimated_arrival||"","{{driver_name}}":r.driver_name||"","{{cell_number}}":r.cell_number||"","{{vehicle}}":r.vehicle||"","{{invoice_total}}":r.invoice_total||"0","{{invoice_number}}":r.invoice_number||"","{{company_name}}":r.company_name||"KLiK PoS","{{date}}":r.date||new Date().toLocaleDateString()};return Object.entries(n).forEach(([i,l])=>{t=t.replace(new RegExp(i,"g"),String(l))}),t}function yw(){return`Dear {{customer_name}},

Thank you for your purchase. Here are your invoice details:

Invoice Total: {{invoice_total}}

Thank you for your business!

Best regards,
{{company_name}} Team`}function S4(){const[e,r]=E.useState([]),[t,n]=E.useState(!0),[i,l]=E.useState(null);return E.useEffect(()=>{Ne(null,null,function*(){var f;try{n(!0);const h=yield fetch("/api/method/klik_pos.api.delivery_personnel.get_delivery_personnel_list",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),d=yield h.json();if(h.ok&&d.message&&d.message.success)r(d.message.data||[]);else throw new Error(((f=d.message)==null?void 0:f.error)||"Failed to fetch delivery personnel")}catch(h){console.error("Error loading delivery personnel:",h),l(h instanceof Error?h.message:"Unknown error")}finally{n(!1)}})},[]),{personnel:e,loading:t,error:i}}function x7({isOpen:e,onClose:r,onSelect:t}){const{personnel:n,loading:i,error:l}=S4(),[c,f]=E.useState(""),[h,d]=E.useState(""),[m,x]=E.useState(!1);E.useEffect(()=>{e&&(f(""),d(""),x(!1))},[e]),E.useMemo(()=>{if(!c)return"";const M=n.find(H=>H.name===c);return(M==null?void 0:M.delivery_personnel)||""},[c,n]);const p=E.useMemo(()=>{if(!h.trim())return n;const M=h.toLowerCase();return n.filter(H=>H.delivery_personnel.toLowerCase().includes(M)||H.name.toLowerCase().includes(M))},[n,h]);if(!e)return null;const b=(M,H)=>{f(M),d(H),x(!1)},S=()=>{c&&(t(c),r())},k=M=>{var D;d(M),x(!0);const H=((D=n.find(G=>G.name===c))==null?void 0:D.delivery_personnel)||"";M!==H&&f("")},T=()=>{x(!0)},A=()=>{setTimeout(()=>{x(!1)},200)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 bg-opacity-50",onClick:r,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4 delivery-personnel-modal-content",onClick:M=>M.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Delivery Personnel"}),a.jsx("button",{onClick:r,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:a.jsx(Ha,{size:20})})]}),a.jsx("div",{className:"p-4",children:i?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(bn,{size:24,className:"animate-spin text-beveren-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]}):l?a.jsx("div",{className:"text-red-600 dark:text-red-400 text-center py-8",children:l}):n.length===0?a.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No delivery personnel available"}):a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:18}),a.jsx("input",{type:"text",placeholder:"Search delivery personnel...",value:h,onChange:M=>k(M.target.value),onFocus:T,onBlur:A,className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",autoFocus:!0}),a.jsx(By,{className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 transition-transform ${m?"rotate-180":""}`,size:18})]}),m&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-64 overflow-hidden",children:a.jsx("div",{className:"max-h-64 overflow-y-auto",children:p.length>0?p.map(M=>a.jsx("button",{type:"button",onClick:()=>b(M.name,M.delivery_personnel),className:`w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${c===M.name?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:a.jsx("div",{className:"font-medium",children:M.delivery_personnel})},M.name)):a.jsx("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-center",children:"No matches found"})})})]})}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:!c||i,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Confirm"})]})]})})}const v7=e=>{const r=e.toLowerCase();return r.includes("cash")?{icon:a.jsx(i4,{size:24}),color:"bg-beveren-600"}:r.includes("card")||r.includes("credit")||r.includes("debit")||r.includes("bank")?{icon:a.jsx(gs,{size:24}),color:"bg-beveren-600"}:r.includes("phone")||r.includes("mpesa")?{icon:a.jsx(OE,{size:24}),color:"bg-beveren--600"}:r.includes("gift")?{icon:a.jsx(o4,{size:24}),color:"bg-beveren--600"}:r.includes("cheque")||r.includes("check")?{icon:a.jsx(Zc,{size:24}),color:"bg-beveren--600"}:{icon:a.jsx(gs,{size:24}),color:"bg-beveren--600"}};function Jx({isOpen:e,onClose:r,cartItems:t,appliedCoupons:n,selectedCustomer:i,onHoldOrder:l,isMobile:c=!1,isFullPage:f=!1,initialSharingMode:h=null,externalInvoiceData:d=null,itemDiscounts:m={}}){var ca,Aa,ha,Za;const[x,p]=E.useState(""),[b,S]=E.useState({}),[k,T]=E.useState(null),[A,M]=E.useState(null),[H,D]=E.useState(0),[G,V]=E.useState(!1),[se,oe]=E.useState(!1),[q,ie]=E.useState(!1),[ee,ae]=E.useState(null),[J,le]=E.useState(null),[pe,ue]=E.useState(H.toFixed(2)),[ne,he]=E.useState(!1),[Le,Z]=E.useState(h),[B,de]=E.useState({email:(i==null?void 0:i.email)||"",phone:(i==null?void 0:i.phone)||"",name:(i==null?void 0:i.name)||""}),[xe,fe]=E.useState(!1),[z,X]=E.useState(!1),[Ae,Ye]=E.useState([]),[ct,Ze]=E.useState(null),[mt,$t]=E.useState(""),[ur,ve]=E.useState(!1),[et,Tt]=E.useState(!1),[ge,Xe]=E.useState([]),[lt,gr]=E.useState(null),[Kt,re]=E.useState(""),[qe,Ke]=E.useState(!1),[dt,gt]=E.useState(!1),[bt,ft]=E.useState(!1),[be,tt]=E.useState(null),{posDetails:Ge,loading:xt}=un(),{modes:ut,isLoading:Ut,error:qt}=Am(typeof(Ge==null?void 0:Ge.name)=="string"?Ge.name:""),{salesTaxCharges:er,defaultTax:nr}=a7(),{personnel:vr}=S4(),na=fa(),yr=(Ge==null?void 0:Ge.business_type)==="B2B",Gr=(Ge==null?void 0:Ge.business_type)==="B2C",Xa=(Ge==null?void 0:Ge.business_type)==="B2B & B2C",_n=Ge==null?void 0:Ge.print_receipt_on_order_complete,Qa=Ge==null?void 0:Ge.currency_symbol,Be=Ge==null?void 0:Ge.custom_delivery_required,at=Be===1||Be===!0||Be==="1";E.useEffect(()=>{Ge&&console.log("POS Details - custom_delivery_required:",Be,"isDeliveryRequired:",at)},[Ge,Be,at]),E.useEffect(()=>{var Oe,it,kt;if(d&&Le){console.log("External invoice data:",d),console.log("Customer address doc:",d.customer_address_doc);const Ot=((Oe=d.customer_address_doc)==null?void 0:Oe.email_id)||d.customer_email||d.email_id||"",Lt=d.mobile_no||((it=d.customer_address_doc)==null?void 0:it.mobile_no)||((kt=d.customer_address_doc)==null?void 0:kt.phone)||d.customer_phone||"",ar=d.customer_name||d.customer||"";(!Ot||!Lt)&&d.customer?$r(d.customer,Ot,Lt,ar):(de({email:Ot,phone:Lt,name:ar}),console.log("Updated sharing data:",{email:Ot,phone:Lt,name:ar}))}},[d,Le]);const $r=(Oe,it,kt,Ot)=>Ne(null,null,function*(){try{console.log("Fetching customer details for:",Oe);const ar=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${Oe}`)).json();if(ar.message){const Wt=ar.message;console.log("Customer details fetched:",Wt),de({email:it||Wt.email_id||"",phone:kt||Wt.mobile_no||"",name:Ot||Wt.customer_name||Wt.name||""}),console.log("Updated sharing data with customer details:",{email:it||Wt.email_id||"",phone:kt||Wt.mobile_no||"",name:Ot||Wt.customer_name||Wt.name||""})}else de({email:it,phone:kt,name:Ot})}catch(Lt){console.error("Error fetching customer details:",Lt),de({email:it,phone:kt,name:Ot})}});E.useEffect(()=>{Ne(null,null,function*(){if(Le==="whatsapp"&&Ae.length===0){ve(!0);try{const[it,kt]=yield Promise.all([f7(),h7()]);if(Ye(it),kt){const Ot=it.find(Lt=>Lt.name===kt);Ot&&(Ze(Ot),$t(Ot.template))}else $t(pw())}catch(it){console.error("Error loading WhatsApp templates:",it),$t(pw())}finally{ve(!1)}}})},[Le,Ae.length]),E.useEffect(()=>{Ne(null,null,function*(){if(Le==="email"&&ge.length===0){Ke(!0);try{const[it,kt]=yield Promise.all([g7(),p7()]);if(Xe(it),kt){const Ot=it.find(Lt=>Lt.name===kt);Ot&&(gr(Ot),re(Ot.response_html||Ot.response))}else re(yw())}catch(it){console.error("Error loading Email templates:",it),re(yw())}finally{Ke(!1)}}})},[Le,ge.length]);const me=()=>{const Oe={customer_name:B.name||"there",invoice_total:Zt(Te.grandTotal),invoice_number:(J==null?void 0:J.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return m7(mt,Oe)},$e=()=>{var it,kt;const Oe={customer_name:B.name||"Customer",customer:B.name||"Customer",first_name:((it=B.name)==null?void 0:it.split(" ")[0])||"",last_name:((kt=B.name)==null?void 0:kt.split(" ").slice(1).join(" "))||"",address:typeof(i==null?void 0:i.address)=="string"?i.address:JSON.stringify((i==null?void 0:i.address)||{}),customer_address:typeof(i==null?void 0:i.address)=="string"?i.address:JSON.stringify((i==null?void 0:i.address)||{}),delivery_note:(J==null?void 0:J.name)||"",grand_total:Zt(Te.grandTotal),departure_time:new Date().toLocaleTimeString(),estimated_arrival:new Date(Date.now()+18e5).toLocaleTimeString(),driver_name:"Delivery Driver",cell_number:"+1234567890",vehicle:"Delivery Vehicle",invoice_total:Zt(Te.grandTotal),invoice_number:(J==null?void 0:J.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return y7(Kt,Oe)},De=Oe=>{const it=Ae.find(kt=>kt.name===Oe);it&&(Ze(it),$t(it.template))},We=Oe=>{const it=ge.find(kt=>kt.name===Oe);it&&(gr(it),re(it.response_html||it.response))},Te=E.useMemo(()=>{const Oe=t.reduce((Dr,ra)=>{const zr=ra.discountedPrice||ra.price;return Dr+zr*ra.quantity},0),it=n.reduce((Dr,ra)=>Dr+ra.value,0),kt=Math.max(0,Oe-it),Ot=er.find(Dr=>Dr.id===x),Lt=(Ot==null?void 0:Ot.rate)||0,ar=(Ot==null?void 0:Ot.is_inclusive)||!1;let Wt,kr;return ar?(Wt=kt*Lt/(100+Lt),Wt=parseFloat(Wt.toFixed(2)),kr=kt):(Wt=kt*Lt/100,Wt=parseFloat(Wt.toFixed(2)),kr=kt+Wt),{subtotal:Oe,couponDiscount:it,taxableAmount:kt,taxAmount:Wt,grandTotal:kr+H,selectedTax:Ot,isInclusive:ar}},[t,n,x,er,H]),Nt=J$(Object.values(b)),It=Z$(Te.grandTotal,Object.values(b));E.useEffect(()=>{e&&nr&&!x&&p(nr)},[e,nr,x]),E.useEffect(()=>{if(e&&ut.length>0){const Oe=ut.find(it=>it.default===1);if(Oe&&Object.keys(b).length===0){const it=parseFloat(Te.grandTotal.toFixed(2));M(Oe.mode_of_payment),S({[Oe.mode_of_payment]:it})}}},[e,ut,Te.grandTotal,yr,Gr]),E.useEffect(()=>{if(ut.length>0&&Object.keys(b).length>0&&ut.find(it=>it.default===1)){const kt=Object.values(b).reduce((kr,Dr)=>kr+(Dr||0),0)-Te.grandTotal,Lt=Object.entries(b).reduce((kr,Dr)=>(Dr[1]||0)>(kr[1]||0)?Dr:kr),[ar,Wt]=Lt;if(Wt>0&&kt>0){const kr=Math.max(0,Wt-kt);S(Dr=>je(Y({},Dr),{[ar]:kr}))}}},[Te.grandTotal,ut,Gr,yr,Xa,b]),E.useEffect(()=>{q&&J&&_n&&(he(!0),setTimeout(()=>{Kh(J),he(!1)},500))},[q,J,_n]);const Rt=Ge!=null&&Ge.custom_allow_write_off?ut.filter(kt=>kt.type==="Cash").filter(kt=>(b[kt.mode_of_payment]||0)>0).length>0:!1;if(E.useEffect(()=>{!Rt&&H!==0&&(D(0),ue("0.00"))},[Rt,H]),!e)return null;if(Ut||xt)return a.jsx("div",{className:"p-6",children:"Loading..."});if(qt)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error: ",qt]});const Ft=[...ut].sort((Oe,it)=>Oe.default===1&&it.default!==1?-1:Oe.default!==1&&it.default===1?1:0).map(Oe=>{const{icon:it,color:kt}=v7(Oe.type||"Default");return{id:Oe.mode_of_payment,name:Oe.mode_of_payment,icon:it,color:kt,enabled:!0,amount:b[Oe.mode_of_payment]||0}}),tr=()=>{var Ot,Lt;if(k&&k in b)return k;const Oe=Object.entries(b).filter(([,ar])=>(ar||0)>0).map(([ar])=>ar);if(Oe.length===1)return(Ot=Oe[0])!=null?Ot:null;const it=((Lt=ut.find(ar=>ar.default===1))==null?void 0:Lt.mode_of_payment)||null,kt=Oe.find(ar=>ar!==it);return kt||it},dr=(Oe,it)=>{if(q||G)return;const kt=gw(parseFloat(it)||0);M(Oe),S(Ot=>je(Y({},Ot),{[Oe]:kt}))},Rr=Oe=>{if(q||G)return;const it=Te.grandTotal,kt={};Ft.forEach(Ot=>{kt[Ot.id]=0}),kt[Oe]=it,M(Oe),S(kt),T(Oe)},qr=(Oe,it)=>{if(q||G)return;const kt=gw(parseFloat(it)||0);M(Oe),S(Ot=>je(Y({},Ot),{[Oe]:kt}))},Or=()=>{var kr,Dr;if(q||G)return;if(!(Ge!=null&&Ge.custom_allow_write_off)){Ve.error(`Writeoff not allowed.
 Ask your administrator to enable it in POS profile.`);return}const it=ut.filter(ra=>ra.type==="Cash").filter(ra=>(b[ra.mode_of_payment]||0)>0);if(it.length===0){Ve.error("Writeoff is only allowed for cash payment methods");return}if(it.reduce((ra,zr)=>ra+(b[zr.mode_of_payment]||0),0)===0){Ve.error("Cash payment method must have an amount to apply writeoff");return}const Ot=Te.isInclusive?Te.taxableAmount:Te.taxableAmount+Te.taxAmount,Lt=(Ge==null?void 0:Ge.write_off_limit)||1;let ar,Wt;if(Lt<=1?(ar=Math.floor(Ot),Wt=ar-Ot):(ar=Math.floor(Ot/Lt)*Lt,Wt=ar-Ot),D(Wt),ue(Wt.toFixed(2)),!(yr&&!Gr)){let zr=tr();if(!zr&&Ft.length>0){const Ra=Ft[0];Ra&&(zr=Ra.id)}if(!zr){const Ra=((kr=ut.find(vs=>vs.default===1))==null?void 0:kr.mode_of_payment)||((Dr=ut[0])==null?void 0:Dr.mode_of_payment);Ra&&(zr=Ra)}if(zr){const Ra={};Ra[zr]=ar,S(Ra)}else console.error("No payment methods available for roundoff!")}},Yt=Oe=>{q||G||p(Oe)},Ht=Oe=>{if(!Rt)return;let it=Oe;Oe&&!Oe.startsWith("-")&&!isNaN(parseFloat(Oe))&&(it="-"+Oe);const kt=parseFloat(it);if(!isNaN(kt)){const Ot=(Ge==null?void 0:Ge.write_off_limit)||1,Lt=Ot<=1?.99:Ot-.01;if(Math.abs(kt)>Lt){Ve.error(`Roundoff amount cannot exceed ${Lt.toFixed(2)}. Write-off limit is ${Ot}.`);return}ue(it),D(kt);const ar=(Te.isInclusive?Te.taxableAmount:Te.taxableAmount+Te.taxAmount)+kt,Wt=tr();if(Wt){const kr=Object.entries(b).filter(([ra])=>ra!==Wt).reduce((ra,[,zr])=>ra+(zr||0),0),Dr=Math.max(0,parseFloat((ar-kr).toFixed(2)));S(ra=>je(Y({},ra),{[Wt]:Dr}))}}},Tr=(Oe=null)=>Ne(null,null,function*(){if(!i||!i.name){Ve.error("Kindly select a customer");return}if(Gr){if(Object.entries(b).filter(([,ar])=>ar>0).map(([ar,Wt])=>({method:ar,amount:Wt})).length===0){Ve.error("Please enter payment amounts");return}if(It>0){Ve.error("Please complete the payment before proceeding");return}}V(!0);const it=yr?Nt:Te.grandTotal,kt=yr?Object.entries(b).filter(([,Lt])=>Lt>0):(()=>{const Lt=Object.entries(b).filter(([,Wt])=>Wt>0);if(Lt.length===0)return[];const ar=Lt.reduce((Wt,[,kr])=>Wt+kr,0);if(ar>Te.grandTotal){const Wt=ar-Te.grandTotal,kr=Lt.length-1,Dr=Lt[kr];if(!Dr)return;const[ra,zr]=Dr,Ra=parseFloat(Math.max(0,zr-Wt).toFixed(2));return Lt.map(([vs,gi],In)=>In===kr?[vs,Ra]:[vs,gi])}return Lt})(),Ot={items:t.map(Lt=>{var ar,Wt,kr,Dr;return je(Y({},Lt),{price:Lt.discountedPrice||Lt.price,batchNumber:((ar=m[Lt.id])==null?void 0:ar.batchNumber)||null,serialNumber:((Wt=m[Lt.id])==null?void 0:Wt.serialNumber)||null,uom:Lt.uom||"Nos",discountPercentage:((kr=m[Lt.id])==null?void 0:kr.discountPercentage)||0,discountAmount:((Dr=m[Lt.id])==null?void 0:Dr.discountAmount)||0})}),customer:i,paymentMethods:(kt!=null?kt:[]).map(([Lt,ar])=>({method:Lt,amount:parseFloat((Number(ar)||0).toFixed(2))})),subtotal:Te.subtotal,SalesTaxCharges:x,taxAmount:Te.taxAmount,taxType:Te.isInclusive?"inclusive":"exclusive",couponDiscount:Te.couponDiscount,roundOffAmount:H,grandTotal:Te.grandTotal,amountPaid:it,outstandingAmount:It,appliedCoupons:n,businessType:Ge==null?void 0:Ge.business_type,deliveryPersonnel:Oe||null};try{const Lt=yield n7(Ot);ie(!0),ae(Lt),le(Lt.invoice);const ar=yr?"Invoice submitted successfully!":"Payment completed successfully!";Ve.success(ar),H$()||console.log(),fu()}catch(Lt){const Wt=hu(Lt,yr?"Failed to submit invoice":"Failed to process payment");Ve.error(Wt)}finally{V(!1)}}),Br=()=>Ne(null,null,function*(){console.log("handleCompletePayment called - selectedDeliveryPersonnel:",be),yield Tr(be)}),sa=Oe=>{tt(Oe),ft(!1)},Zr=()=>{if(!be)return null;const Oe=vr.find(it=>it.name===be);return(Oe==null?void 0:Oe.delivery_personnel)||be},ea=Oe=>{na(`/invoice/${Oe.name}`)},Ga=()=>Ne(null,null,function*(){if(!i){Ve.error("Kindly select a customer");return}oe(!0);const Oe={items:t,customer:i,subtotal:Te.subtotal,SalesTaxCharges:x,taxAmount:Te.taxAmount,taxType:Te.isInclusive?"inclusive":"exclusive",couponDiscount:Te.couponDiscount,roundOffAmount:H,grandTotal:Te.grandTotal,appliedCoupons:n,status:"held",businessType:Ge==null?void 0:Ge.business_type};try{yield _4(Oe),fu(),l(Oe)}catch(it){const kt=hu(it,"Failed to hold order");Ve.error(kt)}finally{oe(!1)}}),Zt=Oe=>`${Qa} ${Oe.toLocaleString(void 0,{minimumFractionDigits:2})}`,la=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ea=()=>G?yr?"Submitting Invoice...":"Processing Payment...":yr?Nt===0?"Submit Invoice (Pay Later)":It>0?"Submit Invoice (Partial Payment)":"Submit Invoice (Paid)":"Complete Payment",fr=()=>q||G?!0:Gr?It>0:!1;return c?a.jsx("div",{className:f?"h-full bg-white dark:bg-gray-900 overflow-y-auto custom-scrollbar":"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"min-h-screen",children:[!f&&a.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:a.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q?"Invoice Complete":yr?"Submit Invoice":"Payment"})}),a.jsx("div",{className:"p-4 space-y-6",children:q?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"text-green-600 dark:text-green-400 text-center",children:[a.jsx("p",{className:"font-semibold",children:yr?"Invoice Submitted Successfully!":"Payment Completed Successfully!"}),a.jsxs("p",{className:"text-sm opacity-75",children:["Total: ",Zt(Te.grandTotal)]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[ne&&a.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx(bn,{size:16,className:"animate-spin"}),a.jsx("span",{className:"text-sm",children:"Printing..."})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Print",onClick:()=>{Kh(J)},children:[a.jsx(Wo,{size:18}),a.jsx("span",{children:"Print"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Email",onClick:()=>{const Oe=encodeURIComponent("Your Invoice"),it=encodeURIComponent(`Dear ${i==null?void 0:i.name},

Here is your invoice total: ${Zt(Te.grandTotal)}

Thank you.`);window.open(`mailto:${i==null?void 0:i.email}?subject=${Oe}&body=${it}`)},children:[a.jsx(Gy,{size:18}),a.jsx("span",{children:"Email"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 dark:bg-green-900/20 text-beveren-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/30 transition-colors",title:"WhatsApp",onClick:()=>{const Oe=encodeURIComponent(`Here is your invoice total: ${Zt(Te.grandTotal)}`);window.open(`https://wa.me/${i==null?void 0:i.phone}?text=${Oe}`,"_blank")},children:[a.jsx(Vy,{size:18}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-teal-900/20 text-teal-500 dark:text-teal-400 rounded-lg hover:bg-teal-200 dark:hover:bg-purple-900/30 transition-colors",title:"Text Message",onClick:()=>window.open(`tel:${i==null?void 0:i.phone}`),children:[a.jsx(Ky,{size:18}),a.jsx("span",{children:"SMS"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/20 text-p-600 dark:text-purple-400 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/30 transition-colors",title:"View Full Invoice",onClick:()=>ea(J),children:[a.jsx(Ul,{size:18}),a.jsx("span",{children:"View"})]})]}),J&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-center",children:"Invoice Preview:"}),a.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-3 bg-gray-50 dark:bg-gray-700 max-h-64 overflow-y-auto",children:a.jsx(Vh,{invoice:J})})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>{r(!0)},className:"w-full py-3 bg-beveren-600 text-white rounded-lg font-medium hover:bg-beveren-700 transition-colors",children:"Start New Order"})})]}):a.jsxs(a.Fragment,{children:[(Gr||yr)&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),a.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:Ft.map(Oe=>a.jsxs("div",{className:`${Ft.length<=3?"flex-1 min-w-0":"min-w-[280px] max-w-[280px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${q||G?"bg-gray-50 dark:bg-gray-800":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${Oe.color} text-white flex items-center justify-center`,children:a.jsx("div",{className:"scale-75",children:Oe.icon})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Oe.name})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),a.jsx("input",{type:"number",value:Oe.amount.toFixed(2)||"",onChange:it=>dr(Oe.id,it.target.value),placeholder:"0.00",disabled:q||G,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${q||G?"cursor-not-allowed opacity-50":""}`})]})]},Oe.id))})]}),a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"number",value:pe,onChange:Oe=>Ht(Oe.target.value),disabled:q||G||!Rt,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${q||G||!Rt?"cursor-not-allowed opacity-50":""}`}),a.jsx("button",{onClick:Or,disabled:q||G||!Rt,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${q||G||!Rt?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:a.jsx(sw,{size:16})})]})]})})}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(Te.subtotal)})]}),Te.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{children:["-",Zt(Te.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(ca=Te.selectedTax)==null?void 0:ca.rate,"%"," ",Te.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`font-medium ${Te.isInclusive?"text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:Te.isInclusive?`(${Zt(Te.taxAmount)})`:Zt(Te.taxAmount)})]}),H!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(H)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Grand Total"}),a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Zt(Te.grandTotal)})]})}),(Gr||yr)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),a.jsx("span",{className:"font-medium text-beveren-600 dark:text-blue-400",children:Zt(Nt)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:Zt(It)})]}),Nt>Te.grandTotal&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),a.jsx("span",{className:"font-medium text-beveren-600 dark:text-beveren-400",children:Zt(mw(Nt,Te.grandTotal))})]})]}),yr&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:Zt(Te.grandTotal)})]})]}),a.jsxs("div",{className:"space-y-3 pt-6",children:[a.jsx("button",{onClick:Br,disabled:fr(),className:`w-full py-4 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${yr?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:G?a.jsxs(a.Fragment,{children:[a.jsx(bn,{size:20,className:"animate-spin"}),a.jsx("span",{children:Ea()})]}):a.jsx("span",{children:Ea()})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.jsx("button",{onClick:Ga,disabled:q||G||se,className:`py-3 px-4 border border-orange-500 text-orange-600 dark:text-orange-400 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center justify-center space-x-2 ${q||G||se?"cursor-not-allowed opacity-50":""}`,children:se?a.jsxs(a.Fragment,{children:[a.jsx(bn,{size:16,className:"animate-spin"}),a.jsx("span",{children:"Holding..."})]}):a.jsx("span",{children:"Hold Order"})})})]})]})})]})}):a.jsxs("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:yr?"Invoice Submission":"Payment Processing"}),q?a.jsxs("div",{className:"flex items-center space-x-3",children:[ne&&a.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[a.jsx(bn,{size:16,className:"animate-spin"}),a.jsx("span",{className:"text-sm",children:"Printing..."})]}),a.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg",title:"Print",onClick:()=>{Kh(J),na("/")},children:a.jsx(Wo,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${Le==="email"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"Email",onClick:()=>Z(Le==="email"?null:"email"),children:a.jsx(Gy,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${Le==="whatsapp"?"bg-blue-100 text-green-700":"text-green-600 hover:bg-green-100"} dark:text-green-400 dark:hover:bg-green-900`,title:"WhatsApp",onClick:()=>Z(Le==="whatsapp"?null:"whatsapp"),style:{display:Ge!=null&&Ge.custom_enable_whatsapp?"block":"none"},children:a.jsx(Vy,{size:20})}),a.jsx("button",{className:`p-2 rounded-lg ${Le==="sms"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"SMS",onClick:()=>Z(Le==="sms"?null:"sms"),style:{display:Ge!=null&&Ge.custom_enable_sms?"block":"none"},children:a.jsx(Ky,{size:20})}),a.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-100 dark:text-purple-400 dark:hover:bg-purple-900 rounded-lg",title:"View Full",onClick:()=>ea(J),children:a.jsx(Ul,{size:20})})]}):a.jsx("button",{onClick:()=>r(q),disabled:G||se,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(Ha,{size:24})})]}),a.jsxs("div",{className:"flex flex-1 min-h-0",children:[a.jsx("div",{className:"w-2/3 p-6 overflow-y-auto custom-scrollbar space-y-6",children:q&&Le||d&&Le?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:["Share via ",Le]}),a.jsx("button",{onClick:()=>Z(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ha,{size:20})})]}),Le==="email"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:B.name,onChange:Oe=>de(it=>je(Y({},it),{name:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:B.email,onChange:Oe=>de(it=>je(Y({},it),{email:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"customer@email.com"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Message Preview"}),a.jsx("button",{type:"button",onClick:()=>gt(!dt),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:dt?a.jsx(Zc,{className:"w-4 h-4"}):a.jsx(ow,{className:"w-4 h-4"})})]}),dt&&a.jsxs("div",{className:"space-y-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Template"}),qe?a.jsxs("div",{className:"flex items-center justify-center p-4",children:[a.jsx(bn,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):a.jsxs("select",{value:(lt==null?void 0:lt.name)||"",onChange:Oe=>We(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Select a template (optional)"}),ge.map(Oe=>{const it=(Ge==null?void 0:Ge.custom_email_template)===Oe.name;return a.jsxs("option",{value:Oe.name,children:[Oe.name,it?" [Default]":""]},Oe.name)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),a.jsx("textarea",{value:Kt,onChange:Oe=>re(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:6,placeholder:"Enter your email message..."})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Subject: Your Invoice from KLiK PoS"}),a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:$e()}})})]})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){fe(!0);try{yield c7({email:B.email,customer_name:B.name,invoice_data:(J==null?void 0:J.name)||"",message:$e()}),Ve.success("Email sent successfully!"),Z(null)}catch(Oe){const it=Vp(Oe.message,"email");Ve.error(it)}finally{fe(!1)}}),disabled:!B.email||xe,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:xe?"Sending...":"Send Email"})]}),Le==="whatsapp"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:B.name,onChange:Oe=>de(it=>je(Y({},it),{name:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:B.phone,onChange:Oe=>de(it=>je(Y({},it),{phone:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"WhatsApp Message Preview"}),a.jsx("button",{type:"button",onClick:()=>Tt(!et),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:et?a.jsx(Zc,{className:"w-4 h-4"}):a.jsx(ow,{className:"w-4 h-4"})})]}),et&&a.jsxs("div",{className:"space-y-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Template"}),ur?a.jsxs("div",{className:"flex items-center justify-center p-4",children:[a.jsx(bn,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):a.jsxs("select",{value:(ct==null?void 0:ct.name)||"",onChange:Oe=>De(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Select a template (optional)"}),Ae.map(Oe=>{const it=(Ge==null?void 0:Ge.custom_whatsap_template)===Oe.name;return a.jsxs("option",{value:Oe.name,children:[Oe.template_name," - ",Oe.category," (",Oe.status,")",it?" [Default]":""]},Oe.name)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),a.jsx("textarea",{value:mt,onChange:Oe=>$t(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:4,placeholder:"Enter your WhatsApp message..."})]})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"whitespace-pre-wrap",children:me()})})})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){X(!0);try{yield u7({mobile_no:B.phone,customer_name:B.name,invoice_data:(J==null?void 0:J.name)||"",message:me()}),Ve.success("Whatsap message sent successfully!"),Z(null)}catch(Oe){const it=Vp(Oe.message,"whatsapp");Ve.error(it)}finally{X(!1)}}),disabled:!B.phone||z,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:z?"Sending...":"Send Whatsap Message"})]}),Le==="sms"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{type:"text",value:B.name,onChange:Oe=>de(it=>je(Y({},it),{name:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:B.phone,onChange:Oe=>de(it=>je(Y({},it),{phone:Oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMS Message Preview"}),a.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-4 border border-teal-200 dark:border-teal-800",children:a.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[a.jsxs("p",{children:["Hi ",B.name||"Customer","!"]}),a.jsx("p",{className:"mt-1",children:"Thank you for your purchase at KLiK PoS."}),a.jsxs("p",{className:"mt-1",children:["Invoice Total:"," ",Zt(Te.grandTotal)]}),a.jsx("p",{className:"mt-1",children:"Thank you!"})]})})]}),a.jsx("button",{onClick:()=>Ne(null,null,function*(){try{yield d7({mobile_no:B.phone,customer_name:B.name,message:`Thank you for your purchase at KLiK PoS.
Invoice Total: ${Zt(Te.grandTotal)}
Thank you!`}),Ve.success("SMS sent successfully!"),Z(null)}catch(Oe){const it=Vp(Oe.message,"sms");Ve.error(it)}}),disabled:!B.phone,className:"w-full py-3 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send SMS"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),a.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:Ft.map(Oe=>a.jsxs("div",{className:`${Ft.length<=3?"flex-1 min-w-0":"min-w-[300px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${q||G?"bg-gray-50 dark:bg-gray-800":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`w-8 h-6 rounded-md ${Oe.color} text-white flex items-center justify-center`,children:a.jsx("div",{className:"scale-75",children:Oe.icon})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Oe.name})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),a.jsx("div",{className:"flex space-x-1",children:a.jsx("button",{onClick:()=>Rr(Oe.id),disabled:q||G,className:`p-1 rounded text-xs ${q||G?"cursor-not-allowed opacity-50":"hover:bg-beveren-100 text-beveren-600"}`,title:"Auto-fill with grand total",children:a.jsx(Ko,{size:16})})})]}),a.jsx("input",{type:"number",step:"0.01",value:Oe.amount||"",onChange:it=>{T(Oe.id);const kt=it.target.value,Ot=kt===""?0:parseFloat(kt);qr(Oe.id,isNaN(Ot)?"0":Ot.toString())},onBlur:it=>{T(Oe.id);const kt=parseFloat(it.target.value);if(!isNaN(kt)){const Ot=parseFloat(kt.toFixed(2));qr(Oe.id,Ot.toString())}},placeholder:"0.00",disabled:q||G,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm ${q||G?"cursor-not-allowed opacity-50":""}`})]})]},Oe.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sales & Tax Charges"}),a.jsx("select",{value:x,onChange:Oe=>Yt(Oe.target.value),disabled:q||G,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${q||G?"cursor-not-allowed opacity-50":""}`,children:er.map(Oe=>a.jsxs("option",{value:Oe.id,children:[Oe.name," (",Oe.rate,"%"," ",Oe.is_inclusive?"Incl.":"Excl.",")"]},Oe.id))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tax Amount ",Te.isInclusive&&"(Included)"]}),a.jsx("div",{className:`px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg font-medium ${Te.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Te.isInclusive?`(${Zt(Te.taxAmount)})`:Zt(Te.taxAmount)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:yr?"Invoice Summary":"Payment Summary"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"number",value:pe,onChange:Oe=>Ht(Oe.target.value),disabled:q||G||!Rt,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${q||G?"cursor-not-allowed opacity-50":""}`}),a.jsx("button",{onClick:Or,disabled:q||G||!Rt,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${q||G||!Rt?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:a.jsx(sw,{size:16})})]})]})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(Te.subtotal)})]}),Te.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Coupon Discount"}),a.jsxs("span",{children:["-",Zt(Te.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Aa=Te.selectedTax)==null?void 0:Aa.rate,"%"," ",Te.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`font-medium ${Te.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Te.isInclusive?`(${Zt(Te.taxAmount)})`:Zt(Te.taxAmount)})]}),H!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt(H)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Grand Total"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Zt(Te.grandTotal)})]})}),(Gr||yr)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),a.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:Zt(Nt)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("span",{className:`font-bold ${It>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Zt(It)})]}),Nt>Te.grandTotal&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:Zt(mw(Nt,Te.grandTotal))})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-600 flex-1 overflow-y-auto custom-scrollbar",children:q&&J?a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Print Format Preview:"}),a.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-gray-50 dark:bg-gray-700",children:a.jsx(Vh,{invoice:J})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"KLiK PoS"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sales Invoice"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:la}),yr&&a.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mt-1",children:"Payment Pending"})]}),i&&a.jsxs("div",{className:"mb-4 pb-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:i.email}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:i.phone})]}),a.jsx("div",{className:"space-y-2 mb-4",children:t.length>0?t.map((Oe,it)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Oe.name}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[Oe.quantity," x ",Zt(Oe.price)]})]}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Zt(Oe.quantity*Oe.price)})]},it)):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Invoice #:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(d==null?void 0:d.name)||(i==null?void 0:i.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(d==null?void 0:d.customer)||(i==null?void 0:i.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zt((d==null?void 0:d.grand_total)||Te.grandTotal)})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:a.jsx(Vh,{invoice:d||ee||{}})})]})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(Te.subtotal)})]}),Te.couponDiscount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{children:["-",Zt(Te.couponDiscount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(ha=Te.selectedTax)==null?void 0:ha.rate,"%"," ",Te.isInclusive?"Incl.":"Excl.",")"]}),a.jsx("span",{className:`${Te.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Te.isInclusive?`(${Zt(Te.taxAmount)})`:Zt(Te.taxAmount)})]}),H!==0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(H)})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(Te.grandTotal)})]})}),(Gr||yr)&&Object.entries(b).filter(([,Oe])=>Oe>0).length>0&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Methods:"}),Object.entries(b).filter(([,Oe])=>Oe>0).map(([Oe,it])=>a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:Oe}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:Zt(it)})]},Oe))]}),yr&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"Outstanding Amount:"}),a.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:Zt(Te.grandTotal)})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Payment to be collected separately"})]}),Te.selectedTax&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:a.jsxs("p",{className:`text-xs ${Te.isInclusive?"text-blue-500 dark:text-blue-400":"text-orange-500 dark:text-orange-400"}`,children:["Tax is"," ",Te.isInclusive?"inclusive":"exclusive"," ","of item prices"]})}),q&&((Za=ee==null?void 0:ee.invoice)==null?void 0:Za.custom_invoice_qr_code)&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("img",{src:ee.invoice.custom_invoice_qr_code,alt:"Invoice QR Code",className:"mx-auto w-20 h-20 object-contain border border-gray-200 dark:border-gray-600 rounded-lg"})})]}),a.jsxs("div",{className:"text-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Thank you for your business!"}),yr&&a.jsx("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:"Invoice will be sent for payment processing"})]})]})})]}),q||d?a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[at&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Personnel"}),a.jsxs("button",{type:"button",onClick:()=>ft(!0),disabled:q||G,className:`w-full max-w-xs px-4 py-2 text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center justify-between ${q||G?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[a.jsx("span",{children:Zr()||a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Select Delivery Personnel"})}),a.jsx(By,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2"})]})]}),a.jsxs("div",{className:`flex justify-end space-x-4 ${at?"":"w-full"}`,children:[q&&a.jsx("button",{onClick:()=>r(!0),className:"bg-beveren-500 px-6 py-2 border border-gray-300 dark:border-gray-600 text-white dark:text-gray-300 rounded-lg font-medium hover:bg-green-700 dark:hover:bg-gray-800 transition-colors",children:"New Order"}),d&&a.jsx("button",{onClick:()=>r(),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Close"})]})]})}):a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[at&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Personnel"}),a.jsxs("button",{type:"button",onClick:()=>ft(!0),disabled:q||G,className:`w-full max-w-xs px-4 py-2 text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center justify-between ${q||G?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:[a.jsx("span",{children:Zr()||a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Select Delivery Personnel"})}),a.jsx(By,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2"})]})]}),a.jsxs("div",{className:`flex justify-end space-x-4 ${at?"":"w-full"}`,children:[a.jsx("button",{onClick:Ga,disabled:q||G||se,className:`px-6 py-2 border  border-gray-300 dark:border-gray-600 text-gray-700 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center space-x-2 ${q||G||se?"cursor-not-allowed opacity-50":""}`,children:se?a.jsxs(a.Fragment,{children:[a.jsx(bn,{size:16,className:"animate-spin"}),a.jsx("span",{children:"Holding..."})]}):a.jsx("span",{children:"Hold Order"})}),a.jsx("button",{onClick:Br,disabled:fr(),className:`px-8 py-2 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 ${yr?"bg-beveren-500 hover:bg-blue-700 text-white":"bg-beveren-600 hover:bg-beveren-700 text-white"}`,children:G?a.jsxs(a.Fragment,{children:[a.jsx(bn,{size:16,className:"animate-spin"}),a.jsx("span",{children:Ea()})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zc,{size:16}),a.jsx("span",{children:Ea()})]})})]})]})})]}),a.jsx(x7,{isOpen:bt,onClose:()=>ft(!1),onSelect:sa})]})}const xw=()=>{const e=window.csrf_token;return{createCustomer:l=>Ne(null,null,function*(){var c;try{const h=yield(yield fetch("/api/method/klik_pos.api.customer.create_or_update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_data:l}),credentials:"include"})).json();if(!h.message||!h.message.success)throw new Error(((c=h.message)==null?void 0:c.error)||"Customer creation failed");return h.message}catch(f){throw console.error(" Error creating customer:",f),f}}),updateCustomer:(l,c)=>Ne(null,null,function*(){var f;try{const d=yield(yield fetch("/api/method/klik_pos.api.customer.update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_id:l,customer_data:c}),credentials:"include"})).json();if(!d.message||!d.message.success)throw new Error(((f=d.message)==null?void 0:f.error)||"Customer update failed");return d.message}catch(h){throw console.error(" Error updating customer:",h),h}}),getCustomerGroups:()=>Ne(null,null,function*(){var l;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.get_customer_groups",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((l=f.message)==null?void 0:l.error)||"Failed to fetch customer groups");return f.message.data}catch(c){throw console.error(" Error fetching customer groups:",c),c}}),getTerritories:()=>Ne(null,null,function*(){var l;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.get_territories",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((l=f.message)==null?void 0:l.error)||"Failed to fetch territories");return f.message.data}catch(c){throw console.error(" Error fetching territories:",c),c}})}},b7={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var Kp={exports:{}},Wp,vw;function w7(){if(vw)return Wp;vw=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wp=e,Wp}var Yp,bw;function j7(){if(bw)return Yp;bw=1;var e=w7();function r(){}function t(){}return t.resetWarningCache=r,Yp=function(){function n(c,f,h,d,m,x){if(x!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:r};return l.PropTypes=l,l},Yp}var ww;function N7(){return ww||(ww=1,Kp.exports=j7()()),Kp.exports}var _7=N7();const ht=Xo(_7);var Xp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jw;function k7(){return jw||(jw=1,function(e){(function(){var r={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var f=arguments[c];f&&(l=i(l,n(f)))}return l}function n(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var f in l)r.call(l,f)&&l[f]&&(c=i(c,f));return c}function i(l,c){return c?l?l+" "+c:l+c:l}e.exports?(t.default=t,e.exports=t):window.classNames=t})()}(Xp)),Xp.exports}var S7=k7();const nm=Xo(S7);function C7(e,r,t){switch(t){case"Backspace":r>0&&(e=e.slice(0,r-1)+e.slice(r),r--);break;case"Delete":e=e.slice(0,r)+e.slice(r+1);break}return{value:e,caret:r}}function E7(e,r,t){for(var n={},i="",l=0,c=0;c<e.length;){var f=t(e[c],i,n);f!==void 0&&(i+=f,r!==void 0&&(r===c?l=i.length-1:r>c&&(l=i.length))),c++}r===void 0&&(l=i.length);var h={value:i,caret:l};return h}function $7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=O7(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7(e,r){if(e){if(typeof e=="string")return Nw(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nw(e,r)}}function Nw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ex(e,r){for(var t=0,n=$7(r.split("")),i;!(i=n()).done;){var l=i.value;l===e&&t++}return t}function T7(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=e.length,l=ex("(",e),c=ex(")",e),f=l-c;f>0&&i<r.length;)e+=r[i].replace(t,n),r[i]===")"&&f--,i++;return e}function A7(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=R7(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e,r){if(e){if(typeof e=="string")return _w(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _w(e,r)}}function _w(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function P7(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",t=arguments.length>2?arguments[2]:void 0;if(!e)return function(i){return{text:i}};var n=ex(r,e);return function(i){if(!i)return{text:"",template:e};for(var l=0,c="",f=A7(e.split("")),h;!(h=f()).done;){var d=h.value;if(d!==r){c+=d;continue}if(c+=i[l],l++,l===i.length&&i.length<n)break}return t&&(c=T7(c,e)),{text:c,template:e}}}function M7(e,r,t){typeof t=="string"&&(t=P7(t));var n=t(e)||{},i=n.text,l=n.template;if(i===void 0&&(i=e),l)if(r===void 0)r=i.length;else{for(var c=0,f=!1,h=-1;c<i.length&&c<l.length;){if(i[c]!==l[c]){if(r===0){f=!0,r=c;break}h=c,r--}c++}f||(r=h+1)}return{text:i,caret:r}}function D7(e){return e.hasAttribute("readonly")}function I7(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var kw={Backspace:8,Delete:46};function L7(e){switch(e.keyCode){case kw.Backspace:return"Backspace";case kw.Delete:return"Delete"}}function U7(e){return e.selectionStart}function C4(e,r){r!==void 0&&(F7()?setTimeout(function(){return e.setSelectionRange(r,r)},0):e.setSelectionRange(r,r))}function F7(){if(typeof navigator!="undefined")return B7.test(navigator.userAgent)}var B7=/Android/i;function z7(e,r,t,n,i){tx(r,t,n,void 0,i)}function q7(e,r,t,n,i){if(!D7(r)){var l=L7(e);switch(l){case"Delete":case"Backspace":e.preventDefault();var c=I7(r);return c?(H7(r,c),tx(r,t,n,void 0,i)):tx(r,t,n,l,i)}}}function H7(e,r){var t=e.value;t=t.slice(0,r.start)+t.slice(r.end),e.value=t,C4(e,r.start)}function tx(e,r,t,n,i){var l=E7(e.value,U7(e),r),c=l.value,f=l.caret;if(n){var h=C7(c,f,n);c=h.value,f=h.caret}var d=M7(c,f,t),m=d.text;f=d.caret,e.value=m,C4(e,f),i&&i(c)}var G7=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function Sw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Dc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sw(Object(t),!0).forEach(function(n){V7(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sw(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function V7(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function K7(e,r){if(e==null)return{};var t=W7(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function W7(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Y7(e){var r=e.ref,t=e.parse,n=e.format,i=e.value,l=e.defaultValue,c=e.controlled,f=c===void 0?!0:c,h=e.onChange,d=e.onKeyDown,m=K7(e,G7),x=E.useRef(),p=E.useCallback(function(T){x.current=T,r&&(typeof r=="function"?r(T):r.current=T)},[r]),b=E.useCallback(function(T){return z7(T,x.current,t,n,h)},[x,t,n,h]),S=E.useCallback(function(T){if(d&&d(T),!T.defaultPrevented)return q7(T,x.current,t,n,h)},[x,t,n,h,d]),k=Dc(Dc({},m),{},{ref:p,onChange:b,onKeyDown:S});return f?Dc(Dc({},k),{},{value:n(Cw(i)?"":i).text}):Dc(Dc({},k),{},{defaultValue:n(Cw(l)?"":l).text})}function Cw(e){return e==null}var X7=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function Ew(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Q7(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ew(Object(t),!0).forEach(function(n){Z7(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ew(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Z7(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function J7(e,r){if(e==null)return{};var t=eO(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function eO(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function sm(e,r){var t=e.inputComponent,n=t===void 0?"input":t,i=e.parse,l=e.format,c=e.value,f=e.defaultValue,h=e.onChange,d=e.controlled,m=e.onKeyDown,x=e.type,p=x===void 0?"text":x,b=J7(e,X7),S=Y7(Q7({ref:r,parse:i,format:l,value:c,defaultValue:f,onChange:h,controlled:d,onKeyDown:m,type:p},b));return vt.createElement(n,S)}sm=vt.forwardRef(sm);sm.propTypes={parse:ht.func.isRequired,format:ht.func.isRequired,inputComponent:ht.elementType,type:ht.string,value:ht.string,defaultValue:ht.string,onChange:ht.func,controlled:ht.bool,onKeyDown:ht.func,onCut:ht.func,onPaste:ht.func};function $w(e,r){e=e.split("-"),r=r.split("-");for(var t=e[0].split("."),n=r[0].split("."),i=0;i<3;i++){var l=Number(t[i]),c=Number(n[i]);if(l>c)return 1;if(c>l)return-1;if(!isNaN(l)&&isNaN(c))return 1;if(isNaN(l)&&!isNaN(c))return-1}return e[1]&&r[1]?e[1]>r[1]?1:e[1]<r[1]?-1:0:!e[1]&&r[1]?1:e[1]&&!r[1]?-1:0}var tO={}.constructor;function Dl(e){return e!=null&&e.constructor===tO}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mu(e)}function Pm(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rO(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aO(n.key),n)}}function Mm(e,r,t){return r&&rO(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aO(e){var r=nO(e,"string");return mu(r)=="symbol"?r:r+""}function nO(e,r){if(mu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sO="1.2.0",iO="1.7.35",Ow=" ext. ",oO=/^\d+$/,Ta=function(){function e(r){Pm(this,e),E4(r),this.metadata=r,O4.call(this,r)}return Mm(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(t){return t!=="001"})}},{key:"getCountryMetadata",value:function(t){return this.metadata.countries[t]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(t){return this.getCountryMetadata(t)!==void 0}},{key:"hasCallingCode",value:function(t){if(this.getCountryCodesForCallingCode(t))return!0;if(this.nonGeographic()){if(this.nonGeographic()[t])return!0}else{var n=this.countryCallingCodes()[t];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(t){return this.nonGeographic()?!!this.nonGeographic()[t]:!this.getCountryCodesForCallingCode(t)}},{key:"country",value:function(t){return this.selectNumberingPlan(t)}},{key:"selectNumberingPlan",value:function(t,n){if(t&&oO.test(t)&&(n=t,t=null),t&&t!=="001"){if(!this.hasCountry(t))throw new Error("Unknown country: ".concat(t));this.numberingPlan=new Tw(this.getCountryMetadata(t),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new Tw(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(t){var n=this.countryCallingCodes()[t];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(t){var n=this.getCountryCodesForCallingCode(t);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(t){var n=this.getCountryCodeForCallingCode(t);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var i=this.nonGeographic()[t];if(i)return i}else{var l=this.countryCallingCodes()[t];if(l&&l.length===1&&l[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(t){return this.numberingPlan.type(t)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(t){return this.selectNumberingPlan(t)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),Tw=function(){function e(r,t){Pm(this,e),this.globalMetadataObject=t,this.metadata=r,O4.call(this,t.metadata)}return Mm(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(t){return t[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var t=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(i){return new lO(i,t)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(t){return t[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(t){if(this.hasTypes()&&Aw(this.types(),t))return new uO(Aw(this.types(),t),this)}},{key:"ext",value:function(){return this.v1||this.v2?Ow:this.metadata[13]||Ow}}])}(),lO=function(){function e(r,t){Pm(this,e),this._format=r,this.metadata=t}return Mm(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!cO.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),cO=/^\(?\$1\)?$/,uO=function(){function e(r,t){Pm(this,e),this.type=r,this.metadata=t}return Mm(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function Aw(e,r){switch(r){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function E4(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Dl(e)||!Dl(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Dl(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+dO(e)+": "+e,"."))}var dO=function(r){return mu(r)};function Jo(e,r){if(r=new Ta(r),r.hasCountry(e))return r.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function $4(e,r){return r.countries.hasOwnProperty(e)}function O4(e){var r=e.version;typeof r=="number"?(this.v1=r===1,this.v2=r===2,this.v3=r===3,this.v4=r===4):r?$w(r,sO)===-1?this.v2=!0:$w(r,iO)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function Dm(e,r){return fO(e,void 0,r)}function fO(e,r,t){var n=t.type(r),i=n&&n.possibleLengths()||t.possibleLengths();if(!i)return"IS_POSSIBLE";var l=e.length,c=i[0];return c===l?"IS_POSSIBLE":c>l?"TOO_SHORT":i[i.length-1]<l?"TOO_LONG":i.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function hO(e,r,t){if(r===void 0&&(r={}),t=new Ta(t),r.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!t.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));t.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(e.countryCallingCode)}}if(t.possibleLengths())return T4(e.phone||e.nationalNumber,t);if(e.countryCallingCode&&t.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function T4(e,r){switch(Dm(e,r)){case"IS_POSSIBLE":return!0;default:return!1}}function Xi(e,r){return e=e||"",new RegExp("^(?:"+r+")$").test(e)}function mO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=gO(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gO(e,r){if(e){if(typeof e=="string")return Rw(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Rw(e,r):void 0}}function Rw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var pO=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function ev(e,r,t){if(r=r||{},!(!e.country&&!e.countryCallingCode)){t=new Ta(t),t.selectNumberingPlan(e.country,e.countryCallingCode);var n=r.v2?e.nationalNumber:e.phone;if(Xi(n,t.nationalNumberPattern())){if(Qp(n,"FIXED_LINE",t))return t.type("MOBILE")&&t.type("MOBILE").pattern()===""||!t.type("MOBILE")||Qp(n,"MOBILE",t)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=mO(pO),l;!(l=i()).done;){var c=l.value;if(Qp(n,c,t))return c}}}}function Qp(e,r,t){return r=t.type(r),!r||!r.pattern()||r.possibleLengths()&&r.possibleLengths().indexOf(e.length)<0?!1:Xi(e,r.pattern())}function yO(e,r,t){if(r=r||{},t=new Ta(t),t.selectNumberingPlan(e.country,e.countryCallingCode),t.hasTypes())return ev(e,r,t.metadata)!==void 0;var n=r.v2?e.nationalNumber:e.phone;return Xi(n,t.nationalNumberPattern())}function xO(e,r,t){var n=new Ta(t),i=n.getCountryCodesForCallingCode(e);return i?i.filter(function(l){return vO(r,l,t)}):[]}function vO(e,r,t){var n=new Ta(t);return n.selectNumberingPlan(r),n.numberingPlan.possibleLengths().indexOf(e.length)>=0}var tv=2,bO=17,wO=3,Nn="0-9---",jO="--",NO="/",_O=".",kO=" ",SO="()\\[\\]",CO="~",Gs="".concat(jO).concat(NO).concat(_O).concat(kO).concat(SO).concat(CO),Im="+",EO=new RegExp("(["+Nn+"])");function A4(e,r,t,n){if(r){var i=new Ta(n);i.selectNumberingPlan(r,t);var l=new RegExp(i.IDDPrefix());if(e.search(l)===0){e=e.slice(e.match(l)[0].length);var c=e.match(EO);if(!(c&&c[1]!=null&&c[1].length>0&&c[1]==="0"))return e}}}function rx(e,r){if(e&&r.numberingPlan.nationalPrefixForParsing()){var t=new RegExp("^(?:"+r.numberingPlan.nationalPrefixForParsing()+")"),n=t.exec(e);if(n){var i,l,c=n.length-1,f=c>0&&n[c];if(r.nationalPrefixTransformRule()&&f)i=e.replace(t,r.nationalPrefixTransformRule()),c>1&&(l=n[1]);else{var h=n[0];i=e.slice(h.length),f&&(l=n[1])}var d;if(f){var m=e.indexOf(n[1]),x=e.slice(0,m);x===r.numberingPlan.nationalPrefix()&&(d=r.numberingPlan.nationalPrefix())}else d=n[0];return{nationalNumber:i,nationalPrefix:d,carrierCode:l}}}return{nationalNumber:e}}function ax(e,r){var t=rx(e,r),n=t.carrierCode,i=t.nationalNumber;if(i!==e){if(!$O(e,i,r))return{nationalNumber:e};if(r.possibleLengths()&&!OO(i,r))return{nationalNumber:e}}return{nationalNumber:i,carrierCode:n}}function $O(e,r,t){return!(Xi(e,t.nationalNumberPattern())&&!Xi(r,t.nationalNumberPattern()))}function OO(e,r){switch(Dm(e,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function R4(e,r,t,n){var i=r?Jo(r,n):t;if(e.indexOf(i)===0){n=new Ta(n),n.selectNumberingPlan(r,t);var l=e.slice(i.length),c=ax(l,n),f=c.nationalNumber,h=ax(e,n),d=h.nationalNumber;if(!Xi(d,n.nationalNumberPattern())&&Xi(f,n.nationalNumberPattern())||Dm(d,n)==="TOO_LONG")return{countryCallingCode:i,number:l}}return{number:e}}function rv(e,r,t,n){if(!e)return{};var i;if(e[0]!=="+"){var l=A4(e,r,t,n);if(l&&l!==e)i=!0,e="+"+l;else{if(r||t){var c=R4(e,r,t,n),f=c.countryCallingCode,h=c.number;if(f)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:f,number:h}}return{number:e}}}if(e[1]==="0")return{};n=new Ta(n);for(var d=2;d-1<=wO&&d<=e.length;){var m=e.slice(1,d);if(n.hasCallingCode(m))return n.selectNumberingPlan(m),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:m,number:e.slice(d)};d++}return{}}function P4(e){return e.replace(new RegExp("[".concat(Gs,"]+"),"g")," ").trim()}var M4=/(\$\d)/;function D4(e,r,t){var n=t.useInternationalFormat,i=t.withNationalPrefix;t.carrierCode,t.metadata;var l=e.replace(new RegExp(r.pattern()),n?r.internationalFormat():i&&r.nationalPrefixFormattingRule()?r.format().replace(M4,r.nationalPrefixFormattingRule()):r.format());return n?P4(l):l}var TO=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function AO(e,r,t){var n=new Ta(t);if(n.selectNumberingPlan(e,r),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(TO.test(n.IDDPrefix()))return n.IDDPrefix()}var RO=";ext=",Ic=function(r){return"([".concat(Nn,"]{1,").concat(r,"})")};function I4(e){var r="20",t="15",n="9",i="6",l="[ \\t,]*",c="[:\\.]?[ \\t,-]*",f="#?",h="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",d="(?:[x#~]|int|)",m="[- ]+",x="[ \\t]*",p="(?:,{2}|;)",b=RO+Ic(r),S=l+h+c+Ic(r)+f,k=l+d+c+Ic(n)+f,T=m+Ic(i)+"#",A=x+p+c+Ic(t)+f,M=x+"(?:,)+"+c+Ic(n)+f;return b+"|"+S+"|"+k+"|"+T+"|"+A+"|"+M}var PO="["+Nn+"]{"+tv+"}",MO="["+Im+"]{0,1}(?:["+Gs+"]*["+Nn+"]){3,}["+Gs+Nn+"]*",DO=new RegExp("^["+Im+"]{0,1}(?:["+Gs+"]*["+Nn+"]){1,2}$","i"),IO=MO+"(?:"+I4()+")?",LO=new RegExp("^"+PO+"$|^"+IO+"$","i");function UO(e){return e.length>=tv&&LO.test(e)}function FO(e){return DO.test(e)}function BO(e){var r=e.number,t=e.ext;if(!r)return"";if(r[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(r).concat(t?";ext="+t:"")}function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kd(e)}function zO(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=qO(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qO(e,r){if(e){if(typeof e=="string")return Pw(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pw(e,r):void 0}}function Pw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function Mw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Dw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mw(Object(t),!0).forEach(function(n){HO(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mw(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function HO(e,r,t){return(r=GO(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function GO(e){var r=VO(e,"string");return Kd(r)=="symbol"?r:r+""}function VO(e,r){if(Kd(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Iw={formatExtension:function(r,t,n){return"".concat(r).concat(n.ext()).concat(t)}};function KO(e,r,t,n){if(t?t=Dw(Dw({},Iw),t):t=Iw,n=new Ta(n),e.country&&e.country!=="001"){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else if(e.countryCallingCode)n.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var i=n.countryCallingCode(),l=t.v2?e.nationalNumber:e.phone,c;switch(r){case"NATIONAL":return l?(c=im(l,e.carrierCode,"NATIONAL",n,t),Zp(c,e.ext,n,t.formatExtension)):"";case"INTERNATIONAL":return l?(c=im(l,null,"INTERNATIONAL",n,t),c="+".concat(i," ").concat(c),Zp(c,e.ext,n,t.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(l);case"RFC3966":return BO({number:"+".concat(i).concat(l),ext:e.ext});case"IDD":if(!t.fromCountry)return;var f=YO(l,e.carrierCode,i,t.fromCountry,n);return Zp(f,e.ext,n,t.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(r,'"'))}}function im(e,r,t,n,i){var l=WO(n.formats(),e);return l?D4(e,l,{useInternationalFormat:t==="INTERNATIONAL",withNationalPrefix:!(l.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:r,metadata:n}):e}function WO(e,r){for(var t=zO(e),n;!(n=t()).done;){var i=n.value;if(i.leadingDigitsPatterns().length>0){var l=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(r.search(l)!==0)continue}if(Xi(r,i.pattern()))return i}}function Zp(e,r,t,n){return r?n(e,r,t):e}function YO(e,r,t,n,i){var l=Jo(n,i.metadata);if(l===t){var c=im(e,r,"NATIONAL",i);return t==="1"?t+" "+c:c}var f=AO(n,void 0,i.metadata);if(f)return"".concat(f," ").concat(t," ").concat(im(e,null,"INTERNATIONAL",i))}function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wd(e)}function Lw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Uw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Lw(Object(t),!0).forEach(function(n){XO(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lw(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function XO(e,r,t){return(r=L4(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function QO(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ZO(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function JO(e,r,t){return r&&ZO(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L4(e){var r=eT(e,"string");return Wd(r)=="symbol"?r:r+""}function eT(e,r){if(Wd(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U4=function(){function e(r,t,n){if(QO(this,e),!r)throw new TypeError("First argument is required");if(typeof r!="string")throw new TypeError("First argument must be a string");if(r[0]==="+"&&!t)throw new TypeError("`metadata` argument not passed");if(Dl(t)&&Dl(t.countries)){n=t;var i=r;if(!aT.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var l=rv(i,void 0,void 0,n),c=l.countryCallingCode,f=l.number;if(t=f,r=c,!t)throw new Error("Invalid `number` argument passed: too short")}if(!t)throw new TypeError("`nationalNumber` argument is required");if(typeof t!="string")throw new TypeError("`nationalNumber` argument must be a string");E4(n);var h=rT(r,n),d=h.country,m=h.countryCallingCode;this.country=d,this.countryCallingCode=m,this.nationalNumber=t,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return JO(e,[{key:"setExt",value:function(t){this.ext=t}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:xO(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return hO(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return yO(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var t=new Ta(this.getMetadata());return t.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(t){return this.number===t.number&&this.ext===t.ext}},{key:"getType",value:function(){return ev(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(t,n){return KO(this,t,n?Uw(Uw({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(t){return this.format("NATIONAL",t)}},{key:"formatInternational",value:function(t){return this.format("INTERNATIONAL",t)}},{key:"getURI",value:function(t){return this.format("RFC3966",t)}}])}(),tT=function(r){return/^[A-Z]{2}$/.test(r)};function rT(e,r){var t,n,i=new Ta(r);return tT(e)?(t=e,i.selectNumberingPlan(t),n=i.countryCallingCode()):n=e,{country:t,countryCallingCode:n}}var aT=/^\+\d+$/;function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nx(e)}function nT(e,r,t){return Object.defineProperty(e,"prototype",{writable:!1}),e}function sT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iT(e,r,t){return r=Xd(r),oT(e,av()?Reflect.construct(r,t||[],Xd(e).constructor):r.apply(e,t))}function oT(e,r){if(r&&(nx(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lT(e)}function lT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Yd(e,r)}function sx(e){var r=typeof Map=="function"?new Map:void 0;return sx=function(n){if(n===null||!dT(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return uT(n,arguments,Xd(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Yd(i,n)},sx(e)}function uT(e,r,t){if(av())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var i=new(e.bind.apply(e,n));return t&&Yd(i,t.prototype),i}function av(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(av=function(){return!!e})()}function dT(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(r){return typeof e=="function"}}function Yd(e,r){return Yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Yd(e,r)}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}var Hi=function(e){function r(t){var n;return sT(this,r),n=iT(this,r,[t]),Object.setPrototypeOf(n,r.prototype),n.name=n.constructor.name,n}return cT(r,e),nT(r)}(sx(Error)),Fw=new RegExp("(?:"+I4()+")$","i");function fT(e){var r=e.search(Fw);if(r<0)return{};for(var t=e.slice(0,r),n=e.match(Fw),i=1;i<n.length;){if(n[i])return{number:t,ext:n[i]};i++}}function hT(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=mT(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mT(e,r){if(e){if(typeof e=="string")return Bw(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bw(e,r):void 0}}function Bw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var gT={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function F4(e){return gT[e]}function om(e){for(var r="",t=hT(e.split("")),n;!(n=t()).done;){var i=n.value,l=F4(i);l&&(r+=l)}return r}function pT(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=yT(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yT(e,r){if(e){if(typeof e=="string")return zw(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zw(e,r):void 0}}function zw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function ix(e){for(var r="",t=pT(e.split("")),n;!(n=t()).done;){var i=n.value;r+=B4(i,r)||""}return r}function B4(e,r,t){if(e==="+"){if(r){typeof t=="function"&&t("end");return}return"+"}return F4(e)}function xT(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=vT(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vT(e,r){if(e){if(typeof e=="string")return qw(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qw(e,r):void 0}}function qw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function z4(e,r){var t=r.countries;r.defaultCountry;var n=r.metadata;n=new Ta(n);for(var i=xT(t),l;!(l=i()).done;){var c=l.value;if(n.country(c),n.leadingDigits()){if(e&&e.search(n.leadingDigits())===0)return c}else if(ev({phone:e,country:c},void 0,n.metadata))return c}}function q4(e,r){var t=r.nationalNumber,n=r.defaultCountry,i=r.metadata,l=i.getCountryCodesForCallingCode(e);if(l)return l.length===1?l[0]:z4(t,{countries:l,defaultCountry:n,metadata:i.metadata})}var H4="+",bT="[\\-\\.\\(\\)]?",Hw="(["+Nn+"]|"+bT+")",wT="^\\"+H4+Hw+"*["+Nn+"]"+Hw+"*$",jT=new RegExp(wT,"g"),ox=Nn,NT="["+ox+"]+((\\-)*["+ox+"])*",_T="a-zA-Z",kT="["+_T+"]+((\\-)*["+ox+"])*",ST="^("+NT+"\\.)*"+kT+"\\.?$",CT=new RegExp(ST,"g"),Gw="tel:",lx=";phone-context=",ET=";isub=";function $T(e){var r=e.indexOf(lx);if(r<0)return null;var t=r+lx.length;if(t>=e.length)return"";var n=e.indexOf(";",t);return n>=0?e.substring(t,n):e.substring(t)}function OT(e){return e===null?!0:e.length===0?!1:jT.test(e)||CT.test(e)}function TT(e,r){var t=r.extractFormattedPhoneNumber,n=$T(e);if(!OT(n))throw new Hi("NOT_A_NUMBER");var i;if(n===null)i=t(e)||"";else{i="",n.charAt(0)===H4&&(i+=n);var l=e.indexOf(Gw),c;l>=0?c=l+Gw.length:c=0;var f=e.indexOf(lx);i+=e.substring(c,f)}var h=i.indexOf(ET);if(h>0&&(i=i.substring(0,h)),i!=="")return i}var AT=250,RT=new RegExp("["+Im+Nn+"]"),PT=new RegExp("[^"+Nn+"#]+$");function MT(e,r,t){if(r=r||{},t=new Ta(t),r.defaultCountry&&!t.hasCountry(r.defaultCountry))throw r.v2?new Hi("INVALID_COUNTRY"):new Error("Unknown country: ".concat(r.defaultCountry));var n=IT(e,r.v2,r.extract),i=n.number,l=n.ext,c=n.error;if(!i){if(r.v2)throw c==="TOO_SHORT"?new Hi("TOO_SHORT"):new Hi("NOT_A_NUMBER");return{}}var f=UT(i,r.defaultCountry,r.defaultCallingCode,t),h=f.country,d=f.nationalNumber,m=f.countryCallingCode,x=f.countryCallingCodeSource,p=f.carrierCode;if(!t.hasSelectedNumberingPlan()){if(r.v2)throw new Hi("INVALID_COUNTRY");return{}}if(!d||d.length<tv){if(r.v2)throw new Hi("TOO_SHORT");return{}}if(d.length>bO){if(r.v2)throw new Hi("TOO_LONG");return{}}if(r.v2){var b=new U4(m,d,t.metadata);return h&&(b.country=h),p&&(b.carrierCode=p),l&&(b.ext=l),b.__countryCallingCodeSource=x,b}var S=(r.extended?t.hasSelectedNumberingPlan():h)?Xi(d,t.nationalNumberPattern()):!1;return r.extended?{country:h,countryCallingCode:m,carrierCode:p,valid:S,possible:S?!0:!!(r.extended===!0&&t.possibleLengths()&&T4(d,t)),phone:d,ext:l}:S?LT(h,d,l):{}}function DT(e,r,t){if(e){if(e.length>AT){if(t)throw new Hi("TOO_LONG");return}if(r===!1)return e;var n=e.search(RT);if(!(n<0))return e.slice(n).replace(PT,"")}}function IT(e,r,t){var n=TT(e,{extractFormattedPhoneNumber:function(c){return DT(c,t,r)}});if(!n)return{};if(!UO(n))return FO(n)?{error:"TOO_SHORT"}:{};var i=fT(n);return i.ext?i:{number:n}}function LT(e,r,t){var n={country:e,phone:r};return t&&(n.ext=t),n}function UT(e,r,t,n){var i=rv(ix(e),r,t,n.metadata),l=i.countryCallingCodeSource,c=i.countryCallingCode,f=i.number,h;if(c)n.selectNumberingPlan(c);else if(f&&(r||t))n.selectNumberingPlan(r,t),r&&(h=r),c=t||Jo(r,n.metadata);else return{};if(!f)return{countryCallingCodeSource:l,countryCallingCode:c};var d=ax(ix(f),n),m=d.nationalNumber,x=d.carrierCode,p=q4(c,{nationalNumber:m,defaultCountry:r,metadata:n});return p&&(h=p,p==="001"||n.country(h)),{country:h,countryCallingCode:c,countryCallingCodeSource:l,nationalNumber:m,carrierCode:x}}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qd(e)}function Vw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Kw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Vw(Object(t),!0).forEach(function(n){FT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vw(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function FT(e,r,t){return(r=BT(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BT(e){var r=zT(e,"string");return Qd(r)=="symbol"?r:r+""}function zT(e,r){if(Qd(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function qT(e,r,t){return MT(e,Kw(Kw({},r),{},{v2:!0}),t)}function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zd(e)}function Ww(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function HT(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ww(Object(t),!0).forEach(function(n){GT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ww(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function GT(e,r,t){return(r=VT(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function VT(e){var r=KT(e,"string");return Zd(r)=="symbol"?r:r+""}function KT(e,r){if(Zd(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function WT(e,r){return ZT(e)||QT(e,r)||XT(e,r)||YT()}function YT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XT(e,r){if(e){if(typeof e=="string")return Yw(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yw(e,r):void 0}}function Yw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function QT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,l,c,f=[],h=!0,d=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(h=(n=l.call(t)).done)&&(f.push(n.value),f.length!==r);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw i}}return f}}function ZT(e){if(Array.isArray(e))return e}function JT(e){var r=Array.prototype.slice.call(e),t=WT(r,4),n=t[0],i=t[1],l=t[2],c=t[3],f,h,d;if(typeof n=="string")f=n;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")c?(h=l,d=c):(h=void 0,d=l),i&&(h=HT({defaultCountry:i},h));else if(Dl(i))l?(h=i,d=l):d=i;else throw new Error("Invalid second argument: ".concat(i));return{text:f,options:h,metadata:d}}function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jd(e)}function Xw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Qw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xw(Object(t),!0).forEach(function(n){eA(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xw(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eA(e,r,t){return(r=tA(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tA(e){var r=rA(e,"string");return Jd(r)=="symbol"?r:r+""}function rA(e,r){if(Jd(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function aA(e,r,t){r&&r.defaultCountry&&!$4(r.defaultCountry,t)&&(r=Qw(Qw({},r),{},{defaultCountry:void 0}));try{return qT(e,r,t)}catch(n){if(!(n instanceof Hi))throw n}}function nA(){var e=JT(arguments),r=e.text,t=e.options,n=e.metadata;return aA(r,t,n)}function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e0(e)}function sA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iA(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lA(n.key),n)}}function oA(e,r,t){return r&&iA(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lA(e){var r=cA(e,"string");return e0(r)=="symbol"?r:r+""}function cA(e,r){if(e0(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uA=function(){function e(r){var t=r.onCountryChange,n=r.onCallingCodeChange;sA(this,e),this.onCountryChange=t,this.onCallingCodeChange=n}return oA(e,[{key:"reset",value:function(t){var n=t.country,i=t.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(t){for(var n=0,i=Object.keys(t);n<i.length;n++){var l=i[n];this[l]=t[l]}}},{key:"initCountryAndCallingCode",value:function(t,n){this.setCountry(t),this.setCallingCode(n)}},{key:"setCountry",value:function(t){this.country=t,this.onCountryChange(t)}},{key:"setCallingCode",value:function(t){this.callingCode=t,this.onCallingCodeChange(t,this.country)}},{key:"startInternationalNumber",value:function(t,n){this.international=!0,this.initCountryAndCallingCode(t,n)}},{key:"appendDigits",value:function(t){this.digits+=t}},{key:"appendNationalSignificantNumberDigits",value:function(t){this.nationalSignificantNumber+=t}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function dA(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=fA(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fA(e,r){if(e){if(typeof e=="string")return Zw(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Zw(e,r):void 0}}function Zw(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var Us="x",Jp=new RegExp(Us);function Wh(e,r){if(r<1)return"";for(var t="";r>1;)r&1&&(t+=e),r>>=1,e+=e;return t+e}function Jw(e,r){return e[r]===")"&&r++,hA(e.slice(0,r))}function hA(e){for(var r=[],t=0;t<e.length;)e[t]==="("?r.push(t):e[t]===")"&&r.pop(),t++;var n=0,i="";r.push(e.length);for(var l=0,c=r;l<c.length;l++){var f=c[l];i+=e.slice(n,f),n=f+1}return i}function mA(e,r,t){for(var n=dA(t.split("")),i;!(i=n()).done;){var l=i.value;if(e.slice(r+1).search(Jp)<0)return;r=e.search(Jp),e=e.replace(Jp,l)}return[e,r]}function gA(e,r,t){var n=t.metadata,i=t.shouldTryNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix,c=new RegExp("^(?:".concat(r.pattern(),")$"));if(c.test(e.nationalSignificantNumber))return yA(e,r,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:l})}function pA(e,r){return Dm(e,r)==="IS_POSSIBLE"}function yA(e,r,t){var n=t.metadata,i=t.shouldTryNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(r)){var c=e3(e,r,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:l,metadata:n});if(c)return c}return e3(e,r,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:l,metadata:n})}function e3(e,r,t){var n=t.metadata,i=t.useNationalPrefixFormattingRule,l=t.getSeparatorAfterNationalPrefix,c=D4(e.nationalSignificantNumber,r,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:n});if(i||(e.nationalPrefix?c=e.nationalPrefix+l(r)+c:e.complexPrefixBeforeNationalSignificantNumber&&(c=e.complexPrefixBeforeNationalSignificantNumber+" "+c)),xA(c,e))return c}function xA(e,r){return om(e)===r.getNationalDigits()}function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t0(e)}function vA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bA(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jA(n.key),n)}}function wA(e,r,t){return r&&bA(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jA(e){var r=NA(e,"string");return t0(r)=="symbol"?r:r+""}function NA(e,r){if(t0(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _A=function(){function e(){vA(this,e)}return wA(e,[{key:"parse",value:function(t){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(t),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],i=n.branches,l=n.instructions;if(i)return{op:"|",args:i.concat([ey(l)])};if(l.length===0)throw new Error("Pattern is required");return l.length===1?l[0]:l}},{key:"startContext",value:function(t){this.context.push(t)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(t){if(!t)throw new Error("Pattern is required");var n=t.match(CA);if(!n){if(SA.test(t))throw new Error("Illegal characters found in a pattern: ".concat(t));this.getContext().instructions=this.getContext().instructions.concat(t.split(""));return}var i=n[1],l=t.slice(0,n.index),c=t.slice(n.index+i.length);switch(i){case"(?:":l&&this.parsePattern(l),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(l&&this.parsePattern(l),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var f=this.getContext(),h=f.branches;h.push(ey(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:h});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(l&&this.parsePattern(l),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(ey(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":l&&this.parsePattern(l),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:kA(l)});break;default:throw new Error("Unknown operator: ".concat(i))}c&&this.parsePattern(c)}}])}();function kA(e){for(var r=[],t=0;t<e.length;){if(e[t]==="-"){if(t===0||t===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var n=e[t-1].charCodeAt(0)+1,i=e[t+1].charCodeAt(0)-1,l=n;l<=i;)r.push(String.fromCharCode(l)),l++}else r.push(e[t]);t++}return r}var SA=/[\(\)\[\]\?\:\|]/,CA=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function ey(e){return e.length===1?e[0]:e}function t3(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=EA(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EA(e,r){if(e){if(typeof e=="string")return r3(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r3(e,r):void 0}}function r3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},r0(e)}function $A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function OA(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AA(n.key),n)}}function TA(e,r,t){return r&&OA(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AA(e){var r=RA(e,"string");return r0(r)=="symbol"?r:r+""}function RA(e,r){if(r0(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PA=function(){function e(r){$A(this,e),this.matchTree=new _A().parse(r)}return TA(e,[{key:"match",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.allowOverflow;if(!t)throw new Error("String is required");var l=cx(t.split(""),this.matchTree,!0);if(l&&l.match&&delete l.matchedChars,!(l&&l.overflow&&!i))return l}}])}();function cx(e,r,t){if(typeof r=="string"){var n=e.join("");return r.indexOf(n)===0?e.length===r.length?{match:!0,matchedChars:e}:{partialMatch:!0}:n.indexOf(r)===0?t&&e.length>r.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,r.length)}:void 0}if(Array.isArray(r)){for(var i=e.slice(),l=0;l<r.length;){var c=r[l],f=cx(i,c,t&&l===r.length-1);if(f){if(f.overflow)return f;if(f.match){if(i=i.slice(f.matchedChars.length),i.length===0)return l===r.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(f.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}else return;l++}return t?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(r.op){case"|":for(var h,d=t3(r.args),m;!(m=d()).done;){var x=m.value,p=cx(e,x,t);if(p){if(p.overflow)return p;if(p.match)return{match:!0,matchedChars:p.matchedChars};if(p.partialMatch)h=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(p,null,2)))}}return h?{partialMatch:!0}:void 0;case"[]":for(var b=t3(r.args),S;!(S=b()).done;){var k=S.value;if(e[0]===k)return e.length===1?{match:!0,matchedChars:e}:t?{overflow:!0}:{match:!0,matchedChars:[k]}}return;default:throw new Error("Unsupported instruction tree: ".concat(r))}}function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a0(e)}function a3(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=MA(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MA(e,r){if(e){if(typeof e=="string")return n3(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n3(e,r):void 0}}function n3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function DA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function IA(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UA(n.key),n)}}function LA(e,r,t){return r&&IA(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UA(e){var r=FA(e,"string");return a0(r)=="symbol"?r:r+""}function FA(e,r){if(a0(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(a0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ux="9",BA=15,zA=Wh(ux,BA),qA=/[- ]/,HA=function(){return/\[([^\[\]])*\]/g},GA=function(){return/\d(?=[^,}][^,}])/g},VA=new RegExp("["+Gs+"]*\\$1["+Gs+"]*(\\$\\d["+Gs+"]*)*$"),s3=3,KA=function(){function e(r){r.state;var t=r.metadata;DA(this,e),this.metadata=t,this.resetFormat()}return LA(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(t,n){this.resetFormat(),t?(this.isNANP=t.callingCode()==="1",this.matchingFormats=t.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(t,n){var i=this;if(pA(n.nationalSignificantNumber,this.metadata))for(var l=a3(this.matchingFormats),c;!(c=l()).done;){var f=c.value,h=gA(n,f,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(m){return i.shouldTryNationalPrefixFormattingRule(m,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(m){return i.getSeparatorAfterNationalPrefix(m)}});if(h)return this.resetFormat(),this.chosenFormat=f,this.setNationalNumberTemplate(h.replace(/\d/g,Us),n),this.populatedNationalNumberTemplate=h,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Us),h}return this.formatNationalNumberWithNextDigits(t,n)}},{key:"formatNationalNumberWithNextDigits",value:function(t,n){var i=this.chosenFormat,l=this.chooseFormat(n);if(l)return l===i?this.formatNextNationalNumberDigits(t):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(t){var n=this,i=t.nationalSignificantNumber,l=t.nationalPrefix,c=t.international,f=i,h=f.length-s3;h<0&&(h=0),this.matchingFormats=this.matchingFormats.filter(function(d){return n.formatSuits(d,c,l)&&n.formatMatches(d,f,h)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(t,n,i){return!(i&&!t.usesNationalPrefix()&&!t.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!i&&t.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(t,n,i){var l=t.leadingDigitsPatterns().length;if(l===0)return!0;i=Math.min(i,l-1);var c=t.leadingDigitsPatterns()[i];if(n.length<s3)try{return new PA(c).match(n,{allowOverflow:!0})!==void 0}catch(f){return console.error(f),!0}return new RegExp("^(".concat(c,")")).test(n)}},{key:"getFormatFormat",value:function(t,n){return n?t.internationalFormat():t.format()}},{key:"chooseFormat",value:function(t){for(var n=this,i=function(){var d=f.value;return n.chosenFormat===d?0:VA.test(n.getFormatFormat(d,t.international))?n.createTemplateForFormat(d,t)?(n.chosenFormat=d,0):(n.matchingFormats=n.matchingFormats.filter(function(m){return m!==d}),1):1},l,c=a3(this.matchingFormats.slice()),f;!(f=c()).done&&(l=i(),l!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(t,n){if(!(t.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(t,n);if(i)return this.setNationalNumberTemplate(i,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(t){return this.isNANP||t&&t.nationalPrefixFormattingRule()&&qA.test(t.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(t,n){var i=t.IDDPrefix,l=t.missingPlus;return i?n&&n.spacing===!1?i:i+" ":l?"":"+"}},{key:"getTemplate",value:function(t){if(this.template){for(var n=-1,i=0,l=t.international?this.getInternationalPrefixBeforeCountryCallingCode(t,{spacing:!1}):"";i<l.length+t.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(Us,n+1),i++;return Jw(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(t,n){this.nationalNumberTemplate=t,this.populatedNationalNumberTemplate=t,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,Us)+Wh(Us,n.callingCode.length)+" "+t:this.template=t}},{key:"getTemplateForFormat",value:function(t,n){var i=n.nationalSignificantNumber,l=n.international,c=n.nationalPrefix,f=n.complexPrefixBeforeNationalSignificantNumber,h=t.pattern();h=h.replace(HA(),"\\d").replace(GA(),"\\d");var d=zA.match(h)[0];if(!(i.length>d.length)){var m=new RegExp("^"+h+"$"),x=i.replace(/\d/g,ux);m.test(x)&&(d=x);var p=this.getFormatFormat(t,l),b;if(this.shouldTryNationalPrefixFormattingRule(t,{international:l,nationalPrefix:c})){var S=p.replace(M4,t.nationalPrefixFormattingRule());if(om(t.nationalPrefixFormattingRule())===(c||"")+om("$1")&&(p=S,b=!0,c))for(var k=c.length;k>0;)p=p.replace(/\d/,Us),k--}var T=d.replace(new RegExp(h),p).replace(new RegExp(ux,"g"),Us);return b||(f?T=Wh(Us,f.length)+" "+T:c&&(T=Wh(Us,c.length)+this.getSeparatorAfterNationalPrefix(t)+T)),l&&(T=P4(T)),T}}},{key:"formatNextNationalNumberDigits",value:function(t){var n=mA(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,t);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],Jw(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(t,n){var i=n.international,l=n.nationalPrefix;if(t.nationalPrefixFormattingRule()){var c=t.usesNationalPrefix();if(c&&l||!c&&!i)return!0}}}])}();function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n0(e)}function G4(e,r){return QA(e)||XA(e,r)||YA(e,r)||WA()}function WA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YA(e,r){if(e){if(typeof e=="string")return i3(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i3(e,r):void 0}}function i3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function XA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,l,c,f=[],h=!0,d=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(h=(n=l.call(t)).done)&&(f.push(n.value),f.length!==r);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw i}}return f}}function QA(e){if(Array.isArray(e))return e}function ZA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function JA(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tR(n.key),n)}}function eR(e,r,t){return r&&JA(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tR(e){var r=rR(e,"string");return n0(r)=="symbol"?r:r+""}function rR(e,r){if(n0(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aR="["+Gs+Nn+"]+",nR=new RegExp("^"+aR+"$","i"),sR="(?:["+Im+"]["+Gs+Nn+"]*|["+Gs+Nn+"]+)",iR=new RegExp("[^"+Gs+Nn+"]+.*$"),oR=/[^\d\[\]]/,lR=function(){function e(r){var t=r.defaultCountry,n=r.defaultCallingCode,i=r.metadata,l=r.onNationalSignificantNumberChange;ZA(this,e),this.defaultCountry=t,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=l}return eR(e,[{key:"input",value:function(t,n){var i=dR(t),l=G4(i,2),c=l[0],f=l[1],h=om(c),d;return f&&(n.digits||(n.startInternationalNumber(),h||(d=!0))),h&&this.inputDigits(h,n),{digits:h,justLeadingPlus:d}}},{key:"inputDigits",value:function(t,n){var i=n.digits,l=i.length<3&&i.length+t.length>=3;if(n.appendDigits(t),l&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(t);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(c){return n.update(c)})}},{key:"isWaitingForCountryCallingCode",value:function(t){var n=t.international,i=t.callingCode;return n&&!i}},{key:"extractCountryCallingCode",value:function(t){var n=rv("+"+t.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode,l=n.number;if(i)return t.setCallingCode(i),t.update({nationalSignificantNumber:l}),!0}},{key:"reset",value:function(t){if(t){this.hasSelectedNumberingPlan=!0;var n=t._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&oR.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(t,n){if(this.hasSelectedNumberingPlan){var i=rx(t,this.metadata),l=i.nationalPrefix,c=i.nationalNumber,f=i.carrierCode;if(c!==t)return this.onExtractedNationalNumber(l,f,c,t,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(t,n,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(t,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var l=rx(t,this.metadata),c=l.nationalPrefix,f=l.nationalNumber,h=l.carrierCode;if(f!==n)return this.onExtractedNationalNumber(c,h,f,t,i),!0}}},{key:"onExtractedNationalNumber",value:function(t,n,i,l,c){var f,h,d=l.lastIndexOf(i);if(d>=0&&d===l.length-i.length){h=!0;var m=l.slice(0,d);m!==t&&(f=m)}c({nationalPrefix:t,carrierCode:n,nationalSignificantNumber:i,nationalSignificantNumberMatchesInput:h,complexPrefixBeforeNationalSignificantNumber:f}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(t){if(this.extractAnotherNationalSignificantNumber(t.getNationalDigits(),t.nationalSignificantNumber,function(n){return t.update(n)}))return!0;if(this.extractIddPrefix(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0;if(this.fixMissingPlus(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0}},{key:"extractIddPrefix",value:function(t){var n=t.international,i=t.IDDPrefix,l=t.digits;if(t.nationalSignificantNumber,!(n||i)){var c=A4(l,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(c!==void 0&&c!==l)return t.update({IDDPrefix:l.slice(0,l.length-c.length)}),this.startInternationalNumber(t,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(t){if(!t.international){var n=R4(t.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode;if(n.number,i)return t.update({missingPlus:!0}),this.startInternationalNumber(t,{country:t.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(t,n){var i=n.country,l=n.callingCode;t.startInternationalNumber(i,l),t.nationalSignificantNumber&&(t.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(t){this.extractCountryCallingCode(t)&&this.extractNationalSignificantNumber(t.getNationalDigits(),function(n){return t.update(n)})}}])}();function cR(e){var r=e.search(sR);if(!(r<0)){e=e.slice(r);var t;return e[0]==="+"&&(t=!0,e=e.slice(1)),e=e.replace(iR,""),t&&(e="+"+e),e}}function uR(e){var r=cR(e)||"";return r[0]==="+"?[r.slice(1),!0]:[r]}function dR(e){var r=uR(e),t=G4(r,2),n=t[0],i=t[1];return nR.test(n)||(n=""),[n,i]}function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s0(e)}function fR(e,r){return pR(e)||gR(e,r)||mR(e,r)||hR()}function hR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(e,r){if(e){if(typeof e=="string")return o3(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o3(e,r):void 0}}function o3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function gR(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,l,c,f=[],h=!0,d=!1;try{if(l=(t=t.call(e)).next,r!==0)for(;!(h=(n=l.call(t)).done)&&(f.push(n.value),f.length!==r);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw i}}return f}}function pR(e){if(Array.isArray(e))return e}function yR(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xR(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bR(n.key),n)}}function vR(e,r,t){return r&&xR(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bR(e){var r=wR(e,"string");return s0(r)=="symbol"?r:r+""}function wR(e,r){if(s0(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vu=function(){function e(r,t){yR(this,e),this.metadata=new Ta(t);var n=this.getCountryAndCallingCode(r),i=fR(n,2),l=i[0],c=i[1];this.defaultCountry=l,this.defaultCallingCode=c,this.reset()}return vR(e,[{key:"getCountryAndCallingCode",value:function(t){var n,i;return t&&(Dl(t)?(n=t.defaultCountry,i=t.defaultCallingCode):n=t),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,i]}},{key:"input",value:function(t){var n=this.parser.input(t,this.state),i=n.digits,l=n.justLeadingPlus;if(l)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var c;if(this.metadata.hasSelectedNumberingPlan()&&(c=this.formatter.format(i,this.state)),c===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var f=this.state.getNationalDigits();f&&(c=this.formatter.format(f,this.state))}this.formattedOutput=c?this.getFullNumber(c):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var t=this;return this.state=new uA({onCountryChange:function(i){t.country=i},onCallingCodeChange:function(i,l){t.metadata.selectNumberingPlan(l,i),t.formatter.reset(t.metadata.numberingPlan,t.state),t.parser.reset(t.metadata.numberingPlan)}}),this.formatter=new KA({state:this.state,metadata:this.metadata}),this.parser=new lR({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){t.determineTheCountryIfNeeded(),t.formatter.reset(t.metadata.numberingPlan,t.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var t=this.state.digits;if(t)return this._getCountry()}},{key:"_getCountry",value:function(){var t=this.state.country;return t}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(t){var n=this;if(this.isInternational()){var i=function(f){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!f})+f},l=this.state.callingCode;return i(l?t?"".concat(l," ").concat(t):l:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return t}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var t=this.state,n=t.nationalSignificantNumber,i=t.complexPrefixBeforeNationalSignificantNumber,l=t.nationalPrefix,c=n,f=i||l;return f&&(c=f+c),c}},{key:"getNonFormattedNumber",value:function(){var t=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(t?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var t=this.getNonFormattedNumber();if(t)return t.replace(/[\+\d]/g,Us)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var t=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(t);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(q4(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var t=this.state,n=t.digits,i=t.callingCode,l=t.country,c=t.nationalSignificantNumber;if(n){if(this.isInternational())return i?"+"+i+c:"+"+n;if(l||i){var f=l?this.metadata.countryCallingCode():i;return"+"+f+c}}}},{key:"getNumber",value:function(){var t=this.state,n=t.nationalSignificantNumber,i=t.carrierCode,l=t.callingCode,c=this._getCountry();if(n&&!(!c&&!l)){if(c&&c===this.defaultCountry){var f=new Ta(this.metadata.metadata);f.selectNumberingPlan(c);var h=f.numberingPlan.callingCode(),d=this.metadata.getCountryCodesForCallingCode(h);if(d.length>1){var m=z4(n,{countries:d,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});m&&(c=m)}}var x=new U4(c||l,n,this.metadata.metadata);return i&&(x.carrierCode=i),x}}},{key:"isPossible",value:function(){var t=this.getNumber();return t?t.isPossible():!1}},{key:"isValid",value:function(){var t=this.getNumber();return t?t.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function l3(e){return new Ta(e).getCountries()}function jR(e,r,t){return t||(t=r,r=void 0),new vu(r,t).input(e)}function V4(e){var r=e.inputFormat,t=e.country,n=e.metadata;return r==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Jo(t,n)):""}function dx(e,r){return r&&(e=e.slice(r.length),e[0]===" "&&(e=e.slice(1))),e}function NR(e,r,t){if(!(t&&t.ignoreRest)){var n=function(l){if(t)switch(l){case"end":t.ignoreRest=!0;break}};return B4(e,r,n)}}function K4(e){var r=e.onKeyDown,t=e.inputFormat;return E.useCallback(function(n){if(n.keyCode===kR&&t==="INTERNATIONAL"&&n.target instanceof HTMLInputElement&&_R(n.target)===SR.length){n.preventDefault();return}r&&r(n)},[r,t])}function _R(e){return e.selectionStart}var kR=8,SR="+",CR=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fx.apply(this,arguments)}function ER(e,r){if(e==null)return{};var t=$R(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function $R(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function OR(e){function r(t,n){var i=t.onKeyDown,l=t.country,c=t.inputFormat,f=t.metadata,h=f===void 0?e:f;t.international,t.withCountryCallingCode;var d=ER(t,CR),m=E.useCallback(function(p){var b=new vu(l,h),S=V4({inputFormat:c,country:l,metadata:h}),k=b.input(S+p),T=b.getTemplate();return S&&(k=dx(k,S),T&&(T=dx(T,S))),{text:k,template:T}},[l,h]),x=K4({onKeyDown:i,inputFormat:c});return vt.createElement(sm,fx({},d,{ref:n,parse:NR,format:m,onKeyDown:x}))}return r=vt.forwardRef(r),r.propTypes={value:ht.string.isRequired,onChange:ht.func.isRequired,onKeyDown:ht.func,country:ht.string,inputFormat:ht.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ht.object},r}const TR=OR();var AR=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hx.apply(this,arguments)}function RR(e,r){if(e==null)return{};var t=PR(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function PR(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function MR(e){function r(t,n){var i=t.value,l=t.onChange,c=t.onKeyDown,f=t.country,h=t.inputFormat,d=t.metadata,m=d===void 0?e:d,x=t.inputComponent,p=x===void 0?"input":x;t.international,t.withCountryCallingCode;var b=RR(t,AR),S=V4({inputFormat:h,country:f,metadata:m}),k=E.useCallback(function(A){var M=ix(A.target.value);if(M===i){var H=c3(S,M,f,m);H.indexOf(A.target.value)===0&&(M=M.slice(0,-1))}l(M)},[S,i,l,f,m]),T=K4({onKeyDown:c,inputFormat:h});return vt.createElement(p,hx({},b,{ref:n,value:c3(S,i,f,m),onChange:k,onKeyDown:T}))}return r=vt.forwardRef(r),r.propTypes={value:ht.string.isRequired,onChange:ht.func.isRequired,onKeyDown:ht.func,country:ht.string,inputFormat:ht.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ht.object,inputComponent:ht.elementType},r}const DR=MR();function c3(e,r,t,n){return dx(jR(e+r,t,n),e)}function IR(e){return u3(e[0])+u3(e[1])}function u3(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var LR=["value","onChange","options","disabled","readOnly"],UR=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function FR(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=BR(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BR(e,r){if(e){if(typeof e=="string")return d3(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d3(e,r)}}function d3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},lm.apply(this,arguments)}function W4(e,r){if(e==null)return{};var t=zR(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function zR(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Y4(e){var r=e.value,t=e.onChange,n=e.options,i=e.disabled,l=e.readOnly,c=W4(e,LR),f=E.useCallback(function(h){var d=h.target.value;t(d==="ZZ"?void 0:d)},[t]);return E.useMemo(function(){return Q4(n,r)},[n,r]),vt.createElement("select",lm({},c,{disabled:i||l,readOnly:l,value:r||"ZZ",onChange:f}),n.map(function(h){var d=h.value,m=h.label,x=h.divider;return vt.createElement("option",{key:x?"|":d||"ZZ",value:x?"|":d||"ZZ",disabled:!!x,style:x?qR:void 0},m)}))}Y4.propTypes={value:ht.string,onChange:ht.func.isRequired,options:ht.arrayOf(ht.shape({value:ht.string,label:ht.string,divider:ht.bool})).isRequired,disabled:ht.bool,readOnly:ht.bool};var qR={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function X4(e){var r=e.value,t=e.options,n=e.className,i=e.iconComponent;e.getIconAspectRatio;var l=e.arrowComponent,c=l===void 0?HR:l,f=e.unicodeFlags,h=W4(e,UR),d=E.useMemo(function(){return Q4(t,r)},[t,r]);return vt.createElement("div",{className:"PhoneInputCountry"},vt.createElement(Y4,lm({},h,{value:r,options:t,className:nm("PhoneInputCountrySelect",n)})),d&&(f&&r?vt.createElement("div",{className:"PhoneInputCountryIconUnicode"},IR(r)):vt.createElement(i,{"aria-hidden":!0,country:r,label:d.label,aspectRatio:f?1:void 0})),vt.createElement(c,null))}X4.propTypes={iconComponent:ht.elementType,arrowComponent:ht.elementType,unicodeFlags:ht.bool};function HR(){return vt.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function Q4(e,r){for(var t=FR(e),n;!(n=t()).done;){var i=n.value;if(!i.divider&&GR(i.value,r))return i}}function GR(e,r){return e==null?r==null:e===r}var VR=["country","countryName","flags","flagUrl"];function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mx.apply(this,arguments)}function KR(e,r){if(e==null)return{};var t=WR(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function WR(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function nv(e){var r=e.country,t=e.countryName,n=e.flags,i=e.flagUrl,l=KR(e,VR);return n&&n[r]?n[r]({title:t}):vt.createElement("img",mx({},l,{alt:t,role:t?void 0:"presentation",src:i.replace("{XX}",r).replace("{xx}",r.toLowerCase())}))}nv.propTypes={country:ht.string.isRequired,countryName:ht.string.isRequired,flags:ht.objectOf(ht.elementType),flagUrl:ht.string.isRequired};var YR=["aspectRatio"],XR=["title"],QR=["title"];function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},cm.apply(this,arguments)}function sv(e,r){if(e==null)return{};var t=ZR(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function ZR(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Lm(e){var r=e.aspectRatio,t=sv(e,YR);return r===1?vt.createElement(J4,t):vt.createElement(Z4,t)}Lm.propTypes={title:ht.string.isRequired,aspectRatio:ht.number};function Z4(e){var r=e.title,t=sv(e,XR);return vt.createElement("svg",cm({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),vt.createElement("title",null,r),vt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},vt.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),vt.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),vt.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),vt.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),vt.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),vt.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),vt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}Z4.propTypes={title:ht.string.isRequired};function J4(e){var r=e.title,t=sv(e,QR);return vt.createElement("svg",cm({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),vt.createElement("title",null,r),vt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},vt.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),vt.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),vt.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),vt.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),vt.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),vt.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),vt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}J4.propTypes={title:ht.string.isRequired};function JR(e){if(e.length<2||e[0]!=="+")return!1;for(var r=1;r<e.length;){var t=e.charCodeAt(r);if(!(t>=48&&t<=57))return!1;r++}return!0}function e_(e){JR(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function eP(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=tP(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tP(e,r){if(e){if(typeof e=="string")return f3(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f3(e,r)}}function f3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function rP(e,r){if(!r)return e;for(var t=[],n=[],i=t,l=function(){var d=f.value;if(d==="|")i.push({divider:!0});else if(d==="..."||d==="")i=n;else{var m;d===""?m=void 0:m=d;var x=e.indexOf(e.filter(function(b){return b.value===m})[0]),p=e[x];e.splice(x,1),i.push(p)}},c=eP(r),f;!(f=c()).done;)l();return t.concat(e).concat(n)}function aP(e,r){if(e&&(e=e.filter(function(t){switch(t){case"":case"|":case"...":case"":return!0;default:return Um(t,r)}}),e.length>0))return e}function Um(e,r){return $4(e,r)?!0:(console.error("Country not found: ".concat(e)),!1)}function t_(e,r){return e&&(e=e.filter(function(t){return Um(t,r)}),e.length===0&&(e=void 0)),e}var nP=["country","label","aspectRatio"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gx.apply(this,arguments)}function sP(e,r){if(e==null)return{};var t=iP(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function iP(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function r_(e){var r=e.flags,t=e.flagUrl,n=e.flagComponent,i=e.internationalIcon;function l(c){var f=c.country,h=c.label,d=c.aspectRatio,m=sP(c,nP),x=i===Lm?d:void 0;return vt.createElement("div",gx({},m,{className:nm("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":x===1,"PhoneInputCountryIcon--border":f})}),f?vt.createElement(n,{country:f,countryName:h,flags:r,flagUrl:t,className:"PhoneInputCountryIconImg"}):vt.createElement(i,{title:h,aspectRatio:x,className:"PhoneInputCountryIconImg"}))}return l.propTypes={country:ht.string,label:ht.string.isRequired,aspectRatio:ht.number},l}r_({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:nv,internationalIcon:Lm});function oP(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=lP(e))||r){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lP(e,r){if(e){if(typeof e=="string")return h3(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h3(e,r)}}function h3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cP(e,r){for(var t=oP(e),n;!(n=t()).done;){var i=n.value;i&&uP(i,r)}}function uP(e,r){typeof e=="function"?e(r):e.current=r}var a_=ht.shape({country_calling_codes:ht.object.isRequired,countries:ht.object.isRequired}),n_=ht.objectOf(ht.string);function Vi(e,r){var t="+"+Jo(e,r);return t}function dP(e){var r=e.value,t=e.phoneNumber,n=e.defaultCountry,i=e.getAnyCountry,l=e.countries,c=e.required,f=e.metadata,h;return t&&t.country?h=t.country:n&&(!r||Jc(r,n,f))&&(h=n),l&&l.indexOf(h)<0&&(h=void 0),!h&&c&&l&&l.length>0&&(h=i()),h}function fP(e){var r=e.countries,t=e.countryNames,n=e.addInternationalOption,i=e.compareStringsLocales,l=e.compareStrings;l||(l=vP);var c=r.map(function(f){return{value:f,label:t[f]||f}});return c.sort(function(f,h){return l(f.label,h.label,i)}),n&&c.unshift({label:t.ZZ}),c}function s_(e,r){return nA(e||"",r)}function hP(e){return e.formatNational().replace(/\D/g,"")}function mP(e,r){var t=r.prevCountry,n=r.newCountry,i=r.metadata,l=r.useNationalFormat;if(t===n)return e;if(!e)return l?"":n?Vi(n,i):"";if(n){if(e[0]==="+"){if(l)return e.indexOf("+"+Jo(n,i))===0?bP(e,n,i):"";if(t){var c=Vi(n,i);return e.indexOf(c)===0?e:c}else{var f=Vi(n,i);return e.indexOf(f)===0?e:f}}}else if(e[0]!=="+")return Yc(e,t,i)||"";return e}function Yc(e,r,t){if(e){if(e[0]==="+"){if(e==="+")return;var n=new vu(r,t);return n.input(e),n.getNumberValue()}if(r){var i=o_(e,r,t);return"+".concat(Jo(r,t)).concat(i||"")}}}function gP(e,r,t){var n=o_(e,r,t);if(n){var i=n.length-pP(r,t);if(i>0)return e.slice(0,e.length-i)}return e}function pP(e,r){return r=new Ta(r),r.selectNumberingPlan(e),r.numberingPlan.possibleLengths()[r.numberingPlan.possibleLengths().length-1]}function i_(e,r){var t=r.country,n=r.countries,i=r.defaultCountry,l=r.latestCountrySelectedByUser,c=r.required,f=r.metadata;if(e==="+")return t;var h=xP(e,f);if(h)return!n||n.indexOf(h)>=0?h:void 0;if(t){if(Jc(e,t,f)){if(l&&Jc(e,l,f))return l;if(i&&Jc(e,i,f))return i;if(!c)return}else if(!c)return}return t}function yP(e,r){var t=r.prevPhoneDigits,n=r.country,i=r.defaultCountry,l=r.latestCountrySelectedByUser,c=r.countryRequired,f=r.getAnyCountry,h=r.countries,d=r.international,m=r.limitMaxLength,x=r.countryCallingCodeEditable,p=r.metadata;if(d&&x===!1&&n){var b=Vi(n,p);if(e.indexOf(b)!==0){var S,k=e&&e[0]!=="+";return k?(e=b+e,S=Yc(e,n,p)):e=b,{phoneDigits:e,value:S,country:n}}}d===!1&&n&&e&&e[0]==="+"&&(e=m3(e,n,p)),e&&n&&m&&(e=gP(e,n,p)),e&&e[0]!=="+"&&(!n||d)&&(e="+"+e),!e&&t&&t[0]==="+"&&(d?n=void 0:n=i),e==="+"&&t&&t[0]==="+"&&t.length>1&&(n=void 0);var T;return e&&(e[0]==="+"&&(e==="+"||n&&Vi(n,p).indexOf(e)===0)?T=void 0:T=Yc(e,n,p)),T&&(n=i_(T,{country:n,countries:h,defaultCountry:i,latestCountrySelectedByUser:l,required:!1,metadata:p}),d===!1&&n&&e&&e[0]==="+"&&(e=m3(e,n,p),T=Yc(e,n,p))),!n&&c&&(n=i||f()),{phoneDigits:e,country:n,value:T}}function m3(e,r,t){if(e.indexOf(Vi(r,t))===0){var n=new vu(r,t);n.input(e);var i=n.getNumber();return i?i.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function xP(e,r){var t=new vu(null,r);return t.input(e),t.getCountry()}function vP(e,r,t){return String.prototype.localeCompare?e.localeCompare(r,t):e<r?-1:e>r?1:0}function bP(e,r,t){if(r){var n="+"+Jo(r,t);if(e.length<n.length){if(n.indexOf(e)===0)return""}else if(e.indexOf(n)===0)return e.slice(n.length)}for(var i=0,l=Object.keys(t.country_calling_codes);i<l.length;i++){var c=l[i];if(e.indexOf(c)===1)return e.slice(1+c.length)}return""}function o_(e,r,t){var n=new vu(r,t);n.input(e);var i=n.getNumber();return i&&i.nationalNumber}function Jc(e,r,t){for(var n=Vi(r,t),i=0;i<e.length&&i<n.length;){if(e[i]!==n[i])return!1;i++}return!0}function l_(e){var r=e.value,t=e.phoneNumber,n=e.defaultCountry,i=e.international,l=e.useNationalFormat,c=e.metadata;return(i===!1||l)&&t&&t.country?hP(t):!r&&i&&n?Vi(n,c):r}function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i0(e)}function g3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Vf(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?g3(Object(t),!0).forEach(function(n){wP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g3(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wP(e,r,t){return r=jP(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function jP(e){var r=NP(e,"string");return i0(r)=="symbol"?r:r+""}function NP(e,r){if(i0(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _P(e,r,t){var n=e.metadata,i=e.countries,l=e.defaultCountry,c=e.value,f=e.reset,h=e.international,d=e.displayInitialValueAsLocalNumber,m=e.initialValueFormat,x=r.defaultCountry,p=r.value,b=r.reset;t.country;var S=t.value,k=t.hasUserSelectedACountry,T=t.latestCountrySelectedByUser,A=function(ee){return l_(Vf(Vf({},ee),{},{international:h,useNationalFormat:d||m==="national",metadata:n}))};if(f!==b)return{phoneDigits:A({value:void 0,defaultCountry:l}),value:void 0,country:l,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(l!==x){var M=!l||Um(l,n),H=!S||h&&S===A({value:void 0,defaultCountry:x}),D=!c&&H;if(!k&&M&&D)return{country:l,phoneDigits:A({value:void 0,defaultCountry:l}),value:void 0}}if(!p3(c,p)&&!p3(c,S)){var G,V;if(c){c&&e_(c),G=s_(c,n);var se=t_(i,n);G&&G.country?(!se||se.indexOf(G.country)>=0)&&(V=G.country):(V=i_(c,{country:void 0,countries:se,metadata:n}),V||l&&c.indexOf(Vi(l,n))===0&&(V=l))}var oe;if(c){if(T){var q=V?T===V:Jc(c,T,n);q?V||(V=T):oe={latestCountrySelectedByUser:void 0}}}else oe={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return Vf(Vf({},oe),{},{phoneDigits:A({phoneNumber:G,value:c,defaultCountry:l}),value:c,country:c?V:l})}}function p3(e,r){return e===null&&(e=void 0),r===null&&(r=void 0),e===r}var kP=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gu(e)}function y3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function c_(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?y3(Object(t),!0).forEach(function(n){Ls(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y3(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},eu.apply(this,arguments)}function SP(e,r){if(e==null)return{};var t=CP(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function CP(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function EP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function x3(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d_(n.key),n)}}function $P(e,r,t){return r&&x3(e.prototype,r),t&&x3(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OP(e,r,t){return r=um(r),TP(e,u_()?Reflect.construct(r,t||[],um(e).constructor):r.apply(e,t))}function TP(e,r){if(r&&(gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AP(e)}function AP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(u_=function(){return!!e})()}function um(e){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},um(e)}function RP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&px(e,r)}function px(e,r){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},px(e,r)}function Ls(e,r,t){return r=d_(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d_(e){var r=PP(e,"string");return gu(r)=="symbol"?r:r+""}function PP(e,r){if(gu(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var MP=function(e){function r(t){var n;EP(this,r),n=OP(this,r,[t]),Ls(n,"setInputRef",function(T){cP([n.props.inputRef,n.inputRef],T)}),Ls(n,"isCountrySupportedWithError",function(T){var A=n.props.metadata;return Um(T,A)}),Ls(n,"onCountryChange",function(T){var A=n.props,M=A.international,H=A.metadata,D=A.onChange,G=A.focusInputOnCountrySelection,V=n.state,se=V.phoneDigits,oe=V.country,q=mP(se,{prevCountry:oe,newCountry:T,metadata:H,useNationalFormat:!M}),ie=Yc(q,T,H);G&&n.inputRef.current.focus(),n.setState({country:T,latestCountrySelectedByUser:T,hasUserSelectedACountry:!0,phoneDigits:q,value:ie},function(){D(ie)})}),Ls(n,"onChange",function(T){var A=n.props,M=A.defaultCountry,H=A.onChange,D=A.addInternationalOption,G=A.international,V=A.limitMaxLength,se=A.countryCallingCodeEditable,oe=A.metadata,q=n.state,ie=q.countries,ee=q.phoneDigits,ae=q.country,J=q.latestCountrySelectedByUser,le=yP(T,{prevPhoneDigits:ee,country:ae,countryRequired:!D,defaultCountry:M,latestCountrySelectedByUser:J,getAnyCountry:function(){return n.getFirstSupportedCountry({countries:ie})},countries:ie,international:G,limitMaxLength:V,countryCallingCodeEditable:se,metadata:oe}),pe=le.phoneDigits,ue=le.country,ne=le.value,he={phoneDigits:pe,value:ne,country:ue};J&&ne&&!Jc(ne,J,oe)&&(he.latestCountrySelectedByUser=void 0),se===!1&&!ne&&pe===n.state.phoneDigits&&(he.forceRerender={}),n.setState(he,function(){return H(ne)})}),Ls(n,"_onFocus",function(){return n.setState({isFocused:!0})}),Ls(n,"_onBlur",function(){return n.setState({isFocused:!1})}),Ls(n,"onFocus",function(T){n._onFocus();var A=n.props.onFocus;A&&A(T)}),Ls(n,"onBlur",function(T){var A=n.props.onBlur;n._onBlur(),A&&A(T)}),Ls(n,"onCountryFocus",function(T){n._onFocus();var A=n.props.countrySelectProps;if(A){var M=A.onFocus;M&&M(T)}}),Ls(n,"onCountryBlur",function(T){n._onBlur();var A=n.props.countrySelectProps;if(A){var M=A.onBlur;M&&M(T)}}),n.inputRef=vt.createRef();var i=n.props,l=i.value;i.labels;var c=i.international,f=i.addInternationalOption,h=i.displayInitialValueAsLocalNumber,d=i.initialValueFormat,m=i.metadata,x=n.props,p=x.defaultCountry,b=x.countries;p&&(n.isCountrySupportedWithError(p)||(p=void 0)),l&&e_(l),b=t_(b,m);var S=s_(l,m);n.CountryIcon=r_(n.props);var k=dP({value:l,phoneNumber:S,defaultCountry:p,required:!f,countries:b||l3(m),getAnyCountry:function(){return n.getFirstSupportedCountry({countries:b})},metadata:m});return n.state={props:n.props,country:k,countries:b,phoneDigits:l_({value:l,phoneNumber:S,defaultCountry:p,international:c,useNationalFormat:h||d==="national",metadata:m}),value:l},n}return RP(r,e),$P(r,[{key:"componentDidMount",value:function(){var n=this.props.onCountryChange,i=this.props.defaultCountry,l=this.state.country;n&&(i&&(this.isCountrySupportedWithError(i)||(i=void 0)),l!==i&&n(l))}},{key:"componentDidUpdate",value:function(n,i){var l=this.props.onCountryChange,c=this.state.country;l&&c!==i.country&&l(c)}},{key:"getCountrySelectOptions",value:function(n){var i=n.countries,l=this.props,c=l.international,f=l.countryCallingCodeEditable,h=l.countryOptionsOrder,d=l.addInternationalOption,m=l.labels,x=l.locales,p=l.metadata;return this.useMemoCountrySelectOptions(function(){return rP(fP({countries:i||l3(p),countryNames:m,addInternationalOption:c&&f===!1?!1:d,compareStringsLocales:x}),aP(h,p))},[i,h,d,m,p])}},{key:"useMemoCountrySelectOptions",value:function(n,i){return(!this.countrySelectOptionsMemoDependencies||!IP(i,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=n(),this.countrySelectOptionsMemoDependencies=i),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(n){var i=n.countries,l=this.getCountrySelectOptions({countries:i});return l[0].value}},{key:"render",value:function(){var n=this.props,i=n.name,l=n.disabled,c=n.readOnly,f=n.autoComplete,h=n.style,d=n.className;n.inputRef;var m=n.inputComponent,x=n.numberInputProps,p=n.smartCaret,b=n.countrySelectComponent,S=n.countrySelectProps,k=n.containerComponent,T=n.containerComponentProps;n.defaultCountry,n.countries,n.countryOptionsOrder;var A=n.labels;n.flags,n.flagComponent,n.flagUrl,n.addInternationalOption,n.internationalIcon,n.displayInitialValueAsLocalNumber,n.initialValueFormat,n.onCountryChange,n.limitMaxLength,n.countryCallingCodeEditable,n.focusInputOnCountrySelection,n.reset;var M=n.metadata,H=n.international;n.locales;var D=SP(n,kP),G=this.state,V=G.country,se=G.countries,oe=G.phoneDigits,q=G.isFocused,ie=p?TR:DR,ee=this.getCountrySelectOptions({countries:se});return vt.createElement(k,eu({style:h,className:nm(d,"PhoneInput",{"PhoneInput--focus":q,"PhoneInput--disabled":l,"PhoneInput--readOnly":c})},T),vt.createElement(b,eu({name:i?"".concat(i,"Country"):void 0,"aria-label":A.country},S,{value:V,options:ee,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:l||S&&S.disabled,readOnly:c||S&&S.readOnly,iconComponent:this.CountryIcon})),vt.createElement(ie,eu({ref:this.setInputRef,type:"tel",autoComplete:f},x,D,{inputFormat:H===!0?"INTERNATIONAL":H===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:H?!0:void 0,withCountryCallingCode:H?!0:void 0,name:i,metadata:M,country:V,value:oe||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:l,readOnly:c,inputComponent:m,className:nm("PhoneInputInput",x&&x.className,D.className)})))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return c_({props:n},_P(n,i.props,i))}}])}(vt.PureComponent),f_=vt.forwardRef(function(e,r){return vt.createElement(MP,eu({},DP(e),{inputRef:r}))});f_.propTypes={value:ht.string,onChange:ht.func.isRequired,onFocus:ht.func,onBlur:ht.func,disabled:ht.bool,readOnly:ht.bool,autoComplete:ht.string,initialValueFormat:ht.oneOf(["national"]),displayInitialValueAsLocalNumber:ht.bool,defaultCountry:ht.string,countries:ht.arrayOf(ht.string),labels:n_,locales:ht.oneOfType([ht.string,ht.arrayOf(ht.string)]),flagUrl:ht.string,flags:ht.objectOf(ht.elementType),flagComponent:ht.elementType,addInternationalOption:ht.bool,internationalIcon:ht.elementType,countryOptionsOrder:ht.arrayOf(ht.string),style:ht.object,className:ht.string,countrySelectComponent:ht.elementType,countrySelectProps:ht.object,inputComponent:ht.elementType,numberInputProps:ht.object,containerComponent:ht.elementType,containerComponentProps:ht.object,smartCaret:ht.bool,international:ht.bool,limitMaxLength:ht.bool,countryCallingCodeEditable:ht.bool,metadata:a_,onCountryChange:ht.func,focusInputOnCountrySelection:ht.bool};var v3={autoComplete:"tel",countrySelectComponent:X4,flagComponent:nv,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:Lm,inputComponent:"input",containerComponent:"div",reset:ht.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function DP(e){e=c_({},e);for(var r in v3)e[r]===void 0&&(e[r]=v3[r]);return e}function IP(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;){if(e[t]!==r[t])return!1;t++}return!0}const LP={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var UP=["metadata","labels"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yx.apply(this,arguments)}function FP(e,r){if(e==null)return{};var t=BP(e,r),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function BP(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function h_(e){var r=vt.forwardRef(function(t,n){var i=t.metadata,l=i===void 0?e:i,c=t.labels,f=c===void 0?LP:c,h=FP(t,UP);return vt.createElement(f_,yx({},h,{ref:n,metadata:l,labels:f}))});return r.propTypes={metadata:a_,labels:n_},r}h_();const b3=h_(b7),zP=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Runion"},{"value":"BL","label":"Saint Barthlemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),qP=JSON.parse(`[{"value":"AF","label":""},{"value":"AX","label":"land"},{"value":"AL","label":"Shqipria"},{"value":"DZ","label":""},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":""},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"sterreich"},{"value":"AZ","label":"Azrbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":""},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":""},{"value":"BE","label":"Belgi"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bnin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"brug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":""},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kmpcha"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Kdrsse t Bafrka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":""},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"Rpublique du Congo"},{"value":"CD","label":"Rpublique dmocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":""},{"value":"CZ","label":"esk republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Repblica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":""},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":""},{"value":"EE","label":"Eesti"},{"value":"ET","label":""},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Froyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane franaise"},{"value":"PF","label":"Polynsie franaise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":""},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":""},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guine"},{"value":"GW","label":"Guin-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Hati"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":""},{"value":"HU","label":"Magyarorszg"},{"value":"IS","label":"sland"},{"value":"IN","label":""},{"value":"ID","label":"Indonesia"},{"value":"IR","label":""},{"value":"IQ","label":""},{"value":"IE","label":"ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":""},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":""},{"value":"JE","label":"Jersey"},{"value":"JO","label":""},{"value":"KZ","label":""},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":""},{"value":"KR","label":""},{"value":"KW","label":""},{"value":"KG","label":""},{"value":"LA","label":""},{"value":"LV","label":"Latvija"},{"value":"LB","label":""},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":""},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":""},{"value":"MK","label":" "},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Maje"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":""},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mxico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":" "},{"value":"ME","label":" "},{"value":"MS","label":"Montserrat"},{"value":"MA","label":""},{"value":"MZ","label":"Moambique"},{"value":"MM","label":""},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":""},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Caldonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":""},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":""},{"value":"PA","label":"Panam"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":""},{"value":"RE","label":"La Runion"},{"value":"RO","label":"Romnia"},{"value":"RU","label":""},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthlemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"So Tom e Prncipe"},{"value":"SA","label":" "},{"value":"SN","label":"Sngal"},{"value":"RS","label":""},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espaa"},{"value":"LK","label":"r lakva"},{"value":"SD","label":""},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":""},{"value":"TW","label":""},{"value":"TJ","label":""},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":""},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":""},{"value":"TR","label":"Trkiye"},{"value":"TM","label":"Trkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":""},{"value":"AE","label":"   "},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Ozbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vit Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":" "},{"value":"YE","label":""},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var ty,w3;function HP(){if(w3)return ty;w3=1;class e{constructor(){this.data=zP,this.labelMap={},this.valueMap={},this.data.forEach(n=>{this.labelMap[n.label.toLowerCase()]=n.value,this.valueMap[n.value.toLowerCase()]=n.label})}getValue(n){return this.labelMap[n.toLowerCase()]}getLabel(n){return this.valueMap[n.toLowerCase()]}getLabels(){return this.data.map(n=>n.label)}getValues(){return this.data.map(n=>n.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(n,i){return this.data.forEach(l=>{l.value===n&&(l.label=i,this.valueMap[l.value.toLowerCase()]=l.label)}),this}setEmpty(n){return this.data.unshift({value:"",label:n}),this.valueMap[""]=n,this.labelMap[n]="",this}native(){return this.nativeData=qP,this.nativeData.forEach(n=>{this.labelMap[n.label.toLowerCase()]=n.value,this.valueMap[n.value.toLowerCase()]=n.label}),this}}return ty=()=>{if(!(this instanceof e))return new e},ty}var GP=HP();const VP=Xo(GP);function Gl({customer:e,onClose:r,onSave:t,isFullPage:n=!1,prefilledName:i="",prefilledData:l={}}){const{createCustomer:c,updateCustomer:f}=xw(),h=!!e,[d,m]=E.useState(!1),[x,p]=E.useState(null),{posDetails:b}=un(),S=VP().getData(),[k,T]=E.useState({customer_type:"individual",name:"",contactName:"",email:"",phone:"",address:{addressType:"Billing",street:"",buildingNumber:"",city:"",state:"",zipCode:"",country:"Nepal"},status:"active",vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",customer_group:"All Customer Groups",territory:"All Territories"});E.useEffect(()=>{if(b&&!h){let z="individual";b.business_type==="B2B"?z="company":(b.business_type==="B2C"||b.business_type==="B2B & B2C")&&(z="individual"),T(X=>je(Y({},X),{customer_type:z}))}},[b,h]);const[A,M]=E.useState({}),[H,D]=E.useState([]),[G,V]=E.useState(!0),[se,oe]=E.useState([]),[q,ie]=E.useState(!0),{getCustomerGroups:ee,getTerritories:ae}=xw(),J=E.useRef(!1);E.useEffect(()=>{Ne(null,null,function*(){try{const X=yield ee();D(X),V(!1);const Ae=yield ae();oe(Ae),ie(!1)}catch(X){console.error("Error fetching customer groups or territories:",X),V(!1),ie(!1)}})},[]),E.useEffect(()=>{var z,X,Ae,Ye,ct,Ze,mt;if(e&&!J.current){const $t={customer_type:e.type||"individual",name:e.name,contactName:e.contactPerson||"",email:e.email,phone:e.phone,address:{addressType:((z=e.address)==null?void 0:z.addressType)||"Billing",street:((X=e.address)==null?void 0:X.street)||"",buildingNumber:((Ae=e.address)==null?void 0:Ae.buildingNumber)||"",city:((Ye=e.address)==null?void 0:Ye.city)||"",state:((ct=e.address)==null?void 0:ct.state)||"",zipCode:((Ze=e.address)==null?void 0:Ze.zipCode)||"",country:((mt=e.address)==null?void 0:mt.country)||"Nepal"},status:e.status,vatNumber:e.taxId||"",registrationScheme:e.registrationScheme||"",registrationNumber:e.registrationNumber||"",preferredPaymentMethod:e.preferredPaymentMethod||"Cash",customer_group:e.customer_group||"All Customer Groups",territory:e.territory||"All Territories"};T($t),J.current=!0}else l&&Object.keys(l).length>0&&!J.current?(T($t=>je(Y({},$t),{name:l.name||$t.name,email:l.email||$t.email,phone:l.phone||$t.phone})),J.current=!0):i&&!J.current&&(T($t=>je(Y({},$t),{name:i})),J.current=!0)},[e==null?void 0:e.id,e==null?void 0:e.name,i,l,e]),E.useEffect(()=>{J.current=!1},[e==null?void 0:e.id]);const le=(b==null?void 0:b.business_type)==="B2B",pe=(b==null?void 0:b.business_type)==="B2C",ue=(b==null?void 0:b.business_type)==="B2B & B2C",ne=()=>le?[{value:"company",label:"Company",icon:Id,desc:"Business customer"}]:pe?[{value:"individual",label:"Individual",icon:Jn,desc:"Personal customer"}]:ue?[{value:"individual",label:"Individual",icon:Jn,desc:"Personal customer"},{value:"company",label:"Company",icon:Id,desc:"Business customer"}]:[{value:"individual",label:"Individual",icon:Jn,desc:"Personal customer"},{value:"company",label:"Company",icon:Id,desc:"Business customer"}],he=()=>{const z={},X=Ae=>Ae.trim()?Ae.replace(/\D/g,"").length>=10:!1;if(k.customer_type==="company"?(k.name.trim()||(z.name="Customer name is required"),k.contactName.trim()||(z.contactName="Contact name is required"),!k.email.trim()&&!k.phone.trim()&&(z.contact="Either email or phone number must be provided"),k.phone.trim()&&!X(k.phone)&&(z.phone="Phone number must have at least 10 digits including country code")):k.customer_type==="individual"&&(!k.email.trim()&&!k.phone.trim()?z.contact="Either email or phone number must be provided":k.phone.trim()&&!X(k.phone)&&(z.phone="Phone number must have at least 10 digits including country code")),k.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)&&(z.email="Please enter a valid email address"),k.customer_type==="company"&&(b!=null&&b.is_zatca_enabled)&&(!k.vatNumber.trim()&&!k.registrationNumber.trim()&&(z.vatOrRegistration="Either VAT number or Registration number must be provided"),k.registrationScheme&&k.registrationScheme!==""&&!k.registrationNumber.trim()&&(z.registrationNumber="Registration number is required when registration scheme is selected"),k.vatNumber.trim()&&(/^[3]\d{13}[3]$/.test(k.vatNumber.trim())||(z.vatNumber="VAT number must be 15 digits, start with 3 and end with 3 (ZATCA format)"))),k.customer_type==="company"&&b&&b.is_zatca_enabled===!0&&(k.address.street.trim()||(z.street="Street address is required for company"),k.address.buildingNumber.trim()?k.address.buildingNumber.trim().length!==4&&(z.buildingNumber="Building number must be exactly 4 digits"):z.buildingNumber="Building number is required for company",k.address.city.trim()||(z.city="City is required for company"),k.address.state.trim()||(z.state="State/Province is required for company"),k.address.zipCode.trim()||(z.zipCode="Zip code is required for company")),M(z),Object.keys(z).length>0){const Ae=Object.keys(z)[0];return Ae&&Ve.error(z[Ae]),!1}return!0},Le=z=>Ne(null,null,function*(){if(z.preventDefault(),p(null),!!he()){m(!0);try{const X=Y({name:k.name,customer_type:k.customer_type==="individual"?"Individual":"Company",email:k.email,phone:k.phone,address:k.address,preferredPaymentMethod:k.preferredPaymentMethod,customer_group:k.customer_group,territory:k.territory},k.customer_type==="company"&&{contactName:k.contactName,vatNumber:k.vatNumber||void 0,registrationScheme:k.registrationScheme||void 0,registrationNumber:k.registrationNumber||void 0});if(h&&(e!=null&&e.id)){const Ae=yield f(e.id,X);t(je(Y({},Ae),{id:e.id}))}else{const Ae=yield c(X);t(je(Y({},Ae),{id:Ae.customer_name,name:k.name,type:k.customer_type,email:k.email,phone:k.phone,address:k.address,preferredPaymentMethod:k.preferredPaymentMethod,customer_group:k.customer_group,territory:k.territory}))}r()}catch(X){console.error("Customer save error:",X),p(X instanceof Error?X.message:"Failed to save customer. Please try again.")}finally{m(!1)}}}),Z=[{value:"Commercial Registration number(CRN)",label:"Commercial Registration number(CRN)"},{value:"MOMRAH(MOM)",label:"MOMRAH(MOM)"},{value:"MHRSD(MLS)",label:"MHRSD(MLS)"},{value:"700(700)",label:"700(700)"},{value:"MISA(SAG)",label:"MISA(SAG)"},{value:"Other OD(OTH)",label:"Other OD(OTH)"}],B=[{value:"Cash",label:"Cash"},{value:"Bank Card",label:"Bank Card"},{value:"Bank Payment",label:"Bank Payment"},{value:"Credit",label:"Credit"}],de=[{value:"Billing",label:"Billing"},{value:"Shipping",label:"Shipping"},{value:"Office",label:"Office"},{value:"Personal",label:"Personal"},{value:"Plant",label:"Plant"},{value:"Postal",label:"Postal"},{value:"Shop",label:"Shop"},{value:"Subsidiary",label:"Subsidiary"},{value:"Warehouse",label:"Warehouse"},{value:"Current",label:"Current"},{value:"Permanent",label:"Permanent"},{value:"Other",label:"Other"}],xe=ne(),fe=()=>{const z=X=>X.trim()?X.replace(/\D/g,"").length>=10:!1;if(k.customer_type==="individual"){const X=k.email.trim()!=="",Ae=z(k.phone);return X||Ae}else if(k.customer_type==="company"){const X=k.name.trim()!==""&&k.contactName.trim()!==""&&(k.email.trim()!==""||z(k.phone)),Ae=!(b!=null&&b.is_zatca_enabled)||k.address.street.trim()!==""&&k.address.buildingNumber.trim()!==""&&k.address.buildingNumber.trim().length===4&&k.address.city.trim()!==""&&k.address.state.trim()!==""&&k.address.zipCode.trim()!=="",Ye=X&&Ae;if(b&&b.is_zatca_enabled===!0){const ct=k.vatNumber.trim()!==""||k.registrationNumber.trim()!=="";return Ye&&ct}return Ye}return!1};return a.jsx("div",{className:n?"h-full":"fixed inset-0 bg-black/70 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:n?"h-full bg-white dark:bg-gray-800 flex flex-col":"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[!n&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?"Edit Customer":"Add New Customer"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx(Ha,{size:24})})]}),a.jsxs("form",{onSubmit:Le,className:n?"flex-1 flex flex-col":"flex flex-col h-full",children:[a.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[a.jsxs("div",{children:[(b==null?void 0:b.business_type)==="B2B & B2C"?a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:xe.map(z=>{const X=z.icon;return a.jsxs("label",{className:`relative flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700 ${k.customer_type===z.value?"border-beveren-500 bg-beveren-50 dark:bg-beveren-900/20":"border-gray-200 dark:border-gray-600"}`,children:[a.jsx("input",{type:"radio",name:"customerType",value:z.value,checked:k.customer_type===z.value,onChange:Ae=>{T(Ye=>je(Y({},Ye),{customer_type:Ae.target.value}))},className:"sr-only"}),a.jsx(X,{size:24,className:`mb-2 ${k.customer_type===z.value?"text-beveren-600":"text-gray-400"}`}),a.jsx("span",{className:`font-medium text-sm ${k.customer_type===z.value?"text-beveren-900 dark:text-beveren-100":"text-gray-900 dark:text-white"}`,children:z.label}),a.jsx("span",{className:`text-xs text-center mt-1 ${k.customer_type===z.value?"text-beveren-700 dark:text-beveren-300":"text-gray-500 dark:text-gray-400"}`,children:z.desc})]},z.value)})})]}):a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),a.jsx("div",{className:"bg-beveren-50 dark:bg-beveren-900/20 border-2 border-beveren-500 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[k.customer_type==="company"?a.jsx(Id,{size:24,className:"text-beveren-600 mr-3"}):a.jsx(Jn,{size:24,className:"text-beveren-600 mr-3"}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-beveren-900 dark:text-beveren-100",children:[k.customer_type==="company"?"Company":"Individual"," ","Customer"]}),a.jsx("p",{className:"text-sm text-beveren-700 dark:text-beveren-300 mt-1",children:k.customer_type==="company"?"Business customer (B2B)":"Personal customer (B2C)"})]})]})})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Jn,{size:20,className:"mr-2"}),"Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Customer Name",k.customer_type==="company"&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",value:k.name,onChange:z=>T(X=>je(Y({},X),{name:z.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${A.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),A.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.name})]}),k.customer_type==="company"&&(b==null?void 0:b.is_zatca_enabled)&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Country"}),a.jsx("input",{list:"country-list",id:"country",value:k.address.country,onChange:z=>T(X=>je(Y({},X),{address:je(Y({},X.address),{country:z.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),a.jsx("datalist",{id:"country-list",children:S.map(z=>a.jsx("option",{value:z.label},z.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customer_group",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Group"}),a.jsx("select",{id:"customer_group",value:k.customer_group,onChange:z=>T(X=>je(Y({},X),{customer_group:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:G,children:G?a.jsx("option",{children:"Loading..."}):H.map(z=>a.jsx("option",{value:z.name,children:z.customer_group_name},z.name))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"territory",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Territory"}),a.jsxs("select",{id:"territory",value:k.territory,onChange:z=>T(X=>je(Y({},X),{territory:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:q,children:[a.jsx("option",{value:"All Territories",children:"All Territories"}),se.map(z=>a.jsx("option",{value:z.name,children:z.territory_name||z.name},z.name))]}),q&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading territories..."})]})]})]}),k.customer_type==="individual"&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mt-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Bl,{size:20,className:"mr-2"}),"Contact Information",a.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:k.email,onChange:z=>T(X=>je(Y({},X),{email:z.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${A.email||A.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),A.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.email})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx(b3,{id:"phone",international:!0,defaultCountry:"NP",value:k.phone,onChange:z=>T(X=>je(Y({},X),{phone:z||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${A.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),A.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.phone})]})})]}),A.contact&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.contact})]})]}),k.customer_type==="company"&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Bl,{size:20,className:"mr-2"}),"Contact Information",k.customer_type==="company"&&a.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Contact Name"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"contactName",value:k.contactName,onChange:z=>T(X=>je(Y({},X),{contactName:z.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${A.contactName?"border-red-500":"border-gray-300"}`,placeholder:"Enter contact person name"}),A.contactName&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.contactName})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:k.email,onChange:z=>T(X=>je(Y({},X),{email:z.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${A.email||A.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),A.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx(b3,{id:"phone",international:!0,defaultCountry:"NP",value:k.phone,onChange:z=>T(X=>je(Y({},X),{phone:z||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${A.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),A.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.phone})]}),A.contact&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.contact})]}),k.customer_type==="company"&&b&&b.is_zatca_enabled===!0&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(gs,{size:20,className:"mr-2"}),"ZATCA Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),a.jsx("select",{id:"paymentMethod",value:k.preferredPaymentMethod,onChange:z=>T(X=>je(Y({},X),{preferredPaymentMethod:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:B.map(z=>a.jsx("option",{value:z.value,children:z.label},z.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Number"}),a.jsx("input",{type:"text",id:"vatNumber",value:k.vatNumber,onChange:z=>T(X=>je(Y({},X),{vatNumber:z.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${A.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter VAT number"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationScheme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Scheme"}),a.jsxs("select",{id:"registrationScheme",value:k.registrationScheme,onChange:z=>T(X=>je(Y({},X),{registrationScheme:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Registration Scheme"}),Z.map(z=>a.jsx("option",{value:z.value,children:z.label},z.value))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Registration Number"," ",k.registrationScheme&&k.registrationScheme!==""?"*":""]}),a.jsx("input",{type:"text",id:"registrationNumber",value:k.registrationNumber,onChange:z=>T(X=>je(Y({},X),{registrationNumber:z.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${A.registrationNumber||A.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter registration number"}),A.registrationNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.registrationNumber})]})]}),A.vatOrRegistration&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.vatOrRegistration})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Bd,{size:20,className:"mr-2"}),"Address",k.customer_type==="company"?"":" (Optional)"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"addressType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Type"}),a.jsx("select",{id:"addressType",value:k.address.addressType,onChange:z=>T(X=>je(Y({},X),{address:je(Y({},X.address),{addressType:z.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:de.map(z=>a.jsx("option",{value:z.value,children:z.label},z.value))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address",k.customer_type==="company"&&(b==null?void 0:b.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"street",value:k.address.street,onChange:z=>T(X=>je(Y({},X),{address:je(Y({},X.address),{street:z.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${A.street?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter street address"}),A.street&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.street})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"buildingNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Building Number (4 digits)",k.customer_type==="company"&&(b==null?void 0:b.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"buildingNumber",value:k.address.buildingNumber,onChange:z=>{const X=z.target.value.replace(/\D/g,"");X.length<=4&&T(Ae=>je(Y({},Ae),{address:je(Y({},Ae.address),{buildingNumber:X})}))},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${A.buildingNumber?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"1234",maxLength:4}),A.buildingNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.buildingNumber})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["City",k.customer_type==="company"&&(b==null?void 0:b.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"city",value:k.address.city,onChange:z=>T(X=>je(Y({},X),{address:je(Y({},X.address),{city:z.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${A.city?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter city"}),A.city&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.city})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["State/Province",k.customer_type==="company"&&(b==null?void 0:b.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"state",value:k.address.state,onChange:z=>T(X=>je(Y({},X),{address:je(Y({},X.address),{state:z.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${A.state?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter state/province"}),A.state&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.state})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Zip Code",k.customer_type==="company"&&(b==null?void 0:b.is_zatca_enabled)&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("input",{type:"text",id:"zipCode",value:k.address.zipCode,onChange:z=>T(X=>je(Y({},X),{address:je(Y({},X.address),{zipCode:z.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${A.zipCode?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter zip code"}),A.zipCode&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.zipCode})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),a.jsx("input",{list:"country-list",id:"country",value:k.address.country,onChange:z=>T(X=>je(Y({},X),{address:je(Y({},X.address),{country:z.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),a.jsx("datalist",{id:"country-list",children:S.map(z=>a.jsx("option",{value:z.label},z.value))})]})]})]})]}),x&&a.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:x})]}),a.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:d||!fe(),className:`px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 ${d||!fe()?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),a.jsx("span",{children:h?"Updating...":"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Kx,{size:18}),a.jsx("span",{children:h?"Update Customer":"Save Customer"})]})})})})]})]})})}function Fm(e){const[r,t]=E.useState([]),[n,i]=E.useState(!0),[l,c]=E.useState(null),[f,h]=E.useState(0),[d,m]=E.useState(!1),[x,p]=E.useState(0),b=(T,A=!1)=>Ne(null,null,function*(){i(!0);try{const M=new URLSearchParams;T&&M.set("search",T),M.set("limit","100"),M.set("start",String(A?f:0));const H=`?${M.toString()}`,G=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customers${H}`)).json();if(!G.message.success)throw new Error(G.error||"Failed to fetch customers");const se=G.message.data.map(ie=>{var ee,ae,J,le,pe,ue,ne,he;return{id:ie.name,type:ie.customer_type==="Company"?"company":"individual",name:ie.customer_name||`Customer ${ie.name.slice(0,5)}`,email:((ee=ie.contact)==null?void 0:ee.email_id)||"",phone:((ae=ie.contact)==null?void 0:ae.mobile_no)||((J=ie.contact)==null?void 0:J.phone)||"",address:{street:((le=ie.address)==null?void 0:le.address_line1)||"",city:((pe=ie.address)==null?void 0:pe.city)||"",state:((ue=ie.address)==null?void 0:ue.state)||"",zipCode:((ne=ie.address)==null?void 0:ne.pincode)||"",country:((he=ie.address)==null?void 0:he.country)||""},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:ie.custom_total_spent||0,totalOrders:ie.custom_total_orders||0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),lastVisit:ie.custom_last_visit||void 0,avatar:void 0,defaultCurrency:ie.default_currency,companyCurrency:ie.company_currency}});t(ie=>A?[...ie,...se]:se);const oe=G.message.total_count||0;p(oe);const q=(A?f:0)+se.length;h(q),m(q<oe)}catch(M){c(M)}finally{i(!1)}});return E.useEffect(()=>{h(0),m(!1),p(0);const T=setTimeout(()=>{b(e,!1)},e?300:0);return()=>clearTimeout(T)},[e]),{customers:r,isLoading:n,error:l,refetch:b,addCustomer:T=>{t(A=>[T,...A])},hasMore:d,totalCount:x,loadMore:()=>Ne(null,null,function*(){d&&(yield b(e,!0))})}}function KP(e){const[r,t]=E.useState(null),[n,i]=E.useState(!1),[l,c]=E.useState(null);return E.useEffect(()=>{if(!e)return;Ne(null,null,function*(){var h,d,m,x,p,b,S,k,T,A;i(!0);try{console.log("Fetching customer details for ID:",e);const H=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(e)}`)).json();if(console.log("Customer API response:",H),!H.message||H.message.success===!1)throw new Error(((h=H.message)==null?void 0:h.error)||"Failed to fetch customer");const D=H.message,G={id:D.name,type:D.customer_type==="Company"?"company":"individual",name:D.customer_name||`Customer ${D.name.slice(0,5)}`,email:((d=D.contact_data)==null?void 0:d.email_id)||D.email_id||"",phone:((m=D.contact_data)==null?void 0:m.mobile_no)||((x=D.contact_data)==null?void 0:x.phone)||D.mobile_no||"",address:{addressType:"Billing",street:((p=D.address_data)==null?void 0:p.address_line1)||"",buildingNumber:((b=D.address_data)==null?void 0:b.address_line2)||"",city:((S=D.address_data)==null?void 0:S.city)||"",state:((k=D.address_data)==null?void 0:k.state)||"",zipCode:((T=D.address_data)==null?void 0:T.pincode)||"",country:((A=D.address_data)==null?void 0:A.country)||"Saudi Arabia"},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:D.payment_method||"Cash",notes:"",tags:[],status:"active",createdAt:D.creation||new Date().toISOString(),lastVisit:void 0,avatar:void 0,defaultCurrency:void 0,companyCurrency:void 0,customer_group:D.customer_group||"All Customer Groups",territory:D.territory||"All Territories",contactPerson:D.contact_data?`${D.contact_data.first_name||""} ${D.contact_data.last_name||""}`.trim()||D.customer_name:D.customer_name||"",companyName:D.customer_type==="Company"?D.customer_name:void 0,taxId:D.vat_number||"",industry:D.industry||"",employeeCount:D.employee_count||"",registrationScheme:D.registration_scheme||"",registrationNumber:D.registration_number||""};t(G)}catch(M){M instanceof Error?c(M.message):c("Unknown error")}finally{i(!1)}})},[e]),{customer:r,isLoading:n,error:l}}function WP(e){return Ne(this,null,function*(){const t=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(e)}`)).json();if(t!=null&&t.message&&Array.isArray(t.message))return t.message;throw new Error("Invalid response format")})}function YP(e){return Ne(this,null,function*(){try{const r=yield fetch(`/api/method/klik_pos.api.item.get_serial_nos_for_item?item_code=${encodeURIComponent(e)}`);if(!r.ok)return[];const t=yield r.json();return Array.isArray(t==null?void 0:t.message)?t.message.map(n=>typeof n.serial_no=="string"?n.serial_no:"").filter(Boolean):[]}catch(r){return[]}})}function m_(e){const[r,t]=E.useState(null),[n,i]=E.useState(!1),[l,c]=E.useState(null),f=()=>Ne(null,null,function*(){var h,d;if(!e){t(null);return}i(!0),c(null);try{const m=yield fetch(`/api/method/klik_pos.api.customer.get_customer_statistics?customer_id=${encodeURIComponent(e)}`);if(!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const x=yield m.json();if((h=x==null?void 0:x.message)!=null&&h.success)t(x.message.data);else throw new Error(((d=x==null?void 0:x.message)==null?void 0:d.error)||"Failed to fetch customer statistics")}catch(m){console.error("Error fetching customer statistics:",m),c(m.message||"Failed to fetch customer statistics"),t(null)}finally{i(!1)}});return E.useEffect(()=>{f()},[e]),{statistics:r,isLoading:n,error:l,refetch:f}}function XP(){const[e,r]=E.useState(!1);return{checkCustomerPermission:E.useCallback(n=>Ne(null,null,function*(){var i;if(!n)return{success:!1,has_permission:!1,customer_name:"",business_type:"",customer_groups:[],user_permissions:0,error:"Customer name is required"};r(!0);try{const l=yield fetch(`/api/method/klik_pos.api.customer.check_customer_permission?customer_name=${encodeURIComponent(n)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const c=yield l.json();if(!c.message||c.message.success===!1)throw new Error(((i=c.message)==null?void 0:i.error)||"Failed to check customer permission");return c.message}catch(l){return console.error("Error checking customer permission:",l),{success:!1,has_permission:!1,customer_name:n,business_type:"",customer_groups:[],user_permissions:0,error:l.message||"Failed to check customer permission"}}finally{r(!1)}}),[]),isChecking:e}}const QP=({item:e,onUpdateQuantity:r,isMobile:t})=>{const[n,i]=E.useState(e.quantity.toString()),[l,c]=E.useState(!1);E.useEffect(()=>{l||i(e.quantity.toString())},[e.quantity,l]);const f=m=>{const x=m.target.value;i(x)},h=()=>{c(!1);const m=Number(n);isNaN(m)||m<=0?(i(e.quantity.toString()),m<=0&&r(e.id,0)):(i(m.toString()),r(e.id,m))},d=()=>{c(!0)};return a.jsx("input",{type:"number",step:"0.01",min:"0",value:n,onChange:f,onFocus:d,onBlur:h,className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})},ZP=({item:e,onUOMChange:r,isMobile:t,selectedCustomer:n})=>{const[i,l]=E.useState(["Nos"]),[c,f]=E.useState(e.uom||"Nos"),[h,d]=E.useState(""),[m,x]=E.useState(!1);E.useEffect(()=>{Ne(null,null,function*(){var k;try{const T=e.item_code||e.id;if(T){const A=n!=null&&n.id?`&customer=${n.id}`:"",M=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${T}${A}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(M.ok){const H=yield M.json();if((k=H==null?void 0:H.message)!=null&&k.uoms){const D=H.message.uoms.map(G=>G.uom);l(D)}else l(["Nos"])}else l(["Nos"])}else l(["Nos"])}catch(T){console.error(" Error loading item-specific UOMs:",T),l(["Nos"])}})},[e.id,e.item_code,n==null?void 0:n.id]),E.useEffect(()=>{f(e.uom||"Nos")},[e.uom]);const p=i.filter(S=>S.toLowerCase().includes(h.toLowerCase())),b=S=>Ne(null,null,function*(){var k,T;f(S),x(!1),d("");try{const A=e.item_code||e.id;if(A){const M=n!=null&&n.id?`&customer=${n.id}`:"",H=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${A}${M}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(H.ok){const D=yield H.json();if((k=D==null?void 0:D.message)!=null&&k.uoms){const G=D.message.uoms.find(V=>V.uom===S);if(G&&G.price!==void 0)console.log(` Found UOM data for ${S}:`,G),r(e.id,S,G.price);else{console.warn(` UOM data not found for ${S}. Available UOMs:`,D.message.uoms.map(V=>V.uom));try{const V=e.item_code||e.id,se=n!=null&&n.id?`&customer=${n.id}`:"",oe=yield fetch(`/api/method/klik_pos.api.item.get_item_price_for_customer?item_code=${V}&uom=${encodeURIComponent(S)}${se}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(oe.ok){const q=yield oe.json();(T=q==null?void 0:q.message)!=null&&T.success&&q.message.price>0?(console.log(` Got price from fallback API for ${S}:`,q.message.price),r(e.id,S,q.message.price)):console.error(` Fallback API returned invalid price for ${S}`)}}catch(V){console.error(` Error in fallback price fetch for ${S}:`,V)}}}else console.error(" No UOMs data in API response")}}}catch(A){console.error(" Error fetching UOM pricing:",A)}});return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>x(!m),className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{children:c}),a.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Search UOM...",value:h,onChange:S=>d(S.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-48 overflow-y-auto",children:p.length>0?p.map(S=>a.jsx("button",{type:"button",onClick:()=>b(S),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${S===c?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:S},S)):a.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No UOMs found"})})]})]})},JP=({itemId:e,itemCode:r,options:t,value:n,onChange:i,isMobile:l})=>{const[c,f]=E.useState(!1),[h,d]=E.useState(""),m=t.filter(p=>p.batch_id.toLowerCase().includes(h.toLowerCase())),x=p=>{var S;const b=((S=t.find(k=>k.batch_id===p))==null?void 0:S.qty)||0;i(p,b),f(!1),d("")};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>f(!c),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:n||"Select Batch"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[a.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Filter batch...",value:h,onChange:p=>d(p.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-36 overflow-y-auto",children:m.length>0?m.map(p=>a.jsxs("button",{type:"button",onClick:()=>x(p.batch_id),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${n===p.batch_id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:[p.batch_id," - ",p.qty]},p.batch_id)):a.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})},eM=({itemId:e,itemCode:r,options:t,value:n,onChange:i,isMobile:l})=>{const[c,f]=E.useState(!1),[h,d]=E.useState(""),m=t.filter(p=>p.toLowerCase().includes(h.toLowerCase())),x=p=>{i(p),f(!1),d("")};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>f(!c),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:n||"Select Serial"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[a.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:a.jsx("input",{type:"text",placeholder:"Filter serial...",value:h,onChange:p=>d(p.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),a.jsx("div",{className:"max-h-36 overflow-y-auto",children:m.length>0?m.map(p=>a.jsx("button",{type:"button",onClick:()=>x(p),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${n===p?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:p},p)):a.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})};function g_({cartItems:e,onUpdateQuantity:r,onRemoveItem:t,onClearCart:n,appliedCoupons:i,onRemoveCoupon:l,isMobile:c=!1}){const{selectedCustomer:f,setSelectedCustomer:h,updateUOM:d,updatePricesForCustomer:m}=Yl(),[x,p]=E.useState(!1),[b,S]=E.useState(!0);E.useEffect(()=>{const be=setTimeout(()=>{S(!1)},2e3);return()=>clearTimeout(be)},[]),E.useEffect(()=>{!b&&f&&e.length>0&&m(f.id)},[f==null?void 0:f.id,e.length,b,m]);const[k,T]=E.useState(""),[A,M]=E.useState(!1),[H,D]=E.useState(!1),[G,V]=E.useState(!1),{customers:se,isLoading:oe,refetch:q}=Fm(k),{refreshStockOnly:ie,updateBatchQuantitiesForItems:ee}=xm(),{posDetails:ae,loading:J}=un(),{checkCustomerPermission:le}=XP(),{statistics:pe}=m_((f==null?void 0:f.id)||null),[ue,ne]=E.useState(""),[he,Le]=E.useState({}),Z=ae==null?void 0:ae.currency_symbol,B=E.useCallback((be,tt,Ge)=>{const xt=e.find(ut=>ut.id===be);xt&&console.log("  Before Update:",{name:xt.name,uom:xt.uom,price:xt.price,quantity:xt.quantity}),d(be,tt,Ge),setTimeout(()=>{},100)},[d,e]),[de,xe]=E.useState({}),[fe,z]=E.useState({}),[X,Ae]=E.useState({}),[Ye,ct]=E.useState({}),[Ze,mt]=E.useState(new Set),$t=be=>{const tt=de[be.id]||{discountPercentage:0,discountAmount:0};let Ge=be.price;return tt.discountPercentage>0&&(Ge=be.price*(1-tt.discountPercentage/100)),tt.discountAmount>0&&(Ge=Math.max(0,Ge-tt.discountAmount)),Math.max(0,Ge)},ur=e.reduce((be,tt)=>{const Ge=$t(tt);return be+Ge*tt.quantity},0),ve=e.reduce((be,tt)=>{const Ge=tt.price*tt.quantity,xt=$t(tt)*tt.quantity;return be+(Ge-xt)},0),et=i.reduce((be,tt)=>be+tt.value,0),Tt=Math.max(0,ur-et),ge=be=>{if(be.key==="Enter"&&k.trim()!=="")if(lt.length===0){const tt=k.trim();let Ge={};if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(tt))Ge={email:tt};else if(/^[\d\s+()-]+$/.test(tt)&&tt.replace(/[\s+()-]/g,"").length>=7){let xt=tt;const ut=tt.replace(/[\s+()-]/g,"");!ut.startsWith("966")&&!ut.startsWith("+966")?ut.startsWith("0")?xt="+966"+ut.substring(1):xt="+966"+ut:ut.startsWith("966")&&!ut.startsWith("+966")&&(xt="+"+ut),Ge={phone:xt}}else console.log("Detected name:",tt),Ge={name:tt};Le(Ge),ne(tt),D(!0),M(!1)}else lt.length===1&&!x&&lt[0]&&Kt(lt[0])},Xe=(be,tt,Ge)=>{xe(xt=>je(Y({},xt),{[be]:je(Y({},xt[be]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:150}),{[tt]:typeof Ge=="string"?Ge:Math.max(0,Ge)})}))},lt=k.trim()===""?se:se.filter(be=>be.name.toLowerCase().includes(k.toLowerCase())||be.email.toLowerCase().includes(k.toLowerCase())||be.phone.includes(k)||be.tags.some(tt=>tt.toLowerCase().includes(k.toLowerCase()))),gr=()=>f?!0:(Ve.error("Kindly choose customer"),!1),Kt=be=>{h(be),T(be.name),M(!1),p(!1)},re=be=>Ne(null,null,function*(){var tt;if(be&&be.customer_name)try{const Ge=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(be.customer_name)}`);if(!Ge.ok)throw new Error(`HTTP ${Ge.status}: ${Ge.statusText}`);const xt=yield Ge.json();if(xt.message){const ut=xt.message,Ut={id:ut.name,name:ut.customer_name||ut.name,email:ut.email_id||"",phone:ut.mobile_no||"",type:ut.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:ut.custom_loyalty_points||0,totalSpent:ut.custom_total_spent||0,totalOrders:ut.custom_total_orders||0,preferredPaymentMethod:"Cash",tags:((tt=ut.custom_tags)==null?void 0:tt.split(",").filter(Boolean))||[],status:ut.custom_status||"active",createdAt:ut.creation||new Date().toISOString()};h(Ut),T(""),q&&q()}}catch(Ge){console.error("Error fetching customer details:",Ge);const xt={id:be.customer_name||"",name:be.customer_name||"",email:"",phone:"",type:"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",tags:[],status:"active",createdAt:new Date().toISOString()};h(xt),T("")}D(!1),ne(""),Le({})}),qe=be=>Ne(null,null,function*(){console.log("OrderSummary: Payment completed, invoice created - modal stays open for preview",be)}),Ke=be=>Ne(null,null,function*(){V(!1),be?gt():console.log("OrderSummary: Payment was not completed - keeping cart items");try{(yield ie())||console.log("OrderSummary: No stock updates needed");const Ge=e.map(xt=>xt.item_code||xt.id);if(Ge.length>0)try{yield ee(Ge)}catch(xt){console.error("OrderSummary: Failed to update batch quantities:",xt)}}catch(tt){console.error("OrderSummary: Failed to refresh stock:",tt);const Ge=(tt==null?void 0:tt.message)||"Unknown error";Ve.error(`Failed to update stock: ${Ge}`)}}),dt=be=>Ne(null,null,function*(){if(!f){Ve.error("Kindly select a customer");return}try{V(!1);const tt=yield _4(be);tt&&tt.success?(gt(),Ve.success("Draft invoice created and order held successfully!")):Ve.error("Failed to create draft invoice")}catch(tt){console.error("Error creating draft invoice:",tt);const Ge=hu(tt,"Failed to create draft invoice");Ve.error(Ge)}}),gt=()=>{if(e.length===0)return;n&&n(),[...e].forEach(tt=>{t&&t(tt.id)}),i.forEach(tt=>{l(tt.code)}),xe({}),h(null),T("")},bt=be=>{switch(be.type){case"company":return a.jsx(Id,{size:14,className:"text-purple-600"});case"walk-in":return a.jsx(Jn,{size:14,className:"text-gray-600"});default:return a.jsx(Jn,{size:14,className:"text-blue-600"})}},ft=be=>{const tt=new Set(Ze);tt.has(be)?tt.delete(be):tt.add(be),mt(tt)};return E.useEffect(()=>{if(se.length===1&&!f&&!oe){const be=se[0];be&&(h(be),T(be.name)),M(!1)}},[se,f,oe]),E.useEffect(()=>{if(ae!=null&&ae.default_customer&&!f&&!J&&!x){const be=ae.default_customer;le(be.id).then(tt=>{if(tt.success&&tt.has_permission){const Ge={id:be.id,name:be.name,email:be.email||"",phone:be.phone||"",type:be.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),defaultCurrency:be.default_currency||void 0};h(Ge),T(Ge.name),M(!1)}else console.log("User does not have permission to access default customer:",be.id,tt)}).catch(tt=>{console.error("Error checking default customer permission:",tt)})}},[ae,f,J,x,le]),E.useEffect(()=>{const be=()=>Ne(null,null,function*(){const tt=Y({},fe),Ge=Y({},X);for(const xt of e){const ut=xt.item_code||xt.id;if(ut&&ut!=="undefined"){if(!tt[ut])try{const Ut=yield WP(xt.id);Array.isArray(Ut)&&(tt[ut]=Ut)}catch(Ut){console.error("Error fetching batches",Ut)}if(!Ge[ut])try{const Ut=yield YP(ut);Array.isArray(Ut)&&(Ge[ut]=Ut)}catch(Ut){console.error("Error fetching serials",Ut)}}else console.log(`OrderSummary: Skipping initial info loading for key "${ut}"`)}z(tt),Ae(Ge)});e.length&&be()},[e]),E.useEffect(()=>{const be=xt=>{const{updatedItems:ut}=xt.detail;z(Ut=>{const qt=Y({},Ut);ut.forEach(({itemCode:nr,batches:vr})=>{nr&&nr!=="undefined"?qt[nr]=vr:console.log(`OrderSummary: Skipping invalid itemCode: "${nr}"`)}),qt.undefined!==void 0&&delete qt.undefined;const er=void 0;return qt[er]!==void 0&&delete qt[er],qt})};window.addEventListener("batchQuantitiesUpdated",be);const tt=xt=>{var er,nr;const{itemCode:ut,batchId:Ut}=xt.detail,qt=e.find(vr=>(vr.item_code||vr.id)===ut);if(qt){const vr=((nr=(er=fe[qt.item_code||qt.id])==null?void 0:er.find(na=>na.batch_id===Ut))==null?void 0:nr.qty)||0;xe(na=>je(Y({},na),{[qt.id]:je(Y({},na[qt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:Ut||"",availableQuantity:vr})}))}else ct(vr=>je(Y({},vr),{[ut]:je(Y({},vr[ut]||{}),{batchId:Ut})}))},Ge=xt=>{const{itemCode:ut,serialNo:Ut}=xt.detail,qt=e.find(er=>(er.item_code||er.id)===ut);qt?(xe(er=>je(Y({},er),{[qt.id]:je(Y({},er[qt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:Ut||""})})),Ae(er=>{const nr=qt.item_code||qt.id,vr=new Set(er[nr]||[]);return vr.has(Ut)?er:je(Y({},er),{[nr]:[...vr,Ut]})})):ct(er=>je(Y({},er),{[ut]:je(Y({},er[ut]||{}),{serialNo:Ut})}))};return window.addEventListener("cart:setBatchForItem",tt),window.addEventListener("cart:setSerialForItem",Ge),()=>{window.removeEventListener("batchQuantitiesUpdated",be),window.removeEventListener("cart:setBatchForItem",tt),window.removeEventListener("cart:setSerialForItem",Ge)}},[e,fe]),E.useEffect(()=>{if(!e.length)return;const be=Y({},Ye);e.forEach(tt=>{var ut,Ut;const Ge=tt.item_code||tt.id,xt=be[Ge];if(xt){if(xt.batchId){const qt=((Ut=(ut=fe[Ge])==null?void 0:ut.find(er=>er.batch_id===xt.batchId))==null?void 0:Ut.qty)||0;xe(er=>je(Y({},er),{[tt.id]:je(Y({},er[tt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:xt.batchId||"",availableQuantity:qt})}))}xt.serialNo&&(xe(qt=>je(Y({},qt),{[tt.id]:je(Y({},qt[tt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:xt.serialNo||""})})),Ae(qt=>{const er=new Set(qt[Ge]||[]);return er.has(xt.serialNo)?qt:je(Y({},qt),{[Ge]:[...er,xt.serialNo]})})),delete be[Ge]}}),Object.keys(be).length!==Object.keys(Ye).length&&ct(be)},[e,fe,Ye]),a.jsxs("div",{className:`h-full flex flex-col bg-white dark:bg-gray-800 ${c?"":"border-l"} border-gray-200 dark:border-gray-700`,children:[!c&&a.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:k,onChange:be=>{T(be.target.value),M(be.target.value.length>0)},onKeyDown:ge,onFocus:()=>M(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),A&&lt.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:lt.slice(0,8).map(be=>a.jsx("button",{onClick:()=>Kt(be),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[bt(be),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:be.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[be.phone,"  ",be.email]})]})]})},be.id))})]}),a.jsx("button",{onClick:()=>D(!0),className:"ml-2 p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",title:"Add New Customer",children:a.jsx(cw,{size:16})})]}),f&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[f&&bt(f),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:f==null?void 0:f.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f.phone&&f.phone!=="N/A"&&f.phone.trim()!==""&&a.jsx("span",{children:f.phone}),f.phone&&f.phone!=="N/A"&&f.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&a.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&a.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!f.phone||f.phone==="N/A"||f.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&a.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),a.jsx("button",{onClick:()=>{h(null),T(""),p(!0)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Ha,{size:14})})]})})]})}),c&&a.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:k,onChange:be=>{T(be.target.value),M(be.target.value.length>0)},onKeyPress:ge,onFocus:()=>M(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),A&&lt.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:lt.slice(0,8).map(be=>a.jsx("button",{onClick:()=>Kt(be),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[bt(be),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:be.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[be.email,"  ",be.phone]})]})]})},be.id))})]}),a.jsx("button",{onClick:()=>D(!0),className:"p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:a.jsx(cw,{size:16})})]}),f&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[f&&bt(f),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:f==null?void 0:f.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f.phone&&f.phone!=="N/A"&&f.phone.trim()!==""&&a.jsx("span",{children:f.phone}),f.phone&&f.phone!=="N/A"&&f.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&a.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&a.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!f.phone||f.phone==="N/A"||f.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&a.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),a.jsx("button",{onClick:()=>{h(null),T(""),p(!0)},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ha,{size:14})})]})})]}),a.jsx("div",{className:`${c?"flex-1 overflow-y-auto custom-scrollbar p-4":"flex-1 overflow-y-auto p-6 cart-scroll"}`,children:a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add some items to get started!"})]}):e.map(be=>{const tt=$t(be),Ge=be.price*be.quantity,xt=tt*be.quantity,ut=de[be.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:""};return a.jsxs("div",{className:`${c?"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden":""}`,children:[a.jsxs("div",{className:`flex items-center ${c?"p-3":"py-2"}`,children:[a.jsx("div",{className:"flex-shrink-0 mr-2",children:a.jsx("button",{onClick:()=>ft(be.id),className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-500 transition-all duration-200",title:"Show/Hide Details",children:a.jsx("svg",{className:`${c?"w-3 h-3":"w-4 h-4"} text-beveren-500 dark:text-gray-400 transform transition-transform duration-200 ${Ze.has(be.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),be.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:be.image,alt:be.name,className:`${c?"w-16 h-16":"w-12 h-12"} rounded-lg object-cover`,crossOrigin:"anonymous"})}),a.jsxs("div",{className:"flex-1 min-w-0 px-3",children:[a.jsx("h4",{className:`font-semibold text-gray-900 dark:text-white ${c?"text-base":"text-sm"} truncate`,children:be.name}),a.jsx("p",{className:`text-gray-500 dark:text-gray-400 capitalize font-medium ${c?"text-sm":"text-xs"}`,children:be.category}),a.jsx("div",{className:`${c?"text-base":"text-sm"}`,children:tt<be.price?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-gray-400 line-through text-xs",children:[Z,be.price.toFixed(2)]}),a.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[Z,tt.toFixed(2)]})]}):a.jsxs("div",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[Z,be.price.toFixed(2)]})})]}),a.jsxs("div",{className:"flex-shrink-0 flex items-center ml-10 space-x-1 min-w-[70px] justify-center",children:[a.jsx("button",{onClick:()=>r(be.id,be.quantity-1),className:`${c?"w-8 h-8":"w-5 h-5"} rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors`,children:a.jsx(_m,{size:c?16:14,className:"text-gray-600 dark:text-gray-400"})}),a.jsx("span",{className:`${c?"w-10":"w-8"} text-center font-semibold text-gray-900 dark:text-white text-sm`,children:be.quantity}),a.jsx("button",{onClick:()=>r(be.id,be.quantity+1),className:`${c?"w-8 h-8":"w-7 h-7"} rounded-full bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 flex items-center justify-center hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors`,children:a.jsx(Wi,{size:c?16:14,className:"text-blue-600 dark:text-blue-400"})})]}),a.jsx("div",{className:"flex-shrink-0 text-right min-w-[80px] px-2",children:xt<Ge?a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-400 line-through text-xs",children:[Z,Ge.toFixed(2)]}),a.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${c?"text-base":"text-sm"}`,children:[Z,xt.toFixed(2)]})]}):a.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${c?"text-base":"text-sm"}`,children:[Z,xt.toFixed(2)]})}),a.jsx("div",{className:"flex-shrink-0 ml-2",children:a.jsx("button",{onClick:()=>t?t(be.id):r(be.id,0),className:`${c?"w-8 h-8":"w-6 h-6"} rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500 flex items-center justify-center hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-200 dark:hover:border-red-800 hover:text-red-600 dark:hover:text-red-400 transition-colors`,title:"Remove item",children:a.jsx(Ha,{size:c?16:12})})})]}),Ze.has(be.id)&&a.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 ${c?"px-3 pb-3":"px-6 py-3 ml-7"} bg-gray-25 dark:bg-gray-750`,children:[a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Quantity"}),a.jsx(QP,{item:be,onUpdateQuantity:r,isMobile:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"UOM"}),a.jsx(ZP,{item:be,onUOMChange:B,isMobile:c,selectedCustomer:f})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount Amount"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:ut.discountAmount||"",onChange:Ut=>Xe(be.id,"discountAmount",parseFloat(Ut.target.value)||0),placeholder:"0.00",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:ut.discountPercentage||"",onChange:Ut=>Xe(be.id,"discountPercentage",parseFloat(Ut.target.value)||0),placeholder:"0.0",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Batch"}),a.jsx(JP,{itemId:be.id,itemCode:be.item_code||be.id,options:fe[be.item_code||be.id]||[],value:ut.batchNumber||"",onChange:(Ut,qt)=>{Xe(be.id,"batchNumber",Ut),Xe(be.id,"availableQuantity",qt)},isMobile:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Serial No"}),a.jsx(eM,{itemId:be.id,itemCode:be.item_code||be.id,options:X[be.item_code||be.id]||[],value:ut.serialNumber||"",onChange:Ut=>Xe(be.id,"serialNumber",Ut),isMobile:c})]})]})]}),(ut.discountPercentage>0||ut.discountAmount>0)&&a.jsxs("div",{className:"mt-3 p-2 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:[a.jsx("div",{className:"text-xs text-green-800 dark:text-green-300 font-medium",children:"Discount Applied:"}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400",children:[ut.discountPercentage>0&&`${ut.discountPercentage}% off`,ut.discountPercentage>0&&ut.discountAmount>0&&" + ",ut.discountAmount>0&&`${ut.discountAmount.toFixed(2)} off`]}),a.jsxs("span",{className:"text-xs font-semibold text-green-800 dark:text-green-300",children:["Save $",(Ge-xt).toFixed(2)]})]})]})]})]},be.id)})})}),e.length>0&&a.jsxs("div",{className:`${c?"flex-shrink-0 p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 shadow-lg":"p-4 border-t border-gray-100 dark:border-gray-700"} space-y-3`,children:[a.jsxs("div",{className:`grid grid-cols-2 gap-3 ${c?"mb-3":""}`,children:[a.jsx("button",{onClick:()=>{if(!gr())return;const be=f;if(!be)return;const tt={items:e.map(Ge=>({id:Ge.id,quantity:Ge.quantity,price:$t(Ge)})),customer:{id:be.id},subtotal:ur,total:Tt,appliedCoupons:i,itemDiscounts:de,totalItemDiscount:ve,totalSavings:ve+et,status:"held"};dt(tt)},className:"px-3 py-2 border border-beveren-600 text-beveren-600 dark:text-beveren-400 rounded-lg font-medium hover:bg-beveren-600 hover:text-white transition-colors text-sm",children:"Hold"}),a.jsx("button",{onClick:gt,className:"px-3 py-2 border border-red-500 text-red-600 dark:text-red-400 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm",children:"Clear Cart"})]}),a.jsxs("button",{onClick:()=>{gr()&&V(!0)},className:`w-full bg-beveren-600 text-white rounded-xl font-semibold hover:bg-beveren-700 transition-colors ${c?"py-3 text-base":"py-2 text-sm"}`,children:["Checkout ",Z,Tt.toFixed(2)]})]}),H&&a.jsx(Gl,{customer:null,onClose:()=>{D(!1),ne(""),Le({})},onSave:re,prefilledName:ue,prefilledData:he}),G&&a.jsx(Jx,{isOpen:G,onClose:Ke,cartItems:e.map(be=>je(Y({},be),{discountedPrice:$t(be),itemDiscount:de[be.id]||{},originalPrice:be.price,finalAmount:$t(be)*be.quantity})),appliedCoupons:i,selectedCustomer:f,onCompletePayment:qe,onHoldOrder:dt,isMobile:c,itemDiscounts:de,totalItemDiscount:ve})]})}const tM={USD:"$",SAR:".",AED:".",EUR:"",GBP:"",JPY:"",CAD:"C$",AUD:"A$",CHF:"CHF",CNY:"",INR:"",KRW:"",MXN:"$",NZD:"NZ$",SGD:"S$",THB:"",TRY:"",ZAR:"R",BRL:"R$",RUB:"",SEK:"kr",NOK:"kr",DKK:"kr",PLN:"z",CZK:"K",HUF:"Ft",ILS:"",EGP:"",QAR:".",KWD:".",BHD:".",OMR:".",JOD:".",LBP:".",PKR:"",BDT:"",LKR:"",NPR:"",AFN:"",IRR:"",IQD:".",SYP:"",YER:"",MAD:".",TND:".",DZD:".",LYD:".",ETB:"Br",KES:"KSh",UGX:"USh",TZS:"TSh",ZMW:"ZK",BWP:"P",SZL:"L",LSL:"L",NAD:"N$",MUR:"",SCR:"",MVR:"",NIO:"C$",GTQ:"Q",HNL:"L",SVC:"$",BZD:"BZ$",JMD:"J$",TTD:"TT$",BBD:"Bds$",XCD:"$",AWG:"",ANG:"",SRD:"$",GYD:"G$",VEF:"Bs",COP:"$",PEN:"S/",BOB:"Bs",CLP:"$",ARS:"$",UYU:"$U",PYG:"",FKP:"",FJD:"FJ$",PGK:"K",SBD:"SI$",VUV:"Vt",WST:"WS$",TOP:"T$",PHP:"",IDR:"Rp",MYR:"RM",VND:"",LAK:"",KHR:"",MMK:"K",BND:"B$"},iv=e=>e?tM[e.toUpperCase()]||e:"$",_t=(e,r)=>!e&&e!==0?"0.00":`${iv(r||"USD")} ${e.toFixed(2)}`;function es(){const e=fa(),r=Dn(),t=[{icon:y0,path:"/pos",label:"POS"},{icon:l4,path:"/invoice",label:"Invoice"},{icon:mi,path:"/items",label:"Items"},{icon:Ho,path:"/customers",label:"Customers"},{icon:Wc,path:"/dashboard",label:"Dashboard"},{icon:Fl,path:"/closing_shift",label:"Closing"}],n=i=>i==="/pos"?r.pathname==="/"||r.pathname==="/pos":r.pathname.startsWith(i);return a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 safe-area-pb",children:a.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:t.map((i,l)=>a.jsxs("button",{onClick:()=>e(i.path),className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 transition-colors ${n(i.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:[a.jsx(i.icon,{size:20,className:`mb-1 ${n(i.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`}),a.jsx("span",{className:`text-xs font-medium truncate ${n(i.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:i.label})]},l))})})}function rM({items:e,selectedCategory:r,onCategoryChange:t,searchQuery:n,onSearchChange:i,onScanBarcode:l,scannerOnly:c=!1,hasMore:f=!1,isLoadingMore:h=!1,onLoadMore:d,totalCount:m=0,isSearching:x=!1}){const{t:p}=Wl(),{user:b,logout:S}=Zo(),{theme:k,toggleTheme:T}=wm(),{posDetails:A,loading:M}=un(),{cartItems:H,addToCart:D}=Yl(),G=fa(),[V,se]=E.useState(!1),[oe,q]=E.useState("grid"),ie=E.useRef(null);E.useEffect(()=>{if(!M&&A){const he=A.custom_default_view;he==="List View"?q("list"):he==="Grid View"&&q("grid")}},[A,M]),E.useEffect(()=>{function he(Le){ie.current&&!ie.current.contains(Le.target)&&se(!1)}return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[ie]);const ee=()=>Ne(null,null,function*(){try{yield S(),window.location.href="/klik_pos/login"}catch(he){console.error("Logout error:",he),window.location.href="/klik_pos/login"}}),ae=he=>he.split(" ").map(Le=>Le.charAt(0).toUpperCase()).join("").substring(0,2),J=(b==null?void 0:b.full_name)||(b==null?void 0:b.name)||"Guest User",le=(A==null?void 0:A.name)||"POS Profile",pe=ae(J),ue=H.reduce((he,Le)=>he+Le.quantity,0),ne=H.reduce((he,Le)=>he+Le.price*Le.quantity,0);return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[a.jsxs("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-beveren-600 dark:text-beveren-400",children:"KLiK PoS"}),c&&a.jsx("div",{className:"bg-blue-600/90 text-white px-2 py-1 rounded-md text-xs font-medium",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),a.jsx("span",{children:"Scan Only"})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 relative",ref:ie,children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:le}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:J})]}),a.jsx("button",{onClick:()=>se(!V),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white text-xs font-medium pointer-events-none",children:pe})}),V&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:pe})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:le}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(Wx,{size:12,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:J})]}),a.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:(b==null?void 0:b.role)||"User"})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(p0,{to:"/settings",onClick:()=>se(!1),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(x0,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{T(),se(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[k==="dark"?a.jsx(Sm,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}):a.jsx(km,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:k==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>Ne(null,null,function*(){yield b4(),se(!1)}),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[a.jsx(Yo,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),a.jsx("span",{children:"Clear Cache"})]}),a.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:()=>{ee(),se(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[a.jsx(Nm,{size:14,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"px-4 pb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:p("SEARCH_PRODUCTS"),value:n,onChange:he=>i(he.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),l&&a.jsx("button",{onClick:l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:a.jsx(c4,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>q("grid"),className:`p-2 rounded-md transition-colors ${oe==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:a.jsx(y0,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>q("list"),className:`p-2 rounded-md transition-colors ${oe==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:a.jsx(Vx,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"px-4 pb-2",children:a.jsx(w4,{selectedCategory:r,onCategoryChange:t,isMobile:!0})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:M?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):x?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-beveren-600"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Searching..."})]})}):a.jsx(j4,{items:e,onAddToCart:D,isMobile:!0,scannerOnly:c,viewMode:oe,hasMore:f,isLoadingMore:h,onLoadMore:d,totalCount:m})}),ue>0&&a.jsx("button",{onClick:()=>G("/cart"),className:"fixed bottom-20 right-6 bg-beveren-600 text-white rounded-full p-4 shadow-lg hover:bg-beveren-700 transition-colors z-30",children:a.jsxs("div",{className:"relative",children:[a.jsx(qd,{className:"w-6 h-6"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:ue})]})}),ue>0&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 z-40",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ue," items"]}),a.jsx("div",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:_t(ne,(A==null?void 0:A.currency)||"USD")}),a.jsx("button",{onClick:()=>G("/cart"),className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors font-medium",children:"View Cart"})]})}),a.jsx(es,{})]})}function aM({message:e="Loading..."}){return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:e})]})})}var ry={exports:{}},j3;function nM(){return j3||(j3=1,function(e,r){(function(t,n){e.exports=n()})(window,function(){return function(t){var n={};function i(l){if(n[l])return n[l].exports;var c=n[l]={i:l,l:!1,exports:{}};return t[l].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=t,i.c=n,i.d=function(l,c,f){i.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:f})},i.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,c){if(1&c&&(l=i(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var f=Object.create(null);if(i.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var h in l)i.d(f,h,function(d){return l[d]}.bind(null,h));return f},i.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(c,"a",c),c},i.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},i.p="/",i(i.s=90)}([function(t,n,i){var l=i(68);t.exports=function(c,f,h){return(f=l(f))in c?Object.defineProperty(c,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[f]=h,c},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){function i(l){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},t.exports.__esModule=!0,t.exports.default=t.exports,i(l)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(68);function c(f,h){for(var d=0;d<h.length;d++){var m=h[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,l(m.key),m)}}t.exports=function(f,h,d){return h&&c(f.prototype,h),d&&c(f,d),Object.defineProperty(f,"prototype",{writable:!1}),f},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(9).default,c=i(150);t.exports=function(f,h){if(h&&(l(h)=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(f)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(38);t.exports=function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&l(c,f)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(146)();t.exports=l;try{regeneratorRuntime=l}catch(c){typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}},function(t,n){function i(l,c,f,h,d,m,x){try{var p=l[m](x),b=p.value}catch(S){return void f(S)}p.done?c(b):Promise.resolve(b).then(h,d)}t.exports=function(l){return function(){var c=this,f=arguments;return new Promise(function(h,d){var m=l.apply(c,f);function x(b){i(m,h,d,x,p,"next",b)}function p(b){i(m,h,d,x,p,"throw",b)}x(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(46),c=typeof self=="object"&&self&&self.Object===Object&&self,f=l||c||Function("return this")();t.exports=f},function(t,n){function i(l){return t.exports=i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t.exports.__esModule=!0,t.exports.default=t.exports,i(l)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}},function(t,n){t.exports=function(i){return i!=null&&typeof i=="object"}},function(t,n){var i=Array.isArray;t.exports=i},function(t,n,i){var l=i(151);function c(){return t.exports=c=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(f,h,d){var m=l(f,h);if(m){var x=Object.getOwnPropertyDescriptor(m,h);return x.get?x.get.call(arguments.length<3?f:d):x.value}},t.exports.__esModule=!0,t.exports.default=t.exports,c.apply(null,arguments)}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(102),c=i(108);t.exports=function(f,h){var d=c(f,h);return l(d)?d:void 0}},function(t,n,i){var l=i(91),c=i(134)(function(f,h,d){l(f,h,d)});t.exports=c},function(t,n,i){var l=i(152),c=i(153),f=i(66),h=i(154);t.exports=function(d){return l(d)||c(d)||f(d)||h()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(19),c=i(104),f=i(105),h=l?l.toStringTag:void 0;t.exports=function(d){return d==null?d===void 0?"[object Undefined]":"[object Null]":h&&h in Object(d)?c(d):f(d)}},function(t,n,i){var l=i(60),c=i(29);t.exports=function(f,h,d,m){var x=!d;d||(d={});for(var p=-1,b=h.length;++p<b;){var S=h[p],k=m?m(d[S],f[S],S,d,f):void 0;k===void 0&&(k=f[S]),x?c(d,S,k):l(d,S,k)}return d}},function(t,n,i){var l=i(8).Symbol;t.exports=l},function(t,n,i){var l=i(61),c=i(132),f=i(26);t.exports=function(h){return f(h)?l(h,!0):c(h)}},function(t,n,i){var l=i(92),c=i(93),f=i(94),h=i(95),d=i(96);function m(x){var p=-1,b=x==null?0:x.length;for(this.clear();++p<b;){var S=x[p];this.set(S[0],S[1])}}m.prototype.clear=l,m.prototype.delete=c,m.prototype.get=f,m.prototype.has=h,m.prototype.set=d,t.exports=m},function(t,n,i){var l=i(23);t.exports=function(c,f){for(var h=c.length;h--;)if(l(c[h][0],f))return h;return-1}},function(t,n){t.exports=function(i,l){return i===l||i!=i&&l!=l}},function(t,n,i){var l=i(14)(Object,"create");t.exports=l},function(t,n,i){var l=i(117);t.exports=function(c,f){var h=c.__data__;return l(f)?h[typeof f=="string"?"string":"hash"]:h.map}},function(t,n,i){var l=i(28),c=i(56);t.exports=function(f){return f!=null&&c(f.length)&&!l(f)}},function(t,n,i){var l=i(14)(i(8),"Map");t.exports=l},function(t,n,i){var l=i(17),c=i(10);t.exports=function(f){if(!c(f))return!1;var h=l(f);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"}},function(t,n,i){var l=i(50);t.exports=function(c,f,h){f=="__proto__"&&l?l(c,f,{configurable:!0,enumerable:!0,value:h,writable:!0}):c[f]=h}},function(t,n){t.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(t,n,i){var l=i(124);t.exports=function(c){var f=new c.constructor(c.byteLength);return new l(f).set(new l(c)),f}},function(t,n,i){var l=i(55)(Object.getPrototypeOf,Object);t.exports=l},function(t,n){var i=Object.prototype;t.exports=function(l){var c=l&&l.constructor;return l===(typeof c=="function"&&c.prototype||i)}},function(t,n,i){var l=i(126),c=i(11),f=Object.prototype,h=f.hasOwnProperty,d=f.propertyIsEnumerable,m=l(function(){return arguments}())?l:function(x){return c(x)&&h.call(x,"callee")&&!d.call(x,"callee")};t.exports=m},function(t,n,i){(function(l){var c=i(8),f=i(128),h=n&&!n.nodeType&&n,d=h&&typeof l=="object"&&l&&!l.nodeType&&l,m=d&&d.exports===h?c.Buffer:void 0,x=(m?m.isBuffer:void 0)||f;l.exports=x}).call(this,i(30)(t))},function(t,n){t.exports=function(i){return function(l){return i(l)}}},function(t,n,i){(function(l){var c=i(46),f=n&&!n.nodeType&&n,h=f&&typeof l=="object"&&l&&!l.nodeType&&l,d=h&&h.exports===f&&c.process,m=function(){try{var x=h&&h.require&&h.require("util").types;return x||d&&d.binding&&d.binding("util")}catch(p){}}();l.exports=m}).call(this,i(30)(t))},function(t,n){function i(l,c){return t.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},t.exports.__esModule=!0,t.exports.default=t.exports,i(l,c)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(61),c=i(159),f=i(26);t.exports=function(h){return f(h)?l(h):c(h)}},function(t,n,i){var l=i(163),c=i(75),f=Object.prototype.propertyIsEnumerable,h=Object.getOwnPropertySymbols,d=h?function(m){return m==null?[]:(m=Object(m),l(h(m),function(x){return f.call(m,x)}))}:c;t.exports=d},function(t,n){t.exports=function(i,l){for(var c=-1,f=l.length,h=i.length;++c<f;)i[h+c]=l[c];return i}},function(t,n,i){var l=i(166),c=i(27),f=i(167),h=i(168),d=i(169),m=i(17),x=i(47),p=x(l),b=x(c),S=x(f),k=x(h),T=x(d),A=m;(l&&A(new l(new ArrayBuffer(1)))!="[object DataView]"||c&&A(new c)!="[object Map]"||f&&A(f.resolve())!="[object Promise]"||h&&A(new h)!="[object Set]"||d&&A(new d)!="[object WeakMap]")&&(A=function(M){var H=m(M),D=H=="[object Object]"?M.constructor:void 0,G=D?x(D):"";if(G)switch(G){case p:return"[object DataView]";case b:return"[object Map]";case S:return"[object Promise]";case k:return"[object Set]";case T:return"[object WeakMap]"}return H}),t.exports=A},function(t,n,i){var l=i(12),c=i(180),f=i(181),h=i(184);t.exports=function(d,m){return l(d)?d:c(d,m)?[d]:f(h(d))}},function(t,n,i){var l=i(17),c=i(11);t.exports=function(f){return typeof f=="symbol"||c(f)&&l(f)=="[object Symbol]"}},function(t,n,i){var l=i(21),c=i(97),f=i(98),h=i(99),d=i(100),m=i(101);function x(p){var b=this.__data__=new l(p);this.size=b.size}x.prototype.clear=c,x.prototype.delete=f,x.prototype.get=h,x.prototype.has=d,x.prototype.set=m,t.exports=x},function(t,n,i){(function(l){var c=typeof l=="object"&&l&&l.Object===Object&&l;t.exports=c}).call(this,i(103))},function(t,n){var i=Function.prototype.toString;t.exports=function(l){if(l!=null){try{return i.call(l)}catch(c){}try{return l+""}catch(c){}}return""}},function(t,n,i){var l=i(109),c=i(116),f=i(118),h=i(119),d=i(120);function m(x){var p=-1,b=x==null?0:x.length;for(this.clear();++p<b;){var S=x[p];this.set(S[0],S[1])}}m.prototype.clear=l,m.prototype.delete=c,m.prototype.get=f,m.prototype.has=h,m.prototype.set=d,t.exports=m},function(t,n,i){var l=i(29),c=i(23);t.exports=function(f,h,d){(d!==void 0&&!c(f[h],d)||d===void 0&&!(h in f))&&l(f,h,d)}},function(t,n,i){var l=i(14),c=function(){try{var f=l(Object,"defineProperty");return f({},"",{}),f}catch(h){}}();t.exports=c},function(t,n,i){(function(l){var c=i(8),f=n&&!n.nodeType&&n,h=f&&typeof l=="object"&&l&&!l.nodeType&&l,d=h&&h.exports===f?c.Buffer:void 0,m=d?d.allocUnsafe:void 0;l.exports=function(x,p){if(p)return x.slice();var b=x.length,S=m?m(b):new x.constructor(b);return x.copy(S),S}}).call(this,i(30)(t))},function(t,n,i){var l=i(31);t.exports=function(c,f){var h=f?l(c.buffer):c.buffer;return new c.constructor(h,c.byteOffset,c.length)}},function(t,n){t.exports=function(i,l){var c=-1,f=i.length;for(l||(l=Array(f));++c<f;)l[c]=i[c];return l}},function(t,n,i){var l=i(125),c=i(32),f=i(33);t.exports=function(h){return typeof h.constructor!="function"||f(h)?{}:l(c(h))}},function(t,n){t.exports=function(i,l){return function(c){return i(l(c))}}},function(t,n){t.exports=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991}},function(t,n,i){var l=i(17),c=i(32),f=i(11),h=Function.prototype,d=Object.prototype,m=h.toString,x=d.hasOwnProperty,p=m.call(Object);t.exports=function(b){if(!f(b)||l(b)!="[object Object]")return!1;var S=c(b);if(S===null)return!0;var k=x.call(S,"constructor")&&S.constructor;return typeof k=="function"&&k instanceof k&&m.call(k)==p}},function(t,n,i){var l=i(129),c=i(36),f=i(37),h=f&&f.isTypedArray,d=h?c(h):l;t.exports=d},function(t,n){t.exports=function(i,l){if((l!=="constructor"||typeof i[l]!="function")&&l!="__proto__")return i[l]}},function(t,n,i){var l=i(29),c=i(23),f=Object.prototype.hasOwnProperty;t.exports=function(h,d,m){var x=h[d];f.call(h,d)&&c(x,m)&&(m!==void 0||d in h)||l(h,d,m)}},function(t,n,i){var l=i(131),c=i(34),f=i(12),h=i(35),d=i(62),m=i(58),x=Object.prototype.hasOwnProperty;t.exports=function(p,b){var S=f(p),k=!S&&c(p),T=!S&&!k&&h(p),A=!S&&!k&&!T&&m(p),M=S||k||T||A,H=M?l(p.length,String):[],D=H.length;for(var G in p)!b&&!x.call(p,G)||M&&(G=="length"||T&&(G=="offset"||G=="parent")||A&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||d(G,D))||H.push(G);return H}},function(t,n){var i=/^(?:0|[1-9]\d*)$/;t.exports=function(l,c){var f=typeof l;return!!(c=c==null?9007199254740991:c)&&(f=="number"||f!="symbol"&&i.test(l))&&l>-1&&l%1==0&&l<c}},function(t,n){t.exports=function(i){return i}},function(t,n,i){var l=i(136),c=Math.max;t.exports=function(f,h,d){return h=c(h===void 0?f.length-1:h,0),function(){for(var m=arguments,x=-1,p=c(m.length-h,0),b=Array(p);++x<p;)b[x]=m[h+x];x=-1;for(var S=Array(h+1);++x<h;)S[x]=m[x];return S[h]=d(b),l(f,this,S)}}},function(t,n,i){var l=i(137),c=i(139)(l);t.exports=c},function(t,n,i){var l=i(67);t.exports=function(c,f){if(c){if(typeof c=="string")return l(c,f);var h={}.toString.call(c).slice(8,-1);return h==="Object"&&c.constructor&&(h=c.constructor.name),h==="Map"||h==="Set"?Array.from(c):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?l(c,f):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i,l){(l==null||l>i.length)&&(l=i.length);for(var c=0,f=Array(l);c<l;c++)f[c]=i[c];return f},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(9).default,c=i(145);t.exports=function(f){var h=c(f,"string");return l(h)=="symbol"?h:h+""},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i,l){this.v=i,this.k=l},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(71);function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var f,h,d=typeof Symbol=="function"?Symbol:{},m=d.iterator||"@@iterator",x=d.toStringTag||"@@toStringTag";function p(D,G,V,se){var oe=G&&G.prototype instanceof S?G:S,q=Object.create(oe.prototype);return l(q,"_invoke",function(ie,ee,ae){var J,le,pe,ue=0,ne=ae||[],he=!1,Le={p:0,n:0,v:f,a:Z,f:Z.bind(f,4),d:function(B,de){return J=B,le=0,pe=f,Le.n=de,b}};function Z(B,de){for(le=B,pe=de,h=0;!he&&ue&&!xe&&h<ne.length;h++){var xe,fe=ne[h],z=Le.p,X=fe[2];B>3?(xe=X===de)&&(pe=fe[(le=fe[4])?5:(le=3,3)],fe[4]=fe[5]=f):fe[0]<=z&&((xe=B<2&&z<fe[1])?(le=0,Le.v=de,Le.n=fe[1]):z<X&&(xe=B<3||fe[0]>de||de>X)&&(fe[4]=B,fe[5]=de,Le.n=X,le=0))}if(xe||B>1)return b;throw he=!0,de}return function(B,de,xe){if(ue>1)throw TypeError("Generator is already running");for(he&&de===1&&Z(de,xe),le=de,pe=xe;(h=le<2?f:pe)||!he;){J||(le?le<3?(le>1&&(Le.n=-1),Z(le,pe)):Le.n=pe:Le.v=pe);try{if(ue=2,J){if(le||(B="next"),h=J[B]){if(!(h=h.call(J,pe)))throw TypeError("iterator result is not an object");if(!h.done)return h;pe=h.value,le<2&&(le=0)}else le===1&&(h=J.return)&&h.call(J),le<2&&(pe=TypeError("The iterator does not provide a '"+B+"' method"),le=1);J=f}else if((h=(he=Le.n<0)?pe:ie.call(ee,Le))!==b)break}catch(fe){J=f,le=1,pe=fe}finally{ue=1}}return{value:h,done:he}}}(D,V,se),!0),q}var b={};function S(){}function k(){}function T(){}h=Object.getPrototypeOf;var A=[][m]?h(h([][m]())):(l(h={},m,function(){return this}),h),M=T.prototype=S.prototype=Object.create(A);function H(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,T):(D.__proto__=T,l(D,x,"GeneratorFunction")),D.prototype=Object.create(M),D}return k.prototype=T,l(M,"constructor",T),l(T,"constructor",k),k.displayName="GeneratorFunction",l(T,x,"GeneratorFunction"),l(M),l(M,x,"Generator"),l(M,m,function(){return this}),l(M,"toString",function(){return"[object Generator]"}),(t.exports=c=function(){return{w:p,m:H}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){function i(l,c,f,h){var d=Object.defineProperty;try{d({},"",{})}catch(m){d=0}t.exports=i=function(m,x,p,b){function S(k,T){i(m,k,function(A){return this._invoke(k,T,A)})}x?d?d(m,x,{value:p,enumerable:!b,configurable:!b,writable:!b}):m[x]=p:(S("next",0),S("throw",1),S("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,i(l,c,f,h)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(70),c=i(73);t.exports=function(f,h,d,m,x){return new c(l().w(f,h,d,m),x||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(69),c=i(71);t.exports=function f(h,d){function m(p,b,S,k){try{var T=h[p](b),A=T.value;return A instanceof l?d.resolve(A.v).then(function(M){m("next",M,S,k)},function(M){m("throw",M,S,k)}):d.resolve(A).then(function(M){T.value=M,S(T)},function(M){return m("throw",M,S,k)})}catch(M){k(M)}}var x;this.next||(c(f.prototype),c(f.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),c(this,"_invoke",function(p,b,S){function k(){return new d(function(T,A){m(p,S,T,A)})}return x=x?x.then(k,k):k()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i,l){for(var c=-1,f=i==null?0:i.length,h=Array(f);++c<f;)h[c]=l(i[c],c,i);return h}},function(t,n){t.exports=function(){return[]}},function(t,n,i){var l=i(41),c=i(32),f=i(40),h=i(75),d=Object.getOwnPropertySymbols?function(m){for(var x=[];m;)l(x,f(m)),m=c(m);return x}:h;t.exports=d},function(t,n,i){var l=i(41),c=i(12);t.exports=function(f,h,d){var m=h(f);return c(f)?m:l(m,d(f))}},function(t,n,i){var l=i(77),c=i(76),f=i(20);t.exports=function(h){return l(h,f,c)}},function(t,n,i){var l=i(44);t.exports=function(c){if(typeof c=="string"||l(c))return c;var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}},function(t,n,i){var l=i(142),c=i(143),f=i(66),h=i(144);t.exports=function(d,m){return l(d)||c(d,m)||f(d,m)||h()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(155);t.exports=function(c,f){if(c==null)return{};var h,d,m=l(c,f);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(c);for(d=0;d<x.length;d++)h=x[d],f.indexOf(h)===-1&&{}.propertyIsEnumerable.call(c,h)&&(m[h]=c[h])}return m},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(74),c=i(156),f=i(179),h=i(43),d=i(18),m=i(190),x=i(191),p=i(78),b=x(function(S,k){var T={};if(S==null)return T;var A=!1;k=l(k,function(H){return H=h(H,S),A||(A=H.length>1),H}),d(S,p(S),T),A&&(T=c(T,7,m));for(var M=k.length;M--;)f(T,k[M]);return T});t.exports=b},function(t,n,i){var l=i(1),c=i(38),f=i(195),h=i(196);function d(m){var x=typeof Map=="function"?new Map:void 0;return t.exports=d=function(p){if(p===null||!f(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(x!==void 0){if(x.has(p))return x.get(p);x.set(p,b)}function b(){return h(p,arguments,l(this).constructor)}return b.prototype=Object.create(p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c(b,p)},t.exports.__esModule=!0,t.exports.default=t.exports,d(m)}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports},,,,,,,function(t,n,i){t.exports=i(198)},function(t,n,i){var l=i(45),c=i(49),f=i(121),h=i(123),d=i(10),m=i(20),x=i(59);t.exports=function p(b,S,k,T,A){b!==S&&f(S,function(M,H){if(A||(A=new l),d(M))h(b,S,H,k,p,T,A);else{var D=T?T(x(b,H),M,H+"",b,S,A):void 0;D===void 0&&(D=M),c(b,H,D)}},m)}},function(t,n){t.exports=function(){this.__data__=[],this.size=0}},function(t,n,i){var l=i(22),c=Array.prototype.splice;t.exports=function(f){var h=this.__data__,d=l(h,f);return!(d<0)&&(d==h.length-1?h.pop():c.call(h,d,1),--this.size,!0)}},function(t,n,i){var l=i(22);t.exports=function(c){var f=this.__data__,h=l(f,c);return h<0?void 0:f[h][1]}},function(t,n,i){var l=i(22);t.exports=function(c){return l(this.__data__,c)>-1}},function(t,n,i){var l=i(22);t.exports=function(c,f){var h=this.__data__,d=l(h,c);return d<0?(++this.size,h.push([c,f])):h[d][1]=f,this}},function(t,n,i){var l=i(21);t.exports=function(){this.__data__=new l,this.size=0}},function(t,n){t.exports=function(i){var l=this.__data__,c=l.delete(i);return this.size=l.size,c}},function(t,n){t.exports=function(i){return this.__data__.get(i)}},function(t,n){t.exports=function(i){return this.__data__.has(i)}},function(t,n,i){var l=i(21),c=i(27),f=i(48);t.exports=function(h,d){var m=this.__data__;if(m instanceof l){var x=m.__data__;if(!c||x.length<199)return x.push([h,d]),this.size=++m.size,this;m=this.__data__=new f(x)}return m.set(h,d),this.size=m.size,this}},function(t,n,i){var l=i(28),c=i(106),f=i(10),h=i(47),d=/^\[object .+?Constructor\]$/,m=Function.prototype,x=Object.prototype,p=m.toString,b=x.hasOwnProperty,S=RegExp("^"+p.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(k){return!(!f(k)||c(k))&&(l(k)?S:d).test(h(k))}},function(t,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(l){typeof window=="object"&&(i=window)}t.exports=i},function(t,n,i){var l=i(19),c=Object.prototype,f=c.hasOwnProperty,h=c.toString,d=l?l.toStringTag:void 0;t.exports=function(m){var x=f.call(m,d),p=m[d];try{m[d]=void 0;var b=!0}catch(k){}var S=h.call(m);return b&&(x?m[d]=p:delete m[d]),S}},function(t,n){var i=Object.prototype.toString;t.exports=function(l){return i.call(l)}},function(t,n,i){var l,c=i(107),f=(l=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";t.exports=function(h){return!!f&&f in h}},function(t,n,i){var l=i(8)["__core-js_shared__"];t.exports=l},function(t,n){t.exports=function(i,l){return i==null?void 0:i[l]}},function(t,n,i){var l=i(110),c=i(21),f=i(27);t.exports=function(){this.size=0,this.__data__={hash:new l,map:new(f||c),string:new l}}},function(t,n,i){var l=i(111),c=i(112),f=i(113),h=i(114),d=i(115);function m(x){var p=-1,b=x==null?0:x.length;for(this.clear();++p<b;){var S=x[p];this.set(S[0],S[1])}}m.prototype.clear=l,m.prototype.delete=c,m.prototype.get=f,m.prototype.has=h,m.prototype.set=d,t.exports=m},function(t,n,i){var l=i(24);t.exports=function(){this.__data__=l?l(null):{},this.size=0}},function(t,n){t.exports=function(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}},function(t,n,i){var l=i(24),c=Object.prototype.hasOwnProperty;t.exports=function(f){var h=this.__data__;if(l){var d=h[f];return d==="__lodash_hash_undefined__"?void 0:d}return c.call(h,f)?h[f]:void 0}},function(t,n,i){var l=i(24),c=Object.prototype.hasOwnProperty;t.exports=function(f){var h=this.__data__;return l?h[f]!==void 0:c.call(h,f)}},function(t,n,i){var l=i(24);t.exports=function(c,f){var h=this.__data__;return this.size+=this.has(c)?0:1,h[c]=l&&f===void 0?"__lodash_hash_undefined__":f,this}},function(t,n,i){var l=i(25);t.exports=function(c){var f=l(this,c).delete(c);return this.size-=f?1:0,f}},function(t,n){t.exports=function(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}},function(t,n,i){var l=i(25);t.exports=function(c){return l(this,c).get(c)}},function(t,n,i){var l=i(25);t.exports=function(c){return l(this,c).has(c)}},function(t,n,i){var l=i(25);t.exports=function(c,f){var h=l(this,c),d=h.size;return h.set(c,f),this.size+=h.size==d?0:1,this}},function(t,n,i){var l=i(122)();t.exports=l},function(t,n){t.exports=function(i){return function(l,c,f){for(var h=-1,d=Object(l),m=f(l),x=m.length;x--;){var p=m[i?x:++h];if(c(d[p],p,d)===!1)break}return l}}},function(t,n,i){var l=i(49),c=i(51),f=i(52),h=i(53),d=i(54),m=i(34),x=i(12),p=i(127),b=i(35),S=i(28),k=i(10),T=i(57),A=i(58),M=i(59),H=i(130);t.exports=function(D,G,V,se,oe,q,ie){var ee=M(D,V),ae=M(G,V),J=ie.get(ae);if(J)l(D,V,J);else{var le=q?q(ee,ae,V+"",D,G,ie):void 0,pe=le===void 0;if(pe){var ue=x(ae),ne=!ue&&b(ae),he=!ue&&!ne&&A(ae);le=ae,ue||ne||he?x(ee)?le=ee:p(ee)?le=h(ee):ne?(pe=!1,le=c(ae,!0)):he?(pe=!1,le=f(ae,!0)):le=[]:T(ae)||m(ae)?(le=ee,m(ee)?le=H(ee):k(ee)&&!S(ee)||(le=d(ae))):pe=!1}pe&&(ie.set(ae,le),oe(le,ae,se,q,ie),ie.delete(ae)),l(D,V,le)}}},function(t,n,i){var l=i(8).Uint8Array;t.exports=l},function(t,n,i){var l=i(10),c=Object.create,f=function(){function h(){}return function(d){if(!l(d))return{};if(c)return c(d);h.prototype=d;var m=new h;return h.prototype=void 0,m}}();t.exports=f},function(t,n,i){var l=i(17),c=i(11);t.exports=function(f){return c(f)&&l(f)=="[object Arguments]"}},function(t,n,i){var l=i(26),c=i(11);t.exports=function(f){return c(f)&&l(f)}},function(t,n){t.exports=function(){return!1}},function(t,n,i){var l=i(17),c=i(56),f=i(11),h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Arguments]"]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h["[object Map]"]=h["[object Number]"]=h["[object Object]"]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1,t.exports=function(d){return f(d)&&c(d.length)&&!!h[l(d)]}},function(t,n,i){var l=i(18),c=i(20);t.exports=function(f){return l(f,c(f))}},function(t,n){t.exports=function(i,l){for(var c=-1,f=Array(i);++c<i;)f[c]=l(c);return f}},function(t,n,i){var l=i(10),c=i(33),f=i(133),h=Object.prototype.hasOwnProperty;t.exports=function(d){if(!l(d))return f(d);var m=c(d),x=[];for(var p in d)(p!="constructor"||!m&&h.call(d,p))&&x.push(p);return x}},function(t,n){t.exports=function(i){var l=[];if(i!=null)for(var c in Object(i))l.push(c);return l}},function(t,n,i){var l=i(135),c=i(140);t.exports=function(f){return l(function(h,d){var m=-1,x=d.length,p=x>1?d[x-1]:void 0,b=x>2?d[2]:void 0;for(p=f.length>3&&typeof p=="function"?(x--,p):void 0,b&&c(d[0],d[1],b)&&(p=x<3?void 0:p,x=1),h=Object(h);++m<x;){var S=d[m];S&&f(h,S,m,p)}return h})}},function(t,n,i){var l=i(63),c=i(64),f=i(65);t.exports=function(h,d){return f(c(h,d,l),h+"")}},function(t,n){t.exports=function(i,l,c){switch(c.length){case 0:return i.call(l);case 1:return i.call(l,c[0]);case 2:return i.call(l,c[0],c[1]);case 3:return i.call(l,c[0],c[1],c[2])}return i.apply(l,c)}},function(t,n,i){var l=i(138),c=i(50),f=i(63),h=c?function(d,m){return c(d,"toString",{configurable:!0,enumerable:!1,value:l(m),writable:!0})}:f;t.exports=h},function(t,n){t.exports=function(i){return function(){return i}}},function(t,n){var i=Date.now;t.exports=function(l){var c=0,f=0;return function(){var h=i(),d=16-(h-f);if(f=h,d>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(void 0,arguments)}}},function(t,n,i){var l=i(23),c=i(26),f=i(62),h=i(10);t.exports=function(d,m,x){if(!h(x))return!1;var p=typeof m;return!!(p=="number"?c(x)&&f(m,x.length):p=="string"&&m in x)&&l(x[m],d)}},function(t,n){typeof window!="undefined"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){window.setTimeout(i,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(i,l){var c=65535&i,f=65535&l;return c*f+((i>>>16&65535)*f+c*(l>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(i){if(i===null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(i),c=1;c<arguments.length;c++){var f=arguments[c];if(f!==null)for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l})},function(t,n){t.exports=function(i){if(Array.isArray(i))return i},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i,l){var c=i==null?null:typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(c!=null){var f,h,d,m,x=[],p=!0,b=!1;try{if(d=(c=c.call(i)).next,l===0){if(Object(c)!==c)return;p=!1}else for(;!(p=(f=d.call(c)).done)&&(x.push(f.value),x.length!==l);p=!0);}catch(S){b=!0,h=S}finally{try{if(!p&&c.return!=null&&(m=c.return(),Object(m)!==m))return}finally{if(b)throw h}}return x}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(9).default;t.exports=function(c,f){if(l(c)!="object"||!c)return c;var h=c[Symbol.toPrimitive];if(h!==void 0){var d=h.call(c,f||"default");if(l(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(c)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(69),c=i(70),f=i(147),h=i(72),d=i(73),m=i(148),x=i(149);function p(){var b=c(),S=b.m(p),k=(Object.getPrototypeOf?Object.getPrototypeOf(S):S.__proto__).constructor;function T(H){var D=typeof H=="function"&&H.constructor;return!!D&&(D===k||(D.displayName||D.name)==="GeneratorFunction")}var A={throw:1,return:2,break:3,continue:3};function M(H){var D,G;return function(V){D||(D={stop:function(){return G(V.a,2)},catch:function(){return V.v},abrupt:function(se,oe){return G(V.a,A[se],oe)},delegateYield:function(se,oe,q){return D.resultName=oe,G(V.d,x(se),q)},finish:function(se){return G(V.f,se)}},G=function(se,oe,q){V.p=D.prev,V.n=D.next;try{return se(oe,q)}finally{D.next=V.n}}),D.resultName&&(D[D.resultName]=V.v,D.resultName=void 0),D.sent=V.v,D.next=V.n;try{return H.call(this,D)}finally{V.p=D.prev,V.n=D.next}}}return(t.exports=p=function(){return{wrap:function(H,D,G,V){return b.w(M(H),D,G,V&&V.reverse())},isGeneratorFunction:T,mark:b.m,awrap:function(H,D){return new l(H,D)},AsyncIterator:d,async:function(H,D,G,V,se){return(T(D)?h:f)(M(H),D,G,V,se)},keys:m,values:x}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=p,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(72);t.exports=function(c,f,h,d,m){var x=l(c,f,h,d,m);return x.next().then(function(p){return p.done?p.value:x.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i){var l=Object(i),c=[];for(var f in l)c.unshift(f);return function h(){for(;c.length;)if((f=c.pop())in l)return h.value=f,h.done=!1,h;return h.done=!0,h}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(9).default;t.exports=function(c){if(c!=null){var f=c[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],h=0;if(f)return f.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length))return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}}}throw new TypeError(l(c)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(1);t.exports=function(c,f){for(;!{}.hasOwnProperty.call(c,f)&&(c=l(c))!==null;);return c},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(67);t.exports=function(c){if(Array.isArray(c))return l(c)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i){if(typeof Symbol!="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(i,l){if(i==null)return{};var c={};for(var f in i)if({}.hasOwnProperty.call(i,f)){if(l.indexOf(f)!==-1)continue;c[f]=i[f]}return c},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(45),c=i(157),f=i(60),h=i(158),d=i(161),m=i(51),x=i(53),p=i(162),b=i(164),S=i(165),k=i(78),T=i(42),A=i(170),M=i(171),H=i(54),D=i(12),G=i(35),V=i(175),se=i(10),oe=i(177),q=i(39),ie=i(20),ee={};ee["[object Arguments]"]=ee["[object Array]"]=ee["[object ArrayBuffer]"]=ee["[object DataView]"]=ee["[object Boolean]"]=ee["[object Date]"]=ee["[object Float32Array]"]=ee["[object Float64Array]"]=ee["[object Int8Array]"]=ee["[object Int16Array]"]=ee["[object Int32Array]"]=ee["[object Map]"]=ee["[object Number]"]=ee["[object Object]"]=ee["[object RegExp]"]=ee["[object Set]"]=ee["[object String]"]=ee["[object Symbol]"]=ee["[object Uint8Array]"]=ee["[object Uint8ClampedArray]"]=ee["[object Uint16Array]"]=ee["[object Uint32Array]"]=!0,ee["[object Error]"]=ee["[object Function]"]=ee["[object WeakMap]"]=!1,t.exports=function ae(J,le,pe,ue,ne,he){var Le,Z=1&le,B=2&le,de=4&le;if(pe&&(Le=ne?pe(J,ue,ne,he):pe(J)),Le!==void 0)return Le;if(!se(J))return J;var xe=D(J);if(xe){if(Le=A(J),!Z)return x(J,Le)}else{var fe=T(J),z=fe=="[object Function]"||fe=="[object GeneratorFunction]";if(G(J))return m(J,Z);if(fe=="[object Object]"||fe=="[object Arguments]"||z&&!ne){if(Le=B||z?{}:H(J),!Z)return B?b(J,d(Le,J)):p(J,h(Le,J))}else{if(!ee[fe])return ne?J:{};Le=M(J,fe,Z)}}he||(he=new l);var X=he.get(J);if(X)return X;he.set(J,Le),oe(J)?J.forEach(function(Ye){Le.add(ae(Ye,le,pe,Ye,J,he))}):V(J)&&J.forEach(function(Ye,ct){Le.set(ct,ae(Ye,le,pe,ct,J,he))});var Ae=xe?void 0:(de?B?k:S:B?ie:q)(J);return c(Ae||J,function(Ye,ct){Ae&&(Ye=J[ct=Ye]),f(Le,ct,ae(Ye,le,pe,ct,J,he))}),Le}},function(t,n){t.exports=function(i,l){for(var c=-1,f=i==null?0:i.length;++c<f&&l(i[c],c,i)!==!1;);return i}},function(t,n,i){var l=i(18),c=i(39);t.exports=function(f,h){return f&&l(h,c(h),f)}},function(t,n,i){var l=i(33),c=i(160),f=Object.prototype.hasOwnProperty;t.exports=function(h){if(!l(h))return c(h);var d=[];for(var m in Object(h))f.call(h,m)&&m!="constructor"&&d.push(m);return d}},function(t,n,i){var l=i(55)(Object.keys,Object);t.exports=l},function(t,n,i){var l=i(18),c=i(20);t.exports=function(f,h){return f&&l(h,c(h),f)}},function(t,n,i){var l=i(18),c=i(40);t.exports=function(f,h){return l(f,c(f),h)}},function(t,n){t.exports=function(i,l){for(var c=-1,f=i==null?0:i.length,h=0,d=[];++c<f;){var m=i[c];l(m,c,i)&&(d[h++]=m)}return d}},function(t,n,i){var l=i(18),c=i(76);t.exports=function(f,h){return l(f,c(f),h)}},function(t,n,i){var l=i(77),c=i(40),f=i(39);t.exports=function(h){return l(h,f,c)}},function(t,n,i){var l=i(14)(i(8),"DataView");t.exports=l},function(t,n,i){var l=i(14)(i(8),"Promise");t.exports=l},function(t,n,i){var l=i(14)(i(8),"Set");t.exports=l},function(t,n,i){var l=i(14)(i(8),"WeakMap");t.exports=l},function(t,n){var i=Object.prototype.hasOwnProperty;t.exports=function(l){var c=l.length,f=new l.constructor(c);return c&&typeof l[0]=="string"&&i.call(l,"index")&&(f.index=l.index,f.input=l.input),f}},function(t,n,i){var l=i(31),c=i(172),f=i(173),h=i(174),d=i(52);t.exports=function(m,x,p){var b=m.constructor;switch(x){case"[object ArrayBuffer]":return l(m);case"[object Boolean]":case"[object Date]":return new b(+m);case"[object DataView]":return c(m,p);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return d(m,p);case"[object Map]":return new b;case"[object Number]":case"[object String]":return new b(m);case"[object RegExp]":return f(m);case"[object Set]":return new b;case"[object Symbol]":return h(m)}}},function(t,n,i){var l=i(31);t.exports=function(c,f){var h=f?l(c.buffer):c.buffer;return new c.constructor(h,c.byteOffset,c.byteLength)}},function(t,n){var i=/\w*$/;t.exports=function(l){var c=new l.constructor(l.source,i.exec(l));return c.lastIndex=l.lastIndex,c}},function(t,n,i){var l=i(19),c=l?l.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(h){return f?Object(f.call(h)):{}}},function(t,n,i){var l=i(176),c=i(36),f=i(37),h=f&&f.isMap,d=h?c(h):l;t.exports=d},function(t,n,i){var l=i(42),c=i(11);t.exports=function(f){return c(f)&&l(f)=="[object Map]"}},function(t,n,i){var l=i(178),c=i(36),f=i(37),h=f&&f.isSet,d=h?c(h):l;t.exports=d},function(t,n,i){var l=i(42),c=i(11);t.exports=function(f){return c(f)&&l(f)=="[object Set]"}},function(t,n,i){var l=i(43),c=i(186),f=i(187),h=i(79);t.exports=function(d,m){return m=l(m,d),(d=f(d,m))==null||delete d[h(c(m))]}},function(t,n,i){var l=i(12),c=i(44),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/;t.exports=function(d,m){if(l(d))return!1;var x=typeof d;return!(x!="number"&&x!="symbol"&&x!="boolean"&&d!=null&&!c(d))||h.test(d)||!f.test(d)||m!=null&&d in Object(m)}},function(t,n,i){var l=i(182),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=l(function(d){var m=[];return d.charCodeAt(0)===46&&m.push(""),d.replace(c,function(x,p,b,S){m.push(b?S.replace(f,"$1"):p||x)}),m});t.exports=h},function(t,n,i){var l=i(183);t.exports=function(c){var f=l(c,function(d){return h.size===500&&h.clear(),d}),h=f.cache;return f}},function(t,n,i){var l=i(48);function c(f,h){if(typeof f!="function"||h!=null&&typeof h!="function")throw new TypeError("Expected a function");var d=function(){var m=arguments,x=h?h.apply(this,m):m[0],p=d.cache;if(p.has(x))return p.get(x);var b=f.apply(this,m);return d.cache=p.set(x,b)||p,b};return d.cache=new(c.Cache||l),d}c.Cache=l,t.exports=c},function(t,n,i){var l=i(185);t.exports=function(c){return c==null?"":l(c)}},function(t,n,i){var l=i(19),c=i(74),f=i(12),h=i(44),d=l?l.prototype:void 0,m=d?d.toString:void 0;t.exports=function x(p){if(typeof p=="string")return p;if(f(p))return c(p,x)+"";if(h(p))return m?m.call(p):"";var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}},function(t,n){t.exports=function(i){var l=i==null?0:i.length;return l?i[l-1]:void 0}},function(t,n,i){var l=i(188),c=i(189);t.exports=function(f,h){return h.length<2?f:l(f,c(h,0,-1))}},function(t,n,i){var l=i(43),c=i(79);t.exports=function(f,h){for(var d=0,m=(h=l(h,f)).length;f!=null&&d<m;)f=f[c(h[d++])];return d&&d==m?f:void 0}},function(t,n){t.exports=function(i,l,c){var f=-1,h=i.length;l<0&&(l=-l>h?0:h+l),(c=c>h?h:c)<0&&(c+=h),h=l>c?0:c-l>>>0,l>>>=0;for(var d=Array(h);++f<h;)d[f]=i[f+l];return d}},function(t,n,i){var l=i(57);t.exports=function(c){return l(c)?void 0:c}},function(t,n,i){var l=i(192),c=i(64),f=i(65);t.exports=function(h){return f(c(h,void 0,l),h+"")}},function(t,n,i){var l=i(193);t.exports=function(c){return c!=null&&c.length?l(c,1):[]}},function(t,n,i){var l=i(41),c=i(194);t.exports=function f(h,d,m,x,p){var b=-1,S=h.length;for(m||(m=c),p||(p=[]);++b<S;){var k=h[b];d>0&&m(k)?d>1?f(k,d-1,m,x,p):l(p,k):x||(p[p.length]=k)}return p}},function(t,n,i){var l=i(19),c=i(34),f=i(12),h=l?l.isConcatSpreadable:void 0;t.exports=function(d){return f(d)||c(d)||!!(h&&d&&d[h])}},function(t,n){t.exports=function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch(l){return typeof i=="function"}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){var l=i(197),c=i(38);t.exports=function(f,h,d){if(l())return Reflect.construct.apply(null,arguments);var m=[null];m.push.apply(m,h);var x=new(f.bind.apply(f,m));return d&&c(x,d.prototype),x},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){function i(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(c){}return(t.exports=i=function(){return!!l},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,i){i.r(n),i.d(n,"BarcodeDecoder",function(){return Ss}),i.d(n,"Readers",function(){return h}),i.d(n,"CameraAccess",function(){return Cn}),i.d(n,"ImageDebug",function(){return Q}),i.d(n,"ImageWrapper",function(){return Ma}),i.d(n,"ResultCollector",function(){return Iu});var l={};i.r(l),i.d(l,"create",function(){return oe}),i.d(l,"clone",function(){return q}),i.d(l,"copy",function(){return ie}),i.d(l,"identity",function(){return ee}),i.d(l,"fromValues",function(){return ae}),i.d(l,"set",function(){return J}),i.d(l,"transpose",function(){return le}),i.d(l,"invert",function(){return pe}),i.d(l,"adjoint",function(){return ue}),i.d(l,"determinant",function(){return ne}),i.d(l,"multiply",function(){return he}),i.d(l,"rotate",function(){return Le}),i.d(l,"scale",function(){return Z}),i.d(l,"fromRotation",function(){return B}),i.d(l,"fromScaling",function(){return de}),i.d(l,"str",function(){return xe}),i.d(l,"frob",function(){return fe}),i.d(l,"LDU",function(){return z}),i.d(l,"add",function(){return X}),i.d(l,"subtract",function(){return Ae}),i.d(l,"exactEquals",function(){return Ye}),i.d(l,"equals",function(){return ct}),i.d(l,"multiplyScalar",function(){return Ze}),i.d(l,"multiplyScalarAndAdd",function(){return mt}),i.d(l,"mul",function(){return $t}),i.d(l,"sub",function(){return ur});var c={};i.r(c),i.d(c,"create",function(){return ve}),i.d(c,"clone",function(){return et}),i.d(c,"fromValues",function(){return Tt}),i.d(c,"copy",function(){return ge}),i.d(c,"set",function(){return Xe}),i.d(c,"add",function(){return lt}),i.d(c,"subtract",function(){return gr}),i.d(c,"multiply",function(){return Kt}),i.d(c,"divide",function(){return re}),i.d(c,"ceil",function(){return qe}),i.d(c,"floor",function(){return Ke}),i.d(c,"min",function(){return dt}),i.d(c,"max",function(){return gt}),i.d(c,"round",function(){return bt}),i.d(c,"scale",function(){return ft}),i.d(c,"scaleAndAdd",function(){return be}),i.d(c,"distance",function(){return tt}),i.d(c,"squaredDistance",function(){return Ge}),i.d(c,"length",function(){return xt}),i.d(c,"squaredLength",function(){return ut}),i.d(c,"negate",function(){return Ut}),i.d(c,"inverse",function(){return qt}),i.d(c,"normalize",function(){return er}),i.d(c,"dot",function(){return nr}),i.d(c,"cross",function(){return vr}),i.d(c,"lerp",function(){return na}),i.d(c,"random",function(){return yr}),i.d(c,"transformMat2",function(){return Gr}),i.d(c,"transformMat2d",function(){return Xa}),i.d(c,"transformMat3",function(){return _n}),i.d(c,"transformMat4",function(){return Qa}),i.d(c,"rotate",function(){return Be}),i.d(c,"angle",function(){return at}),i.d(c,"signedAngle",function(){return $r}),i.d(c,"zero",function(){return me}),i.d(c,"str",function(){return $e}),i.d(c,"exactEquals",function(){return De}),i.d(c,"equals",function(){return We}),i.d(c,"len",function(){return Nt}),i.d(c,"sub",function(){return It}),i.d(c,"mul",function(){return Bt}),i.d(c,"div",function(){return Rt}),i.d(c,"dist",function(){return sr}),i.d(c,"sqrDist",function(){return Ft}),i.d(c,"sqrLen",function(){return tr}),i.d(c,"forEach",function(){return dr});var f={};i.r(f),i.d(f,"create",function(){return Rr}),i.d(f,"clone",function(){return qr}),i.d(f,"length",function(){return Or}),i.d(f,"fromValues",function(){return Yt}),i.d(f,"copy",function(){return Ht}),i.d(f,"set",function(){return Tr}),i.d(f,"add",function(){return Br}),i.d(f,"subtract",function(){return sa}),i.d(f,"multiply",function(){return Zr}),i.d(f,"divide",function(){return ea}),i.d(f,"ceil",function(){return Ga}),i.d(f,"floor",function(){return Zt}),i.d(f,"min",function(){return la}),i.d(f,"max",function(){return Ea}),i.d(f,"round",function(){return fr}),i.d(f,"scale",function(){return ca}),i.d(f,"scaleAndAdd",function(){return Aa}),i.d(f,"distance",function(){return ha}),i.d(f,"squaredDistance",function(){return Za}),i.d(f,"squaredLength",function(){return Oe}),i.d(f,"negate",function(){return it}),i.d(f,"inverse",function(){return kt}),i.d(f,"normalize",function(){return Ot}),i.d(f,"dot",function(){return Lt}),i.d(f,"cross",function(){return ar}),i.d(f,"lerp",function(){return Wt}),i.d(f,"slerp",function(){return kr}),i.d(f,"hermite",function(){return Dr}),i.d(f,"bezier",function(){return ra}),i.d(f,"random",function(){return zr}),i.d(f,"transformMat4",function(){return Ra}),i.d(f,"transformMat3",function(){return vs}),i.d(f,"transformQuat",function(){return gi}),i.d(f,"rotateX",function(){return In}),i.d(f,"rotateY",function(){return pi}),i.d(f,"rotateZ",function(){return tl}),i.d(f,"angle",function(){return Ws}),i.d(f,"zero",function(){return Xl}),i.d(f,"str",function(){return Ql}),i.d(f,"exactEquals",function(){return rl}),i.d(f,"equals",function(){return yi}),i.d(f,"sub",function(){return eo}),i.d(f,"mul",function(){return Nu}),i.d(f,"div",function(){return to}),i.d(f,"dist",function(){return al}),i.d(f,"sqrDist",function(){return xi}),i.d(f,"len",function(){return bs}),i.d(f,"sqrLen",function(){return Ys}),i.d(f,"forEach",function(){return nl});var h={};i.r(h),i.d(h,"BarcodeReader",function(){return zt}),i.d(h,"TwoOfFiveReader",function(){return ua}),i.d(h,"NewCodabarReader",function(){return _s}),i.d(h,"Code128Reader",function(){return wi}),i.d(h,"Code32Reader",function(){return S0}),i.d(h,"Code39Reader",function(){return tc}),i.d(h,"Code39VINReader",function(){return ku}),i.d(h,"Code93Reader",function(){return A0}),i.d(h,"EAN2Reader",function(){return ac}),i.d(h,"EAN5Reader",function(){return Eu}),i.d(h,"EAN8Reader",function(){return I0}),i.d(h,"EANReader",function(){return ks}),i.d(h,"I2of5Reader",function(){return L0}),i.d(h,"PharmacodeReader",function(){return nc}),i.d(h,"UPCEReader",function(){return ji}),i.d(h,"UPCReader",function(){return so});var d=i(9),m=i.n(d),x=i(15),p=i.n(x),b=(i(141),i(80)),S=i.n(b),k=i(2),T=i.n(k),A=i(3),M=i.n(A),H=i(0),D=i.n(H),G=typeof Float32Array!="undefined"?Float32Array:Array,V=Math.random;function se(v){return v>=0?Math.round(v):v%.5==0?Math.floor(v):Math.round(v)}function oe(){var v=new G(4);return G!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}function q(v){var N=new G(4);return N[0]=v[0],N[1]=v[1],N[2]=v[2],N[3]=v[3],N}function ie(v,N){return v[0]=N[0],v[1]=N[1],v[2]=N[2],v[3]=N[3],v}function ee(v){return v[0]=1,v[1]=0,v[2]=0,v[3]=1,v}function ae(v,N,y,j){var _=new G(4);return _[0]=v,_[1]=N,_[2]=y,_[3]=j,_}function J(v,N,y,j,_){return v[0]=N,v[1]=y,v[2]=j,v[3]=_,v}function le(v,N){if(v===N){var y=N[1];v[1]=N[2],v[2]=y}else v[0]=N[0],v[1]=N[2],v[2]=N[1],v[3]=N[3];return v}function pe(v,N){var y=N[0],j=N[1],_=N[2],$=N[3],O=y*$-_*j;return O?(O=1/O,v[0]=$*O,v[1]=-j*O,v[2]=-_*O,v[3]=y*O,v):null}function ue(v,N){var y=N[0];return v[0]=N[3],v[1]=-N[1],v[2]=-N[2],v[3]=y,v}function ne(v){return v[0]*v[3]-v[2]*v[1]}function he(v,N,y){var j=N[0],_=N[1],$=N[2],O=N[3],R=y[0],L=y[1],I=y[2],K=y[3];return v[0]=j*R+$*L,v[1]=_*R+O*L,v[2]=j*I+$*K,v[3]=_*I+O*K,v}function Le(v,N,y){var j=N[0],_=N[1],$=N[2],O=N[3],R=Math.sin(y),L=Math.cos(y);return v[0]=j*L+$*R,v[1]=_*L+O*R,v[2]=j*-R+$*L,v[3]=_*-R+O*L,v}function Z(v,N,y){var j=N[0],_=N[1],$=N[2],O=N[3],R=y[0],L=y[1];return v[0]=j*R,v[1]=_*R,v[2]=$*L,v[3]=O*L,v}function B(v,N){var y=Math.sin(N),j=Math.cos(N);return v[0]=j,v[1]=y,v[2]=-y,v[3]=j,v}function de(v,N){return v[0]=N[0],v[1]=0,v[2]=0,v[3]=N[1],v}function xe(v){return"mat2("+v[0]+", "+v[1]+", "+v[2]+", "+v[3]+")"}function fe(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]+v[3]*v[3])}function z(v,N,y,j){return v[2]=j[2]/j[0],y[0]=j[0],y[1]=j[1],y[3]=j[3]-v[2]*y[1],[v,N,y]}function X(v,N,y){return v[0]=N[0]+y[0],v[1]=N[1]+y[1],v[2]=N[2]+y[2],v[3]=N[3]+y[3],v}function Ae(v,N,y){return v[0]=N[0]-y[0],v[1]=N[1]-y[1],v[2]=N[2]-y[2],v[3]=N[3]-y[3],v}function Ye(v,N){return v[0]===N[0]&&v[1]===N[1]&&v[2]===N[2]&&v[3]===N[3]}function ct(v,N){var y=v[0],j=v[1],_=v[2],$=v[3],O=N[0],R=N[1],L=N[2],I=N[3];return Math.abs(y-O)<=1e-6*Math.max(1,Math.abs(y),Math.abs(O))&&Math.abs(j-R)<=1e-6*Math.max(1,Math.abs(j),Math.abs(R))&&Math.abs(_-L)<=1e-6*Math.max(1,Math.abs(_),Math.abs(L))&&Math.abs($-I)<=1e-6*Math.max(1,Math.abs($),Math.abs(I))}function Ze(v,N,y){return v[0]=N[0]*y,v[1]=N[1]*y,v[2]=N[2]*y,v[3]=N[3]*y,v}function mt(v,N,y,j){return v[0]=N[0]+y[0]*j,v[1]=N[1]+y[1]*j,v[2]=N[2]+y[2]*j,v[3]=N[3]+y[3]*j,v}var $t=he,ur=Ae;function ve(){var v=new G(2);return G!=Float32Array&&(v[0]=0,v[1]=0),v}function et(v){var N=new G(2);return N[0]=v[0],N[1]=v[1],N}function Tt(v,N){var y=new G(2);return y[0]=v,y[1]=N,y}function ge(v,N){return v[0]=N[0],v[1]=N[1],v}function Xe(v,N,y){return v[0]=N,v[1]=y,v}function lt(v,N,y){return v[0]=N[0]+y[0],v[1]=N[1]+y[1],v}function gr(v,N,y){return v[0]=N[0]-y[0],v[1]=N[1]-y[1],v}function Kt(v,N,y){return v[0]=N[0]*y[0],v[1]=N[1]*y[1],v}function re(v,N,y){return v[0]=N[0]/y[0],v[1]=N[1]/y[1],v}function qe(v,N){return v[0]=Math.ceil(N[0]),v[1]=Math.ceil(N[1]),v}function Ke(v,N){return v[0]=Math.floor(N[0]),v[1]=Math.floor(N[1]),v}function dt(v,N,y){return v[0]=Math.min(N[0],y[0]),v[1]=Math.min(N[1],y[1]),v}function gt(v,N,y){return v[0]=Math.max(N[0],y[0]),v[1]=Math.max(N[1],y[1]),v}function bt(v,N){return v[0]=se(N[0]),v[1]=se(N[1]),v}function ft(v,N,y){return v[0]=N[0]*y,v[1]=N[1]*y,v}function be(v,N,y,j){return v[0]=N[0]+y[0]*j,v[1]=N[1]+y[1]*j,v}function tt(v,N){var y=N[0]-v[0],j=N[1]-v[1];return Math.sqrt(y*y+j*j)}function Ge(v,N){var y=N[0]-v[0],j=N[1]-v[1];return y*y+j*j}function xt(v){var N=v[0],y=v[1];return Math.sqrt(N*N+y*y)}function ut(v){var N=v[0],y=v[1];return N*N+y*y}function Ut(v,N){return v[0]=-N[0],v[1]=-N[1],v}function qt(v,N){return v[0]=1/N[0],v[1]=1/N[1],v}function er(v,N){var y=N[0],j=N[1],_=y*y+j*j;return _>0&&(_=1/Math.sqrt(_)),v[0]=N[0]*_,v[1]=N[1]*_,v}function nr(v,N){return v[0]*N[0]+v[1]*N[1]}function vr(v,N,y){var j=N[0]*y[1]-N[1]*y[0];return v[0]=v[1]=0,v[2]=j,v}function na(v,N,y,j){var _=N[0],$=N[1];return v[0]=_+j*(y[0]-_),v[1]=$+j*(y[1]-$),v}function yr(v,N){N=N===void 0?1:N;var y=2*V()*Math.PI;return v[0]=Math.cos(y)*N,v[1]=Math.sin(y)*N,v}function Gr(v,N,y){var j=N[0],_=N[1];return v[0]=y[0]*j+y[2]*_,v[1]=y[1]*j+y[3]*_,v}function Xa(v,N,y){var j=N[0],_=N[1];return v[0]=y[0]*j+y[2]*_+y[4],v[1]=y[1]*j+y[3]*_+y[5],v}function _n(v,N,y){var j=N[0],_=N[1];return v[0]=y[0]*j+y[3]*_+y[6],v[1]=y[1]*j+y[4]*_+y[7],v}function Qa(v,N,y){var j=N[0],_=N[1];return v[0]=y[0]*j+y[4]*_+y[12],v[1]=y[1]*j+y[5]*_+y[13],v}function Be(v,N,y,j){var _=N[0]-y[0],$=N[1]-y[1],O=Math.sin(j),R=Math.cos(j);return v[0]=_*R-$*O+y[0],v[1]=_*O+$*R+y[1],v}function at(v,N){var y=v[0],j=v[1],_=N[0],$=N[1];return Math.abs(Math.atan2(j*_-y*$,y*_+j*$))}function $r(v,N){var y=v[0],j=v[1],_=N[0],$=N[1];return Math.atan2(y*$-j*_,y*_+j*$)}function me(v){return v[0]=0,v[1]=0,v}function $e(v){return"vec2("+v[0]+", "+v[1]+")"}function De(v,N){return v[0]===N[0]&&v[1]===N[1]}function We(v,N){var y=v[0],j=v[1],_=N[0],$=N[1];return Math.abs(y-_)<=1e-6*Math.max(1,Math.abs(y),Math.abs(_))&&Math.abs(j-$)<=1e-6*Math.max(1,Math.abs(j),Math.abs($))}var Te,Nt=xt,It=gr,Bt=Kt,Rt=re,sr=tt,Ft=Ge,tr=ut,dr=(Te=ve(),function(v,N,y,j,_,$){var O,R;for(N||(N=2),y||(y=0),R=j?Math.min(j*N+y,v.length):v.length,O=y;O<R;O+=N)Te[0]=v[O],Te[1]=v[O+1],_(Te,Te,$),v[O]=Te[0],v[O+1]=Te[1];return v});function Rr(){var v=new G(3);return G!=Float32Array&&(v[0]=0,v[1]=0,v[2]=0),v}function qr(v){var N=new G(3);return N[0]=v[0],N[1]=v[1],N[2]=v[2],N}function Or(v){var N=v[0],y=v[1],j=v[2];return Math.sqrt(N*N+y*y+j*j)}function Yt(v,N,y){var j=new G(3);return j[0]=v,j[1]=N,j[2]=y,j}function Ht(v,N){return v[0]=N[0],v[1]=N[1],v[2]=N[2],v}function Tr(v,N,y,j){return v[0]=N,v[1]=y,v[2]=j,v}function Br(v,N,y){return v[0]=N[0]+y[0],v[1]=N[1]+y[1],v[2]=N[2]+y[2],v}function sa(v,N,y){return v[0]=N[0]-y[0],v[1]=N[1]-y[1],v[2]=N[2]-y[2],v}function Zr(v,N,y){return v[0]=N[0]*y[0],v[1]=N[1]*y[1],v[2]=N[2]*y[2],v}function ea(v,N,y){return v[0]=N[0]/y[0],v[1]=N[1]/y[1],v[2]=N[2]/y[2],v}function Ga(v,N){return v[0]=Math.ceil(N[0]),v[1]=Math.ceil(N[1]),v[2]=Math.ceil(N[2]),v}function Zt(v,N){return v[0]=Math.floor(N[0]),v[1]=Math.floor(N[1]),v[2]=Math.floor(N[2]),v}function la(v,N,y){return v[0]=Math.min(N[0],y[0]),v[1]=Math.min(N[1],y[1]),v[2]=Math.min(N[2],y[2]),v}function Ea(v,N,y){return v[0]=Math.max(N[0],y[0]),v[1]=Math.max(N[1],y[1]),v[2]=Math.max(N[2],y[2]),v}function fr(v,N){return v[0]=se(N[0]),v[1]=se(N[1]),v[2]=se(N[2]),v}function ca(v,N,y){return v[0]=N[0]*y,v[1]=N[1]*y,v[2]=N[2]*y,v}function Aa(v,N,y,j){return v[0]=N[0]+y[0]*j,v[1]=N[1]+y[1]*j,v[2]=N[2]+y[2]*j,v}function ha(v,N){var y=N[0]-v[0],j=N[1]-v[1],_=N[2]-v[2];return Math.sqrt(y*y+j*j+_*_)}function Za(v,N){var y=N[0]-v[0],j=N[1]-v[1],_=N[2]-v[2];return y*y+j*j+_*_}function Oe(v){var N=v[0],y=v[1],j=v[2];return N*N+y*y+j*j}function it(v,N){return v[0]=-N[0],v[1]=-N[1],v[2]=-N[2],v}function kt(v,N){return v[0]=1/N[0],v[1]=1/N[1],v[2]=1/N[2],v}function Ot(v,N){var y=N[0],j=N[1],_=N[2],$=y*y+j*j+_*_;return $>0&&($=1/Math.sqrt($)),v[0]=N[0]*$,v[1]=N[1]*$,v[2]=N[2]*$,v}function Lt(v,N){return v[0]*N[0]+v[1]*N[1]+v[2]*N[2]}function ar(v,N,y){var j=N[0],_=N[1],$=N[2],O=y[0],R=y[1],L=y[2];return v[0]=_*L-$*R,v[1]=$*O-j*L,v[2]=j*R-_*O,v}function Wt(v,N,y,j){var _=N[0],$=N[1],O=N[2];return v[0]=_+j*(y[0]-_),v[1]=$+j*(y[1]-$),v[2]=O+j*(y[2]-O),v}function kr(v,N,y,j){var _=Math.acos(Math.min(Math.max(Lt(N,y),-1),1)),$=Math.sin(_),O=Math.sin((1-j)*_)/$,R=Math.sin(j*_)/$;return v[0]=O*N[0]+R*y[0],v[1]=O*N[1]+R*y[1],v[2]=O*N[2]+R*y[2],v}function Dr(v,N,y,j,_,$){var O=$*$,R=O*(2*$-3)+1,L=O*($-2)+$,I=O*($-1),K=O*(3-2*$);return v[0]=N[0]*R+y[0]*L+j[0]*I+_[0]*K,v[1]=N[1]*R+y[1]*L+j[1]*I+_[1]*K,v[2]=N[2]*R+y[2]*L+j[2]*I+_[2]*K,v}function ra(v,N,y,j,_,$){var O=1-$,R=O*O,L=$*$,I=R*O,K=3*$*R,ce=3*L*O,we=L*$;return v[0]=N[0]*I+y[0]*K+j[0]*ce+_[0]*we,v[1]=N[1]*I+y[1]*K+j[1]*ce+_[1]*we,v[2]=N[2]*I+y[2]*K+j[2]*ce+_[2]*we,v}function zr(v,N){N=N===void 0?1:N;var y=2*V()*Math.PI,j=2*V()-1,_=Math.sqrt(1-j*j)*N;return v[0]=Math.cos(y)*_,v[1]=Math.sin(y)*_,v[2]=j*N,v}function Ra(v,N,y){var j=N[0],_=N[1],$=N[2],O=y[3]*j+y[7]*_+y[11]*$+y[15];return O=O||1,v[0]=(y[0]*j+y[4]*_+y[8]*$+y[12])/O,v[1]=(y[1]*j+y[5]*_+y[9]*$+y[13])/O,v[2]=(y[2]*j+y[6]*_+y[10]*$+y[14])/O,v}function vs(v,N,y){var j=N[0],_=N[1],$=N[2];return v[0]=j*y[0]+_*y[3]+$*y[6],v[1]=j*y[1]+_*y[4]+$*y[7],v[2]=j*y[2]+_*y[5]+$*y[8],v}function gi(v,N,y){var j=y[0],_=y[1],$=y[2],O=y[3],R=N[0],L=N[1],I=N[2],K=_*I-$*L,ce=$*R-j*I,we=j*L-_*R;return K+=K,ce+=ce,we+=we,v[0]=R+O*K+_*we-$*ce,v[1]=L+O*ce+$*K-j*we,v[2]=I+O*we+j*ce-_*K,v}function In(v,N,y,j){var _=[],$=[];return _[0]=N[0]-y[0],_[1]=N[1]-y[1],_[2]=N[2]-y[2],$[0]=_[0],$[1]=_[1]*Math.cos(j)-_[2]*Math.sin(j),$[2]=_[1]*Math.sin(j)+_[2]*Math.cos(j),v[0]=$[0]+y[0],v[1]=$[1]+y[1],v[2]=$[2]+y[2],v}function pi(v,N,y,j){var _=[],$=[];return _[0]=N[0]-y[0],_[1]=N[1]-y[1],_[2]=N[2]-y[2],$[0]=_[2]*Math.sin(j)+_[0]*Math.cos(j),$[1]=_[1],$[2]=_[2]*Math.cos(j)-_[0]*Math.sin(j),v[0]=$[0]+y[0],v[1]=$[1]+y[1],v[2]=$[2]+y[2],v}function tl(v,N,y,j){var _=[],$=[];return _[0]=N[0]-y[0],_[1]=N[1]-y[1],_[2]=N[2]-y[2],$[0]=_[0]*Math.cos(j)-_[1]*Math.sin(j),$[1]=_[0]*Math.sin(j)+_[1]*Math.cos(j),$[2]=_[2],v[0]=$[0]+y[0],v[1]=$[1]+y[1],v[2]=$[2]+y[2],v}function Ws(v,N){var y=v[0],j=v[1],_=v[2],$=N[0],O=N[1],R=N[2],L=Math.sqrt((y*y+j*j+_*_)*($*$+O*O+R*R)),I=L&&Lt(v,N)/L;return Math.acos(Math.min(Math.max(I,-1),1))}function Xl(v){return v[0]=0,v[1]=0,v[2]=0,v}function Ql(v){return"vec3("+v[0]+", "+v[1]+", "+v[2]+")"}function rl(v,N){return v[0]===N[0]&&v[1]===N[1]&&v[2]===N[2]}function yi(v,N){var y=v[0],j=v[1],_=v[2],$=N[0],O=N[1],R=N[2];return Math.abs(y-$)<=1e-6*Math.max(1,Math.abs(y),Math.abs($))&&Math.abs(j-O)<=1e-6*Math.max(1,Math.abs(j),Math.abs(O))&&Math.abs(_-R)<=1e-6*Math.max(1,Math.abs(_),Math.abs(R))}var eo=sa,Nu=Zr,to=ea,al=ha,xi=Za,bs=Or,Ys=Oe,nl=function(){var v=Rr();return function(N,y,j,_,$,O){var R,L;for(y||(y=3),j||(j=0),L=_?Math.min(_*y+j,N.length):N.length,R=j;R<L;R+=y)v[0]=N[R],v[1]=N[R+1],v[2]=N[R+2],$(v,v,O),N[R]=v[0],N[R+1]=v[1],N[R+2]=v[2];return N}}(),kn=function(v,N){v.fill(N)},sl=function(v){for(var N=0,y=0;y<v.length;y++)v[y]>v[N]&&(N=y);return N},rs=function(v){for(var N=v.length,y=0;N--;)y+=v[N];return y},Ja=function(v,N){var y=[],j={rad:0,vec:c.clone([0,0])},_={};function $(R){_[R.id]=R,y.push(R)}function O(){var R,L=0;for(R=0;R<y.length;R++)L+=y[R].rad;j.rad=L/y.length,j.vec=c.clone([Math.cos(j.rad),Math.sin(j.rad)])}return $(v),O(),{add:function(R){_[R.id]||($(R),O())},fits:function(R){return Math.abs(c.dot(R.point.vec,j.vec))>N},getPoints:function(){return y},getCenter:function(){return j}}},ro=function(v,N,y){return{rad:v[y],point:v,id:N}};function ws(v,N){return{x:v,y:N,toVec2:function(){return c.clone([this.x,this.y])},toVec3:function(){return f.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function dn(v,N){N||(N=8);for(var y=v.data,j=y.length,_=8-N,$=new Int32Array(1<<N);j--;)$[y[j]>>_]++;return $}function en(v,N){var y=function(j){var _,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,O=8-$;function R(ce,we){for(var ke=0,ze=ce;ze<=we;ze++)ke+=_[ze];return ke}function L(ce,we){for(var ke=0,ze=ce;ze<=we;ze++)ke+=ze*_[ze];return ke}function I(){var ce,we,ke,ze,_e=[0],Ue=(1<<$)-1;_=dn(j,$);for(var Qe=1;Qe<Ue;Qe++)(ke=(ce=R(0,Qe))*(we=R(Qe+1,Ue)))===0&&(ke=1),ze=L(0,Qe)*we-L(Qe+1,Ue)*ce,_e[Qe]=ze*ze/ke;return sl(_e)}var K=I();return K<<O}(v);return function(j,_,$){$||($=j);for(var O=j.data,R=O.length,L=$.data;R--;)L[R]=O[R]<_?1:0}(v,y,N),y}function js(v,N,y){var j=v.length/4|0;if(y&&y.singleChannel===!0)for(var _=0;_<j;_++){var $=v[4*_+3];N[_]=$===0?255:v[4*_+0]}else for(var O=0;O<j;O++){var R=v[4*O+3];N[O]=R===0?255:.299*v[4*O+0]+.587*v[4*O+1]+.114*v[4*O+2]}}function vi(v){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],y=v[0],j=v[1],_=v[2],$=_*j,O=$*(1-Math.abs(y/60%2-1)),R=_-$,L=0,I=0,K=0;return y<60?(L=$,I=O):y<120?(L=O,I=$):y<180?(I=$,K=O):y<240?(I=O,K=$):y<300?(L=O,K=$):y<360&&(L=$,K=O),N[0]=255*(L+R)|0,N[1]=255*(I+R)|0,N[2]=255*(K+R)|0,N}function Ln(v){if(!Number.isFinite(v)||v<1)return[];for(var N=[],y=[],j=Math.sqrt(v),_=1;_<=j;_++)v%_==0&&(y.push(_),_!==v/_&&N.unshift(Math.floor(v/_)));return y.concat(N)}function bi(v,N){var y,j=Ln(N.x),_=Ln(N.y),$=Math.max(N.x,N.y),O=function(ke,ze){for(var _e=0,Ue=0,Qe=[];_e<ke.length&&Ue<ze.length;)ke[_e]===ze[Ue]?(Qe.push(ke[_e]),_e++,Ue++):ke[_e]>ze[Ue]?Ue++:_e++;return Qe}(j,_),R=[8,10,15,20,32,60,80],L={"x-small":5,small:4,medium:3,large:2,"x-large":1},I=L[v]||L.medium,K=R[I],ce=Math.floor($/K);function we(ke){for(var ze=0,_e=ke[Math.floor(ke.length/2)];ze<ke.length-1&&ke[ze]<ce;)ze++;return ze>0&&(_e=Math.abs(ke[ze]-ce)>Math.abs(ke[ze-1]-ce)?ke[ze-1]:ke[ze]),ce/_e<R[I+1]/R[I]&&ce/_e>R[I-1]/R[I]?{x:_e,y:_e}:null}return(y=we(O))||(y=we(Ln($)))||(y=we(Ln(ce*K))),y||(y={x:Math.max(1,N.x),y:Math.max(1,N.y)}),y}var il={top:function(v,N){return v.unit==="%"?Math.floor(N.height*(v.value/100)):null},right:function(v,N){return v.unit==="%"?Math.floor(N.width-N.width*(v.value/100)):null},bottom:function(v,N){return v.unit==="%"?Math.floor(N.height-N.height*(v.value/100)):null},left:function(v,N){return v.unit==="%"?Math.floor(N.width*(v.value/100)):null}};function Pa(v,N,y){var j={width:v,height:N},_=Object.keys(y).reduce(function($,O){if(!il[O])return $;var R=function(I){return{value:parseFloat(I),unit:(I.indexOf("%"),I.length,"%")}}(y[O]),L=il[O](R,j);return $[O]=L,$},{});return{sx:_.left,sy:_.top,sw:_.right-_.left,sh:_.bottom-_.top}}function fn(v){if(v<0)throw new Error("expected positive number, received ".concat(v))}var Ma=function(){return M()(function v(N,y){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,_=arguments.length>3?arguments[3]:void 0;T()(this,v),D()(this,"data",void 0),D()(this,"size",void 0),D()(this,"indexMapping",void 0),y?this.data=y:(this.data=new j(N.x*N.y),_&&kn(this.data,0)),this.size=N},[{key:"inImageWithBorder",value:function(v){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fn(N),v.x>=0&&v.y>=0&&v.x<this.size.x+2*N&&v.y<this.size.y+2*N}},{key:"subImageAsCopy",value:function(v,N){fn(N.x),fn(N.y);for(var y=v.size,j=y.x,_=y.y,$=0;$<j;$++)for(var O=0;O<_;O++)v.data[O*j+$]=this.data[(N.y+O)*this.size.x+N.x+$];return v}},{key:"get",value:function(v,N){return this.data[N*this.size.x+v]}},{key:"getSafe",value:function(v,N){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var y=0;y<this.size.x;y++)this.indexMapping.x[y]=y,this.indexMapping.x[y+this.size.x]=y;for(var j=0;j<this.size.y;j++)this.indexMapping.y[j]=j,this.indexMapping.y[j+this.size.y]=j}return this.data[this.indexMapping.y[N+this.size.y]*this.size.x+this.indexMapping.x[v+this.size.x]]}},{key:"set",value:function(v,N,y){return this.data[N*this.size.x+v]=y,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var v=this.size,N=v.x,y=v.y,j=0;j<N;j++)this.data[j]=this.data[(y-1)*N+j]=0;for(var _=1;_<y-1;_++)this.data[_*N]=this.data[_*N+(N-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(v){var N,y,j,_,$,O,R,L,I,K,ce=this.data,we=this.size.y,ke=this.size.x,ze=[],_e=[],Ue=Math.PI,Qe=Ue/4;if(v<=0)return _e;for($=0;$<v;$++)ze[$]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(y=0;y<we;y++)for(_=y*y,N=0;N<ke;N++)(j=ce[y*ke+N])>0&&((O=ze[j-1]).m00+=1,O.m01+=y,O.m10+=N,O.m11+=N*y,O.m02+=_,O.m20+=N*N);for($=0;$<v;$++)O=ze[$],isNaN(O.m00)||O.m00===0||(L=O.m10/O.m00,I=O.m01/O.m00,R=O.m11/O.m00-L*I,K=(O.m02/O.m00-I*I-(O.m20/O.m00-L*L))/(2*R),K=.5*Math.atan(K)+(R>=0?Qe:-Qe)+Ue,O.theta=(180*K/Ue+90)%180-90,O.theta<0&&(O.theta+=180),O.rad=K>Ue?K-Ue:K,O.vec=c.clone([Math.cos(K),Math.sin(K)]),_e.push(O));return _e}},{key:"getAsRGBA",value:function(){for(var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,N=new Uint8ClampedArray(4*this.size.x*this.size.y),y=0;y<this.size.y;y++)for(var j=0;j<this.size.x;j++){var _=y*this.size.x+j,$=this.get(j,y)*v;N[4*_+0]=$,N[4*_+1]=$,N[4*_+2]=$,N[4*_+3]=255}return N}},{key:"show",value:function(v){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var y=v.getContext("2d");if(!y)throw new Error("Unable to get canvas context");var j=y.getImageData(0,0,v.width,v.height),_=this.getAsRGBA(N);v.width=this.size.x,v.height=this.size.y;var $=new ImageData(_,j.width,j.height);y.putImageData($,0,0)}},{key:"overlay",value:function(v,N,y){var j=N<0||N>360?360:N,_=[0,1,1],$=[0,0,0],O=[255,255,255],R=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var L=v.getContext("2d");if(!L)throw new Error("Unable to get canvas context");for(var I=L.getImageData(y.x,y.y,this.size.x,this.size.y),K=I.data,ce=this.data.length;ce--;){_[0]=this.data[ce]*j;var we=4*ce,ke=_[0]<=0?O:_[0]>=360?R:vi(_,$),ze=S()(ke,3);K[we]=ze[0],K[we+1]=ze[1],K[we+2]=ze[2],K[we+3]=255}L.putImageData(I,y.x,y.y)}}])}(),Xs=i(7),Lr=i.n(Xs),P=i(6),F=i.n(P),Q={drawRect:function(v,N,y,j){y.strokeStyle=j.color,y.fillStyle=j.color,y.lineWidth=j.lineWidth||1,y.beginPath(),y.strokeRect(v.x,v.y,N.x,N.y)},drawPath:function(v,N,y,j){y.strokeStyle=j.color,y.fillStyle=j.color,y.lineWidth=j.lineWidth,y.beginPath(),y.moveTo(v[0][N.x],v[0][N.y]);for(var _=1;_<v.length;_++)y.lineTo(v[_][N.x],v[_][N.y]);y.closePath(),y.stroke()},drawImage:function(v,N,y){var j=y.getImageData(0,0,N.x,N.y),_=j.data,$=_.length,O=v.length;if($/O!=4)return!1;for(;O--;){var R=v[O];_[--$]=255,_[--$]=R,_[--$]=R,_[--$]=R}return y.putImageData(j,0,0),!0}},te=i(4),Se=i.n(te),Pe=i(1),Ee=i.n(Pe),pt=i(5),St=i.n(pt),yt=function(v){return v[v.Forward=1]="Forward",v[v.Reverse=-1]="Reverse",v}({}),Ct=function(){return M()(function v(N,y){T()(this,v),D()(this,"_row",[]),D()(this,"config",{}),D()(this,"supplements",[]),D()(this,"SINGLE_CODE_ERROR",0),D()(this,"FORMAT","unknown"),D()(this,"CONFIG_KEYS",{}),this._row=[],this.config=N||{},y&&(this.supplements=y)},[{key:"_nextUnset",value:function(v){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=N;y<v.length;y++)if(!v[y])return y;return v.length}},{key:"_matchPattern",value:function(v,N){for(var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,j=0,_=0,$=0,O=0,R=0,L=0,I=0,K=0;K<v.length;K++)$+=v[K],O+=N[K];if($<O)return Number.MAX_VALUE;y*=R=$/O;for(var ce=0;ce<v.length;ce++){if(L=v[ce],I=N[ce]*R,(_=Math.abs(L-I)/I)>y)return Number.MAX_VALUE;j+=_}return j/O}},{key:"_nextSet",value:function(v){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=N;y<v.length;y++)if(v[y])return y;return v.length}},{key:"_correctBars",value:function(v,N,y){for(var j=y.length,_=0;j--;)(_=v[y[j]]*(1-(1-N)/2))>1&&(v[y[j]]=_)}},{key:"decodePattern",value:function(v){this._row=v;var N=this.decode();return N===null?(this._row.reverse(),(N=this.decode())&&(N.direction=yt.Reverse,N.start=this._row.length-N.start,N.end=this._row.length-N.end)):N.direction=yt.Forward,N&&(N.format=this.FORMAT),N}},{key:"_matchRange",value:function(v,N,y){var j;for(j=v=v<0?0:v;j<N;j++)if(this._row[j]!==y)return!1;return!0}},{key:"_fillCounters",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],j=[],_=0;j[_]=0;for(var $=v;$<N;$++)this._row[$]^(y?1:0)?j[_]++:(j[++_]=1,y=!y);return j}},{key:"_toCounters",value:function(v,N){var y=N.length,j=this._row.length,_=!this._row[v],$=0;kn(N,0);for(var O=v;O<j;O++)if(this._row[O]^(_?1:0))N[$]++;else{if(++$===y)break;N[$]=1,_=!_}return N}},{key:"decodeImage",value:function(v){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}])}();D()(Ct,"adjacentLineValidationMatches",0);var zt=Ct;function Hr(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var ir=[3,1,3,1,1,1],Vt=[3,1,1,1,3],At=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],ja=ir.reduce(function(v,N){return v+N},0),ua=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=Hr(this,N,[].concat(_)),D()(y,"barSpaceRatio",[1,1]),D()(y,"FORMAT","2of5"),D()(y,"SINGLE_CODE_ERROR",.78),D()(y,"AVG_CODE_ERROR",.3),y}return St()(N,v),M()(N,[{key:"_findPattern",value:function(y,j){var _=arguments.length>2&&arguments[2]!==void 0&&arguments[2],$=arguments.length>3&&arguments[3]!==void 0&&arguments[3],O=[],R=0,L={error:Number.MAX_VALUE,code:-1,start:0,end:0},I=0,K=0,ce=this.AVG_CODE_ERROR;j||(j=this._nextSet(this._row));for(var we=0;we<y.length;we++)O[we]=0;for(var ke=j;ke<this._row.length;ke++)if(this._row[ke]^(_?1:0))O[R]++;else{if(R===O.length-1){I=0;for(var ze=0;ze<O.length;ze++)I+=O[ze];if((K=this._matchPattern(O,y))<ce)return L.error=K,L.start=ke-I,L.end=ke,L;if(!$)return null;for(var _e=0;_e<O.length-2;_e++)O[_e]=O[_e+2];O[O.length-2]=0,O[O.length-1]=0,R--}else R++;O[R]=1,_=!_}return null}},{key:"_findStart",value:function(){for(var y=null,j=this._nextSet(this._row),_=1,$=0;!y;){if(!(y=this._findPattern(ir,j,!1,!0)))return null;if(_=Math.floor((y.end-y.start)/ja),($=y.start-5*_)>=0&&this._matchRange($,y.start,0))return y;j=y.end,y=null}return y}},{key:"_verifyTrailingWhitespace",value:function(y){var j=y.end+(y.end-y.start)/2;return j<this._row.length&&this._matchRange(y.end,j,0)?y:null}},{key:"_findEnd",value:function(){this._row.reverse();var y=this._nextSet(this._row),j=this._findPattern(Vt,y,!1,!0);if(this._row.reverse(),j===null)return null;var _=j.start;return j.start=this._row.length-j.end,j.end=this._row.length-_,j!==null?this._verifyTrailingWhitespace(j):null}},{key:"_verifyCounterLength",value:function(y){return y.length%10==0}},{key:"_decodeCode",value:function(y){for(var j=this.AVG_CODE_ERROR,_={error:Number.MAX_VALUE,code:-1,start:0,end:0},$=0;$<At.length;$++){var O=this._matchPattern(y,At[$]);O<_.error&&(_.code=$,_.error=O)}return _.error<j?_:null}},{key:"_decodePayload",value:function(y,j,_){for(var $=0,O=y.length,R=[0,0,0,0,0],L=null;$<O;){for(var I=0;I<5;I++)R[I]=y[$]*this.barSpaceRatio[0],$+=2;if(!(L=this._decodeCode(R)))return null;j.push("".concat(L.code)),_.push(L)}return L}},{key:"decode",value:function(y,j){var _=this._findStart();if(!_)return null;var $=this._findEnd();if(!$)return null;var O=this._fillCounters(_.end,$.start,!1);if(!this._verifyCounterLength(O))return null;var R=[];R.push(_);var L=[];return this._decodePayload(O,L,R)?L.length<5?null:(R.push($),{code:L.join(""),start:_.start,end:$.end,startInfo:_,decodedCodes:R,format:this.FORMAT}):null}}])}(zt);function aa(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var tn=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Ns=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Un=[26,41,11,14],_s=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=aa(this,N,[].concat(_)),D()(y,"_counters",[]),D()(y,"FORMAT","codabar"),y}return St()(N,v),M()(N,[{key:"_computeAlternatingThreshold",value:function(y,j){for(var _=Number.MAX_VALUE,$=0,O=0,R=y;R<j;R+=2)(O=this._counters[R])>$&&($=O),O<_&&(_=O);return(_+$)/2|0}},{key:"_toPattern",value:function(y){var j=y+7;if(j>this._counters.length)return-1;for(var _=this._computeAlternatingThreshold(y,j),$=this._computeAlternatingThreshold(y+1,j),O=64,R=0,L=0,I=0;I<7;I++)R=(1&I)==0?_:$,this._counters[y+I]>R&&(L|=O),O>>=1;return L}},{key:"_isStartEnd",value:function(y){for(var j=0;j<Un.length;j++)if(Un[j]===y)return!0;return!1}},{key:"_sumCounters",value:function(y,j){for(var _=0,$=y;$<j;$++)_+=this._counters[$];return _}},{key:"_findStart",value:function(){for(var y=this._nextUnset(this._row),j=1;j<this._counters.length;j++){var _=this._toPattern(j);if(_!==-1&&this._isStartEnd(_))return{start:y+=this._sumCounters(0,j),end:y+this._sumCounters(j,j+8),startCounter:j,endCounter:j+8}}return null}},{key:"_patternToChar",value:function(y){for(var j=0;j<Ns.length;j++)if(Ns[j]===y)return String.fromCharCode(tn[j]);return null}},{key:"_calculatePatternLength",value:function(y){for(var j=0,_=y;_<y+7;_++)j+=this._counters[_];return j}},{key:"_verifyWhitespace",value:function(y,j){return(y-1<=0||this._counters[y-1]>=this._calculatePatternLength(y)/2)&&(j+8>=this._counters.length||this._counters[j+7]>=this._calculatePatternLength(j)/2)}},{key:"_charToPattern",value:function(y){for(var j=y.charCodeAt(0),_=0;_<tn.length;_++)if(tn[_]===j)return Ns[_];return 0}},{key:"_thresholdResultPattern",value:function(y,j){for(var _,$={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},O=j,R=0;R<y.length;R++){_=this._charToPattern(y[R]);for(var L=6;L>=0;L--){var I=(1&L)==2?$.bar:$.space,K=(1&_)==1?I.wide:I.narrow;K.size+=this._counters[O+L],K.counts++,_>>=1}O+=8}return["space","bar"].forEach(function(ce){var we=$[ce];we.wide.min=Math.floor((we.narrow.size/we.narrow.counts+we.wide.size/we.wide.counts)/2),we.narrow.max=Math.ceil(we.wide.min),we.wide.max=Math.ceil((2*we.wide.size+1.5)/we.wide.counts)}),$}},{key:"_validateResult",value:function(y,j){for(var _,$=this._thresholdResultPattern(y,j),O=j,R=0;R<y.length;R++){_=this._charToPattern(y[R]);for(var L=6;L>=0;L--){var I=(1&L)==0?$.bar:$.space,K=(1&_)==1?I.wide:I.narrow,ce=this._counters[O+L];if(ce<K.min||ce>K.max)return!1;_>>=1}O+=8}return!0}},{key:"decode",value:function(y,j){if(this._counters=this._fillCounters(),!(j=this._findStart()))return null;var _,$=j.startCounter,O=[];do{if((_=this._toPattern($))<0)return null;var R=this._patternToChar(_);if(R===null)return null;if(O.push(R),$+=8,O.length>1&&this._isStartEnd(_))break}while($<this._counters.length);if(O.length-2<4||!this._isStartEnd(_)||!this._verifyWhitespace(j.startCounter,$-8)||!this._validateResult(O,j.startCounter))return null;$=$>this._counters.length?this._counters.length:$;var L=j.start+this._sumCounters(j.startCounter,$-8);return{code:O.join(""),start:j.start,end:L,startInfo:j,decodedCodes:O,format:this.FORMAT}}}])}(zt);function ao(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var wi=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=ao(this,N,[].concat(_)),D()(y,"CODE_SHIFT",98),D()(y,"CODE_C",99),D()(y,"CODE_B",100),D()(y,"CODE_A",101),D()(y,"FNC1",102),D()(y,"START_CODE_A",103),D()(y,"START_CODE_B",104),D()(y,"START_CODE_C",105),D()(y,"STOP_CODE",106),D()(y,"FNC1_CHAR",""),D()(y,"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),D()(y,"SINGLE_CODE_ERROR",.64),D()(y,"AVG_CODE_ERROR",.3),D()(y,"FORMAT","code_128"),D()(y,"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),y}return St()(N,v),M()(N,[{key:"_decodeCode",value:function(y,j){for(var _={error:Number.MAX_VALUE,code:-1,start:y,end:y,correction:{bar:1,space:1}},$=[0,0,0,0,0,0],O=y,R=!this._row[O],L=0,I=O;I<this._row.length;I++)if(this._row[I]^(R?1:0))$[L]++;else{if(L===$.length-1){j&&this._correct($,j);for(var K=0;K<this.CODE_PATTERN.length;K++){var ce=this._matchPattern($,this.CODE_PATTERN[K]);ce<_.error&&(_.code=K,_.error=ce)}return _.end=I,_.code===-1||_.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[_.code]&&(_.correction.bar=this.calculateCorrection(this.CODE_PATTERN[_.code],$,this.MODULE_INDICES.bar),_.correction.space=this.calculateCorrection(this.CODE_PATTERN[_.code],$,this.MODULE_INDICES.space)),_)}$[++L]=1,R=!R}return null}},{key:"_correct",value:function(y,j){this._correctBars(y,j.bar,this.MODULE_INDICES.bar),this._correctBars(y,j.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var y=[0,0,0,0,0,0],j=this._nextSet(this._row),_={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},$=!1,O=0,R=j;R<this._row.length;R++)if(this._row[R]^($?1:0))y[O]++;else{if(O===y.length-1){for(var L=y.reduce(function(we,ke){return we+ke},0),I=this.START_CODE_A;I<=this.START_CODE_C;I++){var K=this._matchPattern(y,this.CODE_PATTERN[I]);K<_.error&&(_.code=I,_.error=K)}if(_.error<this.AVG_CODE_ERROR)return _.start=R-L,_.end=R,_.correction.bar=this.calculateCorrection(this.CODE_PATTERN[_.code],y,this.MODULE_INDICES.bar),_.correction.space=this.calculateCorrection(this.CODE_PATTERN[_.code],y,this.MODULE_INDICES.space),_;for(var ce=0;ce<4;ce++)y[ce]=y[ce+2];y[4]=0,y[5]=0,O--}else O++;y[O]=1,$=!$}return null}},{key:"decode",value:function(y,j){var _=this,$=this._findStart();if($===null)return null;var O={code:$.code,start:$.start,end:$.end,correction:{bar:$.correction.bar,space:$.correction.space}},R=[];R.push(O);for(var L=O.code,I=function(Qe){switch(Qe){case _.START_CODE_A:return _.CODE_A;case _.START_CODE_B:return _.CODE_B;case _.START_CODE_C:return _.CODE_C;default:return null}}(O.code),K=!1,ce=!1,we=ce,ke=!0,ze=0,_e=[],Ue=[];!K;){if(we=ce,ce=!1,(O=this._decodeCode(O.end,O.correction))!==null)switch(O.code!==this.STOP_CODE&&(ke=!0),O.code!==this.STOP_CODE&&(_e.push(O.code),L+=++ze*O.code),R.push(O),I){case this.CODE_A:if(O.code<64)Ue.push(String.fromCharCode(32+O.code));else if(O.code<96)Ue.push(String.fromCharCode(O.code-64));else switch(O.code!==this.STOP_CODE&&(ke=!1),O.code){case this.CODE_SHIFT:ce=!0,I=this.CODE_B;break;case this.CODE_B:I=this.CODE_B;break;case this.CODE_C:I=this.CODE_C;break;case this.FNC1:Ue.push(this.FNC1_CHAR);break;case this.STOP_CODE:K=!0}break;case this.CODE_B:if(O.code<96)Ue.push(String.fromCharCode(32+O.code));else switch(O.code!==this.STOP_CODE&&(ke=!1),O.code){case this.CODE_SHIFT:ce=!0,I=this.CODE_A;break;case this.CODE_A:I=this.CODE_A;break;case this.CODE_C:I=this.CODE_C;break;case this.FNC1:Ue.push(this.FNC1_CHAR);break;case this.STOP_CODE:K=!0}break;case this.CODE_C:if(O.code<100)Ue.push(O.code<10?"0"+O.code:O.code);else switch(O.code!==this.STOP_CODE&&(ke=!1),O.code){case this.CODE_A:I=this.CODE_A;break;case this.CODE_B:I=this.CODE_B;break;case this.FNC1:Ue.push(this.FNC1_CHAR);break;case this.STOP_CODE:K=!0}}else K=!0;we&&(I=I===this.CODE_A?this.CODE_B:this.CODE_A)}return O===null?null:(O.end=this._nextUnset(this._row,O.end),this._verifyTrailingWhitespace(O)?(L-=ze*_e[_e.length-1])%103!==_e[_e.length-1]?null:Ue.length?(ke&&Ue.splice(Ue.length-1,1),{code:Ue.join(""),start:$.start,end:O.end,codeset:I,startInfo:$,decodedCodes:R,endInfo:O,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(y){var j;return(j=y.end+(y.end-y.start)/2)<this._row.length&&this._matchRange(y.end,j,0)?y:null}},{key:"calculateCorrection",value:function(y,j,_){for(var $=_.length,O=0,R=0;$--;)R+=y[_[$]],O+=j[_[$]];return R/O}}])}(zt),Zl=i(13),Jl=i.n(Zl),Xm=i(16),ec=i.n(Xm);function Qm(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var Zm=new Uint16Array(ec()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(v){return v.charCodeAt(0)})),k0=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),tc=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=Qm(this,N,[].concat(_)),D()(y,"FORMAT","code_39"),y}return St()(N,v),M()(N,[{key:"_findStart",value:function(){for(var y=this._nextSet(this._row),j=y,_=new Uint16Array([0,0,0,0,0,0,0,0,0]),$=0,O=!1,R=y;R<this._row.length;R++)if(this._row[R]^(O?1:0))_[$]++;else{if($===_.length-1){if(this._toPattern(_)===148){var L=Math.floor(Math.max(0,j-(R-j)/4));if(this._matchRange(L,j,0))return{start:j,end:R}}j+=_[0]+_[1];for(var I=0;I<7;I++)_[I]=_[I+2];_[7]=0,_[8]=0,$--}else $++;_[$]=1,O=!O}return null}},{key:"_toPattern",value:function(y){for(var j=y.length,_=0,$=j,O=0;$>3;){_=this._findNextWidth(y,_),$=0;for(var R=0,L=0;L<j;L++)y[L]>_&&(R|=1<<j-1-L,$++,O+=y[L]);if($===3){for(var I=0;I<j&&$>0;I++)if(y[I]>_&&($--,2*y[I]>=O))return-1;return R}}return-1}},{key:"_findNextWidth",value:function(y,j){for(var _=Number.MAX_VALUE,$=0;$<y.length;$++)y[$]<_&&y[$]>j&&(_=y[$]);return _}},{key:"_patternToChar",value:function(y){for(var j=0;j<k0.length;j++)if(k0[j]===y)return String.fromCharCode(Zm[j]);return null}},{key:"_verifyTrailingWhitespace",value:function(y,j,_){var $=rs(_);return 3*(j-y-$)>=$}},{key:"decode",value:function(){var y=new Uint16Array([0,0,0,0,0,0,0,0,0]),j=[],_=this._findStart();if(!_)return null;var $,O,R=this._nextSet(this._row,_.end);do{y=this._toCounters(R,y);var L=this._toPattern(y);if(L<0||($=this._patternToChar(L))===null)return null;j.push($),O=R,R+=rs(y),R=this._nextSet(this._row,R)}while($!=="*");return j.pop(),j.length&&this._verifyTrailingWhitespace(O,R,y)?{code:j.join(""),start:_.start,end:R,startInfo:_,decodedCodes:j,format:this.FORMAT}:null}}])}(zt);function _u(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var ol=/[AEIO]/g,S0=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=_u(this,N,[].concat(_)),D()(y,"FORMAT","code_32_reader"),y}return St()(N,v),M()(N,[{key:"_decodeCode32",value:function(y){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(y))return null;for(var j=0,_=0;_<y.length;_++)j=32*j+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(y[_]);var $="".concat(j);return $.length<9&&($=("000000000"+$).slice(-9)),"A"+$}},{key:"_checkChecksum",value:function(y){return!!y}},{key:"decode",value:function(){var y,j,_,$,O,R=(y=N,j="decode",_=this,$=3,O=Jl()(Ee()(1&$?y.prototype:y),j,_),2&$&&typeof O=="function"?function(K){return O.apply(_,K)}:O)([]);if(!R)return null;var L=R.code;if(!L||(L=L.replace(ol,""),!this._checkChecksum(L)))return null;var I=this._decodeCode32(L);return I?(R.code=I,R):null}}])}(tc);function C0(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var E0=/[IOQ]/g,$0=/[A-Z0-9]{17}/,ku=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=C0(this,N,[].concat(_)),D()(y,"FORMAT","code_39_vin"),y}return St()(N,v),M()(N,[{key:"_checkChecksum",value:function(y){return!!y}},{key:"decode",value:function(){var y,j,_,$,O,R=(y=N,j="decode",_=this,$=3,O=Jl()(Ee()(1&$?y.prototype:y),j,_),2&$&&typeof O=="function"?function(I){return O.apply(_,I)}:O)([]);if(!R)return null;var L=R.code;return L&&(L=L.replace(E0,"")).match($0)&&this._checkChecksum(L)?(R.code=L,R):null}}])}(tc);function O0(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var Qs=new Uint16Array(ec()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(v){return v.charCodeAt(0)})),T0=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),A0=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=O0(this,N,[].concat(_)),D()(y,"FORMAT","code_93"),y}return St()(N,v),M()(N,[{key:"_patternToChar",value:function(y){for(var j=0;j<T0.length;j++)if(T0[j]===y)return String.fromCharCode(Qs[j]);return null}},{key:"_toPattern",value:function(y){for(var j=y.length,_=y.reduce(function(I,K){return I+K},0),$=0,O=0;O<j;O++){var R=Math.round(9*y[O]/_);if(R<1||R>4)return-1;if((1&O)==0)for(var L=0;L<R;L++)$=$<<1|1;else $<<=R}return $}},{key:"_findStart",value:function(){for(var y=this._nextSet(this._row),j=y,_=new Uint16Array([0,0,0,0,0,0]),$=0,O=!1,R=y;R<this._row.length;R++)if(this._row[R]^(O?1:0))_[$]++;else{if($===_.length-1){if(this._toPattern(_)===350){var L=Math.floor(Math.max(0,j-(R-j)/4));if(this._matchRange(L,j,0))return{start:j,end:R}}j+=_[0]+_[1];for(var I=0;I<4;I++)_[I]=_[I+2];_[4]=0,_[5]=0,$--}else $++;_[$]=1,O=!O}return null}},{key:"_verifyEnd",value:function(y,j){return!(y===j||!this._row[j])}},{key:"_decodeExtended",value:function(y){for(var j=y.length,_=[],$=0;$<j;$++){var O=y[$];if(O>="a"&&O<="d"){if($>j-2)return null;var R=y[++$],L=R.charCodeAt(0),I=void 0;switch(O){case"a":if(!(R>="A"&&R<="Z"))return null;I=String.fromCharCode(L-64);break;case"b":if(R>="A"&&R<="E")I=String.fromCharCode(L-38);else if(R>="F"&&R<="J")I=String.fromCharCode(L-11);else if(R>="K"&&R<="O")I=String.fromCharCode(L+16);else if(R>="P"&&R<="S")I=String.fromCharCode(L+43);else{if(!(R>="T"&&R<="Z"))return null;I=""}break;case"c":if(R>="A"&&R<="O")I=String.fromCharCode(L-32);else{if(R!=="Z")return null;I=":"}break;case"d":if(!(R>="A"&&R<="Z"))return null;I=String.fromCharCode(L+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",I),null}_.push(I)}else _.push(O)}return _}},{key:"_matchCheckChar",value:function(y,j,_){var $=y.slice(0,j),O=$.length,R=$.reduce(function(L,I,K){return L+((-1*K+(O-1))%_+1)*Qs.indexOf(I.charCodeAt(0))},0);return Qs[R%47]===y[j].charCodeAt(0)}},{key:"_verifyChecksums",value:function(y){return this._matchCheckChar(y,y.length-2,20)&&this._matchCheckChar(y,y.length-1,15)}},{key:"decode",value:function(y,j){if(!(j=this._findStart()))return null;var _,$,O=new Uint16Array([0,0,0,0,0,0]),R=[],L=this._nextSet(this._row,j.end);do{O=this._toCounters(L,O);var I=this._toPattern(O);if(I<0||($=this._patternToChar(I))===null)return null;R.push($),_=L,L+=rs(O),L=this._nextSet(this._row,L)}while($!=="*");return R.pop(),R.length&&this._verifyEnd(_,L)&&this._verifyChecksums(R)?(R=R.slice(0,R.length-2),(R=this._decodeExtended(R))===null?null:{code:R.join(""),start:j.start,end:L,startInfo:j,decodedCodes:R,format:this.FORMAT}):null}}])}(zt);function R0(v,N){var y=Object.keys(v);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(v);N&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),y.push.apply(y,j)}return y}function rc(v){for(var N=1;N<arguments.length;N++){var y=arguments[N]!=null?arguments[N]:{};N%2?R0(Object(y),!0).forEach(function(j){D()(v,j,y[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(y)):R0(Object(y)).forEach(function(j){Object.defineProperty(v,j,Object.getOwnPropertyDescriptor(y,j))})}return v}function P0(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var ll=[1,1,1],no=[1,1,1,1,1],Jm=[1,1,2],cl=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Su=[0,11,13,14,19,25,28,21,22,26],ks=function(v){function N(y,j){var _;return T()(this,N),_=P0(this,N,[p()({supplements:[]},y),j]),D()(_,"FORMAT","ean_13"),D()(_,"SINGLE_CODE_ERROR",.7),D()(_,"STOP_PATTERN",[1,1,1]),_}return St()(N,v),M()(N,[{key:"_findPattern",value:function(y,j,_,$){var O=new Array(y.length).fill(0),R={error:Number.MAX_VALUE,start:0,end:0},L=0;j||(j=this._nextSet(this._row));for(var I=!1,K=j;K<this._row.length;K++)if(this._row[K]^(_?1:0))O[L]+=1;else{if(L===O.length-1){var ce=this._matchPattern(O,y);if(ce<.48&&R.error&&ce<R.error)return I=!0,R.error=ce,R.start=K-O.reduce(function(ke,ze){return ke+ze},0),R.end=K,R;if($){for(var we=0;we<O.length-2;we++)O[we]=O[we+2];O[O.length-2]=0,O[O.length-1]=0,L--}}else L++;O[L]=1,_=!_}return I?R:null}},{key:"_decodeCode",value:function(y,j){var _=[0,0,0,0],$=y,O={error:Number.MAX_VALUE,code:-1,start:y,end:y},R=!this._row[$],L=0;j||(j=cl.length);for(var I=$;I<this._row.length;I++)if(this._row[I]^(R?1:0))_[L]++;else{if(L===_.length-1){for(var K=0;K<j;K++){var ce=this._matchPattern(_,cl[K]);O.end=I,ce<O.error&&(O.code=K,O.error=ce)}return O.error>.48?null:O}_[++L]=1,R=!R}return null}},{key:"_findStart",value:function(){for(var y=this._nextSet(this._row),j=null;!j;){if(!(j=this._findPattern(ll,y,!1,!0)))return null;var _=j.start-(j.end-j.start);if(_>=0&&this._matchRange(_,j.start,0))return j;y=j.end,j=null}return null}},{key:"_calculateFirstDigit",value:function(y){for(var j=0;j<Su.length;j++)if(y===Su[j])return j;return null}},{key:"_decodePayload",value:function(y,j,_){for(var $=rc({},y),O=0,R=0;R<6;R++){if(!($=this._decodeCode($.end)))return null;$.code>=10?($.code-=10,O|=1<<5-R):O|=0<<5-R,j.push($.code),_.push($)}var L=this._calculateFirstDigit(O);if(L===null)return null;j.unshift(L);var I=this._findPattern(no,$.end,!0,!1);if(I===null||!I.end)return null;_.push(I);for(var K=0;K<6;K++){if(!(I=this._decodeCode(I.end,10)))return null;_.push(I),j.push(I.code)}return I}},{key:"_verifyTrailingWhitespace",value:function(y){var j=y.end+(y.end-y.start);return j<this._row.length&&this._matchRange(y.end,j,0)?y:null}},{key:"_findEnd",value:function(y,j){var _=this._findPattern(this.STOP_PATTERN,y,j,!1);return _!==null?this._verifyTrailingWhitespace(_):null}},{key:"_checksum",value:function(y){for(var j=0,_=y.length-2;_>=0;_-=2)j+=y[_];j*=3;for(var $=y.length-1;$>=0;$-=2)j+=y[$];return j%10==0}},{key:"_decodeExtensions",value:function(y){var j=this._nextSet(this._row,y),_=this._findPattern(Jm,j,!1,!1);if(_===null)return null;for(var $=0;$<this.supplements.length;$++)try{var O=this.supplements[$].decode(this._row,_.end);if(O!==null)return{code:O.code,start:j,startInfo:_,end:O.end,decodedCodes:O.decodedCodes,format:this.supplements[$].FORMAT}}catch(R){console.error("* decodeExtensions error in ",this.supplements[$],": ",R)}return null}},{key:"decode",value:function(y,j){var _=new Array,$=new Array,O={},R=this._findStart();if(!R)return null;var L={start:R.start,end:R.end};if($.push(L),!(L=this._decodePayload(L,_,$))||!(L=this._findEnd(L.end,!1))||($.push(L),!this._checksum(_)))return null;if(this.supplements.length>0){var I=this._decodeExtensions(L.end);if(!I||!I.decodedCodes)return null;var K=I.decodedCodes[I.decodedCodes.length-1],ce={start:K.start+((K.end-K.start)/2|0),end:K.end};if(!this._verifyTrailingWhitespace(ce))return null;O={supplement:I,code:_.join("")+I.code}}return rc(rc({code:_.join(""),start:R.start,end:L.end,startInfo:R,decodedCodes:$},O),{},{format:this.FORMAT})}}])}(zt);function Cu(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var ac=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=Cu(this,N,[].concat(_)),D()(y,"FORMAT","ean_2"),y}return St()(N,v),M()(N,[{key:"decode",value:function(y,j){y&&(this._row=y);var _=0,$=j,O=this._row.length,R=[],L=[],I=null;if($===void 0)return null;for(var K=0;K<2&&$<O;K++){if(!(I=this._decodeCode($)))return null;L.push(I),R.push(I.code%10),I.code>=10&&(_|=1<<1-K),K!==1&&($=this._nextSet(this._row,I.end),$=this._nextUnset(this._row,$))}if(R.length!==2||parseInt(R.join(""))%4!==_)return null;var ce=this._findStart();return{code:R.join(""),decodedCodes:L,end:I.end,format:this.FORMAT,startInfo:ce,start:ce.start}}}])}(ks);function M0(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var D0=[24,20,18,17,12,6,3,10,9,5],Eu=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=M0(this,N,[].concat(_)),D()(y,"FORMAT","ean_5"),y}return St()(N,v),M()(N,[{key:"decode",value:function(y,j){if(j===void 0)return null;y&&(this._row=y);for(var _=0,$=j,O=this._row.length,R=null,L=[],I=[],K=0;K<5&&$<O;K++){if(!(R=this._decodeCode($)))return null;I.push(R),L.push(R.code%10),R.code>=10&&(_|=1<<4-K),K!==4&&($=this._nextSet(this._row,R.end),$=this._nextUnset(this._row,$))}if(L.length!==5||function(we){for(var ke=we.length,ze=0,_e=ke-2;_e>=0;_e-=2)ze+=we[_e];ze*=3;for(var Ue=ke-1;Ue>=0;Ue-=2)ze+=we[Ue];return(ze*=3)%10}(L)!==function(we){for(var ke=0;ke<10;ke++)if(we===D0[ke])return ke;return null}(_))return null;var ce=this._findStart();return{code:L.join(""),decodedCodes:I,end:R.end,format:this.FORMAT,startInfo:ce,start:ce.start}}}])}(ks);function eg(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var I0=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=eg(this,N,[].concat(_)),D()(y,"FORMAT","ean_8"),y}return St()(N,v),M()(N,[{key:"_decodePayload",value:function(y,j,_){for(var $=y,O=0;O<4;O++){if(!($=this._decodeCode($.end,10)))return null;j.push($.code),_.push($)}if(($=this._findPattern(no,$.end,!0,!1))===null)return null;_.push($);for(var R=0;R<4;R++){if(!($=this._decodeCode($.end,10)))return null;_.push($),j.push($.code)}return $}}])}(ks);function tg(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var L0=function(v){function N(y){var j;return T()(this,N),j=tg(this,N,[p()({normalizeBarSpaceWidth:!1},y)]),D()(j,"barSpaceRatio",[1,1]),D()(j,"SINGLE_CODE_ERROR",.78),D()(j,"AVG_CODE_ERROR",.38),D()(j,"START_PATTERN",[1,1,1,1]),D()(j,"STOP_PATTERN",[1,1,3]),D()(j,"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),D()(j,"MAX_CORRECTION_FACTOR",5),D()(j,"FORMAT","i2of5"),y.normalizeBarSpaceWidth&&(j.SINGLE_CODE_ERROR=.38,j.AVG_CODE_ERROR=.09),j.config=y,Se()(j,j)}return St()(N,v),M()(N,[{key:"_matchPattern",value:function(y,j){if(this.config.normalizeBarSpaceWidth){for(var _=[0,0],$=[0,0],O=[0,0],R=this.MAX_CORRECTION_FACTOR,L=1/R,I=0;I<y.length;I++)_[I%2]+=y[I],$[I%2]+=j[I];O[0]=$[0]/_[0],O[1]=$[1]/_[1],O[0]=Math.max(Math.min(O[0],R),L),O[1]=Math.max(Math.min(O[1],R),L),this.barSpaceRatio=O;for(var K=0;K<y.length;K++)y[K]*=this.barSpaceRatio[K%2]}return(ce=N,we="_matchPattern",ke=this,ze=3,_e=Jl()(Ee()(1&ze?ce.prototype:ce),we,ke),2&ze&&typeof _e=="function"?function(Ue){return _e.apply(ke,Ue)}:_e)([y,j]);var ce,we,ke,ze,_e}},{key:"_findPattern",value:function(y,j){var _=arguments.length>2&&arguments[2]!==void 0&&arguments[2],$=arguments.length>3&&arguments[3]!==void 0&&arguments[3],O=new Array(y.length).fill(0),R=0,L={error:Number.MAX_VALUE,start:0,end:0},I=this.AVG_CODE_ERROR;_=_||!1,$=$||!1,j||(j=this._nextSet(this._row));for(var K=j;K<this._row.length;K++)if(this._row[K]^(_?1:0))O[R]++;else{if(R===O.length-1){var ce=O.reduce(function(ze,_e){return ze+_e},0),we=this._matchPattern(O,y);if(we<I)return L.error=we,L.start=K-ce,L.end=K,L;if(!$)return null;for(var ke=0;ke<O.length-2;ke++)O[ke]=O[ke+2];O[O.length-2]=0,O[O.length-1]=0,R--}else R++;O[R]=1,_=!_}return null}},{key:"_findStart",value:function(){for(var y=0,j=this._nextSet(this._row),_=null,$=1;!_;){if(!(_=this._findPattern(this.START_PATTERN,j,!1,!0)))return null;if($=Math.floor((_.end-_.start)/4),(y=_.start-10*$)>=0&&this._matchRange(y,_.start,0))return _;j=_.end,_=null}return null}},{key:"_verifyTrailingWhitespace",value:function(y){var j=y.end+(y.end-y.start)/2;return j<this._row.length&&this._matchRange(y.end,j,0)?y:null}},{key:"_findEnd",value:function(){this._row.reverse();var y=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),y===null)return null;var j=y.start;return y.start=this._row.length-y.end,y.end=this._row.length-j,y!==null?this._verifyTrailingWhitespace(y):null}},{key:"_decodePair",value:function(y){for(var j=[],_=0;_<y.length;_++){var $=this._decodeCode(y[_]);if(!$)return null;j.push($)}return j}},{key:"_decodeCode",value:function(y){for(var j=this.AVG_CODE_ERROR,_={error:Number.MAX_VALUE,code:-1,start:0,end:0},$=0;$<this.CODE_PATTERN.length;$++){var O=this._matchPattern(y,this.CODE_PATTERN[$]);O<_.error&&(_.code=$,_.error=O)}return _.error<j?_:null}},{key:"_decodePayload",value:function(y,j,_){for(var $=0,O=y.length,R=[[0,0,0,0,0],[0,0,0,0,0]],L=null;$<O;){for(var I=0;I<5;I++)R[0][I]=y[$]*this.barSpaceRatio[0],R[1][I]=y[$+1]*this.barSpaceRatio[1],$+=2;if(!(L=this._decodePair(R)))return null;for(var K=0;K<L.length;K++)j.push(L[K].code+""),_.push(L[K])}return L}},{key:"_verifyCounterLength",value:function(y){return y.length%10==0}},{key:"decode",value:function(y,j){var _=new Array,$=new Array,O=this._findStart();if(!O)return null;$.push(O);var R=this._findEnd();if(!R)return null;var L=this._fillCounters(O.end,R.start,!1);return this._verifyCounterLength(L)&&this._decodePayload(L,_,$)?_.length%2!=0||_.length<6?null:($.push(R),{code:_.join(""),start:O.start,end:R.end,startInfo:O,decodedCodes:$,format:this.FORMAT}):null}}])}(zt);function ul(v,N){var y=typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(!y){if(Array.isArray(v)||(y=function(L,I){if(L){if(typeof L=="string")return rn(L,I);var K={}.toString.call(L).slice(8,-1);return K==="Object"&&L.constructor&&(K=L.constructor.name),K==="Map"||K==="Set"?Array.from(L):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?rn(L,I):void 0}}(v))||N){y&&(v=y);var j=0,_=function(){};return{s:_,n:function(){return j>=v.length?{done:!0}:{done:!1,value:v[j++]}},e:function(L){throw L},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,O=!0,R=!1;return{s:function(){y=y.call(v)},n:function(){var L=y.next();return O=L.done,L},e:function(L){R=!0,$=L},f:function(){try{O||y.return==null||y.return()}finally{if(R)throw $}}}}function rn(v,N){(N==null||N>v.length)&&(N=v.length);for(var y=0,j=Array(N);y<N;y++)j[y]=v[y];return j}function dl(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var $u=[2,2.5,3],Ou=function(v){function N(){var y,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return T()(this,N),y=dl(this,N,[j]),D()(y,"FORMAT","pharmacode"),D()(y,"SINGLE_CODE_ERROR",.7),D()(y,"AVG_CODE_ERROR",.48),y}return St()(N,v),M()(N,[{key:"_findStart",value:function(){for(var y=0;y<this._row.length;){var j=this._nextSet(this._row,y);if(j>=this._row.length)return null;for(var _=j;_<this._row.length&&this._row[_];)_++;var $=_-j;if($<5)y=_+1;else{var O=j-Math.max(2*$,20);if(O<0)y=_+1;else if(this._matchRange(O,j,0)){var R=Math.max(10*$,50),L=this._nextSet(this._row,_);if(L>=this._row.length)y=_+1;else{if(!(L-_>R))return{start:j,end:_};y=_+1}}else y=_+1}}return null}},{key:"_smoothBarWidths",value:function(y){if(y.length<=2)return y;for(var j=y.slice(),_=1;_<j.length-1;_++){var $=j[_-1],O=j[_],R=[$,O,j[_+1]].sort(function(I,K){return I-K})[1],L=Math.abs(O-R);L>0&&L<=3&&(j[_]=R)}return j}},{key:"_extractBarsAndSpaces",value:function(y){for(var j=[],_=[],$=y,O=0,R=!1;$<this._row.length&&this._row[$];)O++,$++;if(O===0)return null;for(j.push(O),O=0;$<this._row.length&&!this._row[$];)O++,$++;if(O===0||$>=this._row.length)return null;_.push(O);for(var L=6*(j[0]<_[0]?j[0]:.8*_[0]),I=2.5*_[0];$<this._row.length&&j.length<16;){for(O=0;$<this._row.length&&this._row[$];)O++,$++;if(O===0)break;j.push(O),O=0;for(var K=$;$<this._row.length&&!this._row[$];)O++,$++;if(O===0)break;if(O>=L){R=!0,$=K;break}if(j.length>=2&&O>=I){R=!0,$=K;break}if($>=this._row.length){R=!0,$=K;break}_.push(O),_.length>=2&&(I=2*(_.reduce(function(ce,we){return ce+we},0)/_.length))}return R?j.length<2||j.length>16||_.length!==j.length-1?null:this._validateSpaces(_)&&this._validateBarSizeCount(j)?{bars:this._smoothBarWidths(j),spaces:_,end:$}:null:null}},{key:"_validateBarSizeCount",value:function(y){if(y.length===0)return!1;var j,_=[],$=ul(y);try{for($.s();!(j=$.n()).done;){var O,R=j.value,L=!1,I=ul(_);try{for(I.s();!(O=I.n()).done;){var K=O.value,ce=K.reduce(function(we,ke){return we+ke},0)/K.length;if(Math.abs(R-ce)<=.35*ce){K.push(R),L=!0;break}}}catch(we){I.e(we)}finally{I.f()}L||_.push([R])}}catch(we){$.e(we)}finally{$.f()}return!(_.length>2)}},{key:"_validateSpaces",value:function(y){if(y.length===0)return!0;var j=y.reduce(function($,O){return $+O},0)/y.length;if(j===0)return!1;var _=y.reduce(function($,O){return $+Math.pow(O-j,2)},0)/y.length;return Math.sqrt(_)/j<=.35}},{key:"_validateBarRatios",value:function(y,j){var _=y.reduce(function(Xt,ba){return Xt+ba},0)/y.length,$=y.reduce(function(Xt,ba){return Xt+Math.abs(ba-_)},0)/y.length;if((_===0?0:$/_)<=.1){var O=j.length>0?j.reduce(function(Xt,ba){return Xt+ba},0)/j.length:0;return O>0&&O/_<.7?{narrowWidth:_/2.5,wideRatio:2.5}:{narrowWidth:_,wideRatio:2}}var R=Array.from(new Set(y.slice().sort(function(Xt,ba){return Xt-ba})));if(R.length<2)return{narrowWidth:y.reduce(function(Xt,ba){return Xt+ba},0)/y.length,wideRatio:2};for(var L=[],I=0;I<R.length-1;I++){var K,ce=(R[I]+R[I+1])/2,we=[],ke=[],ze=ul(y);try{for(ze.s();!(K=ze.n()).done;){var _e=K.value;_e<ce?we.push(_e):ke.push(_e)}}catch(Xt){ze.e(Xt)}finally{ze.f()}if(we.length!==0&&ke.length!==0){for(var Ue=we.reduce(function(Xt,ba){return Xt+ba},0)/we.length,Qe=ke.reduce(function(Xt,ba){return Xt+ba},0)/ke.length,Je=Qe/Ue,Et=$u[0],wt=Math.abs(Je-Et),Qt=0,cr=$u;Qt<cr.length;Qt++){var lr=cr[Qt],br=Math.abs(Je-lr);br<wt&&(wt=br,Et=lr)}L.push({threshold:ce,narrowBars:we,wideBars:ke,avgN:Ue,avgW:Qe,ratio:Je,ratioDiff:wt,matchedRatio:Et})}}L.sort(function(Xt,ba){return Xt.ratioDiff-ba.ratioDiff});for(var an=0,gn=L;an<gn.length;an++){var Yr=gn[an],hr=.05*Yr.matchedRatio;if(!(Math.abs(Yr.ratio-Yr.matchedRatio)>hr)){var jr,Vr=.15*Yr.avgN,zn=.15*Yr.avgW,nn=!0,Pr=ul(Yr.narrowBars);try{for(Pr.s();!(jr=Pr.n()).done;){var sn=jr.value;if(Math.abs(sn-Yr.avgN)>Vr){nn=!1;break}}}catch(Xt){Pr.e(Xt)}finally{Pr.f()}if(nn){var Os,pn=ul(Yr.wideBars);try{for(pn.s();!(Os=pn.n()).done;){var is=Os.value;if(Math.abs(is-Yr.avgW)>zn){nn=!1;break}}}catch(Xt){pn.e(Xt)}finally{pn.f()}if(nn)return{narrowWidth:Yr.avgN,wideRatio:Yr.matchedRatio}}}}return null}},{key:"_validatePeriodicity",value:function(y,j){if(y.length>0){var _=y.reduce(function(K,ce){return K+ce},0)/y.length,$=y.reduce(function(K,ce){return K+Math.pow(ce-_,2)},0)/y.length,O=Math.sqrt($);if((_!==0?O/_:0)>.65)return!1}if(j.length>0){var R=j.reduce(function(K,ce){return K+ce},0)/j.length,L=j.reduce(function(K,ce){return K+Math.pow(ce-R,2)},0)/j.length,I=Math.sqrt(L);if((R!==0?I/R:0)>.55)return!1}return!0}},{key:"_validateQuietZones",value:function(y,j,_){var $=1*j;if(y.start>=2&&y.start<$)return!1;var O=this._row.length-_;return O<6||!(O<$)}},{key:"_decodeBars",value:function(y,j){for(var _=1.6*(j!=null?j:Math.min.apply(Math,ec()(y))),$=0,O=y.slice().reverse(),R=0;R<O.length;R++)$+=O[R]>_?Math.pow(2,R+1):Math.pow(2,R);for(var L="",I=O.length-1;I>=0;I--)L+=O[I]>_?"W":"N";return{value:$,pattern:L}}},{key:"_verifyTrailingWhitespace",value:function(y,j){var _=Math.min(y+2*j,this._row.length);return this._matchRange(y,_,0)}},{key:"_validatePatternConsistency",value:function(y,j){for(var _=y.start,$=0,O=0,R=0,L=[-2,-1,1,2];R<L.length;R++){var I=_+L[R];if(!(I<0||I>=this._row.length)){O++;var K=this._extractBarsAndSpaces(I);if(K&&K.bars.length===j.length){for(var ce=!0,we=0;we<j.length;we++)if(Math.abs(K.bars[we]-j[we])/Math.max(j[we],1)>.25){ce=!1;break}ce&&$++}}}return O>0&&$>=.5*O}},{key:"decode",value:function(y,j){var _=this._findStart();if(!_||_.start>.5*this._row.length)return null;var $=this._extractBarsAndSpaces(_.start);if(!$)return null;var O=$.bars,R=$.spaces,L=$.end;if(O.reduce(function(ze,_e){return ze+_e},0)+R.reduce(function(ze,_e){return ze+_e},0)<20||this._row.length-L<0||!this._validateSpaces(R)||!this._validatePeriodicity(O,R)||!this._validatePatternConsistency(_,O))return null;var I=this._validateBarRatios(O,R);if(!I||!this._validateQuietZones(_,I.narrowWidth,L))return null;var K=this._decodeBars(O,I.narrowWidth);if(!K)return null;var ce=K.value;if(ce<3||ce>131070)return null;var we=O.reduce(function(ze,_e){return ze+_e},0)/O.length;this._verifyTrailingWhitespace(L,we);var ke=O.map(function(ze,_e){return{code:ze>1.6*Math.min.apply(Math,ec()(O))?1:0,start:0,end:0,error:0}});return{code:ce.toString(),start:_.start,end:L,startInfo:_,decodedCodes:ke,pattern:K.pattern,format:this.FORMAT}}}])}(zt);D()(Ou,"adjacentLineValidationMatches",1);var nc=Ou;function Tu(v,N){var y=Object.keys(v);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(v);N&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),y.push.apply(y,j)}return y}function Au(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}function U0(v,N,y,j){var _=Jl()(Ee()(v.prototype),N,y);return 2&j&&typeof _=="function"?function($){return _.apply(y,$)}:_}var ji=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=Au(this,N,[].concat(_)),D()(y,"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),D()(y,"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),D()(y,"FORMAT","upc_e"),y}return St()(N,v),M()(N,[{key:"_decodePayload",value:function(y,j,_){for(var $=function(L){for(var I=1;I<arguments.length;I++){var K=arguments[I]!=null?arguments[I]:{};I%2?Tu(Object(K),!0).forEach(function(ce){D()(L,ce,K[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(K)):Tu(Object(K)).forEach(function(ce){Object.defineProperty(L,ce,Object.getOwnPropertyDescriptor(K,ce))})}return L}({},y),O=0,R=0;R<6;R++){if(!($=this._decodeCode($.end)))return null;$.code>=10&&($.code=$.code-10,O|=1<<5-R),j.push($.code),_.push($)}return this._determineParity(O,j)?$:null}},{key:"_determineParity",value:function(y,j){for(var _=0;_<this.CODE_FREQUENCY.length;_++)for(var $=0;$<this.CODE_FREQUENCY[_].length;$++)if(y===this.CODE_FREQUENCY[_][$])return j.unshift(_),j.push($),!0;return!1}},{key:"_convertToUPCA",value:function(y){var j=[y[0]],_=y[y.length-2];return(j=_<=2?j.concat(y.slice(1,3)).concat([_,0,0,0,0]).concat(y.slice(3,6)):_===3?j.concat(y.slice(1,4)).concat([0,0,0,0,0]).concat(y.slice(4,6)):_===4?j.concat(y.slice(1,5)).concat([0,0,0,0,0,y[5]]):j.concat(y.slice(1,6)).concat([0,0,0,0,_])).push(y[y.length-1]),j}},{key:"_checksum",value:function(y){return U0(N,"_checksum",this,3)([this._convertToUPCA(y)])}},{key:"_findEnd",value:function(y,j){return U0(N,"_findEnd",this,3)([y,!0])}},{key:"_verifyTrailingWhitespace",value:function(y){var j=y.end+(y.end-y.start)/2;return j<this._row.length&&this._matchRange(y.end,j,0)?y:null}}])}(ks);function Ru(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var so=function(v){function N(){var y;T()(this,N);for(var j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return y=Ru(this,N,[].concat(_)),D()(y,"FORMAT","upc_a"),y}return St()(N,v),M()(N,[{key:"decode",value:function(y,j){var _=ks.prototype.decode.call(this);return _&&_.code&&_.code.length===13&&_.code.charAt(0)==="0"?(_.code=_.code.substring(1),_):null}}])}(ks),io={},fl={UP:1,DOWN:-1};io.getBarcodeLine=function(v,N,y){var j,_,$,O,R,L=0|N.x,I=0|N.y,K=0|y.x,ce=0|y.y,we=Math.abs(ce-I)>Math.abs(K-L),ke=[],ze=v.data,_e=v.size.x,Ue=255,Qe=0;function Je(cr,lr){R=ze[lr*_e+cr],Ue=R<Ue?R:Ue,Qe=R>Qe?R:Qe,ke.push(R)}we&&($=L,L=I,I=$,$=K,K=ce,ce=$),L>K&&($=L,L=K,K=$,$=I,I=ce,ce=$);var Et=K-L,wt=Math.abs(ce-I);j=Et/2|0,_=I;var Qt=I<ce?1:-1;for(O=L;O<K;O++)we?Je(_,O):Je(O,_),(j-=wt)<0&&(_+=Qt,j+=Et);return{line:ke,min:Ue,max:Qe}},io.toBinaryLine=function(v){var N,y,j,_,$,O,R=v.min,L=v.max,I=v.line,K=R+(L-R)/2,ce=[],we=(L-R)/12,ke=-we;for(j=I[0]>K?fl.UP:fl.DOWN,ce.push({pos:0,val:I[0]}),$=0;$<I.length-2;$++)j!==(_=(N=I[$+1]-I[$])+(y=I[$+2]-I[$+1])<ke&&I[$+1]<1.5*K?fl.DOWN:N+y>we&&I[$+1]>.5*K?fl.UP:j)&&(ce.push({pos:$,val:I[$]}),j=_);for(ce.push({pos:I.length,val:I[I.length-1]}),O=ce[0].pos;O<ce[1].pos;O++)I[O]=I[O]>K?0:1;for($=1;$<ce.length-1;$++)for(we=ce[$+1].val>ce[$].val?ce[$].val+(ce[$+1].val-ce[$].val)/3*2|0:ce[$+1].val+(ce[$].val-ce[$+1].val)/3|0,O=ce[$].pos;O<ce[$+1].pos;O++)I[O]=I[O]>we?0:1;return{line:I,threshold:we}},io.debug={printFrequency:function(v,N){var y,j=N.getContext("2d");for(N.width=v.length,N.height=256,j.beginPath(),j.strokeStyle="blue",y=0;y<v.length;y++)j.moveTo(y,255),j.lineTo(y,255-v[y]);j.stroke(),j.closePath()},printPattern:function(v,N){var y,j=N.getContext("2d");for(N.width=v.length,j.fillColor="black",y=0;y<v.length;y++)v[y]===1&&j.fillRect(y,0,1,100)}};var as=io;function oo(v,N){var y=typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(!y){if(Array.isArray(v)||(y=function(L,I){if(L){if(typeof L=="string")return sc(L,I);var K={}.toString.call(L).slice(8,-1);return K==="Object"&&L.constructor&&(K=L.constructor.name),K==="Map"||K==="Set"?Array.from(L):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?sc(L,I):void 0}}(v))||N){y&&(v=y);var j=0,_=function(){};return{s:_,n:function(){return j>=v.length?{done:!0}:{done:!1,value:v[j++]}},e:function(L){throw L},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,O=!0,R=!1;return{s:function(){y=y.call(v)},n:function(){var L=y.next();return O=L.done,L},e:function(L){R=!0,$=L},f:function(){try{O||y.return==null||y.return()}finally{if(R)throw $}}}}function sc(v,N){(N==null||N>v.length)&&(N=v.length);for(var y=0,j=Array(N);y<N;y++)j[y]=v[y];return j}var lo={code_128_reader:wi,ean_reader:ks,ean_5_reader:Eu,ean_2_reader:ac,ean_8_reader:I0,code_39_reader:tc,code_39_vin_reader:ku,codabar_reader:_s,upc_reader:so,upc_e_reader:ji,i2of5_reader:L0,"2of5_reader":ua,code_93_reader:A0,code_32_reader:S0,pharmacode_reader:nc},Ss={registerReader:function(v,N){lo[v]=N},create:function(v,N){var y=[];function j(){v.readers.forEach(function(L){var I,K={},ce=[];m()(L)==="object"?(I=L.format,K=L.config):typeof L=="string"&&(I=L),K.supplements&&(ce=K.supplements.map(function(ke){return new lo[ke]}));try{var we=new lo[I](K,ce);y.push(we)}catch(ke){throw console.error("* Error constructing reader ",I,ke),ke}})}function _(L){var I,K=null,ce=as.getBarcodeLine(N,L[0],L[1]);as.toBinaryLine(ce);var we=-1;for(I=0;I<y.length&&K===null;I++)typeof y[I].setImageWrapper=="function"&&y[I].setImageWrapper(N),(K=y[I].decodePattern(ce.line))!==null&&(we=I);return K===null||we>=0&&y[we]instanceof nc&&!function(ke,ze,_e,Ue){var Qe=Math.round(ke[1].y),Je=ze.start,Et=_e.constructor,wt=Et&&Et.adjacentLineValidationMatches||0;if(wt<=0)return!0;for(var Qt=0,cr=!1,lr=0,br=[1,2,3];lr<br.length;lr++){var an=br[lr];if(cr)break;for(var gn=0,Yr=[-1,1];gn<Yr.length;gn++){var hr=Yr[gn];if(cr)break;var jr=Qe+an*hr;if(!(jr<0||jr>=Ue.size.y)){var Vr={x:ke[0].x,y:jr},zn={x:ke[1].x,y:jr};try{var nn=as.getBarcodeLine(Ue,Vr,zn);as.toBinaryLine(nn),_e._row=nn.line;var Pr=_e._findStart();if(Pr!==null&&Pr.start===Je&&++Qt>=wt){cr=!0;break}}catch(sn){}}}}return Qt>=wt}(L,K,y[we],N)?null:{codeResult:K,barcodeLine:ce}}function $(L){return O.apply(this,arguments)}function O(){return(O=Lr()(F.a.mark(function L(I){var K,ce,we,ke,ze;return F.a.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:K=null,ce=oo(y),_e.prev=1,ce.s();case 2:if((we=ce.n()).done){_e.next=5;break}if(!(ke=we.value).decodeImage){_e.next=4;break}return _e.next=3,ke.decodeImage(I);case 3:if(!(K=_e.sent)){_e.next=4;break}return _e.abrupt("continue",5);case 4:_e.next=2;break;case 5:_e.next=7;break;case 6:_e.prev=6,ze=_e.catch(1),ce.e(ze);case 7:return _e.prev=7,ce.f(),_e.finish(7);case 8:return _e.abrupt("return",K);case 9:case"end":return _e.stop()}},L,null,[[1,6,7,8]])}))).apply(this,arguments)}function R(L){var I,K,ce=function(ke){return Math.sqrt(Math.pow(Math.abs(ke[1].y-ke[0].y),2)+Math.pow(Math.abs(ke[1].x-ke[0].x),2))}(I=function(ke){return[{x:(ke[1][0]-ke[0][0])/2+ke[0][0],y:(ke[1][1]-ke[0][1])/2+ke[0][1]},{x:(ke[3][0]-ke[2][0])/2+ke[2][0],y:(ke[3][1]-ke[2][1])/2+ke[2][1]}]}(L)),we=Math.atan2(I[1].y-I[0].y,I[1].x-I[0].x);return(I=function(ke,ze,_e){function Ue(Qe){var Je=Qe*Math.sin(ze),Et=Qe*Math.cos(ze);ke[0].y-=Je,ke[0].x-=Et,ke[1].y+=Je,ke[1].x+=Et}for(Ue(_e);_e>1&&(!N.inImageWithBorder(ke[0])||!N.inImageWithBorder(ke[1]));)Ue(-(_e-=Math.ceil(_e/2)));return ke}(I,we,Math.floor(.1*ce)))===null?null:((K=_(I))===null&&(K=function(ke,ze,_e){var Ue,Qe,Je,Et=Math.sqrt(Math.pow(ke[1][0]-ke[0][0],2)+Math.pow(ke[1][1]-ke[0][1],2)),wt=null,Qt=Math.sin(_e),cr=Math.cos(_e);for(Ue=1;Ue<16&&wt===null;Ue++)Je={y:(Qe=Et/16*Ue*(Ue%2==0?-1:1))*Qt,x:Qe*cr},ze[0].y+=Je.x,ze[0].x-=Je.y,ze[1].y+=Je.x,ze[1].x-=Je.y,wt=_(ze);return wt}(L,I,we)),K===null?null:{codeResult:K.codeResult,line:I,angle:we,pattern:K.barcodeLine.line,threshold:K.barcodeLine.threshold})}return j(),{decodeFromBoundingBox:function(L){return R(L)},decodeFromBoundingBoxes:function(L){var I,K,ce=[],we=v.multiple;for(I=0;I<L.length;I++){var ke=L[I];if((K=R(ke)||{}).box=ke,we)ce.push(K);else if(K.codeResult)return K}return{barcodes:ce}},decodeFromImage:function(L){return Lr()(F.a.mark(function I(){var K;return F.a.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=1,$(L);case 1:return K=ce.sent,ce.abrupt("return",K);case 2:case"end":return ce.stop()}},I)}))()},registerReader:function(L,I){if(lo[L])throw new Error("cannot register existing reader",L);lo[L]=I},setReaders:function(L){v.readers=L,y.length=0,j()}}}},Zs=function(){var v={};function N(_){return v[_]||(v[_]={subscribers:[]}),v[_]}function y(_,$){_.async?setTimeout(function(){_.callback($)},4):_.callback($)}function j(_,$,O){var R;if(typeof $=="function")R={callback:$,async:O};else if(!(R=$).callback)throw new Error("Callback was not specified on options");N(_).subscribers.push(R)}return{subscribe:function(_,$,O){return j(_,$,O)},publish:function(_,$){var O=N(_),R=O.subscribers;R.filter(function(L){return!!L.once}).forEach(function(L){y(L,$)}),O.subscribers=R.filter(function(L){return!L.once}),O.subscribers.forEach(function(L){y(L,$)})},once:function(_,$){var O=arguments.length>2&&arguments[2]!==void 0&&arguments[2];j(_,{callback:$,async:O,once:!0})},unsubscribe:function(_,$){if(_){var O=N(_);O.subscribers=O&&$?O.subscribers.filter(function(R){return R.callback!==$}):[]}else v={}}}}(),F0=i(81),B0=i.n(F0),rg=i(82),ag=i.n(rg),ng=i(83);function z0(v,N,y){return N=Ee()(N),Se()(v,function(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(_){}return function(){return!!j}()}()?Reflect.construct(N,y||[],Ee()(v).constructor):N.apply(v,y))}var ic=function(v){function N(y,j){var _;return T()(this,N),_=z0(this,N,[y]),D()(_,"code",void 0),_.code=j,Object.setPrototypeOf(_,N.prototype),_}return St()(N,v),M()(N,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,code:this.code}}}])}(i.n(ng)()(Error)),oc="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Fn(){try{return navigator.mediaDevices.enumerateDevices()}catch(N){var v=new ic("enumerateDevices is not defined. ".concat(oc),-1);return Promise.reject(v)}}function Pu(v){try{return navigator.mediaDevices.getUserMedia(v)}catch(y){var N=new ic("getUserMedia is not defined. ".concat(oc),-1);return Promise.reject(N)}}var Na,Sn=["deviceId"];function Ni(v,N){var y=Object.keys(v);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(v);N&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),y.push.apply(y,j)}return y}function lc(v){for(var N=1;N<arguments.length;N++){var y=arguments[N]!=null?arguments[N]:{};N%2?Ni(Object(y),!0).forEach(function(j){D()(v,j,y[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(y)):Ni(Object(y)).forEach(function(j){Object.defineProperty(v,j,Object.getOwnPropertyDescriptor(y,j))})}return v}function cc(v,N){var y=typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(!y){if(Array.isArray(v)||(y=function(L,I){if(L){if(typeof L=="string")return hl(L,I);var K={}.toString.call(L).slice(8,-1);return K==="Object"&&L.constructor&&(K=L.constructor.name),K==="Map"||K==="Set"?Array.from(L):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?hl(L,I):void 0}}(v))||N){y&&(v=y);var j=0,_=function(){};return{s:_,n:function(){return j>=v.length?{done:!0}:{done:!1,value:v[j++]}},e:function(L){throw L},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,O=!0,R=!1;return{s:function(){y=y.call(v)},n:function(){var L=y.next();return O=L.done,L},e:function(L){R=!0,$=L},f:function(){try{O||y.return==null||y.return()}finally{if(R)throw $}}}}function hl(v,N){(N==null||N>v.length)&&(N=v.length);for(var y=0,j=Array(N);y<N;y++)j[y]=v[y];return j}function Mu(v){return new Promise(function(N,y){var j=10;(function _(){j>0?v.videoWidth>10&&v.videoHeight>10?N():window.setTimeout(_,500):y(new ic("Unable to play video stream. Is webcam working?",-1)),j--})()})}function co(v,N){return Du.apply(this,arguments)}function Du(){return(Du=Lr()(F.a.mark(function v(N,y){var j;return F.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=1,Pu(y);case 1:if(j=_.sent,Na=j,!N){_.next=2;break}return N.setAttribute("autoplay","true"),N.setAttribute("muted","true"),N.setAttribute("playsinline","true"),N.srcObject=j,N.addEventListener("loadedmetadata",function(){N.play().catch(function($){console.warn("* Error while trying to play video stream:",$)})}),_.abrupt("return",Mu(N));case 2:return _.abrupt("return",Promise.resolve());case 3:case"end":return _.stop()}},v)}))).apply(this,arguments)}function ml(v){var N=ag()(v,["facing","minAspectRatio","maxAspectRatio"]);return v.minAspectRatio!==void 0&&v.minAspectRatio>0&&(N.aspectRatio=v.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),v.facing!==void 0&&(N.facingMode=v.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),N}function uo(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=ml(v);return N&&N.deviceId&&N.facingMode&&delete N.facingMode,Promise.resolve({audio:!1,video:N})}function q0(){return(q0=Lr()(F.a.mark(function v(N){var y,j,_,$,O,R,L,I,K,ce;return F.a.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=1,Fn();case 1:if(y=we.sent,j=y.filter(function(ke){return ke.kind==="videoinput"}),N){we.next=2;break}return we.abrupt("return",j);case 2:_=[],$=ml(N),$.deviceId,O=B0()($,Sn),R=cc(j),we.prev=3,R.s();case 4:if((L=R.n()).done){we.next=9;break}return I=L.value,we.prev=5,K={audio:!1,video:lc(lc({},O),{},{deviceId:{exact:I.deviceId}})},we.next=6,Pu(K);case 6:we.sent.getTracks().forEach(function(ke){return ke.stop()}),_.push(I),we.next=8;break;case 7:we.prev=7,we.catch(5);case 8:we.next=4;break;case 9:we.next=11;break;case 10:we.prev=10,ce=we.catch(3),R.e(ce);case 11:return we.prev=11,R.f(),we.finish(11);case 12:return we.abrupt("return",_);case 13:case"end":return we.stop()}},v,null,[[3,10,11,12],[5,7]])}))).apply(this,arguments)}function Da(){if(!Na)return null;var v=Na.getVideoTracks();return v&&v!=null&&v.length?v[0]:null}var _i={requestedVideoElement:null,request:function(v,N){return Lr()(F.a.mark(function y(){var j;return F.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _i.requestedVideoElement=v,_.next=1,uo(N);case 1:return j=_.sent,_.abrupt("return",co(v,j));case 2:case"end":return _.stop()}},y)}))()},release:function(){var v=Na&&Na.getVideoTracks();return _i.requestedVideoElement!==null&&_i.requestedVideoElement.pause(),new Promise(function(N){setTimeout(function(){v&&v.length&&v.forEach(function(y){return y.stop()}),Na=null,_i.requestedVideoElement=null,N()},0)})},enumerateVideoDevices:function(v){return q0.apply(this,arguments)},getActiveStream:function(){var v;return(v=Na)!==null&&v!==void 0?v:null},getActiveStreamLabel:function(){var v=Da();return v?v.label:""},getActiveTrack:Da,disableTorch:function(){return Lr()(F.a.mark(function v(){var N,y;return F.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(N=Da())){j.next=4;break}return j.prev=1,j.next=2,N.applyConstraints({advanced:[{torch:!1}]});case 2:j.next=4;break;case 3:throw j.prev=3,(y=j.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),y;case 4:case"end":return j.stop()}},v,null,[[1,3]])}))()},enableTorch:function(){return Lr()(F.a.mark(function v(){var N,y;return F.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(N=Da())){j.next=4;break}return j.prev=1,j.next=2,N.applyConstraints({advanced:[{torch:!0}]});case 2:j.next=4;break;case 3:throw j.prev=3,(y=j.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),y;case 4:case"end":return j.stop()}},v,null,[[1,3]])}))()}},Cn=_i,Iu={create:function(v){var N,y=document.createElement("canvas"),j=y.getContext("2d",{willReadFrequently:!!v.willReadFrequently}),_=[],$=(N=v.capacity)!==null&&N!==void 0?N:20,O=v.capture===!0;function R(L){return!!$&&L&&!function(I,K){return K&&K.some(function(ce){return Object.keys(ce).every(function(we){return ce[we]===I[we]})})}(L,v.blacklist)&&function(I,K){return typeof K!="function"||K(I)}(L,v.filter)}return{addResult:function(L,I,K){var ce={};R(K)&&($--,ce.codeResult=K,O&&(y.width=I.x,y.height=I.y,Q.drawImage(L,I,j),ce.frame=y.toDataURL()),_.push(ce))},getResults:function(){return _}}}},uc={inputStream:{type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,canvas:{createOverlay:!0},decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Js=Math.PI/180,dc={};dc.create=function(v,N){var y,j={},_=v.getConfig(),$=ws(v.getRealWidth(),v.getRealHeight()),O=v.getCanvasSize(),R=ws(v.getWidth(),v.getHeight()),L=v.getTopRight(),I=L.x,K=L.y,ce=null,we=null,ke=_.willReadFrequently;function ze(_e,Ue,Qe,Je,Et){var wt=Math.floor(Je),Qt=Math.floor(Et),cr=Math.min(wt+1,Ue-1),lr=Math.min(Qt+1,Qe-1),br=Je-wt,an=Et-Qt;return(_e[Qt*Ue+wt]*(1-br)+_e[Qt*Ue+cr]*br)*(1-an)+(_e[lr*Ue+wt]*(1-br)+_e[lr*Ue+cr]*br)*an}return(y=N||document.createElement("canvas")).width=O.x,y.height=O.y,ce=y.getContext("2d",{willReadFrequently:!!ke}),we=new Uint8Array(R.x*R.y),j.attachData=function(_e){we=_e},j.getData=function(){return we},j.grab=function(){var _e=_.halfSample,Ue=v.getFrame(),Qe=Ue,Je=0;if(Qe){if(function(Pr,sn,Os){Pr.width!==sn.x&&(Pr.width=sn.x),Pr.height!==sn.y&&(Pr.height=sn.y)}(y,O,_.debug),_.type==="ImageStream"&&(Qe=Ue.img,Ue.tags&&Ue.tags.orientation))switch(Ue.tags.orientation){case 6:Je=90*Js;break;case 8:Je=-90*Js}if(Je!==0?(ce.translate(O.x/2,O.y/2),ce.rotate(Je),ce.drawImage(Qe,-O.y/2,-O.x/2,O.y,O.x),ce.rotate(-Je),ce.translate(-O.x/2,-O.y/2)):ce.drawImage(Qe,0,0,O.x,O.y),_e)(function(Pr,sn,Os){for(var pn,is=0,Xt=sn.x,ba=Math.floor(Pr.length/4),Gu=sn.x/2,Vu=0,Ku=sn.x;Xt<ba;){for(pn=0;pn<Gu;pn++)Os[Vu]=(.299*Pr[4*is+0]+.587*Pr[4*is+1]+.114*Pr[4*is+2]+(.299*Pr[4*(is+1)+0]+.587*Pr[4*(is+1)+1]+.114*Pr[4*(is+1)+2])+(.299*Pr[4*Xt+0]+.587*Pr[4*Xt+1]+.114*Pr[4*Xt+2])+(.299*Pr[4*(Xt+1)+0]+.587*Pr[4*(Xt+1)+1]+.114*Pr[4*(Xt+1)+2]))/4,Vu++,is+=2,Xt+=2;is+=Ku,Xt+=Ku}})(ce.getImageData(I,K,R.x,R.y).data,R,we);else{var Et=document.createElement("canvas");Et.width=$.x,Et.height=$.y;var wt=Et.getContext("2d");Je!==0?(wt.translate($.x/2,$.y/2),wt.rotate(Je),wt.drawImage(Qe,-$.y/2,-$.x/2,$.y,$.x)):wt.drawImage(Qe,0,0,$.x,$.y);var Qt=wt.getImageData(0,0,$.x,$.y).data,cr=new Uint8Array($.x*$.y);js(Qt,cr,_);for(var lr=new Uint8Array(O.x*O.y),br=$.x/O.x,an=$.y/O.y,gn=0;gn<O.y;gn++)for(var Yr=0;Yr<O.x;Yr++){var hr=Yr*br,jr=gn*an;lr[gn*O.x+Yr]=0|ze(cr,$.x,$.y,hr,jr)}for(var Vr=0;Vr<R.y;Vr++)for(var zn=0;zn<R.x;zn++){var nn=(Vr+K)*O.x+(zn+I);we[Vr*R.x+zn]=lr[nn]}}return!0}return!1},j.getSize=function(){return R},j};var Lu=dc,Cs={274:"orientation"},ki=Object.keys(Cs).map(function(v){return Cs[v]});function fc(v){return new Promise(function(N){var y=new FileReader;y.onload=function(j){return N(j.target.result)},y.readAsArrayBuffer(v)})}function hc(v){return new Promise(function(N,y){var j=new XMLHttpRequest;j.open("GET",v,!0),j.responseType="blob",j.onreadystatechange=function(){j.readyState!==XMLHttpRequest.DONE||j.status!==200&&j.status!==0||N(this.response)},j.onerror=y,j.send()})}function En(v){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki,y=new DataView(v),j=v.byteLength,_=N.reduce(function(O,R){var L=Object.keys(Cs).filter(function(I){return Cs[I]===R})[0];return L&&(O[L]=R),O},{}),$=2;if(y.getUint8(0)!==255||y.getUint8(1)!==216)return!1;for(;$<j;){if(y.getUint8($)!==255)return!1;if(y.getUint8($+1)===225)return $n(y,$+4,_);$+=2+y.getUint16($+2)}return!1}function $n(v,N,y){if(function(O,R,L){for(var I="",K=R;K<R+L;K++)I+=String.fromCharCode(O.getUint8(K));return I}(v,N,4)!=="Exif")return!1;var j,_=N+6;if(v.getUint16(_)===18761)j=!1;else{if(v.getUint16(_)!==19789)return!1;j=!0}if(v.getUint16(_+2,!j)!==42)return!1;var $=v.getUint32(_+4,!j);return!($<8)&&function(O,R,L,I,K){for(var ce=O.getUint16(L,!K),we={},ke=0;ke<ce;ke++){var ze=L+12*ke+2,_e=I[O.getUint16(ze,!K)];_e&&(we[_e]=Si(O,ze,R,L,K))}return we}(v,_,_+$,y,j)}function Si(v,N,y,j,_){var $=v.getUint16(N+2,!_),O=v.getUint32(N+4,!_);switch($){case 3:if(O===1)return v.getUint16(N+8,!_)}return null}function Es(v,N){return"".concat(v,"image-").concat(N.toString().padStart(3,"0"),".jpg")}var ns={};function Ci(v,N){v.onload=function(){N.loaded(this)},v.onerror=function(){N.loaded(this)}}ns.load=function(v,N,y,j,_,$){var O,R,L,I=new Array(j),K=new Array(I.length);if(_===!1)I[0]=v;else for(O=0;O<I.length;O++)L=y+O,I[O]=Es(v,L);for(K.notLoaded=[],K.addImage=function(ce){K.notLoaded.push(ce)},K.loaded=function(ce){for(var we=K.notLoaded,ke=0;ke<we.length;ke++)if(we[ke]===ce){we.splice(ke,1);for(var ze=0;ze<I.length;ze++){var _e=encodeURI(I[ze].substr(I[ze].lastIndexOf("/")));if(ce.src.lastIndexOf(_e)!==-1){K[ze]={img:ce};break}}break}we.length===0&&(_===!1?function(Ue){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki;return/^blob:/i.test(Ue)?hc(Ue).then(fc).then(function(Je){return En(Je,Qe)}):Promise.resolve(null)}(v,["orientation"]).then(function(Ue){K[0].tags=Ue,N(K)}).catch(function(Ue){console.log(Ue),N(K)}):N(K))},O=0;O<I.length;O++)R=new Image,K.addImage(R),Ci(R,K),R.src=I[O]};var H0=ns,mc={createVideoStream:function(v){console.warn("**** InputStreamBrowser createVideoStream");var N,y,j=null,_=["canrecord","ended"],$={},O={x:0,y:0,type:"Point"},R={x:0,y:0,type:"XYSize"},L={getRealWidth:function(){return v.videoWidth},getRealHeight:function(){return v.videoHeight},getWidth:function(){return N},getHeight:function(){return y},setWidth:function(I){N=I},setHeight:function(I){y=I},setInputStream:function(I){j=I,this.setAttribute("src",I.src!==void 0?I.src:"")},ended:function(){return v.ended},getConfig:function(){return j},setAttribute:function(I,K){v&&v.setAttribute(I,K)},pause:function(){v.pause()},play:function(){v.play()},setCurrentTime:function(I){var K;((K=j)===null||K===void 0?void 0:K.type)!=="LiveStream"&&this.setAttribute("currentTime",I.toString())},addEventListener:function(I,K,ce){_.indexOf(I)!==-1?($[I]||($[I]=[]),$[I].push(K)):v.addEventListener(I,K,ce)},clearEventHandlers:function(){_.forEach(function(I){var K=$[I];K&&K.length>0&&K.forEach(function(ce){v.removeEventListener(I,ce)})})},trigger:function(I,K){var ce,we,ke,ze,_e,Ue=$[I];if(I==="canrecord"&&(ze=v.videoWidth,_e=v.videoHeight,N=(we=j)!==null&&we!==void 0&&we.size?ze/_e>1?j.size:Math.floor(ze/_e*j.size):ze,y=(ke=j)!==null&&ke!==void 0&&ke.size?ze/_e>1?Math.floor(_e/ze*j.size):j.size:_e,R.x=N,R.y=y),Ue&&Ue.length>0)for(ce=0;ce<Ue.length;ce++)Ue[ce].apply(L,K)},setTopRight:function(I){O.x=I.x,O.y=I.y},getTopRight:function(){return O},setCanvasSize:function(I){R.x=I.x,R.y=I.y},getCanvasSize:function(){return R},getFrame:function(){return v}};return L},createLiveStream:function(v){console.warn("**** InputStreamBrowser createLiveStream"),v&&v.setAttribute("autoplay","true");var N=mc.createVideoStream(v);return N.ended=function(){return!1},N},createImageStream:function(){var v,N,y=null,j=0,_=0,$=0,O=!0,R=!1,L=null,I=0,K=null,ce=!1,we=["canrecord","ended"],ke={},ze={x:0,y:0,type:"Point"},_e={x:0,y:0,type:"XYSize"};function Ue(Je,Et){var wt,Qt=ke[Je];if(Qt&&Qt.length>0)for(wt=0;wt<Qt.length;wt++)Qt[wt].apply(Qe,Et)}var Qe={trigger:Ue,getWidth:function(){return v},getHeight:function(){return N},setWidth:function(Je){v=Je},setHeight:function(Je){N=Je},getRealWidth:function(){return j},getRealHeight:function(){return _},setInputStream:function(Je){var Et;y=Je,Je.sequence===!1?(K=Je.src,I=1):(K=Je.src,I=Je.length),R=!1,H0.load(K,function(wt){var Qt,cr;if(L=wt,wt[0].tags&&wt[0].tags.orientation)switch(wt[0].tags.orientation){case 6:case 8:j=wt[0].img.height,_=wt[0].img.width;break;default:j=wt[0].img.width,_=wt[0].img.height}else j=wt[0].img.width,_=wt[0].img.height;v=(Qt=y)!==null&&Qt!==void 0&&Qt.size?j/_>1?y.size:Math.floor(j/_*y.size):j,N=(cr=y)!==null&&cr!==void 0&&cr.size?j/_>1?Math.floor(_/j*y.size):y.size:_,_e.x=v,_e.y=N,R=!0,$=0,setTimeout(function(){Ue("canrecord",[])},0)},1,I,(Et=y)===null||Et===void 0?void 0:Et.sequence,y)},ended:function(){return ce},setAttribute:function(){},getConfig:function(){return y},pause:function(){O=!0},play:function(){O=!1},setCurrentTime:function(Je){$=Je},addEventListener:function(Je,Et){we.indexOf(Je)!==-1&&(ke[Je]||(ke[Je]=[]),ke[Je].push(Et))},clearEventHandlers:function(){Object.keys(ke).forEach(function(Je){return delete ke[Je]})},setTopRight:function(Je){ze.x=Je.x,ze.y=Je.y},getTopRight:function(){return ze},setCanvasSize:function(Je){_e.x=Je.x,_e.y=Je.y},getCanvasSize:function(){return _e},getFrame:function(){var Je,Et;return R?(O||(Je=(Et=L)===null||Et===void 0?void 0:Et[$],$<I-1?$++:setTimeout(function(){ce=!0,Ue("ended",[])},0)),Je):null}};return Qe}},Uu=mc,_a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(v,N){var y,j=v.data,_=N.data,$=this.searchDirections,O=v.size.x;function R(I,K,ce,we){var ke,ze,_e;for(ke=0;ke<$.length;ke++){if(ze=I.cy+$[I.dir][0],_e=I.cx+$[I.dir][1],j[y=ze*O+_e]===K&&(_[y]===0||_[y]===ce))return _[y]=ce,I.cy=ze,I.cx=_e,!0;_[y]===0&&(_[y]=we),I.dir=(I.dir+1)%8}return!1}function L(I,K,ce){return{dir:ce,x:I,y:K,next:null,prev:null}}return{trace:function(I,K,ce,we){return R(I,K,ce,we)},contourTracing:function(I,K,ce,we,ke){return function(ze,_e,Ue,Qe,Je){var Et,wt,Qt,cr=null,lr={cx:_e,cy:ze,dir:0};if(R(lr,Qe,Ue,Je)){Et=cr=L(_e,ze,lr.dir),Qt=lr.dir,(wt=L(lr.cx,lr.cy,0)).prev=Et,Et.next=wt,wt.next=null,Et=wt;var br=v.size.x*v.size.y,an=0;do lr.dir=(lr.dir+6)%8,R(lr,Qe,Ue,Je),Qt!==lr.dir?(Et.dir=lr.dir,(wt=L(lr.cx,lr.cy,0)).prev=Et,Et.next=wt,wt.next=null,Et=wt):(Et.dir=Qt,Et.x=lr.cx,Et.y=lr.cy),Qt=lr.dir;while((lr.cx!==_e||lr.cy!==ze)&&++an<br);cr.prev=Et.prev,Et.prev.next=cr}return cr}(I,K,ce,we,ke)}}}},Sr={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(v,N){var y=v.data,j=N.data,_=v.size.x,$=v.size.y,O=_a.create(v,N);return{rasterize:function(R){var L,I,K,ce,we,ke,ze,_e,Ue,Qe,Je,Et,wt=[],Qt=0;for(Et=0;Et<400;Et++)wt[Et]=0;for(wt[0]=y[0],Ue=null,ke=1;ke<$-1;ke++)for(ce=0,I=wt[0],we=1;we<_-1;we++)if(j[Je=ke*_+we]===0)if((L=y[Je])!==I){if(ce===0)wt[K=Qt+1]=L,I=L,(ze=O.contourTracing(ke,we,K,L,Sr.DIR.OUTSIDE_EDGE))!==null&&(Qt++,ce=K,(_e=Sr.createContour2D()).dir=Sr.CONTOUR_DIR.CW_DIR,_e.index=ce,_e.firstVertex=ze,_e.nextpeer=Ue,_e.insideContours=null,Ue!==null&&(Ue.prevpeer=_e),Ue=_e);else if((ze=O.contourTracing(ke,we,Sr.DIR.INSIDE_EDGE,L,ce))!==null){for((_e=Sr.createContour2D()).firstVertex=ze,_e.insideContours=null,_e.dir=R===0?Sr.CONTOUR_DIR.CCW_DIR:Sr.CONTOUR_DIR.CW_DIR,_e.index=R,Qe=Ue;Qe!==null&&Qe.index!==ce;)Qe=Qe.nextpeer;Qe!==null&&(_e.nextpeer=Qe.insideContours,Qe.insideContours!==null&&(Qe.insideContours.prevpeer=_e),Qe.insideContours=_e)}}else j[Je]=ce;else j[Je]===Sr.DIR.OUTSIDE_EDGE||j[Je]===Sr.DIR.INSIDE_EDGE?(ce=0,I=j[Je]===Sr.DIR.INSIDE_EDGE?y[Je]:wt[0]):I=wt[ce=j[Je]];for(Qe=Ue;Qe!==null;)Qe.index=R,Qe=Qe.nextpeer;return{cc:Ue,count:Qt}},debug:{drawContour:function(R,L){var I,K,ce,we=R.getContext("2d"),ke=L;for(we.strokeStyle="red",we.fillStyle="red",we.lineWidth=1,I=ke!==null?ke.insideContours:null;ke!==null;){switch(I!==null?(K=I,I=I.nextpeer):(K=ke,I=(ke=ke.nextpeer)!==null?ke.insideContours:null),K.dir){case Sr.CONTOUR_DIR.CW_DIR:we.strokeStyle="red";break;case Sr.CONTOUR_DIR.CCW_DIR:we.strokeStyle="blue";break;case Sr.CONTOUR_DIR.UNKNOWN_DIR:we.strokeStyle="green"}ce=K.firstVertex,we.beginPath(),we.moveTo(ce.x,ce.y);do ce=ce.next,we.lineTo(ce.x,ce.y);while(ce!==K.firstVertex);we.stroke()}}}}}},Ir=Sr;/* @preserve ASM END */var hn,ka,gl,Ia,pl,Ei,ia,On,Bn,ma,$i,ei,$s=function(v,N,y){var j=new v.Uint8Array(y),_=N.size|0,$=v.Math.imul;function O(_e,Ue){_e=_e|0,Ue=Ue|0;var Qe=0,Je=0,Et=0,wt=0,Qt=0,cr=0,lr=0,br=0;for(Qe=1;(Qe|0)<(_-1|0);Qe=Qe+1|0)for(br=br+_|0,Je=1;(Je|0)<(_-1|0);Je=Je+1|0)wt=br-_|0,Qt=br+_|0,cr=Je-1|0,lr=Je+1|0,Et=(j[_e+wt+cr|0]|0)+(j[_e+wt+lr|0]|0)+(j[_e+br+Je|0]|0)+(j[_e+Qt+cr|0]|0)+(j[_e+Qt+lr|0]|0)|0,(Et|0)==5?j[Ue+br+Je|0]=1:j[Ue+br+Je|0]=0}function R(_e,Ue,Qe){_e=_e|0,Ue=Ue|0,Qe=Qe|0;var Je=0;for(Je=$(_,_)|0;(Je|0)>0;)Je=Je-1|0,j[Qe+Je|0]=(j[_e+Je|0]|0)-(j[Ue+Je|0]|0)|0}function L(_e,Ue,Qe){_e=_e|0,Ue=Ue|0,Qe=Qe|0;var Je=0;for(Je=$(_,_)|0;(Je|0)>0;)Je=Je-1|0,j[Qe+Je|0]=j[_e+Je|0]|0|(j[Ue+Je|0]|0)|0}function I(_e){_e=_e|0;var Ue=0,Qe=0;for(Qe=$(_,_)|0;(Qe|0)>0;)Qe=Qe-1|0,Ue=(Ue|0)+(j[_e+Qe|0]|0)|0;return Ue|0}function K(_e,Ue){_e=_e|0,Ue=Ue|0;var Qe=0;for(Qe=$(_,_)|0;(Qe|0)>0;)Qe=Qe-1|0,j[_e+Qe|0]=Ue}function ce(_e,Ue){_e=_e|0,Ue=Ue|0;var Qe=0,Je=0,Et=0,wt=0,Qt=0,cr=0,lr=0,br=0;for(Qe=1;(Qe|0)<(_-1|0);Qe=Qe+1|0)for(br=br+_|0,Je=1;(Je|0)<(_-1|0);Je=Je+1|0)wt=br-_|0,Qt=br+_|0,cr=Je-1|0,lr=Je+1|0,Et=(j[_e+wt+cr|0]|0)+(j[_e+wt+lr|0]|0)+(j[_e+br+Je|0]|0)+(j[_e+Qt+cr|0]|0)+(j[_e+Qt+lr|0]|0)|0,(Et|0)>0?j[Ue+br+Je|0]=1:j[Ue+br+Je|0]=0}function we(_e,Ue){_e=_e|0,Ue=Ue|0;var Qe=0;for(Qe=$(_,_)|0;(Qe|0)>0;)Qe=Qe-1|0,j[Ue+Qe|0]=j[_e+Qe|0]|0}function ke(_e){_e=_e|0;var Ue=0,Qe=0;for(Ue=0;(Ue|0)<(_-1|0);Ue=Ue+1|0)j[_e+Ue|0]=0,j[_e+Qe|0]=0,Qe=Qe+_-1|0,j[_e+Qe|0]=0,Qe=Qe+1|0;for(Ue=0;(Ue|0)<(_|0);Ue=Ue+1|0)j[_e+Qe|0]=0,Qe=Qe+1|0}function ze(){var _e=0,Ue=0,Qe=0,Je=0,Et=0,wt=0;Ue=$(_,_)|0,Qe=Ue+Ue|0,Je=Qe+Ue|0,K(Je,0),ke(_e);do O(_e,Ue),ce(Ue,Qe),R(_e,Qe,Qe),L(Je,Qe,Je),we(Ue,_e),Et=I(_e)|0,wt=(Et|0)==0|0;while(!wt)}return{skeletonize:ze}},mn={ctx:{binary:null},dom:{binary:null}},Va={x:0,y:0};function Fu(v){var N,y,j,_,$,O,R,L=Bn.size.x,I=Bn.size.y,K=-Bn.size.x,ce=-Bn.size.y;for(N=0,y=0;y<v.length;y++)N+=(_=v[y]).rad;for((N=(180*(N/=v.length)/Math.PI+90)%180-90)<0&&(N+=180),N=(180-N)*Math.PI/180,$=l.copy(l.create(),[Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N)]),y=0;y<v.length;y++)for(_=v[y],j=0;j<4;j++)c.transformMat2(_.box[j],_.box[j],$);for(y=0;y<v.length;y++)for(_=v[y],j=0;j<4;j++)_.box[j][0]<L&&(L=_.box[j][0]),_.box[j][0]>K&&(K=_.box[j][0]),_.box[j][1]<I&&(I=_.box[j][1]),_.box[j][1]>ce&&(ce=_.box[j][1]);for(O=[[L,I],[K,I],[K,ce],[L,ce]],R=hn.halfSample?2:1,$=l.invert($,$),j=0;j<4;j++)c.transformMat2(O[j],O[j],$);for(j=0;j<4;j++)c.scale(O[j],O[j],R);return O}function Bu(v){var N=function($,O,R){var L,I,K,ce,we=0,ke=0,ze=[];for(L=0;L<O;L++)ze[L]={score:0,item:null};for(L=0;L<$.length;L++)if((I=R.apply(this,[$[L]]))>ke)for((K=ze[we]).score=I,K.item=$[L],ke=Number.MAX_VALUE,ce=0;ce<O;ce++)ze[ce].score<ke&&(ke=ze[ce].score,we=ce);return ze}(function($,O,R){var L,I,K,ce,we=[];function ke(ze){var _e=!1;for(I=0;I<we.length;I++)(K=we[I]).fits(ze)&&(K.add(ze),_e=!0);return _e}for(R||(R="rad"),L=0;L<$.length;L++)ke(ce=ro($[L],L,R))||we.push(Ja(ce,O));return we}(v,.9),1,function($){return $.getPoints().length}),y=[],j=[];if(N.length===1){y=N[0].item.getPoints();for(var _=0;_<y.length;_++)j.push(y[_].point)}return j}function yl(v,N){Bn.subImageAsCopy(Ia,ws(v,N)),ei.skeletonize()}function gc(v,N,y,j){var _,$,O,R,L=[],I=[],K=Math.ceil(ma.x/3);if(v.length>=2){for(_=0;_<v.length;_++)v[_].m00>K&&L.push(v[_]);if(L.length>=2){for(O=Bu(L),$=0,_=0;_<O.length;_++){var ce,we;$+=(ce=(we=O[_])===null||we===void 0?void 0:we.rad)!==null&&ce!==void 0?ce:0}O.length>1&&O.length>=L.length/4*3&&O.length>v.length/4&&($/=O.length,R={index:N[1]*Va.x+N[0],pos:{x:y,y:j},box:[c.clone([y,j]),c.clone([y+Ia.size.x,j]),c.clone([y+Ia.size.x,j+Ia.size.y]),c.clone([y,j+Ia.size.y])],moments:O,rad:$,vec:c.clone([Math.cos($),Math.sin($)])},I.push(R))}}return I}var Oi=function(v,N){hn=N,$i=v,function(){ka=hn.halfSample?new Ma({x:$i.size.x/2|0,y:$i.size.y/2|0}):$i,ma=bi(hn.patchSize,ka.size),Va.x=ka.size.x/ma.x|0,Va.y=ka.size.y/ma.y|0,Bn=new Ma(ka.size,void 0,Uint8Array,!1),pl=new Ma(ma,void 0,Array,!0);var y=ma.x*ma.y*4,j=Math.max(65536,Math.pow(2,Math.ceil(Math.log2(y)))),_=new ArrayBuffer(j);Ia=new Ma(ma,new Uint8Array(_,0,ma.x*ma.y)),gl=new Ma(ma,new Uint8Array(_,ma.x*ma.y*3,ma.x*ma.y),void 0,!0),ei=$s({Math,Uint8Array},{size:ma.x},_),On=new Ma({x:ka.size.x/Ia.size.x|0,y:ka.size.y/Ia.size.y|0},void 0,Array,!0),Ei=new Ma(On.size,void 0,void 0,!0),ia=new Ma(On.size,void 0,Int32Array,!0)}(),function(){if(!hn.useWorker&&typeof document!="undefined"){mn.dom.binary=document.createElement("canvas"),mn.dom.binary.className="binaryBuffer";var y=!!hn.willReadFrequently;mn.ctx.binary=mn.dom.binary.getContext("2d",{willReadFrequently:y}),mn.dom.binary.width=Bn.size.x,mn.dom.binary.height=Bn.size.y}}()},La=function(){hn.halfSample&&function(j,_){for(var $=j.data,O=j.size.x,R=_.data,L=0,I=O,K=$.length,ce=O/2,we=0;I<K;){for(var ke=0;ke<ce;ke++)R[we]=Math.floor(($[L]+$[L+1]+$[I]+$[I+1])/4),we++,L+=2,I+=2;L+=O,I+=O}}($i,ka),en(ka,Bn),Bn.zeroBorder();var v=function(){var j,_,$,O,R,L,I=[];for(j=0;j<Va.x;j++)for(_=0;_<Va.y;_++)yl($=Ia.size.x*j,O=Ia.size.y*_),gl.zeroBorder(),kn(pl.data,0),L=Ir.create(gl,pl).rasterize(0),R=pl.moments(L.count),I=I.concat(gc(R,[j,_],$,O));return I}();if(v.length<Va.x*Va.y*.05)return null;var N=function(j){var _,$,O=0,R=0;function L(){var K;for(K=0;K<ia.data.length;K++)if(ia.data[K]===0&&Ei.data[K]===1)return K;return ia.data.length}function I(K){var ce,we,ke,ze,_e,Ue=K%ia.size.x,Qe=K/ia.size.x|0;if(K<ia.data.length)for(ke=On.data[K],ia.data[K]=O,_e=0;_e<_a.searchDirections.length;_e++)we=Qe+_a.searchDirections[_e][0],ce=Ue+_a.searchDirections[_e][1],ze=we*ia.size.x+ce,Ei.data[ze]!==0?ia.data[ze]===0&&Math.abs(c.dot(On.data[ze].vec,ke.vec))>.95&&I(ze):ia.data[ze]=Number.MAX_VALUE}for(kn(Ei.data,0),kn(ia.data,0),kn(On.data,null),_=0;_<j.length;_++)$=j[_],On.data[$.index]=$,Ei.data[$.index]=1;for(Ei.zeroBorder();(R=L())<ia.data.length;)O++,I(R);return O}(v);if(N<1)return null;var y=function(j){var _,$,O=[];for(_=0;_<j;_++)O.push(0);for($=ia.data.length;$--;)ia.data[$]>0&&O[ia.data[$]-1]++;return(O=O.map(function(R,L){return{val:R,label:L+1}})).sort(function(R,L){return L.val-R.val}),O.filter(function(R){return R.val>=5})}(N);return y.length===0?null:function(j,_){var $,O,R,L,I=[],K=[];for($=0;$<j.length;$++){for(O=ia.data.length,I.length=0;O--;)ia.data[O]===j[$].label&&(R=On.data[O],I.push(R));(L=Fu(I))&&K.push(L)}return K}(y)},pc=function(v,N){var y,j,_=v.getWidth(),$=v.getHeight(),O=N.halfSample?.5:1;v.getConfig().area&&(j=Pa(_,$,v.getConfig().area),v.setTopRight({x:j.sx,y:j.sy}),v.setCanvasSize({x:_,y:$}),_=j.sw,$=j.sh);var R={x:Math.floor(_*O),y:Math.floor($*O)};if(y=bi(N.patchSize,R),v.setWidth(Math.max(Math.floor(Math.floor(R.x/y.x)*(1/O)*y.x),y.x)),v.setHeight(Math.max(Math.floor(Math.floor(R.y/y.y)*(1/O)*y.y),y.y)),v.getWidth()%y.x==0&&v.getHeight()%y.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(_," )and height (").concat($,") must a multiple of ").concat(y.x))},G0=M()(function v(){T()(this,v),D()(this,"config",void 0),D()(this,"inputStream",void 0),D()(this,"framegrabber",void 0),D()(this,"inputImageWrapper",void 0),D()(this,"stopped",!1),D()(this,"initAborted",!1),D()(this,"boxSize",void 0),D()(this,"resultCollector",void 0),D()(this,"decoder",void 0),D()(this,"workerPool",[]),D()(this,"onUIThread",!0),D()(this,"canvasContainer",new sg)}),V0=M()(function v(){T()(this,v),D()(this,"image",void 0),D()(this,"overlay",void 0)}),sg=M()(function v(){T()(this,v),D()(this,"ctx",void 0),D()(this,"dom",void 0),this.ctx=new V0,this.dom=new V0});function K0(v){if(typeof document=="undefined")return null;if(v instanceof HTMLElement&&v.nodeName&&v.nodeType===1)return v;var N=typeof v=="string"?v:"#interactive.viewport";return document.querySelector(N)}function ga(v,N,y){var j=function($,O){var R=document.querySelector($);return R||((R=document.createElement("canvas")).className=O),R}(v,N),_=j.getContext("2d",{willReadFrequently:y.willReadFrequently});return{canvas:j,context:_}}function zu(v){var N,y,j,_,$,O,R,L,I,K,ce=K0(v==null||(N=v.config)===null||N===void 0||(y=N.inputStream)===null||y===void 0?void 0:y.target),we=v==null||(j=v.config)===null||j===void 0||(_=j.inputStream)===null||_===void 0?void 0:_.type;if(!we)return null;var ke=(v==null||($=v.config)===null||$===void 0||(O=$.canvas)===null||O===void 0?void 0:O.createOverlay)!==!1,ze=function(Ue,Qe){var Je=Qe.willReadFrequently,Et=Qe.createOverlay;if(typeof document!="undefined"){var wt=ga("canvas.imgBuffer","imgBuffer",{willReadFrequently:Je});wt.canvas.width=Ue.x,wt.canvas.height=Ue.y;var Qt={canvas:null,context:null};if(Et){var cr=ga("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:Je});cr.canvas.width=Ue.x,cr.canvas.height=Ue.y,Qt=cr}return{dom:{image:wt.canvas,overlay:Qt.canvas},ctx:{image:wt.context,overlay:Qt.context}}}return null}(v.inputStream.getCanvasSize(),{willReadFrequently:!(v==null||(R=v.config)===null||R===void 0||(L=R.inputStream)===null||L===void 0||!L.willReadFrequently),createOverlay:ke,debug:v==null||(I=v.config)===null||I===void 0||(K=I.locator)===null||K===void 0?void 0:K.debug});if(!ze)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _e=ze.dom;return typeof document!="undefined"&&ce&&(we!=="ImageStream"||ce.contains(_e.image)||ce.appendChild(_e.image),_e.overlay&&!ce.contains(_e.overlay)&&ce.appendChild(_e.overlay)),ze}function fo(v,N){var y=Object.keys(v);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(v);N&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable})),y.push.apply(y,j)}return y}function ti(v){for(var N=1;N<arguments.length;N++){var y=arguments[N]!=null?arguments[N]:{};N%2?fo(Object(y),!0).forEach(function(j){D()(v,j,y[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(y)):fo(Object(y)).forEach(function(j){Object.defineProperty(v,j,Object.getOwnPropertyDescriptor(y,j))})}return v}var Tn=[];function ho(v){return ti(ti({},v),{},{inputStream:ti(ti({},v.inputStream),{},{target:null})})}function mo(v){if(v){var N=v().default;if(!N)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var y;function j($){self.postMessage({event:"processed",imageData:y.data,result:$},[y.data.buffer])}function _(){self.postMessage({event:"initialized",imageData:y.data},[y.data.buffer])}self.onmessage=function($){if($.data.cmd==="init"){var O=$.data.config;O.numOfWorkers=0,y=new N.ImageWrapper({x:$.data.size.x,y:$.data.size.y},new Uint8Array($.data.imageData)),N.init(O,_,y),N.onProcessed(j)}else $.data.cmd==="process"?(y.data=new Uint8Array($.data.imageData),N.start()):$.data.cmd==="setReaders"?N.setReaders($.data.readers):$.data.cmd==="registerReader"&&N.registerReader($.data.name,$.data.reader)}}function ig(v,N,y){var j,_,$=(typeof __factorySource__!="undefined"&&(_=__factorySource__),j=new Blob(["("+mo.toString()+")("+_+");"],{type:"text/javascript"}),window.URL.createObjectURL(j)),O={worker:new Worker($),imageData:new Uint8Array(N.getWidth()*N.getHeight()),busy:!0};O.worker.onmessage=function(R){R.data.event==="initialized"?(URL.revokeObjectURL($),O.busy=!1,O.imageData=new Uint8Array(R.data.imageData),y(O)):R.data.event==="processed"?(O.imageData=new Uint8Array(R.data.imageData),O.busy=!1,typeof publishResult!="undefined"&&publishResult(R.data.result,O.imageData)):R.data.event},O.worker.postMessage({cmd:"init",size:{x:N.getWidth(),y:N.getHeight()},imageData:O.imageData,config:ho(v)},[O.imageData.buffer])}function qu(v,N,y,j){var _=v-Tn.length;if(_===0&&j)j();else if(_<0)Tn.slice(_).forEach(function(R){R.worker.terminate()}),Tn=Tn.slice(0,_),j&&j();else{var $=function(R){Tn.push(R),Tn.length>=v&&j&&j()};if(N)for(var O=0;O<_;O++)ig(N,y,$)}}function W0(v,N,y){for(var j=v.length;j--;)v[j][0]+=N,v[j][1]+=y}function Y0(v,N,y){v[0].x+=N,v[0].y+=y,v[1].x+=N,v[1].y+=y}var ri=function(){return M()(function y(){var j=this;T()(this,y),D()(this,"context",new G0),D()(this,"canRecord",function(_){var $;j.context.initAborted?_(new Error("Initialization was aborted")):j.context.config?j.context.inputStream?(pc(j.context.inputStream,($=j.context.config)===null||$===void 0?void 0:$.locator),j.initCanvas(),j.context.framegrabber=Lu.create(j.context.inputStream,j.context.canvasContainer.dom.image),j.context.config.numOfWorkers===void 0&&(j.context.config.numOfWorkers=0),qu(j.context.config.numOfWorkers,j.context.config,j.context.inputStream,function(){var O;((O=j.context.config)===null||O===void 0?void 0:O.numOfWorkers)===0&&j.initializeData(),j.ready(_)})):_(new Error("Input stream not initialized")):_(new Error("Configuration not initialized"))}),D()(this,"update",function(){if(j.context.onUIThread){var _,$=(R=j.context.framegrabber,Tn.length?!!(L=Tn.filter(function(I){return!I.busy})[0])&&(R.attachData(L.imageData),R.grab()&&(L.busy=!0,L.worker.postMessage({cmd:"process",imageData:L.imageData},[L.imageData.buffer])),!0):null);$||(j.context.framegrabber.attachData((_=j.context.inputImageWrapper)===null||_===void 0?void 0:_.data),j.context.framegrabber.grab()&&($||j.locateAndDecode()))}else{var O;j.context.framegrabber.attachData((O=j.context.inputImageWrapper)===null||O===void 0?void 0:O.data),j.context.framegrabber.grab(),j.locateAndDecode()}var R,L}),D()(this,"_cachedStyleValues",void 0),D()(this,"_resolvedStyle",void 0)},[{key:"initBuffers",value:function(y){if(this.context.config){var j=function(O,R,L){var I=R||new Ma({x:O.getWidth(),y:O.getHeight(),type:"XYSize"}),K=[c.clone([0,0]),c.clone([0,I.size.y]),c.clone([I.size.x,I.size.y]),c.clone([I.size.x,0])];return Oi(I,L),{inputImageWrapper:I,boxSize:K}}(this.context.inputStream,y,this.context.config.locator),_=j.inputImageWrapper,$=j.boxSize;this.context.inputImageWrapper=_,this.context.boxSize=$}}},{key:"initializeData",value:function(y){this.context.config&&(this.initBuffers(y),this.context.decoder=Ss.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?K0(this.context.config.inputStream.target):null}},{key:"ready",value:function(y){this.context.inputStream.play(),y()}},{key:"initCanvas",value:function(){var y=zu(this.context);if(y){var j=y.ctx,_=y.dom;this.context.canvasContainer.dom.image=_.image,this.context.canvasContainer.dom.overlay=_.overlay,this.context.canvasContainer.ctx.image=j.image,this.context.canvasContainer.ctx.overlay=j.overlay}}},{key:"initInputStream",value:function(y){if(this.context.config&&this.context.config.inputStream){var j=this.context.config.inputStream,_=j.type,$=j.constraints,O=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",K=arguments.length>1?arguments[1]:void 0,ce=arguments.length>2?arguments[2]:void 0;switch(I){case"VideoStream":var we=document.createElement("video");return{video:we,inputStream:ce.createVideoStream(we)};case"ImageStream":return{inputStream:ce.createImageStream()};case"LiveStream":var ke=null;return K&&((ke=K.querySelector("video"))||(ke=document.createElement("video"),K.appendChild(ke))),{video:ke,inputStream:ce.createLiveStream(ke)};default:return console.error("* setupInputStream invalid type ".concat(I)),{video:null,inputStream:null}}}(_,this.getViewPort(),Uu),R=O.video,L=O.inputStream;_==="LiveStream"&&R&&Cn.request(R,$).then(function(){return L.trigger("canrecord")}).catch(function(I){return y(I)}),L&&(L.setAttribute("preload","auto"),L.setInputStream(this.context.config.inputStream),L.addEventListener("canrecord",this.canRecord.bind(void 0,y))),this.context.inputStream=L}}},{key:"getBoundingBoxes",value:function(){var y;return(y=this.context.config)!==null&&y!==void 0&&y.locate?La():[[c.clone(this.context.boxSize[0]),c.clone(this.context.boxSize[1]),c.clone(this.context.boxSize[2]),c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(y){var j=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,$=this.context.inputStream.getTopRight(),O=$.x,R=$.y;if((O!==0||R!==0)&&(y.barcodes&&y.barcodes.forEach(function(I){return j.transformResult(I,_)}),y.line&&y.line.length===2&&Y0(y.line,O,R),y.box&&!_.has(y.box)&&(W0(y.box,O,R),_.add(y.box)),y.boxes&&y.boxes.length>0))for(var L=0;L<y.boxes.length;L++)_.has(y.boxes[L])||(W0(y.boxes[L],O,R),_.add(y.boxes[L]))}},{key:"addResult",value:function(y,j){var _=this;j&&this.context.resultCollector&&(y.barcodes?y.barcodes.filter(function($){return $.codeResult}).forEach(function($){return _.addResult($,j)}):y.codeResult&&this.context.resultCollector.addResult(j,this.context.inputStream.getCanvasSize(),y.codeResult))}},{key:"hasCodeResult",value:function(y){return!(!y||!(y.barcodes?y.barcodes.some(function(j){return j.codeResult}):y.codeResult))}},{key:"publishResult",value:function(){var y,j,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,$=arguments.length>1?arguments[1]:void 0,O=_;_&&this.context.onUIThread&&(this.transformResult(_),this.addResult(_,$),O=(_==null||(j=_.barcodes)===null||j===void 0?void 0:j.length)>0?_.barcodes:_),Zs.publish("processed",O),this.hasCodeResult(_)&&Zs.publish("detected",O);var R=this.context.config;R&&R.locate===!1&&(y=R.inputStream)!==null&&y!==void 0&&y.area&&this.drawScannerArea()}},{key:"locateAndDecode",value:(N=Lr()(F.a.mark(function y(){var j,_,$,O,R,L;return F.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(j=this.getBoundingBoxes())){I.next=3;break}return I.next=1,this.context.decoder.decodeFromBoundingBoxes(j);case 1:if(L=I.sent){I.next=2;break}L={};case 2:($=L).boxes=j,this.publishResult($,(_=this.context.inputImageWrapper)===null||_===void 0?void 0:_.data),I.next=5;break;case 3:return I.next=4,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 4:(O=I.sent)?this.publishResult(O,(R=this.context.inputImageWrapper)===null||R===void 0?void 0:R.data):this.publishResult();case 5:case"end":return I.stop()}},y,this)})),function(){return N.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var y,j=this,_=null,$=1e3/(((y=this.context.config)===null||y===void 0?void 0:y.frequency)||60);this.context.stopped=!1;var O=this.context,R=function(L){_=_||L,O.stopped||(L>=_&&(_+=$,j.update()),window.requestAnimationFrame(R))};R(performance.now())}},{key:"start",value:function(){var y,j;this.context.onUIThread&&((y=this.context.config)===null||y===void 0||(j=y.inputStream)===null||j===void 0?void 0:j.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(v=Lr()(F.a.mark(function y(){var j,_;return F.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(this.context.stopped=!0,this.context.framegrabber||(this.context.initAborted=!0),qu(0),(j=this.context.config)===null||j===void 0||!j.inputStream||this.context.config.inputStream.type!=="LiveStream"){$.next=2;break}return $.next=1,Cn.release();case 1:(_=this.context.inputStream)===null||_===void 0||_.clearEventHandlers();case 2:case"end":return $.stop()}},y,this)})),function(){return v.apply(this,arguments)})},{key:"setReaders",value:function(y){this.context.decoder&&this.context.decoder.setReaders(y),function(j){Tn.forEach(function(_){return _.worker.postMessage({cmd:"setReaders",readers:j})})}(y)}},{key:"registerReader",value:function(y,j){Ss.registerReader(y,j),this.context.decoder&&this.context.decoder.registerReader(y,j),function(_,$){Tn.forEach(function(O){return O.worker.postMessage({cmd:"registerReader",name:_,reader:$})})}(y,j)}},{key:"drawScannerArea",value:function(){var y,j,_,$=(y=this.context.config)===null||y===void 0||(j=y.inputStream)===null||j===void 0?void 0:j.area;if($){var O=this.context.canvasContainer.ctx.overlay;if(O&&((_=this.context.config)===null||_===void 0?void 0:_.locate)===!1&&($.borderColor!==void 0&&$.borderColor!==""||$.borderWidth!==void 0&&$.borderWidth>0||$.backgroundColor!==void 0&&$.backgroundColor!=="")&&this.context.boxSize){var R=this.context.inputStream.getTopRight(),L=R.x,I=R.y,K=this.context.boxSize,ce=K[0],we=K[1],ke=K[3],ze=ce[0]+L,_e=ce[1]+I,Ue=ke[0]-ce[0],Qe=we[1]-ce[1];if(!this._cachedStyleValues||this._cachedStyleValues.borderColor!==$.borderColor||this._cachedStyleValues.borderWidth!==$.borderWidth||this._cachedStyleValues.backgroundColor!==$.backgroundColor){var Je,Et;this._cachedStyleValues={borderColor:$.borderColor,borderWidth:$.borderWidth,backgroundColor:$.backgroundColor};var wt=$.borderColor!==void 0||$.borderWidth!==void 0,Qt=(Je=$.borderColor)!==null&&Je!==void 0?Je:"rgba(0, 255, 0, 0.5)",cr=wt?(Et=$.borderWidth)!==null&&Et!==void 0?Et:2:0,lr=$.backgroundColor;this._resolvedStyle={color:Qt,width:cr,bg:lr}}var br=this._resolvedStyle;br.bg&&(O.fillStyle=br.bg,O.fillRect(ze,_e,Ue,Qe)),br.width>0&&(O.strokeStyle=br.color,O.lineWidth=br.width,O.strokeRect(ze,_e,Ue,Qe))}}}}]);var v,N}(),ss=new ri,ai=ss.context,Hu={init:function(v,N,y){var j,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ss;return N||(j=new Promise(function($,O){N=function(R){R?O(R):$()}})),_.context.initAborted=!1,_.context.config=p()({},uc,v),_.context.config.numOfWorkers>0&&(_.context.config.numOfWorkers=0),y?(_.context.onUIThread=!1,_.initializeData(y),N&&N()):_.initInputStream(N),j},start:function(v,N){var y;if(v)return N||(y=new Promise(function(j,_){N=function($){$?_($):j()}})),this.init(v,function(j){if(j)N(j);else try{ss.start(),N()}catch(_){N(_)}}),y;if(!ai.framegrabber)throw new Error("start() was called before init() completed. Call init() first, or call start(config) to combine init and start.");return ss.start()},stop:function(){return ss.stop()},pause:function(){ai.stopped=!0},onDetected:function(v){v&&(typeof v=="function"||m()(v)==="object"&&v.callback)?Zs.subscribe("detected",v):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(v){Zs.unsubscribe("detected",v)},onProcessed:function(v){v&&(typeof v=="function"||m()(v)==="object"&&v.callback)?Zs.subscribe("processed",v):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(v){Zs.unsubscribe("processed",v)},setReaders:function(v){v?ss.setReaders(v):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(v,N){v?N?ss.registerReader(v,N):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(v){v&&typeof v.addResult=="function"&&(ai.resultCollector=v)},get canvas(){return ai.canvasContainer},drawScannerArea:function(){return ss.drawScannerArea()},decodeSingle:function(v,N){var y=this,j=new ri;return(v=p()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:v.src},numOfWorkers:1,locator:{halfSample:!1}},v)).numOfWorkers>0&&(v.numOfWorkers=0),v.numOfWorkers>0&&(typeof Blob=="undefined"||typeof Worker=="undefined")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),v.numOfWorkers=0),new Promise(function(_,$){try{y.init(v,function(){ai.canvasContainer=j.context.canvasContainer,Zs.once("processed",function(O){j.stop(),N&&N.call(null,O),_(O)},!0),j.start()},null,j)}catch(O){$(O)}})},get default(){return Hu},Readers:h,CameraAccess:Cn,ImageDebug:Q,ImageWrapper:Ma,ResultCollector:Iu};n.default=Hu}]).default})}(ry)),ry.exports}var sM=nM();const Mn=Xo(sM);function xx({onBarcodeDetected:e,onClose:r,isOpen:t}){const[n,i]=E.useState(""),[l,c]=E.useState(!1),[f,h]=E.useState(""),[d,m]=E.useState(""),[x,p]=E.useState(!1),[b,S]=E.useState(!1),[k,T]=E.useState(!1),A=E.useRef(null),M=E.useRef(""),H=E.useRef(0),D=E.useRef(!1),G=ie=>{ie.key==="Enter"&&n.trim()&&(ie.preventDefault(),V(n.trim()))},V=E.useCallback(ie=>{if(!l){h(ie),c(!0);try{Mn.stop()}catch(ee){}p(!1),setTimeout(()=>{e(ie),i(""),c(!1),h(""),r()},800)}},[l,e,r]),se=E.useCallback(()=>{try{Mn.stop(),Mn.offDetected(),Mn.offProcessed()}catch(ie){}p(!1),D.current=!1,M.current="",H.current=0},[]),oe=E.useCallback(()=>Ne(null,null,function*(){if(!(!A.current||D.current)){m(""),M.current="",H.current=0;try{const ie=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),ee=ie.getVideoTracks()[0];if(ee){const ae=ee.getCapabilities();T(!!ae.torch)}ie.getTracks().forEach(ae=>ae.stop()),Mn.init({inputStream:{name:"Live",type:"LiveStream",target:A.current,constraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},aspectRatio:{ideal:1.333}},area:{top:"20%",right:"10%",left:"10%",bottom:"20%"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||4,frequency:10,decoder:{readers:["ean_reader","ean_8_reader","upc_reader","upc_e_reader","code_128_reader","code_39_reader","code_93_reader","codabar_reader","i2of5_reader"],multiple:!1},locate:!0},ae=>{var J;if(ae){console.error("Quagga init error:",ae),(J=ae.message)!=null&&J.includes("Permission")||ae.name==="NotAllowedError"?m("Camera access denied. Please allow camera permission and try again."):m("Failed to start camera. Please use manual input.");return}D.current=!0,p(!0),Mn.start()}),Mn.onDetected(ae=>{var ue,ne,he;if(!((ue=ae==null?void 0:ae.codeResult)!=null&&ue.code))return;const J=ae.codeResult.code,le=((he=(ne=ae.codeResult.decodedCodes)==null?void 0:ne.filter(Le=>Le.error!==void 0))==null?void 0:he.map(Le=>Le.error))||[];(le.length>0?le.reduce((Le,Z)=>Le+Z,0)/le.length:1)<.15&&(M.current===J?(H.current++,H.current>=2&&V(J)):(M.current=J,H.current=1))}),Mn.onProcessed(ae=>{const J=Mn.canvas.ctx.overlay,le=Mn.canvas.dom.overlay;!J||!le||(J.clearRect(0,0,le.width,le.height),ae&&(ae.boxes&&ae.boxes.filter(pe=>pe!==ae.box).forEach(pe=>{J.strokeStyle="rgba(0, 255, 0, 0.5)",J.lineWidth=2,Mn.ImageDebug.drawPath(pe,{x:0,y:1},J,{color:"rgba(0, 255, 0, 0.5)",lineWidth:2})}),ae.box&&(J.strokeStyle="#00FF00",J.lineWidth=3,Mn.ImageDebug.drawPath(ae.box,{x:0,y:1},J,{color:"#00FF00",lineWidth:3})),ae.line&&(J.strokeStyle="#FF0000",J.lineWidth=3,Mn.ImageDebug.drawPath(ae.line,{x:0,y:1},J,{color:"#FF0000",lineWidth:3}))))})}catch(ie){console.error("Camera error:",ie);const ee=ie instanceof Error?ie.message:String(ie);ee.includes("Permission")||ee.includes("NotAllowed")?m("Camera access denied. Please allow camera permission in your browser settings."):ee.includes("NotFound")||ee.includes("DevicesNotFound")?m("No camera found. Please use manual input."):m("Camera not available. Please use manual input.")}}}),[V]),q=()=>Ne(null,null,function*(){try{const ie=Mn.CameraAccess.getActiveTrack();ie&&(yield ie.applyConstraints({advanced:[{torch:!b}]}),S(!b))}catch(ie){console.error("Torch toggle error:",ie)}});return E.useEffect(()=>{if(t){const ie=setTimeout(()=>{oe()},100);return()=>clearTimeout(ie)}else se()},[t,oe,se]),E.useEffect(()=>()=>{se()},[se]),t?a.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-2 sm:p-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-lg mx-auto flex flex-col max-h-[95vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 shrink-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scan Barcode"}),a.jsxs("div",{className:"flex items-center gap-2",children:[k&&x&&a.jsx("button",{onClick:q,className:`p-2 rounded-lg transition-colors ${b?"bg-yellow-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,title:"Toggle flashlight",children:a.jsx(G8,{size:20})}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(Ha,{size:24})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l&&a.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ko,{className:"text-green-600 dark:text-green-400 mr-2 shrink-0",size:20}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-green-800 dark:text-green-200 font-medium block truncate",children:f}),a.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm",children:"Adding to cart..."})]})]})}),d&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Vo,{className:"text-red-600 dark:text-red-400 mr-2 shrink-0 mt-0.5",size:20}),a.jsx("span",{className:"text-red-800 dark:text-red-200 text-sm",children:d})]})}),a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[a.jsx("div",{ref:A,className:"w-full h-full",style:{position:"relative",minHeight:"240px"}}),x&&!l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[20%] left-[10%] w-8 h-8 border-t-3 border-l-3 border-green-400",style:{borderWidth:"3px 0 0 3px"}}),a.jsx("div",{className:"absolute top-[20%] right-[10%] w-8 h-8 border-t-3 border-r-3 border-green-400",style:{borderWidth:"3px 3px 0 0"}}),a.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-8 h-8 border-b-3 border-l-3 border-green-400",style:{borderWidth:"0 0 3px 3px"}}),a.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-8 h-8 border-b-3 border-r-3 border-green-400",style:{borderWidth:"0 3px 3px 0"}})]}),a.jsx("div",{className:"absolute left-[10%] right-[10%] top-[20%] bottom-[20%] pointer-events-none overflow-hidden",children:a.jsx("div",{className:"w-full h-0.5 bg-red-500 animate-scan-line"})}),a.jsxs("div",{className:"absolute top-3 left-3 bg-black/70 text-white px-3 py-1.5 rounded-full text-sm flex items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Scanning..."]})]}),!x&&!l&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx(Gx,{size:48,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Camera initializing..."})]})})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:x?"Position barcode within the frame":"Use manual input below"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Manual Entry"}),a.jsx("input",{type:"text",value:n,onChange:ie=>i(ie.target.value),onKeyPress:G,placeholder:"Type barcode and press Enter...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base",autoComplete:"off",inputMode:"numeric"})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:"Supports: EAN-13, UPC-A, Code128, Code39"}),a.jsx("span",{className:x?"text-green-500":"text-gray-400",children:x?" Active":" Inactive"})]})})]}),a.jsx("style",{children:`
        @keyframes scan-line {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(calc(100% - 2px)); }
        }
        .animate-scan-line {
          animation: scan-line 2s ease-in-out infinite;
        }
        
        /* Ensure Quagga video fills container */
        .drawingBuffer {
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
          width: 100% !important;
          height: 100% !important;
        }
        
        video {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
        }
        
        canvas.drawingBuffer {
          width: 100% !important;
          height: 100% !important;
        }
      `})]}):null}function iM(e){const[r,t]=E.useState(!1),[n,i]=E.useState(null),{products:l}=xm();return{scanBarcode:h=>Ne(null,null,function*(){if(!h.trim())return i("Please enter a valid barcode"),{success:!1,code:h,message:"Please enter a valid barcode",reason:"error"};t(!0),i(null);try{const d=l.find(m=>m.id===h||m.barcode===h||m.name.toLowerCase().includes(h.toLowerCase()));if(d)return d.available<=0?(i("Item out of stock"),{success:!1,code:h,message:`"${d.name}" is out of stock`,item:d,reason:"no_stock"}):(e(d),{success:!0,code:h,message:`Added "${d.name}" to cart`,item:d,reason:"found"});try{const x=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(h)}`)).json();if(x.message&&x.message.item_code){const p={id:x.message.item_code,name:x.message.item_name||x.message.item_code,category:x.message.item_group||"General",price:x.message.price||0,available:x.message.available||0,image:x.message.image,sold:0};return p.available<=0?(i("Item out of stock"),{success:!1,code:h,message:`"${p.name}" is out of stock`,item:p,reason:"no_stock"}):(e(p),{success:!0,code:h,message:`Added "${p.name}" to cart`,item:p,reason:"found"})}else return i("Product not found"),{success:!1,code:h,message:`No item found for barcode "${h}"`,reason:"not_found"}}catch(m){return console.error("API error:",m),i("Product not found"),{success:!1,code:h,message:`No item found for barcode "${h}"`,reason:"not_found"}}}catch(d){return console.error("Barcode scanning error:",d),i("Error processing barcode"),{success:!1,code:h,message:"Error processing barcode",reason:"error"}}finally{t(!1)}}),isScanning:r,error:n,clearError:()=>i(null)}}function p_({onBarcodeScanned:e,enabled:r=!0,minLength:t=4,maxTimeBetweenChars:n=50,endKey:i="Enter"}){const l=E.useRef(""),c=E.useRef(0),f=E.useRef(!1),h=E.useRef(null),d=E.useCallback(()=>{l.current="",f.current=!1,h.current&&(clearTimeout(h.current),h.current=null)},[]),m=E.useCallback(x=>{if(!r)return;const p=Date.now(),b=p-c.current;c.current=p;const S=x.target,k=S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.isContentEditable;if(x.key===i){const A=l.current.trim();if(A.length>=t&&f.current){x.preventDefault(),x.stopPropagation(),k&&A.length>=8&&(S.value=""),e(A),d();return}d();return}if(x.ctrlKey||x.altKey||x.metaKey||x.key.length>1){x.key!=="Shift"&&d();return}const T=b<n;f.current?T?l.current+=x.key:l.current=x.key:(l.current=x.key,f.current=!0),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{d()},200),f.current&&k&&l.current.length>=4&&/^[A-Za-z0-9-]+$/.test(l.current)&&l.current.length>=8&&x.preventDefault()},[r,t,n,i,e,d]);return E.useEffect(()=>{if(r)return window.addEventListener("keydown",m,!0),()=>{window.removeEventListener("keydown",m,!0),h.current&&clearTimeout(h.current)}},[r,m]),{resetBuffer:d}}function bu(e){const[r,t]=E.useState(!1);return E.useEffect(()=>{const n=window.matchMedia(e);n.matches!==r&&t(n.matches);const i=()=>t(n.matches);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[r,e]),r}function oM(){const e=fa(),[r,t]=E.useState("all"),[n,i]=E.useState(""),[l,c]=E.useState([]),[f,h]=E.useState(!1),[d,m]=E.useState(null),[x,p]=E.useState(null),b=E.useRef(null),{cartItems:S,addToCart:k,updateQuantity:T,removeItem:A,clearCart:M}=Yl(),{products:H,isLoading:D,isLoadingMore:G,isSearching:V,error:se,refetch:oe,loadMoreProducts:q,searchProducts:ie,hasMore:ee,totalCount:ae,searchQuery:J}=xm(),{posDetails:le}=un(),pe=(le==null?void 0:le.custom_use_scanner_fully)||!1,ue=(le==null?void 0:le.hide_unavailable_items)||!1,ne=(le==null?void 0:le.custom_scale_barcodes_start_with)||"",he=bu("(max-width: 1024px)"),Le=ve=>{if(!(ve.available<=0)){if(pe){console.log("Scanner-only mode enabled. Items can only be added via barcode scanning.");return}de(ve)}},Z=E.useCallback(ve=>{if(!ne||!ve.startsWith(ne))return{isScale:!1};if(!/^\d{12,13}$/.test(ve))return{isScale:!1};const et=ve.substring(0,7),Tt=ve.length>=13,ge=ve.substring(0,12);Tt&&ve.substring(12,13);const Xe=ge.substring(7,12);if(!/^\d{5}$/.test(Xe))return{isScale:!1};Tt&&(re=>{let qe=0;for(let dt=0;dt<12;dt++){const gt=parseInt(re.charAt(dt),10);qe+=dt%2===0?gt:gt*3}const Ke=qe%10;return Ke===0?"0":String(10-Ke)})(ge);const gr=parseInt(Xe,10)/1e3;return Number.isNaN(gr)||gr<=0?{isScale:!1}:{isScale:!0,baseBarcode:et,quantity:gr}},[ne]),B=E.useCallback((ve,et)=>Ne(null,null,function*(){const Tt=S.find(ge=>ge.id===ve.id);Tt?T(ve.id,Tt.quantity+et):(yield k({id:ve.id,name:ve.name,category:ve.category,price:ve.price,image:ve.image,available:ve.available,uom:ve.uom,item_code:ve.id}),T(ve.id,et))}),[S,T,k]),de=ve=>{const et=S.find(Tt=>Tt.id===ve.id);et?T(ve.id,et.quantity+1):k({id:ve.id,name:ve.name,category:ve.category,price:ve.price,image:ve.image,available:ve.available,uom:ve.uom,item_code:ve.id})},xe=(ve,et)=>{et<=0?A(ve):T(ve,et)},fe=ve=>{A(ve)},z=()=>{M()},X=ve=>{l.some(et=>et.code===ve.code)||c([...l,ve])},Ae=ve=>{c(l.filter(et=>et.code!==ve))},{scanBarcode:Ye}=iM(de),ct=E.useCallback(ve=>Ne(null,null,function*(){Ve.info(`Scanned: ${ve}`,{autoClose:1500,toastId:"scan-info"});const et=yield Ye(ve);if(et.success)Ve.success(et.message,{autoClose:2e3,toastId:"scan-success"}),h(!1);else switch(et.reason){case"no_stock":Ve.warning(et.message,{autoClose:3e3,toastId:"scan-no-stock"});break;case"not_found":Ve.error(a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{children:et.message}),a.jsxs("button",{onClick:()=>{Ve.dismiss("scan-not-found"),h(!1),e(`/items?barcode=${encodeURIComponent(ve)}`)},className:"flex items-center justify-center gap-1 px-3 py-1.5 bg-beveren-600 text-white text-sm rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Wi,{size:14}),"Create New Item"]})]}),{autoClose:8e3,toastId:"scan-not-found",closeOnClick:!1});break;default:Ve.error(et.message||"Scan failed",{autoClose:3e3,toastId:"scan-error"})}}),[Ye,e]);p_({onBarcodeScanned:E.useCallback(ve=>{console.log("USB Scanner detected barcode:",ve),(n.includes(ve)||ve.includes(n))&&i(""),ct(ve)},[n,ct]),enabled:!0,minLength:4,maxTimeBetweenChars:50});const Ze=ve=>{if(i(ve),pe&&ve.length>=8&&/^[0-9]+$/.test(ve)&&console.log("Potential barcode input detected:",ve),!!ne&&ve&&/^[0-9]+$/.test(ve)&&ve.startsWith(ne)&&ve.length>=7){const ge=ve.substring(0,7),Xe=H.find(lt=>lt.id===ge||lt.barcode&&lt.barcode===ge);m(Xe?Xe.id:null)}else d&&m(null);p(null),b.current&&clearTimeout(b.current);const Tt=ve.trim();Tt.length>=1?b.current=setTimeout(()=>{ie(Tt)},300):Tt||ie("")},mt=ve=>Ne(null,null,function*(){var et;if(ve.key==="Enter"&&n.trim()){if(ve.preventDefault(),/^[0-9]+$/.test(n)&&ne&&n.startsWith(ne)){const Tt=n.trim();if(Tt.length!==13){Ve.error("Scale barcode must be 13 digits including check digit");return}const ge=Tt.substring(0,12),Xe=Tt.substring(12,13);if((re=>{let qe=0;for(let dt=0;dt<12;dt++){const gt=parseInt(re.charAt(dt),10);qe+=dt%2===0?gt:gt*3}const Ke=qe%10;return Ke===0?"0":String(10-Ke)})(ge)!==Xe){Ve.error("Invalid scale barcode check digit");return}const Kt=Z(Tt);if(Kt.isScale){const re=Kt.baseBarcode,qe=Kt.quantity,Ke=H.find(dt=>dt.id===re||dt.barcode&&dt.barcode===re);if(Ke){yield B(Ke,qe),i(""),m(null);return}try{const gt=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(re)}`)).json();if((et=gt==null?void 0:gt.message)!=null&&et.item_code){const bt={id:gt.message.item_code,name:gt.message.item_name||gt.message.item_code,category:gt.message.item_group||"General",price:gt.message.price||0,available:gt.message.available||0,image:gt.message.image,sold:0,uom:gt.message.stock_uom};yield B(bt,qe)}}catch(dt){}i(""),m(null);return}}if(pe&&/^[0-9]+$/.test(n)){console.log("Processing as barcode:",n),ct(n.trim()),i(""),m(null);return}console.log("Processing as product search:",n),ie(n.trim()),Ne(null,null,function*(){var Tt;try{const Xe=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(n.trim())}`)).json();if(console.log("Batch/Serial lookup result:",Xe),(Tt=Xe==null?void 0:Xe.message)!=null&&Tt.item_code){const lt={id:Xe.message.item_code,name:Xe.message.item_name||Xe.message.item_code,category:Xe.message.item_group||"General",price:Xe.message.price||0,available:Xe.message.available||0,image:Xe.message.image,sold:0};B(lt,1);const gr=Xe.message.matched_type,Kt=Xe.message.matched_value;gr==="batch"?window.dispatchEvent(new CustomEvent("cart:setBatchForItem",{detail:{itemCode:lt.id,batchId:Kt}})):gr==="serial"&&window.dispatchEvent(new CustomEvent("cart:setSerialForItem",{detail:{itemCode:lt.id,serialNo:Kt}})),i(""),m(null)}}catch(ge){}})}});E.useEffect(()=>{if(!pe)return;const ve=setTimeout(()=>{if(n.length>=8&&/^[0-9]+$/.test(n)){const et=Z(n.trim());if(et.isScale){const Tt=et.baseBarcode,ge=et.quantity,Xe=H.find(lt=>lt.id===Tt||lt.barcode&&lt.barcode===Tt);if(Xe){B(Xe,ge),i(""),m(null);return}}console.log("Auto-processing potential barcode:",n),ct(n.trim()),i(""),m(null)}},500);return()=>clearTimeout(ve)},[n,ct,pe,H,Z,B]),E.useEffect(()=>{if(!n||!!ne&&/^[0-9]+$/.test(n)&&n.startsWith(ne)&&n.length>=7)return;let et=!1;const Tt=setTimeout(()=>Ne(null,null,function*(){var ge;try{const lt=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(n.trim())}`)).json();!et&&((ge=lt==null?void 0:lt.message)!=null&&ge.item_code)&&p(lt.message.item_code)}catch(Xe){et||p(null)}}),250);return()=>{et=!0,clearTimeout(Tt)}},[n,ne]),E.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const $t=H.filter(ve=>{var gr;if(ue&&ve.available<=0)return!1;if(J)return!0;const et=r==="all"||ve.category===r,Tt=!!ne&&n&&/^[0-9]+$/.test(n)&&n.startsWith(ne)&&n.length>=7,ge=d&&Tt||Tt?n.substring(0,7):"",Xe=ge===""||ve.name.toLowerCase().includes(ge.toLowerCase())||ve.category.toLowerCase().includes(ge.toLowerCase())||ve.id.toLowerCase().includes(ge.toLowerCase())||((gr=ve.description)==null?void 0:gr.toLowerCase().includes(ge.toLowerCase()))||ve.barcode&&ve.barcode.toLowerCase().includes(ge.toLowerCase()),lt=et&&Xe;return d&&Tt?lt||ve.id===d:x?lt||ve.id===x:lt});if(D)return a.jsx(aM,{message:"Loading products..."});const ur=pe&&!he&&a.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-600/90 text-white px-3 py-1.5 rounded-lg shadow-lg backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),a.jsx("span",{className:"text-sm font-medium",children:"Scanner Only"})]})});if(se&&$t.length===0){const ve=et=>et.includes("HTTP 403")||et.includes("403")?"Access denied. Please check your permissions or contact your administrator.":et.includes("HTTP 401")||et.includes("401")?"Authentication required. Please log in again.":et.includes("HTTP 404")||et.includes("404")?"Product service not available. Please contact your administrator.":et.includes("HTTP 500")||et.includes("500")?"Server error. Please try again later.":et.includes("Network error")||et.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":et.includes("Authentication required")?"Please log in to access products.":et;return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Failed to Load Products"}),a.jsx("p",{className:"text-gray-600 mb-4",children:ve(se)}),a.jsx("button",{onClick:oe,className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:"Try Again"})]})})}return he?a.jsxs(a.Fragment,{children:[a.jsx(rM,{items:$t,selectedCategory:r,onCategoryChange:t,searchQuery:n,onSearchChange:Ze,onScanBarcode:()=>h(!0),scannerOnly:pe,hasMore:ee&&!J,isLoadingMore:G,onLoadMore:q,totalCount:ae,isSearching:V}),a.jsx(xx,{isOpen:f,onClose:()=>h(!1),onBarcodeDetected:ct})]}):a.jsxs(a.Fragment,{children:[ur,a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 pb-8",children:[a.jsx("div",{className:"flex-1 overflow-hidden ml-20",children:a.jsx(Q$,{items:$t,selectedCategory:r,onCategoryChange:t,searchQuery:n,onSearchChange:Ze,onSearchKeyPress:mt,onAddToCart:Le,onScanBarcode:()=>h(!0),scannerOnly:pe,hasMore:ee&&!J,isLoadingMore:G,onLoadMore:q,totalCount:ae,isSearching:V})}),a.jsx("div",{className:"w-[35%] min-w-[420px] max-w-[600px] bg-white shadow-lg overflow-y-auto",children:a.jsx(g_,{cartItems:S,onUpdateQuantity:xe,onRemoveItem:fe,onClearCart:z,appliedCoupons:l,onApplyCoupon:X,onRemoveCoupon:Ae})})]}),a.jsx(xx,{isOpen:f,onClose:()=>h(!1),onBarcodeDetected:ct})]})}function lM(){const[e,r]=E.useState(!1),[t,n]=E.useState(null),[i,l]=E.useState(!1);return{createOpeningEntry:(f,h)=>Ne(null,null,function*(){r(!0),n(null),l(!1);const d=window.csrf_token;try{const m={opening_balance:f};h&&(m.pos_profile=h);const x=yield fetch("/api/method/klik_pos.api.pos_entry.create_opening_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":d},body:JSON.stringify(m),credentials:"include"}),p=yield x.json();if(x.ok&&p.message)l(!0);else throw new Error(p._server_messages||"Failed to create opening entry")}catch(m){console.error("Error creating POS Opening Entry:",m),n(m.message||"Unexpected error occurred")}finally{r(!1)}}),isCreating:e,error:t,success:i}}const y_=({isOpen:e,onClose:r})=>{const[t,n]=E.useState("form"),[i,l]=E.useState(""),[c,f]=E.useState([]),[h,d]=E.useState(""),{createOpeningEntry:m,isCreating:x,error:p,success:b}=lM(),{profiles:S,loading:k}=o8(),{posDetails:T}=un(),A=T==null?void 0:T.name,M=i||A||"",{modes:H,isLoading:D,error:G}=Am(M),V=ae=>{switch(ae.toLowerCase()){case"cash":return a.jsx(i4,{className:"w-5 h-5 text-green-600"});case"bank":return a.jsx(gs,{className:"w-5 h-5 text-blue-600"});default:return a.jsx(WE,{className:"w-5 h-5 text-gray-600"})}};E.useEffect(()=>{if(S&&S.length>0&&!i){let ae=null;A&&(ae=S.find(J=>J.name===A)||null),ae||(ae=S.find(le=>le.is_default)||S[0]||null),ae!=null&&ae.name&&l(ae.name)}},[S,i,A]);const se=ae=>{l(ae)};E.useEffect(()=>{if(i&&D&&f([]),H&&H.length>0&&!D){const J=[...H].sort((le,pe)=>le.default===1&&pe.default!==1?-1:le.default!==1&&pe.default===1?1:0).map(le=>({mode_of_payment:le.mode_of_payment,opening_amount:0,type:le.type||"General",account:le.default_account||le.account}));f(J)}},[H,D,i]),E.useEffect(()=>{G&&d(G)},[G]);const oe=(ae,J)=>{ae<0||ae>=c.length||f(le=>{const pe=[...le];return pe[ae]&&(pe[ae]=je(Y({},pe[ae]),{opening_amount:J})),pe})},q=()=>Ne(null,null,function*(){try{n("creating"),d("");const ae=c.map(J=>({mode_of_payment:J.mode_of_payment,opening_amount:J.opening_amount||0}));console.log("Opening balance data:",ae,"Selected profile:",i),yield m(ae,i||void 0),Yx(),console.log(" Cache cleared after creating new opening entry");try{yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}),console.log(" Backend cache cleared after creating new opening entry")}catch(J){console.warn(" Failed to clear backend cache after opening entry:",J)}}catch(ae){console.error("Error creating opening entry:",ae),d(ae.message||"Failed to create opening entry"),n("form")}}),ie=c.reduce((ae,J)=>ae+(J.opening_amount||0),0);if(E.useEffect(()=>{b&&t==="creating"&&(n("success"),setTimeout(()=>{window.location.reload()},1500))},[b,t]),E.useEffect(()=>{p&&t==="creating"&&(d(p),n("form"))},[p,t]),E.useEffect(()=>{e&&(n("form"),d(""),l(""),f([]))},[e]),!e)return null;const ee=i&&D;return a.jsx("div",{className:"fixed inset-0 bg-beveren-300 bg-opacity-10 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full max-h-[90vh] overflow-hidden",children:["        ",a.jsxs("div",{className:"bg-beveren-600 text-white px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"POS Opening Entry"}),a.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors",disabled:x,children:a.jsx(Ha,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 relative",children:[t==="form"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"POS Profile"}),a.jsxs("select",{value:i,onChange:ae=>se(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!!k||!!ee,children:[(!S||S.length===0)&&a.jsx("option",{value:"",children:k?"Loading profiles...":"No profiles available"}),S&&Array.isArray(S)&&S.map((ae,J)=>{const le=ae.name,pe=ae.is_default?`${le} (Default)`:le;return a.jsx("option",{value:le,children:pe},le||J)})]})]}),ee&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment methods..."})]}),!ee&&c.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Opening Balances"}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:c.map((ae,J)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[V(ae.type),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900",children:ae.mode_of_payment}),a.jsx("div",{className:"text-xs text-gray-500",children:ae.type})]}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:ae.opening_amount||"",onChange:le=>oe(J,parseFloat(le.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00",disabled:k})]},ae.mode_of_payment))}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[a.jsx("span",{children:"Total Opening Balance:"}),a.jsx("span",{className:"text-green-600",children:_t(ie,(T==null?void 0:T.currency)||"USD")})]})})]}),h&&a.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:[a.jsx(Vo,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("div",{children:h})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:!!k||!!x||!!ee,children:"Cancel"}),a.jsx("button",{onClick:q,disabled:!!k||!!x||!!ee||!i||c.length===0,className:"flex-1 px-4 py-2 bg-beveren-700 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:k?"Loading...":x?"Creating...":ee?"Loading...":"Start POS Session"})]})]}),t==="creating"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Opening Entry"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we set up your POS session..."})]}),t==="success"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(R8,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"POS Session Started!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Opening entry created successfully. Redirecting to POS..."}),a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]}),k&&t==="form"&&!ee&&a.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})]})})};function cM(){const{isRTL:e}=Wl(),[r,t]=E.useState(!1),[n,i]=E.useState(!1),[l,c]=E.useState(null),[f,h]=E.useState(!0),[d,m]=E.useState(null),[x,p]=E.useState(!1),{hasOpenEntry:b,isLoading:S,error:k,refetch:T}=RN();E.useEffect(()=>{Ne(null,null,function*(){try{h(!0),m(null),hs.initializeSession();const D=yield hs.getCurrentUserProfile();if(D)c({name:D.name,email:D.email||D.name,full_name:D.full_name||D.first_name+" "+(D.last_name||""),role:D.role_profile_name||"User",user_image:D.user_image});else{const G=yield hs.getCurrentUser();G?c({name:G,email:G,full_name:G,role:"User"}):m("No user session found")}}catch(D){console.error("Error fetching current user:",D),m(D.message||"Failed to fetch user")}finally{h(!1)}})},[]),E.useEffect(()=>{n&&!x&&setTimeout(()=>Ne(null,null,function*(){q$()&&(console.log("Loading cached draft invoice items to cart"),yield z$()),p(!0)}),1e3)},[n,x]),E.useEffect(()=>{!S&&!k?b===!0?(i(!0),t(!1)):b===!1&&(i(!1),t(!1)):k&&(console.error("Error checking POS opening status:",k),i(!1),t(!1))},[b,S,k]);const A=()=>{t(!1),i(!0),p(!1),T()},M=()=>{t(!1)};return S||f?a.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),a.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):d?a.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600",children:d})]})}):a.jsxs("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} pb-12`,children:[n&&a.jsx(oM,{}),!n&&!r&&a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"POS Not Ready"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please start a POS session to continue."}),a.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Start POS Session"})]})}),a.jsx(y_,{isOpen:r,onClose:M,onSuccess:A,currentUser:(l==null?void 0:l.name)||"Unknown User"})]})}function ov(e="",r=!1,t){const[n,i]=E.useState([]),[l,c]=E.useState(!0),[f,h]=E.useState(!1),[d,m]=E.useState(null),[x,p]=E.useState(!0),[b,S]=E.useState(0),[k,T]=E.useState(0),[A,M]=E.useState(0),H=100,[D,G]=E.useState(e);E.useEffect(()=>{const q=setTimeout(()=>{G(e)},300);return()=>clearTimeout(q)},[e]);const V=E.useCallback((q=0,ie=!1)=>Ne(null,null,function*(){var ee;ie?h(!0):c(!0);try{const ae=q*H,J=D?`&search=${encodeURIComponent(D)}`:"",le=r?"&skip_opening_entry_filter=true":"",pe=t&&t!=="all"?`&cashier_name=${encodeURIComponent(t)}`:"",ue=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${H}&start=${ae}${J}${le}${pe}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!ue.ok)throw new Error(`HTTP ${ue.status}: ${ue.statusText}`);const ne=yield ue.json();if(!ne.message||!ne.message.success)throw new Error(((ee=ne.message)==null?void 0:ee.error)||ne.error||"Failed to fetch invoices");const he=ne.message.data,Le=he.length,Z=ne.message.total_count||0;p(Le===H),M(Z);const B=he.map(de=>{const xe=de.status,fe=Array.isArray(de.items)?de.items:[];let z=!0;return xe==="Credit Note Issued"?z=fe.filter(Ae=>(Ae.available_qty||0)>0).length>0:z=!0,{id:de.name,date:de.posting_date||new Date().toISOString().split("T")[0],time:de.posting_time||"00:00:00",cashier:de.cashier_name,cashierId:de.owner||"",customer:de.customer_name||"",customerId:de.customer||"",items:fe,subtotal:(Number(de.base_grand_total)||0)-(Number(de.total_taxes_and_charges)||0)+(Number(de.discount_amount)||0),giftCardDiscount:Number(de.discount_amount)||0,giftCardCode:String(de.discount_code)||"",taxAmount:Number(de.total_taxes_and_charges)||0,totalAmount:Number(de.base_grand_total)||0,paymentMethod:de.mode_of_payment||"-",payment_methods:de.payment_methods||[],amountPaid:Number(de.base_rounded_total)||0,changeGiven:Number(de.change_amount)||0,status:xe||"Completed",refundAmount:xe==="Refunded"&&Number(de.base_grand_total)||0,custom_zatca_submit_status:de.custom_zatca_submit_status||"Draft",currency:de.currency||"USD",notes:de.remarks||"",posProfile:de.pos_profile||"",custom_pos_opening_entry:de.custom_pos_opening_entry||"",canReturn:z}});ie?(i(de=>[...de,...B]),T(de=>de+Le)):(i(B),T(Le)),S(q),m(null)}catch(ae){m(ae.message||"Unknown error occurred")}finally{c(!1),h(!1)}}),[D,r,t]),se=E.useCallback(()=>{!f&&x&&V(b+1,!0)},[b,f,x,V]),oe=E.useCallback(()=>{S(0),T(0),p(!0),V(0,!1)},[V]);return E.useEffect(()=>{S(0),T(0),p(!0),V(0,!1)},[D,V]),E.useEffect(()=>{if(!l&&!f&&A>0&&A<=1e3&&x){const q=Math.ceil((A-k)/H);q>0&&q<=10&&Ne(null,null,function*(){for(let ee=b+1;ee<=b+q&&x;ee++)yield V(ee,!0)})}},[A,k,x,l,f,b,V]),{invoices:n,isLoading:l,isLoadingMore:f,error:d,hasMore:x,totalLoaded:k,totalCount:A,loadMore:se,refetch:oe}}function x_(){const[e,r]=E.useState(null),[t,n]=E.useState(!0),[i,l]=E.useState(null),c=()=>Ne(null,null,function*(){var f,h;n(!0);try{const d=yield fetch("/api/method/klik_pos.api.user.get_current_user_info",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),m=yield d.json();if(d.ok&&((f=m.message)!=null&&f.success))r(m.message.data),l(null);else throw new Error(((h=m.message)==null?void 0:h.error)||"Failed to fetch user info")}catch(d){console.error("Error loading user info:",d),l(d.message||"Unknown error")}finally{n(!1)}});return E.useEffect(()=>{c()},[]),{userInfo:e,isLoading:t,error:i,refetch:c}}function uM(){var Le,Z;const e=fa(),r=bu("(max-width: 1024px)"),{posDetails:t}=un(),{invoices:n,isLoading:i}=ov(),{userInfo:l,isLoading:c}=x_(),[f,h]=E.useState(""),{modes:d}=Qx(),m=(l==null?void 0:l.is_admin_user)||!1,x=(l==null?void 0:l.full_name)||"Unknown",[p,b]=E.useState("all"),[S,k]=E.useState("all"),[T,A]=E.useState(!1),[M,H]=E.useState("bar"),D={giftCardUsage:{totalRedeemed:0,totalTransactions:0,averageDiscount:0},salesByDay:[{day:"Mon",sales:0},{day:"Tue",sales:0},{day:"Wed",sales:0},{day:"Thu",sales:0},{day:"Fri",sales:0},{day:"Sat",sales:0},{day:"Sun",sales:0}]},G=[...new Set(n.map(B=>B.cashier))];if(E.useEffect(()=>{l&&!m&&b(x)},[l,m,x]),c||i)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading dashboard..."})]})});const V=n.filter(B=>{const de=p==="all"||B.cashier===p,xe=S==="all"||B.paymentMethod===S,fe=new Date().toISOString().split("T")[0],z=f===""&&!0||f==="today"&&B.date===fe||f==="week"&&new Date(B.date)>=new Date(Date.now()-7*24*60*60*1e3)||f==="month"&&new Date(B.date)>=new Date(Date.now()-30*24*60*60*1e3),X=f!==""||!(t!=null&&t.current_opening_entry)?!0:B.custom_pos_opening_entry===t.current_opening_entry,Ae=m||!(t!=null&&t.name)||B.posProfile===t.name;return de&&xe&&z&&X&&Ae}),se=(()=>{const B=V.reduce((z,X)=>z+X.totalAmount,0),de=V.length,xe=de>0?B/de:0,fe=V.reduce((z,X)=>z+X.items.length,0);return{totalRevenue:B,totalTransactions:de,averageOrderValue:xe,totalItems:fe}})(),q=(()=>{if(f!=="today")return[];const B=new Date().toISOString().split("T")[0],de=V.filter(fe=>fe.date===B),xe={};for(let fe=9;fe<=20;fe++){const z=`${fe.toString().padStart(2,"0")}:00`;xe[z]=0}return de.forEach(fe=>{const z=fe.time.split(":");if(z.length>=2){const X=`${z[0].padStart(2,"0")}:00`;Object.prototype.hasOwnProperty.call(xe,X)&&(xe[X]+=fe.totalAmount)}}),Object.entries(xe).map(([fe,z])=>({hour:fe,sales:z}))})(),ee=(()=>{const B={};(d||[]).forEach(fe=>{const z=fe.name||fe.mode_of_payment;B[z]={amount:0,transactions:0}}),V.forEach(fe=>{if(fe.payment_methods&&Array.isArray(fe.payment_methods))fe.payment_methods.forEach(z=>{const X=z.mode_of_payment;B[X]||(B[X]={amount:0,transactions:0}),B[X].amount+=z.amount,fe.payment_methods.indexOf(z)===0&&(B[X].transactions+=1)});else{const z=fe.paymentMethod||"Cash";B[z]||(B[z]={amount:0,transactions:0}),B[z].amount+=fe.totalAmount,B[z].transactions+=1}});const xe=Object.values(B).reduce((fe,z)=>fe+z.amount,0);return Object.entries(B).map(([fe,z])=>({method:fe,amount:z.amount,percentage:xe>0?z.amount/xe*100:0,transactions:z.transactions}))})(),J=(()=>{const B={};V.forEach(z=>{const X=z.custom_zatca_submit_status||"Draft";B[X]=(B[X]||0)+1});const de=Object.values(B).reduce((z,X)=>z+X,0),xe={pending:"#f59e0b",reported:"#3b82f6","not reported":"#9ca3af",cleared:"#16a34a","not cleared":"#ef4444",draft:"#6b7280"},fe=Object.entries(B).map(([z,X])=>{const Ae=z.toLowerCase(),Ye=xe[Ae]||"#9ca3af";return{status:z,count:X,percentage:de>0?X/de*100:0,color:Ye}});return{total:de,segments:fe.sort((z,X)=>X.count-z.count)}})(),pe=(()=>{const B={};return V.forEach(xe=>{const fe=xe.cashier||"Unknown";B[fe]||(B[fe]={name:fe,sales:0,transactions:0}),B[fe].sales+=xe.totalAmount,B[fe].transactions+=1}),Object.values(B).sort((xe,fe)=>fe.sales-xe.sales)[0]||null})(),ne=(()=>{const B={};return V.forEach(de=>{de.items.forEach(xe=>{const fe=xe.item_code||xe.item_name||"Unknown";B[fe]||(B[fe]={name:xe.item_name||xe.item_code||"Unknown",sales:0,revenue:0}),B[fe].sales+=xe.qty||0,B[fe].revenue+=(xe.rate||0)*(xe.qty||0)})}),Object.entries(B).map(([de,xe])=>Y({id:de},xe)).sort((de,xe)=>xe.revenue-de.revenue).slice(0,5)})(),he=V.sort((B,de)=>new Date(de.date+" "+de.time).getTime()-new Date(B.date+" "+B.time).getTime()).slice(0,5);return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:()=>A(!T),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(qy,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Filters"})]})})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[T&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),a.jsxs("select",{value:f,onChange:B=>h(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Current POS Session"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),a.jsxs("select",{value:p,onChange:B=>b(B.target.value),disabled:!m,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${m?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),G.map(B=>a.jsx("option",{value:B,children:B},B))]}),!m&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),a.jsxs("select",{value:S,onChange:B=>k(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Methods"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{h("today"),b("all"),k("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_t(se.totalRevenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(qi,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Ll,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:se.totalTransactions}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(qi,{className:"w-4 h-4 text-blue-500 mr-1"}),a.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"+8.2%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(qd,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_t(se.averageOrderValue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(qi,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Wc,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:se.totalItems}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(lw,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(nw,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[f==="today"&&q.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>H("bar"),className:`px-2 py-1 text-xs rounded transition-colors ${M==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Bar"}),a.jsx("button",{onClick:()=>H("line"),className:`px-2 py-1 text-xs rounded transition-colors ${M==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Line"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(du,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Peak: ",((Le=q.reduce((B,de)=>de.sales>B.sales?de:B,q[0]))==null?void 0:Le.hour)||"N/A"]})]})]})]}),a.jsx("div",{className:"h-48 flex items-end justify-between space-x-1",children:q.map((B,de)=>{const xe=Math.max(...q.map(z=>z.sales)),fe=xe>0?B.sales/xe*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[M==="bar"?a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${fe}px`,minHeight:"4px"},title:`${B.hour}: ${_t(B.sales,(t==null?void 0:t.currency)||"USD")}`}):a.jsx("div",{className:"relative w-full h-full",children:a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[de>0&&a.jsx("line",{x1:"0",y1:`${100-q[de-1].sales/xe*100}`,x2:"100",y2:`${100-B.sales/xe*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),a.jsx("circle",{cx:"100",cy:`${100-B.sales/xe*100}`,r:"2",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_t(B.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:B.hour})]},de)})}),a.jsx("div",{className:"mt-3 text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:_t(q.reduce((B,de)=>B+de.sales,0),(t==null?void 0:t.currency)||"USD")})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),a.jsx(iw,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[ee.map((B,de)=>{const xe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],fe=xe[de%xe.length];return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-4 h-4 ${fe} rounded`}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:B.method})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(B.amount,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B.percentage.toFixed(1),"%  ",B.transactions," txns"]})]})]},B.method)}),ee.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:ee.map((B,de)=>{const xe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],fe=xe[de%xe.length];return a.jsx("div",{className:fe,style:{width:`${B.percentage}%`}},B.method)})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(t==null?void 0:t.is_zatca_enabled)&&J.total>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),a.jsx(Wc,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-48 flex items-end justify-between space-x-2 mb-4",children:J.segments.map(B=>{const de=Math.max(...J.segments.map(fe=>fe.count)),xe=de>0?B.count/de*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${xe}px`,minHeight:"4px",backgroundColor:B.color},title:`${B.status}: ${B.count} (${Math.round(B.percentage)}%)`}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:B.count})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center leading-tight",children:B.status})]},B.status)})}),a.jsx("div",{className:"space-y-2",children:J.segments.map(B=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:B.color}}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:B.status})]}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[B.count," (",Math.round(B.percentage),"%)"]})]},B.status))}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:J.total})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gift Card Usage"}),a.jsx(o4,{className:"w-5 h-5 text-orange-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Redeemed"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:_t(D.giftCardUsage.totalRedeemed,(t==null?void 0:t.currency)||"USD")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:D.giftCardUsage.totalTransactions})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Discount"}),a.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:_t(D.giftCardUsage.averageDiscount,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(D.giftCardUsage.totalTransactions/(se.totalTransactions||1)*100).toFixed(1),"% of all transactions"]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),a.jsx(Ho,{className:"w-5 h-5 text-beveren-600"})]}),pe?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[a.jsx("span",{className:"text-white font-bold text-xl",children:pe.name.split(" ").map(B=>B[0]).join("")}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:""})})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:pe.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[pe.transactions," transactions"]}),a.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:_t(pe.sales,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[se.totalRevenue>0?(pe.sales/se.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Weekly Trend"}),a.jsx(jm,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-24 flex items-end justify-between space-x-1 mb-4",children:D.salesByDay.map((B,de)=>a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${B.sales/Math.max(...D.salesByDay.map(xe=>xe.sales))*60}px`,minHeight:"4px"},title:`${B.day}: ${_t(B.sales,(t==null?void 0:t.currency)||"USD")}`}),a.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-1 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_t(B.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:B.day})]},de))}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Best day: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:"Friday"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),a.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),a.jsxs("div",{className:"space-y-3",children:[ne.map((B,de)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:de+1})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:B.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[B.sales," sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(B.revenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[_t(B.sales>0?B.revenue/B.sales:0,(t==null?void 0:t.currency)||"USD")," avg"]})]})]},B.id)),ne.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),a.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),a.jsxs("div",{className:"space-y-3",children:[he.map(B=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:B.paymentMethod==="Cash"?a.jsx("span",{className:"text-lg",children:""}):a.jsx(gs,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:B.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B.customer,"  ",B.time]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(B.totalAmount,B.currency||(t==null?void 0:t.currency)||"USD")}),a.jsx("div",{className:`text-xs ${B.status==="Completed"?"text-green-600 dark:text-green-400":B.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:B.status})]})]},B.id)),he.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]}),a.jsx(es,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"})}),a.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:a.jsxs("button",{onClick:()=>A(!T),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(qy,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16",children:[T&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 mb-6 sm:mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),a.jsxs("select",{value:f,onChange:B=>h(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Current POS Session"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),a.jsxs("select",{value:p,onChange:B=>b(B.target.value),disabled:!m,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${m?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),G.map(B=>a.jsx("option",{value:B,children:B},B))]}),!m&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),a.jsxs("select",{value:S,onChange:B=>k(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Methods"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{h("today"),b("all"),k("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:_t(se.totalRevenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(qi,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Ll,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:se.totalTransactions}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(qi,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-blue-400",children:"+8.2%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(qd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:_t(se.averageOrderValue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(qi,{className:"w-4 h-4 text-orange-500 mr-1"}),a.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(Wc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:se.totalItems}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(lw,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:a.jsx(nw,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[f==="today"&&q.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>H("bar"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${M==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Bar"}),a.jsx("button",{onClick:()=>H("line"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${M==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Line"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(du,{className:"w-5 h-5 text-gray-400"}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Peak: ",((Z=q.reduce((B,de)=>de.sales>B.sales?de:B,q[0]))==null?void 0:Z.hour)||"N/A"]})]})]})]}),a.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between space-x-1",children:q.map((B,de)=>{const xe=Math.max(...q.map(z=>z.sales)),fe=xe>0?B.sales/xe*180:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[M==="bar"?a.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${fe}px`,minHeight:"4px"},title:`${B.hour}: ${_t(B.sales,(t==null?void 0:t.currency)||"USD")}`}):a.jsx("div",{className:"relative w-full h-full",children:a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[de>0&&a.jsx("line",{x1:"0",y1:`${100-q[de-1].sales/xe*100}`,x2:"100",y2:`${100-B.sales/xe*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),a.jsx("circle",{cx:"100",cy:`${100-B.sales/xe*100}`,r:"3",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_t(B.sales,(t==null?void 0:t.currency)||"USD")})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:B.hour})]},de)})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:_t(q.reduce((B,de)=>B+de.sales,0),(t==null?void 0:t.currency)||"USD")})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),a.jsx(iw,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[ee.map((B,de)=>{const xe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],fe=xe[de%xe.length];return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-4 h-4 ${fe} rounded`}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:B.method})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(B.amount,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B.percentage.toFixed(1),"%  ",B.transactions," txns"]})]})]},B.method)}),ee.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:ee.map((B,de)=>{const xe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],fe=xe[de%xe.length];return a.jsx("div",{className:fe,style:{width:`${B.percentage}%`}},B.method)})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(t==null?void 0:t.is_zatca_enabled)&&J.total>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),a.jsx(Wc,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"h-64 flex items-end justify-between space-x-3 mb-6",children:J.segments.map(B=>{const de=Math.max(...J.segments.map(fe=>fe.count)),xe=de>0?B.count/de*200:4;return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${xe}px`,minHeight:"4px",backgroundColor:B.color},title:`${B.status}: ${B.count} (${Math.round(B.percentage)}%)`}),a.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:B.count})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 text-center leading-tight",children:B.status})]},B.status)})}),a.jsx("div",{className:"space-y-3",children:J.segments.map(B=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:B.color}}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:B.status})]}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[B.count," (",Math.round(B.percentage),"%)"]})]},B.status))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",a.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:J.total})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),a.jsx(Ho,{className:"w-5 h-5 text-beveren-600"})]}),pe?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[a.jsx("span",{className:"text-white font-bold text-xl",children:pe.name.split(" ").map(B=>B[0]).join("")}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs",children:""})})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:pe.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[pe.transactions," transactions"]}),a.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:_t(pe.sales,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[se.totalRevenue>0?(pe.sales/se.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),a.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),a.jsxs("div",{className:"space-y-4",children:[ne.map((B,de)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:de+1})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:B.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[B.sales," sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(B.revenue,(t==null?void 0:t.currency)||"USD")}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[_t(B.sales>0?B.revenue/B.sales:0,(t==null?void 0:t.currency)||"USD")," avg"]})]})]},B.id)),ne.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),a.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),a.jsxs("div",{className:"space-y-4",children:[he.map(B=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:B.paymentMethod==="Cash"?a.jsx("span",{className:"text-lg",children:""}):a.jsx(gs,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:B.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B.customer,"  ",B.time]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:_t(B.totalAmount,B.currency||(t==null?void 0:t.currency)||"USD")}),a.jsx("div",{className:`text-xs ${B.status==="Completed"?"text-green-600 dark:text-green-400":B.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:B.status})]})]},B.id)),he.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]})]})})}function v_(e){const[r,t]=E.useState(null),[n,i]=E.useState(!1),[l,c]=E.useState(null);return E.useEffect(()=>{if(!e)return;Ne(null,null,function*(){var h;i(!0);try{console.log("Fetching invoice details for:",e);const d=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Invoice details response:",{status:d.status,statusText:d.statusText,ok:d.ok}),!d.ok)throw new Error(`HTTP ${d.status}: ${d.statusText}`);const m=yield d.json();if(console.log("Invoice details data:",m),!m.message||!m.message.success)throw new Error(((h=m.message)==null?void 0:h.error)||m.error||"Failed to fetch invoice");t(m.message.data)}catch(d){console.error("Error fetching invoice details:",d),d instanceof Error?c(d.message):c("Unknown error")}finally{i(!1)}})},[e]),{invoice:r,isLoading:n,error:l}}function pu({invoice:e,isOpen:r,onClose:t,onCancel:n}){var m,x,p;const{invoice:i,isLoading:l,error:c}=v_((m=e==null?void 0:e.id)!=null?m:null);if(!r||!e)return null;if(l)return a.jsx("div",{children:"Loading invoice..."});if(c)return a.jsxs("div",{children:["Error loading invoice: ",c]});const f=i||e,h=b=>{switch(b){case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Refunded":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},d=b=>Ne(null,null,function*(){try{const S=yield Rm(b);console.log(S),Ve.success(`Invoice returned: ${S.return_invoice}`)}catch(S){Ve.error(S.message||"Failed to return invoice")}});return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Details"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(f.status)}`,children:f.status})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Wo,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ha,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Kf,{icon:a.jsx(jm,{}),label:"Date & Time",value:`${f.posting_date} at ${f.posting_time}`}),a.jsx(Kf,{icon:a.jsx(Jn,{}),label:"Customer",value:f.customer}),a.jsx(Kf,{icon:a.jsx(Jn,{}),label:"Cashier",value:f.cashier}),a.jsx(Kf,{icon:a.jsx(gs,{}),label:"Payment Method",value:f.paymentMethod})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Items"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item Code"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:f.items.map((b,S)=>{var k,T;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:b.item_name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:b.category})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:a.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-xs font-mono text-gray-800 dark:text-gray-200",children:b.item_code})}),a.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:b.qty}),a.jsxs("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:["$",Number((k=b.rate)!=null?k:0).toFixed(2)]}),a.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["$",Number((T=b.amount)!=null?T:0).toFixed(2)]})]},S)})})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[f.giftCardCode&&a.jsx(dM,{code:f.giftCardCode,discount:f.giftCardDiscount}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Wf,{label:"Subtotal",value:Number((x=f.subtotal)!=null?x:0)}),f.giftCardDiscount>0&&a.jsx(Wf,{label:"Gift Card Discount",value:-f.giftCardDiscount,color:"green"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsx(Wf,{label:"Total",value:Number((p=f.totalAmount)!=null?p:0),bold:!0})}),f.status==="Refunded"&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:a.jsx(Wf,{label:"Refunded Amount",value:f.refundAmount,color:"red",bold:!0})})]})]}),a.jsxs("div",{className:"space-y-3",children:[f.status==="Paid"&&a.jsx(ay,{onClick:()=>d(f.name),icon:a.jsx(Yo,{}),color:"orange",text:"Process Returns"}),f.status==="Pending"&&a.jsx(ay,{onClick:()=>n(f.id),icon:a.jsx(Kc,{}),color:"red",text:"Cancel Order"}),a.jsx(ay,{icon:a.jsx(Wo,{}),text:"Print Receipt"})]}),f.notes&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"Notes"}),a.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:f.notes})]})]})]})})]})]})})}function Kf({icon:e,label:r,value:t}){return a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-gray-400",children:e}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t})]})]})}function Wf({label:e,value:r,color:t,bold:n}){const i=`flex justify-between ${t?`text-${t}-600 dark:text-${t}-400`:""}`,l=n?"font-bold":"font-semibold";return a.jsxs("div",{className:i,children:[a.jsx("span",{className:n?"text-lg font-bold":"",children:e}),a.jsxs("span",{className:l,children:["$",Math.abs(r)]})]})}function dM({code:e,discount:r}){return a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(IE,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Gift Card Applied"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Code"}),a.jsx("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:e})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Discount"}),a.jsxs("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:["-$",r]})]})]})]})}function ay({onClick:e,icon:r,text:t,color:n}){const i=n==="red"?"bg-red-600 hover:bg-red-700":n==="orange"?"bg-orange-600 hover:bg-orange-700":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700";return a.jsxs("button",{onClick:e,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl transition-colors ${i} text-white`,children:[r,a.jsx("span",{children:t})]})}function fM(e,r,t){return Ne(this,null,function*(){const n=window.csrf_token;try{const i=yield fetch("/api/method/klik_pos.api.sales_invoice.returned_qty",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":n},body:JSON.stringify({customer:e,sales_invoice:r,item:t}),credentials:"include"}),l=yield i.json();if(!i.ok)throw new Error(l.message||"Failed to get returned quantity");return{success:!0,data:l.message}}catch(i){return console.error("Error getting returned quantity:",i),{success:!1,error:i.message||"Failed to get returned quantity"}}})}function ny(e,r,t,n){return Ne(this,null,function*(){try{const i=new URLSearchParams(Y(Y(Y({customer:e},r&&{start_date:r}),t&&{end_date:t}),n&&{shipping_address:n})),l=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_customer_invoices_for_return?${i}`),c=yield l.json();if(!l.ok||!c.message.success)throw new Error(c.message.error||"Failed to fetch customer invoices");return{success:!0,data:c.message.data}}catch(i){return console.error("Error fetching customer invoices for return:",i),{success:!1,error:i.message||"Failed to fetch customer invoices"}}})}function hM(e,r,t,n){return Ne(this,null,function*(){const i=window.csrf_token;try{const l=yield fetch("/api/method/klik_pos.api.sales_invoice.create_partial_return",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":i},body:JSON.stringify({invoice_name:e,return_items:r,payment_method:t||"Cash",return_amount:n||0}),credentials:"include"}),c=yield l.json();if(!l.ok)throw new Error(c.message||"Failed to create partial return");const f=c.message||c;if(!f.success)throw new Error(f.message||"Failed to create partial return");return{success:!0,returnInvoice:f.return_invoice,message:f.message}}catch(l){return console.error("Error creating partial return:",l),{success:!1,error:l.message||"Failed to create partial return"}}})}function mM(e){return Ne(this,null,function*(){const r=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.sales_invoice.create_multi_invoice_return",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Frappe-CSRF-Token":r},body:new URLSearchParams({return_data:JSON.stringify(e)}).toString(),credentials:"include"}),n=yield t.json();if(console.log("Multi-invoice return response:",n),!t.ok)throw new Error(n.message||"Failed to create multi-invoice return");const i=n.message||n;if(!i.success)throw new Error(i.message||"Failed to create multi-invoice return");return{success:!0,createdReturns:i.created_returns,message:i.message}}catch(t){return console.error("Error creating multi-invoice return:",t),{success:!1,error:t.message||"Failed to create multi-invoice return"}}})}function o0({invoice:e,isOpen:r,onClose:t,onSuccess:n}){const[i,l]=E.useState([]),[c,f]=E.useState(!1),[h,d]=E.useState(!0),[m,x]=E.useState(0),[p,b]=E.useState(0),{posDetails:S}=un(),k=e&&(e.currency||e.company_currency)||(S==null?void 0:S.currency)||"USD",T=iv(k),{modes:A,isLoading:M}=Am(typeof(S==null?void 0:S.name)=="string"?S.name:""),[H,D]=E.useState(""),[G,V]=E.useState(0);E.useEffect(()=>{r&&e&&se()},[r,e]),E.useEffect(()=>{if(p>0){const le=(S==null?void 0:S.custom_ignore_write_off_on_partial_returns)||!1,pe=i.reduce((Le,Z)=>Le+Z.qty*Z.rate,0),ue=i.reduce((Le,Z)=>Le+(Z.return_qty||0)*Z.rate,0),ne=ue<pe;let he;if(le&&ne)he=ue;else{const Le=pe>0?ue/pe:0;he=p*Le}V(Math.round(he*100)/100)}else{const le=i.reduce((pe,ue)=>pe+(ue.return_qty||0)*ue.rate,0);V(Math.round(le*100)/100)}},[i,p,S==null?void 0:S.custom_ignore_write_off_on_partial_returns]),E.useEffect(()=>{if(A.length>0&&!H){const le=A.find(ne=>ne.default===1),pe=A[0],ue=(le==null?void 0:le.mode_of_payment)||(pe==null?void 0:pe.mode_of_payment)||"";D(ue)}},[A,H]);const se=()=>Ne(null,null,function*(){var le,pe,ue,ne,he,Le,Z;d(!0);try{let B=e;const de=yield s7(e.name||e.id);if(de.success&&de.data)B=de.data.data||de.data,x(B.grand_total||0),b(B.paid_amount||B.grand_total||0);else throw console.error("Failed to fetch invoice details:",de.error),new Error(de.error||"Failed to fetch invoice details from backend");const xe=[],fe=B.items||B.items_list||B.sales_invoice_items||[];if(!Array.isArray(fe))throw console.error("Items is not an array:",fe),new Error("Invoice items not found in expected format");for(const z of fe){const X=yield fM(B.customer,B.name||B.id,z.item_code||z.id),Ae=X.success&&((le=X.data)==null?void 0:le.total_returned_qty)||0,Ye=z.item_code||z.id,ct=z.item_name||z.name,Ze=Number((ue=(pe=z.qty)!=null?pe:z.quantity)!=null?ue:0),mt=Number((he=(ne=z.rate)!=null?ne:z.unitPrice)!=null?he:0),$t=Number((Z=(Le=z.amount)!=null?Le:z.total)!=null?Z:Ze*mt);xe.push({item_code:Ye,item_name:ct,qty:Ze,rate:mt,amount:$t,returned_qty:Ae,available_qty:Math.round((Ze-Ae)*100)/100,return_qty:Math.round((Ze-Ae)*100)/100})}l(xe)}catch(B){console.error("Error initializing return items:",B),Ve.error("Failed to load return data")}finally{d(!1)}}),oe=(le,pe)=>{l(ue=>ue.map(ne=>{if(ne.item_code===le){const he=Math.max(0,Math.min(Math.round(pe*100)/100,ne.available_qty));return je(Y({},ne),{return_qty:he})}return ne}))},q=()=>{l(le=>le.map(pe=>je(Y({},pe),{return_qty:pe.available_qty})))},ie=()=>{l(le=>le.map(pe=>je(Y({},pe),{return_qty:0})))},ee=()=>Ne(null,null,function*(){const le=i.filter(ue=>ue.return_qty&&ue.return_qty>0);if(le.length===0){Ve.error("Please select at least one item to return");return}f(!0);const pe=e.id||e.name;try{const ue={items:le,paymentMethod:H,returnAmount:G},ne=yield hM(pe,le,H,G);ne.success?(Ve.success(`Return created successfully (${H})`),n(ne.returnInvoice),t()):Ve.error(ne.error||"Failed to create return")}catch(ue){console.error("Error creating return:",ue),Ve.error("Failed to create return")}finally{f(!1)}}),ae=i.reduce((le,pe)=>le+(pe.return_qty||0)*pe.rate,0),J=i.some(le=>(le.return_qty||0)>0);return r?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:a.jsx(zl,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Return Items"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invoice: ",(e==null?void 0:e.name)||(e==null?void 0:e.id),"  Customer: ",e==null?void 0:e.customer]})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ha,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading return data..."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:q,className:"px-4 py-2 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/40 transition-colors text-sm font-medium",children:"Return All Available"}),a.jsx("button",{onClick:ie,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Clear All"})]}),a.jsxs("div",{className:"text-right",children:[p>0&&ae!==G?a.jsxs("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Total Return Amount:"}),a.jsx("span",{children:_t(ae,k)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Paid Amount:"}),a.jsx("span",{children:_t(G,k)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-orange-600 dark:text-red-400 font-semibold",children:"Write-off:"}),a.jsx("span",{className:"text-orange-600 dark:text-red-400 font-semibold",children:_t(ae-G,k)})]})]}):a.jsx("div",{className:"text-lg font-bold text-black-600 dark:text-orange-400",children:_t(ae,k)}),p>0&&ae===G&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Customer Paid: ",_t(p,k)]})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sold Qty"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Returned"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Available"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Qty"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:i.map(le=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:a.jsx(mi,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:le.item_name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",le.item_code]})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-900 dark:text-white",children:le.qty}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:le.returned_qty})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:`text-sm font-medium ${le.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:le.available_qty})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>oe(le.item_code,Math.round(((le.return_qty||0)-1)*100)/100),disabled:!le.return_qty||le.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(_m,{className:"w-4 h-4"})}),a.jsx("input",{type:"number",min:"0",max:le.available_qty,value:le.return_qty||0,onChange:pe=>oe(le.item_code,Math.round((parseFloat(pe.target.value)||0)*100)/100),className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",disabled:le.available_qty===0}),a.jsx("button",{onClick:()=>oe(le.item_code,Math.round(((le.return_qty||0)+1)*100)/100),disabled:le.available_qty===0||(le.return_qty||0)>=le.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(Wi,{className:"w-4 h-4"})})]})}),a.jsx("td",{className:"px-4 py-4 text-right text-sm text-gray-900 dark:text-white",children:_t(le.rate,k)}),a.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:_t((le.return_qty||0)*le.rate,k)})]},le.item_code))})]})})}),i.every(le=>le.available_qty===0)&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hd,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Items Available for Return"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"All items from this invoice have already been returned."})]})]})})]})}),J&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Payment Method for Return"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx("select",{value:H,onChange:le=>D(le.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors",disabled:M,children:M?a.jsx("option",{children:"Loading payment methods..."}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:""}),A.map(le=>{const pe=le.mode_of_payment;return a.jsx("option",{value:pe,children:pe},pe)})]})})}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:T}),a.jsx("input",{type:"number",value:G,onChange:le=>{const pe=parseFloat(le.target.value)||0;V(Math.round(pe*100)/100)},step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors text-right text-lg font-semibold",placeholder:"0.00"})]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ko,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{children:[i.filter(le=>(le.return_qty||0)>0).length," item(s) selected for return"]})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),a.jsx("button",{onClick:ee,disabled:!J||c||h,className:`px-6 py-3 rounded-lg font-semibold text-base transition-colors shadow-lg ${J&&!c&&!h?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:c?"Processing Return...":"Process Return"})]})]})]})]})}):null}function gM(){const[e,r]=E.useState(!1),[t,n]=E.useState(null),[i,l]=E.useState(!1);return{createClosingEntry:f=>Ne(null,null,function*(){r(!0),n(null),l(!1);const h=window.csrf_token;try{const d=yield fetch("/api/method/klik_pos.api.pos_entry.create_closing_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":h,Accept:"application/json"},body:JSON.stringify({closing_balance:f}),credentials:"include"});if(console.log("Closing entry response:",{status:d.status,statusText:d.statusText,ok:d.ok}),!d.ok)throw new Error(`HTTP ${d.status}: ${d.statusText}`);const m=yield d.json();if(console.log("Closing entry data:",m),m.message)l(!0);else throw new Error(m._server_messages||"Failed to create closing entry")}catch(d){console.error("Error creating POS Closing Entry:",d),n(d.message||"Unexpected error occurred")}finally{r(!1)}}),isCreating:e,error:t,success:i}}function pM(e,r){const t=E.createContext(r),n=l=>{const d=l,{children:c}=d,f=mr(d,["children"]),h=E.useMemo(()=>f,Object.values(f));return a.jsx(t.Provider,{value:h,children:c})};n.displayName=e+"Provider";function i(l){const c=E.useContext(t);if(c)return c;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[n,i]}function b_(e,r=[]){let t=[];function n(l,c){const f=E.createContext(c),h=t.length;t=[...t,c];const d=x=>{var M;const A=x,{scope:p,children:b}=A,S=mr(A,["scope","children"]),k=((M=p==null?void 0:p[e])==null?void 0:M[h])||f,T=E.useMemo(()=>S,Object.values(S));return a.jsx(k.Provider,{value:T,children:b})};d.displayName=l+"Provider";function m(x,p){var k;const b=((k=p==null?void 0:p[e])==null?void 0:k[h])||f,S=E.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[d,m]}const i=()=>{const l=t.map(c=>E.createContext(c));return function(f){const h=(f==null?void 0:f[e])||l;return E.useMemo(()=>({[`__scope${e}`]:je(Y({},f),{[e]:h})}),[f,h])}};return i.scopeName=e,[n,yM(i,...r)]}function yM(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=n.reduce((f,{useScope:h,scopeName:d})=>{const x=h(l)[`__scope${d}`];return Y(Y({},f),x)},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return t.scopeName=r.scopeName,t}function N3(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function w_(...e){return r=>{let t=!1;const n=e.map(i=>{const l=N3(i,r);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():N3(e[i],null)}}}}function Qi(...e){return E.useCallback(w_(...e),e)}function Ki(e,r,{checkForDefaultPrevented:t=!0}={}){return function(i){if(e==null||e(i),t===!1||!i.defaultPrevented)return r==null?void 0:r(i)}}var l0=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},xM=sN[" useId ".trim().toString()]||(()=>{}),vM=0;function sy(e){const[r,t]=E.useState(xM());return l0(()=>{t(n=>n!=null?n:String(vM++))},[e]),e||(r?`radix-${r}`:"")}var bM=sN[" useInsertionEffect ".trim().toString()]||l0;function wM({prop:e,defaultProp:r,onChange:t=()=>{},caller:n}){const[i,l,c]=jM({defaultProp:r,onChange:t}),f=e!==void 0,h=f?e:i;{const m=E.useRef(e!==void 0);E.useEffect(()=>{const x=m.current;x!==f&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=f},[f,n])}const d=E.useCallback(m=>{var x;if(f){const p=NM(m)?m(e):m;p!==e&&((x=c.current)==null||x.call(c,p))}else l(m)},[f,e,l,c]);return[h,d]}function jM({defaultProp:e,onChange:r}){const[t,n]=E.useState(e),i=E.useRef(t),l=E.useRef(r);return bM(()=>{l.current=r},[r]),E.useEffect(()=>{var c;i.current!==t&&((c=l.current)==null||c.call(l,t),i.current=t)},[t,i]),[t,n,l]}function NM(e){return typeof e=="function"}function j_(e){const r=_M(e),t=E.forwardRef((n,i)=>{const d=n,{children:l}=d,c=mr(d,["children"]),f=E.Children.toArray(l),h=f.find(SM);if(h){const m=h.props.children,x=f.map(p=>p===h?E.Children.count(m)>1?E.Children.only(null):E.isValidElement(m)?m.props.children:null:p);return a.jsx(r,je(Y({},c),{ref:i,children:E.isValidElement(m)?E.cloneElement(m,void 0,x):null}))}return a.jsx(r,je(Y({},c),{ref:i,children:l}))});return t.displayName=`${e}.Slot`,t}function _M(e){const r=E.forwardRef((t,n)=>{const c=t,{children:i}=c,l=mr(c,["children"]);if(E.isValidElement(i)){const f=EM(i),h=CM(l,i.props);return i.type!==E.Fragment&&(h.ref=n?w_(n,f):f),E.cloneElement(i,h)}return E.Children.count(i)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var N_=Symbol("radix.slottable");function kM(e){const r=({children:t})=>a.jsx(a.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=N_,r}function SM(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===N_}function CM(e,r){const t=Y({},r);for(const n in r){const i=e[n],l=r[n];/^on[A-Z]/.test(n)?i&&l?t[n]=(...f)=>{const h=l(...f);return i(...f),h}:i&&(t[n]=i):n==="style"?t[n]=Y(Y({},i),l):n==="className"&&(t[n]=[i,l].filter(Boolean).join(" "))}return Y(Y({},e),t)}function EM(e){var n,i;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var $M=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zi=$M.reduce((e,r)=>{const t=j_(`Primitive.${r}`),n=E.forwardRef((i,l)=>{const d=i,{asChild:c}=d,f=mr(d,["asChild"]),h=c?t:r;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,je(Y({},f),{ref:l}))});return n.displayName=`Primitive.${r}`,je(Y({},e),{[r]:n})},{});function OM(e,r){e&&Dx.flushSync(()=>e.dispatchEvent(r))}function c0(e){const r=E.useRef(e);return E.useEffect(()=>{r.current=e}),E.useMemo(()=>(...t)=>{var n;return(n=r.current)==null?void 0:n.call(r,...t)},[])}function TM(e,r=globalThis==null?void 0:globalThis.document){const t=c0(e);E.useEffect(()=>{const n=i=>{i.key==="Escape"&&t(i)};return r.addEventListener("keydown",n,{capture:!0}),()=>r.removeEventListener("keydown",n,{capture:!0})},[t,r])}var AM="DismissableLayer",vx="dismissableLayer.update",RM="dismissableLayer.pointerDownOutside",PM="dismissableLayer.focusOutside",_3,__=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),k_=E.forwardRef((e,r)=>{var oe;const se=e,{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:f}=se,h=mr(se,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),d=E.useContext(__),[m,x]=E.useState(null),p=(oe=m==null?void 0:m.ownerDocument)!=null?oe:globalThis==null?void 0:globalThis.document,[,b]=E.useState({}),S=Qi(r,q=>x(q)),k=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=k.indexOf(T),M=m?k.indexOf(m):-1,H=d.layersWithOutsidePointerEventsDisabled.size>0,D=M>=A,G=IM(q=>{const ie=q.target,ee=[...d.branches].some(ae=>ae.contains(ie));!D||ee||(i==null||i(q),c==null||c(q),q.defaultPrevented||f==null||f())},p),V=LM(q=>{const ie=q.target;[...d.branches].some(ae=>ae.contains(ie))||(l==null||l(q),c==null||c(q),q.defaultPrevented||f==null||f())},p);return TM(q=>{M===d.layers.size-1&&(n==null||n(q),!q.defaultPrevented&&f&&(q.preventDefault(),f()))},p),E.useEffect(()=>{if(m)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(_3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),k3(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=_3)}},[m,p,t,d]),E.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),k3())},[m,d]),E.useEffect(()=>{const q=()=>b({});return document.addEventListener(vx,q),()=>document.removeEventListener(vx,q)},[]),a.jsx(Zi.div,je(Y({},h),{ref:S,style:Y({pointerEvents:H?D?"auto":"none":void 0},e.style),onFocusCapture:Ki(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Ki(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ki(e.onPointerDownCapture,G.onPointerDownCapture)}))});k_.displayName=AM;var MM="DismissableLayerBranch",DM=E.forwardRef((e,r)=>{const t=E.useContext(__),n=E.useRef(null),i=Qi(r,n);return E.useEffect(()=>{const l=n.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),a.jsx(Zi.div,je(Y({},e),{ref:i}))});DM.displayName=MM;function IM(e,r=globalThis==null?void 0:globalThis.document){const t=c0(e),n=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const l=f=>{if(f.target&&!n.current){let h=function(){S_(RM,t,d,{discrete:!0})};const d={originalEvent:f};f.pointerType==="touch"?(r.removeEventListener("click",i.current),i.current=h,r.addEventListener("click",i.current,{once:!0})):h()}else r.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",l),r.removeEventListener("click",i.current)}},[r,t]),{onPointerDownCapture:()=>n.current=!0}}function LM(e,r=globalThis==null?void 0:globalThis.document){const t=c0(e),n=E.useRef(!1);return E.useEffect(()=>{const i=l=>{l.target&&!n.current&&S_(PM,t,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",i),()=>r.removeEventListener("focusin",i)},[r,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function k3(){const e=new CustomEvent(vx);document.dispatchEvent(e)}function S_(e,r,t,{discrete:n}){const i=t.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&i.addEventListener(e,r,{once:!0}),n?OM(i,l):i.dispatchEvent(l)}var iy="focusScope.autoFocusOnMount",oy="focusScope.autoFocusOnUnmount",S3={bubbles:!1,cancelable:!0},UM="FocusScope",C_=E.forwardRef((e,r)=>{const k=e,{loop:t=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:l}=k,c=mr(k,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[f,h]=E.useState(null),d=c0(i),m=c0(l),x=E.useRef(null),p=Qi(r,T=>h(T)),b=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let T=function(D){if(b.paused||!f)return;const G=D.target;f.contains(G)?x.current=G:Ro(x.current,{select:!0})},A=function(D){if(b.paused||!f)return;const G=D.relatedTarget;G!==null&&(f.contains(G)||Ro(x.current,{select:!0}))},M=function(D){if(document.activeElement===document.body)for(const V of D)V.removedNodes.length>0&&Ro(f)};document.addEventListener("focusin",T),document.addEventListener("focusout",A);const H=new MutationObserver(M);return f&&H.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",A),H.disconnect()}}},[n,f,b.paused]),E.useEffect(()=>{if(f){E3.add(b);const T=document.activeElement;if(!f.contains(T)){const M=new CustomEvent(iy,S3);f.addEventListener(iy,d),f.dispatchEvent(M),M.defaultPrevented||(FM(GM(E_(f)),{select:!0}),document.activeElement===T&&Ro(f))}return()=>{f.removeEventListener(iy,d),setTimeout(()=>{const M=new CustomEvent(oy,S3);f.addEventListener(oy,m),f.dispatchEvent(M),M.defaultPrevented||Ro(T!=null?T:document.body,{select:!0}),f.removeEventListener(oy,m),E3.remove(b)},0)}}},[f,d,m,b]);const S=E.useCallback(T=>{if(!t&&!n||b.paused)return;const A=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,M=document.activeElement;if(A&&M){const H=T.currentTarget,[D,G]=BM(H);D&&G?!T.shiftKey&&M===G?(T.preventDefault(),t&&Ro(D,{select:!0})):T.shiftKey&&M===D&&(T.preventDefault(),t&&Ro(G,{select:!0})):M===H&&T.preventDefault()}},[t,n,b.paused]);return a.jsx(Zi.div,je(Y({tabIndex:-1},c),{ref:p,onKeyDown:S}))});C_.displayName=UM;function FM(e,{select:r=!1}={}){const t=document.activeElement;for(const n of e)if(Ro(n,{select:r}),document.activeElement!==t)return}function BM(e){const r=E_(e),t=C3(r,e),n=C3(r.reverse(),e);return[t,n]}function E_(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function C3(e,r){for(const t of e)if(!zM(t,{upTo:r}))return t}function zM(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qM(e){return e instanceof HTMLInputElement&&"select"in e}function Ro(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&qM(e)&&r&&e.select()}}var E3=HM();function HM(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=$3(e,r),e.unshift(r)},remove(r){var t;e=$3(e,r),(t=e[0])==null||t.resume()}}}function $3(e,r){const t=[...e],n=t.indexOf(r);return n!==-1&&t.splice(n,1),t}function GM(e){return e.filter(r=>r.tagName!=="A")}var VM="Portal",$_=E.forwardRef((e,r)=>{var h;const f=e,{container:t}=f,n=mr(f,["container"]),[i,l]=E.useState(!1);l0(()=>l(!0),[]);const c=t||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?_C.createPortal(a.jsx(Zi.div,je(Y({},n),{ref:r})),c):null});$_.displayName=VM;function KM(e,r){return E.useReducer((t,n)=>{const i=r[t][n];return i!=null?i:t},e)}var Bm=e=>{const{present:r,children:t}=e,n=WM(r),i=typeof t=="function"?t({present:n.isPresent}):E.Children.only(t),l=Qi(n.ref,YM(i));return typeof t=="function"||n.isPresent?E.cloneElement(i,{ref:l}):null};Bm.displayName="Presence";function WM(e){const[r,t]=E.useState(),n=E.useRef(null),i=E.useRef(e),l=E.useRef("none"),c=e?"mounted":"unmounted",[f,h]=KM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=Yf(n.current);l.current=f==="mounted"?d:"none"},[f]),l0(()=>{const d=n.current,m=i.current;if(m!==e){const p=l.current,b=Yf(d);e?h("MOUNT"):b==="none"||(d==null?void 0:d.display)==="none"?h("UNMOUNT"):h(m&&p!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),l0(()=>{var d;if(r){let m;const x=(d=r.ownerDocument.defaultView)!=null?d:window,p=S=>{const T=Yf(n.current).includes(CSS.escape(S.animationName));if(S.target===r&&T&&(h("ANIMATION_END"),!i.current)){const A=r.style.animationFillMode;r.style.animationFillMode="forwards",m=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=A)})}},b=S=>{S.target===r&&(l.current=Yf(n.current))};return r.addEventListener("animationstart",b),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{x.clearTimeout(m),r.removeEventListener("animationstart",b),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[r,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:E.useCallback(d=>{n.current=d?getComputedStyle(d):null,t(d)},[])}}function Yf(e){return(e==null?void 0:e.animationName)||"none"}function YM(e){var n,i;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var ly=0;function XM(){E.useEffect(()=>{var r,t;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(r=e[0])!=null?r:O3()),document.body.insertAdjacentElement("beforeend",(t=e[1])!=null?t:O3()),ly++,()=>{ly===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),ly--}},[])}function O3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var di=function(){return di=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},di.apply(this,arguments)};function O_(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function QM(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,l;n<i;n++)(l||!(n in r))&&(l||(l=Array.prototype.slice.call(r,0,n)),l[n]=r[n]);return e.concat(l||Array.prototype.slice.call(r))}var Yh="right-scroll-bar-position",Xh="width-before-scroll-bar",ZM="with-scroll-bars-hidden",JM="--removed-body-scroll-bar-size";function cy(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function eD(e,r){var t=E.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(n){var i=t.value;i!==n&&(t.value=n,t.callback(n,i))}}}})[0];return t.callback=r,t.facade}var tD=typeof window!="undefined"?E.useLayoutEffect:E.useEffect,T3=new WeakMap;function rD(e,r){var t=eD(null,function(n){return e.forEach(function(i){return cy(i,n)})});return tD(function(){var n=T3.get(t);if(n){var i=new Set(n),l=new Set(e),c=t.current;i.forEach(function(f){l.has(f)||cy(f,null)}),l.forEach(function(f){i.has(f)||cy(f,c)})}T3.set(t,e)},[e]),t}function aD(e){return e}function nD(e,r){r===void 0&&(r=aD);var t=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(l){var c=r(l,n);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(n=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){n=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var h=function(){var m=c;c=[],m.forEach(l)},d=function(){return Promise.resolve().then(h)};d(),t={push:function(m){c.push(m),d()},filter:function(m){return c=c.filter(m),t}}}};return i}function sD(e){e===void 0&&(e={});var r=nD(null);return r.options=di({async:!0,ssr:!1},e),r}var T_=function(e){var r=e.sideCar,t=O_(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,di({},t))};T_.isSideCarExport=!0;function iD(e,r){return e.useMedium(r),T_}var A_=sD(),uy=function(){},zm=E.forwardRef(function(e,r){var t=E.useRef(null),n=E.useState({onScrollCapture:uy,onWheelCapture:uy,onTouchMoveCapture:uy}),i=n[0],l=n[1],c=e.forwardProps,f=e.children,h=e.className,d=e.removeScrollBar,m=e.enabled,x=e.shards,p=e.sideCar,b=e.noRelative,S=e.noIsolation,k=e.inert,T=e.allowPinchZoom,A=e.as,M=A===void 0?"div":A,H=e.gapMode,D=O_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=p,V=rD([t,r]),se=di(di({},D),i);return E.createElement(E.Fragment,null,m&&E.createElement(G,{sideCar:A_,removeScrollBar:d,shards:x,noRelative:b,noIsolation:S,inert:k,setCallbacks:l,allowPinchZoom:!!T,lockRef:t,gapMode:H}),c?E.cloneElement(E.Children.only(f),di(di({},se),{ref:V})):E.createElement(M,di({},se,{className:h,ref:V}),f))});zm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zm.classNames={fullWidth:Xh,zeroRight:Yh};var oD=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function lD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=oD();return r&&e.setAttribute("nonce",r),e}function cD(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function uD(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var dD=function(){var e=0,r=null;return{add:function(t){e==0&&(r=lD())&&(cD(r,t),uD(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},fD=function(){var e=dD();return function(r,t){E.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},R_=function(){var e=fD(),r=function(t){var n=t.styles,i=t.dynamic;return e(n,i),null};return r},hD={left:0,top:0,right:0,gap:0},dy=function(e){return parseInt(e||"",10)||0},mD=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],n=r[e==="padding"?"paddingTop":"marginTop"],i=r[e==="padding"?"paddingRight":"marginRight"];return[dy(t),dy(n),dy(i)]},gD=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return hD;var r=mD(e),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-t+r[2]-r[0])}},pD=R_(),tu="data-scroll-locked",yD=function(e,r,t,n){var i=e.left,l=e.top,c=e.right,f=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(ZM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(f,"px ").concat(n,`;
  }
  body[`).concat(tu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yh,` {
    right: `).concat(f,"px ").concat(n,`;
  }
  
  .`).concat(Xh,` {
    margin-right: `).concat(f,"px ").concat(n,`;
  }
  
  .`).concat(Yh," .").concat(Yh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xh," .").concat(Xh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(tu,`] {
    `).concat(JM,": ").concat(f,`px;
  }
`)},A3=function(){var e=parseInt(document.body.getAttribute(tu)||"0",10);return isFinite(e)?e:0},xD=function(){E.useEffect(function(){return document.body.setAttribute(tu,(A3()+1).toString()),function(){var e=A3()-1;e<=0?document.body.removeAttribute(tu):document.body.setAttribute(tu,e.toString())}},[])},vD=function(e){var r=e.noRelative,t=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;xD();var l=E.useMemo(function(){return gD(i)},[i]);return E.createElement(pD,{styles:yD(l,!r,i,t?"":"!important")})},bx=!1;if(typeof window!="undefined")try{var Xf=Object.defineProperty({},"passive",{get:function(){return bx=!0,!0}});window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch(e){bx=!1}var Lc=bx?{passive:!1}:!1,bD=function(e){return e.tagName==="TEXTAREA"},P_=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!bD(e)&&t[r]==="visible")},wD=function(e){return P_(e,"overflowY")},jD=function(e){return P_(e,"overflowX")},R3=function(e,r){var t=r.ownerDocument,n=r;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var i=M_(e,n);if(i){var l=D_(e,n),c=l[1],f=l[2];if(c>f)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},ND=function(e){var r=e.scrollTop,t=e.scrollHeight,n=e.clientHeight;return[r,t,n]},_D=function(e){var r=e.scrollLeft,t=e.scrollWidth,n=e.clientWidth;return[r,t,n]},M_=function(e,r){return e==="v"?wD(r):jD(r)},D_=function(e,r){return e==="v"?ND(r):_D(r)},kD=function(e,r){return e==="h"&&r==="rtl"?-1:1},SD=function(e,r,t,n,i){var l=kD(e,window.getComputedStyle(r).direction),c=l*n,f=t.target,h=r.contains(f),d=!1,m=c>0,x=0,p=0;do{if(!f)break;var b=D_(e,f),S=b[0],k=b[1],T=b[2],A=k-T-l*S;(S||A)&&M_(e,f)&&(x+=A,p+=S);var M=f.parentNode;f=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&f!==document.body||h&&(r.contains(f)||r===f));return(m&&Math.abs(x)<1||!m&&Math.abs(p)<1)&&(d=!0),d},Qf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P3=function(e){return[e.deltaX,e.deltaY]},M3=function(e){return e&&"current"in e?e.current:e},CD=function(e,r){return e[0]===r[0]&&e[1]===r[1]},ED=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$D=0,Uc=[];function OD(e){var r=E.useRef([]),t=E.useRef([0,0]),n=E.useRef(),i=E.useState($D++)[0],l=E.useState(R_)[0],c=E.useRef(e);E.useEffect(function(){c.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var k=QM([e.lockRef.current],(e.shards||[]).map(M3),!0).filter(Boolean);return k.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var f=E.useCallback(function(k,T){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!c.current.allowPinchZoom;var A=Qf(k),M=t.current,H="deltaX"in k?k.deltaX:M[0]-A[0],D="deltaY"in k?k.deltaY:M[1]-A[1],G,V=k.target,se=Math.abs(H)>Math.abs(D)?"h":"v";if("touches"in k&&se==="h"&&V.type==="range")return!1;var oe=R3(se,V);if(!oe)return!0;if(oe?G=se:(G=se==="v"?"h":"v",oe=R3(se,V)),!oe)return!1;if(!n.current&&"changedTouches"in k&&(H||D)&&(n.current=G),!G)return!0;var q=n.current||G;return SD(q,T,k,q==="h"?H:D)},[]),h=E.useCallback(function(k){var T=k;if(!(!Uc.length||Uc[Uc.length-1]!==l)){var A="deltaY"in T?P3(T):Qf(T),M=r.current.filter(function(G){return G.name===T.type&&(G.target===T.target||T.target===G.shadowParent)&&CD(G.delta,A)})[0];if(M&&M.should){T.cancelable&&T.preventDefault();return}if(!M){var H=(c.current.shards||[]).map(M3).filter(Boolean).filter(function(G){return G.contains(T.target)}),D=H.length>0?f(T,H[0]):!c.current.noIsolation;D&&T.cancelable&&T.preventDefault()}}},[]),d=E.useCallback(function(k,T,A,M){var H={name:k,delta:T,target:A,should:M,shadowParent:TD(A)};r.current.push(H),setTimeout(function(){r.current=r.current.filter(function(D){return D!==H})},1)},[]),m=E.useCallback(function(k){t.current=Qf(k),n.current=void 0},[]),x=E.useCallback(function(k){d(k.type,P3(k),k.target,f(k,e.lockRef.current))},[]),p=E.useCallback(function(k){d(k.type,Qf(k),k.target,f(k,e.lockRef.current))},[]);E.useEffect(function(){return Uc.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:p}),document.addEventListener("wheel",h,Lc),document.addEventListener("touchmove",h,Lc),document.addEventListener("touchstart",m,Lc),function(){Uc=Uc.filter(function(k){return k!==l}),document.removeEventListener("wheel",h,Lc),document.removeEventListener("touchmove",h,Lc),document.removeEventListener("touchstart",m,Lc)}},[]);var b=e.removeScrollBar,S=e.inert;return E.createElement(E.Fragment,null,S?E.createElement(l,{styles:ED(i)}):null,b?E.createElement(vD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function TD(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const AD=iD(A_,OD);var I_=E.forwardRef(function(e,r){return E.createElement(zm,di({},e,{ref:r,sideCar:AD}))});I_.classNames=zm.classNames;var RD=function(e){if(typeof document=="undefined")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Fc=new WeakMap,Zf=new WeakMap,Jf={},fy=0,L_=function(e){return e&&(e.host||L_(e.parentNode))},PD=function(e,r){return r.map(function(t){if(e.contains(t))return t;var n=L_(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},MD=function(e,r,t,n){var i=PD(r,Array.isArray(e)?e:[e]);Jf[t]||(Jf[t]=new WeakMap);var l=Jf[t],c=[],f=new Set,h=new Set(i),d=function(x){!x||f.has(x)||(f.add(x),d(x.parentNode))};i.forEach(d);var m=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(p){if(f.has(p))m(p);else try{var b=p.getAttribute(n),S=b!==null&&b!=="false",k=(Fc.get(p)||0)+1,T=(l.get(p)||0)+1;Fc.set(p,k),l.set(p,T),c.push(p),k===1&&S&&Zf.set(p,!0),T===1&&p.setAttribute(t,"true"),S||p.setAttribute(n,"true")}catch(A){console.error("aria-hidden: cannot operate on ",p,A)}})};return m(r),f.clear(),fy++,function(){c.forEach(function(x){var p=Fc.get(x)-1,b=l.get(x)-1;Fc.set(x,p),l.set(x,b),p||(Zf.has(x)||x.removeAttribute(n),Zf.delete(x)),b||x.removeAttribute(t)}),fy--,fy||(Fc=new WeakMap,Fc=new WeakMap,Zf=new WeakMap,Jf={})}},DD=function(e,r,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=RD(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),MD(n,i,t,"aria-hidden")):function(){return null}},qm="Dialog",[U_,F_]=b_(qm),[ID,Ks]=U_(qm),B_=e=>{const{__scopeDialog:r,children:t,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,f=E.useRef(null),h=E.useRef(null),[d,m]=wM({prop:n,defaultProp:i!=null?i:!1,onChange:l,caller:qm});return a.jsx(ID,{scope:r,triggerRef:f,contentRef:h,contentId:sy(),titleId:sy(),descriptionId:sy(),open:d,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(x=>!x),[m]),modal:c,children:t})};B_.displayName=qm;var z_="DialogTrigger",q_=E.forwardRef((e,r)=>{const c=e,{__scopeDialog:t}=c,n=mr(c,["__scopeDialog"]),i=Ks(z_,t),l=Qi(r,i.triggerRef);return a.jsx(Zi.button,je(Y({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uv(i.open)},n),{ref:l,onClick:Ki(e.onClick,i.onOpenToggle)}))});q_.displayName=z_;var lv="DialogPortal",[LD,H_]=U_(lv,{forceMount:void 0}),G_=e=>{const{__scopeDialog:r,forceMount:t,children:n,container:i}=e,l=Ks(lv,r);return a.jsx(LD,{scope:r,forceMount:t,children:E.Children.map(n,c=>a.jsx(Bm,{present:t||l.open,children:a.jsx($_,{asChild:!0,container:i,children:c})}))})};G_.displayName=lv;var dm="DialogOverlay",V_=E.forwardRef((e,r)=>{const t=H_(dm,e.__scopeDialog),c=e,{forceMount:n=t.forceMount}=c,i=mr(c,["forceMount"]),l=Ks(dm,e.__scopeDialog);return l.modal?a.jsx(Bm,{present:n||l.open,children:a.jsx(FD,je(Y({},i),{ref:r}))}):null});V_.displayName=dm;var UD=j_("DialogOverlay.RemoveScroll"),FD=E.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,n=mr(l,["__scopeDialog"]),i=Ks(dm,t);return a.jsx(I_,{as:UD,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Zi.div,je(Y({"data-state":uv(i.open)},n),{ref:r,style:Y({pointerEvents:"auto"},n.style)}))})}),Vl="DialogContent",K_=E.forwardRef((e,r)=>{const t=H_(Vl,e.__scopeDialog),c=e,{forceMount:n=t.forceMount}=c,i=mr(c,["forceMount"]),l=Ks(Vl,e.__scopeDialog);return a.jsx(Bm,{present:n||l.open,children:l.modal?a.jsx(BD,je(Y({},i),{ref:r})):a.jsx(zD,je(Y({},i),{ref:r}))})});K_.displayName=Vl;var BD=E.forwardRef((e,r)=>{const t=Ks(Vl,e.__scopeDialog),n=E.useRef(null),i=Qi(r,t.contentRef,n);return E.useEffect(()=>{const l=n.current;if(l)return DD(l)},[]),a.jsx(W_,je(Y({},e),{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ki(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ki(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&l.preventDefault()}),onFocusOutside:Ki(e.onFocusOutside,l=>l.preventDefault())}))}),zD=E.forwardRef((e,r)=>{const t=Ks(Vl,e.__scopeDialog),n=E.useRef(!1),i=E.useRef(!1);return a.jsx(W_,je(Y({},e),{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,f;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(f=t.triggerRef.current)==null||f.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var h,d;(h=e.onInteractOutside)==null||h.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((d=t.triggerRef.current)==null?void 0:d.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}}))}),W_=E.forwardRef((e,r)=>{const m=e,{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l}=m,c=mr(m,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),f=Ks(Vl,t),h=E.useRef(null),d=Qi(r,h);return XM(),a.jsxs(a.Fragment,{children:[a.jsx(C_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(k_,je(Y({role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":uv(f.open)},c),{ref:d,onDismiss:()=>f.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(HD,{titleId:f.titleId}),a.jsx(VD,{contentRef:h,descriptionId:f.descriptionId})]})]})}),cv="DialogTitle",Y_=E.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,n=mr(l,["__scopeDialog"]),i=Ks(cv,t);return a.jsx(Zi.h2,je(Y({id:i.titleId},n),{ref:r}))});Y_.displayName=cv;var X_="DialogDescription",Q_=E.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,n=mr(l,["__scopeDialog"]),i=Ks(X_,t);return a.jsx(Zi.p,je(Y({id:i.descriptionId},n),{ref:r}))});Q_.displayName=X_;var Z_="DialogClose",J_=E.forwardRef((e,r)=>{const l=e,{__scopeDialog:t}=l,n=mr(l,["__scopeDialog"]),i=Ks(Z_,t);return a.jsx(Zi.button,je(Y({type:"button"},n),{ref:r,onClick:Ki(e.onClick,()=>i.onOpenChange(!1))}))});J_.displayName=Z_;function uv(e){return e?"open":"closed"}var ek="DialogTitleWarning",[qD,tk]=pM(ek,{contentName:Vl,titleName:cv,docsSlug:"dialog"}),HD=({titleId:e})=>{const r=tk(ek),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},GD="DialogDescriptionWarning",VD=({contentRef:e,descriptionId:r})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tk(GD).contentName}}.`;return E.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");r&&i&&(document.getElementById(r)||console.warn(n))},[n,e,r]),null},KD=B_,WD=q_,YD=G_,XD=V_,QD=K_,ZD=Y_,JD=Q_,rk=J_,ak="AlertDialog",[eI,rF]=b_(ak,[F_]),Ji=F_(),nk=e=>{const i=e,{__scopeAlertDialog:r}=i,t=mr(i,["__scopeAlertDialog"]),n=Ji(r);return a.jsx(KD,je(Y(Y({},n),t),{modal:!0}))};nk.displayName=ak;var tI="AlertDialogTrigger",rI=E.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,n=mr(l,["__scopeAlertDialog"]),i=Ji(t);return a.jsx(WD,je(Y(Y({},i),n),{ref:r}))});rI.displayName=tI;var aI="AlertDialogPortal",sk=e=>{const i=e,{__scopeAlertDialog:r}=i,t=mr(i,["__scopeAlertDialog"]),n=Ji(r);return a.jsx(YD,Y(Y({},n),t))};sk.displayName=aI;var nI="AlertDialogOverlay",ik=E.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,n=mr(l,["__scopeAlertDialog"]),i=Ji(t);return a.jsx(XD,je(Y(Y({},i),n),{ref:r}))});ik.displayName=nI;var ru="AlertDialogContent",[sI,iI]=eI(ru),oI=kM("AlertDialogContent"),ok=E.forwardRef((e,r)=>{const d=e,{__scopeAlertDialog:t,children:n}=d,i=mr(d,["__scopeAlertDialog","children"]),l=Ji(t),c=E.useRef(null),f=Qi(r,c),h=E.useRef(null);return a.jsx(qD,{contentName:ru,titleName:lk,docsSlug:"alert-dialog",children:a.jsx(sI,{scope:t,cancelRef:h,children:a.jsxs(QD,je(Y(Y({role:"alertdialog"},l),i),{ref:f,onOpenAutoFocus:Ki(i.onOpenAutoFocus,m=>{var x;m.preventDefault(),(x=h.current)==null||x.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[a.jsx(oI,{children:n}),a.jsx(cI,{contentRef:c})]}))})})});ok.displayName=ru;var lk="AlertDialogTitle",ck=E.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,n=mr(l,["__scopeAlertDialog"]),i=Ji(t);return a.jsx(ZD,je(Y(Y({},i),n),{ref:r}))});ck.displayName=lk;var uk="AlertDialogDescription",dk=E.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,n=mr(l,["__scopeAlertDialog"]),i=Ji(t);return a.jsx(JD,je(Y(Y({},i),n),{ref:r}))});dk.displayName=uk;var lI="AlertDialogAction",fk=E.forwardRef((e,r)=>{const l=e,{__scopeAlertDialog:t}=l,n=mr(l,["__scopeAlertDialog"]),i=Ji(t);return a.jsx(rk,je(Y(Y({},i),n),{ref:r}))});fk.displayName=lI;var hk="AlertDialogCancel",mk=E.forwardRef((e,r)=>{const f=e,{__scopeAlertDialog:t}=f,n=mr(f,["__scopeAlertDialog"]),{cancelRef:i}=iI(hk,t),l=Ji(t),c=Qi(r,i);return a.jsx(rk,je(Y(Y({},l),n),{ref:c}))});mk.displayName=hk;var cI=({contentRef:e})=>{const r=`\`${ru}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ru}\` by passing a \`${uk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ru}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},uI=nk,dI=sk,fI=ik,hI=ok,mI=fk,gI=mk,pI=ck,yI=dk;function gk(e){var r,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(t=gk(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function pk(){for(var e,r,t=0,n="",i=arguments.length;t<i;t++)(e=arguments[t])&&(r=gk(e))&&(n&&(n+=" "),n+=r);return n}const dv="-",xI=e=>{const r=bI(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const f=c.split(dv);return f[0]===""&&f.length!==1&&f.shift(),yk(f,r)||vI(c)},getConflictingClassGroupIds:(c,f)=>{const h=t[c]||[];return f&&n[c]?[...h,...n[c]]:h}}},yk=(e,r)=>{var c;if(e.length===0)return r.classGroupId;const t=e[0],n=r.nextPart.get(t),i=n?yk(e.slice(1),n):void 0;if(i)return i;if(r.validators.length===0)return;const l=e.join(dv);return(c=r.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},D3=/^\[(.+)\]$/,vI=e=>{if(D3.test(e)){const r=D3.exec(e)[1],t=r==null?void 0:r.substring(0,r.indexOf(":"));if(t)return"arbitrary.."+t}},bI=e=>{const{theme:r,classGroups:t}=e,n={nextPart:new Map,validators:[]};for(const i in t)wx(t[i],n,i,r);return n},wx=(e,r,t,n)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?r:I3(r,i);l.classGroupId=t;return}if(typeof i=="function"){if(wI(i)){wx(i(n),r,t,n);return}r.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([l,c])=>{wx(c,I3(r,l),t,n)})})},I3=(e,r)=>{let t=e;return r.split(dv).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},wI=e=>e.isThemeGetter,jI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=new Map,n=new Map;const i=(l,c)=>{t.set(l,c),r++,r>e&&(r=0,n=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){t.has(l)?t.set(l,c):i(l,c)}}},jx="!",Nx=":",NI=Nx.length,_I=e=>{const{prefix:r,experimentalParseClassName:t}=e;let n=i=>{const l=[];let c=0,f=0,h=0,d;for(let S=0;S<i.length;S++){let k=i[S];if(c===0&&f===0){if(k===Nx){l.push(i.slice(h,S)),h=S+NI;continue}if(k==="/"){d=S;continue}}k==="["?c++:k==="]"?c--:k==="("?f++:k===")"&&f--}const m=l.length===0?i:i.substring(h),x=kI(m),p=x!==m,b=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:b}};if(r){const i=r+Nx,l=n;n=c=>c.startsWith(i)?l(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const i=n;n=l=>t({className:l,parseClassName:i})}return n},kI=e=>e.endsWith(jx)?e.substring(0,e.length-1):e.startsWith(jx)?e.substring(1):e,SI=e=>{const r=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let l=[];return n.forEach(c=>{c[0]==="["||r[c]?(i.push(...l.sort(),c),l=[]):l.push(c)}),i.push(...l.sort()),i}},CI=e=>Y({cache:jI(e.cacheSize),parseClassName:_I(e),sortModifiers:SI(e)},xI(e)),EI=/\s+/,$I=(e,r)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:l}=r,c=[],f=e.trim().split(EI);let h="";for(let d=f.length-1;d>=0;d-=1){const m=f[d],{isExternal:x,modifiers:p,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:k}=t(m);if(x){h=m+(h.length>0?" "+h:h);continue}let T=!!k,A=n(T?S.substring(0,k):S);if(!A){if(!T){h=m+(h.length>0?" "+h:h);continue}if(A=n(S),!A){h=m+(h.length>0?" "+h:h);continue}T=!1}const M=l(p).join(":"),H=b?M+jx:M,D=H+A;if(c.includes(D))continue;c.push(D);const G=i(A,T);for(let V=0;V<G.length;++V){const se=G[V];c.push(H+se)}h=m+(h.length>0?" "+h:h)}return h};function OI(){let e=0,r,t,n="";for(;e<arguments.length;)(r=arguments[e++])&&(t=xk(r))&&(n&&(n+=" "),n+=t);return n}const xk=e=>{if(typeof e=="string")return e;let r,t="";for(let n=0;n<e.length;n++)e[n]&&(r=xk(e[n]))&&(t&&(t+=" "),t+=r);return t};function TI(e,...r){let t,n,i,l=c;function c(h){const d=r.reduce((m,x)=>x(m),e());return t=CI(d),n=t.cache.get,i=t.cache.set,l=f,f(h)}function f(h){const d=n(h);if(d)return d;const m=$I(h,t);return i(h,m),m}return function(){return l(OI.apply(null,arguments))}}const Oa=e=>{const r=t=>t[e]||[];return r.isThemeGetter=!0,r},vk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,AI=/^\d+\/\d+$/,RI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,II=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bc=e=>AI.test(e),wr=e=>!!e&&!Number.isNaN(Number(e)),To=e=>!!e&&Number.isInteger(Number(e)),hy=e=>e.endsWith("%")&&wr(e.slice(0,-1)),Fi=e=>RI.test(e),LI=()=>!0,UI=e=>PI.test(e)&&!MI.test(e),wk=()=>!1,FI=e=>DI.test(e),BI=e=>II.test(e),zI=e=>!Mt(e)&&!Dt(e),qI=e=>wu(e,_k,wk),Mt=e=>vk.test(e),_l=e=>wu(e,kk,UI),my=e=>wu(e,WI,wr),L3=e=>wu(e,jk,wk),HI=e=>wu(e,Nk,BI),eh=e=>wu(e,Sk,FI),Dt=e=>bk.test(e),Cd=e=>ju(e,kk),GI=e=>ju(e,YI),U3=e=>ju(e,jk),VI=e=>ju(e,_k),KI=e=>ju(e,Nk),th=e=>ju(e,Sk,!0),wu=(e,r,t)=>{const n=vk.exec(e);return n?n[1]?r(n[1]):t(n[2]):!1},ju=(e,r,t=!1)=>{const n=bk.exec(e);return n?n[1]?r(n[1]):t:!1},jk=e=>e==="position"||e==="percentage",Nk=e=>e==="image"||e==="url",_k=e=>e==="length"||e==="size"||e==="bg-size",kk=e=>e==="length",WI=e=>e==="number",YI=e=>e==="family-name",Sk=e=>e==="shadow",XI=()=>{const e=Oa("color"),r=Oa("font"),t=Oa("text"),n=Oa("font-weight"),i=Oa("tracking"),l=Oa("leading"),c=Oa("breakpoint"),f=Oa("container"),h=Oa("spacing"),d=Oa("radius"),m=Oa("shadow"),x=Oa("inset-shadow"),p=Oa("text-shadow"),b=Oa("drop-shadow"),S=Oa("blur"),k=Oa("perspective"),T=Oa("aspect"),A=Oa("ease"),M=Oa("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],G=()=>[...D(),Dt,Mt],V=()=>["auto","hidden","clip","visible","scroll"],se=()=>["auto","contain","none"],oe=()=>[Dt,Mt,h],q=()=>[Bc,"full","auto",...oe()],ie=()=>[To,"none","subgrid",Dt,Mt],ee=()=>["auto",{span:["full",To,Dt,Mt]},To,Dt,Mt],ae=()=>[To,"auto",Dt,Mt],J=()=>["auto","min","max","fr",Dt,Mt],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],ue=()=>["auto",...oe()],ne=()=>[Bc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...oe()],he=()=>[e,Dt,Mt],Le=()=>[...D(),U3,L3,{position:[Dt,Mt]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",VI,qI,{size:[Dt,Mt]}],de=()=>[hy,Cd,_l],xe=()=>["","none","full",d,Dt,Mt],fe=()=>["",wr,Cd,_l],z=()=>["solid","dashed","dotted","double"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[wr,hy,U3,L3],Ye=()=>["","none",S,Dt,Mt],ct=()=>["none",wr,Dt,Mt],Ze=()=>["none",wr,Dt,Mt],mt=()=>[wr,Dt,Mt],$t=()=>[Bc,"full",...oe()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fi],breakpoint:[Fi],color:[LI],container:[Fi],"drop-shadow":[Fi],ease:["in","out","in-out"],font:[zI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fi],shadow:[Fi],spacing:["px",wr],text:[Fi],"text-shadow":[Fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bc,Mt,Dt,T]}],container:["container"],columns:[{columns:[wr,Mt,Dt,f]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:G()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[To,"auto",Dt,Mt]}],basis:[{basis:[Bc,"full","auto",f,...oe()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wr,Bc,"auto","initial","none",Mt]}],grow:[{grow:["",wr,Dt,Mt]}],shrink:[{shrink:["",wr,Dt,Mt]}],order:[{order:[To,"first","last","none",Dt,Mt]}],"grid-cols":[{"grid-cols":ie()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":ie()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:oe()}],"gap-x":[{"gap-x":oe()}],"gap-y":[{"gap-y":oe()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:oe()}],px:[{px:oe()}],py:[{py:oe()}],ps:[{ps:oe()}],pe:[{pe:oe()}],pt:[{pt:oe()}],pr:[{pr:oe()}],pb:[{pb:oe()}],pl:[{pl:oe()}],m:[{m:ue()}],mx:[{mx:ue()}],my:[{my:ue()}],ms:[{ms:ue()}],me:[{me:ue()}],mt:[{mt:ue()}],mr:[{mr:ue()}],mb:[{mb:ue()}],ml:[{ml:ue()}],"space-x":[{"space-x":oe()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":oe()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[f,"screen",...ne()]}],"min-w":[{"min-w":[f,"screen","none",...ne()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",t,Cd,_l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Dt,my]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hy,Mt]}],"font-family":[{font:[GI,Mt,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Dt,Mt]}],"line-clamp":[{"line-clamp":[wr,"none",Dt,my]}],leading:[{leading:[l,...oe()]}],"list-image":[{"list-image":["none",Dt,Mt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Dt,Mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:he()}],"text-color":[{text:he()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[wr,"from-font","auto",Dt,_l]}],"text-decoration-color":[{decoration:he()}],"underline-offset":[{"underline-offset":[wr,"auto",Dt,Mt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:oe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt,Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt,Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Le()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},To,Dt,Mt],radial:["",Dt,Mt],conic:[To,Dt,Mt]},KI,HI]}],"bg-color":[{bg:he()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:he()}],"gradient-via":[{via:he()}],"gradient-to":[{to:he()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:he()}],"border-color-x":[{"border-x":he()}],"border-color-y":[{"border-y":he()}],"border-color-s":[{"border-s":he()}],"border-color-e":[{"border-e":he()}],"border-color-t":[{"border-t":he()}],"border-color-r":[{"border-r":he()}],"border-color-b":[{"border-b":he()}],"border-color-l":[{"border-l":he()}],"divide-color":[{divide:he()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wr,Dt,Mt]}],"outline-w":[{outline:["",wr,Cd,_l]}],"outline-color":[{outline:he()}],shadow:[{shadow:["","none",m,th,eh]}],"shadow-color":[{shadow:he()}],"inset-shadow":[{"inset-shadow":["none",x,th,eh]}],"inset-shadow-color":[{"inset-shadow":he()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:he()}],"ring-offset-w":[{"ring-offset":[wr,_l]}],"ring-offset-color":[{"ring-offset":he()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":he()}],"text-shadow":[{"text-shadow":["none",p,th,eh]}],"text-shadow-color":[{"text-shadow":he()}],opacity:[{opacity:[wr,Dt,Mt]}],"mix-blend":[{"mix-blend":[...X(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":X()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":he()}],"mask-image-linear-to-color":[{"mask-linear-to":he()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":he()}],"mask-image-t-to-color":[{"mask-t-to":he()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":he()}],"mask-image-r-to-color":[{"mask-r-to":he()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":he()}],"mask-image-b-to-color":[{"mask-b-to":he()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":he()}],"mask-image-l-to-color":[{"mask-l-to":he()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":he()}],"mask-image-x-to-color":[{"mask-x-to":he()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":he()}],"mask-image-y-to-color":[{"mask-y-to":he()}],"mask-image-radial":[{"mask-radial":[Dt,Mt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":he()}],"mask-image-radial-to-color":[{"mask-radial-to":he()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[wr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":he()}],"mask-image-conic-to-color":[{"mask-conic-to":he()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Le()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Dt,Mt]}],filter:[{filter:["","none",Dt,Mt]}],blur:[{blur:Ye()}],brightness:[{brightness:[wr,Dt,Mt]}],contrast:[{contrast:[wr,Dt,Mt]}],"drop-shadow":[{"drop-shadow":["","none",b,th,eh]}],"drop-shadow-color":[{"drop-shadow":he()}],grayscale:[{grayscale:["",wr,Dt,Mt]}],"hue-rotate":[{"hue-rotate":[wr,Dt,Mt]}],invert:[{invert:["",wr,Dt,Mt]}],saturate:[{saturate:[wr,Dt,Mt]}],sepia:[{sepia:["",wr,Dt,Mt]}],"backdrop-filter":[{"backdrop-filter":["","none",Dt,Mt]}],"backdrop-blur":[{"backdrop-blur":Ye()}],"backdrop-brightness":[{"backdrop-brightness":[wr,Dt,Mt]}],"backdrop-contrast":[{"backdrop-contrast":[wr,Dt,Mt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wr,Dt,Mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wr,Dt,Mt]}],"backdrop-invert":[{"backdrop-invert":["",wr,Dt,Mt]}],"backdrop-opacity":[{"backdrop-opacity":[wr,Dt,Mt]}],"backdrop-saturate":[{"backdrop-saturate":[wr,Dt,Mt]}],"backdrop-sepia":[{"backdrop-sepia":["",wr,Dt,Mt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":oe()}],"border-spacing-x":[{"border-spacing-x":oe()}],"border-spacing-y":[{"border-spacing-y":oe()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Dt,Mt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wr,"initial",Dt,Mt]}],ease:[{ease:["linear","initial",A,Dt,Mt]}],delay:[{delay:[wr,Dt,Mt]}],animate:[{animate:["none",M,Dt,Mt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Dt,Mt]}],"perspective-origin":[{"perspective-origin":G()}],rotate:[{rotate:ct()}],"rotate-x":[{"rotate-x":ct()}],"rotate-y":[{"rotate-y":ct()}],"rotate-z":[{"rotate-z":ct()}],scale:[{scale:Ze()}],"scale-x":[{"scale-x":Ze()}],"scale-y":[{"scale-y":Ze()}],"scale-z":[{"scale-z":Ze()}],"scale-3d":["scale-3d"],skew:[{skew:mt()}],"skew-x":[{"skew-x":mt()}],"skew-y":[{"skew-y":mt()}],transform:[{transform:[Dt,Mt,"","none","gpu","cpu"]}],"transform-origin":[{origin:G()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$t()}],"translate-x":[{"translate-x":$t()}],"translate-y":[{"translate-y":$t()}],"translate-z":[{"translate-z":$t()}],"translate-none":["translate-none"],accent:[{accent:he()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:he()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt,Mt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt,Mt]}],fill:[{fill:["none",...he()]}],"stroke-w":[{stroke:[wr,Cd,_l,my]}],stroke:[{stroke:["none",...he()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QI=TI(XI);function el(...e){return QI(pk(e))}const F3=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,B3=pk,ZI=(e,r)=>t=>{var n;if((r==null?void 0:r.variants)==null)return B3(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:l}=r,c=Object.keys(i).map(d=>{const m=t==null?void 0:t[d],x=l==null?void 0:l[d];if(m===null)return null;const p=F3(m)||F3(x);return i[d][p]}),f=t&&Object.entries(t).reduce((d,m)=>{let[x,p]=m;return p===void 0||(d[x]=p),d},{}),h=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((d,m)=>{let S=m,{class:x,className:p}=S,b=mr(S,["class","className"]);return Object.entries(b).every(k=>{let[T,A]=k;return Array.isArray(A)?A.includes(Y(Y({},l),f)[T]):Y(Y({},l),f)[T]===A})?[...d,x,p]:d},[]);return B3(e,c,h,t==null?void 0:t.class,t==null?void 0:t.className)},Ck=ZI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function JI(r){var e=mr(r,[]);return a.jsx(uI,Y({"data-slot":"alert-dialog"},e))}function eL(r){var e=mr(r,[]);return a.jsx(dI,Y({"data-slot":"alert-dialog-portal"},e))}function tL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsx(fI,Y({"data-slot":"alert-dialog-overlay",className:el("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},r))}function rL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsxs(eL,{children:[a.jsx(tL,{}),a.jsx(hI,Y({"data-slot":"alert-dialog-content",className:el("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},r))]})}function aL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsx("div",Y({"data-slot":"alert-dialog-header",className:el("flex flex-col gap-2 text-center sm:text-left",e)},r))}function nL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsx("div",Y({"data-slot":"alert-dialog-footer",className:el("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},r))}function sL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsx(pI,Y({"data-slot":"alert-dialog-title",className:el("text-lg font-semibold",e)},r))}function iL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsx(yI,Y({"data-slot":"alert-dialog-description",className:el("text-muted-foreground text-sm",e)},r))}function oL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsx(mI,Y({className:el(Ck(),e)},r))}function lL(t){var n=t,{className:e}=n,r=mr(n,["className"]);return a.jsx(gI,Y({className:el(Ck({variant:"outline"}),e)},r))}function fv({isOpen:e,onClose:r,onConfirm:t,title:n="Are you sure?",message:i="This action cannot be undone.",confirmText:l="Continue",cancelText:c="Cancel",confirmButtonClass:f="bg-red-600 hover:bg-red-700 text-white"}){return a.jsx(JI,{open:e,onOpenChange:r,children:a.jsxs(rL,{children:[a.jsxs(aL,{children:[a.jsx(sL,{children:n}),a.jsx(iL,{children:i})]}),a.jsxs(nL,{children:[a.jsx(lL,{onClick:r,children:c}),a.jsx(oL,{onClick:t,className:f,children:l})]})]})})}const Hm=()=>new Date,hv=e=>{if(!e)return!1;const r=new Date(e),t=Hm();return r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()&&r.getUTCDate()===t.getUTCDate()},mv=e=>{if(!e)return!1;const r=new Date(e),t=Hm(),n=new Date(t);n.setUTCDate(t.getUTCDate()-t.getUTCDay()),n.setUTCHours(0,0,0,0);const i=new Date(n);return i.setUTCDate(n.getUTCDate()+6),i.setUTCHours(23,59,59,999),r>=n&&r<=i},gv=e=>{if(!e)return!1;const r=new Date(e),t=Hm();return r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()},pv=e=>{if(!e)return!1;const r=new Date(e),t=Hm();return r.getUTCFullYear()===t.getUTCFullYear()};function cL(){const e=fa(),r=bu("(max-width: 1024px)"),[t,n]=E.useState(""),[i,l]=E.useState("all"),[c,f]=E.useState("all"),[h,d]=E.useState("all"),[m]=E.useState(null),[x,p]=E.useState(!1),[b,S]=E.useState(!1),[k,T]=E.useState({}),[A,M]=E.useState(!1),[H,D]=E.useState(null),{createClosingEntry:G,isCreating:V}=gM(),[se,oe]=E.useState(!1),[q,ie]=E.useState(null),{invoices:ee,isLoading:ae,error:J}=ov(),{modes:le,isLoading:pe,error:ue}=Qx(),{posDetails:ne}=un(),he=(ne==null?void 0:ne.custom_hide_expected_amount)||!1,Le=ge=>{if(c==="all")return!0;if(c==="today")return hv(ge);if(c==="yesterday"){const Xe=new Date;Xe.setUTCDate(Xe.getUTCDate()-1);const lt=new Date(ge);return lt.getUTCFullYear()===Xe.getUTCFullYear()&&lt.getUTCMonth()===Xe.getUTCMonth()&&lt.getUTCDate()===Xe.getUTCDate()}return c==="week"?mv(ge):c==="month"?gv(ge):c==="year"?pv(ge):!0},Z=ge=>{const Xe="px-2 py-1 rounded-full text-xs font-medium";switch((ge==null?void 0:ge.toLowerCase())||""){case"paid":return`${Xe} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${Xe} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${Xe} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${Xe} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${Xe} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${Xe} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${Xe} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${Xe} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${Xe} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${Xe} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${Xe} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${Xe} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${Xe} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},B=E.useMemo(()=>ae?[]:J?[]:ee.filter(ge=>{const Xe=t===""||ge.id.toLowerCase().includes(t.toLowerCase())||ge.customer.toLowerCase().includes(t.toLowerCase())||ge.cashier&&ge.cashier.toLowerCase().includes(t.toLowerCase()),lt=i==="all"||ge.status===i,gr=h==="all"||ge.paymentMethod===h,Kt=Le(ge.date),re=!(ne!=null&&ne.name)||ge.posProfile===ne.name,qe=!(ne!=null&&ne.current_opening_entry)||ge.custom_pos_opening_entry&&ge.custom_pos_opening_entry===ne.current_opening_entry;return Xe&&gr&&lt&&Kt&&re&&qe}),[ee,t,i,c,h,ae,J,ne]),de=E.useMemo(()=>{if(!le||le.length===0)return{};const ge=le.reduce((Xe,lt)=>(Xe[lt.name]={name:lt.name,openingAmount:lt.openingAmount||0,amount:0,transactions:0},Xe),{});return B.forEach(Xe=>{if(Xe.payment_methods&&Array.isArray(Xe.payment_methods))Xe.payment_methods.forEach(lt=>{if(ge[lt.mode_of_payment]){const Kt=Xe.status==="Return"?-Math.abs(lt.amount||0):lt.amount||0;ge[lt.mode_of_payment].amount+=Kt,Xe.payment_methods.indexOf(lt)===0&&(ge[lt.mode_of_payment].transactions+=1)}});else if(Xe.paymentMethod&&ge[Xe.paymentMethod]){const gr=Xe.status==="Return"?-Math.abs(Xe.totalAmount||0):Xe.totalAmount||0;ge[Xe.paymentMethod].amount+=gr,ge[Xe.paymentMethod].transactions+=1}}),Object.keys(ge).forEach(Xe=>{ge[Xe].amount+=ge[Xe].openingAmount}),ge},[le,B]),xe=Object.values(de).reduce((ge,Xe)=>ge+Xe.amount,0);if(ae||pe)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices and payment modes..."})]})});if(J)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading data"}),a.jsxs("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:["Invoices: ",J.message]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const fe=ue&&ue.includes("No open POS Opening Entry found"),z=ge=>{e(`/invoice/${ge.id}`)},X=ge=>{if(ge.status!=="Draft"){Ve.error("Only draft invoices can be deleted");return}ie(ge),oe(!0)},Ae=()=>Ne(null,null,function*(){if(q)try{yield Zx(q.id),Ve.success(`Draft invoice ${q.id} deleted successfully`),oe(!1),ie(null),window.location.reload()}catch(ge){Ve.error(ge.message||"Failed to delete invoice")}}),Ye=()=>{oe(!1),ie(null)},ct=ge=>{Ze(ge),p(!1)},Ze=ge=>Ne(null,null,function*(){try{const Xe=yield Rm(ge);Ve.success(`Invoice returned: ${Xe.return_invoice}`)}catch(Xe){Ve.error(Xe.message||"Failed to return invoice")}}),mt=ge=>!ge||!ge.items?(console.log("No invoice or items found for:",ge==null?void 0:ge.id),!1):ge.items.some(lt=>{const gr=lt.qty||lt.quantity||0;return(lt.returned_qty||0)<gr}),$t=ge=>{D(ge),M(!0)},ur=()=>{M(!1),D(null),window.location.reload()},ve=ge=>{console.log("Cancelling invoice:",ge),p(!1)},et=(ge,Xe)=>{T(lt=>je(Y({},lt),{[ge]:parseFloat(Xe)||0}))},Tt=()=>Ne(null,null,function*(){try{const ge=Object.entries(k).map(([Xe,lt])=>({mode_of_payment:Xe,closing_amount:lt||0}));yield G(ge),S(!1),Yx();try{yield fetch("/api/method/klik_pos.api.cache.clear_backend_cache",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"})}catch(Xe){console.warn("Failed to clear backend cache after close:",Xe)}e("/pos")}catch(ge){console.error("Error closing shift:",ge)}});return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Closing Shift"}),a.jsxs("button",{onClick:()=>S(!0),className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(Ld,{className:"w-4 h-4"}),a.jsx("span",{children:"Close"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[fe&&a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:a.jsx(Vo,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!he&&!fe&&a.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:Object.values(de).map(ge=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ge.name}),ge.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-2xl",children:""}):a.jsx(gs,{className:"w-8 h-8 text-beveren-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ge.amount,(ne==null?void 0:ne.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[xe>0?(ge.amount/xe*100).toFixed(1):0,"% of total"]})]})]},ge.name))}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:ge=>n(ge.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:c,onChange:ge=>f(ge.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:i,onChange:ge=>l(ge.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:h,onChange:ge=>d(ge.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),le.map(ge=>a.jsx("option",{value:ge.name,children:ge.name},ge.name))]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",B.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(ne==null?void 0:ne.is_zatca_enabled)&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:B.map(ge=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ge.id}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ge.date," ",ge.time]})]})}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ge.customer}),ge.giftCardCode&&a.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:["Gift: ",ge.giftCardCode]})]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(ge.totalAmount,ge.currency)}),ge.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",_t(ge.giftCardDiscount,ge.currency)," gift"]})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:Z(ge.status),children:ge.status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:Z(ge.custom_zatca_submit_status),children:ge.custom_zatca_submit_status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>z(ge),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx(Ul,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),ge.status==="Draft"&&a.jsxs("button",{onClick:()=>X(ge),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(Ld,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ge.status)&&!ge.is_return&&mt(ge)&&a.jsxs("button",{onClick:()=>$t(ge),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(zl,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]})]})})]},ge.id))})]})})]})]}),b&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),a.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ha,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"space-y-4",children:Object.values(de).map(ge=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[ge.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-xl",children:""}):a.jsx(gs,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ge.name})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_t(ge.openingAmount,(ne==null?void 0:ne.currency)||"USD")})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:k[ge.name]||"",onChange:Xe=>et(ge.name,Xe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},ge.name))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),a.jsx("button",{onClick:Tt,disabled:V,className:`px-6 py-2 rounded-lg font-medium transition-colors ${V?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:V?"Closing...":"Close Shift"})]})]})}),a.jsx(pu,{invoice:m,isOpen:x,onClose:()=>p(!1),onRefund:ct,onCancel:ve}),a.jsx(es,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Closing Shift"})}),a.jsxs("button",{onClick:()=>S(!0),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Ld,{className:"w-4 h-4"}),a.jsx("span",{children:"Close"})]})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 space-y-6",children:[fe&&a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:a.jsx(Vo,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!he&&!fe&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(de).map(ge=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ge.name}),ge.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-2xl",children:""}):a.jsx(gs,{className:"w-8 h-8 text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ge.amount,(ne==null?void 0:ne.currency)||"USD")}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[xe>0?(ge.amount/xe*100).toFixed(1):0,"% of total"]})]})]},ge.name))})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:ge=>n(ge.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:c,onChange:ge=>f(ge.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:i,onChange:ge=>l(ge.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:h,onChange:ge=>d(ge.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),le.map(ge=>a.jsx("option",{value:ge.name,children:ge.name},ge.name))]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",B.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(ne==null?void 0:ne.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:B.map(ge=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ge.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ge.date," ",ge.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ge.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ge.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:ge.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(ge.totalAmount,ge.currency)}),ge.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",_t(ge.giftCardDiscount,ge.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:Z(ge.status),children:ge.status})}),(ne==null?void 0:ne.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:Z(ge.custom_zatca_submit_status),children:ge.custom_zatca_submit_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>z(ge),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx(Ul,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),ge.status==="Draft"&&a.jsxs("button",{onClick:()=>X(ge),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(Ld,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ge.status)&&!ge.is_return&&mt(ge)&&a.jsxs("button",{onClick:()=>$t(ge),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(zl,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]})]})})]},ge.id))})]})})]})]}),b&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),a.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Ha,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"space-y-4",children:Object.values(de).map(ge=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[ge.name.toLowerCase().includes("cash")?a.jsx("div",{className:"text-xl",children:""}):a.jsx(gs,{className:"w-5 h-5 text-beveren-600"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ge.name})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_t(ge.openingAmount,(ne==null?void 0:ne.currency)||"USD")})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:k[ge.name]||"",onChange:Xe=>et(ge.name,Xe.target.value),className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},ge.name))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),a.jsx("button",{onClick:Tt,disabled:V,className:`px-6 py-2 rounded-lg font-medium transition-colors ${V?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:V?"Closing...":"Close Shift"})]})]})}),a.jsx(pu,{invoice:m,isOpen:x,onClose:()=>p(!1),onRefund:ct,onCancel:ve}),a.jsx(o0,{invoice:H,isOpen:A,onClose:()=>M(!1),onSuccess:ur}),a.jsx(fv,{isOpen:se,onClose:Ye,onConfirm:Ae,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${q==null?void 0:q.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})})}function uL(){const{user:e,logout:r}=Zo(),{theme:t,toggleTheme:n}=wm(),{language:i,setLanguage:l}=Wl(),c=fa(),[f,h]=E.useState("profile"),d=D=>D.split(" ").map(G=>G.charAt(0).toUpperCase()).join("").substring(0,2),m=(e==null?void 0:e.full_name)||(e==null?void 0:e.name)||"Guest User",x=(e==null?void 0:e.email)||(e==null?void 0:e.name)||"No email",p=d(m),b=()=>Ne(null,null,function*(){try{yield r(),c("/login")}catch(D){console.error("Logout error:",D),c("/login")}}),S=[{id:"profile",title:"Profile Information",icon:Jn,description:"View and manage your profile details"},{id:"appearance",title:"Appearance",icon:fE,description:"Customize the app's look and feel"},{id:"language",title:"Language & Region",icon:Hy,description:"Set your preferred language and region"},{id:"account",title:"Account Settings",icon:x0,description:"Manage your account and security"}],k=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-beveren-600 to-beveren-700 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold",children:p})}),a.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-beveren-600 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:a.jsx(Gx,{size:16})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold",children:m}),a.jsx("p",{className:"text-beveren-100 text-lg",children:x})]})]})}),a.jsx("div",{className:"grid gap-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.full_name)||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:x})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User ID"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"Not provided"})]}),(e==null?void 0:e.first_name)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"First Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.first_name})]}),(e==null?void 0:e.last_name)&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Name"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.last_name})]})]})]})})]}),T=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Theme Settings"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[t==="dark"?a.jsx(km,{size:20,className:"text-gray-700 dark:text-gray-300"}):a.jsx(Sm,{size:20,className:"text-gray-700 dark:text-gray-300"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t==="dark"?"Dark Mode":"Light Mode"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t==="dark"?"Using dark theme for better low-light viewing":"Using light theme for optimal daytime viewing"})]})]}),a.jsxs("button",{onClick:()=>{console.log("Theme toggle clicked, current theme:",t),n()},className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",type:"button",children:["Switch to ",t==="dark"?"Light":"Dark"]})]})})]})}),A=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Language Preferences"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hy,{size:20,className:"text-gray-700 dark:text-gray-300"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Current Language: ",i==="en"?"English":"Arabic"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interface language and text direction"})]})]}),a.jsxs("button",{onClick:()=>l(i==="en"?"ar":"en"),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:["Switch to ",i==="en"?"Arabic":"English"]})]})})]})}),M=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Nm,{size:20,className:"text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sign Out"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out of your account and return to login"})]})]}),a.jsx("button",{onClick:b,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out"})]})})]})}),H=()=>{switch(f){case"profile":return k();case"appearance":return T();case"language":return A();case"account":return M();default:return k()}};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center space-x-4 mb-4",children:a.jsxs("button",{onClick:()=>c("/pos"),className:"flex items-center space-x-2 text-gray-600 hover:text-beveren-600 dark:text-gray-300 dark:hover:text-beveren-400 transition-colors group",type:"button",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-beveren-50 dark:bg-gray-800 dark:group-hover:bg-beveren-900 transition-colors",children:a.jsx(ys,{size:20})}),a.jsx("span",{className:"font-medium",children:"Back to POS"})]})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Manage your account preferences and settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:a.jsx("nav",{className:"space-y-2",children:S.map(D=>{const G=D.icon;return a.jsxs("button",{onClick:()=>h(D.id),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${f===D.id?"bg-beveren-50 text-beveren-700 border border-beveren-200 dark:bg-beveren-900 dark:text-beveren-300 dark:border-beveren-700":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(G,{size:18}),a.jsx("span",{className:"font-medium",children:D.title})]}),a.jsx($8,{size:16,className:"text-gray-400 dark:text-gray-500"})]},D.id)})})})}),a.jsx("div",{className:"lg:col-span-3",children:H()})]})]})})}function dL(){const{language:e,setLanguage:r}=Wl(),{user:t,logout:n}=Zo(),{theme:i,toggleTheme:l}=wm(),{posDetails:c}=un(),[f,h]=E.useState(!1),d=E.useRef(null);E.useEffect(()=>{function k(T){d.current&&!d.current.contains(T.target)&&h(!1)}return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[d]);const m=()=>Ne(null,null,function*(){try{yield n(),window.location.href="/klik_pos/login"}catch(k){console.error("Logout error:",k),window.location.href="/klik_pos/login"}}),x=k=>k.split(" ").map(T=>T.charAt(0).toUpperCase()).join("").substring(0,2),p=(t==null?void 0:t.full_name)||(t==null?void 0:t.name)||"Guest User",b=(c==null?void 0:c.name)||"POS Profile",S=x(p);return a.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 relative z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search menu",className:"w-full pl-10 pr-4 py-2 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:b}),a.jsx("p",{className:"text-sm text-gray-500",children:p})]}),a.jsxs("div",{className:"relative",ref:d,children:[a.jsx("button",{onClick:()=>{console.log("Avatar clicked, current showUserMenu:",f),h(!f)},className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:a.jsx("span",{className:"text-white font-medium text-sm pointer-events-none",children:S})}),f&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-base",children:S})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:b}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(Wx,{size:14,className:"text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-600 border border-gray-200 rounded px-2 py-1 bg-white truncate",children:p})]})]})]})}),a.jsxs("div",{className:"py-1",children:[a.jsxs(p0,{to:"/settings",onClick:()=>h(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(x0,{size:16,className:"mr-3 text-gray-500"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:()=>{l(),h(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[i==="dark"?a.jsx(Sm,{size:16,className:"mr-3 text-gray-500"}):a.jsx(km,{size:16,className:"mr-3 text-gray-500"}),a.jsx("span",{children:i==="dark"?"Light Mode":"Dark Mode"})]}),a.jsxs("button",{onClick:()=>{r(e==="en"?"ar":"en"),h(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[a.jsx("span",{className:"mr-3 text-gray-500",children:""}),a.jsx("span",{children:e==="en"?"Switch to Arabic":"Switch to English"})]}),a.jsx("div",{className:"border-t border-gray-100 my-1"}),a.jsxs("button",{onClick:()=>{m(),h(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",type:"button",children:[a.jsx(Nm,{size:16,className:"mr-3"}),a.jsx("span",{children:"Logout"})]})]})]})]})]}),a.jsx("div",{className:"flex-1 max-w-md"})]})})})}function gy({method:e,title:r,icon:t,selected:n,onSelect:i,total:l}){const{t:c}=Wl(),[f,h]=E.useState(!1),d=()=>{i(),h(!0)},m=()=>{switch(t){case"cash":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"card":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"wallet":return a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"})});default:return null}};return a.jsxs("div",{onClick:d,className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${n?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`mx-auto mb-3 ${n?"text-green-600":"text-gray-400"}`,children:m()}),a.jsx("h3",{className:"font-semibold text-gray-800",children:r})]}),n&&f&&a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e==="cash"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("AMOUNT_RECEIVED")}),a.jsx("input",{type:"number",defaultValue:l,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[c("CHANGE"),":  0.00"]})]}),e==="card"&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:c("INSERT_OR_TAP_CARD")}),a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mx-auto"})})]}),e==="wallet"&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded mx-auto mb-2 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500",children:"QR Code"})}),a.jsx("div",{className:"text-sm text-gray-600",children:c("SCAN_WITH_STC_PAY")})]})]})]})}function fL({qrCodeURL:e,caption:r}){return a.jsxs("div",{className:"text-center",children:[a.jsx("img",{src:e||"/placeholder.svg",alt:"ZATCA QR Code",className:"w-32 h-32 mx-auto border border-gray-200 rounded"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r})]})}function hL(){const r=pm().invoiceId,{t,isRTL:n}=Wl(),[i,l]=E.useState(null),[c,f]=E.useState(null),[h,d]=E.useState(!0);E.useEffect(()=>{m()},[r]);const m=()=>Ne(null,null,function*(){try{const b={invoiceId:r,dateTime:new Date().toISOString(),items:[{itemCode:"ITEM001",nameEn:"Wireless Headphones",nameAr:" ",qty:1,unitPrice:299,lineTotal:299}],subtotal:299,vat:14.95,total:313.95,qrCodeURL:"/placeholder.svg?height=128&width=128"};l(b)}catch(b){console.error("Failed to load invoice data:",b)}finally{d(!1)}}),x=b=>{f(b)},p=()=>Ne(null,null,function*(){if(!(!c||!i))try{console.log("Processing payment:",c,i.invoiceId)}catch(b){console.error("Payment failed:",b)}});return h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-700"})}):i?a.jsxs("div",{className:`min-h-screen bg-gray-50 ${n?"rtl":"ltr"}`,children:[a.jsx(dL,{}),a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("INVOICE_SUMMARY")}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[t("INVOICE_ID"),": ",i.invoiceId]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[t("DATE_TIME"),": ",new Date(i.dateTime).toLocaleString()]})]}),a.jsx("div",{className:"border-t pt-4",children:i.items.map((b,S)=>a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:n?b.nameAr:b.nameEn}),a.jsxs("div",{className:"text-sm text-gray-600",children:[b.qty,"   ",b.unitPrice.toFixed(2)]})]}),a.jsxs("div",{className:"font-semibold",children:[" ",b.lineTotal.toFixed(2)]})]},S))}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("div",{className:"flex justify-between py-1",children:[a.jsx("span",{children:t("SUBTOTAL")}),a.jsxs("span",{children:[" ",i.subtotal.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between py-1",children:[a.jsxs("span",{children:[t("VAT")," (5%)"]}),a.jsxs("span",{children:[" ",i.vat.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t",children:[a.jsx("span",{children:t("TOTAL")}),a.jsxs("span",{children:[" ",i.total.toFixed(2)]})]})]}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(fL,{qrCodeURL:i.qrCodeURL,caption:t("SCAN_TO_VERIFY")})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("PAYMENT_METHODS")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(gy,{method:"cash",title:t("CASH"),icon:"cash",selected:c==="cash",onSelect:()=>x("cash"),total:i.total}),a.jsx(gy,{method:"card",title:t("CARD"),icon:"card",selected:c==="card",onSelect:()=>x("card"),total:i.total}),a.jsx(gy,{method:"wallet",title:t("DIGITAL_WALLET"),icon:"wallet",selected:c==="wallet",onSelect:()=>x("wallet"),total:i.total})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("button",{className:"text-green-700 hover:text-green-800 font-medium",children:t("BACK_TO_CART")}),a.jsx("button",{onClick:p,disabled:!c,className:"flex-1 bg-green-700 text-white py-3 px-6 rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t("CONFIRM_PAYMENT")})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:t("INVOICE_NOT_FOUND")})})})}function Ek(){var oe,q,ie;const e=fa(),r=bu("(max-width: 1024px)"),[t,n]=E.useState(""),[i,l]=E.useState(!1),[c,f]=E.useState(null),[h,d]=E.useState({}),[m,x]=E.useState(null),{customers:p,isLoading:b,error:S,totalCount:k,loadMore:T}=Fm(t);E.useEffect(()=>{Ne(null,null,function*(){var ee;try{const J=yield(yield fetch("/api/method/klik_pos.api.customer.get_global_totals")).json();(ee=J==null?void 0:J.message)!=null&&ee.success&&x({total_customers:J.message.total_customers,total_invoices:J.message.total_invoices})}catch(ae){}})},[]);const A=E.useMemo(()=>b?[]:S?[]:p.sort((ae,J)=>{const le=ae.createdAt?new Date(ae.createdAt).getTime():0;return(J.createdAt?new Date(J.createdAt).getTime():0)-le}),[p,b,S]),M=E.useMemo(()=>{if(b)return{total:0,totalOrders:0};const ee=p.length,ae=p.reduce((J,le)=>J+(le.totalOrders||0),0);return{total:ee,totalOrders:ae}},[p,b]);if(b&&p.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customers..."})]})});if(S)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customers"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:S.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const H=(ee,ae)=>{let J="USD";if(ae&&ae.trim()&&ae.length===3)try{new Intl.NumberFormat("en-US",{style:"currency",currency:ae}),J=ae}catch(le){console.warn(`Invalid currency code: ${ae}, falling back to AED`),J="USD"}return new Intl.NumberFormat("en-US",{style:"currency",currency:J}).format(ee)},D=ee=>new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),G=ee=>ee.split(" ").map(ae=>ae.charAt(0).toUpperCase()).join("").substring(0,2),V=ee=>{const ae=ee.target.value;n(ae)},se=ee=>{if(ee.key==="Enter"&&t.trim()&&(ee.preventDefault(),!A.find(J=>{var le;return J.name.toLowerCase()===t.toLowerCase()||((le=J.email)==null?void 0:le.toLowerCase())===t.toLowerCase()||J.phone===t}))){const J=t.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)?d({email:J}):/^[\d\s+\-()]+$/.test(J)&&J.replace(/[\s+\-()]/g,"").length>=7?d({phone:J}):d({name:J}),l(!0),n("")}};return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Customers"}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2 text-sm",children:[a.jsx(Wi,{size:16}),a.jsx("span",{children:"Add"})]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:a.jsxs("div",{className:"mx-auto w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ho,{className:"text-orange-500",size:24}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[p.length," of ",(q=(oe=m==null?void 0:m.total_customers)!=null?oe:k)!=null?q:p.length]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(ie=m==null?void 0:m.total_invoices)!=null?ie:M.totalOrders})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:t,onChange:V,onKeyPress:se,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}),b&&p.length>0&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]})})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A.map(ee=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${ee.id}`),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:G(ee.name)})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ee.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",ee.id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[a.jsx(Bl,{size:14,className:"mr-2 text-gray-400"}),ee.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(zd,{size:14,className:"mr-2 text-gray-400"}),ee.phone]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[ee.totalOrders," orders"]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:H(ee.totalSpent,ee.defaultCurrency||ee.companyCurrency)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ee.lastVisit?D(ee.lastVisit):"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:ae=>{ae.stopPropagation(),e(`/customers/${ee.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:a.jsx(Ul,{size:16})}),a.jsx("button",{onClick:ae=>{ae.stopPropagation(),f(ee),l(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(ql,{size:16})})]})})]},ee.id))})]})}),A.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ho,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t?"Try adjusting your search criteria.":"Get started by adding your first customer."})]}),k>p.length&&a.jsx("div",{className:"p-4 text-center",children:a.jsxs("button",{onClick:T,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:["Load More (",p.length,"/",k,")"]})})]})]})}),i&&a.jsxs(a.Fragment,{children:[console.log("Opening modal with prefilled data:",h),a.jsx(Gl,{customer:c,onClose:()=>{l(!1),f(null),d({})},onSave:ee=>{console.log("Saving customer:",ee),!c&&ee.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(l(!1),f(null),d({}))},prefilledData:h})]}),a.jsx(es,{})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-beveren-600 text-white px-6 py-3 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2",children:[a.jsx(Wi,{size:20}),a.jsx("span",{children:"Add Customer"})]})]})})}),a.jsx("div",{className:"flex-1 px-6 py-8 mt-16 lg:ml-20 max-w-none",children:a.jsxs("div",{className:"mx-auto w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ho,{className:"text-orange-500",size:24}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[p.length," of ",k||p.length]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:M.totalOrders})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:t,onChange:V,onKeyPress:se,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"})]})})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A.map(ee=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${ee.id}`),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-medium text-sm",children:G(ee.name)})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ee.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",ee.id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[a.jsx(Bl,{size:14,className:"mr-2 text-gray-400"}),ee.email]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(zd,{size:14,className:"mr-2 text-gray-400"}),ee.phone]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ee.totalOrders>0?`${ee.totalOrders} orders`:"No orders"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ee.totalSpent>0?H(ee.totalSpent,ee.defaultCurrency||ee.companyCurrency):"No purchases"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ee.lastVisit?D(ee.lastVisit):"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:ae=>{ae.stopPropagation(),e(`/customers/${ee.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:a.jsx(Ul,{size:16})}),a.jsx("button",{onClick:ae=>{ae.stopPropagation(),f(ee),l(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:a.jsx(ql,{size:16})})]})})]},ee.id))})]})})})]})}),i&&a.jsxs(a.Fragment,{children:[console.log("Opening modal with prefilled data:",h),a.jsx(Gl,{customer:c,onClose:()=>{l(!1),f(null),d({})},onSave:ee=>{console.log("Saving customer (desktop):",ee),!c&&ee.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(l(!1),f(null),d({}))},prefilledData:h})]})]})}function mL(){const e=fa(),{cartItems:r,appliedCoupons:t,updateQuantity:n,removeItem:i,clearCart:l,applyCoupon:c,removeCoupon:f}=Yl();return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(ys,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.length," ",r.length===1?"item":"items"]})]})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx(g_,{cartItems:r,onUpdateQuantity:n,onRemoveItem:i,onClearCart:l,appliedCoupons:t,onApplyCoupon:c,onRemoveCoupon:f,isMobile:!0})}),a.jsx(es,{})]})}function gL(){const e=fa();return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(ys,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Customers"})]})})}),a.jsx("div",{className:"flex-1 pb-20 overflow-hidden",children:a.jsx(Ek,{})}),a.jsx(es,{})]})}function pL(){const e=fa(),r=n=>{console.log("Saving customer:",n),e(-1)},t=()=>{e(-1)};return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(ys,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Add Customer"})]})})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx("div",{className:"h-full bg-white dark:bg-gray-800",children:a.jsx(Gl,{onClose:t,onSave:r,isFullPage:!0})})}),a.jsx(es,{})]})}function yL(){const e=fa(),{cartItems:r,appliedCoupons:t,selectedCustomer:n,clearCart:i}=Yl(),{refreshStockOnly:l,updateBatchQuantitiesForItems:c}=xm(),f=()=>{console.log("MobilePaymentPage: Payment was not completed - keeping cart items"),Ne(null,null,function*(){try{yield l(),console.log("Stock refreshed after payment modal close");const m=r.map(x=>x.item_code||x.id);m.length>0&&(console.log("MobilePaymentPage: Updating batch quantities for cart items:",m),yield c(m),console.log("MobilePaymentPage: Batch quantities updated successfully"))}catch(m){console.error("Failed to refresh stock:",m)}}),e(-1)},h=m=>Ne(null,null,function*(){console.log("Payment completed:",m),console.log("MobilePaymentPage: Payment completed - cart will be cleared when page is closed")}),d=m=>{console.log("Order held:",m),i(),e("/pos")};return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(ys,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Payment"})]})})}),a.jsx("div",{className:"flex-1 pb-20",children:a.jsx(Jx,{isOpen:!0,onClose:f,cartItems:r,appliedCoupons:t,selectedCustomer:n,onCompletePayment:h,onHoldOrder:d,isMobile:!0,isFullPage:!0})}),a.jsx(es,{})]})}function xL({children:e,excludePaths:r=["/settings","/login"]}){const{isRTL:t}=Wl(),n=Dn(),[i,l]=E.useState(!1),[c,f]=E.useState(null),[h,d]=E.useState(!0),[m,x]=E.useState(null),[p,b]=E.useState(!1),{hasOpenEntry:S,isLoading:k,error:T,refetch:A}=RN(),M=()=>{const V=n.pathname;return r.some(se=>V.includes(se))};E.useEffect(()=>{Ne(null,null,function*(){try{d(!0),x(null),hs.initializeSession();const se=yield hs.getCurrentUserProfile();if(se)f({name:se.name,email:se.email||se.name,full_name:se.full_name||se.first_name+" "+(se.last_name||""),role:se.role_profile_name||"User",user_image:se.user_image});else{const oe=yield hs.getCurrentUser();oe?f({name:oe,email:oe,full_name:oe,role:"User"}):x("No user session found")}}catch(se){console.error("Error fetching current user:",se),x(se.message||"Failed to fetch user")}finally{d(!1)}})},[]),E.useEffect(()=>{M()||S!==null&&p&&A()},[n.pathname,A,S,p]),E.useEffect(()=>{const V=()=>{if(!document.hidden){const se=n.pathname;r.some(q=>se.includes(q))||A()}};return document.addEventListener("visibilitychange",V),()=>{document.removeEventListener("visibilitychange",V)}},[A,n.pathname,r]),E.useEffect(()=>{if(M()){b(!0),l(!1);return}if(!(S===null&&(k||h))){if(m){b(!0),l(!1);return}S!==null?S===!0?(l(!1),b(!0)):(l(!0),b(!0)):!k&&T&&(l(!0),b(!0))}},[S,k,T,h,m,n.pathname]);const H=()=>{l(!1),b(!0),setTimeout(()=>{A()},500)},D=()=>{};return M()?a.jsx(a.Fragment,{children:e}):S===null&&(k||h)?a.jsx("div",{className:`min-h-screen bg-gray-50 ${t?"rtl":"ltr"} flex items-center justify-center`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),a.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):S!==!0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pointer-events-none opacity-50",children:e}),a.jsx(y_,{isOpen:i,onClose:D,onSuccess:H,currentUser:(c==null?void 0:c.name)||"Unknown User"})]}):a.jsx(a.Fragment,{children:e})}const yn=({element:e})=>{const{isAuthenticated:r,loading:t}=Zo(),n=Dn();return t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),a.jsx("p",{className:"text-beveren-600 mt-4",children:"Verifying access..."})]})}):r?a.jsx(xL,{excludePaths:["/settings"],children:e}):a.jsx(L5,{to:"/login",state:{from:n},replace:!0})};var Gm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vm=typeof window=="undefined"||"Deno"in globalThis;function Fs(){}function vL(e,r){return typeof e=="function"?e(r):e}function bL(e){return typeof e=="number"&&e>=0&&e!==1/0}function wL(e,r){return Math.max(e+(r||0)-Date.now(),0)}function _x(e,r){return typeof e=="function"?e(r):e}function jL(e,r){return typeof e=="function"?e(r):e}function z3(e,r){const{type:t="all",exact:n,fetchStatus:i,predicate:l,queryKey:c,stale:f}=e;if(c){if(n){if(r.queryHash!==yv(c,r.options))return!1}else if(!d0(r.queryKey,c))return!1}if(t!=="all"){const h=r.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||i&&i!==r.state.fetchStatus||l&&!l(r))}function q3(e,r){const{exact:t,status:n,predicate:i,mutationKey:l}=e;if(l){if(!r.options.mutationKey)return!1;if(t){if(u0(r.options.mutationKey)!==u0(l))return!1}else if(!d0(r.options.mutationKey,l))return!1}return!(n&&r.state.status!==n||i&&!i(r))}function yv(e,r){return((r==null?void 0:r.queryKeyHashFn)||u0)(e)}function u0(e){return JSON.stringify(e,(r,t)=>kx(t)?Object.keys(t).sort().reduce((n,i)=>(n[i]=t[i],n),{}):t)}function d0(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(t=>d0(e[t],r[t])):!1}function $k(e,r){if(e===r)return e;const t=H3(e)&&H3(r);if(t||kx(e)&&kx(r)){const n=t?e:Object.keys(e),i=n.length,l=t?r:Object.keys(r),c=l.length,f=t?[]:{},h=new Set(n);let d=0;for(let m=0;m<c;m++){const x=t?m:l[m];(!t&&h.has(x)||t)&&e[x]===void 0&&r[x]===void 0?(f[x]=void 0,d++):(f[x]=$k(e[x],r[x]),f[x]===e[x]&&e[x]!==void 0&&d++)}return i===c&&d===i?e:f}return r}function H3(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kx(e){if(!G3(e))return!1;const r=e.constructor;if(r===void 0)return!0;const t=r.prototype;return!(!G3(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function G3(e){return Object.prototype.toString.call(e)==="[object Object]"}function NL(e){return new Promise(r=>{setTimeout(r,e)})}function _L(e,r,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,r):t.structuralSharing!==!1?$k(e,r):r}function kL(e,r,t=0){const n=[...e,r];return t&&n.length>t?n.slice(1):n}function SL(e,r,t=0){const n=[r,...e];return t&&n.length>t?n.slice(0,-1):n}var xv=Symbol();function Ok(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===xv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $l,Lo,au,Qj,CL=(Qj=class extends Gm{constructor(){super();Fr(this,$l);Fr(this,Lo);Fr(this,au);pr(this,au,r=>{if(!Vm&&window.addEventListener){const t=()=>r();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){st(this,Lo)||this.setEventListener(st(this,au))}onUnsubscribe(){var r;this.hasListeners()||((r=st(this,Lo))==null||r.call(this),pr(this,Lo,void 0))}setEventListener(r){var t;pr(this,au,r),(t=st(this,Lo))==null||t.call(this),pr(this,Lo,r(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(r){st(this,$l)!==r&&(pr(this,$l,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(t=>{t(r)})}isFocused(){var r;return typeof st(this,$l)=="boolean"?st(this,$l):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},$l=new WeakMap,Lo=new WeakMap,au=new WeakMap,Qj),Tk=new CL,nu,Uo,su,Zj,EL=(Zj=class extends Gm{constructor(){super();Fr(this,nu,!0);Fr(this,Uo);Fr(this,su);pr(this,su,r=>{if(!Vm&&window.addEventListener){const t=()=>r(!0),n=()=>r(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){st(this,Uo)||this.setEventListener(st(this,su))}onUnsubscribe(){var r;this.hasListeners()||((r=st(this,Uo))==null||r.call(this),pr(this,Uo,void 0))}setEventListener(r){var t;pr(this,su,r),(t=st(this,Uo))==null||t.call(this),pr(this,Uo,r(this.setOnline.bind(this)))}setOnline(r){st(this,nu)!==r&&(pr(this,nu,r),this.listeners.forEach(n=>{n(r)}))}isOnline(){return st(this,nu)}},nu=new WeakMap,Uo=new WeakMap,su=new WeakMap,Zj),fm=new EL;function $L(){let e,r;const t=new Promise((i,l)=>{e=i,r=l});t.status="pending",t.catch(()=>{});function n(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},t.reject=i=>{n({status:"rejected",reason:i}),r(i)},t}function OL(e){return Math.min(1e3*W1(2,e),3e4)}function Ak(e){return(e!=null?e:"online")==="online"?fm.isOnline():!0}var Rk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function py(e){return e instanceof Rk}function Pk(e){let r=!1,t=0,n=!1,i;const l=$L(),c=k=>{var T;n||(p(new Rk(k)),(T=e.abort)==null||T.call(e))},f=()=>{r=!0},h=()=>{r=!1},d=()=>Tk.isFocused()&&(e.networkMode==="always"||fm.isOnline())&&e.canRun(),m=()=>Ak(e.networkMode)&&e.canRun(),x=k=>{var T;n||(n=!0,(T=e.onSuccess)==null||T.call(e,k),i==null||i(),l.resolve(k))},p=k=>{var T;n||(n=!0,(T=e.onError)==null||T.call(e,k),i==null||i(),l.reject(k))},b=()=>new Promise(k=>{var T;i=A=>{(n||d())&&k(A)},(T=e.onPause)==null||T.call(e)}).then(()=>{var k;i=void 0,n||(k=e.onContinue)==null||k.call(e)}),S=()=>{if(n)return;let k;const T=t===0?e.initialPromise:void 0;try{k=T!=null?T:e.fn()}catch(A){k=Promise.reject(A)}Promise.resolve(k).then(x).catch(A=>{var V,se,oe;if(n)return;const M=(V=e.retry)!=null?V:Vm?0:3,H=(se=e.retryDelay)!=null?se:OL,D=typeof H=="function"?H(t,A):H,G=M===!0||typeof M=="number"&&t<M||typeof M=="function"&&M(t,A);if(r||!G){p(A);return}t++,(oe=e.onFail)==null||oe.call(e,t,A),NL(D).then(()=>d()?void 0:b()).then(()=>{r?p(A):S()})})};return{promise:l,cancel:c,continue:()=>(i==null||i(),l),cancelRetry:f,continueRetry:h,canStart:m,start:()=>(m()?S():b().then(S),l)}}var TL=e=>setTimeout(e,0);function AL(){let e=[],r=0,t=f=>{f()},n=f=>{f()},i=TL;const l=f=>{r?e.push(f):i(()=>{t(f)})},c=()=>{const f=e;e=[],f.length&&i(()=>{n(()=>{f.forEach(h=>{t(h)})})})};return{batch:f=>{let h;r++;try{h=f()}finally{r--,r||c()}return h},batchCalls:f=>(...h)=>{l(()=>{f(...h)})},schedule:l,setNotifyFunction:f=>{t=f},setBatchNotifyFunction:f=>{n=f},setScheduler:f=>{i=f}}}var wn=AL(),Ol,Jj,Mk=(Jj=class{constructor(){Fr(this,Ol)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bL(this.gcTime)&&pr(this,Ol,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:Vm?1/0:5*60*1e3)}clearGcTimeout(){st(this,Ol)&&(clearTimeout(st(this,Ol)),pr(this,Ol,void 0))}},Ol=new WeakMap,Jj),iu,Tl,ds,Al,cn,f0,Rl,Bs,zi,eN,RL=(eN=class extends Mk{constructor(r){var t;super();Fr(this,Bs);Fr(this,iu);Fr(this,Tl);Fr(this,ds);Fr(this,Al);Fr(this,cn);Fr(this,f0);Fr(this,Rl);pr(this,Rl,!1),pr(this,f0,r.defaultOptions),this.setOptions(r.options),this.observers=[],pr(this,Al,r.client),pr(this,ds,st(this,Al).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,pr(this,iu,ML(this.options)),this.state=(t=r.state)!=null?t:st(this,iu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=st(this,cn))==null?void 0:r.promise}setOptions(r){this.options=Y(Y({},st(this,f0)),r),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&st(this,ds).remove(this)}setData(r,t){const n=_L(this.state.data,r,this.options);return on(this,Bs,zi).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(r,t){on(this,Bs,zi).call(this,{type:"setState",state:r,setStateOptions:t})}cancel(r){var n,i;const t=(n=st(this,cn))==null?void 0:n.promise;return(i=st(this,cn))==null||i.cancel(r),t?t.then(Fs).catch(Fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(st(this,iu))}isActive(){return this.observers.some(r=>jL(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>_x(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!wL(this.state.dataUpdatedAt,r)}onFocus(){var t;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(t=st(this,cn))==null||t.continue()}onOnline(){var t;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(t=st(this,cn))==null||t.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),st(this,ds).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(t=>t!==r),this.observers.length||(st(this,cn)&&(st(this,Rl)?st(this,cn).cancel({revert:!0}):st(this,cn).cancelRetry()),this.scheduleGc()),st(this,ds).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||on(this,Bs,zi).call(this,{type:"invalidate"})}fetch(r,t){var d,m,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(st(this,cn))return st(this,cn).continueRetry(),st(this,cn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const p=this.observers.find(b=>b.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(pr(this,Rl,!0),n.signal)})},l=()=>{const p=Ok(this.options,t),S=(()=>{const k={client:st(this,Al),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return pr(this,Rl,!1),this.options.persister?this.options.persister(p,S,this):p(S)},f=(()=>{const p={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:st(this,Al),state:this.state,fetchFn:l};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(f,this),pr(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=f.fetchOptions)==null?void 0:m.meta))&&on(this,Bs,zi).call(this,{type:"fetch",meta:(x=f.fetchOptions)==null?void 0:x.meta});const h=p=>{var b,S,k,T;py(p)&&p.silent||on(this,Bs,zi).call(this,{type:"error",error:p}),py(p)||((S=(b=st(this,ds).config).onError)==null||S.call(b,p,this),(T=(k=st(this,ds).config).onSettled)==null||T.call(k,this.state.data,p,this)),this.scheduleGc()};return pr(this,cn,Pk({initialPromise:t==null?void 0:t.initialPromise,fn:f.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var b,S,k,T;if(p===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(A){h(A);return}(S=(b=st(this,ds).config).onSuccess)==null||S.call(b,p,this),(T=(k=st(this,ds).config).onSettled)==null||T.call(k,p,this.state.error,this),this.scheduleGc()},onError:h,onFail:(p,b)=>{on(this,Bs,zi).call(this,{type:"failed",failureCount:p,error:b})},onPause:()=>{on(this,Bs,zi).call(this,{type:"pause"})},onContinue:()=>{on(this,Bs,zi).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),st(this,cn).start()}},iu=new WeakMap,Tl=new WeakMap,ds=new WeakMap,Al=new WeakMap,cn=new WeakMap,f0=new WeakMap,Rl=new WeakMap,Bs=new WeakSet,zi=function(r){const t=n=>{var i,l;switch(r.type){case"failed":return je(Y({},n),{fetchFailureCount:r.failureCount,fetchFailureReason:r.error});case"pause":return je(Y({},n),{fetchStatus:"paused"});case"continue":return je(Y({},n),{fetchStatus:"fetching"});case"fetch":return je(Y(Y({},n),PL(n.data,this.options)),{fetchMeta:(i=r.meta)!=null?i:null});case"success":return pr(this,Tl,void 0),Y(je(Y({},n),{data:r.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(l=r.dataUpdatedAt)!=null?l:Date.now(),error:null,isInvalidated:!1,status:"success"}),!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const c=r.error;return py(c)&&c.revert&&st(this,Tl)?je(Y({},st(this,Tl)),{fetchStatus:"idle"}):je(Y({},n),{error:c,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"});case"invalidate":return je(Y({},n),{isInvalidated:!0});case"setState":return Y(Y({},n),r.state)}};this.state=t(this.state),wn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),st(this,ds).notify({query:this,type:"updated",action:r})})},eN);function PL(e,r){return Y({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ak(r.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function ML(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,t=r!==void 0,n=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:t?n!=null?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var li,tN,DL=(tN=class extends Gm{constructor(r={}){super();Fr(this,li);this.config=r,pr(this,li,new Map)}build(r,t,n){var f;const i=t.queryKey,l=(f=t.queryHash)!=null?f:yv(i,t);let c=this.get(l);return c||(c=new RL({client:r,queryKey:i,queryHash:l,options:r.defaultQueryOptions(t),state:n,defaultOptions:r.getQueryDefaults(i)}),this.add(c)),c}add(r){st(this,li).has(r.queryHash)||(st(this,li).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const t=st(this,li).get(r.queryHash);t&&(r.destroy(),t===r&&st(this,li).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){wn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return st(this,li).get(r)}getAll(){return[...st(this,li).values()]}find(r){const t=Y({exact:!0},r);return this.getAll().find(n=>z3(t,n))}findAll(r={}){const t=this.getAll();return Object.keys(r).length>0?t.filter(n=>z3(r,n)):t}notify(r){wn.batch(()=>{this.listeners.forEach(t=>{t(r)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},li=new WeakMap,tN),ci,vn,Pl,ui,Po,rN,IL=(rN=class extends Mk{constructor(r){super();Fr(this,ui);Fr(this,ci);Fr(this,vn);Fr(this,Pl);this.mutationId=r.mutationId,pr(this,vn,r.mutationCache),pr(this,ci,[]),this.state=r.state||LL(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){st(this,ci).includes(r)||(st(this,ci).push(r),this.clearGcTimeout(),st(this,vn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){pr(this,ci,st(this,ci).filter(t=>t!==r)),this.scheduleGc(),st(this,vn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){st(this,ci).length||(this.state.status==="pending"?this.scheduleGc():st(this,vn).remove(this))}continue(){var r,t;return(t=(r=st(this,Pl))==null?void 0:r.continue())!=null?t:this.execute(this.state.variables)}execute(r){return Ne(this,null,function*(){var l,c,f,h,d,m,x,p,b,S,k,T,A,M,H,D,G,V,se,oe,q;const t=()=>{on(this,ui,Po).call(this,{type:"continue"})};pr(this,Pl,Pk({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(ie,ee)=>{on(this,ui,Po).call(this,{type:"failed",failureCount:ie,error:ee})},onPause:()=>{on(this,ui,Po).call(this,{type:"pause"})},onContinue:t,retry:(l=this.options.retry)!=null?l:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>st(this,vn).canRun(this)}));const n=this.state.status==="pending",i=!st(this,Pl).canStart();try{if(n)t();else{on(this,ui,Po).call(this,{type:"pending",variables:r,isPaused:i}),yield(f=(c=st(this,vn).config).onMutate)==null?void 0:f.call(c,r,this);const ee=yield(d=(h=this.options).onMutate)==null?void 0:d.call(h,r);ee!==this.state.context&&on(this,ui,Po).call(this,{type:"pending",context:ee,variables:r,isPaused:i})}const ie=yield st(this,Pl).start();return yield(x=(m=st(this,vn).config).onSuccess)==null?void 0:x.call(m,ie,r,this.state.context,this),yield(b=(p=this.options).onSuccess)==null?void 0:b.call(p,ie,r,this.state.context),yield(k=(S=st(this,vn).config).onSettled)==null?void 0:k.call(S,ie,null,this.state.variables,this.state.context,this),yield(A=(T=this.options).onSettled)==null?void 0:A.call(T,ie,null,r,this.state.context),on(this,ui,Po).call(this,{type:"success",data:ie}),ie}catch(ie){try{throw yield(H=(M=st(this,vn).config).onError)==null?void 0:H.call(M,ie,r,this.state.context,this),yield(G=(D=this.options).onError)==null?void 0:G.call(D,ie,r,this.state.context),yield(se=(V=st(this,vn).config).onSettled)==null?void 0:se.call(V,void 0,ie,this.state.variables,this.state.context,this),yield(q=(oe=this.options).onSettled)==null?void 0:q.call(oe,void 0,ie,r,this.state.context),ie}finally{on(this,ui,Po).call(this,{type:"error",error:ie})}}finally{st(this,vn).runNext(this)}})}},ci=new WeakMap,vn=new WeakMap,Pl=new WeakMap,ui=new WeakSet,Po=function(r){const t=n=>{switch(r.type){case"failed":return je(Y({},n),{failureCount:r.failureCount,failureReason:r.error});case"pause":return je(Y({},n),{isPaused:!0});case"continue":return je(Y({},n),{isPaused:!1});case"pending":return je(Y({},n),{context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()});case"success":return je(Y({},n),{data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return je(Y({},n),{data:void 0,error:r.error,failureCount:n.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"})}};this.state=t(this.state),wn.batch(()=>{st(this,ci).forEach(n=>{n.onMutationUpdate(r)}),st(this,vn).notify({mutation:this,type:"updated",action:r})})},rN);function LL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gi,zs,h0,aN,UL=(aN=class extends Gm{constructor(r={}){super();Fr(this,Gi);Fr(this,zs);Fr(this,h0);this.config=r,pr(this,Gi,new Set),pr(this,zs,new Map),pr(this,h0,0)}build(r,t,n){const i=new IL({mutationCache:this,mutationId:++If(this,h0)._,options:r.defaultMutationOptions(t),state:n});return this.add(i),i}add(r){st(this,Gi).add(r);const t=rh(r);if(typeof t=="string"){const n=st(this,zs).get(t);n?n.push(r):st(this,zs).set(t,[r])}this.notify({type:"added",mutation:r})}remove(r){if(st(this,Gi).delete(r)){const t=rh(r);if(typeof t=="string"){const n=st(this,zs).get(t);if(n)if(n.length>1){const i=n.indexOf(r);i!==-1&&n.splice(i,1)}else n[0]===r&&st(this,zs).delete(t)}}this.notify({type:"removed",mutation:r})}canRun(r){const t=rh(r);if(typeof t=="string"){const n=st(this,zs).get(t),i=n==null?void 0:n.find(l=>l.state.status==="pending");return!i||i===r}else return!0}runNext(r){var n,i;const t=rh(r);if(typeof t=="string"){const l=(n=st(this,zs).get(t))==null?void 0:n.find(c=>c!==r&&c.state.isPaused);return(i=l==null?void 0:l.continue())!=null?i:Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{st(this,Gi).forEach(r=>{this.notify({type:"removed",mutation:r})}),st(this,Gi).clear(),st(this,zs).clear()})}getAll(){return Array.from(st(this,Gi))}find(r){const t=Y({exact:!0},r);return this.getAll().find(n=>q3(t,n))}findAll(r={}){return this.getAll().filter(t=>q3(r,t))}notify(r){wn.batch(()=>{this.listeners.forEach(t=>{t(r)})})}resumePausedMutations(){const r=this.getAll().filter(t=>t.state.isPaused);return wn.batch(()=>Promise.all(r.map(t=>t.continue().catch(Fs))))}},Gi=new WeakMap,zs=new WeakMap,h0=new WeakMap,aN);function rh(e){var r;return(r=e.options.scope)==null?void 0:r.id}function V3(e){return{onFetch:(r,t)=>{var m,x,p,b,S;const n=r.options,i=(p=(x=(m=r.fetchOptions)==null?void 0:m.meta)==null?void 0:x.fetchMore)==null?void 0:p.direction,l=((b=r.state.data)==null?void 0:b.pages)||[],c=((S=r.state.data)==null?void 0:S.pageParams)||[];let f={pages:[],pageParams:[]},h=0;const d=()=>Ne(null,null,function*(){var H;let k=!1;const T=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(r.signal.aborted?k=!0:r.signal.addEventListener("abort",()=>{k=!0}),r.signal)})},A=Ok(r.options,r.fetchOptions),M=(D,G,V)=>Ne(null,null,function*(){if(k)return Promise.reject();if(G==null&&D.pages.length)return Promise.resolve(D);const oe=(()=>{const ae={client:r.client,queryKey:r.queryKey,pageParam:G,direction:V?"backward":"forward",meta:r.options.meta};return T(ae),ae})(),q=yield A(oe),{maxPages:ie}=r.options,ee=V?SL:kL;return{pages:ee(D.pages,q,ie),pageParams:ee(D.pageParams,G,ie)}});if(i&&l.length){const D=i==="backward",G=D?FL:K3,V={pages:l,pageParams:c},se=G(n,V);f=yield M(V,se,D)}else{const D=e!=null?e:l.length;do{const G=h===0?(H=c[0])!=null?H:n.initialPageParam:K3(n,f);if(h>0&&G==null)break;f=yield M(f,G),h++}while(h<D)}return f});r.options.persister?r.fetchFn=()=>{var k,T;return(T=(k=r.options).persister)==null?void 0:T.call(k,d,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},t)}:r.fetchFn=d}}}function K3(e,{pages:r,pageParams:t}){const n=r.length-1;return r.length>0?e.getNextPageParam(r[n],r,t[n],t):void 0}function FL(e,{pages:r,pageParams:t}){var n;return r.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,r[0],r,t[0],t):void 0}var xa,Fo,Bo,ou,lu,zo,cu,uu,nN,BL=(nN=class{constructor(e={}){Fr(this,xa);Fr(this,Fo);Fr(this,Bo);Fr(this,ou);Fr(this,lu);Fr(this,zo);Fr(this,cu);Fr(this,uu);pr(this,xa,e.queryCache||new DL),pr(this,Fo,e.mutationCache||new UL),pr(this,Bo,e.defaultOptions||{}),pr(this,ou,new Map),pr(this,lu,new Map),pr(this,zo,0)}mount(){If(this,zo)._++,st(this,zo)===1&&(pr(this,cu,Tk.subscribe(e=>Ne(this,null,function*(){e&&(yield this.resumePausedMutations(),st(this,xa).onFocus())}))),pr(this,uu,fm.subscribe(e=>Ne(this,null,function*(){e&&(yield this.resumePausedMutations(),st(this,xa).onOnline())}))))}unmount(){var e,r;If(this,zo)._--,st(this,zo)===0&&((e=st(this,cu))==null||e.call(this),pr(this,cu,void 0),(r=st(this,uu))==null||r.call(this),pr(this,uu,void 0))}isFetching(e){return st(this,xa).findAll(je(Y({},e),{fetchStatus:"fetching"})).length}isMutating(e){return st(this,Fo).findAll(je(Y({},e),{status:"pending"})).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=st(this,xa).get(r.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),t=st(this,xa).build(this,r),n=t.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&t.isStaleByTime(_x(r.staleTime,t))&&this.prefetchQuery(r),Promise.resolve(n))}getQueriesData(e){return st(this,xa).findAll(e).map(({queryKey:r,state:t})=>{const n=t.data;return[r,n]})}setQueryData(e,r,t){const n=this.defaultQueryOptions({queryKey:e}),i=st(this,xa).get(n.queryHash),l=i==null?void 0:i.state.data,c=vL(r,l);if(c!==void 0)return st(this,xa).build(this,n).setData(c,je(Y({},t),{manual:!0}))}setQueriesData(e,r,t){return wn.batch(()=>st(this,xa).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,r,t)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=st(this,xa).get(r.queryHash))==null?void 0:t.state}removeQueries(e){const r=st(this,xa);wn.batch(()=>{r.findAll(e).forEach(t=>{r.remove(t)})})}resetQueries(e,r){const t=st(this,xa);return wn.batch(()=>(t.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(Y({type:"active"},e),r)))}cancelQueries(e,r={}){const t=Y({revert:!0},r),n=wn.batch(()=>st(this,xa).findAll(e).map(i=>i.cancel(t)));return Promise.all(n).then(Fs).catch(Fs)}invalidateQueries(e,r={}){return wn.batch(()=>{var t,n;return st(this,xa).findAll(e).forEach(i=>{i.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(je(Y({},e),{type:(n=(t=e==null?void 0:e.refetchType)!=null?t:e==null?void 0:e.type)!=null?n:"active"}),r)})}refetchQueries(e,r={}){var i;const t=je(Y({},r),{cancelRefetch:(i=r.cancelRefetch)!=null?i:!0}),n=wn.batch(()=>st(this,xa).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,t);return t.throwOnError||(c=c.catch(Fs)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(n).then(Fs)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const t=st(this,xa).build(this,r);return t.isStaleByTime(_x(r.staleTime,t))?t.fetch(r):Promise.resolve(t.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fs).catch(Fs)}fetchInfiniteQuery(e){return e.behavior=V3(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fs).catch(Fs)}ensureInfiniteQueryData(e){return e.behavior=V3(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fm.isOnline()?st(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return st(this,xa)}getMutationCache(){return st(this,Fo)}getDefaultOptions(){return st(this,Bo)}setDefaultOptions(e){pr(this,Bo,e)}setQueryDefaults(e,r){st(this,ou).set(u0(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...st(this,ou).values()],t={};return r.forEach(n=>{d0(e,n.queryKey)&&Object.assign(t,n.defaultOptions)}),t}setMutationDefaults(e,r){st(this,lu).set(u0(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...st(this,lu).values()],t={};return r.forEach(n=>{d0(e,n.mutationKey)&&Object.assign(t,n.defaultOptions)}),t}defaultQueryOptions(e){if(e._defaulted)return e;const r=je(Y(Y(Y({},st(this,Bo).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return r.queryHash||(r.queryHash=yv(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===xv&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:je(Y(Y(Y({},st(this,Bo).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){st(this,xa).clear(),st(this,Fo).clear()}},xa=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,ou=new WeakMap,lu=new WeakMap,zo=new WeakMap,cu=new WeakMap,uu=new WeakMap,nN),zL=E.createContext(void 0),qL=({client:e,children:r})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(zL.Provider,{value:e,children:r}));function HL(){window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&typeof e.reason=="object"&&e.reason.message&&e.reason.message.includes("fetch")&&console.error("Network/API error detected:",e.reason),e.preventDefault()})}function GL(){const e=fa(),r=Dn(),t=[{icon:y0,path:"/pos",label:"POS"},{icon:l4,path:"/invoice",label:"Invoice"},{icon:mi,path:"/items",label:"Items"},{icon:Ho,path:"/customers",label:"Customers"},{icon:Wc,path:"/dashboard",label:"Dashboard"},{icon:Ld,path:"/closing_shift",label:"Closing Shift"}],n=i=>i==="/pos"?r.pathname==="/"||r.pathname==="/pos":r.pathname.startsWith(i);return a.jsxs("div",{className:"hidden lg:flex fixed h-screen w-20 top-0 left-0 bg-white dark:bg-gray-800 shadow-lg flex-col border-r border-gray-200 dark:border-gray-700 z-50",children:[a.jsx("div",{className:"h-20 flex items-center justify-center border-gray-100 dark:border-gray-700 cursor-pointer active:scale-90 transition-transform duration-150",onClick:()=>e("/"),children:a.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-12 h-12 rounded-full object-cover"})}),a.jsx("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:t.map((i,l)=>a.jsx("button",{onClick:()=>e(i.path),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all cursor-pointer active:scale-90 duration-150 ${n(i.path)?"bg-beveren-100 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-beveren-600 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:i.label,children:a.jsx(i.icon,{size:20})},l))})]})}const VL=new BL;function KL(){return E.useEffect(()=>{HL()},[]),a.jsx(qL,{client:VL,children:a.jsx(CC,{children:a.jsx(l8,{children:a.jsx(OC,{children:a.jsxs(TC,{children:[a.jsx(GL,{}),a.jsx(U5,{}),a.jsx(F$,{position:"top-center",autoClose:3e3,"aria-label":"Notification"})]})})})})})}function WL(){const e=fa(),{isAuthenticated:r,loading:t}=Zo();return E.useEffect(()=>{t||(r?e("/pos",{replace:!0}):e("/login",{replace:!0}))},[r,t,e]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),a.jsx("p",{className:"text-beveren-600 mt-4",children:"Loading..."})]})})}function Sx({customer:e,isOpen:r,onClose:t,onSuccess:n}){const[i,l]=E.useState([]),[c,f]=E.useState(!1),[h,d]=E.useState(!1),[m,x]=E.useState(!1),[p,b]=E.useState(!1),[S,k]=E.useState(90),[T,A]=E.useState(""),[M,H]=E.useState(new Set),[D,G]=E.useState({}),[V,se]=E.useState("select-customer"),[oe,q]=E.useState(e||""),[ie,ee]=E.useState(""),[ae,J]=E.useState([]),[le,pe]=E.useState([]),[ue,ne]=E.useState([]),[he,Le]=E.useState(new Map),{customers:Z,isLoading:B}=Fm(ie),{posDetails:de}=un(),{modes:xe}=Am(typeof(de==null?void 0:de.name)=="string"?de.name:""),fe=(de==null?void 0:de.currency)||"USD",z=iv(fe),[X,Ae]=E.useState([]),[Ye,ct]=E.useState(""),Ze=E.useCallback(()=>Ne(null,null,function*(){try{const qe=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${oe}`)).json();qe.message&&Array.isArray(qe.message)?Ae(qe.message):Ae([])}catch(re){console.error("Error loading customer addresses:",re),Ae([])}}),[oe]),mt=E.useCallback(()=>Ne(null,null,function*(){if(!oe)return;const re=`${oe}-${S}-${Ye}`;if(he.has(re)){const qe=he.get(re);pe(qe),ne(qe),b(!0);return}x(!0);try{const qe=new Date().toISOString().split("T")[0],Ke=new Date(Date.now()-S*24*60*60*1e3).toISOString().split("T")[0],dt=yield ny(oe,Ke,qe,Ye);if(dt.success&&dt.data){const gt=new Map;dt.data.forEach(ft=>{ft.items.forEach(be=>{be.available_qty>0&&gt.set(be.item_code,be.item_name)})});const bt=Array.from(gt.entries()).map(([ft,be])=>({item_code:ft,item_name:be}));Le(ft=>new Map(ft).set(re,bt)),pe(bt),ne(bt),b(!0)}else pe([]),ne([]),b(!0)}catch(qe){console.error("Error loading available items:",qe),pe([]),ne([]),b(!0)}finally{x(!1)}}),[oe,S,Ye,he]),$t=E.useCallback(re=>Ne(null,null,function*(){if(!re)return;const qe=`${re}-${S}-${Ye}`;if(he.has(qe)){const Ke=he.get(qe);pe(Ke),ne(Ke),b(!0);return}x(!0);try{const Ke=new Date().toISOString().split("T")[0],dt=new Date(Date.now()-S*24*60*60*1e3).toISOString().split("T")[0],gt=yield ny(re,dt,Ke,Ye);if(gt.success&&gt.data){const bt=new Map;gt.data.forEach(be=>{be.items.forEach(tt=>{tt.available_qty>0&&bt.set(tt.item_code,tt.item_name)})});const ft=Array.from(bt.entries()).map(([be,tt])=>({item_code:be,item_name:tt}));Le(be=>new Map(be).set(qe,ft)),pe(ft),ne(ft),b(!0)}else pe([]),ne([]),b(!0)}catch(Ke){console.error("Error loading available items:",Ke),pe([]),ne([]),b(!0)}finally{x(!1)}}),[S,Ye,he]);E.useEffect(()=>{r&&(b(!1),e?(se("select-items"),q(e)):oe||(se("select-customer"),q("")),J([]),l([]),H(new Set),ne([]),ee(""),ct(""),e&&(mt(),Ze()))},[r,e]);const ur=()=>Ne(null,null,function*(){if(ae.length===0){Ve.error("Please select at least one item to return");return}se("filter-invoices"),d(!0);try{const re=new Date().toISOString().split("T")[0],qe=new Date(Date.now()-S*24*60*60*1e3).toISOString().split("T")[0],Ke=yield ny(oe,qe,re,Ye);if(Ke.success&&Ke.data){const dt=Ke.data.filter(gt=>gt.items.some(bt=>ae.some(ft=>ft.item_code===bt.item_code&&bt.available_qty>0))).map(gt=>je(Y({},gt),{items:gt.items.filter(bt=>ae.some(ft=>ft.item_code===bt.item_code&&bt.available_qty>0)).map(bt=>je(Y({},bt),{return_qty:bt.available_qty}))}));l(dt),G(gt=>{var ft,be,tt,Ge;const bt=Y({},gt);for(const xt of dt)if(M.has(xt.name)){const ut=xt.items.reduce((yr,Gr)=>yr+Gr.qty*Gr.rate,0),Ut=xt.items.reduce((yr,Gr)=>yr+(Gr.return_qty||0)*Gr.rate,0),qt=ut>0?Ut/ut:0,er=(xt.paid_amount||xt.grand_total)*qt,nr=Math.round(er*100)/100,vr=((ft=xe.find(yr=>yr.default===1))==null?void 0:ft.mode_of_payment)||((be=xe[0])==null?void 0:be.mode_of_payment)||"Cash",na=((Ge=(tt=xt.payments)==null?void 0:tt[0])==null?void 0:Ge.mode_of_payment)||vr;bt[xt.name]=bt[xt.name]||{method:na,amount:nr}}return bt}),se("select-invoices")}else Ve.error(Ke.error||"Failed to load customer invoices"),l([])}catch(re){console.error("Error loading customer invoices:",re),Ve.error("Failed to load customer invoices"),l([])}finally{d(!1)}}),ve=(re,qe,Ke)=>{J(Ke?dt=>[...dt,{item_code:re,item_name:qe}]:dt=>dt.filter(gt=>gt.item_code!==re))},et=(re,qe,Ke)=>{l(dt=>dt.map(gt=>{if(gt.name===re){const bt=gt.items.map(ft=>{if(ft.item_code===qe){const be=Math.max(0,Math.min(Ke,ft.available_qty));return je(Y({},ft),{return_qty:be})}return ft});return je(Y({},gt),{items:bt})}return gt}))};E.useEffect(()=>{G(re=>{const qe=Y({},re);return i.forEach(Ke=>{if(M.has(Ke.name)){const dt=Ke.items.reduce((ft,be)=>ft+(be.return_qty||0)*be.rate,0),gt=Math.round(dt*100)/100,bt=Ke.name;if(qe[bt]){const ft=qe[bt];qe[bt]=je(Y({},ft),{amount:gt})}}}),qe})},[i,M]);const Tt=re=>{H(qe=>{var dt,gt,bt,ft;const Ke=new Set(qe);if(Ke.has(re))Ke.delete(re),l(be=>be.map(tt=>{if(tt.name===re){const Ge=tt.items.map(xt=>je(Y({},xt),{return_qty:0}));return je(Y({},tt),{items:Ge})}return tt})),G(be=>{const tt=Y({},be);return delete tt[re],tt});else{Ke.add(re);const be=i.find(tt=>tt.name===re);if(be){const tt=be.items.reduce((nr,vr)=>nr+vr.qty*vr.rate,0),Ge=be.items.reduce((nr,vr)=>nr+(vr.return_qty||0)*vr.rate,0),xt=tt>0?Ge/tt:0,ut=(be.paid_amount||be.grand_total)*xt,Ut=Math.round(ut*100)/100,qt=((dt=xe.find(nr=>nr.default===1))==null?void 0:dt.mode_of_payment)||((gt=xe[0])==null?void 0:gt.mode_of_payment)||"Cash",er=((ft=(bt=be.payments)==null?void 0:bt[0])==null?void 0:ft.mode_of_payment)||qt;G(nr=>je(Y({},nr),{[re]:nr[re]||{method:er,amount:Ut}}))}}return Ke})},ge=re=>{l(qe=>qe.map(Ke=>{if(Ke.name===re){const dt=Ke.items.map(gt=>je(Y({},gt),{return_qty:gt.available_qty}));return je(Y({},Ke),{items:dt})}return Ke})),H(qe=>new Set(qe).add(re))},Xe=i.filter(re=>re.name.toLowerCase().includes(T.toLowerCase())||re.items.some(qe=>qe.item_name.toLowerCase().includes(T.toLowerCase())||qe.item_code.toLowerCase().includes(T.toLowerCase()))),lt=M.size>0&&i.some(re=>M.has(re.name)&&re.items.some(qe=>(qe.return_qty||0)>0)),gr=i.reduce((re,qe)=>re+qe.items.reduce((Ke,dt)=>Ke+(dt.return_qty||0)*dt.rate,0),0),Kt=()=>Ne(null,null,function*(){const re=i.filter(Ke=>M.has(Ke.name)).map(Ke=>{var dt,gt,bt;return{invoice_name:Ke.name,return_items:Ke.items.filter(ft=>(ft.return_qty||0)>0),payment_method:(dt=D[Ke.name])==null?void 0:dt.method,return_amount:(bt=(gt=D[Ke.name])==null?void 0:gt.amount)!=null?bt:Ke.items.reduce((ft,be)=>ft+(be.return_qty||0)*be.rate,0)}}).filter(Ke=>Ke.return_items.length>0);if(re.length===0){Ve.error("Please select at least one item to return");return}const qe={customer:e||"",invoice_returns:re};f(!0);try{const Ke=yield mM(qe);Ke.success?(Ve.success(Ke.message||"Returns created successfully"),n(Ke.createdReturns||[]),t(),window.location.reload()):Ve.error(Ke.error||"Failed to create returns")}catch(Ke){console.error("Error creating returns:",Ke),Ve.error("Failed to create returns")}finally{f(!1)}});return r?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-7xl h-[95vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:a.jsx(zl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Multi-Invoice Return"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Customer: ",oe||"Not selected"]})]})]}),a.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ha,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),a.jsx("div",{className:"mt-3 sm:mt-4 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[!e&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${V==="select-customer"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${V==="select-customer"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:"1"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Customer"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"})]}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${V==="select-items"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${V==="select-items"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"1":"2"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Items"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${V==="filter-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${V==="filter-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"2":"3"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Filter Invoices"})]}),a.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${V==="select-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${V==="select-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"3":"4"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Invoices"})]})]})})]}),V==="select-customer"&&a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Customer"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a customer to process multi-invoice returns"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:ie,onChange:re=>ee(re.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[a.jsx("div",{className:"space-y-2 flex-1 overflow-y-auto max-h-60 sm:max-h-none",children:B?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading customers..."})}):Z&&Z.length>0?Z.map(re=>a.jsxs("button",{onClick:()=>Ne(null,null,function*(){const qe=re.id||re.name||"";q(qe),b(!1),se("select-items");try{const dt=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${qe}`)).json();dt.message&&Array.isArray(dt.message)?Ae(dt.message):Ae([]),yield $t(qe)}catch(Ke){console.error("Error loading customer data:",Ke),Ae([])}}),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:re.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:re.id||"No ID"})]},re.id||re.name||Math.random())):ie.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',ie,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Z&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:ie.trim()?`${Z.length} customers found`:`${Z.length} customers total`})})]})]}),V==="select-items"&&a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Items to Return"}),a.jsx("p",{className:"hidden sm:block text-sm text-gray-600 dark:text-gray-400",children:"Choose which items you want to return from customer invoices"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Days to Look Back"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(du,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{type:"number",min:"1",max:"365",value:S||"",onChange:re=>{const qe=re.target.value;if(qe==="")k(0);else{const Ke=parseInt(qe);!isNaN(Ke)&&Ke>0&&k(Ke)}},onBlur:()=>{(!S||S<1)&&k(90)},className:"w-20 sm:w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"days"}),a.jsx("button",{onClick:mt,disabled:m,className:`p-2 rounded-lg transition-colors ${m?"text-gray-400 cursor-not-allowed":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:m?"Loading items...":"Refresh items with new days setting",children:a.jsx(zl,{className:`w-4 h-4 ${m?"animate-spin":""}`})})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Address (Optional)"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bd,{className:"w-4 h-4 text-gray-400"}),a.jsx("input",{list:"address-list",value:Ye,onChange:re=>{ct(re.target.value),setTimeout(()=>{m||mt()},300)},className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                                  focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800
                                  text-gray-900 dark:text-white`}),a.jsx("datalist",{id:"address-list",children:X.map(re=>a.jsxs("option",{value:re.name,children:[re.address_line1,", ",re.city]},re.name))})]})]}),ae.length>0&&a.jsxs("button",{onClick:ur,disabled:h,className:`px-4 py-2 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 ${h?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-orange-700"}`,children:[a.jsx(qy,{className:"w-4 h-4"}),a.jsx("span",{children:h?"Loading...":`Find Invoices (${ae.length} items)`})]})]})}),m||!p?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m?"Loading available items...":"Preparing to load items..."})]}):le.length>0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Available Items (Last ",S," days)"]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ae.length," of ",le.length," selected"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search items by name or code...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",onChange:re=>{const qe=re.target.value.toLowerCase(),Ke=le.filter(dt=>dt.item_name.toLowerCase().includes(qe)||dt.item_code.toLowerCase().includes(qe));ne(Ke)}})]}),ae.length>0&&a.jsx("button",{onClick:()=>J([]),className:"px-3 py-2 text-sm text-orange-600  hover:bg-red-50 dark:text-orange-400 dark:hover:text-orange-300 dark:hover:bg-orange-900/20 rounded-lg border border-orange-200  transition-colors",children:"Clear All"})]})}),a.jsx("div",{className:"overflow-x-auto flex-1 min-h-0",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:ae.length===ue.length&&ue.length>0,onChange:re=>{re.target.checked?J(ue):J([])},className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),a.jsx("span",{className:"text-xs text-gray-400",children:"All"})]})}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Name"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Code"}),a.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:ue.map(re=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:ae.some(qe=>qe.item_code===re.item_code),onChange:qe=>ve(re.item_code,re.item_name,qe.target.checked),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:re.item_name})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:re.item_code})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ae.some(qe=>qe.item_code===re.item_code)?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:ae.some(qe=>qe.item_code===re.item_code)?"Selected":"Available"})})]},re.item_code))})]})}),ae.length>0&&a.jsx("div",{className:"mt-4 flex items-center justify-center",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[a.jsx("span",{className:"font-medium",children:ae.length})," items selected for return"]})})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center min-h-0",children:[a.jsx(mi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Items Found"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["No items found in customer invoices from the last ",S," days."]}),a.jsx("button",{onClick:mt,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Refresh Items"})]})]}),V==="filter-invoices"&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Filtering Invoices"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Finding invoices from the last ",S," days containing selected items..."]})]}),a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Filtering invoices..."})]})})]}),V==="select-invoices"&&a.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex-shrink-0",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices or items...",value:T,onChange:re=>A(re.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:()=>se("select-items"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium",children:" Back to Items"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),a.jsx("p",{className:"text-xl font-bold text-beveren-600 dark:text-beveren-400",children:_t(gr,fe)})]})]})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Xe.length," invoice(s) found  ",M.size," selected"]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected Items: ",ae.map(re=>re.item_name).join(", ")]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{maxHeight:"calc(95vh - 320px)"},children:V==="select-invoices"&&a.jsx(a.Fragment,{children:h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoices..."})]})}):Xe.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Invoices Found"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No invoices found containing the selected items in the last ",S," days."]}),a.jsx("button",{onClick:()=>se("select-items"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:" Back to Items Selection"})]})}):a.jsx("div",{className:"space-y-6",children:Xe.map(re=>{var qe,Ke,dt,gt,bt;return a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:M.has(re.name),onChange:()=>Tt(re.name),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:re.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:re.posting_date}),a.jsx("span",{children:_t(re.grand_total,fe)}),a.jsx("span",{className:"capitalize",children:re.status})]})]})]}),a.jsx("button",{onClick:()=>ge(re.name),className:"px-3 py-1 text-sm bg-beveren-100 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 rounded hover:bg-beveren-200 dark:hover:bg-beveren-900/40 transition-colors",children:"Return All Available"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Sold"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Returned"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Available"}),a.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Return Qty"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:re.items.map(ft=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mi,{className:"w-4 h-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ft.item_name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ft.item_code})]})]})}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900 dark:text-white",children:ft.qty}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600 dark:text-red-400",children:ft.returned_qty}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`text-sm font-medium ${ft.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:ft.available_qty})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx("button",{onClick:()=>et(re.name,ft.item_code,(ft.return_qty||0)-1),disabled:!ft.return_qty||ft.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(_m,{className:"w-3 h-3"})}),a.jsx("input",{type:"number",min:"0",max:ft.available_qty,value:ft.return_qty||0,onChange:be=>et(re.name,ft.item_code,parseInt(be.target.value)||0),className:"w-12 px-1 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs",disabled:ft.available_qty===0}),a.jsx("button",{onClick:()=>et(re.name,ft.item_code,(ft.return_qty||0)+1),disabled:ft.available_qty===0||(ft.return_qty||0)>=ft.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:a.jsx(Wi,{className:"w-3 h-3"})})]})}),a.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:_t((ft.return_qty||0)*ft.rate,fe)})]},ft.item_code))})]})}),M.has(re.name)&&a.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mode of Payment"}),a.jsx("select",{value:((qe=D[re.name])==null?void 0:qe.method)||((Ke=xe.find(ft=>ft.default===1))==null?void 0:Ke.mode_of_payment)||((dt=xe[0])==null?void 0:dt.mode_of_payment)||"Cash",onChange:ft=>{const be=ft.target.value;G(tt=>{var Ge,xt;return je(Y({},tt),{[re.name]:{method:be,amount:(xt=(Ge=tt[re.name])==null?void 0:Ge.amount)!=null?xt:(()=>{const ut=re.items.reduce((nr,vr)=>nr+vr.qty*vr.rate,0),Ut=re.items.reduce((nr,vr)=>nr+(vr.return_qty||0)*vr.rate,0),qt=ut>0?Ut/ut:0,er=(re.paid_amount||re.grand_total)*qt;return Math.round(er*100)/100})()}})})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500",children:xe.map(ft=>a.jsx("option",{value:ft.mode_of_payment,children:ft.mode_of_payment},ft.mode_of_payment))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:z}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:(bt=(gt=D[re.name])==null?void 0:gt.amount)!=null?bt:(()=>{const ft=re.items.reduce((be,tt)=>be+(tt.return_qty||0)*tt.rate,0);return Math.round(ft*100)/100})(),onChange:ft=>{const be=parseFloat(ft.target.value)||0,tt=Math.round(be*100)/100;G(Ge=>{var xt,ut,Ut;return je(Y({},Ge),{[re.name]:{method:((xt=Ge[re.name])==null?void 0:xt.method)||((ut=xe.find(qt=>qt.default===1))==null?void 0:ut.mode_of_payment)||((Ut=xe[0])==null?void 0:Ut.mode_of_payment)||"Cash",amount:tt}})})},className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 text-right",placeholder:"0.00"})]})]})]})})]},re.name)})})})}),V==="select-invoices"&&a.jsx("div",{className:"flex-shrink-0 px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:lt&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ko,{className:"w-4 h-4 text-orange-500"}),a.jsxs("span",{children:["Items selected for return from ",M.size," invoice(s)"]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),a.jsx("button",{onClick:Kt,disabled:!lt||c,className:`px-6 sm:px-8 py-3 rounded-lg font-semibold text-base sm:text-lg transition-colors shadow-lg ${lt&&!c?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:c?"Processing...":"Create Returns"})]})]})})]})}):null}function Dk(e){return Ne(this,null,function*(){try{const r=yield i7(e);if(!r||!r.items||!Array.isArray(r.items))throw new Error("No items found in draft invoice");const t=[];for(const i of r.items){const l={id:i.item_code,name:i.item_name,category:"General",price:i.rate,image:"",quantity:i.qty};t.push(l)}const n=r.customer?{id:r.customer,name:r.customer_name||r.customer,customer_name:r.customer_name||r.customer,email:r.customer_email||"",email_id:r.customer_email||"",phone:r.customer_mobile_no||"",mobile_no:r.customer_mobile_no||"",territory:"",customer_group:"",customer_type:"individual",type:"individual",address:{addressType:"Billing",street:r.customer_address_line1||"",city:r.customer_city||"",state:r.customer_state||"",zipCode:r.customer_pincode||"",country:r.customer_country||"Saudi Arabia"},status:"active",preferredPaymentMethod:"Cash",loyaltyPoints:0,totalSpent:0,totalOrders:0,tags:[],createdAt:new Date().toISOString()}:null;return B$(e,t,n),!0}catch(r){console.error("Error caching draft invoice items:",r);const t=hu(r,"Failed to cache draft invoice items");return Ve.error(t),!1}})}function YL(e,r){if(!e||e.length===0)throw new Error("No invoices to export");const t=["Invoice Number","Customer","Posting Date","Due Date","Grand Total","Outstanding Amount","Status","Payment Method","Currency"],n=e.map(f=>{var h,d;return[f.name||"",f.customer||"",f.posting_date||"",f.due_date||"",((h=f.grand_total)==null?void 0:h.toString())||"0",((d=f.outstanding_amount)==null?void 0:d.toString())||"0",f.status||"",f.mode_of_payment||"",f.currency||""]}),i=[t,...n].map(f=>f.map(h=>`"${h}"`).join(",")).join(`
`),l=new Blob([i],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");if(c.download!==void 0){const f=URL.createObjectURL(l);c.setAttribute("href",f);const d=`invoices_export_${new Date().toISOString().split("T")[0]}.csv`;c.setAttribute("download",r||d),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(f)}}function XL(e="invoices",r="csv"){var l;const t=new Date().toISOString().split("T")[0],i=((l=new Date().toTimeString().split(" ")[0])==null?void 0:l.replace(/:/g,"-"))||"00-00-00";return`${e}_export_${t}_${i}.${r}`}function QL(){const e=fa(),r=bu("(max-width: 1024px)"),[t,n]=E.useState("all"),[i,l]=E.useState(""),[c,f]=E.useState("all"),[h,d]=E.useState("all"),[m,x]=E.useState("all"),[p,b]=E.useState("list"),[S]=E.useState(null),[k,T]=E.useState(!1),[A,M]=E.useState(!1),[H,D]=E.useState(!1),[G,V]=E.useState(""),[se,oe]=E.useState(""),[q,ie]=E.useState(!1),[ee,ae]=E.useState(null),[J,le]=E.useState(!1),[pe,ue]=E.useState(null),[ne,he]=E.useState(!1),[Le,Z]=E.useState(null),{invoices:B,isLoading:de,isLoadingMore:xe,error:fe,hasMore:z,totalLoaded:X,totalCount:Ae,loadMore:Ye}=ov(i,!0,m),{modes:ct}=Qx(),{customers:Ze}=Fm(),{posDetails:mt}=un(),{userInfo:$t,isLoading:ur}=x_(),ve=($t==null?void 0:$t.is_admin_user)||!1,et=($t==null?void 0:$t.full_name)||"";E.useEffect(()=>{!ve&&et&&m==="all"&&x(et)},[ve,et,m]),E.useEffect(()=>{const Be=at=>{at.key==="Escape"&&(ne&&Ut(),A&&M(!1),H&&D(!1))};return document.addEventListener("keydown",Be),()=>document.removeEventListener("keydown",Be)},[ne,A,H]);const Tt=[{id:"all",name:"All Invoices",icon:Fl,color:"text-gray-600"},{id:"Draft",name:"Draft",icon:z8,color:"text-gray-500"},{id:"Unpaid",name:"Unpaid",icon:du,color:"text-yellow-600"},{id:"Partly Paid",name:"Partly Paid",icon:Hd,color:"text-orange-600"},{id:"Paid",name:"Paid",icon:Ko,color:"text-green-600"},{id:"Overdue",name:"Overdue",icon:Kc,color:"text-red-600"},{id:"Return",name:"Returns",icon:Yo,color:"text-purple-600"},{id:"Cancelled",name:"Cancelled",icon:Kc,color:"text-red-500"}],ge=Be=>{if(c==="all")return!0;if(c==="today")return hv(Be);if(c==="yesterday"){const at=new Date;at.setUTCDate(at.getUTCDate()-1);const $r=new Date(Be);return $r.getUTCFullYear()===at.getUTCFullYear()&&$r.getUTCMonth()===at.getUTCMonth()&&$r.getUTCDate()===at.getUTCDate()}return c==="week"?mv(Be):c==="month"?gv(Be):c==="year"?pv(Be):!0},Xe=Be=>{const at="px-2 py-1 rounded-full text-xs font-medium";switch((Be==null?void 0:Be.toLowerCase())||""){case"paid":return`${at} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${at} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${at} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${at} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${at} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${at} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${at} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${at} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${at} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${at} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${at} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${at} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${at} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},lt=E.useMemo(()=>{if(de)return[];if(fe)return[];const Be=B.filter(at=>{const $r=(at.status||"").trim(),me=(t||"").trim(),$e=t==="all"||$r===me,De=h==="all"||at.paymentMethod===h,We=m==="all"||at.cashier===m,Te=ge(at.date);return De&&We&&$e&&Te});return t!=="all"&&console.log(`[InvoiceHistory] Filtering by status "${t}":`,{totalInvoices:B.length,filteredCount:Be.length,activeTab:t,sampleStatuses:B.slice(0,5).map(at=>at.status)}),Be},[B,t,c,h,m,de,fe]),gr=E.useMemo(()=>[...new Set(B.map(Be=>Be.cashier).filter(Boolean))],[B]),Kt=E.useMemo(()=>{if(!Ze)return[];const Be=Ze.filter($r=>$r&&($r.customer_name||$r.name));if(!se.trim())return Be;const at=se.toLowerCase();return Be.filter($r=>{var De,We;const me=((De=$r.customer_name)==null?void 0:De.toLowerCase())||"",$e=((We=$r.name)==null?void 0:We.toLowerCase())||"";return me.includes(at)||$e.includes(at)})},[Ze,se]),re=Be=>{const at=B.filter(me=>{const $e=h==="all"||me.paymentMethod===h,De=m==="all"||me.cashier===m,We=ge(me.date);return $e&&De&&We});if(Be==="all")return at.length;const $r=(Be||"").trim();return at.filter(me=>(me.status||"").trim()===$r).length};if(de&&B.length===0||ur)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if(fe)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:fe.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const qe=()=>a.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:Be=>l(Be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),de&&B.length>0&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]}),a.jsxs("select",{value:c,onChange:Be=>f(Be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"yesterday",children:"Yesterday"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("select",{value:m,onChange:Be=>x(Be.target.value),disabled:!ve,className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${ve?"":"opacity-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"all",children:"All Cashiers"}),gr.map(Be=>a.jsx("option",{value:Be,children:Be},Be))]}),!ve&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"}),a.jsxs("select",{value:h,onChange:Be=>d(Be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Payments"}),ct.map(Be=>a.jsx("option",{value:Be.name,children:Be.name},Be.name))]})]}),z&&a.jsx("div",{className:"mt-3 text-center",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Search works on all invoices in the database. Load more invoices to see additional results."})})]}),Ke=()=>a.jsxs("div",{className:"w-full max-w-none grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:lt.length}),z&&a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Showing ",X," of ",Ae]})]}),a.jsx(Fl,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(lt.reduce((Be,at)=>Be+at.totalAmount,0),(mt==null?void 0:mt.currency)||"USD")})]}),a.jsx(Ll,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(lt.filter(Be=>Be.status==="Paid").reduce((Be,at)=>Be+at.totalAmount,0),(mt==null?void 0:mt.currency)||"USD")})]}),a.jsx(Ko,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(lt.filter(Be=>["Unpaid","Partly Paid","Overdue"].includes(Be.status)).reduce((Be,at)=>Be+at.totalAmount,0),(mt==null?void 0:mt.currency)||"USD")})]}),a.jsx(Hd,{className:"w-8 h-8 text-orange-600"})]})})]}),dt=()=>{var Be;return a.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t==="all"?"All Invoices":(Be=Tt.find(at=>at.id===t))==null?void 0:Be.name," (",lt.length,")"]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-md transition-colors ${p==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.jsx(Vx,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b("cards"),className:`p-2 rounded-md transition-colors ${p==="cards"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.jsx(y0,{className:"w-4 h-4"})})]})]}),p==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(mt==null?void 0:mt.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:lt.map(at=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:at.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[at.date," ",at.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:at.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:at.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:at.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(at.totalAmount,at.currency)}),at.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",_t(at.giftCardDiscount,at.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:Xe(at.status),children:at.status})}),(mt==null?void 0:mt.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:Xe(at.custom_zatca_submit_status),children:at.custom_zatca_submit_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>gt(at),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[a.jsx(Ul,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),at.status==="Draft"&&a.jsxs("button",{onClick:()=>Ge(at),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 flex items-center space-x-1",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(at.status)&&!at.is_return&&bt(at)&&a.jsxs("button",{onClick:()=>na(at),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[a.jsx(zl,{className:"w-4 h-4"}),a.jsx("span",{children:"Return"})]}),at.status==="Draft"&&a.jsxs("button",{onClick:()=>ft(at),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[a.jsx(rm,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]})]})})]},`${t}-${at.id}`))})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:lt.map(at=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:at.id}),a.jsx("span",{className:Xe(at.status),children:at.status})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:at.customer})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_t(at.totalAmount,at.currency)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:at.date})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cashier:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:at.cashier})]})]}),a.jsxs("div",{className:"mt-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>gt(at),className:"flex-1 text-xs px-3 py-2 bg-beveren-600 text-white rounded hover:bg-beveren-700 transition-colors",children:"View"}),at.status==="Draft"&&a.jsxs("button",{onClick:()=>Ge(at),className:"flex-1 text-xs px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(ql,{className:"w-3 h-3"}),a.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(at.status)&&bt(at)&&a.jsx("button",{onClick:()=>na(at),className:"flex-1 text-xs px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"Return"})]})]},`${t}-${at.id}`))}),z&&a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx("button",{onClick:Ye,disabled:xe,className:`px-6 py-3 rounded-lg font-medium transition-colors ${xe?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:xe?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More (${X}/${Ae})`})}),!z&&X>0&&a.jsx("div",{className:"text-center mt-8 py-4",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:lt.length>0?`Showing ${lt.length} invoice${lt.length!==1?"s":""} (${X} total loaded)`:`All ${Ae} invoices loaded`})})]})},gt=Be=>{e(`/invoice/${Be.id}`)},bt=Be=>!Be||!Be.items?(console.log("No invoice or items found for:",Be==null?void 0:Be.id),!1):Be.canReturn!==void 0?Be.canReturn:Be.items.some($r=>{const me=$r.qty||$r.quantity||0;return($r.returned_qty||0)<me}),ft=Be=>{if(Be.status!=="Draft"){Ve.error("Only draft invoices can be deleted");return}ue(Be),le(!0)},be=()=>Ne(null,null,function*(){if(pe)try{yield Zx(pe.id),Ve.success(`Draft invoice ${pe.id} deleted successfully`),le(!1),ue(null),window.location.reload()}catch(Be){Ve.error(Be.message||"Failed to delete invoice")}}),tt=()=>{le(!1),ue(null)},Ge=Be=>{if(Be.status!=="Draft"){Ve.error("Only draft invoices can be edited");return}Z(Be),he(!0)},xt=Be=>Ne(null,null,function*(){try{(yield Dk(Be.id))&&(he(!1),Z(null),setTimeout(()=>{e("/pos")},500))}catch(at){console.error("Error going to cart:",at),Ve.error(at.message||"Failed to add items to cart")}}),ut=Be=>Ne(null,null,function*(){try{yield k4(Be.id),Ve.success(`Draft invoice ${Be.id} submitted successfully`),he(!1),Z(null),window.location.reload()}catch(at){console.error("Error submitting draft invoice:",at);const $r=hu(at,"Failed to submit draft invoice");Ve.error($r)}}),Ut=()=>{he(!1),Z(null)},qt=Be=>{er(Be),T(!1)},er=Be=>Ne(null,null,function*(){try{const at=yield Rm(Be);e(`/invoice/${at.return_invoice}`),Ve.success(`Invoice returned: ${at.return_invoice}`)}catch(at){Ve.error(at.message||"Failed to return invoice")}}),nr=Be=>{console.log("Cancelling invoice:",Be),T(!1)},vr=()=>{V(""),D(!0)},na=Be=>{ae(Be),ie(!0)},yr=()=>{ie(!1),ae(null),window.location.reload()},Gr=Be=>{if(!Be){Ve.error("Invalid customer selection");return}V(Be),M(!1),oe(""),D(!0)},Xa=()=>{D(!1),V("")},_n=()=>{M(!1),oe("")},Qa=()=>{try{if(!lt||lt.length===0){Ve.error("No invoices to export");return}const Be=lt.map(me=>{const $e=me.totalAmount||0,De=me.amountPaid||0,We=Math.max(0,$e-De);return{name:me.id||me.name||"",customer:me.customer||"",posting_date:me.date||me.posting_date||"",due_date:"",grand_total:$e,outstanding_amount:We,status:me.status||"",mode_of_payment:me.paymentMethod||"",currency:me.currency||"SAR",company:me.company||""}}),at=t==="all"?"all":t.toLowerCase(),$r=XL(`invoices_${at}`,"csv");YL(Be,$r),Ve.success(`Exported ${Be.length} invoices successfully`)}catch(Be){console.error("Export error:",Be),Ve.error(`Failed to export invoices: ${Be.message}`)}};return r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 font-inconsolata",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Invoice History"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:vr,className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsx("span",{children:"Multi Return"})]}),a.jsxs("button",{onClick:Qa,className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(zy,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[a.jsx("div",{className:"mb-6 w-full",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:Tt.map(Be=>a.jsxs("button",{onClick:()=>n(Be.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-xs whitespace-nowrap ${t===Be.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${Be.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[a.jsx(Be.icon,{className:"w-4 h-4"}),a.jsx("span",{children:Be.name}),a.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:re(Be.id)})]},Be.id))})})})}),qe(),Ke(),dt()]}),a.jsx(pu,{invoice:S,isOpen:k,onClose:()=>T(!1),onRefund:qt,onCancel:nr}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),a.jsx("button",{onClick:_n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Kc,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:se,onChange:Be=>oe(Be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Kt&&Kt.length>0?Kt.map(Be=>a.jsxs("button",{onClick:()=>Gr(Be.name||Be.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Be.customer_name||Be.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Be.name||Be.customer_name||"No ID"})]},Be.name||Be.customer_name||Math.random())):se.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',se,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Kt&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:se.trim()?`${Kt.length} of ${(Ze==null?void 0:Ze.length)||0} customers`:`${(Ze==null?void 0:Ze.length)||0} customers total`})})]})]})}),a.jsx(Sx,{customer:G,isOpen:H,onClose:()=>D(!1),onSuccess:Xa,customers:Ze}),a.jsx(es,{})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice History"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:vr,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(rm,{className:"w-4 h-4"}),a.jsx("span",{children:"Multi-Invoice Return"})]}),a.jsxs("button",{onClick:Qa,className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(zy,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})})}),a.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 max-w-none",children:[a.jsx("div",{className:"mb-8 w-full max-w-none",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:Tt.map(Be=>a.jsxs("button",{onClick:()=>n(Be.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===Be.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${Be.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[a.jsx(Be.icon,{className:"w-5 h-5"}),a.jsx("span",{children:Be.name}),a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:re(Be.id)})]},Be.id))})})})}),qe(),Ke(),dt()]}),a.jsx(pu,{invoice:S,isOpen:k,onClose:()=>T(!1),onRefund:qt,onCancel:nr}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),a.jsx("button",{onClick:_n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Kc,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:se,onChange:Be=>oe(Be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Kt&&Kt.length>0?Kt.map(Be=>a.jsxs("button",{onClick:()=>Gr(Be.name||Be.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Be.customer_name||Be.name||"Unknown Customer"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Be.name||Be.customer_name||"No ID"})]},Be.name||Be.customer_name||Math.random())):se.trim()?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',se,'"']})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Kt&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:se.trim()?`${Kt.length} of ${(Ze==null?void 0:Ze.length)||0} customers`:`${(Ze==null?void 0:Ze.length)||0} customers total`})})]})]})}),a.jsx(Sx,{customer:G,isOpen:H,onClose:()=>D(!1),onSuccess:Xa,customers:Ze}),a.jsx(o0,{invoice:ee,isOpen:q,onClose:()=>ie(!1),onSuccess:yr}),a.jsx(fv,{isOpen:J,onClose:tt,onConfirm:be,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${pe==null?void 0:pe.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"}),ne&&Le&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md relative",children:[a.jsx("div",{className:"absolute inset-0 -z-10",onClick:Ut}),a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),a.jsx("button",{onClick:Ut,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Kc,{className:"w-5 h-5"})})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Invoice: ",Le.id]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"What would you like to do with this draft invoice?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>xt(Le),className:"w-full flex items-center justify-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[a.jsx(qd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Go to Cart"})]}),a.jsxs("button",{onClick:()=>ut(Le),className:"w-full flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[a.jsx(Zc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Submit"})]})]})]})]})})]})})}function ZL(){var Le,Z,B,de,xe,fe,z,X,Ae,Ye,ct;const{id:e}=pm(),r=e!=null?e:"",{invoice:t,isLoading:n,error:i}=v_(r),{statistics:l,isLoading:c}=m_((t==null?void 0:t.customer)||null),{posDetails:f}=un(),h=fa(),[d,m]=E.useState(!1),[x,p]=E.useState(null),[b,S]=E.useState(!1),[k,T]=E.useState(!1),[A,M]=E.useState(!1),[H,D]=E.useState(null),[G,V]=E.useState(!1),[se,oe]=E.useState(!1),q=()=>{h("/invoice")},ie=()=>{if(t){if(console.log("Invoice object in detail page:",t),t.status!=="Pending"){Ve.error("Only draft invoices can be deleted");return}oe(!0)}},ee=()=>Ne(null,null,function*(){if(t)try{console.log("Attempting to delete invoice:",t.name||t.id,"Status:",t.status),yield Zx(t.name||t.id),Ve.success(`Draft invoice ${t.name||t.id} deleted successfully`),oe(!1),h("/invoice")}catch(Ze){console.error("Delete error:",Ze),Ve.error(Ze.message||"Failed to delete invoice")}}),ae=()=>{oe(!1)},J=Ze=>{const mt="px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1";switch(Ze){case"Completed":case"Paid":return`${mt} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"Pending":case"Unpaid":return`${mt} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Cancelled":return`${mt} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Refunded":return`${mt} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;default:return mt}},le=()=>Ne(null,null,function*(){var Ze,mt,$t,ur,ve,et,Tt,ge,Xe,lt,gr,Kt;if(!(t!=null&&t.customer)){Ve.error("Customer information not available");return}V(!0);try{const re=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(t.customer)}`);if(!re.ok)throw new Error(`HTTP ${re.status}: ${re.statusText}`);const qe=yield re.json();if(((Ze=qe==null?void 0:qe.message)==null?void 0:Ze.success)!==!1){const Ke=qe.message,dt={id:Ke.name,name:Ke.customer_name,type:((mt=Ke.customer_type)==null?void 0:mt.toLowerCase())==="company"?"company":"individual",email:(($t=Ke.contact_data)==null?void 0:$t.email_id)||Ke.email_id||"",phone:((ur=Ke.contact_data)==null?void 0:ur.mobile_no)||((ve=Ke.contact_data)==null?void 0:ve.phone)||Ke.mobile_no||"",address:{addressType:"Billing",street:((et=Ke.address_data)==null?void 0:et.address_line1)||"",buildingNumber:((Tt=Ke.address_data)==null?void 0:Tt.address_line2)||"",city:((ge=Ke.address_data)==null?void 0:ge.city)||"",state:((Xe=Ke.address_data)==null?void 0:Xe.state)||"",zipCode:((lt=Ke.address_data)==null?void 0:lt.pincode)||"",country:((gr=Ke.address_data)==null?void 0:gr.country)||"Saudi Arabia"},status:"active",preferredPaymentMethod:Ke.payment_method||"Cash",customer_group:Ke.customer_group||"All Customer Groups",territory:Ke.territory||"All Territories",contactPerson:Ke.contact_data?`${Ke.contact_data.first_name||""} ${Ke.contact_data.last_name||""}`.trim()||Ke.customer_name:Ke.customer_name||"",companyName:Ke.customer_type==="Company"?Ke.customer_name:void 0,taxId:Ke.vat_number||"",industry:Ke.industry||"",employeeCount:Ke.employee_count||"",registrationScheme:Ke.registration_scheme||"",registrationNumber:Ke.registration_number||""};D(dt),M(!0)}else throw new Error(((Kt=qe==null?void 0:qe.message)==null?void 0:Kt.error)||"Failed to fetch customer details")}catch(re){console.error("Error fetching customer details:",re),Ve.error(re.message||"Failed to fetch customer details")}finally{V(!1)}}),pe=Ze=>{h(`/invoice/${Ze}`)},ue=Ze=>{console.log("Saving customer:",Ze),M(!1),D(null),Ve.success("Customer updated successfully!")},ne=Ze=>{Ve.success(`${Ze.length} return invoices created successfully`),h("/invoice")},he=()=>!t||!t.items?!1:t.items.some(Ze=>{const mt=Ze.qty||Ze.quantity||0;return(Ze.returned_qty||0)<mt});return n?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})})}):i?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Hd,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error loading invoice: ",i]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})}):t?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:q,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-beveren-200 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(ys,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Invoice ",t.name||t.id]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.posting_date," at ",t.posting_time]})]}),a.jsxs("div",{className:J(t.status),children:[a.jsx(Ko,{size:16}),a.jsx("span",{children:t.status})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"sr-only",children:a.jsx(Vh,{invoice:t})}),a.jsxs("button",{className:"group relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-all duration-200",onClick:()=>Kh(t),children:[a.jsx(Wo,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Print Invoice"})]}),a.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{p("email"),m(!0)},children:[a.jsx(Gy,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via Email"})]}),(f==null?void 0:f.custom_enable_whatsapp)===1||(f==null?void 0:f.custom_enable_whatsapp)==="1"||(f==null?void 0:f.custom_enable_whatsapp)===!0?a.jsxs("button",{className:"group relative p-2 text-green-600 hover:bg-green-100 dark:text-green-400 dark:hover:bg-green-900 rounded-lg transition-all duration-200",onClick:()=>{p("whatsapp"),m(!0)},children:[a.jsx(Vy,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via WhatsApp"})]}):"",(f==null?void 0:f.custom_enable_sms)===1||(f==null?void 0:f.custom_enable_sms)==="1"||(f==null?void 0:f.custom_enable_sms)===!0?a.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{p("sms"),m(!0)},children:[a.jsx(Ky,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via SMS"})]}):"",["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(t.status)&&!t.is_return&&he()&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),a.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:hover:bg-orange-900 rounded-lg transition-all duration-200",onClick:()=>S(!0),children:[a.jsx(zl,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Return Items (Single Invoice)"})]}),a.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-indigo-100 dark:text-indigo-400 dark:hover:bg-indigo-900 rounded-lg transition-all duration-200",onClick:()=>T(!0),children:[a.jsx(rm,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Multi-Invoice Return"})]})]}),t.status==="Pending"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),a.jsxs("button",{className:"group relative p-2 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900 rounded-lg transition-all duration-200",onClick:ie,children:[a.jsx(rm,{size:20}),a.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Delete Draft Invoice"})]})]})]})]})})}),a.jsx("div",{className:"flex-1 pt-20 pb-20 overflow-auto",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"INVOICE"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["#",t.name||t.id]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.company}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(Le=t.company_address_doc)==null?void 0:Le.address_line1}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(Z=t.company_address_doc)==null?void 0:Z.county}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(B=t.company_address_doc)==null?void 0:B.phone})]})]})}),a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Bill To:"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:t.customer}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(de=t.customer_address_doc)==null?void 0:de.address_line1}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(xe=t.customer_address_doc)==null?void 0:xe.email_id}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(fe=t.customer_address_doc)==null?void 0:fe.phone})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.posting_date})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.posting_time})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cashier:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.cashier_name||t.owner})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment:"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.paymentMethod})]})]})})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:(z=t.items)==null?void 0:z.map((Ze,mt)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Ze.item_name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",Ze.item_code]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:Ze.category})]})}),a.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 dark:text-white",children:Ze.qty}),a.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900 dark:text-white",children:_t(Ze.rate,t.currency)}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:_t(Ze.amount,t.currency)})]},mt))})]})}),t.taxes&&t.taxes.length>0&&a.jsxs("div",{className:"px-6 py-4 bg-beveren-50 dark:bg-beveren-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(yE,{className:"w-5 h-5 text-beveren-600 dark:text-beveren-400"}),a.jsx("h4",{className:"text-sm font-semibold text-beveren-900 dark:text-beveren-100",children:"Tax Details"})]}),a.jsxs("div",{className:"space-y-2",children:[t.taxes.map((Ze,mt)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-medium",children:Ze.account_head}),a.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400",children:["(",Ze.rate,"%)"]}),Ze.included_in_print_rate===1&&a.jsx("span",{className:"px-2 py-1 bg-beveren-100 dark:bg-beveren-800 text-beveren-800 dark:text-beveren-200 text-xs rounded-full",children:"Inclusive"})]}),a.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-semibold",children:_t(Ze.tax_amount,t.currency)})]},mt)),a.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-beveren-200 dark:border-beveren-700",children:[a.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-semibold",children:"Total Tax:"}),a.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-bold",children:_t(t.total_taxes_and_charges,t.currency)})]})]})]}),a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700",children:a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-80 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.total,t.currency)})]}),t.total_taxes_and_charges>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.total_taxes_and_charges,t.currency)})]}),t.rounding_adjustment!==0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rounding:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.rounding_adjustment,t.currency)})]}),t.giftCardDiscount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gift Card Discount:"}),a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",_t(t.giftCardDiscount,t.currency)]})]}),a.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-gray-900 dark:text-white",children:"Grand Total:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_t(t.grand_total,t.currency)})]}),t.paid_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Amount:"}),a.jsx("span",{className:"text-beveren-600 dark:text-beveren-400",children:_t(t.paid_amount,t.currency)})]}),t.outstanding_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding:"}),a.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:_t(t.outstanding_amount,t.currency)})]}),t.status==="Refunded"&&t.refundAmount&&a.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-300 dark:border-gray-600 pt-2",children:[a.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Refunded Amount:"}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:_t(t.refundAmount,t.currency)})]})]})})}),t.giftCardCode&&a.jsxs("div",{className:"px-6 py-4 bg-purple-50 dark:bg-purple-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("h4",{className:"text-sm font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Gift Card Applied:"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Code: ",t.giftCardCode]}),a.jsxs("span",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:["-",_t(t.giftCardDiscount,t.currency)]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-orange-50 dark:bg-orange-900/20 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(gs,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),a.jsx("h4",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Payment Details"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Payment Method:"}),a.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-medium",children:t.paymentMethod||"Cash"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Status:"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J(t.status)}`,children:t.status})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Paid Amount:"}),a.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-semibold",children:_t(t.paid_amount||0,t.currency)})]}),t.outstanding_amount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Outstanding:"}),a.jsx("span",{className:"text-red-900 dark:text-red-100 font-semibold",children:_t(t.outstanding_amount,t.currency)})]})]})]})]}),t.notes&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Notes:"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.notes})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[a.jsx(Jn,{size:20}),a.jsx("span",{children:"Customer Details"})]}),a.jsx("button",{onClick:le,disabled:G,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Customer",children:G?a.jsx(Yo,{size:16,className:"animate-spin"}):a.jsx(ql,{size:16})})]})}),a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[a.jsx("div",{children:a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.customer})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(Bl,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.customer_email})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(zd,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.customer_mobile_no})]}),a.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[a.jsx(Bd,{className:"w-4 h-4 text-gray-400 mt-0.5"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(X=t.customer_address_doc)==null?void 0:X.address_line1})]})]}),a.jsx("hr",{className:"border-gray-200 dark:border-gray-600"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qi,{className:"w-5 h-5 text-beveren-600"}),a.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Customer Statistics"})]}),c?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx(Yo,{className:"w-4 h-4 animate-spin text-gray-400"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading statistics..."})]}):l?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-beveren-50 to-beveren-100 dark:from-beveren-900/20 dark:to-beveren-800/20 rounded-lg p-4 border border-beveren-200 dark:border-beveren-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-beveren-600 rounded-lg",children:a.jsx(mi,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-beveren-700 dark:text-beveren-300 font-medium",children:"Total Orders"}),a.jsx("p",{className:"text-xs font-bold text-beveren-900 dark:text-beveren-100",children:l.total_orders})]})]})}),a.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:a.jsx(Ll,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 font-medium",children:"Total Spent"}),a.jsx("p",{className:"text-xs font-small text-orange-900 dark:text-orange-100",children:_t(l.total_spent,t.currency)})]})]})})]}),l.last_visit&&a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(du,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Visit:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(l.last_visit).toLocaleDateString()})]})})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(Hd,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Unable to load customer statistics"})]})]})]})]})})]})})}),d&&a.jsx(Jx,{isOpen:d,onClose:()=>{m(!1),p(null)},cartItems:[],appliedCoupons:[],selectedCustomer:{id:t.customer,name:t.customer,email:((Ae=t.customer_address_doc)==null?void 0:Ae.email_id)||"",phone:((Ye=t.customer_address_doc)==null?void 0:Ye.phone)||"",type:"individual",status:"active",loyaltyPoints:0,totalOrders:0,totalSpent:0,address:{addressType:"Billing",streetName:((ct=t.customer_address_doc)==null?void 0:ct.address_line1)||"",buildingNumber:"",subdivisionName:"",cityName:"",postalCode:"",country:"Saudi Arabia",isPrimary:!0},vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",tags:[]},onCompletePayment:()=>{m(!1),p(null)},onHoldOrder:()=>{m(!1),p(null)},isMobile:!1,isFullPage:!1,initialSharingMode:x,externalInvoiceData:t}),a.jsx(o0,{invoice:t,isOpen:b,onClose:()=>S(!1),onSuccess:pe}),a.jsx(Sx,{customer:(t==null?void 0:t.customer)||"",isOpen:k,onClose:()=>T(!1),onSuccess:ne}),A&&H&&a.jsx(Gl,{customer:H,onClose:()=>{M(!1),D(null)},onSave:ue}),a.jsx(fv,{isOpen:se,onClose:ae,onConfirm:ee,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${(t==null?void 0:t.name)||(t==null?void 0:t.id)}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:a.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Invoice not found"})]})})})}function JL(e){const[r,t]=E.useState([]),[n,i]=E.useState(!0),[l,c]=E.useState(!1),[f,h]=E.useState(null),[d,m]=E.useState(!0),[x,p]=E.useState(0),[b,S]=E.useState(0),[k,T]=E.useState(0),A=100,M=E.useCallback((G=0,V=!1)=>Ne(null,null,function*(){var se;if(!e){t([]),i(!1);return}V?c(!0):i(!0);try{const oe=G*A;console.log(`Fetching customer invoices - customer: ${e}, page: ${G}, start: ${oe}, limit: ${A}`);const q=`&search=${encodeURIComponent(e)}`,ie=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${A}&start=${oe}${q}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Customer invoices response:",{status:ie.status,statusText:ie.statusText,ok:ie.ok}),!ie.ok)throw new Error(`HTTP ${ie.status}: ${ie.statusText}`);const ee=yield ie.json();if(console.log("Customer invoices data:",ee),!ee.message||!ee.message.success)throw new Error(((se=ee.message)==null?void 0:se.error)||ee.error||"Failed to fetch customer invoices");const ae=ee.message.data,J=ae.length,le=ee.message.total_count||0;m(J===A),T(le);const ue=ae.filter(ne=>{const he=ne&&ne.customer;return!!he&&he===e}).map(ne=>{const he=ne.payment_methods||[],Le=ne.mode_of_payment;return{id:ne.name,date:ne.posting_date||new Date().toISOString().split("T")[0],time:ne.posting_time||"00:00:00",cashier:ne.cashier_name||"Unknown",cashierId:ne.cashier||"",customer:ne.customer_name||ne.customer||"Walk-in Customer",customerId:ne.customer||null,items:Array.isArray(ne.items)?ne.items:[],subtotal:Number(ne.net_total)||0,giftCardDiscount:0,giftCardCode:null,taxAmount:Number(ne.total_taxes_and_charges)||0,totalAmount:Number(ne.base_grand_total)||0,paymentMethod:Le||"Cash",payment_methods:he.map(Z=>({mode_of_payment:Z.mode_of_payment,amount:Number(Z.amount)||0})),amountPaid:Number(ne.paid_amount)||0,amountDue:Number(ne.outstanding_amount)||0,changeGiven:Number(ne.change_amount)||0,status:ne.status||"Draft",refundAmount:Number(ne.refund_amount)||0,notes:ne.remarks||"",currency:ne.currency||"USD",customer_address_doc:void 0,company_address_doc:void 0,company:ne.company||"",posting_date:ne.posting_date||"",posting_time:ne.posting_time||"",posProfile:ne.pos_profile||void 0,custom_pos_opening_entry:ne.custom_pos_opening_entry||void 0,name:ne.name,custom_zatca_submit_status:ne.custom_zatca_submit_status||void 0}});V?(t(ne=>[...ne,...ue]),S(ne=>ne+ue.length)):(t(ue),S(ue.length)),p(G),h(null)}catch(oe){console.error("Error fetching customer invoices:",oe),h(oe.message||"Unknown error occurred")}finally{i(!1),c(!1)}}),[e]),H=E.useCallback(()=>{!l&&d&&e&&M(x+1,!0)},[x,l,d,M,e]),D=E.useCallback(()=>{e&&(p(0),S(0),m(!0),M(0,!1))},[M,e]);return E.useEffect(()=>{e?M(0,!1):(t([]),i(!1))},[M,e]),{invoices:r,isLoading:n,isLoadingMore:l,error:f,hasMore:d,totalLoaded:b,totalCount:k,loadMore:H,refetch:D}}function W3({isOpen:e,onClose:r,invoice:t,onGoToCart:n,onSubmitDirect:i}){return!e||!t?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Ha,{size:20})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Invoice:"}),a.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.id})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"What would you like to do with this draft invoice?"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>n(t),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(qd,{size:20}),a.jsx("span",{children:"Go to Cart"})]}),i&&a.jsxs("button",{onClick:()=>i(t),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Zc,{size:20}),a.jsx("span",{children:"Submit"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"})})]})})}function eU(){const e=fa(),r=bu("(max-width: 1024px)"),[t,n]=E.useState(""),[i,l]=E.useState("all"),[c,f]=E.useState("all"),[h,d]=E.useState(null),[m,x]=E.useState(!1),[p,b]=E.useState(!1),[S,k]=E.useState(null),[T,A]=E.useState(!1),[M,H]=E.useState(null),[D,G]=E.useState(!1),[V,se]=E.useState(null),{id:oe}=pm(),{customer:q,isLoadingC:ie,errorC:ee}=KP(oe),{invoices:ae,isLoading:J,error:le,hasMore:pe,totalLoaded:ue,loadMore:ne}=JL((q==null?void 0:q.name)||""),{posDetails:he}=un(),Le=ve=>c==="all"?!0:c==="today"?hv(ve):c==="week"?mv(ve):c==="month"?gv(ve):c==="year"?pv(ve):!0,Z=E.useMemo(()=>J||le||!q?[]:ae.filter(ve=>{const et=t===""||ve.id.toLowerCase().includes(t.toLowerCase()),Tt=i==="all"||ve.status===i,ge=Le(ve.date);return et&&Tt&&ge}),[ae,t,i,c,J,le,q]);console.log("CustomerPageDetails: Filtered customer invoices:",{customerInvoicesCount:Z.length,customerInvoices:Z});const B=ve=>{const et="px-2 py-1 rounded-full text-xs font-medium";switch((ve==null?void 0:ve.toLowerCase())||""){case"paid":return`${et} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${et} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${et} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${et} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${et} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${et} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${et} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${et} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${et} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${et} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${et} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${et} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${et} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},de=ve=>!ve||!ve.items?(console.log("No invoice or items found for:",ve==null?void 0:ve.id),!1):ve.items.some(Tt=>{const ge=Tt.qty||Tt.quantity||0;return(Tt.returned_qty||0)<ge}),xe=ve=>{e(`/invoice/${ve.id}`),d(ve),x(!0)},fe=ve=>{mt(ve),x(!1)},z=ve=>{if(ve.status!=="Draft"){Ve.error("Only draft invoices can be edited");return}se(ve),G(!0)},X=ve=>Ne(null,null,function*(){try{(yield Dk(ve.id))&&(G(!1),se(null),e("/"))}catch(et){console.error("Error going to cart:",et),Ve.error(et.message||"Failed to add items to cart")}}),Ae=ve=>Ne(null,null,function*(){try{yield k4(ve.id),Ve.success(`Draft invoice ${ve.id} submitted successfully`),G(!1),se(null),window.location.reload()}catch(et){console.error("Error submitting draft invoice:",et);const Tt=hu(et,"Failed to submit draft invoice");Ve.error(Tt)}}),Ye=()=>{G(!1),se(null)},ct=ve=>{k(ve),b(!0)},Ze=()=>{b(!1),k(null),window.location.reload()},mt=ve=>Ne(null,null,function*(){try{const et=yield Rm(ve);e(`/invoice/${et.return_invoice}`),Ve.success(`Invoice returned: ${et.return_invoice}`)}catch(et){Ve.error(et.message||"Failed to return invoice")}}),$t=ve=>{console.log("Saving customer:",ve),A(!1),H(null)},ur=E.useMemo(()=>{const ve=Z.length,et=Z.reduce((Xe,lt)=>Xe+lt.totalAmount,0),Tt=Z.filter(Xe=>Xe.status==="Unpaid"||Xe.status==="Overdue").reduce((Xe,lt)=>Xe+lt.totalAmount,0),ge=ve>0?et/ve:0;return{totalInvoices:ve,totalRevenue:et,outstandingAmount:Tt,avgOrderValue:ge}},[Z]);return ie?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customer details..."})]})}):ee&&!q?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customer"}),a.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:(ee==null?void 0:ee.message)||"Failed to load customer details"}),a.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Go Back"})]})}):q?r?a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(ys,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:q.customer_name||q.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Customer ID: ",q.name]})]})]}),a.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",q),H(q),A(!0)},className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center",children:a.jsx(Jn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q.customer_name||q.name}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Bl,{className:"w-3 h-3"}),a.jsx("span",{children:q.email||"No email provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(zd,{className:"w-3 h-3"}),a.jsx("span",{children:q.phone||"No phone provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Bd,{className:"w-3 h-3"}),a.jsx("span",{children:q.territory||"No territory specified"})]})]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ur.totalInvoices})]}),a.jsx(Fl,{className:"w-6 h-6 text-beveren-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_t(ur.totalRevenue,(he==null?void 0:he.currency)||"USD")})]}),a.jsx(Ll,{className:"w-6 h-6 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_t(ur.outstandingAmount,(he==null?void 0:he.currency)||"USD")})]}),a.jsx(Vo,{className:`w-6 h-6 ${ur.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Avg Order"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_t(ur.avgOrderValue,(he==null?void 0:he.currency)||"USD")})]}),a.jsx(qi,{className:"w-6 h-6 text-blue-600"})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:ve=>n(ve.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{value:i,onChange:ve=>l(ve.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:c,onChange:ve=>f(ve.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",Z.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:Z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):Z.map(ve=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ve.id}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ve.date," ",ve.time]})]})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(ve.totalAmount,ve.currency)})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:B(ve.status),children:ve.status})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>xe(ve),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),ve.status==="Draft"&&a.jsx("button",{onClick:()=>z(ve),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ve.status)&&!ve.is_return&&de(ve)&&a.jsx("button",{onClick:()=>ct(ve),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},ve.id))})]})})]}),pe&&a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx("button",{onClick:ne,disabled:J,className:`px-4 py-2 rounded-lg font-medium transition-colors text-sm ${J?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:J?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More (${ue} loaded)`})}),!pe&&ue>0&&a.jsx("div",{className:"text-center mt-4 py-2",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["All ",ue," customer invoices loaded"]})})]}),a.jsx(es,{}),a.jsx(pu,{invoice:h,isOpen:m,onClose:()=>x(!1),onRefund:fe,onCancel:ve=>{console.log("Invoice cancelled:",ve),x(!1)}}),a.jsx(o0,{invoice:S,isOpen:p,onClose:()=>b(!1),onSuccess:Ze}),T&&a.jsx(Gl,{customer:M,onClose:()=>{A(!1),H(null)},onSave:$t}),a.jsx(W3,{isOpen:D,onClose:Ye,invoice:V,onGoToCart:X,onSubmitDirect:Ae})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(ys,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q.customer_name||q.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer ID: ",q.name]})]})]}),a.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",q),H(q),A(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{children:"Update Customer"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-auto pt-20 ml-20",children:[a.jsxs("div",{className:"px-6 py-8 max-w-none",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center",children:a.jsx(Jn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:q.customer_name||q.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Bl,{className:"w-4 h-4"}),a.jsx("span",{children:q.email||"No email provided"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(zd,{className:"w-4 h-4"}),a.jsx("span",{children:q.phone||"No phone provided"})]})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Bd,{className:"w-4 h-4"}),a.jsx("span",{children:q.territory||"No territory specified"})]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("span",{children:["Customer Group: ",q.customer_group]})}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("span",{children:["Type: ",q.type]})})]})]}),a.jsxs("div",{className:"text-right space-y-1",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})}),q.creation&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(jm,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",new Date(q.creation).toLocaleDateString()]})]})}),q.modified&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(du,{className:"w-4 h-4"}),a.jsxs("span",{children:["Updated: ",new Date(q.modified).toLocaleDateString()]})]})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ur.totalInvoices})]}),a.jsx(Fl,{className:"w-8 h-8 text-beveren-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ur.totalRevenue,(he==null?void 0:he.currency)||"USD")})]}),a.jsx(Ll,{className:"w-8 h-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Balance"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ur.outstandingAmount,(he==null?void 0:he.currency)||"USD")})]}),a.jsx(Vo,{className:`w-8 h-8 ${ur.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_t(ur.avgOrderValue,(he==null?void 0:he.currency)||"USD")})]}),a.jsx(qi,{className:"w-8 h-8 text-blue-600"})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:ve=>n(ve.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("select",{value:i,onChange:ve=>l(ve.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Unpaid",children:"Unpaid"}),a.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Return",children:"Return"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:c,onChange:ve=>f(ve.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",Z.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(he==null?void 0:he.is_zatca_enabled)&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:Z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:he!=null&&he.is_zatca_enabled?8:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):Z.map(ve=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ve.id}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ve.date," ",ve.time]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ve.customer})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ve.cashier}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:ve.paymentMethod})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_t(ve.totalAmount,ve.currency)}),ve.giftCardDiscount>0&&a.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",_t(ve.giftCardDiscount,ve.currency)," gift card"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:B(ve.status),children:ve.status})}),(he==null?void 0:he.is_zatca_enabled)&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:B(ve.customZatcaSubmitStatus),children:ve.customZatcaSubmitStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>xe(ve),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),ve.status==="Draft"&&a.jsx("button",{onClick:()=>z(ve),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ve.status)&&!ve.is_return&&de(ve)&&a.jsx("button",{onClick:()=>ct(ve),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},ve.id))})]})})]})]}),pe&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx("button",{onClick:ne,disabled:J,className:`px-6 py-3 rounded-lg font-medium transition-colors ${J?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:J?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Loading..."})]}):`Load More Customer Invoices (${ue} loaded)`})}),!pe&&ue>0&&a.jsx("div",{className:"text-center mt-6 py-4",children:a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["All ",ue," customer invoices loaded"]})})]}),a.jsx(pu,{invoice:h,isOpen:m,onClose:()=>x(!1),onRefund:fe,onCancel:ve=>{console.log("Invoice cancelled:",ve),x(!1)}}),a.jsx(o0,{invoice:S,isOpen:p,onClose:()=>b(!1),onSuccess:Ze}),T&&a.jsx(Gl,{customer:M,onClose:()=>{A(!1),H(null)},onSave:$t}),a.jsx(W3,{isOpen:D,onClose:Ye,invoice:V,onGoToCart:X,onSubmitDirect:Ae})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg max-w-md",children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Customer not found"}),a.jsx("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:"The requested customer could not be found."}),a.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded hover:bg-yellow-200 dark:hover:bg-yellow-800",children:"Go Back"})]})})}const yy={barcode:"",barcodeAuto:!1,itemName:"",itemCode:"",itemCodeAuto:!0,uom:"Nos",uomConversions:[],hasBatch:!0,batchNumber:"",batchAuto:!0,expiryType:"months",bestBefore:"",shelfLifeMonths:0,openingStock:0,buyingPrice:0,sellingPrice:0,itemGroup:"Products"},tU=e=>Ne(null,null,function*(){try{const r=yield fetch(e);if(!r.ok)return null;const t=yield r.blob();return new Promise(n=>{const i=new FileReader;i.onload=l=>{var f;const c=new Image;c.crossOrigin="anonymous",c.onload=()=>{const h=document.createElement("canvas");let{width:d,height:m}=c;const x=800;d>m?d>x&&(m=Math.round(m*x/d),d=x):m>x&&(d=Math.round(d*x/m),m=x),h.width=d,h.height=m;const p=h.getContext("2d");if(!p){n(null);return}p.fillStyle="#FFFFFF",p.fillRect(0,0,d,m),p.drawImage(c,0,0,d,m),n(h.toDataURL("image/jpeg",.8))},c.onerror=()=>n(null),c.src=(f=l.target)==null?void 0:f.result},i.onerror=()=>n(null),i.readAsDataURL(t)})}catch(r){return null}}),rU=e=>Ne(null,null,function*(){var r,t,n;try{const i=yield fetch(`https://world.openfoodfacts.org/api/v0/product/${e}.json`,{signal:AbortSignal.timeout(5e3)});if(i.ok){const l=yield i.json();if(l.status===1&&l.product){const c=l.product;return{name:c.product_name||c.product_name_en||null,image_url:c.image_url||c.image_front_url||c.image_small_url||null,shelf_life_months:null,brand:c.brands||null,category:((t=(r=c.categories)==null?void 0:r.split(",")[0])==null?void 0:t.trim())||null}}}try{const l=yield fetch(`https://api.upcitemdb.com/prod/trial/lookup?upc=${e}`,{signal:AbortSignal.timeout(5e3)});if(l.ok){const c=yield l.json();if(c.items&&c.items.length>0){const f=c.items[0];return{name:f.title||null,image_url:((n=f.images)==null?void 0:n[0])||null,shelf_life_months:null,brand:f.brand||null,category:f.category||null}}}}catch(l){}return null}catch(i){return null}}),xy=800,vy=800,aU=.8,nU=e=>new Promise((r,t)=>{const n=new FileReader;n.onload=i=>{var c;const l=new Image;l.onload=()=>{const f=document.createElement("canvas");let{width:h,height:d}=l;h>d?h>xy&&(d=Math.round(d*xy/h),h=xy):d>vy&&(h=Math.round(h*vy/d),d=vy),f.width=h,f.height=d;const m=f.getContext("2d");if(!m){t(new Error("Failed to get canvas context"));return}m.fillStyle="#FFFFFF",m.fillRect(0,0,h,d),m.drawImage(l,0,0,h,d);const x=f.toDataURL("image/jpeg",aU);r(x)},l.onerror=()=>t(new Error("Failed to load image")),l.src=(c=i.target)==null?void 0:c.result},n.onerror=()=>t(new Error("Failed to read file")),n.readAsDataURL(e)}),Y3=["Nos","Kg","Gram","Liter","ML","Box","Pack","Dozen","Piece","Unit"],sU=["Products","Services","Raw Materials","Consumables","Sub Assemblies"];function iU(){const e=fa(),[r]=xC(),t=r.get("barcode")||"",[n,i]=E.useState(t?"add":"list"),[l,c]=E.useState(""),[f,h]=E.useState(!1),[d,m]=E.useState(!1),[x,p]=E.useState(null),[b,S]=E.useState([]),[k,T]=E.useState(!1),[A,M]=E.useState(null),[H,D]=E.useState(!1),[G,V]=E.useState(!1),[se,oe]=E.useState("idle"),[q,ie]=E.useState(je(Y({},yy),{barcode:t})),ee=E.useCallback(z=>Ne(null,null,function*(){if(!(!z||z.length<8)){V(!0),oe("searching");try{if(!navigator.onLine){oe("error"),Ve.warning("No internet connection. Please enter product details manually.",{autoClose:3e3});return}Ve.info("Looking up product info...",{autoClose:2e3,toastId:"barcode-lookup"});const X=yield rU(z);if(X&&X.name){if(oe("found"),ie(Ye=>je(Y({},Ye),{itemName:X.name||Ye.itemName,shelfLifeMonths:X.shelf_life_months||Ye.shelfLifeMonths})),X.image_url){Ve.info("Fetching product image...",{autoClose:1500});try{const Ye=yield tU(X.image_url);Ye&&M(Ye)}catch(Ye){console.log("Could not fetch product image")}}const Ae=X.brand?` (${X.brand})`:"";Ve.success(`Found: ${X.name}${Ae}`,{autoClose:3e3})}else oe("not_found"),Ve.info("Product not found in database. Please enter details manually.",{autoClose:3e3})}catch(X){console.error("Barcode lookup error:",X),oe("error"),Ve.warning("Could not lookup product. Please enter details manually.",{autoClose:3e3})}finally{V(!1)}}}),[]),ae=E.useCallback(z=>Ne(null,null,function*(){var X;if(n==="add"&&!q.barcodeAuto){console.log("USB Scanner detected barcode for item:",z),Ve.info(`Scanned: ${z}`,{autoClose:1500}),ie(Ae=>je(Y({},Ae),{barcode:z,barcodeAuto:!1})),p(null);try{if((X=(yield(yield fetch("/api/method/klik_pos.api.item.check_barcode_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:z}),credentials:"include"})).json()).message)!=null&&X.exists){p(`Barcode "${z}" is already assigned to another item`),Ve.error(`Barcode "${z}" already exists!`);return}else Ve.success(`Barcode "${z}" is available`)}catch(Ae){console.error("Error checking barcode:",Ae)}yield ee(z)}}),[n,q.barcodeAuto,ee]);p_({onBarcodeScanned:ae,enabled:n==="add",minLength:4,maxTimeBetweenChars:50});const J=()=>Ne(null,null,function*(){var z;T(!0);try{const Ae=yield(yield fetch("/api/method/klik_pos.api.item.get_items_with_balance_and_price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:200,offset:0}),credentials:"include"})).json();if((z=Ae.message)!=null&&z.items&&Ae.message.items.length>0){const Ye=Ae.message.items.map(ct=>({name:ct.id,item_code:ct.id,item_name:ct.name,barcode:ct.barcode||"",image:ct.image||""}));S(Ye);return}throw new Error("Primary API returned no items")}catch(X){console.error("Primary fetch failed, trying fallback:",X);try{const Ye=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Item",fields:["name","item_code","item_name","image"],filters:{disabled:0},limit_page_length:200,order_by:"modified desc"}),credentials:"include"})).json();Ye.message&&Ye.message.length>0?S(Ye.message):(console.log("No items found in fallback either"),S([]))}catch(Ae){console.error("Fallback fetch also failed:",Ae),Ve.error("Failed to load items"),S([])}}finally{T(!1)}});E.useEffect(()=>{n==="list"&&J()},[n]),E.useEffect(()=>{t||J()},[]);const le=z=>Ne(null,null,function*(){var X;if(!z.trim())return!1;try{return((X=(yield(yield fetch("/api/method/klik_pos.api.item.check_barcode_exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:z}),credentials:"include"})).json()).message)==null?void 0:X.exists)===!0}catch(Ae){return console.error("Error checking barcode:",Ae),!1}}),pe=z=>Ne(null,null,function*(){if(h(!1),ie(Ae=>je(Y({},Ae),{barcode:z,barcodeAuto:!1})),p(null),yield le(z)){p(`Barcode "${z}" is already assigned to another item`),Ve.error(`Barcode "${z}" already exists!`);return}else Ve.success(`Barcode "${z}" scanned successfully`);yield ee(z)}),ue=z=>Ne(null,null,function*(){ie(X=>je(Y({},X),{barcode:z,barcodeAuto:!1})),p(null),oe("idle"),z.trim().length>=8&&(yield le(z))&&p(`Barcode "${z}" is already assigned to another item`)}),ne=()=>Ne(null,null,function*(){q.barcode&&q.barcode.length>=8&&!x&&(yield ee(q.barcode))}),he=z=>Ne(null,null,function*(){var Ae;const X=(Ae=z.target.files)==null?void 0:Ae[0];if(X){if(!X.type.startsWith("image/")){Ve.error("Please select an image file");return}if(X.size>10*1024*1024){Ve.error("Image is too large. Max 10MB allowed.");return}D(!0);try{const Ye=yield nU(X);M(Ye),Ve.success("Image uploaded and optimized")}catch(Ye){console.error("Image optimization error:",Ye),Ve.error("Failed to process image")}finally{D(!1)}}}),Le=()=>{M(null)},Z=()=>{ie(z=>je(Y({},z),{uomConversions:[...z.uomConversions,{uom:"",conversionFactor:1}]}))},B=z=>{ie(X=>je(Y({},X),{uomConversions:X.uomConversions.filter((Ae,Ye)=>Ye!==z)}))},de=(z,X,Ae)=>{ie(Ye=>je(Y({},Ye),{uomConversions:Ye.uomConversions.map((ct,Ze)=>Ze===z?je(Y({},ct),{[X]:Ae}):ct)}))},xe=z=>Ne(null,null,function*(){var X,Ae,Ye;if(z.preventDefault(),!q.itemName.trim()){Ve.error("Item name is required");return}if(x){Ve.error("Please fix the barcode error before saving");return}q.sellingPrice<q.buyingPrice&&Ve.warning("Selling price is less than buying price"),m(!0);try{let ct=q.itemCode;(q.itemCodeAuto||!ct.trim())&&(ct="");let Ze=q.batchNumber;q.hasBatch&&q.batchAuto&&(Ze="");let mt=0,$t=q.bestBefore||void 0;if(q.hasBatch){if(q.expiryType==="months"&&q.shelfLifeMonths>0){mt=q.shelfLifeMonths*30;const ge=new Date;ge.setDate(ge.getDate()+mt),$t=ge.toISOString().split("T")[0]}else if(q.expiryType==="date"&&q.bestBefore){const ge=new Date,Xe=new Date(q.bestBefore);mt=Math.ceil((Xe.getTime()-ge.getTime())/(1e3*60*60*24)),mt<0&&(mt=0),$t=q.bestBefore}}const ur=q.barcodeAuto?"__USE_ITEM_CODE__":q.barcode||void 0,et=yield(yield fetch("/api/method/klik_pos.api.item.create_item_with_barcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_name:q.itemName,item_code:ct||void 0,item_group:q.itemGroup,stock_uom:q.uom,barcode:ur,use_item_code_as_barcode:q.barcodeAuto?1:0,has_batch_no:q.hasBatch?1:0,has_expiry_date:q.hasBatch&&(q.shelfLifeMonths>0||q.bestBefore)?1:0,shelf_life_in_days:mt>0?mt:void 0,selling_price:q.sellingPrice,buying_price:q.buyingPrice,opening_stock:q.openingStock,batch_no:q.hasBatch&&!q.batchAuto?Ze:void 0,expiry_date:$t,image_data:A||void 0}),credentials:"include"})).json();if(et.exc||et.exception||et._server_messages){let ge="Failed to create item";if(et._server_messages)try{const Xe=JSON.parse(et._server_messages);Xe.length>0&&(ge=JSON.parse(Xe[0]).message||ge)}catch(Xe){ge=et.exc||et.exception||ge}else ge=et.exc||et.exception||ge;throw new Error(ge)}if(!((X=et.message)!=null&&X.success))throw new Error(((Ae=et.message)==null?void 0:Ae.message)||"Failed to create item");const Tt=(Ye=et.message)==null?void 0:Ye.item_code;Ve.success(`Item "${q.itemName}" created successfully!`),ie(yy),M(null),oe("idle"),Tt?e(`/items/${encodeURIComponent(Tt)}`):i("list")}catch(ct){console.error("Error creating item:",ct);const Ze=ct instanceof Error?ct.message:"Failed to create item";Ve.error(Ze)}finally{m(!1)}}),fe=b.filter(z=>{var X,Ae,Ye;return((X=z.item_name)==null?void 0:X.toLowerCase().includes(l.toLowerCase()))||((Ae=z.item_code)==null?void 0:Ae.toLowerCase().includes(l.toLowerCase()))||((Ye=z.barcode)==null?void 0:Ye.toLowerCase().includes(l.toLowerCase()))});return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[n==="add"&&a.jsx("button",{onClick:()=>{ie(yy),p(null),M(null),i("list")},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(ys,{size:20})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mi,{className:"text-beveren-600",size:24}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n==="list"?"Items":"Add New Item"})]})]}),n==="list"&&a.jsxs("button",{onClick:()=>i("add"),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(Wi,{size:18}),a.jsx("span",{children:"Add Item"})]})]})}),a.jsx("div",{className:"p-4",children:n==="list"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:l,onChange:z=>c(z.target.value),placeholder:"Search items by name, code, or barcode...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("button",{onClick:J,disabled:k,className:"flex items-center space-x-2 text-beveren-600 hover:text-beveren-700",children:[a.jsx(Yo,{size:16,className:k?"animate-spin":""}),a.jsx("span",{children:"Refresh"})]}),a.jsx("div",{className:"space-y-2",children:k?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading items..."}):fe.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:l?"No items found":"No items yet. Add your first item!"}):fe.map(z=>a.jsx("div",{onClick:()=>e(`/items/${encodeURIComponent(z.item_code)}`),className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-beveren-500 hover:shadow-md transition-all",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[z.image?a.jsx("img",{src:z.image,alt:z.item_name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200 dark:border-gray-600"}):a.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center border border-gray-200 dark:border-gray-600",children:a.jsx(mi,{size:20,className:"text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:z.item_name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",z.item_code]}),z.barcode&&a.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 flex items-center mt-1",children:[a.jsx(Fy,{size:12,className:"mr-1"}),z.barcode]})]})]}),a.jsx(ys,{size:20,className:"text-gray-400 rotate-180"})]})},z.name))})]}):a.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Fy,{size:20,className:"mr-2 text-beveren-600"}),"Barcode"]}),a.jsxs("label",{className:"flex items-center space-x-2 mb-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:q.barcodeAuto,onChange:z=>{ie(X=>je(Y({},X),{barcodeAuto:z.target.checked,barcode:z.target.checked?"":X.barcode})),p(null),oe("idle")},className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate (use Item Code as Barcode)"})]}),!q.barcodeAuto&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",value:q.barcode,onChange:z=>ue(z.target.value),placeholder:"Enter or scan barcode",className:`w-full px-4 py-3 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${x?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),x&&a.jsxs("div",{className:"absolute -bottom-6 left-0 text-red-500 text-xs flex items-center",children:[a.jsx(Vo,{size:12,className:"mr-1"}),x]})]}),a.jsx("button",{type:"button",onClick:ne,disabled:G||!q.barcode||q.barcode.length<8||!!x,className:"px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Lookup product info online",children:G?a.jsx(bn,{size:20,className:"animate-spin text-beveren-600"}):a.jsx(Hy,{size:20,className:"text-beveren-600"})}),a.jsx("button",{type:"button",onClick:()=>h(!0),className:"px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:a.jsx(Gx,{size:20})})]}),x&&a.jsx("div",{className:"h-4"}),se!=="idle"&&a.jsxs("div",{className:`mt-3 flex items-center text-xs ${se==="searching"?"text-blue-500":se==="found"?"text-green-500":se==="not_found"?"text-yellow-500":"text-red-500"}`,children:[se==="searching"&&a.jsxs(a.Fragment,{children:[a.jsx(bn,{size:14,className:"mr-1.5 animate-spin"}),a.jsx("span",{children:"Looking up product info..."})]}),se==="found"&&a.jsxs(a.Fragment,{children:[a.jsx(AE,{size:14,className:"mr-1.5"}),a.jsx("span",{children:"Product info found and filled!"})]}),se==="not_found"&&a.jsxs(a.Fragment,{children:[a.jsx(Vo,{size:14,className:"mr-1.5"}),a.jsx("span",{children:"Product not found in database. Enter details manually."})]}),se==="error"&&a.jsxs(a.Fragment,{children:[a.jsx(XE,{size:14,className:"mr-1.5"}),a.jsx("span",{children:"Could not connect. Check internet and try again."})]})]}),a.jsxs("div",{className:"mt-3 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(qE,{size:14,className:"mr-1.5 text-green-500"}),a.jsx("span",{children:"USB barcode scanner ready - scan to auto-fill product info from internet"})]})]}),q.barcodeAuto&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-sm text-blue-700 dark:text-blue-300",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ko,{size:16,className:"mr-2"}),a.jsx("span",{children:"The unique Item Code will be used as the barcode for this product."})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(am,{size:20,className:"mr-2 text-beveren-600"}),"Item Image (Optional)"]}),a.jsxs("div",{className:"flex flex-col items-center",children:[A?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:A,alt:"Item preview",className:"w-40 h-40 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),a.jsx("button",{type:"button",onClick:Le,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(u4,{size:14})})]}):a.jsxs("label",{className:"w-40 h-40 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-beveren-500 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[H?a.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[a.jsx(bn,{size:32,className:"animate-spin mb-2"}),a.jsx("span",{className:"text-xs",children:"Optimizing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(am,{size:32,className:"text-gray-400 mb-2"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 text-center px-2",children:"Click to upload"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:he,className:"hidden",disabled:H})]}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Image will be optimized to max 800x800px"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:q.itemName,onChange:z=>ie(X=>je(Y({},X),{itemName:z.target.value})),placeholder:"Enter item name",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item Code"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:q.itemCodeAuto,onChange:z=>ie(X=>je(Y({},X),{itemCodeAuto:z.target.checked})),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate"})]})}),!q.itemCodeAuto&&a.jsx("input",{type:"text",value:q.itemCode,onChange:z=>ie(X=>je(Y({},X),{itemCode:z.target.value})),placeholder:"Enter item code",className:"w-full mt-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item Group"}),a.jsx("select",{value:q.itemGroup,onChange:z=>ie(X=>je(Y({},X),{itemGroup:z.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:sU.map(z=>a.jsx("option",{value:z,children:z},z))})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Unit of Measure"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stock UOM"}),a.jsx("select",{value:q.uom,onChange:z=>ie(X=>je(Y({},X),{uom:z.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:Y3.map(z=>a.jsx("option",{value:z,children:z},z))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"UOM Conversions (Optional)"}),a.jsxs("button",{type:"button",onClick:Z,className:"text-beveren-600 hover:text-beveren-700 text-sm flex items-center",children:[a.jsx(Wi,{size:16,className:"mr-1"}),"Add"]})]}),q.uomConversions.map((z,X)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("select",{value:z.uom,onChange:Ae=>de(X,"uom",Ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[a.jsx("option",{value:"",children:"Select UOM"}),Y3.filter(Ae=>Ae!==q.uom).map(Ae=>a.jsx("option",{value:Ae,children:Ae},Ae))]}),a.jsx("span",{className:"text-gray-500",children:"="}),a.jsx("input",{type:"number",value:z.conversionFactor,onChange:Ae=>de(X,"conversionFactor",parseFloat(Ae.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",min:"0.001",step:"0.001"}),a.jsx("span",{className:"text-gray-500 text-sm",children:q.uom}),a.jsx("button",{type:"button",onClick:()=>B(X),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:a.jsx(Ha,{size:16})})]},X))]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Batch & Expiry (Optional)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:q.hasBatch,onChange:z=>ie(X=>je(Y({},X),{hasBatch:z.target.checked})),className:"w-5 h-5 text-beveren-600 rounded"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Enable Batch Tracking"})]}),q.hasBatch&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"ml-8",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:q.batchAuto,onChange:z=>ie(X=>je(Y({},X),{batchAuto:z.target.checked})),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto Generate Batch Number"})]}),!q.batchAuto&&a.jsx("input",{type:"text",value:q.batchNumber,onChange:z=>ie(X=>je(Y({},X),{batchNumber:z.target.value})),placeholder:"Enter batch number",className:"w-full mt-2 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shelf Life / Expiry"}),a.jsxs("div",{className:"flex space-x-4 mb-3",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"expiryType",checked:q.expiryType==="months",onChange:()=>ie(z=>je(Y({},z),{expiryType:"months",bestBefore:""})),className:"w-4 h-4 text-beveren-600"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shelf Life (Months)"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"expiryType",checked:q.expiryType==="date",onChange:()=>ie(z=>je(Y({},z),{expiryType:"date",shelfLifeMonths:0})),className:"w-4 h-4 text-beveren-600"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expiry Date"})]})]}),q.expiryType==="months"?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",min:"0",value:q.shelfLifeMonths||"",onChange:z=>ie(X=>je(Y({},X),{shelfLifeMonths:parseInt(z.target.value)||0})),placeholder:"Enter months",className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"months"})]}),q.shelfLifeMonths>0&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["= ",q.shelfLifeMonths*30," days shelf life"]})]}):a.jsx("input",{type:"date",value:q.bestBefore,onChange:z=>ie(X=>je(Y({},X),{bestBefore:z.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Stock & Pricing"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opening Stock Qty"}),a.jsx("input",{type:"number",value:q.openingStock,onChange:z=>ie(X=>je(Y({},X),{openingStock:parseFloat(z.target.value)||0})),placeholder:"0",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Buying Price"}),a.jsx("input",{type:"number",value:q.buyingPrice,onChange:z=>ie(X=>je(Y({},X),{buyingPrice:parseFloat(z.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Selling Price"}),a.jsx("input",{type:"number",value:q.sellingPrice,onChange:z=>ie(X=>je(Y({},X),{sellingPrice:parseFloat(z.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),q.sellingPrice>0&&q.buyingPrice>0&&a.jsx("div",{className:"mt-3 text-sm",children:a.jsxs("span",{className:`${q.sellingPrice>=q.buyingPrice?"text-green-600":"text-red-600"}`,children:["Margin: ",((q.sellingPrice-q.buyingPrice)/q.buyingPrice*100).toFixed(1),"%"]})})]}),a.jsx("button",{type:"submit",disabled:d||!!x,className:`w-full py-4 rounded-lg font-semibold text-white flex items-center justify-center space-x-2 transition-colors ${d||x?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-beveren-700"}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Yo,{size:20,className:"animate-spin"}),a.jsx("span",{children:"Creating Item..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Kx,{size:20}),a.jsx("span",{children:"Save Item"})]})})]})}),a.jsx(xx,{isOpen:f,onClose:()=>h(!1),onBarcodeDetected:pe}),a.jsx("div",{className:"lg:hidden",children:a.jsx(es,{})})]})}var ah={},Ed={},nh={},X3;function ts(){if(X3)return nh;X3=1,Object.defineProperty(nh,"__esModule",{value:!0});function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var r=function t(n,i){e(this,t),this.data=n,this.text=i.text||n,this.options=i};return nh.default=r,nh}var Q3;function oU(){if(Q3)return Ed;Q3=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.CODE39=void 0;var e=function(){function k(T,A){for(var M=0;M<A.length;M++){var H=A[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(T,H.key,H)}}return function(T,A,M){return A&&k(T.prototype,A),M&&k(T,M),T}}(),r=ts(),t=n(r);function n(k){return k&&k.__esModule?k:{default:k}}function i(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function l(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function c(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var f=function(k){c(T,k);function T(A,M){return i(this,T),A=A.toUpperCase(),M.mod43&&(A+=p(S(A))),l(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,M))}return e(T,[{key:"encode",value:function(){for(var M=m("*"),H=0;H<this.data.length;H++)M+=m(this.data[H])+"0";return M+=m("*"),{data:M,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),T}(t.default),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],d=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(k){return x(b(k))}function x(k){return d[k].toString(2)}function p(k){return h[k]}function b(k){return h.indexOf(k)}function S(k){for(var T=0,A=0;A<k.length;A++)T+=b(k[A]);return T=T%43,T}return Ed.CODE39=f,Ed}var Is={},sh={},ih={},ya={},Z3;function w0(){if(Z3)return ya;Z3=1,Object.defineProperty(ya,"__esModule",{value:!0});var e;function r(h,d,m){return d in h?Object.defineProperty(h,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[d]=m,h}var t=ya.SET_A=0,n=ya.SET_B=1,i=ya.SET_C=2;ya.SHIFT=98;var l=ya.START_A=103,c=ya.START_B=104,f=ya.START_C=105;return ya.MODULO=103,ya.STOP=106,ya.FNC1=207,ya.SET_BY_CODE=(e={},r(e,l,t),r(e,c,n),r(e,f,i),e),ya.SWAP={101:t,100:n,99:i},ya.A_START_CHAR="",ya.B_START_CHAR="",ya.C_START_CHAR="",ya.A_CHARS="[\0-_-]",ya.B_CHARS="[ --]",ya.C_CHARS="(*[0-9]{2}*)",ya.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],ya}var J3;function Km(){if(J3)return ih;J3=1,Object.defineProperty(ih,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=ts(),t=i(r),n=w0();function i(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(x,p){l(this,m);var b=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x.substring(1),p));return b.bytes=x.split("").map(function(S){return S.charCodeAt(0)}),b}return e(m,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var p=this.bytes,b=p.shift()-105,S=n.SET_BY_CODE[b];if(S===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&p.unshift(n.FNC1);var k=m.next(p,1,S);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:m.getBar(b)+k.result+m.getBar((k.checksum+b)%n.MODULO)+m.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var p=this.options.ean128||!1;return typeof p=="string"&&(p=p.toLowerCase()==="true"),p}}],[{key:"getBar",value:function(p){return n.BARS[p]?n.BARS[p].toString():""}},{key:"correctIndex",value:function(p,b){if(b===n.SET_A){var S=p.shift();return S<32?S+64:S-32}else return b===n.SET_B?p.shift()-32:(p.shift()-48)*10+p.shift()-48}},{key:"next",value:function(p,b,S){if(!p.length)return{result:"",checksum:0};var k=void 0,T=void 0;if(p[0]>=200){T=p.shift()-105;var A=n.SWAP[T];A!==void 0?k=m.next(p,b+1,A):((S===n.SET_A||S===n.SET_B)&&T===n.SHIFT&&(p[0]=S===n.SET_A?p[0]>95?p[0]-96:p[0]:p[0]<32?p[0]+96:p[0]),k=m.next(p,b+1,S))}else T=m.correctIndex(p,S),k=m.next(p,b+1,S);var M=m.getBar(T),H=T*b;return{result:M+k.result,checksum:H+k.checksum}}}]),m}(t.default);return ih.default=h,ih}var oh={},ej;function lU(){if(ej)return oh;ej=1,Object.defineProperty(oh,"__esModule",{value:!0});var e=w0(),r=function(f){return f.match(new RegExp("^"+e.A_CHARS+"*"))[0].length},t=function(f){return f.match(new RegExp("^"+e.B_CHARS+"*"))[0].length},n=function(f){return f.match(new RegExp("^"+e.C_CHARS+"*"))[0]};function i(c,f){var h=f?e.A_CHARS:e.B_CHARS,d=c.match(new RegExp("^("+h+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(d)return d[1]+""+l(c.substring(d[1].length));var m=c.match(new RegExp("^"+h+"+"))[0];return m.length===c.length?c:m+String.fromCharCode(f?205:206)+i(c.substring(m.length),!f)}function l(c){var f=n(c),h=f.length;if(h===c.length)return c;c=c.substring(h);var d=r(c)>=t(c);return f+String.fromCharCode(d?206:205)+i(c,d)}return oh.default=function(c){var f=void 0,h=n(c).length;if(h>=2)f=e.C_START_CHAR+l(c);else{var d=r(c)>t(c);f=(d?e.A_START_CHAR:e.B_START_CHAR)+i(c,d)}return f.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(m,x){return""+x})},oh}var tj;function cU(){if(tj)return sh;tj=1,Object.defineProperty(sh,"__esModule",{value:!0});var e=Km(),r=i(e),t=lU(),n=i(t);function i(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(x,p){if(l(this,m),/^[\x00-\x7F\xC8-\xD3]+$/.test(x))var b=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,(0,n.default)(x),p));else var b=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,p));return c(b)}return m}(r.default);return sh.default=h,sh}var lh={},rj;function uU(){if(rj)return lh;rj=1,Object.defineProperty(lh,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=Km(),t=i(r),n=w0();function i(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(x,p){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.A_START_CHAR+x,p))}return e(m,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),m}(t.default);return lh.default=h,lh}var ch={},aj;function dU(){if(aj)return ch;aj=1,Object.defineProperty(ch,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=Km(),t=i(r),n=w0();function i(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(x,p){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.B_START_CHAR+x,p))}return e(m,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),m}(t.default);return ch.default=h,ch}var uh={},nj;function fU(){if(nj)return uh;nj=1,Object.defineProperty(uh,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=Km(),t=i(r),n=w0();function i(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(x,p){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.C_START_CHAR+x,p))}return e(m,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),m}(t.default);return uh.default=h,uh}var sj;function hU(){if(sj)return Is;sj=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.CODE128C=Is.CODE128B=Is.CODE128A=Is.CODE128=void 0;var e=cU(),r=h(e),t=uU(),n=h(t),i=dU(),l=h(i),c=fU(),f=h(c);function h(d){return d&&d.__esModule?d:{default:d}}return Is.CODE128=r.default,Is.CODE128A=n.default,Is.CODE128B=l.default,Is.CODE128C=f.default,Is}var xn={},dh={},Bi={},ij;function j0(){return ij||(ij=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.SIDE_BIN="101",Bi.MIDDLE_BIN="01010",Bi.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Bi.EAN2_STRUCTURE=["LL","LG","GL","GG"],Bi.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Bi.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),Bi}var fh={},hh={},oj;function N0(){if(oj)return hh;oj=1,Object.defineProperty(hh,"__esModule",{value:!0});var e=j0(),r=function(n,i,l){var c=n.split("").map(function(h,d){return e.BINARIES[i[d]]}).map(function(h,d){return h?h[n[d]]:""});if(l){var f=n.length-1;c=c.map(function(h,d){return d<f?h+l:h})}return c.join("")};return hh.default=r,hh}var lj;function Ik(){if(lj)return fh;lj=1,Object.defineProperty(fh,"__esModule",{value:!0});var e=function(){function x(p,b){for(var S=0;S<b.length;S++){var k=b[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(p,k.key,k)}}return function(p,b,S){return b&&x(p.prototype,b),S&&x(p,S),p}}(),r=j0(),t=N0(),n=c(t),i=ts(),l=c(i);function c(x){return x&&x.__esModule?x:{default:x}}function f(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function h(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function d(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var m=function(x){d(p,x);function p(b,S){f(this,p);var k=h(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b,S));return k.fontSize=!S.flat&&S.fontSize>S.width*10?S.width*10:S.fontSize,k.guardHeight=S.height+k.fontSize/2+S.textMargin,k}return e(p,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(S,k){return this.text.substr(S,k)}},{key:"leftEncode",value:function(S,k){return(0,n.default)(S,k)}},{key:"rightText",value:function(S,k){return this.text.substr(S,k)}},{key:"rightEncode",value:function(S,k){return(0,n.default)(S,k)}},{key:"encodeGuarded",value:function(){var S={fontSize:this.fontSize},k={height:this.guardHeight};return[{data:r.SIDE_BIN,options:k},{data:this.leftEncode(),text:this.leftText(),options:S},{data:r.MIDDLE_BIN,options:k},{data:this.rightEncode(),text:this.rightText(),options:S},{data:r.SIDE_BIN,options:k}]}},{key:"encodeFlat",value:function(){var S=[r.SIDE_BIN,this.leftEncode(),r.MIDDLE_BIN,this.rightEncode(),r.SIDE_BIN];return{data:S.join(""),text:this.text}}}]),p}(l.default);return fh.default=m,fh}var cj;function mU(){if(cj)return dh;cj=1,Object.defineProperty(dh,"__esModule",{value:!0});var e=function(){function x(p,b){for(var S=0;S<b.length;S++){var k=b[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(p,k.key,k)}}return function(p,b,S){return b&&x(p.prototype,b),S&&x(p,S),p}}(),r=function x(p,b,S){p===null&&(p=Function.prototype);var k=Object.getOwnPropertyDescriptor(p,b);if(k===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:x(T,b,S)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(S)}},t=j0(),n=Ik(),i=l(n);function l(x){return x&&x.__esModule?x:{default:x}}function c(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function f(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function h(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var d=function(p){var b=p.substr(0,12).split("").map(function(S){return+S}).reduce(function(S,k,T){return T%2?S+k*3:S+k},0);return(10-b%10)%10},m=function(x){h(p,x);function p(b,S){c(this,p),b.search(/^[0-9]{12}$/)!==-1&&(b+=d(b));var k=f(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b,S));return k.lastChar=S.lastChar,k}return e(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===d(this.data)}},{key:"leftText",value:function(){return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var S=this.data.substr(1,6),k=t.EAN13_STRUCTURE[this.data[0]];return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"leftEncode",this).call(this,S,k)}},{key:"rightText",value:function(){return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var S=this.data.substr(7,6);return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"rightEncode",this).call(this,S,"RRRRRR")}},{key:"encodeGuarded",value:function(){var S=r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(S.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(S.push({data:"00"}),S.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),S}}]),p}(i.default);return dh.default=m,dh}var mh={},uj;function gU(){if(uj)return mh;uj=1,Object.defineProperty(mh,"__esModule",{value:!0});var e=function(){function m(x,p){for(var b=0;b<p.length;b++){var S=p[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,p,b){return p&&m(x.prototype,p),b&&m(x,b),x}}(),r=function m(x,p,b){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,p);if(S===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:m(k,p,b)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(b)}},t=Ik(),n=i(t);function i(m){return m&&m.__esModule?m:{default:m}}function l(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function c(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function f(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var h=function(x){var p=x.substr(0,7).split("").map(function(b){return+b}).reduce(function(b,S,k){return k%2?b+S:b+S*3},0);return(10-p%10)%10},d=function(m){f(x,m);function x(p,b){return l(this,x),p.search(/^[0-9]{7}$/)!==-1&&(p+=h(p)),c(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,p,b))}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===h(this.data)}},{key:"leftText",value:function(){return r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var b=this.data.substr(0,4);return r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,b,"LLLL")}},{key:"rightText",value:function(){return r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var b=this.data.substr(4,4);return r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,b,"RRRR")}}]),x}(n.default);return mh.default=d,mh}var gh={},dj;function pU(){if(dj)return gh;dj=1,Object.defineProperty(gh,"__esModule",{value:!0});var e=function(){function p(b,S){for(var k=0;k<S.length;k++){var T=S[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,S,k){return S&&p(b.prototype,S),k&&p(b,k),b}}(),r=j0(),t=N0(),n=c(t),i=ts(),l=c(i);function c(p){return p&&p.__esModule?p:{default:p}}function f(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function h(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function d(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var m=function(b){var S=b.split("").map(function(k){return+k}).reduce(function(k,T,A){return A%2?k+T*9:k+T*3},0);return S%10},x=function(p){d(b,p);function b(S,k){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S,k))}return e(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var k=r.EAN5_STRUCTURE[m(this.data)];return{data:"1011"+(0,n.default)(this.data,k,"01"),text:this.text}}}]),b}(l.default);return gh.default=x,gh}var ph={},fj;function yU(){if(fj)return ph;fj=1,Object.defineProperty(ph,"__esModule",{value:!0});var e=function(){function x(p,b){for(var S=0;S<b.length;S++){var k=b[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(p,k.key,k)}}return function(p,b,S){return b&&x(p.prototype,b),S&&x(p,S),p}}(),r=j0(),t=N0(),n=c(t),i=ts(),l=c(i);function c(x){return x&&x.__esModule?x:{default:x}}function f(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function h(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function d(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var m=function(x){d(p,x);function p(b,S){return f(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b,S))}return e(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var S=r.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,S,"01"),text:this.text}}}]),p}(l.default);return ph.default=m,ph}var $d={},hj;function Lk(){if(hj)return $d;hj=1,Object.defineProperty($d,"__esModule",{value:!0});var e=function(){function x(p,b){for(var S=0;S<b.length;S++){var k=b[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(p,k.key,k)}}return function(p,b,S){return b&&x(p.prototype,b),S&&x(p,S),p}}();$d.checksum=m;var r=N0(),t=l(r),n=ts(),i=l(n);function l(x){return x&&x.__esModule?x:{default:x}}function c(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function f(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function h(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var d=function(x){h(p,x);function p(b,S){c(this,p),b.search(/^[0-9]{11}$/)!==-1&&(b+=m(b));var k=f(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b,S));return k.displayValue=S.displayValue,S.fontSize>S.width*10?k.fontSize=S.width*10:k.fontSize=S.fontSize,k.guardHeight=S.height+k.fontSize/2+S.textMargin,k}return e(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==m(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var S="";return S+="101",S+=(0,t.default)(this.data.substr(0,6),"LLLLLL"),S+="01010",S+=(0,t.default)(this.data.substr(6,6),"RRRRRR"),S+="101",{data:S,text:this.text}}},{key:"guardedEncoding",value:function(){var S=[];return this.displayValue&&S.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),S.push({data:"101"+(0,t.default)(this.data[0],"L"),options:{height:this.guardHeight}}),S.push({data:(0,t.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),S.push({data:"01010",options:{height:this.guardHeight}}),S.push({data:(0,t.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),S.push({data:(0,t.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&S.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),S}}]),p}(i.default);function m(x){var p=0,b;for(b=1;b<11;b+=2)p+=parseInt(x[b]);for(b=0;b<11;b+=2)p+=parseInt(x[b])*3;return(10-p%10)%10}return $d.default=d,$d}var yh={},mj;function xU(){if(mj)return yh;mj=1,Object.defineProperty(yh,"__esModule",{value:!0});var e=function(){function S(k,T){for(var A=0;A<T.length;A++){var M=T[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,M.key,M)}}return function(k,T,A){return T&&S(k.prototype,T),A&&S(k,A),k}}(),r=N0(),t=c(r),n=ts(),i=c(n),l=Lk();function c(S){return S&&S.__esModule?S:{default:S}}function f(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function h(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function d(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var m=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],x=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],p=function(S){d(k,S);function k(T,A){f(this,k);var M=h(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,A));if(M.isValid=!1,T.search(/^[0-9]{6}$/)!==-1)M.middleDigits=T,M.upcA=b(T,"0"),M.text=A.text||""+M.upcA[0]+T+M.upcA[M.upcA.length-1],M.isValid=!0;else if(T.search(/^[01][0-9]{7}$/)!==-1)if(M.middleDigits=T.substring(1,T.length-1),M.upcA=b(M.middleDigits,T[0]),M.upcA[M.upcA.length-1]===T[T.length-1])M.isValid=!0;else return h(M);else return h(M);return M.displayValue=A.displayValue,A.fontSize>A.width*10?M.fontSize=A.width*10:M.fontSize=A.fontSize,M.guardHeight=A.height+M.fontSize/2+A.textMargin,M}return e(k,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var A="";return A+="101",A+=this.encodeMiddleDigits(),A+="010101",{data:A,text:this.text}}},{key:"guardedEncoding",value:function(){var A=[];return this.displayValue&&A.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),A.push({data:"101",options:{height:this.guardHeight}}),A.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),A.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&A.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),A}},{key:"encodeMiddleDigits",value:function(){var A=this.upcA[0],M=this.upcA[this.upcA.length-1],H=x[parseInt(M)][parseInt(A)];return(0,t.default)(this.middleDigits,H)}}]),k}(i.default);function b(S,k){for(var T=parseInt(S[S.length-1]),A=m[T],M="",H=0,D=0;D<A.length;D++){var G=A[D];G==="X"?M+=S[H++]:M+=G}return M=""+k+M,""+M+(0,l.checksum)(M)}return yh.default=p,yh}var gj;function vU(){if(gj)return xn;gj=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.UPCE=xn.UPC=xn.EAN2=xn.EAN5=xn.EAN8=xn.EAN13=void 0;var e=mU(),r=p(e),t=gU(),n=p(t),i=pU(),l=p(i),c=yU(),f=p(c),h=Lk(),d=p(h),m=xU(),x=p(m);function p(b){return b&&b.__esModule?b:{default:b}}return xn.EAN13=r.default,xn.EAN8=n.default,xn.EAN5=l.default,xn.EAN2=f.default,xn.UPC=d.default,xn.UPCE=x.default,xn}var kl={},xh={},zc={},pj;function bU(){return pj||(pj=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.START_BIN="1010",zc.END_BIN="11101",zc.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),zc}var yj;function Uk(){if(yj)return xh;yj=1,Object.defineProperty(xh,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=bU(),t=ts(),n=i(t);function i(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return e(m,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var p=this,b=this.data.match(/.{2}/g).map(function(S){return p.encodePair(S)}).join("");return{data:r.START_BIN+b+r.END_BIN,text:this.text}}},{key:"encodePair",value:function(p){var b=r.BINARIES[p[1]];return r.BINARIES[p[0]].split("").map(function(S,k){return(S==="1"?"111":"1")+(b[k]==="1"?"000":"0")}).join("")}}]),m}(n.default);return xh.default=h,xh}var vh={},xj;function wU(){if(xj)return vh;xj=1,Object.defineProperty(vh,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=Uk(),t=n(r);function n(d){return d&&d.__esModule?d:{default:d}}function i(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function l(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function c(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(m){var x=m.substr(0,13).split("").map(function(p){return parseInt(p,10)}).reduce(function(p,b,S){return p+b*(3-S%2*2)},0);return Math.ceil(x/10)*10-x},h=function(d){c(m,d);function m(x,p){return i(this,m),x.search(/^[0-9]{13}$/)!==-1&&(x+=f(x)),l(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,p))}return e(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),m}(t.default);return vh.default=h,vh}var vj;function jU(){if(vj)return kl;vj=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.ITF14=kl.ITF=void 0;var e=Uk(),r=i(e),t=wU(),n=i(t);function i(l){return l&&l.__esModule?l:{default:l}}return kl.ITF=r.default,kl.ITF14=n.default,kl}var Wn={},bh={},bj;function _0(){if(bj)return bh;bj=1,Object.defineProperty(bh,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=ts(),t=n(r);function n(d){return d&&d.__esModule?d:{default:d}}function i(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function l(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function c(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){c(m,d);function m(x,p){return i(this,m),l(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,p))}return e(m,[{key:"encode",value:function(){for(var p="110",b=0;b<this.data.length;b++){var S=parseInt(this.data[b]),k=S.toString(2);k=h(k,4-k.length);for(var T=0;T<k.length;T++)p+=k[T]=="0"?"100":"110"}return p+="1001",{data:p,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),m}(t.default);function h(d,m){for(var x=0;x<m;x++)d="0"+d;return d}return bh.default=f,bh}var wh={},Od={},wj;function Wm(){if(wj)return Od;wj=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.mod10=e,Od.mod11=r;function e(t){for(var n=0,i=0;i<t.length;i++){var l=parseInt(t[i]);(i+t.length)%2===0?n+=l:n+=l*2%10+Math.floor(l*2/10)}return(10-n%10)%10}function r(t){for(var n=0,i=[2,3,4,5,6,7],l=0;l<t.length;l++){var c=parseInt(t[t.length-1-l]);n+=i[l%i.length]*c}return(11-n%11)%11}return Od}var jj;function NU(){if(jj)return wh;jj=1,Object.defineProperty(wh,"__esModule",{value:!0});var e=_0(),r=n(e),t=Wm();function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){return i(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m+(0,t.mod10)(m),x))}return d}(r.default);return wh.default=f,wh}var jh={},Nj;function _U(){if(Nj)return jh;Nj=1,Object.defineProperty(jh,"__esModule",{value:!0});var e=_0(),r=n(e),t=Wm();function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){return i(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m+(0,t.mod11)(m),x))}return d}(r.default);return jh.default=f,jh}var Nh={},_j;function kU(){if(_j)return Nh;_j=1,Object.defineProperty(Nh,"__esModule",{value:!0});var e=_0(),r=n(e),t=Wm();function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){return i(this,d),m+=(0,t.mod10)(m),m+=(0,t.mod10)(m),l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m,x))}return d}(r.default);return Nh.default=f,Nh}var _h={},kj;function SU(){if(kj)return _h;kj=1,Object.defineProperty(_h,"__esModule",{value:!0});var e=_0(),r=n(e),t=Wm();function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){return i(this,d),m+=(0,t.mod11)(m),m+=(0,t.mod10)(m),l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m,x))}return d}(r.default);return _h.default=f,_h}var Sj;function CU(){if(Sj)return Wn;Sj=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.MSI1110=Wn.MSI1010=Wn.MSI11=Wn.MSI10=Wn.MSI=void 0;var e=_0(),r=m(e),t=NU(),n=m(t),i=_U(),l=m(i),c=kU(),f=m(c),h=SU(),d=m(h);function m(x){return x&&x.__esModule?x:{default:x}}return Wn.MSI=r.default,Wn.MSI10=n.default,Wn.MSI11=l.default,Wn.MSI1010=f.default,Wn.MSI1110=d.default,Wn}var Td={},Cj;function EU(){if(Cj)return Td;Cj=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.pharmacode=void 0;var e=function(){function h(d,m){for(var x=0;x<m.length;x++){var p=m[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,m,x){return m&&h(d.prototype,m),x&&h(d,x),d}}(),r=ts(),t=n(r);function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){i(this,d);var p=l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m,x));return p.number=parseInt(m,10),p}return e(d,[{key:"encode",value:function(){for(var x=this.number,p="";!isNaN(x)&&x!=0;)x%2===0?(p="11100"+p,x=(x-2)/2):(p="100"+p,x=(x-1)/2);return p=p.slice(0,-2),{data:p,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),d}(t.default);return Td.pharmacode=f,Td}var Ad={},Ej;function $U(){if(Ej)return Ad;Ej=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.codabar=void 0;var e=function(){function h(d,m){for(var x=0;x<m.length;x++){var p=m[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,m,x){return m&&h(d.prototype,m),x&&h(d,x),d}}(),r=ts(),t=n(r);function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){i(this,d),m.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(m="A"+m+"A");var p=l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m.toUpperCase(),x));return p.text=p.options.text||p.text.replace(/[A-D]/g,""),p}return e(d,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var x=[],p=this.getEncodings(),b=0;b<this.data.length;b++)x.push(p[this.data.charAt(b)]),b!==this.data.length-1&&x.push("0");return{text:this.text,data:x.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),d}(t.default);return Ad.codabar=f,Ad}var Sl={},kh={},qc={},$j;function OU(){return $j||($j=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],qc.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],qc.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),qc}var Oj;function Fk(){if(Oj)return kh;Oj=1,Object.defineProperty(kh,"__esModule",{value:!0});var e=function(){function d(m,x){for(var p=0;p<x.length;p++){var b=x[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,p){return x&&d(m.prototype,x),p&&d(m,p),m}}(),r=OU(),t=ts(),n=i(t);function i(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(x,p){return l(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,p))}return e(m,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var p=this.data.split("").flatMap(function(T){return r.MULTI_SYMBOLS[T]||T}),b=p.map(function(T){return m.getEncoding(T)}).join(""),S=m.checksum(p,20),k=m.checksum(p.concat(S),15);return{text:this.text,data:m.getEncoding("")+b+m.getEncoding(S)+m.getEncoding(k)+m.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(p){return r.BINARIES[m.symbolValue(p)]}},{key:"getSymbol",value:function(p){return r.SYMBOLS[p]}},{key:"symbolValue",value:function(p){return r.SYMBOLS.indexOf(p)}},{key:"checksum",value:function(p,b){var S=p.slice().reverse().reduce(function(k,T,A){var M=A%b+1;return k+m.symbolValue(T)*M},0);return m.getSymbol(S%47)}}]),m}(n.default);return kh.default=h,kh}var Sh={},Tj;function TU(){if(Tj)return Sh;Tj=1,Object.defineProperty(Sh,"__esModule",{value:!0});var e=function(){function h(d,m){for(var x=0;x<m.length;x++){var p=m[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,m,x){return m&&h(d.prototype,m),x&&h(d,x),d}}(),r=Fk(),t=n(r);function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){return i(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m,x))}return e(d,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),d}(t.default);return Sh.default=f,Sh}var Aj;function AU(){if(Aj)return Sl;Aj=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.CODE93FullASCII=Sl.CODE93=void 0;var e=Fk(),r=i(e),t=TU(),n=i(t);function i(l){return l&&l.__esModule?l:{default:l}}return Sl.CODE93=r.default,Sl.CODE93FullASCII=n.default,Sl}var Rd={},Rj;function RU(){if(Rj)return Rd;Rj=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.GenericBarcode=void 0;var e=function(){function h(d,m){for(var x=0;x<m.length;x++){var p=m[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,m,x){return m&&h(d.prototype,m),x&&h(d,x),d}}(),r=ts(),t=n(r);function n(h){return h&&h.__esModule?h:{default:h}}function i(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function l(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(m,x){return i(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,m,x))}return e(d,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),d}(t.default);return Rd.GenericBarcode=f,Rd}var Pj;function PU(){if(Pj)return ah;Pj=1,Object.defineProperty(ah,"__esModule",{value:!0});var e=oU(),r=hU(),t=vU(),n=jU(),i=CU(),l=EU(),c=$U(),f=AU(),h=RU();return ah.default={CODE39:e.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:t.EAN13,EAN8:t.EAN8,EAN5:t.EAN5,EAN2:t.EAN2,UPC:t.UPC,UPCE:t.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,CODE93:f.CODE93,CODE93FullASCII:f.CODE93FullASCII,GenericBarcode:h.GenericBarcode},ah}var Ch={},Mj;function Ym(){if(Mj)return Ch;Mj=1,Object.defineProperty(Ch,"__esModule",{value:!0});var e=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r};return Ch.default=function(r,t){return e({},r,t)},Ch}var Eh={},Dj;function MU(){if(Dj)return Eh;Dj=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.default=e;function e(r){var t=[];function n(i){if(Array.isArray(i))for(var l=0;l<i.length;l++)n(i[l]);else i.text=i.text||"",i.data=i.data||"",t.push(i)}return n(r),t}return Eh}var $h={},Ij;function DU(){if(Ij)return $h;Ij=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.default=e;function e(r){return r.marginTop=r.marginTop||r.margin,r.marginBottom=r.marginBottom||r.margin,r.marginRight=r.marginRight||r.margin,r.marginLeft=r.marginLeft||r.margin,r}return $h}var Oh={},Th={},Ah={},Lj;function Bk(){if(Lj)return Ah;Lj=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.default=e;function e(r){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&(n=t[n],typeof r[n]=="string"&&(r[n]=parseInt(r[n],10)));return typeof r.displayValue=="string"&&(r.displayValue=r.displayValue!="false"),r}return Ah}var Rh={},Uj;function zk(){if(Uj)return Rh;Uj=1,Object.defineProperty(Rh,"__esModule",{value:!0});var e={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Rh.default=e,Rh}var Fj;function IU(){if(Fj)return Th;Fj=1,Object.defineProperty(Th,"__esModule",{value:!0});var e=Bk(),r=i(e),t=zk(),n=i(t);function i(c){return c&&c.__esModule?c:{default:c}}function l(c){var f={};for(var h in n.default)n.default.hasOwnProperty(h)&&(c.hasAttribute("jsbarcode-"+h.toLowerCase())&&(f[h]=c.getAttribute("jsbarcode-"+h.toLowerCase())),c.hasAttribute("data-"+h.toLowerCase())&&(f[h]=c.getAttribute("data-"+h.toLowerCase())));return f.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),f=(0,r.default)(f),f}return Th.default=l,Th}var Ph={},Mh={},Yn={},Bj;function qk(){if(Bj)return Yn;Bj=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.getTotalWidthOfEncodings=Yn.calculateEncodingAttributes=Yn.getBarcodePadding=Yn.getEncodingHeight=Yn.getMaximumHeightOfEncodings=void 0;var e=Ym(),r=t(e);function t(d){return d&&d.__esModule?d:{default:d}}function n(d,m){return m.height+(m.displayValue&&d.text.length>0?m.fontSize+m.textMargin:0)+m.marginTop+m.marginBottom}function i(d,m,x){if(x.displayValue&&m<d){if(x.textAlign=="center")return Math.floor((d-m)/2);if(x.textAlign=="left")return 0;if(x.textAlign=="right")return Math.floor(d-m)}return 0}function l(d,m,x){for(var p=0;p<d.length;p++){var b=d[p],S=(0,r.default)(m,b.options),k;S.displayValue?k=h(b.text,S,x):k=0;var T=b.data.length*S.width;b.width=Math.ceil(Math.max(k,T)),b.height=n(b,S),b.barcodePadding=i(k,T,S)}}function c(d){for(var m=0,x=0;x<d.length;x++)m+=d[x].width;return m}function f(d){for(var m=0,x=0;x<d.length;x++)d[x].height>m&&(m=d[x].height);return m}function h(d,m,x){var p;if(x)p=x;else if(typeof document!="undefined")p=document.createElement("canvas").getContext("2d");else return 0;p.font=m.fontOptions+" "+m.fontSize+"px "+m.font;var b=p.measureText(d);if(!b)return 0;var S=b.width;return S}return Yn.getMaximumHeightOfEncodings=f,Yn.getEncodingHeight=n,Yn.getBarcodePadding=i,Yn.calculateEncodingAttributes=l,Yn.getTotalWidthOfEncodings=c,Yn}var zj;function LU(){if(zj)return Mh;zj=1,Object.defineProperty(Mh,"__esModule",{value:!0});var e=function(){function f(h,d){for(var m=0;m<d.length;m++){var x=d[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,d,m){return d&&f(h.prototype,d),m&&f(h,m),h}}(),r=Ym(),t=i(r),n=qk();function i(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function f(h,d,m){l(this,f),this.canvas=h,this.encodings=d,this.options=m}return e(f,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var d=0;d<this.encodings.length;d++){var m=(0,t.default)(this.options,this.encodings[d].options);this.drawCanvasBarcode(m,this.encodings[d]),this.drawCanvasText(m,this.encodings[d]),this.moveCanvasDrawing(this.encodings[d])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var d=this.canvas.getContext("2d");d.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,d);var m=(0,n.getTotalWidthOfEncodings)(this.encodings),x=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=m+this.options.marginLeft+this.options.marginRight,this.canvas.height=x,d.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(d.fillStyle=this.options.background,d.fillRect(0,0,this.canvas.width,this.canvas.height)),d.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(d,m){var x=this.canvas.getContext("2d"),p=m.data,b;d.textPosition=="top"?b=d.marginTop+d.fontSize+d.textMargin:b=d.marginTop,x.fillStyle=d.lineColor;for(var S=0;S<p.length;S++){var k=S*d.width+m.barcodePadding;p[S]==="1"?x.fillRect(k,b,d.width,d.height):p[S]&&x.fillRect(k,b,d.width,d.height*p[S])}}},{key:"drawCanvasText",value:function(d,m){var x=this.canvas.getContext("2d"),p=d.fontOptions+" "+d.fontSize+"px "+d.font;if(d.displayValue){var b,S;d.textPosition=="top"?S=d.marginTop+d.fontSize-d.textMargin:S=d.height+d.textMargin+d.marginTop+d.fontSize,x.font=p,d.textAlign=="left"||m.barcodePadding>0?(b=0,x.textAlign="left"):d.textAlign=="right"?(b=m.width-1,x.textAlign="right"):(b=m.width/2,x.textAlign="center"),x.fillText(m.text,b,S)}}},{key:"moveCanvasDrawing",value:function(d){var m=this.canvas.getContext("2d");m.translate(d.width,0)}},{key:"restoreCanvas",value:function(){var d=this.canvas.getContext("2d");d.restore()}}]),f}();return Mh.default=c,Mh}var Dh={},qj;function UU(){if(qj)return Dh;qj=1,Object.defineProperty(Dh,"__esModule",{value:!0});var e=function(){function h(d,m){for(var x=0;x<m.length;x++){var p=m[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,m,x){return m&&h(d.prototype,m),x&&h(d,x),d}}(),r=Ym(),t=i(r),n=qk();function i(h){return h&&h.__esModule?h:{default:h}}function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",f=function(){function h(d,m,x){l(this,h),this.svg=d,this.encodings=m,this.options=x,this.document=x.xmlDocument||document}return e(h,[{key:"render",value:function(){var m=this.options.marginLeft;this.prepareSVG();for(var x=0;x<this.encodings.length;x++){var p=this.encodings[x],b=(0,t.default)(this.options,p.options),S=this.createGroup(m,b.marginTop,this.svg);this.setGroupOptions(S,b),this.drawSvgBarcode(S,b,p),this.drawSVGText(S,b,p),m+=p.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var m=(0,n.getTotalWidthOfEncodings)(this.encodings),x=(0,n.getMaximumHeightOfEncodings)(this.encodings),p=m+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(p,x),this.options.background&&this.drawRect(0,0,p,x,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(m,x,p){var b=p.data,S;x.textPosition=="top"?S=x.fontSize+x.textMargin:S=0;for(var k=0,T=0,A=0;A<b.length;A++)T=A*x.width+p.barcodePadding,b[A]==="1"?k++:k>0&&(this.drawRect(T-x.width*k,S,x.width*k,x.height,m),k=0);k>0&&this.drawRect(T-x.width*(k-1),S,x.width*k,x.height,m)}},{key:"drawSVGText",value:function(m,x,p){var b=this.document.createElementNS(c,"text");if(x.displayValue){var S,k;b.setAttribute("font-family",x.font),b.setAttribute("font-size",x.fontSize),x.fontOptions.includes("bold")&&b.setAttribute("font-weight","bold"),x.fontOptions.includes("italic")&&b.setAttribute("font-style","italic"),x.textPosition=="top"?k=x.fontSize-x.textMargin:k=x.height+x.textMargin+x.fontSize,x.textAlign=="left"||p.barcodePadding>0?(S=0,b.setAttribute("text-anchor","start")):x.textAlign=="right"?(S=p.width-1,b.setAttribute("text-anchor","end")):(S=p.width/2,b.setAttribute("text-anchor","middle")),b.setAttribute("x",S),b.setAttribute("y",k),b.appendChild(this.document.createTextNode(p.text)),m.appendChild(b)}}},{key:"setSvgAttributes",value:function(m,x){var p=this.svg;p.setAttribute("width",m+"px"),p.setAttribute("height",x+"px"),p.setAttribute("x","0px"),p.setAttribute("y","0px"),p.setAttribute("viewBox","0 0 "+m+" "+x),p.setAttribute("xmlns",c),p.setAttribute("version","1.1")}},{key:"createGroup",value:function(m,x,p){var b=this.document.createElementNS(c,"g");return b.setAttribute("transform","translate("+m+", "+x+")"),p.appendChild(b),b}},{key:"setGroupOptions",value:function(m,x){m.setAttribute("fill",x.lineColor)}},{key:"drawRect",value:function(m,x,p,b,S){var k=this.document.createElementNS(c,"rect");return k.setAttribute("x",m),k.setAttribute("y",x),k.setAttribute("width",p),k.setAttribute("height",b),S.appendChild(k),k}}]),h}();return Dh.default=f,Dh}var Ih={},Hj;function FU(){if(Hj)return Ih;Hj=1,Object.defineProperty(Ih,"__esModule",{value:!0});var e=function(){function n(i,l){for(var c=0;c<l.length;c++){var f=l[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,l,c){return l&&n(i.prototype,l),c&&n(i,c),i}}();function r(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var t=function(){function n(i,l,c){r(this,n),this.object=i,this.encodings=l,this.options=c}return e(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n}();return Ih.default=t,Ih}var Gj;function BU(){if(Gj)return Ph;Gj=1,Object.defineProperty(Ph,"__esModule",{value:!0});var e=LU(),r=c(e),t=UU(),n=c(t),i=FU(),l=c(i);function c(f){return f&&f.__esModule?f:{default:f}}return Ph.default={CanvasRenderer:r.default,SVGRenderer:n.default,ObjectRenderer:l.default},Ph}var Hc={},Vj;function Hk(){if(Vj)return Hc;Vj=1,Object.defineProperty(Hc,"__esModule",{value:!0});function e(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function r(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function t(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var n=function(c){t(f,c);function f(h,d){e(this,f);var m=r(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return m.name="InvalidInputException",m.symbology=h,m.input=d,m.message='"'+m.input+'" is not a valid input for '+m.symbology,m}return f}(Error),i=function(c){t(f,c);function f(){e(this,f);var h=r(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return h.name="InvalidElementException",h.message="Not supported type to render on",h}return f}(Error),l=function(c){t(f,c);function f(){e(this,f);var h=r(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return h.name="NoElementException",h.message="No element to render on.",h}return f}(Error);return Hc.InvalidInputException=n,Hc.InvalidElementException=i,Hc.NoElementException=l,Hc}var Kj;function zU(){if(Kj)return Oh;Kj=1,Object.defineProperty(Oh,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},r=IU(),t=c(r),n=BU(),i=c(n),l=Hk();function c(m){return m&&m.__esModule?m:{default:m}}function f(m){if(typeof m=="string")return h(m);if(Array.isArray(m)){for(var x=[],p=0;p<m.length;p++)x.push(f(m[p]));return x}else{if(typeof HTMLCanvasElement!="undefined"&&m instanceof HTMLImageElement)return d(m);if(m&&m.nodeName&&m.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&m instanceof SVGElement)return{element:m,options:(0,t.default)(m),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&m instanceof HTMLCanvasElement)return{element:m,options:(0,t.default)(m),renderer:i.default.CanvasRenderer};if(m&&m.getContext)return{element:m,renderer:i.default.CanvasRenderer};if(m&&(typeof m=="undefined"?"undefined":e(m))==="object"&&!m.nodeName)return{element:m,renderer:i.default.ObjectRenderer};throw new l.InvalidElementException}}function h(m){var x=document.querySelectorAll(m);if(x.length!==0){for(var p=[],b=0;b<x.length;b++)p.push(f(x[b]));return p}}function d(m){var x=document.createElement("canvas");return{element:x,options:(0,t.default)(m),renderer:i.default.CanvasRenderer,afterRender:function(){m.setAttribute("src",x.toDataURL())}}}return Oh.default=f,Oh}var Lh={},Wj;function qU(){if(Wj)return Lh;Wj=1,Object.defineProperty(Lh,"__esModule",{value:!0});var e=function(){function n(i,l){for(var c=0;c<l.length;c++){var f=l[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,l,c){return l&&n(i.prototype,l),c&&n(i,c),i}}();function r(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var t=function(){function n(i){r(this,n),this.api=i}return e(n,[{key:"handleCatch",value:function(l){if(l.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw l.message;else throw l;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(l){try{var c=l.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(f){return this.handleCatch(f),this.api}}}]),n}();return Lh.default=t,Lh}var by,Yj;function HU(){if(Yj)return by;Yj=1;var e=PU(),r=A(e),t=Ym(),n=A(t),i=MU(),l=A(i),c=DU(),f=A(c),h=zU(),d=A(h),m=Bk(),x=A(m),p=qU(),b=A(p),S=Hk(),k=zk(),T=A(k);function A(q){return q&&q.__esModule?q:{default:q}}var M=function(){},H=function(ie,ee,ae){var J=new M;if(typeof ie=="undefined")throw Error("No element to render on was provided.");return J._renderProperties=(0,d.default)(ie),J._encodings=[],J._options=T.default,J._errorHandler=new b.default(J),typeof ee!="undefined"&&(ae=ae||{},ae.format||(ae.format=se()),J.options(ae)[ae.format](ee,ae).render()),J};H.getModule=function(q){return r.default[q]};for(var D in r.default)r.default.hasOwnProperty(D)&&G(r.default,D);function G(q,ie){M.prototype[ie]=M.prototype[ie.toUpperCase()]=M.prototype[ie.toLowerCase()]=function(ee,ae){var J=this;return J._errorHandler.wrapBarcodeCall(function(){ae.text=typeof ae.text=="undefined"?void 0:""+ae.text;var le=(0,n.default)(J._options,ae);le=(0,x.default)(le);var pe=q[ie],ue=V(ee,pe,le);return J._encodings.push(ue),J})}}function V(q,ie,ee){q=""+q;var ae=new ie(q,ee);if(!ae.valid())throw new S.InvalidInputException(ae.constructor.name,q);var J=ae.encode();J=(0,l.default)(J);for(var le=0;le<J.length;le++)J[le].options=(0,n.default)(ee,J[le].options);return J}function se(){return r.default.CODE128?"CODE128":Object.keys(r.default)[0]}M.prototype.options=function(q){return this._options=(0,n.default)(this._options,q),this},M.prototype.blank=function(q){var ie=new Array(q+1).join("0");return this._encodings.push({data:ie}),this},M.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var q;for(var ie in this._renderProperties){q=this._renderProperties[ie];var ee=(0,n.default)(this._options,q.options);ee.format=="auto"&&(ee.format=se()),this._errorHandler.wrapBarcodeCall(function(){var ae=ee.value,J=r.default[ee.format.toUpperCase()],le=V(ae,J,ee);oe(q,le,ee)})}}},M.prototype.render=function(){if(!this._renderProperties)throw new S.NoElementException;if(Array.isArray(this._renderProperties))for(var q=0;q<this._renderProperties.length;q++)oe(this._renderProperties[q],this._encodings,this._options);else oe(this._renderProperties,this._encodings,this._options);return this},M.prototype._defaults=T.default;function oe(q,ie,ee){ie=(0,l.default)(ie);for(var ae=0;ae<ie.length;ae++)ie[ae].options=(0,n.default)(ee,ie[ae].options),(0,f.default)(ie[ae].options);(0,f.default)(ee);var J=q.renderer,le=new J(q.element,ie,ee);le.render(),q.afterRender&&q.afterRender()}return typeof window!="undefined"&&(window.JsBarcode=H),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(q,ie){var ee=[];return jQuery(this).each(function(){ee.push(this)}),H(ee,q,ie)}),by=H,by}var GU=HU();const Xj=Xo(GU),us={labelWidth:50,labelHeight:30,maxWidth:80,minWidth:20,maxHeight:200,minHeight:15};function VU({isOpen:e,onClose:r,barcode:t,itemName:n,itemCode:i,sellingPrice:l}){const[c,f]=E.useState(1),[h,d]=E.useState(us.labelWidth),[m,x]=E.useState(us.labelHeight),[p,b]=E.useState(!0),[S,k]=E.useState(!0),[T,A]=E.useState(!1),[M,H]=E.useState(!1),D=E.useRef(null),G=E.useRef(null),V=E.useCallback(()=>{if(G.current&&t)try{Xj(G.current,t,{format:"CODE128",width:2,height:40,displayValue:!0,fontSize:12,margin:5,background:"#ffffff",lineColor:"#000000"})}catch(oe){console.error("Error generating barcode:",oe)}},[t]);E.useEffect(()=>{e&&setTimeout(V,100)},[e,V]);const se=()=>{H(!0);const oe=window.open("","_blank","width=600,height=400");if(!oe){alert("Please allow pop-ups to print barcodes"),H(!1);return}const q=h,ie=m,ee=document.createElementNS("http://www.w3.org/2000/svg","svg");Xj(ee,t,{format:"CODE128",width:2,height:Math.min(40,ie*.5),displayValue:!0,fontSize:10,margin:2,background:"#ffffff",lineColor:"#000000"});const ae=ee.outerHTML;let J="";for(let le=0;le<c;le++)J+=`
        <div class="label" style="
          width: ${q}mm;
          height: ${ie}mm;
          padding: 1mm;
          box-sizing: border-box;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          page-break-after: always;
          border: 0.1mm dashed #ccc;
          margin-bottom: 1mm;
        ">
          ${S?`<div style="font-size: 8px; font-weight: bold; text-align: center; margin-bottom: 1mm; max-width: 100%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">${n.substring(0,30)}</div>`:""}
          <div style="flex: 1; display: flex; align-items: center; justify-content: center; max-width: 100%; overflow: hidden;">
            ${ae}
          </div>
          ${p&&l?`<div style="font-size: 10px; font-weight: bold; margin-top: 1mm;">Rs. ${l.toFixed(2)}</div>`:""}
        </div>
      `;oe.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Print Barcode - ${n}</title>
        <style>
          @page {
            size: ${q}mm ${ie}mm;
            margin: 0;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
          }
          .label {
            break-inside: avoid;
          }
          @media print {
            .label {
              border: none !important;
              margin-bottom: 0 !important;
            }
          }
        </style>
      </head>
      <body>
        ${J}
        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
              window.close();
            }, 250);
          }
        <\/script>
      </body>
      </html>
    `),oe.document.close(),H(!1)};return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx(Wo,{size:20,className:"mr-2 text-beveren-600"}),"Print Barcode Labels"]}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(Ha,{size:20,className:"text-gray-500"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:n}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",i]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:["Barcode: ",t]})]}),a.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-white",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2 text-center",children:"Preview"}),a.jsxs("div",{ref:D,className:"flex flex-col items-center justify-center mx-auto",style:{width:`${h*3}px`,height:`${m*3}px`,border:"1px dashed #ccc"},children:[S&&a.jsx("p",{className:"text-[8px] font-bold text-center mb-1 truncate max-w-full px-1",children:n.substring(0,30)}),a.jsx("svg",{ref:G,className:"max-w-full"}),p&&l&&a.jsxs("p",{className:"text-[10px] font-bold mt-1",children:["Rs. ",l.toFixed(2)]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Labels"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>f(Math.max(1,c-1)),className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(_m,{size:18})}),a.jsx("input",{type:"number",value:c,onChange:oe=>f(Math.max(1,Math.min(100,parseInt(oe.target.value)||1))),className:"w-20 px-3 py-2 text-center border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:1,max:100}),a.jsx("button",{type:"button",onClick:()=>f(Math.min(100,c+1)),className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(Wi,{size:18})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S,onChange:oe=>k(oe.target.checked),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Item Name"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:oe=>b(oe.target.checked),className:"w-4 h-4 text-beveren-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show Price"})]})]}),a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>A(!T),className:"flex items-center text-sm text-beveren-600 hover:text-beveren-700",children:[a.jsx(x0,{size:16,className:"mr-1"}),T?"Hide":"Show"," Label Size Settings"]}),T&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-2",children:[a.jsx(Z8,{size:14,className:"mr-1"}),a.jsx("span",{children:"Deli 886BW: Width 20-80mm, Height 15-200mm"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Width (mm)"}),a.jsx("input",{type:"number",value:h,onChange:oe=>d(Math.max(us.minWidth,Math.min(us.maxWidth,parseInt(oe.target.value)||us.labelWidth))),className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:us.minWidth,max:us.maxWidth})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Height (mm)"}),a.jsx("input",{type:"number",value:m,onChange:oe=>x(Math.max(us.minHeight,Math.min(us.maxHeight,parseInt(oe.target.value)||us.labelHeight))),className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:us.minHeight,max:us.maxHeight})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Common Sizes"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{w:40,h:30,label:"4030"},{w:50,h:30,label:"5030"},{w:60,h:40,label:"6040"},{w:70,h:40,label:"7040"}].map(oe=>a.jsxs("button",{type:"button",onClick:()=>{d(oe.w),x(oe.h)},className:`px-2 py-1 text-xs rounded border ${h===oe.w&&m===oe.h?"bg-beveren-600 text-white border-beveren-600":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[oe.label,"mm"]},oe.label))})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:se,disabled:M||!t,className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors disabled:opacity-50",children:[a.jsx(Wo,{size:18}),a.jsx("span",{children:M?"Preparing...":`Print ${c} Label${c>1?"s":""}`})]})]})]})}):null}const wy=800,jy=800,KU=.8,WU=e=>new Promise((r,t)=>{const n=new FileReader;n.onload=i=>{var c;const l=new Image;l.onload=()=>{const f=document.createElement("canvas");let{width:h,height:d}=l;h>d?h>wy&&(d=Math.round(d*wy/h),h=wy):d>jy&&(h=Math.round(h*jy/d),d=jy),f.width=h,f.height=d;const m=f.getContext("2d");if(!m){t(new Error("Failed to get canvas context"));return}m.fillStyle="#FFFFFF",m.fillRect(0,0,h,d),m.drawImage(l,0,0,h,d);const x=f.toDataURL("image/jpeg",KU);r(x)},l.onerror=()=>t(new Error("Failed to load image")),l.src=(c=i.target)==null?void 0:c.result},n.onerror=()=>t(new Error("Failed to read file")),n.readAsDataURL(e)}),YU=["Nos","Kg","Gram","Liter","ML","Box","Pack","Dozen","Piece","Unit"],XU=["Products","Services","Raw Materials","Consumables","Sub Assemblies"];function QU(){const e=fa(),{itemCode:r}=pm(),[t,n]=E.useState(null),[i,l]=E.useState(!0),[c,f]=E.useState(!1),[h,d]=E.useState(!1),[m,x]=E.useState(null),[p,b]=E.useState({item_name:"",item_group:"",stock_uom:"",standard_rate:0,valuation_rate:0,shelf_life_in_days:null,barcode:""}),[S,k]=E.useState(null),[T,A]=E.useState(!1),[M,H]=E.useState(!1),D=E.useCallback(()=>Ne(null,null,function*(){var ie;if(r){l(!0);try{const ae=yield(yield fetch("/api/method/frappe.client.get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Item",name:r}),credentials:"include"})).json();if(ae.message){const J=ae.message;let le="";J.barcodes&&J.barcodes.length>0&&(le=J.barcodes[0].barcode||"");let pe=0;try{pe=((ie=(yield(yield fetch("/api/method/klik_pos.api.item.get_item_stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r}),credentials:"include"})).json()).message)==null?void 0:ie.available)||0}catch(he){console.error("Failed to fetch stock")}const ue={item_code:J.item_code,item_name:J.item_name,item_group:J.item_group,stock_uom:J.stock_uom,image:J.image,barcode:le,standard_rate:J.standard_rate||0,valuation_rate:J.valuation_rate||0,has_batch_no:J.has_batch_no||0,has_expiry_date:J.has_expiry_date||0,shelf_life_in_days:J.shelf_life_in_days||null,available_qty:pe};n(ue);const ne={item_name:ue.item_name,item_group:ue.item_group,stock_uom:ue.stock_uom,standard_rate:ue.standard_rate,valuation_rate:ue.valuation_rate,shelf_life_in_days:ue.shelf_life_in_days,barcode:ue.barcode||""};b(ne),x(ne)}}catch(ee){console.error("Error fetching item:",ee),Ve.error("Failed to load item details")}finally{l(!1)}}}),[r]);E.useEffect(()=>{D()},[D]);const G=ie=>Ne(null,null,function*(){var ae;const ee=(ae=ie.target.files)==null?void 0:ae[0];if(ee){if(!ee.type.startsWith("image/")){Ve.error("Please select an image file");return}if(ee.size>10*1024*1024){Ve.error("Image is too large. Max 10MB allowed.");return}A(!0);try{const J=yield WU(ee);k(J),Ve.success("Image uploaded")}catch(J){console.error("Image optimization error:",J),Ve.error("Failed to process image")}finally{A(!1)}}}),V=()=>{k(null)},se=()=>m?S?!0:p.item_name!==m.item_name||p.item_group!==m.item_group||p.stock_uom!==m.stock_uom||p.standard_rate!==m.standard_rate||p.valuation_rate!==m.valuation_rate||p.shelf_life_in_days!==m.shelf_life_in_days||p.barcode!==m.barcode:!1,oe=()=>{m&&b(m),k(null),f(!1)},q=()=>Ne(null,null,function*(){if(!se()){Ve.info("No changes to update"),f(!1);return}if(!p.item_name.trim()){Ve.error("Item name is required");return}d(!0);try{const ie={item_name:p.item_name,item_group:p.item_group,stock_uom:p.stock_uom,standard_rate:p.standard_rate,valuation_rate:p.valuation_rate,shelf_life_in_days:p.shelf_life_in_days||0,has_expiry_date:p.shelf_life_in_days&&p.shelf_life_in_days>0?1:(t==null?void 0:t.has_expiry_date)||0},ee=p.barcode!==(m==null?void 0:m.barcode),J=yield(yield fetch("/api/method/frappe.client.set_value",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"Item",name:r,fieldname:ie}),credentials:"include"})).json();if(J.exc||J.exception)throw new Error(J.exc||J.exception);if(ee&&r)try{yield fetch("/api/method/klik_pos.api.item.update_item_barcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r,barcode:p.barcode||""}),credentials:"include"})}catch(le){console.error("Barcode update failed:",le)}if(S&&r)try{yield fetch("/api/method/klik_pos.api.item.update_item_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_code:r,image_data:S}),credentials:"include"})}catch(le){console.error("Image update failed:",le)}Ve.success("Item updated successfully!"),f(!1),k(null),yield D()}catch(ie){console.error("Error updating item:",ie),Ve.error("Failed to update item")}finally{d(!1)}});return i?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20 flex items-center justify-center",children:a.jsx(bn,{className:"w-8 h-8 animate-spin text-beveren-600"})}):t?a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e("/items"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(ys,{size:20})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mi,{className:"text-beveren-600",size:24}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c?"Edit Item":"Item Details"})]})]}),c?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:oe,className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(Ha,{size:18}),a.jsx("span",{children:"Cancel"})]}),a.jsxs("button",{onClick:q,disabled:h,className:"flex items-center space-x-1 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors disabled:opacity-50",children:[h?a.jsx(bn,{size:18,className:"animate-spin"}):a.jsx(Kx,{size:18}),a.jsx("span",{children:"Update"})]})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[t.barcode&&a.jsxs("button",{onClick:()=>H(!0),className:"flex items-center space-x-1 px-3 py-2 border border-beveren-600 text-beveren-600 rounded-lg hover:bg-beveren-50 dark:hover:bg-beveren-900/20 transition-colors",title:"Print Barcode Labels",children:[a.jsx(Wo,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Print"})]}),a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-1 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[a.jsx(mE,{size:18}),a.jsx("span",{children:"Edit"})]})]})]})}),t.barcode&&a.jsx(VU,{isOpen:M,onClose:()=>H(!1),barcode:t.barcode,itemName:t.item_name,itemCode:t.item_code,sellingPrice:t.standard_rate}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Item Image"}),a.jsx("div",{className:"flex justify-center",children:c?a.jsx("div",{className:"relative",children:S||t.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:S||t.image||"",alt:t.item_name,className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}),S&&a.jsx("button",{type:"button",onClick:V,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(u4,{size:14})}),a.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-beveren-600 text-white rounded-full cursor-pointer hover:bg-beveren-700 shadow-lg",children:[a.jsx(am,{size:16}),a.jsx("input",{type:"file",accept:"image/*",onChange:G,className:"hidden",disabled:T})]})]}):a.jsxs("label",{className:"w-32 h-32 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-beveren-500 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[T?a.jsx(bn,{size:24,className:"animate-spin text-gray-400"}):a.jsxs(a.Fragment,{children:[a.jsx(am,{size:24,className:"text-gray-400 mb-1"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Upload"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:G,className:"hidden",disabled:T})]})}):t.image?a.jsx("img",{src:t.image,alt:t.item_name,className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-600"}):a.jsx("div",{className:"w-32 h-32 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded-lg border-2 border-gray-200 dark:border-gray-600",children:a.jsx(mi,{size:32,className:"text-gray-400"})})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Item Code"}),a.jsx("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white font-mono text-sm",children:t.item_code})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Item Name"}),c?a.jsx("input",{type:"text",value:p.item_name,onChange:ie=>b(ee=>je(Y({},ee),{item_name:ie.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.item_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Item Group"}),c?a.jsx("select",{value:p.item_group,onChange:ie=>b(ee=>je(Y({},ee),{item_group:ie.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:XU.map(ie=>a.jsx("option",{value:ie,children:ie},ie))}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.item_group})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Stock UOM"}),c?a.jsx("select",{value:p.stock_uom,onChange:ie=>b(ee=>je(Y({},ee),{stock_uom:ie.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:YU.map(ie=>a.jsx("option",{value:ie,children:ie},ie))}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.stock_uom})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Fy,{size:16,className:"text-gray-500"}),a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Barcode"})]}),c?a.jsx("input",{type:"text",value:p.barcode,onChange:ie=>b(ee=>je(Y({},ee),{barcode:ie.target.value})),placeholder:"Enter barcode",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white font-mono",children:t.barcode||a.jsx("span",{className:"text-gray-400",children:"No barcode"})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Ll,{size:16,className:"text-gray-500"}),a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Stock & Pricing"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Available Stock"}),a.jsxs("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white flex items-center",children:[a.jsx(v8,{size:16,className:"mr-2 text-gray-500"}),t.available_qty," ",t.stock_uom]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Selling Price"}),c?a.jsx("input",{type:"number",min:"0",step:"0.01",value:p.standard_rate,onChange:ie=>b(ee=>je(Y({},ee),{standard_rate:parseFloat(ie.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.standard_rate.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Buying Price"}),c?a.jsx("input",{type:"number",min:"0",step:"0.01",value:p.valuation_rate,onChange:ie=>b(ee=>je(Y({},ee),{valuation_rate:parseFloat(ie.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.valuation_rate.toFixed(2)})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(jm,{size:16,className:"text-gray-500"}),a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Shelf Life"})]}),c?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",min:"0",value:p.shelf_life_in_days||"",onChange:ie=>b(ee=>je(Y({},ee),{shelf_life_in_days:parseInt(ie.target.value)||null})),placeholder:"Enter days",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"days"})]}):a.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-900 dark:text-white",children:t.shelf_life_in_days?a.jsxs(a.Fragment,{children:[t.shelf_life_in_days," days",t.shelf_life_in_days>=30&&a.jsxs("span",{className:"text-gray-500 ml-2",children:["(~",Math.round(t.shelf_life_in_days/30)," months)"]})]}):a.jsx("span",{className:"text-gray-400",children:"Not set"})})]}),(t.has_batch_no||t.has_expiry_date)&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Tracking"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.has_batch_no?a.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:"Batch Tracked"}):null,t.has_expiry_date?a.jsx("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-sm",children:"Expiry Tracked"}):null]})]})]}),a.jsx("div",{className:"lg:hidden",children:a.jsx(es,{})})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 lg:pb-0 lg:ml-20",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e("/items"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(ys,{size:20})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Item Not Found"})]})}),a.jsx("div",{className:"p-4 text-center text-gray-500",children:"The item could not be found."}),a.jsx("div",{className:"lg:hidden",children:a.jsx(es,{})})]})}const ZU=dC([{path:"/",element:a.jsx(KL,{}),children:[{index:!0,element:a.jsx(WL,{})},{path:"login",element:a.jsx(EC,{})},{path:"pos",element:a.jsx(yn,{element:a.jsx(cM,{})})},{path:"dashboard",element:a.jsx(yn,{element:a.jsx(uM,{})})},{path:"closing_shift",element:a.jsx(yn,{element:a.jsx(cL,{})})},{path:"invoice",element:a.jsx(yn,{element:a.jsx(QL,{})})},{path:"invoice/:id",element:a.jsx(yn,{element:a.jsx(ZL,{})})},{path:"customers",element:a.jsx(yn,{element:a.jsx(Ek,{})})},{path:"customers/:id",element:a.jsx(yn,{element:a.jsx(eU,{})})},{path:"items",element:a.jsx(yn,{element:a.jsx(iU,{})})},{path:"items/:itemCode",element:a.jsx(yn,{element:a.jsx(QU,{})})},{path:"cart",element:a.jsx(yn,{element:a.jsx(mL,{})})},{path:"mobile/customers",element:a.jsx(yn,{element:a.jsx(gL,{})})},{path:"mobile/add-customer",element:a.jsx(yn,{element:a.jsx(pL,{})})},{path:"mobile/payment",element:a.jsx(yn,{element:a.jsx(yL,{})})},{path:"settings",element:a.jsx(yn,{element:a.jsx(uL,{})})},{path:"payment/:invoiceId",element:a.jsx(yn,{element:a.jsx(hL,{})})}]}],{basename:"/klik_pos"}),JU=({children:e})=>a.jsx(i8,{url:"http://localhost:8000",enableSocket:!1,children:e});h6.createRoot(document.getElementById("root")).render(a.jsx(vt.StrictMode,{children:a.jsx(JU,{children:a.jsx(kC,{router:ZU})})}))});export default eF();
